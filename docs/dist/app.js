(()=>{var bYe=Object.create;var qN=Object.defineProperty;var EYe=Object.getOwnPropertyDescriptor;var SYe=Object.getOwnPropertyNames;var CYe=Object.getPrototypeOf,wYe=Object.prototype.hasOwnProperty;var ade=n=>qN(n,"__esModule",{value:!0});var UN=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var FQ=(n,e)=>()=>(n&&(e=n(n=0)),e);var G=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),DQ=(n,e)=>{for(var t in e)qN(n,t,{get:e[t],enumerable:!0})},ude=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of SYe(e))!wYe.call(n,i)&&(t||i!=="default")&&qN(n,i,{get:()=>e[i],enumerable:!(r=EYe(e,i))||r.enumerable});return n},Jn=(n,e)=>ude(ade(qN(n!=null?bYe(CYe(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),AYe=(n=>(e,t)=>n&&n.get(e)||(t=ude(ade({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var OQ=G((W$t,cde)=>{"use strict";d();var lde=Object.getOwnPropertySymbols,TYe=Object.prototype.hasOwnProperty,FYe=Object.prototype.propertyIsEnumerable;function DYe(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function OYe(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}cde.exports=OYe()?Object.assign:function(n,e){for(var t,r=DYe(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)TYe.call(t,o)&&(r[o]=t[o]);if(lde){i=lde(t);for(var a=0;a<i.length;a++)FYe.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r}});var Ade=G(Co=>{"use strict";d();var NQ=OQ(),Eb=60103,fde=60106;Co.Fragment=60107;Co.StrictMode=60108;Co.Profiler=60114;var dde=60109,hde=60110,pde=60112;Co.Suspense=60113;var mde=60115,xde=60116;typeof Symbol=="function"&&Symbol.for&&(zd=Symbol.for,Eb=zd("react.element"),fde=zd("react.portal"),Co.Fragment=zd("react.fragment"),Co.StrictMode=zd("react.strict_mode"),Co.Profiler=zd("react.profiler"),dde=zd("react.provider"),hde=zd("react.context"),pde=zd("react.forward_ref"),Co.Suspense=zd("react.suspense"),mde=zd("react.memo"),xde=zd("react.lazy"));var zd,gde=typeof Symbol=="function"&&Symbol.iterator;function NYe(n){return n===null||typeof n!="object"?null:(n=gde&&n[gde]||n["@@iterator"],typeof n=="function"?n:null)}function k9(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yde={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vde={};function Sb(n,e,t){this.props=n,this.context=e,this.refs=vde,this.updater=t||yde}Sb.prototype.isReactComponent={};Sb.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(k9(85));this.updater.enqueueSetState(this,n,e,"setState")};Sb.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function _de(){}_de.prototype=Sb.prototype;function RQ(n,e,t){this.props=n,this.context=e,this.refs=vde,this.updater=t||yde}var LQ=RQ.prototype=new _de;LQ.constructor=RQ;NQ(LQ,Sb.prototype);LQ.isPureReactComponent=!0;var kQ={current:null},bde=Object.prototype.hasOwnProperty,Ede={key:!0,ref:!0,__self:!0,__source:!0};function Sde(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bde.call(e,r)&&!Ede.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Eb,type:n,key:s,ref:o,props:i,_owner:kQ.current}}function RYe(n,e){return{$$typeof:Eb,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function IQ(n){return typeof n=="object"&&n!==null&&n.$$typeof===Eb}function LYe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Cde=/\/+/g;function MQ(n,e){return typeof n=="object"&&n!==null&&n.key!=null?LYe(""+n.key):e.toString(36)}function $N(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Eb:case fde:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+MQ(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(Cde,"$&/")+"/"),$N(i,e,t,"",function(f){return f})):i!=null&&(IQ(i)&&(i=RYe(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cde,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+MQ(s,a);o+=$N(s,e,t,l,i)}else if(l=NYe(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+MQ(s,a++),o+=$N(s,e,t,l,i);else if(s==="object")throw e=""+n,Error(k9(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function zN(n,e,t){if(n==null)return n;var r=[],i=0;return $N(n,r,"","",function(s){return e.call(t,s,i++)}),r}function kYe(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var wde={current:null};function X2(){var n=wde.current;if(n===null)throw Error(k9(321));return n}var IYe={ReactCurrentDispatcher:wde,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:kQ,IsSomeRendererActing:{current:!1},assign:NQ};Co.Children={map:zN,forEach:function(n,e,t){zN(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return zN(n,function(){e++}),e},toArray:function(n){return zN(n,function(e){return e})||[]},only:function(n){if(!IQ(n))throw Error(k9(143));return n}};Co.Component=Sb;Co.PureComponent=RQ;Co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IYe;Co.cloneElement=function(n,e,t){if(n==null)throw Error(k9(267,n));var r=NQ({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kQ.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)bde.call(e,l)&&!Ede.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:Eb,type:n.type,key:i,ref:s,props:r,_owner:o}};Co.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:hde,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:dde,_context:n},n.Consumer=n};Co.createElement=Sde;Co.createFactory=function(n){var e=Sde.bind(null,n);return e.type=n,e};Co.createRef=function(){return{current:null}};Co.forwardRef=function(n){return{$$typeof:pde,render:n}};Co.isValidElement=IQ;Co.lazy=function(n){return{$$typeof:xde,_payload:{_status:-1,_result:n},_init:kYe}};Co.memo=function(n,e){return{$$typeof:mde,type:n,compare:e===void 0?null:e}};Co.useCallback=function(n,e){return X2().useCallback(n,e)};Co.useContext=function(n,e){return X2().useContext(n,e)};Co.useDebugValue=function(){};Co.useEffect=function(n,e){return X2().useEffect(n,e)};Co.useImperativeHandle=function(n,e,t){return X2().useImperativeHandle(n,e,t)};Co.useLayoutEffect=function(n,e){return X2().useLayoutEffect(n,e)};Co.useMemo=function(n,e){return X2().useMemo(n,e)};Co.useReducer=function(n,e,t){return X2().useReducer(n,e,t)};Co.useRef=function(n){return X2().useRef(n)};Co.useState=function(n){return X2().useState(n)};Co.version="17.0.2"});var ur=G((G$t,Tde)=>{"use strict";d();Tde.exports=Ade()});var m,d=FQ(()=>{m=Jn(ur())});var Lde=G(ko=>{"use strict";d();var Cb,I9,HN,PQ;typeof performance=="object"&&typeof performance.now=="function"?(Fde=performance,ko.unstable_now=function(){return Fde.now()}):(BQ=Date,Dde=BQ.now(),ko.unstable_now=function(){return BQ.now()-Dde});var Fde,BQ,Dde;typeof window=="undefined"||typeof MessageChannel!="function"?(wb=null,jQ=null,qQ=function(){if(wb!==null)try{var n=ko.unstable_now();wb(!0,n),wb=null}catch(e){throw setTimeout(qQ,0),e}},Cb=function(n){wb!==null?setTimeout(Cb,0,n):(wb=n,setTimeout(qQ,0))},I9=function(n,e){jQ=setTimeout(n,e)},HN=function(){clearTimeout(jQ)},ko.unstable_shouldYield=function(){return!1},PQ=ko.unstable_forceFrameRate=function(){}):(Ode=window.setTimeout,Nde=window.clearTimeout,typeof console!="undefined"&&(Rde=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Rde!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),M9=!1,P9=null,VN=-1,UQ=5,$Q=0,ko.unstable_shouldYield=function(){return ko.unstable_now()>=$Q},PQ=function(){},ko.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):UQ=0<n?Math.floor(1e3/n):5},zQ=new MessageChannel,WN=zQ.port2,zQ.port1.onmessage=function(){if(P9!==null){var n=ko.unstable_now();$Q=n+UQ;try{P9(!0,n)?WN.postMessage(null):(M9=!1,P9=null)}catch(e){throw WN.postMessage(null),e}}else M9=!1},Cb=function(n){P9=n,M9||(M9=!0,WN.postMessage(null))},I9=function(n,e){VN=Ode(function(){n(ko.unstable_now())},e)},HN=function(){Nde(VN),VN=-1});var wb,jQ,qQ,Ode,Nde,Rde,M9,P9,VN,UQ,$Q,zQ,WN;function HQ(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<GN(i,e))n[r]=e,n[t]=i,t=r;else break e}}function gp(n){return n=n[0],n===void 0?null:n}function QN(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var s=2*(r+1)-1,o=n[s],a=s+1,l=n[a];if(o!==void 0&&0>GN(o,t))l!==void 0&&0>GN(l,o)?(n[r]=l,n[a]=t,r=a):(n[r]=o,n[s]=t,r=s);else if(l!==void 0&&0>GN(l,t))n[r]=l,n[a]=t,r=a;else break e}}return e}return null}function GN(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var N1=[],ey=[],MYe=1,Hd=null,tf=3,YN=!1,$4=!1,B9=!1;function VQ(n){for(var e=gp(ey);e!==null;){if(e.callback===null)QN(ey);else if(e.startTime<=n)QN(ey),e.sortIndex=e.expirationTime,HQ(N1,e);else break;e=gp(ey)}}function WQ(n){if(B9=!1,VQ(n),!$4)if(gp(N1)!==null)$4=!0,Cb(QQ);else{var e=gp(ey);e!==null&&I9(WQ,e.startTime-n)}}function QQ(n,e){$4=!1,B9&&(B9=!1,HN()),YN=!0;var t=tf;try{for(VQ(e),Hd=gp(N1);Hd!==null&&(!(Hd.expirationTime>e)||n&&!ko.unstable_shouldYield());){var r=Hd.callback;if(typeof r=="function"){Hd.callback=null,tf=Hd.priorityLevel;var i=r(Hd.expirationTime<=e);e=ko.unstable_now(),typeof i=="function"?Hd.callback=i:Hd===gp(N1)&&QN(N1),VQ(e)}else QN(N1);Hd=gp(N1)}if(Hd!==null)var s=!0;else{var o=gp(ey);o!==null&&I9(WQ,o.startTime-e),s=!1}return s}finally{Hd=null,tf=t,YN=!1}}var PYe=PQ;ko.unstable_IdlePriority=5;ko.unstable_ImmediatePriority=1;ko.unstable_LowPriority=4;ko.unstable_NormalPriority=3;ko.unstable_Profiling=null;ko.unstable_UserBlockingPriority=2;ko.unstable_cancelCallback=function(n){n.callback=null};ko.unstable_continueExecution=function(){$4||YN||($4=!0,Cb(QQ))};ko.unstable_getCurrentPriorityLevel=function(){return tf};ko.unstable_getFirstCallbackNode=function(){return gp(N1)};ko.unstable_next=function(n){switch(tf){case 1:case 2:case 3:var e=3;break;default:e=tf}var t=tf;tf=e;try{return n()}finally{tf=t}};ko.unstable_pauseExecution=function(){};ko.unstable_requestPaint=PYe;ko.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=tf;tf=n;try{return e()}finally{tf=t}};ko.unstable_scheduleCallback=function(n,e,t){var r=ko.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:MYe++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,HQ(ey,n),gp(N1)===null&&n===gp(ey)&&(B9?HN():B9=!0,I9(WQ,t-r))):(n.sortIndex=i,HQ(N1,n),$4||YN||($4=!0,Cb(QQ))),n};ko.unstable_wrapCallback=function(n){var e=tf;return function(){var t=tf;tf=e;try{return n.apply(this,arguments)}finally{tf=t}}}});var Ide=G((J$t,kde)=>{"use strict";d();kde.exports=Lde()});var b1e=G(Kd=>{"use strict";d();var KN=ur(),Ha=OQ(),Zl=Ide();function zr(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!KN)throw Error(zr(227));var Mde=new Set,j9={};function z4(n,e){Ab(n,e),Ab(n+"Capture",e)}function Ab(n,e){for(j9[n]=e,n=0;n<e.length;n++)Mde.add(e[n])}var Z2=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),BYe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pde=Object.prototype.hasOwnProperty,Bde={},jde={};function jYe(n){return Pde.call(jde,n)?!0:Pde.call(Bde,n)?!1:BYe.test(n)?jde[n]=!0:(Bde[n]=!0,!1)}function qYe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function UYe(n,e,t,r){if(e===null||typeof e=="undefined"||qYe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nf(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bc={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){bc[n]=new Nf(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];bc[e]=new Nf(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){bc[n]=new Nf(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){bc[n]=new Nf(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){bc[n]=new Nf(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){bc[n]=new Nf(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){bc[n]=new Nf(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){bc[n]=new Nf(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){bc[n]=new Nf(n,5,!1,n.toLowerCase(),null,!1,!1)});var GQ=/[\-:]([a-z])/g;function YQ(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(GQ,YQ);bc[e]=new Nf(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(GQ,YQ);bc[e]=new Nf(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(GQ,YQ);bc[e]=new Nf(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){bc[n]=new Nf(n,1,!1,n.toLowerCase(),null,!1,!1)});bc.xlinkHref=new Nf("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){bc[n]=new Nf(n,1,!1,n.toLowerCase(),null,!0,!0)});function KQ(n,e,t,r){var i=bc.hasOwnProperty(e)?bc[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(UYe(e,t,i,r)&&(t=null),r||i===null?jYe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var H4=KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q9=60103,V4=60106,ty=60107,JQ=60108,U9=60114,XQ=60109,ZQ=60110,JN=60112,$9=60113,XN=60120,ZN=60115,eG=60116,tG=60121,nG=60128,qde=60129,rG=60130,iG=60131;typeof Symbol=="function"&&Symbol.for&&(Ol=Symbol.for,q9=Ol("react.element"),V4=Ol("react.portal"),ty=Ol("react.fragment"),JQ=Ol("react.strict_mode"),U9=Ol("react.profiler"),XQ=Ol("react.provider"),ZQ=Ol("react.context"),JN=Ol("react.forward_ref"),$9=Ol("react.suspense"),XN=Ol("react.suspense_list"),ZN=Ol("react.memo"),eG=Ol("react.lazy"),tG=Ol("react.block"),Ol("react.scope"),nG=Ol("react.opaque.id"),qde=Ol("react.debug_trace_mode"),rG=Ol("react.offscreen"),iG=Ol("react.legacy_hidden"));var Ol,Ude=typeof Symbol=="function"&&Symbol.iterator;function z9(n){return n===null||typeof n!="object"?null:(n=Ude&&n[Ude]||n["@@iterator"],typeof n=="function"?n:null)}var sG;function H9(n){if(sG===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);sG=e&&e[1]||""}return`
`+sG+n}var oG=!1;function eR(n,e){if(!n||oG)return"";oG=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{oG=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?H9(n):""}function $Ye(n){switch(n.tag){case 5:return H9(n.type);case 16:return H9("Lazy");case 13:return H9("Suspense");case 19:return H9("SuspenseList");case 0:case 2:case 15:return n=eR(n.type,!1),n;case 11:return n=eR(n.type.render,!1),n;case 22:return n=eR(n.type._render,!1),n;case 1:return n=eR(n.type,!0),n;default:return""}}function Tb(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ty:return"Fragment";case V4:return"Portal";case U9:return"Profiler";case JQ:return"StrictMode";case $9:return"Suspense";case XN:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ZQ:return(n.displayName||"Context")+".Consumer";case XQ:return(n._context.displayName||"Context")+".Provider";case JN:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ZN:return Tb(n.type);case tG:return Tb(n._render);case eG:e=n._payload,n=n._init;try{return Tb(n(e))}catch{}}return null}function ny(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function $de(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zYe(n){var e=$de(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function tR(n){n._valueTracker||(n._valueTracker=zYe(n))}function zde(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=$de(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function nR(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function aG(n,e){var t=e.checked;return Ha({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Hde(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ny(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vde(n,e){e=e.checked,e!=null&&KQ(n,"checked",e,!1)}function uG(n,e){Vde(n,e);var t=ny(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?lG(n,e.type,t):e.hasOwnProperty("defaultValue")&&lG(n,e.type,ny(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Wde(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function lG(n,e,t){(e!=="number"||nR(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function HYe(n){var e="";return KN.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function cG(n,e){return n=Ha({children:void 0},e),(e=HYe(e.children))&&(n.children=e),n}function Fb(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ny(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function fG(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(zr(91));return Ha({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Qde(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(zr(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(zr(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ny(t)}}function Gde(n,e){var t=ny(e.value),r=ny(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Yde(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var dG={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Kde(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hG(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Kde(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rR,Jde=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==dG.svg||"innerHTML"in n)n.innerHTML=e;else{for(rR=rR||document.createElement("div"),rR.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rR.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function V9(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var W9={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VYe=["Webkit","ms","Moz","O"];Object.keys(W9).forEach(function(n){VYe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),W9[e]=W9[n]})});function Xde(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||W9.hasOwnProperty(n)&&W9[n]?(""+e).trim():e+"px"}function Zde(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Xde(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var WYe=Ha({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pG(n,e){if(e){if(WYe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(zr(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(zr(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(zr(61))}if(e.style!=null&&typeof e.style!="object")throw Error(zr(62))}}function mG(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xG(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gG=null,Db=null,Ob=null;function ehe(n){if(n=cw(n)){if(typeof gG!="function")throw Error(zr(280));var e=n.stateNode;e&&(e=CR(e),gG(n.stateNode,n.type,e))}}function the(n){Db?Ob?Ob.push(n):Ob=[n]:Db=n}function nhe(){if(Db){var n=Db,e=Ob;if(Ob=Db=null,ehe(n),e)for(n=0;n<e.length;n++)ehe(e[n])}}function yG(n,e){return n(e)}function rhe(n,e,t,r,i){return n(e,t,r,i)}function vG(){}var ihe=yG,W4=!1,_G=!1;function bG(){(Db!==null||Ob!==null)&&(vG(),nhe())}function QYe(n,e,t){if(_G)return n(e,t);_G=!0;try{return ihe(n,e,t)}finally{_G=!1,bG()}}function Q9(n,e){var t=n.stateNode;if(t===null)return null;var r=CR(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(zr(231,e,typeof t));return t}var EG=!1;if(Z2)try{Nb={},Object.defineProperty(Nb,"passive",{get:function(){EG=!0}}),window.addEventListener("test",Nb,Nb),window.removeEventListener("test",Nb,Nb)}catch{EG=!1}var Nb;function GYe(n,e,t,r,i,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(p){this.onError(p)}}var G9=!1,iR=null,sR=!1,SG=null,YYe={onError:function(n){G9=!0,iR=n}};function KYe(n,e,t,r,i,s,o,a,l){G9=!1,iR=null,GYe.apply(YYe,arguments)}function JYe(n,e,t,r,i,s,o,a,l){if(KYe.apply(this,arguments),G9){if(G9){var f=iR;G9=!1,iR=null}else throw Error(zr(198));sR||(sR=!0,SG=f)}}function Q4(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function she(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ohe(n){if(Q4(n)!==n)throw Error(zr(188))}function XYe(n){var e=n.alternate;if(!e){if(e=Q4(n),e===null)throw Error(zr(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return ohe(i),n;if(s===r)return ohe(i),e;s=s.sibling}throw Error(zr(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(zr(189))}}if(t.alternate!==r)throw Error(zr(190))}if(t.tag!==3)throw Error(zr(188));return t.stateNode.current===t?n:e}function ahe(n){if(n=XYe(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function uhe(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var lhe,CG,che,fhe,wG=!1,R1=[],ry=null,iy=null,sy=null,Y9=new Map,K9=new Map,J9=[],dhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AG(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function hhe(n,e){switch(n){case"focusin":case"focusout":ry=null;break;case"dragenter":case"dragleave":iy=null;break;case"mouseover":case"mouseout":sy=null;break;case"pointerover":case"pointerout":Y9.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":K9.delete(e.pointerId)}}function X9(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=AG(e,t,r,i,s),e!==null&&(e=cw(e),e!==null&&CG(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ZYe(n,e,t,r,i){switch(e){case"focusin":return ry=X9(ry,n,e,t,r,i),!0;case"dragenter":return iy=X9(iy,n,e,t,r,i),!0;case"mouseover":return sy=X9(sy,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Y9.set(s,X9(Y9.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,K9.set(s,X9(K9.get(s)||null,n,e,t,r,i)),!0}return!1}function eKe(n){var e=G4(n.target);if(e!==null){var t=Q4(e);if(t!==null){if(e=t.tag,e===13){if(e=she(t),e!==null){n.blockedOn=e,fhe(n.lanePriority,function(){Zl.unstable_runWithPriority(n.priority,function(){che(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oR(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=RG(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=cw(t),e!==null&&CG(e),n.blockedOn=t,!1;e.shift()}return!0}function phe(n,e,t){oR(n)&&t.delete(e)}function tKe(){for(wG=!1;0<R1.length;){var n=R1[0];if(n.blockedOn!==null){n=cw(n.blockedOn),n!==null&&lhe(n);break}for(var e=n.targetContainers;0<e.length;){var t=RG(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&R1.shift()}ry!==null&&oR(ry)&&(ry=null),iy!==null&&oR(iy)&&(iy=null),sy!==null&&oR(sy)&&(sy=null),Y9.forEach(phe),K9.forEach(phe)}function Z9(n,e){n.blockedOn===e&&(n.blockedOn=null,wG||(wG=!0,Zl.unstable_scheduleCallback(Zl.unstable_NormalPriority,tKe)))}function mhe(n){function e(i){return Z9(i,n)}if(0<R1.length){Z9(R1[0],n);for(var t=1;t<R1.length;t++){var r=R1[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ry!==null&&Z9(ry,n),iy!==null&&Z9(iy,n),sy!==null&&Z9(sy,n),Y9.forEach(e),K9.forEach(e),t=0;t<J9.length;t++)r=J9[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<J9.length&&(t=J9[0],t.blockedOn===null);)eKe(t),t.blockedOn===null&&J9.shift()}function aR(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Rb={animationend:aR("Animation","AnimationEnd"),animationiteration:aR("Animation","AnimationIteration"),animationstart:aR("Animation","AnimationStart"),transitionend:aR("Transition","TransitionEnd")},TG={},xhe={};Z2&&(xhe=document.createElement("div").style,"AnimationEvent"in window||(delete Rb.animationend.animation,delete Rb.animationiteration.animation,delete Rb.animationstart.animation),"TransitionEvent"in window||delete Rb.transitionend.transition);function uR(n){if(TG[n])return TG[n];if(!Rb[n])return n;var e=Rb[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in xhe)return TG[n]=e[t];return n}var ghe=uR("animationend"),yhe=uR("animationiteration"),vhe=uR("animationstart"),_he=uR("transitionend"),bhe=new Map,FG=new Map,nKe=["abort","abort",ghe,"animationEnd",yhe,"animationIteration",vhe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",_he,"transitionEnd","waiting","waiting"];function DG(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),FG.set(r,e),bhe.set(r,i),z4(i,[r])}}var rKe=Zl.unstable_now;rKe();var xa=8;function Lb(n){if((1&n)!==0)return xa=15,1;if((2&n)!==0)return xa=14,2;if((4&n)!==0)return xa=13,4;var e=24&n;return e!==0?(xa=12,e):(n&32)!==0?(xa=11,32):(e=192&n,e!==0?(xa=10,e):(n&256)!==0?(xa=9,256):(e=3584&n,e!==0?(xa=8,e):(n&4096)!==0?(xa=7,4096):(e=4186112&n,e!==0?(xa=6,e):(e=62914560&n,e!==0?(xa=5,e):n&67108864?(xa=4,67108864):(n&134217728)!==0?(xa=3,134217728):(e=805306368&n,e!==0?(xa=2,e):(1073741824&n)!==0?(xa=1,1073741824):(xa=8,n))))))}function iKe(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sKe(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(zr(358,n))}}function ew(n,e){var t=n.pendingLanes;if(t===0)return xa=0;var r=0,i=0,s=n.expiredLanes,o=n.suspendedLanes,a=n.pingedLanes;if(s!==0)r=s,i=xa=15;else if(s=t&134217727,s!==0){var l=s&~o;l!==0?(r=Lb(l),i=xa):(a&=s,a!==0&&(r=Lb(a),i=xa))}else s=t&~o,s!==0?(r=Lb(s),i=xa):a!==0&&(r=Lb(a),i=xa);if(r===0)return 0;if(r=31-oy(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(Lb(e),i<=xa)return e;xa=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-oy(e),i=1<<t,r|=n[t],e&=~i;return r}function Ehe(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lR(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=kb(24&~e),n===0?lR(10,e):n;case 10:return n=kb(192&~e),n===0?lR(8,e):n;case 8:return n=kb(3584&~e),n===0&&(n=kb(4186112&~e),n===0&&(n=512)),n;case 2:return e=kb(805306368&~e),e===0&&(e=268435456),e}throw Error(zr(358,n))}function kb(n){return n&-n}function OG(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function cR(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-oy(e),n[e]=t}var oy=Math.clz32?Math.clz32:uKe,oKe=Math.log,aKe=Math.LN2;function uKe(n){return n===0?32:31-(oKe(n)/aKe|0)|0}var lKe=Zl.unstable_UserBlockingPriority,cKe=Zl.unstable_runWithPriority,fR=!0;function fKe(n,e,t,r){W4||vG();var i=NG,s=W4;W4=!0;try{rhe(i,n,e,t,r)}finally{(W4=s)||bG()}}function dKe(n,e,t,r){cKe(lKe,NG.bind(null,n,e,t,r))}function NG(n,e,t,r){if(fR){var i;if((i=(e&4)===0)&&0<R1.length&&-1<dhe.indexOf(n))n=AG(null,n,e,t,r),R1.push(n);else{var s=RG(n,e,t,r);if(s===null)i&&hhe(n,r);else{if(i){if(-1<dhe.indexOf(n)){n=AG(s,n,e,t,r),R1.push(n);return}if(ZYe(s,n,e,t,r))return;hhe(n,r)}Khe(n,e,r,null,t)}}}}function RG(n,e,t,r){var i=xG(r);if(i=G4(i),i!==null){var s=Q4(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=she(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Khe(n,e,r,i,t),null}var ay=null,LG=null,dR=null;function She(){if(dR)return dR;var n,e=LG,t=e.length,r,i="value"in ay?ay.value:ay.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return dR=i.slice(n,1<r?1-r:void 0)}function hR(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function pR(){return!0}function Che(){return!1}function td(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pR:Che,this.isPropagationStopped=Che,this}return Ha(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=pR)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=pR)},persist:function(){},isPersistent:pR}),e}var Ib={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kG=td(Ib),tw=Ha({},Ib,{view:0,detail:0}),hKe=td(tw),IG,MG,nw,mR=Ha({},tw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BG,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nw&&(nw&&n.type==="mousemove"?(IG=n.screenX-nw.screenX,MG=n.screenY-nw.screenY):MG=IG=0,nw=n),IG)},movementY:function(n){return"movementY"in n?n.movementY:MG}}),whe=td(mR),pKe=Ha({},mR,{dataTransfer:0}),mKe=td(pKe),xKe=Ha({},tw,{relatedTarget:0}),PG=td(xKe),gKe=Ha({},Ib,{animationName:0,elapsedTime:0,pseudoElement:0}),yKe=td(gKe),vKe=Ha({},Ib,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_Ke=td(vKe),bKe=Ha({},Ib,{data:0}),Ahe=td(bKe),EKe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SKe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CKe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wKe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=CKe[n])?!!e[n]:!1}function BG(){return wKe}var AKe=Ha({},tw,{key:function(n){if(n.key){var e=EKe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=hR(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?SKe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BG,charCode:function(n){return n.type==="keypress"?hR(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hR(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TKe=td(AKe),FKe=Ha({},mR,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),The=td(FKe),DKe=Ha({},tw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BG}),OKe=td(DKe),NKe=Ha({},Ib,{propertyName:0,elapsedTime:0,pseudoElement:0}),RKe=td(NKe),LKe=Ha({},mR,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kKe=td(LKe),IKe=[9,13,27,32],jG=Z2&&"CompositionEvent"in window,rw=null;Z2&&"documentMode"in document&&(rw=document.documentMode);var MKe=Z2&&"TextEvent"in window&&!rw,Fhe=Z2&&(!jG||rw&&8<rw&&11>=rw),Dhe=String.fromCharCode(32),Ohe=!1;function Nhe(n,e){switch(n){case"keyup":return IKe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rhe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mb=!1;function PKe(n,e){switch(n){case"compositionend":return Rhe(e);case"keypress":return e.which!==32?null:(Ohe=!0,Dhe);case"textInput":return n=e.data,n===Dhe&&Ohe?null:n;default:return null}}function BKe(n,e){if(Mb)return n==="compositionend"||!jG&&Nhe(n,e)?(n=She(),dR=LG=ay=null,Mb=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fhe&&e.locale!=="ko"?null:e.data;default:return null}}var jKe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lhe(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!jKe[n.type]:e==="textarea"}function khe(n,e,t,r){the(r),e=_R(e,"onChange"),0<e.length&&(t=new kG("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var iw=null,sw=null;function qKe(n){Vhe(n,0)}function xR(n){var e=Ub(n);if(zde(e))return n}function UKe(n,e){if(n==="change")return e}var Ihe=!1;Z2&&(Z2?(yR="oninput"in document,yR||(qG=document.createElement("div"),qG.setAttribute("oninput","return;"),yR=typeof qG.oninput=="function"),gR=yR):gR=!1,Ihe=gR&&(!document.documentMode||9<document.documentMode));var gR,yR,qG;function Mhe(){iw&&(iw.detachEvent("onpropertychange",Phe),sw=iw=null)}function Phe(n){if(n.propertyName==="value"&&xR(sw)){var e=[];if(khe(e,sw,n,xG(n)),n=qKe,W4)n(e);else{W4=!0;try{yG(n,e)}finally{W4=!1,bG()}}}}function $Ke(n,e,t){n==="focusin"?(Mhe(),iw=e,sw=t,iw.attachEvent("onpropertychange",Phe)):n==="focusout"&&Mhe()}function zKe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xR(sw)}function HKe(n,e){if(n==="click")return xR(e)}function VKe(n,e){if(n==="input"||n==="change")return xR(e)}function WKe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Vd=typeof Object.is=="function"?Object.is:WKe,QKe=Object.prototype.hasOwnProperty;function ow(n,e){if(Vd(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!QKe.call(e,t[r])||!Vd(n[t[r]],e[t[r]]))return!1;return!0}function Bhe(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jhe(n,e){var t=Bhe(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Bhe(t)}}function qhe(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?qhe(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Uhe(){for(var n=window,e=nR();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=nR(n.document)}return e}function UG(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var GKe=Z2&&"documentMode"in document&&11>=document.documentMode,Pb=null,$G=null,aw=null,zG=!1;function $he(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;zG||Pb==null||Pb!==nR(r)||(r=Pb,"selectionStart"in r&&UG(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aw&&ow(aw,r)||(aw=r,r=_R($G,"onSelect"),0<r.length&&(e=new kG("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Pb)))}DG("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);DG("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);DG(nKe,2);for(HG="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),vR=0;vR<HG.length;vR++)FG.set(HG[vR],0);var HG,vR;Ab("onMouseEnter",["mouseout","mouseover"]);Ab("onMouseLeave",["mouseout","mouseover"]);Ab("onPointerEnter",["pointerout","pointerover"]);Ab("onPointerLeave",["pointerout","pointerover"]);z4("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));z4("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));z4("onBeforeInput",["compositionend","keypress","textInput","paste"]);z4("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));z4("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));z4("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zhe=new Set("cancel close invalid load scroll toggle".split(" ").concat(uw));function Hhe(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,JYe(r,e,void 0,n),n.currentTarget=null}function Vhe(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Hhe(i,a,f),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Hhe(i,a,f),s=l}}}if(sR)throw n=SG,sR=!1,SG=null,n}function Ta(n,e){var t=npe(e),r=n+"__bubble";t.has(r)||(Yhe(e,n,2,!1),t.add(r))}var Whe="_reactListening"+Math.random().toString(36).slice(2);function Qhe(n){n[Whe]||(n[Whe]=!0,Mde.forEach(function(e){zhe.has(e)||Ghe(e,!1,n,null),Ghe(e,!0,n,null)}))}function Ghe(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&zhe.has(n)){if(n!=="scroll")return;i|=2,s=r}var o=npe(s),a=n+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Yhe(s,n,i,e),o.add(a))}function Yhe(n,e,t,r){var i=FG.get(e);switch(i===void 0?2:i){case 0:i=fKe;break;case 1:i=dKe;break;default:i=NG}t=i.bind(null,e,t,n),i=void 0,!EG||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Khe(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=G4(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}QYe(function(){var f=s,p=xG(t),v=[];e:{var b=bhe.get(n);if(b!==void 0){var F=kG,D=n;switch(n){case"keypress":if(hR(t)===0)break e;case"keydown":case"keyup":F=TKe;break;case"focusin":D="focus",F=PG;break;case"focusout":D="blur",F=PG;break;case"beforeblur":case"afterblur":F=PG;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=whe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mKe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=OKe;break;case ghe:case yhe:case vhe:F=yKe;break;case _he:F=RKe;break;case"scroll":F=hKe;break;case"wheel":F=kKe;break;case"copy":case"cut":case"paste":F=_Ke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=The}var M=(e&4)!==0,q=!M&&n==="scroll",N=M?b!==null?b+"Capture":null:b;M=[];for(var B=f,I;B!==null;){I=B;var z=I.stateNode;if(I.tag===5&&z!==null&&(I=z,N!==null&&(z=Q9(B,N),z!=null&&M.push(lw(B,z,I)))),q)break;B=B.return}0<M.length&&(b=new F(b,D,null,t,p),v.push({event:b,listeners:M}))}}if((e&7)===0){e:{if(b=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",b&&(e&16)===0&&(D=t.relatedTarget||t.fromElement)&&(G4(D)||D[qb]))break e;if((F||b)&&(b=p.window===p?p:(b=p.ownerDocument)?b.defaultView||b.parentWindow:window,F?(D=t.relatedTarget||t.toElement,F=f,D=D?G4(D):null,D!==null&&(q=Q4(D),D!==q||D.tag!==5&&D.tag!==6)&&(D=null)):(F=null,D=f),F!==D)){if(M=whe,z="onMouseLeave",N="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(M=The,z="onPointerLeave",N="onPointerEnter",B="pointer"),q=F==null?b:Ub(F),I=D==null?b:Ub(D),b=new M(z,B+"leave",F,t,p),b.target=q,b.relatedTarget=I,z=null,G4(p)===f&&(M=new M(N,B+"enter",D,t,p),M.target=I,M.relatedTarget=q,z=M),q=z,F&&D)t:{for(M=F,N=D,B=0,I=M;I;I=Bb(I))B++;for(I=0,z=N;z;z=Bb(z))I++;for(;0<B-I;)M=Bb(M),B--;for(;0<I-B;)N=Bb(N),I--;for(;B--;){if(M===N||N!==null&&M===N.alternate)break t;M=Bb(M),N=Bb(N)}M=null}else M=null;F!==null&&Jhe(v,b,F,M,!1),D!==null&&q!==null&&Jhe(v,q,D,M,!0)}}e:{if(b=f?Ub(f):window,F=b.nodeName&&b.nodeName.toLowerCase(),F==="select"||F==="input"&&b.type==="file")var ie=UKe;else if(Lhe(b))if(Ihe)ie=VKe;else{ie=zKe;var L=$Ke}else(F=b.nodeName)&&F.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(ie=HKe);if(ie&&(ie=ie(n,f))){khe(v,ie,t,p);break e}L&&L(n,b,f),n==="focusout"&&(L=b._wrapperState)&&L.controlled&&b.type==="number"&&lG(b,"number",b.value)}switch(L=f?Ub(f):window,n){case"focusin":(Lhe(L)||L.contentEditable==="true")&&(Pb=L,$G=f,aw=null);break;case"focusout":aw=$G=Pb=null;break;case"mousedown":zG=!0;break;case"contextmenu":case"mouseup":case"dragend":zG=!1,$he(v,t,p);break;case"selectionchange":if(GKe)break;case"keydown":case"keyup":$he(v,t,p)}var Y;if(jG)e:{switch(n){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Mb?Nhe(n,t)&&(fe="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(fe="onCompositionStart");fe&&(Fhe&&t.locale!=="ko"&&(Mb||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Mb&&(Y=She()):(ay=p,LG="value"in ay?ay.value:ay.textContent,Mb=!0)),L=_R(f,fe),0<L.length&&(fe=new Ahe(fe,n,null,t,p),v.push({event:fe,listeners:L}),Y?fe.data=Y:(Y=Rhe(t),Y!==null&&(fe.data=Y)))),(Y=MKe?PKe(n,t):BKe(n,t))&&(f=_R(f,"onBeforeInput"),0<f.length&&(p=new Ahe("onBeforeInput","beforeinput",null,t,p),v.push({event:p,listeners:f}),p.data=Y))}Vhe(v,e)})}function lw(n,e,t){return{instance:n,listener:e,currentTarget:t}}function _R(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Q9(n,t),s!=null&&r.unshift(lw(n,s,i)),s=Q9(n,e),s!=null&&r.push(lw(n,s,i))),n=n.return}return r}function Bb(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Jhe(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&f!==null&&(a=f,i?(l=Q9(t,s),l!=null&&o.unshift(lw(t,l,a))):i||(l=Q9(t,s),l!=null&&o.push(lw(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function bR(){}var VG=null,WG=null;function Xhe(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function QG(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zhe=typeof setTimeout=="function"?setTimeout:void 0,YKe=typeof clearTimeout=="function"?clearTimeout:void 0;function GG(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function jb(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function epe(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var YG=0;function KKe(n){return{$$typeof:nG,toString:n,valueOf:n}}var ER=Math.random().toString(36).slice(2),uy="__reactFiber$"+ER,SR="__reactProps$"+ER,qb="__reactContainer$"+ER,tpe="__reactEvents$"+ER;function G4(n){var e=n[uy];if(e)return e;for(var t=n.parentNode;t;){if(e=t[qb]||t[uy]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=epe(n);n!==null;){if(t=n[uy])return t;n=epe(n)}return e}n=t,t=n.parentNode}return null}function cw(n){return n=n[uy]||n[qb],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ub(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(zr(33))}function CR(n){return n[SR]||null}function npe(n){var e=n[tpe];return e===void 0&&(e=n[tpe]=new Set),e}var KG=[],$b=-1;function ly(n){return{current:n}}function Fa(n){0>$b||(n.current=KG[$b],KG[$b]=null,$b--)}function _u(n,e){$b++,KG[$b]=n.current,n.current=e}var cy={},nf=ly(cy),m0=ly(!1),Y4=cy;function zb(n,e){var t=n.type.contextTypes;if(!t)return cy;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function x0(n){return n=n.childContextTypes,n!=null}function wR(){Fa(m0),Fa(nf)}function rpe(n,e,t){if(nf.current!==cy)throw Error(zr(168));_u(nf,e),_u(m0,t)}function ipe(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(zr(108,Tb(e)||"Unknown",i));return Ha({},t,r)}function AR(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||cy,Y4=nf.current,_u(nf,n),_u(m0,m0.current),!0}function spe(n,e,t){var r=n.stateNode;if(!r)throw Error(zr(169));t?(n=ipe(n,e,Y4),r.__reactInternalMemoizedMergedChildContext=n,Fa(m0),Fa(nf),_u(nf,n)):Fa(m0),_u(m0,t)}var JG=null,K4=null,JKe=Zl.unstable_runWithPriority,XG=Zl.unstable_scheduleCallback,ZG=Zl.unstable_cancelCallback,XKe=Zl.unstable_shouldYield,ope=Zl.unstable_requestPaint,eY=Zl.unstable_now,ZKe=Zl.unstable_getCurrentPriorityLevel,TR=Zl.unstable_ImmediatePriority,ape=Zl.unstable_UserBlockingPriority,upe=Zl.unstable_NormalPriority,lpe=Zl.unstable_LowPriority,cpe=Zl.unstable_IdlePriority,tY={},eJe=ope!==void 0?ope:function(){},ex=null,FR=null,nY=!1,fpe=eY(),rf=1e4>fpe?eY:function(){return eY()-fpe};function Hb(){switch(ZKe()){case TR:return 99;case ape:return 98;case upe:return 97;case lpe:return 96;case cpe:return 95;default:throw Error(zr(332))}}function dpe(n){switch(n){case 99:return TR;case 98:return ape;case 97:return upe;case 96:return lpe;case 95:return cpe;default:throw Error(zr(332))}}function J4(n,e){return n=dpe(n),JKe(n,e)}function fw(n,e,t){return n=dpe(n),XG(n,e,t)}function L1(){if(FR!==null){var n=FR;FR=null,ZG(n)}hpe()}function hpe(){if(!nY&&ex!==null){nY=!0;var n=0;try{var e=ex;J4(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),ex=null}catch(t){throw ex!==null&&(ex=ex.slice(n+1)),XG(TR,L1),t}finally{nY=!1}}}var tJe=H4.ReactCurrentBatchConfig;function yp(n,e){if(n&&n.defaultProps){e=Ha({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var DR=ly(null),OR=null,Vb=null,NR=null;function rY(){NR=Vb=OR=null}function iY(n){var e=DR.current;Fa(DR),n.type._context._currentValue=e}function ppe(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function Wb(n,e){OR=n,NR=Vb=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(vp=!0),n.firstContext=null)}function Wd(n,e){if(NR!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(NR=n,e=1073741823),e={context:n,observedBits:e,next:null},Vb===null){if(OR===null)throw Error(zr(308));Vb=e,OR.dependencies={lanes:0,firstContext:e,responders:null}}else Vb=Vb.next=e;return n._currentValue}var fy=!1;function sY(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function mpe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function dy(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function hy(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function xpe(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function dw(n,e,t,r){var i=n.updateQueue;fy=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var p=n.alternate;if(p!==null){p=p.updateQueue;var v=p.lastBaseUpdate;v!==o&&(v===null?p.firstBaseUpdate=f:v.next=f,p.lastBaseUpdate=l)}}if(s!==null){v=i.baseState,o=0,p=f=l=null;do{a=s.lane;var b=s.eventTime;if((r&a)===a){p!==null&&(p=p.next={eventTime:b,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var F=n,D=s;switch(a=e,b=t,D.tag){case 1:if(F=D.payload,typeof F=="function"){v=F.call(b,v,a);break e}v=F;break e;case 3:F.flags=F.flags&-4097|64;case 0:if(F=D.payload,a=typeof F=="function"?F.call(b,v,a):F,a==null)break e;v=Ha({},v,a);break e;case 2:fy=!0}}s.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else b={eventTime:b,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(f=p=b,l=v):p=p.next=b,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);p===null&&(l=v),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=p,Cw|=o,n.lanes=o,n.memoizedState=v}}function gpe(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(zr(191,i));i.call(r)}}}var ype=new KN.Component().refs;function RR(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ha({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var LR={isMounted:function(n){return(n=n._reactInternals)?Q4(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=nd(),i=xy(n),s=dy(r,i);s.payload=e,t!=null&&(s.callback=t),hy(n,s),gy(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=nd(),i=xy(n),s=dy(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),hy(n,s),gy(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=nd(),r=xy(n),i=dy(t,r);i.tag=2,e!=null&&(i.callback=e),hy(n,i),gy(n,r,t)}};function vpe(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ow(t,r)||!ow(i,s):!0}function _pe(n,e,t){var r=!1,i=cy,s=e.contextType;return typeof s=="object"&&s!==null?s=Wd(s):(i=x0(e)?Y4:nf.current,r=e.contextTypes,s=(r=r!=null)?zb(n,i):cy),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=LR,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function bpe(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&LR.enqueueReplaceState(e,e.state,null)}function oY(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=ype,sY(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wd(s):(s=x0(e)?Y4:nf.current,i.context=zb(n,s)),dw(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(RR(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&LR.enqueueReplaceState(i,i.state,null),dw(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var kR=Array.isArray;function hw(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(zr(309));var r=t.stateNode}if(!r)throw Error(zr(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===ype&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(zr(284));if(!t._owner)throw Error(zr(290,n))}return n}function IR(n,e){if(n.type!=="textarea")throw Error(zr(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Epe(n){function e(q,N){if(n){var B=q.lastEffect;B!==null?(B.nextEffect=N,q.lastEffect=N):q.firstEffect=q.lastEffect=N,N.nextEffect=null,N.flags=8}}function t(q,N){if(!n)return null;for(;N!==null;)e(q,N),N=N.sibling;return null}function r(q,N){for(q=new Map;N!==null;)N.key!==null?q.set(N.key,N):q.set(N.index,N),N=N.sibling;return q}function i(q,N){return q=_y(q,N),q.index=0,q.sibling=null,q}function s(q,N,B){return q.index=B,n?(B=q.alternate,B!==null?(B=B.index,B<N?(q.flags=2,N):B):(q.flags=2,N)):N}function o(q){return n&&q.alternate===null&&(q.flags=2),q}function a(q,N,B,I){return N===null||N.tag!==6?(N=$Y(B,q.mode,I),N.return=q,N):(N=i(N,B),N.return=q,N)}function l(q,N,B,I){return N!==null&&N.elementType===B.type?(I=i(N,B.props),I.ref=hw(q,N,B),I.return=q,I):(I=ZR(B.type,B.key,B.props,null,q.mode,I),I.ref=hw(q,N,B),I.return=q,I)}function f(q,N,B,I){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=zY(B,q.mode,I),N.return=q,N):(N=i(N,B.children||[]),N.return=q,N)}function p(q,N,B,I,z){return N===null||N.tag!==7?(N=eE(B,q.mode,I,z),N.return=q,N):(N=i(N,B),N.return=q,N)}function v(q,N,B){if(typeof N=="string"||typeof N=="number")return N=$Y(""+N,q.mode,B),N.return=q,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case q9:return B=ZR(N.type,N.key,N.props,null,q.mode,B),B.ref=hw(q,null,N),B.return=q,B;case V4:return N=zY(N,q.mode,B),N.return=q,N}if(kR(N)||z9(N))return N=eE(N,q.mode,B,null),N.return=q,N;IR(q,N)}return null}function b(q,N,B,I){var z=N!==null?N.key:null;if(typeof B=="string"||typeof B=="number")return z!==null?null:a(q,N,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case q9:return B.key===z?B.type===ty?p(q,N,B.props.children,I,z):l(q,N,B,I):null;case V4:return B.key===z?f(q,N,B,I):null}if(kR(B)||z9(B))return z!==null?null:p(q,N,B,I,null);IR(q,B)}return null}function F(q,N,B,I,z){if(typeof I=="string"||typeof I=="number")return q=q.get(B)||null,a(N,q,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case q9:return q=q.get(I.key===null?B:I.key)||null,I.type===ty?p(N,q,I.props.children,z,I.key):l(N,q,I,z);case V4:return q=q.get(I.key===null?B:I.key)||null,f(N,q,I,z)}if(kR(I)||z9(I))return q=q.get(B)||null,p(N,q,I,z,null);IR(N,I)}return null}function D(q,N,B,I){for(var z=null,ie=null,L=N,Y=N=0,fe=null;L!==null&&Y<B.length;Y++){L.index>Y?(fe=L,L=null):fe=L.sibling;var me=b(q,L,B[Y],I);if(me===null){L===null&&(L=fe);break}n&&L&&me.alternate===null&&e(q,L),N=s(me,N,Y),ie===null?z=me:ie.sibling=me,ie=me,L=fe}if(Y===B.length)return t(q,L),z;if(L===null){for(;Y<B.length;Y++)L=v(q,B[Y],I),L!==null&&(N=s(L,N,Y),ie===null?z=L:ie.sibling=L,ie=L);return z}for(L=r(q,L);Y<B.length;Y++)fe=F(L,q,Y,B[Y],I),fe!==null&&(n&&fe.alternate!==null&&L.delete(fe.key===null?Y:fe.key),N=s(fe,N,Y),ie===null?z=fe:ie.sibling=fe,ie=fe);return n&&L.forEach(function(Be){return e(q,Be)}),z}function M(q,N,B,I){var z=z9(B);if(typeof z!="function")throw Error(zr(150));if(B=z.call(B),B==null)throw Error(zr(151));for(var ie=z=null,L=N,Y=N=0,fe=null,me=B.next();L!==null&&!me.done;Y++,me=B.next()){L.index>Y?(fe=L,L=null):fe=L.sibling;var Be=b(q,L,me.value,I);if(Be===null){L===null&&(L=fe);break}n&&L&&Be.alternate===null&&e(q,L),N=s(Be,N,Y),ie===null?z=Be:ie.sibling=Be,ie=Be,L=fe}if(me.done)return t(q,L),z;if(L===null){for(;!me.done;Y++,me=B.next())me=v(q,me.value,I),me!==null&&(N=s(me,N,Y),ie===null?z=me:ie.sibling=me,ie=me);return z}for(L=r(q,L);!me.done;Y++,me=B.next())me=F(L,q,Y,me.value,I),me!==null&&(n&&me.alternate!==null&&L.delete(me.key===null?Y:me.key),N=s(me,N,Y),ie===null?z=me:ie.sibling=me,ie=me);return n&&L.forEach(function(tt){return e(q,tt)}),z}return function(q,N,B,I){var z=typeof B=="object"&&B!==null&&B.type===ty&&B.key===null;z&&(B=B.props.children);var ie=typeof B=="object"&&B!==null;if(ie)switch(B.$$typeof){case q9:e:{for(ie=B.key,z=N;z!==null;){if(z.key===ie){switch(z.tag){case 7:if(B.type===ty){t(q,z.sibling),N=i(z,B.props.children),N.return=q,q=N;break e}break;default:if(z.elementType===B.type){t(q,z.sibling),N=i(z,B.props),N.ref=hw(q,z,B),N.return=q,q=N;break e}}t(q,z);break}else e(q,z);z=z.sibling}B.type===ty?(N=eE(B.props.children,q.mode,I,B.key),N.return=q,q=N):(I=ZR(B.type,B.key,B.props,null,q.mode,I),I.ref=hw(q,N,B),I.return=q,q=I)}return o(q);case V4:e:{for(z=B.key;N!==null;){if(N.key===z)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){t(q,N.sibling),N=i(N,B.children||[]),N.return=q,q=N;break e}else{t(q,N);break}else e(q,N);N=N.sibling}N=zY(B,q.mode,I),N.return=q,q=N}return o(q)}if(typeof B=="string"||typeof B=="number")return B=""+B,N!==null&&N.tag===6?(t(q,N.sibling),N=i(N,B),N.return=q,q=N):(t(q,N),N=$Y(B,q.mode,I),N.return=q,q=N),o(q);if(kR(B))return D(q,N,B,I);if(z9(B))return M(q,N,B,I);if(ie&&IR(q,B),typeof B=="undefined"&&!z)switch(q.tag){case 1:case 22:case 0:case 11:case 15:throw Error(zr(152,Tb(q.type)||"Component"))}return t(q,N)}}var MR=Epe(!0),Spe=Epe(!1),pw={},k1=ly(pw),mw=ly(pw),xw=ly(pw);function X4(n){if(n===pw)throw Error(zr(174));return n}function aY(n,e){switch(_u(xw,e),_u(mw,n),_u(k1,pw),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hG(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=hG(e,n)}Fa(k1),_u(k1,e)}function Qb(){Fa(k1),Fa(mw),Fa(xw)}function Cpe(n){X4(xw.current);var e=X4(k1.current),t=hG(e,n.type);e!==t&&(_u(mw,n),_u(k1,t))}function uY(n){mw.current===n&&(Fa(k1),Fa(mw))}var bu=ly(0);function PR(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tx=null,py=null,I1=!1;function wpe(n,e){var t=Yd(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function Ape(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function lY(n){if(I1){var e=py;if(e){var t=e;if(!Ape(n,e)){if(e=jb(t.nextSibling),!e||!Ape(n,e)){n.flags=n.flags&-1025|2,I1=!1,tx=n;return}wpe(tx,t)}tx=n,py=jb(e.firstChild)}else n.flags=n.flags&-1025|2,I1=!1,tx=n}}function Tpe(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;tx=n}function BR(n){if(n!==tx)return!1;if(!I1)return Tpe(n),I1=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!QG(e,n.memoizedProps))for(e=py;e;)wpe(n,e),e=jb(e.nextSibling);if(Tpe(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(zr(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){py=jb(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}py=null}}else py=tx?jb(n.stateNode.nextSibling):null;return!0}function cY(){py=tx=null,I1=!1}var Gb=[];function fY(){for(var n=0;n<Gb.length;n++)Gb[n]._workInProgressVersionPrimary=null;Gb.length=0}var gw=H4.ReactCurrentDispatcher,Qd=H4.ReactCurrentBatchConfig,yw=0,Pu=null,sf=null,Ec=null,jR=!1,vw=!1;function g0(){throw Error(zr(321))}function dY(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Vd(n[t],e[t]))return!1;return!0}function hY(n,e,t,r,i,s){if(yw=s,Pu=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gw.current=n===null||n.memoizedState===null?rJe:iJe,n=t(r,i),vw){s=0;do{if(vw=!1,!(25>s))throw Error(zr(301));s+=1,Ec=sf=null,e.updateQueue=null,gw.current=sJe,n=t(r,i)}while(vw)}if(gw.current=zR,e=sf!==null&&sf.next!==null,yw=0,Ec=sf=Pu=null,jR=!1,e)throw Error(zr(300));return n}function Z4(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ec===null?Pu.memoizedState=Ec=n:Ec=Ec.next=n,Ec}function ev(){if(sf===null){var n=Pu.alternate;n=n!==null?n.memoizedState:null}else n=sf.next;var e=Ec===null?Pu.memoizedState:Ec.next;if(e!==null)Ec=e,sf=n;else{if(n===null)throw Error(zr(310));sf=n,n={memoizedState:sf.memoizedState,baseState:sf.baseState,baseQueue:sf.baseQueue,queue:sf.queue,next:null},Ec===null?Pu.memoizedState=Ec=n:Ec=Ec.next=n}return Ec}function M1(n,e){return typeof e=="function"?e(n):e}function _w(n){var e=ev(),t=e.queue;if(t===null)throw Error(zr(311));t.lastRenderedReducer=n;var r=sf,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var f=l.lane;if((yw&f)===f)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var p={lane:f,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=p,s=r):a=a.next=p,Pu.lanes|=f,Cw|=f}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,Vd(r,e.memoizedState)||(vp=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function bw(n){var e=ev(),t=e.queue;if(t===null)throw Error(zr(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Vd(s,e.memoizedState)||(vp=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Fpe(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(yw&n)===n)&&(e._workInProgressVersionPrimary=r,Gb.push(e))),n)return t(e._source);throw Gb.push(e),Error(zr(350))}function Dpe(n,e,t,r){var i=Rf;if(i===null)throw Error(zr(349));var s=e._getVersion,o=s(e._source),a=gw.current,l=a.useState(function(){return Fpe(i,e,t)}),f=l[1],p=l[0];l=Ec;var v=n.memoizedState,b=v.refs,F=b.getSnapshot,D=v.source;v=v.subscribe;var M=Pu;return n.memoizedState={refs:b,source:e,subscribe:r},a.useEffect(function(){b.getSnapshot=t,b.setSnapshot=f;var q=s(e._source);if(!Vd(o,q)){q=t(e._source),Vd(p,q)||(f(q),q=xy(M),i.mutableReadLanes|=q&i.pendingLanes),q=i.mutableReadLanes,i.entangledLanes|=q;for(var N=i.entanglements,B=q;0<B;){var I=31-oy(B),z=1<<I;N[I]|=q,B&=~z}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var q=b.getSnapshot,N=b.setSnapshot;try{N(q(e._source));var B=xy(M);i.mutableReadLanes|=B&i.pendingLanes}catch(I){N(function(){throw I})}})},[e,r]),Vd(F,t)&&Vd(D,e)&&Vd(v,r)||(n={pending:null,dispatch:null,lastRenderedReducer:M1,lastRenderedState:p},n.dispatch=f=gY.bind(null,Pu,n),l.queue=n,l.baseQueue=null,p=Fpe(i,e,t),l.memoizedState=l.baseState=p),p}function Ope(n,e,t){var r=ev();return Dpe(r,n,e,t)}function Ew(n){var e=Z4();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:M1,lastRenderedState:n},n=n.dispatch=gY.bind(null,Pu,n),[e.memoizedState,n]}function qR(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Pu.updateQueue,e===null?(e={lastEffect:null},Pu.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Npe(n){var e=Z4();return n={current:n},e.memoizedState=n}function UR(){return ev().memoizedState}function pY(n,e,t,r){var i=Z4();Pu.flags|=n,i.memoizedState=qR(1|e,t,void 0,r===void 0?null:r)}function mY(n,e,t,r){var i=ev();r=r===void 0?null:r;var s=void 0;if(sf!==null){var o=sf.memoizedState;if(s=o.destroy,r!==null&&dY(r,o.deps)){qR(e,t,s,r);return}}Pu.flags|=n,i.memoizedState=qR(1|e,t,s,r)}function Rpe(n,e){return pY(516,4,n,e)}function $R(n,e){return mY(516,4,n,e)}function Lpe(n,e){return mY(4,2,n,e)}function kpe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Ipe(n,e,t){return t=t!=null?t.concat([n]):null,mY(4,2,kpe.bind(null,e,n),t)}function xY(){}function Mpe(n,e){var t=ev();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&dY(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Ppe(n,e){var t=ev();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&dY(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function nJe(n,e){var t=Hb();J4(98>t?98:t,function(){n(!0)}),J4(97<t?97:t,function(){var r=Qd.transition;Qd.transition=1;try{n(!1),e()}finally{Qd.transition=r}})}function gY(n,e,t){var r=nd(),i=xy(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=n.alternate,n===Pu||o!==null&&o===Pu)vw=jR=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,t);if(s.eagerReducer=o,s.eagerState=l,Vd(l,a))return}catch{}finally{}gy(n,i,r)}}var zR={readContext:Wd,useCallback:g0,useContext:g0,useEffect:g0,useImperativeHandle:g0,useLayoutEffect:g0,useMemo:g0,useReducer:g0,useRef:g0,useState:g0,useDebugValue:g0,useDeferredValue:g0,useTransition:g0,useMutableSource:g0,useOpaqueIdentifier:g0,unstable_isNewReconciler:!1},rJe={readContext:Wd,useCallback:function(n,e){return Z4().memoizedState=[n,e===void 0?null:e],n},useContext:Wd,useEffect:Rpe,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,pY(4,2,kpe.bind(null,e,n),t)},useLayoutEffect:function(n,e){return pY(4,2,n,e)},useMemo:function(n,e){var t=Z4();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Z4();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=gY.bind(null,Pu,n),[r.memoizedState,n]},useRef:Npe,useState:Ew,useDebugValue:xY,useDeferredValue:function(n){var e=Ew(n),t=e[0],r=e[1];return Rpe(function(){var i=Qd.transition;Qd.transition=1;try{r(n)}finally{Qd.transition=i}},[n]),t},useTransition:function(){var n=Ew(!1),e=n[0];return n=nJe.bind(null,n[1]),Npe(n),[n,e]},useMutableSource:function(n,e,t){var r=Z4();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},Dpe(r,n,e,t)},useOpaqueIdentifier:function(){if(I1){var n=!1,e=KKe(function(){throw n||(n=!0,t("r:"+(YG++).toString(36))),Error(zr(355))}),t=Ew(e)[1];return(Pu.mode&2)===0&&(Pu.flags|=516,qR(5,function(){t("r:"+(YG++).toString(36))},void 0,null)),e}return e="r:"+(YG++).toString(36),Ew(e),e},unstable_isNewReconciler:!1},iJe={readContext:Wd,useCallback:Mpe,useContext:Wd,useEffect:$R,useImperativeHandle:Ipe,useLayoutEffect:Lpe,useMemo:Ppe,useReducer:_w,useRef:UR,useState:function(){return _w(M1)},useDebugValue:xY,useDeferredValue:function(n){var e=_w(M1),t=e[0],r=e[1];return $R(function(){var i=Qd.transition;Qd.transition=1;try{r(n)}finally{Qd.transition=i}},[n]),t},useTransition:function(){var n=_w(M1)[0];return[UR().current,n]},useMutableSource:Ope,useOpaqueIdentifier:function(){return _w(M1)[0]},unstable_isNewReconciler:!1},sJe={readContext:Wd,useCallback:Mpe,useContext:Wd,useEffect:$R,useImperativeHandle:Ipe,useLayoutEffect:Lpe,useMemo:Ppe,useReducer:bw,useRef:UR,useState:function(){return bw(M1)},useDebugValue:xY,useDeferredValue:function(n){var e=bw(M1),t=e[0],r=e[1];return $R(function(){var i=Qd.transition;Qd.transition=1;try{r(n)}finally{Qd.transition=i}},[n]),t},useTransition:function(){var n=bw(M1)[0];return[UR().current,n]},useMutableSource:Ope,useOpaqueIdentifier:function(){return bw(M1)[0]},unstable_isNewReconciler:!1},oJe=H4.ReactCurrentOwner,vp=!1;function y0(n,e,t,r){e.child=n===null?Spe(e,null,t,r):MR(e,n.child,t,r)}function Bpe(n,e,t,r,i){t=t.render;var s=e.ref;return Wb(e,i),r=hY(n,e,t,r,s,i),n!==null&&!vp?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,nx(n,e,i)):(e.flags|=1,y0(n,e,r,i),e.child)}function jpe(n,e,t,r,i,s){if(n===null){var o=t.type;return typeof o=="function"&&!qY(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,qpe(n,e,o,r,i,s)):(n=ZR(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&s)===0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:ow,t(i,r)&&n.ref===e.ref)?nx(n,e,s):(e.flags|=1,n=_y(o,r),n.ref=e.ref,n.return=e,e.child=n)}function qpe(n,e,t,r,i,s){if(n!==null&&ow(n.memoizedProps,r)&&n.ref===e.ref)if(vp=!1,(s&i)!==0)(n.flags&16384)!==0&&(vp=!0);else return e.lanes=n.lanes,nx(n,e,s);return vY(n,e,t,r,s)}function yY(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},XR(e,t);else if((t&1073741824)!==0)e.memoizedState={baseLanes:0},XR(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},XR(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,XR(e,r);return y0(n,e,i,t),e.child}function Upe(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function vY(n,e,t,r,i){var s=x0(t)?Y4:nf.current;return s=zb(e,s),Wb(e,i),t=hY(n,e,t,r,s,i),n!==null&&!vp?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,nx(n,e,i)):(e.flags|=1,y0(n,e,t,i),e.child)}function $pe(n,e,t,r,i){if(x0(t)){var s=!0;AR(e)}else s=!1;if(Wb(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),_pe(e,t,r),oY(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=Wd(f):(f=x0(t)?Y4:nf.current,f=zb(e,f));var p=t.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==f)&&bpe(e,o,r,f),fy=!1;var b=e.memoizedState;o.state=b,dw(e,r,o,i),l=e.memoizedState,a!==r||b!==l||m0.current||fy?(typeof p=="function"&&(RR(e,t,p,r),l=e.memoizedState),(a=fy||vpe(e,t,a,r,b,l,f))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=f,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,mpe(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:yp(e.type,a),o.props=f,v=e.pendingProps,b=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Wd(l):(l=x0(t)?Y4:nf.current,l=zb(e,l));var F=t.getDerivedStateFromProps;(p=typeof F=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==v||b!==l)&&bpe(e,o,r,l),fy=!1,b=e.memoizedState,o.state=b,dw(e,r,o,i);var D=e.memoizedState;a!==v||b!==D||m0.current||fy?(typeof F=="function"&&(RR(e,t,F,r),D=e.memoizedState),(f=fy||vpe(e,t,f,r,b,D,l))?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,D,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,D,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=D),o.props=r,o.state=D,o.context=l,r=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=256),r=!1)}return _Y(n,e,t,r,s,i)}function _Y(n,e,t,r,i,s){Upe(n,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&spe(e,t,!1),nx(n,e,s);r=e.stateNode,oJe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=MR(e,n.child,null,s),e.child=MR(e,null,a,s)):y0(n,e,a,s),e.memoizedState=r.state,i&&spe(e,t,!0),e.child}function zpe(n){var e=n.stateNode;e.pendingContext?rpe(n,e.pendingContext,e.pendingContext!==e.context):e.context&&rpe(n,e.context,!1),aY(n,e.containerInfo)}var HR={dehydrated:null,retryLane:0};function Hpe(n,e,t){var r=e.pendingProps,i=bu.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),_u(bu,i&1),n===null?(r.fallback!==void 0&&lY(e),n=r.children,i=r.fallback,s?(n=Vpe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=HR,n):typeof r.unstable_expectedLoadTime=="number"?(n=Vpe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=HR,e.lanes=33554432,n):(t=UY({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=Qpe(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=HR,r):(t=Wpe(n,e,r.children,t),e.memoizedState=null,t):s?(r=Qpe(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=HR,r):(t=Wpe(n,e,r.children,t),e.memoizedState=null,t)}function Vpe(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=UY(e,i,0,null),t=eE(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function Wpe(n,e,t,r){var i=n.child;return n=i.sibling,t=_y(i,{mode:"visible",children:t}),(e.mode&2)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function Qpe(n,e,t,r,i){var s=e.mode,o=n.child;n=o.sibling;var a={mode:"hidden",children:t};return(s&2)===0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=a,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=_y(o,a),n!==null?r=_y(n,r):(r=eE(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function Gpe(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),ppe(n.return,e)}function bY(n,e,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=s)}function Ype(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(y0(n,e,r.children,t),r=bu.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gpe(n,t);else if(n.tag===19)Gpe(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(_u(bu,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&PR(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),bY(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&PR(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}bY(e,!0,t,null,s,e.lastEffect);break;case"together":bY(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function nx(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Cw|=e.lanes,(t&e.childLanes)!==0){if(n!==null&&e.child!==n.child)throw Error(zr(153));if(e.child!==null){for(n=e.child,t=_y(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=_y(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var Kpe,EY,Jpe,Xpe;Kpe=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};EY=function(){};Jpe=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,X4(k1.current);var s=null;switch(t){case"input":i=aG(n,i),r=aG(n,r),s=[];break;case"option":i=cG(n,i),r=cG(n,r),s=[];break;case"select":i=Ha({},i,{value:void 0}),r=Ha({},r,{value:void 0}),s=[];break;case"textarea":i=fG(n,i),r=fG(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=bR)}pG(t,r);var o;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(j9.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(j9.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&Ta("scroll",n),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===nG?l.toString():(s=s||[]).push(f,l))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};Xpe=function(n,e,t,r){t!==r&&(e.flags|=4)};function Sw(n,e){if(!I1)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function aJe(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return x0(e.type)&&wR(),null;case 3:return Qb(),Fa(m0),Fa(nf),fY(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(BR(e)?e.flags|=4:r.hydrate||(e.flags|=256)),EY(e),null;case 5:uY(e);var i=X4(xw.current);if(t=e.type,n!==null&&e.stateNode!=null)Jpe(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(zr(166));return null}if(n=X4(k1.current),BR(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[uy]=e,r[SR]=s,t){case"dialog":Ta("cancel",r),Ta("close",r);break;case"iframe":case"object":case"embed":Ta("load",r);break;case"video":case"audio":for(n=0;n<uw.length;n++)Ta(uw[n],r);break;case"source":Ta("error",r);break;case"img":case"image":case"link":Ta("error",r),Ta("load",r);break;case"details":Ta("toggle",r);break;case"input":Hde(r,s),Ta("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ta("invalid",r);break;case"textarea":Qde(r,s),Ta("invalid",r)}pG(t,s),n=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):j9.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Ta("scroll",r));switch(t){case"input":tR(r),Wde(r,s,!0);break;case"textarea":tR(r),Yde(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bR)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===dG.html&&(n=Kde(t)),n===dG.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[uy]=e,n[SR]=r,Kpe(n,e,!1,!1),e.stateNode=n,o=mG(t,r),t){case"dialog":Ta("cancel",n),Ta("close",n),i=r;break;case"iframe":case"object":case"embed":Ta("load",n),i=r;break;case"video":case"audio":for(i=0;i<uw.length;i++)Ta(uw[i],n);i=r;break;case"source":Ta("error",n),i=r;break;case"img":case"image":case"link":Ta("error",n),Ta("load",n),i=r;break;case"details":Ta("toggle",n),i=r;break;case"input":Hde(n,r),i=aG(n,r),Ta("invalid",n);break;case"option":i=cG(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ha({},r,{value:void 0}),Ta("invalid",n);break;case"textarea":Qde(n,r),i=fG(n,r),Ta("invalid",n);break;default:i=r}pG(t,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Zde(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jde(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&V9(n,l):typeof l=="number"&&V9(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(j9.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ta("scroll",n):l!=null&&KQ(n,s,l,o))}switch(t){case"input":tR(n),Wde(n,r,!1);break;case"textarea":tR(n),Yde(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ny(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Fb(n,!!r.multiple,s,!1):r.defaultValue!=null&&Fb(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=bR)}Xhe(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)Xpe(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(zr(166));t=X4(xw.current),X4(k1.current),BR(e)?(r=e.stateNode,t=e.memoizedProps,r[uy]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[uy]=e,e.stateNode=r)}return null;case 13:return Fa(bu),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&BR(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!==0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(bu.current&1)!==0?Sc===0&&(Sc=3):((Sc===0||Sc===3)&&(Sc=4),Rf===null||(Cw&134217727)===0&&(Kb&134217727)===0||Xb(Rf,of))),(r||t)&&(e.flags|=4),null);case 4:return Qb(),EY(e),n===null&&Qhe(e.stateNode.containerInfo),null;case 10:return iY(e),null;case 17:return x0(e.type)&&wR(),null;case 19:if(Fa(bu),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Sw(r,!1);else{if(Sc!==0||n!==null&&(n.flags&64)!==0)for(n=e.child;n!==null;){if(o=PR(n),o!==null){for(e.flags|=64,Sw(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return _u(bu,bu.current&1|2),e.child}n=n.sibling}r.tail!==null&&rf()>LY&&(e.flags|=64,s=!0,Sw(r,!1),e.lanes=33554432)}else{if(!s)if(n=PR(o),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Sw(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!I1)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*rf()-r.renderingStartTime>LY&&t!==1073741824&&(e.flags|=64,s=!0,Sw(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=rf(),t.sibling=null,e=bu.current,_u(bu,s?e&1|2:e&1),t):null;case 23:case 24:return jY(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(zr(156,e.tag))}function uJe(n){switch(n.tag){case 1:x0(n.type)&&wR();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(Qb(),Fa(m0),Fa(nf),fY(),e=n.flags,(e&64)!==0)throw Error(zr(285));return n.flags=e&-4097|64,n;case 5:return uY(n),null;case 13:return Fa(bu),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return Fa(bu),null;case 4:return Qb(),null;case 10:return iY(n),null;case 23:case 24:return jY(),null;default:return null}}function SY(n,e){try{var t="",r=e;do t+=$Ye(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function CY(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var lJe=typeof WeakMap=="function"?WeakMap:Map;function Zpe(n,e,t){t=dy(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){QR||(QR=!0,kY=r),CY(n,e)},t}function e1e(n,e,t){t=dy(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return CY(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(P1===null?P1=new Set([this]):P1.add(this),CY(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var cJe=typeof WeakSet=="function"?WeakSet:Set;function t1e(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){vy(n,t)}else e.current=null}function fJe(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:yp(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&GG(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(zr(163))}function dJe(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)===3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(x1e(t,n),_Je(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:yp(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&gpe(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gpe(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&Xhe(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&mhe(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(zr(163))}function n1e(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Xde("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function r1e(n,e){if(K4&&typeof K4.onCommitFiberUnmount=="function")try{K4.onCommitFiberUnmount(JG,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)x1e(e,t);else{r=e;try{i()}catch(s){vy(r,s)}}t=t.next}while(t!==n)}break;case 1:if(t1e(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){vy(e,s)}break;case 5:t1e(e);break;case 4:a1e(n,e)}}function i1e(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function s1e(n){return n.tag===5||n.tag===3||n.tag===4}function o1e(n){e:{for(var e=n.return;e!==null;){if(s1e(e))break e;e=e.return}throw Error(zr(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(zr(161))}t.flags&16&&(V9(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||s1e(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?wY(n,t,e):AY(n,t,e)}function wY(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=bR));else if(r!==4&&(n=n.child,n!==null))for(wY(n,e,t),n=n.sibling;n!==null;)wY(n,e,t),n=n.sibling}function AY(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(AY(n,e,t),n=n.sibling;n!==null;)AY(n,e,t),n=n.sibling}function a1e(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(zr(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,a=t,l=a;;)if(r1e(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=t.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(r1e(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function TY(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)===3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[SR]=r,n==="input"&&r.type==="radio"&&r.name!=null&&Vde(t,r),mG(n,i),e=mG(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?Zde(t,a):o==="dangerouslySetInnerHTML"?Jde(t,a):o==="children"?V9(t,a):KQ(t,o,a,e)}switch(n){case"input":uG(t,r);break;case"textarea":Gde(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Fb(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?Fb(t,!!r.multiple,r.defaultValue,!0):Fb(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(zr(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,mhe(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(RY=rf(),n1e(e.child,!0)),u1e(e);return;case 19:u1e(e);return;case 17:return;case 23:case 24:n1e(e,e.memoizedState!==null);return}throw Error(zr(163))}function u1e(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new cJe),e.forEach(function(r){var i=SJe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function hJe(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var pJe=Math.ceil,VR=H4.ReactCurrentDispatcher,FY=H4.ReactCurrentOwner,as=0,Rf=null,Nl=null,of=0,tv=0,DY=ly(0),Sc=0,WR=null,Yb=0,Cw=0,Kb=0,OY=0,NY=null,RY=0,LY=1/0;function Jb(){LY=rf()+500}var bi=null,QR=!1,kY=null,P1=null,my=!1,ww=null,Aw=90,IY=[],MY=[],rx=null,Tw=0,PY=null,GR=-1,ix=0,YR=0,Fw=null,KR=!1;function nd(){return(as&48)!==0?rf():GR!==-1?GR:GR=rf()}function xy(n){if(n=n.mode,(n&2)===0)return 1;if((n&4)===0)return Hb()===99?1:2;if(ix===0&&(ix=Yb),tJe.transition!==0){YR!==0&&(YR=NY!==null?NY.pendingLanes:0),n=ix;var e=4186112&~YR;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=Hb(),(as&4)!==0&&n===98?n=lR(12,ix):(n=iKe(n),n=lR(n,ix)),n}function gy(n,e,t){if(50<Tw)throw Tw=0,PY=null,Error(zr(185));if(n=JR(n,e),n===null)return null;cR(n,e,t),n===Rf&&(Kb|=e,Sc===4&&Xb(n,of));var r=Hb();e===1?(as&8)!==0&&(as&48)===0?BY(n):(Gd(n,t),as===0&&(Jb(),L1())):((as&4)===0||r!==98&&r!==99||(rx===null?rx=new Set([n]):rx.add(n)),Gd(n,t)),NY=n}function JR(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Gd(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-oy(o),l=1<<a,f=s[a];if(f===-1){if((l&r)===0||(l&i)!==0){f=e,Lb(l);var p=xa;s[a]=10<=p?f+250:6<=p?f+5e3:-1}}else f<=e&&(n.expiredLanes|=l);o&=~l}if(r=ew(n,n===Rf?of:0),e=xa,r===0)t!==null&&(t!==tY&&ZG(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==tY&&ZG(t)}e===15?(t=BY.bind(null,n),ex===null?(ex=[t],FR=XG(TR,hpe)):ex.push(t),t=tY):e===14?t=fw(99,BY.bind(null,n)):(t=sKe(e),t=fw(t,l1e.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function l1e(n){if(GR=-1,YR=ix=0,(as&48)!==0)throw Error(zr(327));var e=n.callbackNode;if(yy()&&n.callbackNode!==e)return null;var t=ew(n,n===Rf?of:0);if(t===0)return null;var r=t,i=as;as|=16;var s=h1e();(Rf!==n||of!==r)&&(Jb(),Zb(n,r));do try{gJe();break}catch(a){d1e(n,a)}while(1);if(rY(),VR.current=s,as=i,Nl!==null?r=0:(Rf=null,of=0,r=Sc),(Yb&Kb)!==0)Zb(n,0);else if(r!==0){if(r===2&&(as|=64,n.hydrate&&(n.hydrate=!1,GG(n.containerInfo)),t=Ehe(n),t!==0&&(r=Dw(n,t))),r===1)throw e=WR,Zb(n,0),Xb(n,t),Gd(n,rf()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(zr(345));case 2:nv(n);break;case 3:if(Xb(n,t),(t&62914560)===t&&(r=RY+500-rf(),10<r)){if(ew(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){nd(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Zhe(nv.bind(null,n),r);break}nv(n);break;case 4:if(Xb(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-oy(t);s=1<<o,o=r[o],o>i&&(i=o),t&=~s}if(t=i,t=rf()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*pJe(t/1960))-t,10<t){n.timeoutHandle=Zhe(nv.bind(null,n),t);break}nv(n);break;case 5:nv(n);break;default:throw Error(zr(329))}}return Gd(n,rf()),n.callbackNode===e?l1e.bind(null,n):null}function Xb(n,e){for(e&=~OY,e&=~Kb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-oy(e),r=1<<t;n[t]=-1,e&=~r}}function BY(n){if((as&48)!==0)throw Error(zr(327));if(yy(),n===Rf&&(n.expiredLanes&of)!==0){var e=of,t=Dw(n,e);(Yb&Kb)!==0&&(e=ew(n,e),t=Dw(n,e))}else e=ew(n,0),t=Dw(n,e);if(n.tag!==0&&t===2&&(as|=64,n.hydrate&&(n.hydrate=!1,GG(n.containerInfo)),e=Ehe(n),e!==0&&(t=Dw(n,e))),t===1)throw t=WR,Zb(n,0),Xb(n,e),Gd(n,rf()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,nv(n),Gd(n,rf()),null}function mJe(){if(rx!==null){var n=rx;rx=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Gd(e,rf())})}L1()}function c1e(n,e){var t=as;as|=1;try{return n(e)}finally{as=t,as===0&&(Jb(),L1())}}function f1e(n,e){var t=as;as&=-2,as|=8;try{return n(e)}finally{as=t,as===0&&(Jb(),L1())}}function XR(n,e){_u(DY,tv),tv|=e,Yb|=e}function jY(){tv=DY.current,Fa(DY)}function Zb(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,YKe(t)),Nl!==null)for(t=Nl.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&wR();break;case 3:Qb(),Fa(m0),Fa(nf),fY();break;case 5:uY(r);break;case 4:Qb();break;case 13:Fa(bu);break;case 19:Fa(bu);break;case 10:iY(r);break;case 23:case 24:jY()}t=t.return}Rf=n,Nl=_y(n.current,null),of=tv=Yb=e,Sc=0,WR=null,OY=Kb=Cw=0}function d1e(n,e){do{var t=Nl;try{if(rY(),gw.current=zR,jR){for(var r=Pu.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jR=!1}if(yw=0,Ec=sf=Pu=null,vw=!1,FY.current=null,t===null||t.return===null){Sc=1,WR=e,Nl=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=of,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l;if((a.mode&2)===0){var p=a.alternate;p?(a.updateQueue=p.updateQueue,a.memoizedState=p.memoizedState,a.lanes=p.lanes):(a.updateQueue=null,a.memoizedState=null)}var v=(bu.current&1)!==0,b=o;do{var F;if(F=b.tag===13){var D=b.memoizedState;if(D!==null)F=D.dehydrated!==null;else{var M=b.memoizedProps;F=M.fallback===void 0?!1:M.unstable_avoidThisFallback!==!0?!0:!v}}if(F){var q=b.updateQueue;if(q===null){var N=new Set;N.add(f),b.updateQueue=N}else q.add(f);if((b.mode&2)===0){if(b.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var B=dy(-1,1);B.tag=2,hy(a,B)}a.lanes|=1;break e}l=void 0,a=e;var I=s.pingCache;if(I===null?(I=s.pingCache=new lJe,l=new Set,I.set(f,l)):(l=I.get(f),l===void 0&&(l=new Set,I.set(f,l))),!l.has(a)){l.add(a);var z=EJe.bind(null,s,f,a);f.then(z,z)}b.flags|=4096,b.lanes=e;break e}b=b.return}while(b!==null);l=Error((Tb(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Sc!==5&&(Sc=2),l=SY(l,a),b=o;do{switch(b.tag){case 3:s=l,b.flags|=4096,e&=-e,b.lanes|=e;var ie=Zpe(b,s,e);xpe(b,ie);break e;case 1:s=l;var L=b.type,Y=b.stateNode;if((b.flags&64)===0&&(typeof L.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(P1===null||!P1.has(Y)))){b.flags|=4096,e&=-e,b.lanes|=e;var fe=e1e(b,s,e);xpe(b,fe);break e}}b=b.return}while(b!==null)}m1e(t)}catch(me){e=me,Nl===t&&t!==null&&(Nl=t=t.return);continue}break}while(1)}function h1e(){var n=VR.current;return VR.current=zR,n===null?zR:n}function Dw(n,e){var t=as;as|=16;var r=h1e();Rf===n&&of===e||Zb(n,e);do try{xJe();break}catch(i){d1e(n,i)}while(1);if(rY(),as=t,VR.current=r,Nl!==null)throw Error(zr(261));return Rf=null,of=0,Sc}function xJe(){for(;Nl!==null;)p1e(Nl)}function gJe(){for(;Nl!==null&&!XKe();)p1e(Nl)}function p1e(n){var e=y1e(n.alternate,n,tv);n.memoizedProps=n.pendingProps,e===null?m1e(n):Nl=e,FY.current=null}function m1e(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)===0){if(t=aJe(t,e,tv),t!==null){Nl=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(tv&1073741824)!==0||(t.mode&4)===0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)===0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=uJe(e),t!==null){t.flags&=2047,Nl=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Nl=e;return}Nl=e=n}while(e!==null);Sc===0&&(Sc=5)}function nv(n){var e=Hb();return J4(99,yJe.bind(null,n,e)),null}function yJe(n,e){do yy();while(ww!==null);if((as&48)!==0)throw Error(zr(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(zr(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,a=n.expirationTimes;0<s;){var l=31-oy(s),f=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~f}if(rx!==null&&(r&24)===0&&rx.has(n)&&rx.delete(n),n===Rf&&(Nl=Rf=null,of=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=as,as|=32,FY.current=null,VG=fR,o=Uhe(),UG(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(f=a.getSelection&&a.getSelection())&&f.rangeCount!==0){a=f.anchorNode,s=f.anchorOffset,l=f.focusNode,f=f.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var p=0,v=-1,b=-1,F=0,D=0,M=o,q=null;t:for(;;){for(var N;M!==a||s!==0&&M.nodeType!==3||(v=p+s),M!==l||f!==0&&M.nodeType!==3||(b=p+f),M.nodeType===3&&(p+=M.nodeValue.length),(N=M.firstChild)!==null;)q=M,M=N;for(;;){if(M===o)break t;if(q===a&&++F===s&&(v=p),q===l&&++D===f&&(b=p),(N=M.nextSibling)!==null)break;M=q,q=M.parentNode}M=N}a=v===-1||b===-1?null:{start:v,end:b}}else a=null;a=a||{start:0,end:0}}else a=null;WG={focusedElem:o,selectionRange:a},fR=!1,Fw=null,KR=!1,bi=r;do try{vJe()}catch(me){if(bi===null)throw Error(zr(330));vy(bi,me),bi=bi.nextEffect}while(bi!==null);Fw=null,bi=r;do try{for(o=n;bi!==null;){var B=bi.flags;if(B&16&&V9(bi.stateNode,""),B&128){var I=bi.alternate;if(I!==null){var z=I.ref;z!==null&&(typeof z=="function"?z(null):z.current=null)}}switch(B&1038){case 2:o1e(bi),bi.flags&=-3;break;case 6:o1e(bi),bi.flags&=-3,TY(bi.alternate,bi);break;case 1024:bi.flags&=-1025;break;case 1028:bi.flags&=-1025,TY(bi.alternate,bi);break;case 4:TY(bi.alternate,bi);break;case 8:a=bi,a1e(o,a);var ie=a.alternate;i1e(a),ie!==null&&i1e(ie)}bi=bi.nextEffect}}catch(me){if(bi===null)throw Error(zr(330));vy(bi,me),bi=bi.nextEffect}while(bi!==null);if(z=WG,I=Uhe(),B=z.focusedElem,o=z.selectionRange,I!==B&&B&&B.ownerDocument&&qhe(B.ownerDocument.documentElement,B)){for(o!==null&&UG(B)&&(I=o.start,z=o.end,z===void 0&&(z=I),"selectionStart"in B?(B.selectionStart=I,B.selectionEnd=Math.min(z,B.value.length)):(z=(I=B.ownerDocument||document)&&I.defaultView||window,z.getSelection&&(z=z.getSelection(),a=B.textContent.length,ie=Math.min(o.start,a),o=o.end===void 0?ie:Math.min(o.end,a),!z.extend&&ie>o&&(a=o,o=ie,ie=a),a=jhe(B,ie),s=jhe(B,o),a&&s&&(z.rangeCount!==1||z.anchorNode!==a.node||z.anchorOffset!==a.offset||z.focusNode!==s.node||z.focusOffset!==s.offset)&&(I=I.createRange(),I.setStart(a.node,a.offset),z.removeAllRanges(),ie>o?(z.addRange(I),z.extend(s.node,s.offset)):(I.setEnd(s.node,s.offset),z.addRange(I)))))),I=[],z=B;z=z.parentNode;)z.nodeType===1&&I.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<I.length;B++)z=I[B],z.element.scrollLeft=z.left,z.element.scrollTop=z.top}fR=!!VG,WG=VG=null,n.current=t,bi=r;do try{for(B=n;bi!==null;){var L=bi.flags;if(L&36&&dJe(B,bi.alternate,bi),L&128){I=void 0;var Y=bi.ref;if(Y!==null){var fe=bi.stateNode;switch(bi.tag){case 5:I=fe;break;default:I=fe}typeof Y=="function"?Y(I):Y.current=I}}bi=bi.nextEffect}}catch(me){if(bi===null)throw Error(zr(330));vy(bi,me),bi=bi.nextEffect}while(bi!==null);bi=null,eJe(),as=i}else n.current=t;if(my)my=!1,ww=n,Aw=e;else for(bi=r;bi!==null;)e=bi.nextEffect,bi.nextEffect=null,bi.flags&8&&(L=bi,L.sibling=null,L.stateNode=null),bi=e;if(r=n.pendingLanes,r===0&&(P1=null),r===1?n===PY?Tw++:(Tw=0,PY=n):Tw=0,t=t.stateNode,K4&&typeof K4.onCommitFiberRoot=="function")try{K4.onCommitFiberRoot(JG,t,void 0,(t.current.flags&64)===64)}catch{}if(Gd(n,rf()),QR)throw QR=!1,n=kY,kY=null,n;return(as&8)!==0||L1(),null}function vJe(){for(;bi!==null;){var n=bi.alternate;KR||Fw===null||((bi.flags&8)!==0?uhe(bi,Fw)&&(KR=!0):bi.tag===13&&hJe(n,bi)&&uhe(bi,Fw)&&(KR=!0));var e=bi.flags;(e&256)!==0&&fJe(n,bi),(e&512)===0||my||(my=!0,fw(97,function(){return yy(),null})),bi=bi.nextEffect}}function yy(){if(Aw!==90){var n=97<Aw?97:Aw;return Aw=90,J4(n,bJe)}return!1}function _Je(n,e){IY.push(e,n),my||(my=!0,fw(97,function(){return yy(),null}))}function x1e(n,e){MY.push(e,n),my||(my=!0,fw(97,function(){return yy(),null}))}function bJe(){if(ww===null)return!1;var n=ww;if(ww=null,(as&48)!==0)throw Error(zr(331));var e=as;as|=32;var t=MY;MY=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(zr(330));vy(s,l)}}for(t=IY,IY=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(zr(330));vy(s,l)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return as=e,L1(),!0}function g1e(n,e,t){e=SY(t,e),e=Zpe(n,e,1),hy(n,e),e=nd(),n=JR(n,1),n!==null&&(cR(n,1,e),Gd(n,e))}function vy(n,e){if(n.tag===3)g1e(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){g1e(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(P1===null||!P1.has(r))){n=SY(e,n);var i=e1e(t,n,1);if(hy(t,i),i=nd(),t=JR(t,1),t!==null)cR(t,1,i),Gd(t,i);else if(typeof r.componentDidCatch=="function"&&(P1===null||!P1.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function EJe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=nd(),n.pingedLanes|=n.suspendedLanes&t,Rf===n&&(of&t)===t&&(Sc===4||Sc===3&&(of&62914560)===of&&500>rf()-RY?Zb(n,0):OY|=t),Gd(n,e)}function SJe(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)===0?e=1:(e&4)===0?e=Hb()===99?1:2:(ix===0&&(ix=Yb),e=kb(62914560&~ix),e===0&&(e=4194304))),t=nd(),n=JR(n,e),n!==null&&(cR(n,e,t),Gd(n,t))}var y1e;y1e=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||m0.current)vp=!0;else if((t&r)!==0)vp=(n.flags&16384)!==0;else{switch(vp=!1,e.tag){case 3:zpe(e),cY();break;case 5:Cpe(e);break;case 1:x0(e.type)&&AR(e);break;case 4:aY(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;_u(DR,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!==0?Hpe(n,e,t):(_u(bu,bu.current&1),e=nx(n,e,t),e!==null?e.sibling:null);_u(bu,bu.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&64)!==0){if(r)return Ype(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_u(bu,bu.current),r)break;return null;case 23:case 24:return e.lanes=0,yY(n,e,t)}return nx(n,e,t)}else vp=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=zb(e,nf.current),Wb(e,t),i=hY(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,x0(r)){var s=!0;AR(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sY(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&RR(e,r,o,n),i.updater=LR,e.stateNode=i,i._reactInternals=e,oY(e,r,n,t),e=_Y(null,e,r,!0,s,t)}else e.tag=0,y0(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=wJe(i),n=yp(i,n),s){case 0:e=vY(null,e,i,n,t);break e;case 1:e=$pe(null,e,i,n,t);break e;case 11:e=Bpe(null,e,i,n,t);break e;case 14:e=jpe(null,e,i,yp(i.type,n),r,t);break e}throw Error(zr(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yp(r,i),vY(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yp(r,i),$pe(n,e,r,i,t);case 3:if(zpe(e),r=e.updateQueue,n===null||r===null)throw Error(zr(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,mpe(n,e),dw(e,r,null,t),r=e.memoizedState.element,r===i)cY(),e=nx(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&(py=jb(e.stateNode.containerInfo.firstChild),tx=e,s=I1=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],Gb.push(s);for(t=Spe(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else y0(n,e,r,t),cY();e=e.child}return e;case 5:return Cpe(e),n===null&&lY(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,QG(r,i)?o=null:s!==null&&QG(r,s)&&(e.flags|=16),Upe(n,e),y0(n,e,o,t),e.child;case 6:return n===null&&lY(e),null;case 13:return Hpe(n,e,t);case 4:return aY(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=MR(e,null,r,t):y0(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yp(r,i),Bpe(n,e,r,i,t);case 7:return y0(n,e,e.pendingProps,t),e.child;case 8:return y0(n,e,e.pendingProps.children,t),e.child;case 12:return y0(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(_u(DR,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Vd(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!m0.current){e=nx(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var f=l.firstContext;f!==null;){if(f.context===r&&(f.observedBits&s)!==0){a.tag===1&&(f=dy(-1,t&-t),f.tag=2,hy(a,f)),a.lanes|=t,f=a.alternate,f!==null&&(f.lanes|=t),ppe(a.return,t),l.lanes|=t;break}f=f.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}y0(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Wb(e,t),i=Wd(i,s.unstable_observedBits),r=r(i),e.flags|=1,y0(n,e,r,t),e.child;case 14:return i=e.type,s=yp(i,e.pendingProps),s=yp(i.type,s),jpe(n,e,i,s,r,t);case 15:return qpe(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yp(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,x0(r)?(n=!0,AR(e)):n=!1,Wb(e,t),_pe(e,r,i),oY(e,r,i,t),_Y(null,e,r,!0,n,t);case 19:return Ype(n,e,t);case 23:return yY(n,e,t);case 24:return yY(n,e,t)}throw Error(zr(156,e.tag))};function CJe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yd(n,e,t,r){return new CJe(n,e,t,r)}function qY(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wJe(n){if(typeof n=="function")return qY(n)?1:0;if(n!=null){if(n=n.$$typeof,n===JN)return 11;if(n===ZN)return 14}return 2}function _y(n,e){var t=n.alternate;return t===null?(t=Yd(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ZR(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")qY(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ty:return eE(t.children,i,s,e);case qde:o=8,i|=16;break;case JQ:o=8,i|=1;break;case U9:return n=Yd(12,t,e,i|8),n.elementType=U9,n.type=U9,n.lanes=s,n;case $9:return n=Yd(13,t,e,i),n.type=$9,n.elementType=$9,n.lanes=s,n;case XN:return n=Yd(19,t,e,i),n.elementType=XN,n.lanes=s,n;case rG:return UY(t,i,s,e);case iG:return n=Yd(24,t,e,i),n.elementType=iG,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XQ:o=10;break e;case ZQ:o=9;break e;case JN:o=11;break e;case ZN:o=14;break e;case eG:o=16,r=null;break e;case tG:o=22;break e}throw Error(zr(130,n==null?n:typeof n,""))}return e=Yd(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function eE(n,e,t,r){return n=Yd(7,n,r,e),n.lanes=t,n}function UY(n,e,t,r){return n=Yd(23,n,r,e),n.elementType=rG,n.lanes=t,n}function $Y(n,e,t){return n=Yd(6,n,null,e),n.lanes=t,n}function zY(n,e,t){return e=Yd(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function AJe(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=OG(0),this.expirationTimes=OG(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OG(0),this.mutableSourceEagerHydrationData=null}function TJe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V4,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function eL(n,e,t,r){var i=e.current,s=nd(),o=xy(i);e:if(t){t=t._reactInternals;t:{if(Q4(t)!==t||t.tag!==1)throw Error(zr(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(x0(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(zr(171))}if(t.tag===1){var l=t.type;if(x0(l)){t=ipe(t,l,a);break e}}t=a}else t=cy;return e.context===null?e.context=t:e.pendingContext=t,e=dy(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),hy(i,e),gy(i,o,s),o}function HY(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function v1e(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function VY(n,e){v1e(n,e),(n=n.alternate)&&v1e(n,e)}function FJe(){return null}function WY(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new AJe(n,e,t!=null&&t.hydrate===!0),e=Yd(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,sY(e),n[qb]=t.current,Qhe(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}WY.prototype.render=function(n){eL(n,this._internalRoot,null,null)};WY.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;eL(null,n,null,function(){e[qb]=null})};function Ow(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function DJe(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new WY(n,0,e?{hydrate:!0}:void 0)}function tL(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var f=HY(o);a.call(f)}}eL(e,o,n,i)}else{if(s=t._reactRootContainer=DJe(t,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var f=HY(o);l.call(f)}}f1e(function(){eL(e,o,n,i)})}return HY(o)}lhe=function(n){if(n.tag===13){var e=nd();gy(n,4,e),VY(n,4)}};CG=function(n){if(n.tag===13){var e=nd();gy(n,67108864,e),VY(n,67108864)}};che=function(n){if(n.tag===13){var e=nd(),t=xy(n);gy(n,t,e),VY(n,t)}};fhe=function(n,e){return e()};gG=function(n,e,t){switch(e){case"input":if(uG(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=CR(r);if(!i)throw Error(zr(90));zde(r),uG(r,i)}}}break;case"textarea":Gde(n,t);break;case"select":e=t.value,e!=null&&Fb(n,!!t.multiple,e,!1)}};yG=c1e;rhe=function(n,e,t,r,i){var s=as;as|=4;try{return J4(98,n.bind(null,e,t,r,i))}finally{as=s,as===0&&(Jb(),L1())}};vG=function(){(as&49)===0&&(mJe(),yy())};ihe=function(n,e){var t=as;as|=2;try{return n(e)}finally{as=t,as===0&&(Jb(),L1())}};function _1e(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ow(e))throw Error(zr(200));return TJe(n,e,null,t)}var OJe={Events:[cw,Ub,CR,the,nhe,yy,{current:!1}]},Nw={findFiberByHostInstance:G4,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},NJe={bundleType:Nw.bundleType,version:Nw.version,rendererPackageName:Nw.rendererPackageName,rendererConfig:Nw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H4.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ahe(n),n===null?null:n.stateNode},findFiberByHostInstance:Nw.findFiberByHostInstance||FJe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Rw=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Rw.isDisabled&&Rw.supportsFiber))try{JG=Rw.inject(NJe),K4=Rw}catch{}var Rw;Kd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OJe;Kd.createPortal=_1e;Kd.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(zr(188)):Error(zr(268,Object.keys(n)));return n=ahe(e),n=n===null?null:n.stateNode,n};Kd.flushSync=function(n,e){var t=as;if((t&48)!==0)return n(e);as|=1;try{if(n)return J4(99,n.bind(null,e))}finally{as=t,L1()}};Kd.hydrate=function(n,e,t){if(!Ow(e))throw Error(zr(200));return tL(null,n,e,!0,t)};Kd.render=function(n,e,t){if(!Ow(e))throw Error(zr(200));return tL(null,n,e,!1,t)};Kd.unmountComponentAtNode=function(n){if(!Ow(n))throw Error(zr(40));return n._reactRootContainer?(f1e(function(){tL(null,null,n,!1,function(){n._reactRootContainer=null,n[qb]=null})}),!0):!1};Kd.unstable_batchedUpdates=c1e;Kd.unstable_createPortal=function(n,e){return _1e(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Kd.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Ow(t))throw Error(zr(200));if(n==null||n._reactInternals===void 0)throw Error(zr(38));return tL(n,e,t,!1,r)};Kd.version="17.0.2"});var nL=G((Z$t,S1e)=>{"use strict";d();function E1e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E1e)}catch(n){console.error(n)}}E1e(),S1e.exports=b1e()});var R1e={};DQ(R1e,{getCLS:()=>RJe,getFCP:()=>T1e,getFID:()=>IJe,getLCP:()=>MJe,getTTFB:()=>PJe});var by,Lw,C1e,rL,sx,iL,sL,kw,Ey,Iw,w1e,A1e,QY,T1e,F1e,GY,RJe,Mw,LJe,D1e,O1e,kJe,N1e,IJe,YY,MJe,PJe,L1e=FQ(()=>{d();sx=function(n,e){return{name:n,value:e===void 0?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},iL=function(n,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if(n==="first-input"&&!("PerformanceEventTiming"in self))return;var t=new PerformanceObserver(function(r){return r.getEntries().map(e)});return t.observe({type:n,buffered:!0}),t}}catch{}},sL=function(n,e){var t=function r(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(n(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},kw=function(n){addEventListener("pageshow",function(e){e.persisted&&n(e)},!0)},Ey=function(n,e,t){var r;return function(i){e.value>=0&&(i||t)&&(e.delta=e.value-(r||0),(e.delta||r===void 0)&&(r=e.value,n(e)))}},Iw=-1,w1e=function(){return document.visibilityState==="hidden"?0:1/0},A1e=function(){sL(function(n){var e=n.timeStamp;Iw=e},!0)},QY=function(){return Iw<0&&(Iw=w1e(),A1e(),kw(function(){setTimeout(function(){Iw=w1e(),A1e()},0)})),{get firstHiddenTime(){return Iw}}},T1e=function(n,e){var t,r=QY(),i=sx("FCP"),s=function(l){l.name==="first-contentful-paint"&&(a&&a.disconnect(),l.startTime<r.firstHiddenTime&&(i.value=l.startTime,i.entries.push(l),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=o?null:iL("paint",s);(o||a)&&(t=Ey(n,i,e),o&&s(o),kw(function(l){i=sx("FCP"),t=Ey(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,t(!0)})})}))},F1e=!1,GY=-1,RJe=function(n,e){F1e||(T1e(function(f){GY=f.value}),F1e=!0);var t,r=function(f){GY>-1&&n(f)},i=sx("CLS",0),s=0,o=[],a=function(f){if(!f.hadRecentInput){var p=o[0],v=o[o.length-1];s&&f.startTime-v.startTime<1e3&&f.startTime-p.startTime<5e3?(s+=f.value,o.push(f)):(s=f.value,o=[f]),s>i.value&&(i.value=s,i.entries=o,t())}},l=iL("layout-shift",a);l&&(t=Ey(r,i,e),sL(function(){l.takeRecords().map(a),t(!0)}),kw(function(){s=0,GY=-1,i=sx("CLS",0),t=Ey(r,i,e)}))},Mw={passive:!0,capture:!0},LJe=new Date,D1e=function(n,e){by||(by=e,Lw=n,C1e=new Date,N1e(removeEventListener),O1e())},O1e=function(){if(Lw>=0&&Lw<C1e-LJe){var n={entryType:"first-input",name:by.type,target:by.target,cancelable:by.cancelable,startTime:by.timeStamp,processingStart:by.timeStamp+Lw};rL.forEach(function(e){e(n)}),rL=[]}},kJe=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var i=function(){D1e(t,r),o()},s=function(){o()},o=function(){removeEventListener("pointerup",i,Mw),removeEventListener("pointercancel",s,Mw)};addEventListener("pointerup",i,Mw),addEventListener("pointercancel",s,Mw)}(e,n):D1e(e,n)}},N1e=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,kJe,Mw)})},IJe=function(n,e){var t,r=QY(),i=sx("FID"),s=function(a){a.startTime<r.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),t(!0))},o=iL("first-input",s);t=Ey(n,i,e),o&&sL(function(){o.takeRecords().map(s),o.disconnect()},!0),o&&kw(function(){var a;i=sx("FID"),t=Ey(n,i,e),rL=[],Lw=-1,by=null,N1e(addEventListener),a=s,rL.push(a),O1e()})},YY={},MJe=function(n,e){var t,r=QY(),i=sx("LCP"),s=function(l){var f=l.startTime;f<r.firstHiddenTime&&(i.value=f,i.entries.push(l),t())},o=iL("largest-contentful-paint",s);if(o){t=Ey(n,i,e);var a=function(){YY[i.id]||(o.takeRecords().map(s),o.disconnect(),YY[i.id]=!0,t(!0))};["keydown","click"].forEach(function(l){addEventListener(l,a,{once:!0,capture:!0})}),sL(a,!0),kw(function(l){i=sx("LCP"),t=Ey(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,YY[i.id]=!0,t(!0)})})})}},PJe=function(n){var e,t=sx("TTFB");e=function(){try{var r=performance.getEntriesByType("navigation")[0]||function(){var i=performance.timing,s={entryType:"navigation",startTime:0};for(var o in i)o!=="navigationStart"&&o!=="toJSON"&&(s[o]=Math.max(i[o]-i.navigationStart,0));return s}();if(t.value=t.delta=r.responseStart,t.value<0||t.value>performance.now())return;t.entries=[r],n(t)}catch{}},document.readyState==="complete"?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)})}});var $me=G(jo=>{"use strict";d();var wK=Symbol.for("react.element"),AK=Symbol.for("react.portal"),gL=Symbol.for("react.fragment"),yL=Symbol.for("react.strict_mode"),vL=Symbol.for("react.profiler"),_L=Symbol.for("react.provider"),bL=Symbol.for("react.context"),nZe=Symbol.for("react.server_context"),EL=Symbol.for("react.forward_ref"),SL=Symbol.for("react.suspense"),CL=Symbol.for("react.suspense_list"),wL=Symbol.for("react.memo"),AL=Symbol.for("react.lazy"),rZe=Symbol.for("react.offscreen"),Ume;Ume=Symbol.for("react.module.reference");function Xd(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case wK:switch(n=n.type,n){case gL:case vL:case yL:case SL:case CL:return n;default:switch(n=n&&n.$$typeof,n){case nZe:case bL:case EL:case AL:case wL:case _L:return n;default:return e}}case AK:return e}}}jo.ContextConsumer=bL;jo.ContextProvider=_L;jo.Element=wK;jo.ForwardRef=EL;jo.Fragment=gL;jo.Lazy=AL;jo.Memo=wL;jo.Portal=AK;jo.Profiler=vL;jo.StrictMode=yL;jo.Suspense=SL;jo.SuspenseList=CL;jo.isAsyncMode=function(){return!1};jo.isConcurrentMode=function(){return!1};jo.isContextConsumer=function(n){return Xd(n)===bL};jo.isContextProvider=function(n){return Xd(n)===_L};jo.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===wK};jo.isForwardRef=function(n){return Xd(n)===EL};jo.isFragment=function(n){return Xd(n)===gL};jo.isLazy=function(n){return Xd(n)===AL};jo.isMemo=function(n){return Xd(n)===wL};jo.isPortal=function(n){return Xd(n)===AK};jo.isProfiler=function(n){return Xd(n)===vL};jo.isStrictMode=function(n){return Xd(n)===yL};jo.isSuspense=function(n){return Xd(n)===SL};jo.isSuspenseList=function(n){return Xd(n)===CL};jo.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===gL||n===vL||n===yL||n===SL||n===CL||n===rZe||typeof n=="object"&&n!==null&&(n.$$typeof===AL||n.$$typeof===wL||n.$$typeof===_L||n.$$typeof===bL||n.$$typeof===EL||n.$$typeof===Ume||n.getModuleId!==void 0)};jo.typeOf=Xd});var Hme=G((jVt,zme)=>{"use strict";d();zme.exports=$me()});var Wme=G((qVt,Vme)=>{d();Vme.exports=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),f=0;f<o.length;f++){var p=o[f];if(!l(p))return!1;var v=e[p],b=t[p];if(s=r?r.call(i,v,b,p):void 0,s===!1||s===void 0&&v!==b)return!1}return!0}});var Yme=G(TK=>{"use strict";d();Object.defineProperty(TK,"__esModule",{value:!0});function oZe(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}TK.default=oZe});var Jme=G((HVt,Kme)=>{"use strict";d();Kme.exports=Yme()});var Xme=G(FK=>{"use strict";d();Object.defineProperty(FK,"__esModule",{value:!0});var aZe=Jme();function uZe(n){return n&&n.__esModule?n:{default:n}}var lZe=uZe(aZe),cZe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fZe=lZe.default(function(n){return cZe.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});FK.default=fZe});var e2e=G((WVt,Zme)=>{"use strict";d();Zme.exports=Xme()});var n2e=G(qo=>{"use strict";d();var ec=typeof Symbol=="function"&&Symbol.for,DK=ec?Symbol.for("react.element"):60103,OK=ec?Symbol.for("react.portal"):60106,TL=ec?Symbol.for("react.fragment"):60107,FL=ec?Symbol.for("react.strict_mode"):60108,DL=ec?Symbol.for("react.profiler"):60114,OL=ec?Symbol.for("react.provider"):60109,NL=ec?Symbol.for("react.context"):60110,NK=ec?Symbol.for("react.async_mode"):60111,RL=ec?Symbol.for("react.concurrent_mode"):60111,LL=ec?Symbol.for("react.forward_ref"):60112,kL=ec?Symbol.for("react.suspense"):60113,dZe=ec?Symbol.for("react.suspense_list"):60120,IL=ec?Symbol.for("react.memo"):60115,ML=ec?Symbol.for("react.lazy"):60116,hZe=ec?Symbol.for("react.block"):60121,pZe=ec?Symbol.for("react.fundamental"):60117,mZe=ec?Symbol.for("react.responder"):60118,xZe=ec?Symbol.for("react.scope"):60119;function sd(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case DK:switch(n=n.type,n){case NK:case RL:case TL:case DL:case FL:case kL:return n;default:switch(n=n&&n.$$typeof,n){case NL:case LL:case ML:case IL:case OL:return n;default:return e}}case OK:return e}}}function t2e(n){return sd(n)===RL}qo.AsyncMode=NK;qo.ConcurrentMode=RL;qo.ContextConsumer=NL;qo.ContextProvider=OL;qo.Element=DK;qo.ForwardRef=LL;qo.Fragment=TL;qo.Lazy=ML;qo.Memo=IL;qo.Portal=OK;qo.Profiler=DL;qo.StrictMode=FL;qo.Suspense=kL;qo.isAsyncMode=function(n){return t2e(n)||sd(n)===NK};qo.isConcurrentMode=t2e;qo.isContextConsumer=function(n){return sd(n)===NL};qo.isContextProvider=function(n){return sd(n)===OL};qo.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===DK};qo.isForwardRef=function(n){return sd(n)===LL};qo.isFragment=function(n){return sd(n)===TL};qo.isLazy=function(n){return sd(n)===ML};qo.isMemo=function(n){return sd(n)===IL};qo.isPortal=function(n){return sd(n)===OK};qo.isProfiler=function(n){return sd(n)===DL};qo.isStrictMode=function(n){return sd(n)===FL};qo.isSuspense=function(n){return sd(n)===kL};qo.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===TL||n===RL||n===DL||n===FL||n===kL||n===dZe||typeof n=="object"&&n!==null&&(n.$$typeof===ML||n.$$typeof===IL||n.$$typeof===OL||n.$$typeof===NL||n.$$typeof===LL||n.$$typeof===pZe||n.$$typeof===mZe||n.$$typeof===xZe||n.$$typeof===hZe)};qo.typeOf=sd});var i2e=G((GVt,r2e)=>{"use strict";d();r2e.exports=n2e()});var f2e=G((YVt,c2e)=>{"use strict";d();var RK=i2e(),gZe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yZe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vZe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s2e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LK={};LK[RK.ForwardRef]=vZe;LK[RK.Memo]=s2e;function o2e(n){return RK.isMemo(n)?s2e:LK[n.$$typeof]||gZe}var _Ze=Object.defineProperty,bZe=Object.getOwnPropertyNames,a2e=Object.getOwnPropertySymbols,EZe=Object.getOwnPropertyDescriptor,SZe=Object.getPrototypeOf,u2e=Object.prototype;function l2e(n,e,t){if(typeof e!="string"){if(u2e){var r=SZe(e);r&&r!==u2e&&l2e(n,r,t)}var i=bZe(e);a2e&&(i=i.concat(a2e(e)));for(var s=o2e(n),o=o2e(e),a=0;a<i.length;++a){var l=i[a];if(!yZe[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var f=EZe(e,l);try{_Ze(n,l,f)}catch{}}}}return n}c2e.exports=l2e});var Bs=G(pr=>{"use strict";d();Object.defineProperty(pr,"__esModule",{value:!0});pr.isMeasureLike=pr.getPhysicalFields=pr.getDimensions=pr.isPhysical=pr.isDimensional=pr.isTurtleDef=pr.getIdentifier=pr.isFieldStructDef=pr.isFieldTimeBased=pr.isFieldTypeDef=pr.isSQLBlock=pr.isSQLFragment=pr.isJoinOn=pr.isIndexSegment=pr.isSamplingEnable=pr.isSamplingPercent=pr.isSamplingRows=pr.isQuerySegment=pr.isProjectSegment=pr.isReduceSegment=pr.refIsStructDef=pr.isByExpression=pr.isByName=pr.ValueType=pr.isExtractUnit=pr.isTimestampUnit=pr.isDateUnit=pr.FieldIsIntrinsic=pr.isAtomicFieldType=pr.isTimeFieldType=pr.hasExpression=pr.maxExpressionType=pr.expressionIsCalculation=pr.expressionIsAggregate=pr.mkExpr=pr.isApplyFragment=pr.isApplyValue=pr.isParameterFragment=pr.isFieldFragment=pr.isAnalyticFragment=pr.malloyFunctions=pr.isUngroupFragment=pr.isAsymmetricFragment=pr.isAggregateFragment=pr.isDialectFragment=pr.isFilterFragment=pr.isFilteredAliasedName=pr.paramHasValue=pr.isConditionParameter=pr.isValueParameter=void 0;pr.isValueDate=pr.isValueTimestamp=pr.isValueBoolean=pr.isValueNumber=pr.isValueString=void 0;function L2e(n){return n.value!==void 0}pr.isValueParameter=L2e;function ZZe(n){return n.condition!==void 0}pr.isConditionParameter=ZZe;function eet(n){return L2e(n)||n.condition!==null}pr.paramHasValue=eet;function tet(n){for(let e of Object.keys(n))if(!["name","as","filterList"].includes(e))return!1;return!0}pr.isFilteredAliasedName=tet;function net(n){return(n==null?void 0:n.type)==="filterExpression"}pr.isFilterFragment=net;function ret(n){return(n==null?void 0:n.type)==="dialect"}pr.isDialectFragment=ret;function k2e(n){return(n==null?void 0:n.type)==="aggregate"}pr.isAggregateFragment=k2e;function iet(n){return k2e(n)&&["sum","avg","count"].includes(n.function)}pr.isAsymmetricFragment=iet;function set(n){let e=n==null?void 0:n.type;return e=="all"||e=="exclude"}pr.isUngroupFragment=set;pr.malloyFunctions={row_number:{returnType:"number",parameters:"none",expressionType:"analytic"},rank:{returnType:"number",parameters:"none",expressionType:"analytic"},dense_rank:{returnType:"number",parameters:"none",expressionType:"analytic"},first_value_in_column:{returnType:"number",parameters:"any",expressionType:"analytic",sqlName:"first_value"},last_value_in_column:{returnType:"number",parameters:"any",expressionType:"analytic",sqlName:"last_value"},min_in_column:{returnType:"number",parameters:"any",expressionType:"analytic",sqlName:"min"},max_in_column:{returnType:"number",parameters:"any",expressionType:"analytic",sqlName:"max"},ntile:{returnType:"number",parameters:["nconst"],expressionType:"analytic"},lag:{returnType:"number",parameters:["number","nconst"],expressionType:"analytic"}};function oet(n){return(n==null?void 0:n.type)==="analytic"}pr.isAnalyticFragment=oet;function aet(n){return(n==null?void 0:n.type)==="field"}pr.isFieldFragment=aet;function uet(n){return(n==null?void 0:n.type)==="parameter"}pr.isParameterFragment=uet;function cet(n){return(n==null?void 0:n.type)==="applyVal"}pr.isApplyValue=cet;function fet(n){return(n==null?void 0:n.type)==="apply"}pr.isApplyFragment=fet;function det(n,...e){let t=[],r;for(r=0;r<e.length;r++){let i=e[r];n[r].length>0&&t.push(n[r]),typeof i=="string"?t.push(i):t.push(...i)}return n[r].length>0&&t.push(n[r]),t}pr.mkExpr=det;function het(n){return n==="aggregate"}pr.expressionIsAggregate=het;function pet(n){return n==="aggregate"||n==="analytic"}pr.expressionIsCalculation=pet;function met(n,e){let t="scalar";return(n==="aggregate"||e==="aggregate")&&(t="aggregate"),(n==="analytic"||e==="analytic")&&(t="analytic"),t}pr.maxExpressionType=met;function I2e(n){return n.e!==void 0}pr.hasExpression=I2e;function xet(n){return n=="date"||n=="timestamp"}pr.isTimeFieldType=xet;function M2e(n){return["string","number","date","timestamp","boolean","json"].includes(n)}pr.isAtomicFieldType=M2e;function get(n){return M2e(n.type)&&!I2e(n)?!0:n.type==="struct"&&(n.structSource.type==="inline"||n.structSource.type==="nested")}pr.FieldIsIntrinsic=get;function P2e(n){return["day","week","month","quarter","year"].includes(n)}pr.isDateUnit=P2e;function B2e(n){return P2e(n)||["hour","minute","second"].includes(n)}pr.isTimestampUnit=B2e;function yet(n){return B2e(n)||n=="day_of_week"||n=="day_of_year"}pr.isExtractUnit=yet;var vet;(function(n){n.Date="date",n.Timestamp="timestamp",n.Number="number",n.String="string"})(vet=pr.ValueType||(pr.ValueType={}));function _et(n){return n===void 0?!1:n.by==="name"}pr.isByName=_et;function bet(n){return n===void 0?!1:n.by==="name"}pr.isByExpression=bet;function Eet(n){return typeof n!="string"&&n.type==="struct"}pr.refIsStructDef=Eet;function j2e(n){return n.type==="reduce"}pr.isReduceSegment=j2e;function q2e(n){return n.type==="project"}pr.isProjectSegment=q2e;function Cet(n){return q2e(n)||j2e(n)}pr.isQuerySegment=Cet;function wet(n){return n.rows!==void 0}pr.isSamplingRows=wet;function Aet(n){return n.percent!==void 0}pr.isSamplingPercent=Aet;function Tet(n){return n.enable!==void 0}pr.isSamplingEnable=Tet;function Fet(n){return n.type==="index"}pr.isIndexSegment=Fet;function Det(n){return["one","many","cross"].includes(n.type)}pr.isJoinOn=Det;function Oet(n){return n.sql!==void 0}pr.isSQLFragment=Oet;function Net(n){let e=n.structSource;return e.type=="sql"&&e.method=="subquery"}pr.isSQLBlock=Net;function U2e(n){return n.type==="string"||n.type==="date"||n.type==="number"||n.type==="timestamp"||n.type==="boolean"||n.type==="json"}pr.isFieldTypeDef=U2e;function Ret(n){return n.type==="date"||n.type==="timestamp"}pr.isFieldTimeBased=Ret;function $2e(n){return n.type==="struct"}pr.isFieldStructDef=$2e;function Let(n){return n.as!==void 0?n.as:n.name}pr.getIdentifier=Let;function ket(n){return n.type==="turtle"}pr.isTurtleDef=ket;function z2e(n){var e;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension":!1}pr.isDimensional=z2e;function H2e(n){return U2e(n)&&n.e===void 0||$2e(n)&&(n.structSource.type==="nested"||n.structSource.type=="inline")}pr.isPhysical=H2e;function Iet(n){return n.fields.filter(z2e)}pr.getDimensions=Iet;function Met(n){return n.fields.filter(H2e)}pr.getPhysicalFields=Met;function Pet(n){var e,t;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=n.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct":!1}pr.isMeasureLike=Pet;function Bet(n,e){return e.type==="string"}pr.isValueString=Bet;function jet(n,e){return e.type==="number"}pr.isValueNumber=jet;function qet(n,e){return e.type==="boolean"}pr.isValueBoolean=qet;function Uet(n,e){return e.type==="timestamp"}pr.isValueTimestamp=Uet;function $et(n,e){return e.type==="date"}pr.isValueDate=$et});var W2e=G((oWt,V2e)=>{d();function zet(){this.__data__=[],this.size=0}V2e.exports=zet});var QK=G((aWt,Q2e)=>{d();function Het(n,e){return n===e||n!==n&&e!==e}Q2e.exports=Het});var iA=G((uWt,G2e)=>{d();var Vet=QK();function Wet(n,e){for(var t=n.length;t--;)if(Vet(n[t][0],e))return t;return-1}G2e.exports=Wet});var K2e=G((lWt,Y2e)=>{d();var Qet=iA(),Get=Array.prototype,Yet=Get.splice;function Ket(n){var e=this.__data__,t=Qet(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Yet.call(e,t,1),--this.size,!0}Y2e.exports=Ket});var X2e=G((cWt,J2e)=>{d();var Jet=iA();function Xet(n){var e=this.__data__,t=Jet(e,n);return t<0?void 0:e[t][1]}J2e.exports=Xet});var exe=G((fWt,Z2e)=>{d();var Zet=iA();function ett(n){return Zet(this.__data__,n)>-1}Z2e.exports=ett});var nxe=G((dWt,txe)=>{d();var ttt=iA();function ntt(n,e){var t=this.__data__,r=ttt(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}txe.exports=ntt});var sA=G((hWt,rxe)=>{d();var rtt=W2e(),itt=K2e(),stt=X2e(),ott=exe(),att=nxe();function dE(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}dE.prototype.clear=rtt;dE.prototype.delete=itt;dE.prototype.get=stt;dE.prototype.has=ott;dE.prototype.set=att;rxe.exports=dE});var sxe=G((pWt,ixe)=>{d();var utt=sA();function ltt(){this.__data__=new utt,this.size=0}ixe.exports=ltt});var axe=G((mWt,oxe)=>{d();function ctt(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}oxe.exports=ctt});var lxe=G((xWt,uxe)=>{d();function ftt(n){return this.__data__.get(n)}uxe.exports=ftt});var fxe=G((gWt,cxe)=>{d();function dtt(n){return this.__data__.has(n)}cxe.exports=dtt});var GK=G((yWt,dxe)=>{d();var htt=typeof global=="object"&&global&&global.Object===Object&&global;dxe.exports=htt});var bp=G((vWt,hxe)=>{d();var ptt=GK(),mtt=typeof self=="object"&&self&&self.Object===Object&&self,xtt=ptt||mtt||Function("return this")();hxe.exports=xtt});var zL=G((_Wt,pxe)=>{d();var gtt=bp(),ytt=gtt.Symbol;pxe.exports=ytt});var yxe=G((bWt,gxe)=>{d();var mxe=zL(),xxe=Object.prototype,vtt=xxe.hasOwnProperty,_tt=xxe.toString,oA=mxe?mxe.toStringTag:void 0;function btt(n){var e=vtt.call(n,oA),t=n[oA];try{n[oA]=void 0;var r=!0}catch{}var i=_tt.call(n);return r&&(e?n[oA]=t:delete n[oA]),i}gxe.exports=btt});var _xe=G((EWt,vxe)=>{d();var Ett=Object.prototype,Stt=Ett.toString;function Ctt(n){return Stt.call(n)}vxe.exports=Ctt});var aA=G((SWt,Sxe)=>{d();var bxe=zL(),wtt=yxe(),Att=_xe(),Ttt="[object Null]",Ftt="[object Undefined]",Exe=bxe?bxe.toStringTag:void 0;function Dtt(n){return n==null?n===void 0?Ftt:Ttt:Exe&&Exe in Object(n)?wtt(n):Att(n)}Sxe.exports=Dtt});var hE=G((CWt,Cxe)=>{d();function Ott(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}Cxe.exports=Ott});var YK=G((wWt,wxe)=>{d();var Ntt=aA(),Rtt=hE(),Ltt="[object AsyncFunction]",ktt="[object Function]",Itt="[object GeneratorFunction]",Mtt="[object Proxy]";function Ptt(n){if(!Rtt(n))return!1;var e=Ntt(n);return e==ktt||e==Itt||e==Ltt||e==Mtt}wxe.exports=Ptt});var Txe=G((AWt,Axe)=>{d();var Btt=bp(),jtt=Btt["__core-js_shared__"];Axe.exports=jtt});var Oxe=G((TWt,Dxe)=>{d();var KK=Txe(),Fxe=function(){var n=/[^.]+$/.exec(KK&&KK.keys&&KK.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function qtt(n){return!!Fxe&&Fxe in n}Dxe.exports=qtt});var JK=G((FWt,Nxe)=>{d();var Utt=Function.prototype,$tt=Utt.toString;function ztt(n){if(n!=null){try{return $tt.call(n)}catch{}try{return n+""}catch{}}return""}Nxe.exports=ztt});var Lxe=G((DWt,Rxe)=>{d();var Htt=YK(),Vtt=Oxe(),Wtt=hE(),Qtt=JK(),Gtt=/[\\^$.*+?()[\]{}|]/g,Ytt=/^\[object .+?Constructor\]$/,Ktt=Function.prototype,Jtt=Object.prototype,Xtt=Ktt.toString,Ztt=Jtt.hasOwnProperty,ent=RegExp("^"+Xtt.call(Ztt).replace(Gtt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tnt(n){if(!Wtt(n)||Vtt(n))return!1;var e=Htt(n)?ent:Ytt;return e.test(Qtt(n))}Rxe.exports=tnt});var Ixe=G((OWt,kxe)=>{d();function nnt(n,e){return n==null?void 0:n[e]}kxe.exports=nnt});var Ny=G((NWt,Mxe)=>{d();var rnt=Lxe(),int=Ixe();function snt(n,e){var t=int(n,e);return rnt(t)?t:void 0}Mxe.exports=snt});var HL=G((RWt,Pxe)=>{d();var ont=Ny(),ant=bp(),unt=ont(ant,"Map");Pxe.exports=unt});var uA=G((LWt,Bxe)=>{d();var lnt=Ny(),cnt=lnt(Object,"create");Bxe.exports=cnt});var Uxe=G((kWt,qxe)=>{d();var jxe=uA();function fnt(){this.__data__=jxe?jxe(null):{},this.size=0}qxe.exports=fnt});var zxe=G((IWt,$xe)=>{d();function dnt(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}$xe.exports=dnt});var Vxe=G((MWt,Hxe)=>{d();var hnt=uA(),pnt="__lodash_hash_undefined__",mnt=Object.prototype,xnt=mnt.hasOwnProperty;function gnt(n){var e=this.__data__;if(hnt){var t=e[n];return t===pnt?void 0:t}return xnt.call(e,n)?e[n]:void 0}Hxe.exports=gnt});var Qxe=G((PWt,Wxe)=>{d();var ynt=uA(),vnt=Object.prototype,_nt=vnt.hasOwnProperty;function bnt(n){var e=this.__data__;return ynt?e[n]!==void 0:_nt.call(e,n)}Wxe.exports=bnt});var Yxe=G((BWt,Gxe)=>{d();var Ent=uA(),Snt="__lodash_hash_undefined__";function Cnt(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ent&&e===void 0?Snt:e,this}Gxe.exports=Cnt});var Jxe=G((jWt,Kxe)=>{d();var wnt=Uxe(),Ant=zxe(),Tnt=Vxe(),Fnt=Qxe(),Dnt=Yxe();function pE(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}pE.prototype.clear=wnt;pE.prototype.delete=Ant;pE.prototype.get=Tnt;pE.prototype.has=Fnt;pE.prototype.set=Dnt;Kxe.exports=pE});var ege=G((qWt,Zxe)=>{d();var Xxe=Jxe(),Ont=sA(),Nnt=HL();function Rnt(){this.size=0,this.__data__={hash:new Xxe,map:new(Nnt||Ont),string:new Xxe}}Zxe.exports=Rnt});var nge=G((UWt,tge)=>{d();function Lnt(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}tge.exports=Lnt});var lA=G(($Wt,rge)=>{d();var knt=nge();function Int(n,e){var t=n.__data__;return knt(e)?t[typeof e=="string"?"string":"hash"]:t.map}rge.exports=Int});var sge=G((zWt,ige)=>{d();var Mnt=lA();function Pnt(n){var e=Mnt(this,n).delete(n);return this.size-=e?1:0,e}ige.exports=Pnt});var age=G((HWt,oge)=>{d();var Bnt=lA();function jnt(n){return Bnt(this,n).get(n)}oge.exports=jnt});var lge=G((VWt,uge)=>{d();var qnt=lA();function Unt(n){return qnt(this,n).has(n)}uge.exports=Unt});var fge=G((WWt,cge)=>{d();var $nt=lA();function znt(n,e){var t=$nt(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}cge.exports=znt});var hge=G((QWt,dge)=>{d();var Hnt=ege(),Vnt=sge(),Wnt=age(),Qnt=lge(),Gnt=fge();function mE(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}mE.prototype.clear=Hnt;mE.prototype.delete=Vnt;mE.prototype.get=Wnt;mE.prototype.has=Qnt;mE.prototype.set=Gnt;dge.exports=mE});var mge=G((GWt,pge)=>{d();var Ynt=sA(),Knt=HL(),Jnt=hge(),Xnt=200;function Znt(n,e){var t=this.__data__;if(t instanceof Ynt){var r=t.__data__;if(!Knt||r.length<Xnt-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Jnt(r)}return t.set(n,e),this.size=t.size,this}pge.exports=Znt});var gge=G((YWt,xge)=>{d();var ert=sA(),trt=sxe(),nrt=axe(),rrt=lxe(),irt=fxe(),srt=mge();function xE(n){var e=this.__data__=new ert(n);this.size=e.size}xE.prototype.clear=trt;xE.prototype.delete=nrt;xE.prototype.get=rrt;xE.prototype.has=irt;xE.prototype.set=srt;xge.exports=xE});var vge=G((KWt,yge)=>{d();function ort(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}yge.exports=ort});var bge=G((JWt,_ge)=>{d();var art=Ny(),urt=function(){try{var n=art(Object,"defineProperty");return n({},"",{}),n}catch{}}();_ge.exports=urt});var XK=G((XWt,Sge)=>{d();var Ege=bge();function lrt(n,e,t){e=="__proto__"&&Ege?Ege(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}Sge.exports=lrt});var ZK=G((ZWt,Cge)=>{d();var crt=XK(),frt=QK(),drt=Object.prototype,hrt=drt.hasOwnProperty;function prt(n,e,t){var r=n[e];(!(hrt.call(n,e)&&frt(r,t))||t===void 0&&!(e in n))&&crt(n,e,t)}Cge.exports=prt});var cA=G((eQt,wge)=>{d();var mrt=ZK(),xrt=XK();function grt(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?xrt(t,a,l):mrt(t,a,l)}return t}wge.exports=grt});var Tge=G((tQt,Age)=>{d();function yrt(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}Age.exports=yrt});var gE=G((nQt,Fge)=>{d();function vrt(n){return n!=null&&typeof n=="object"}Fge.exports=vrt});var Oge=G((rQt,Dge)=>{d();var _rt=aA(),brt=gE(),Ert="[object Arguments]";function Srt(n){return brt(n)&&_rt(n)==Ert}Dge.exports=Srt});var kge=G((iQt,Lge)=>{d();var Nge=Oge(),Crt=gE(),Rge=Object.prototype,wrt=Rge.hasOwnProperty,Art=Rge.propertyIsEnumerable,Trt=Nge(function(){return arguments}())?Nge:function(n){return Crt(n)&&wrt.call(n,"callee")&&!Art.call(n,"callee")};Lge.exports=Trt});var VL=G((sQt,Ige)=>{d();var Frt=Array.isArray;Ige.exports=Frt});var Pge=G((oQt,Mge)=>{d();function Drt(){return!1}Mge.exports=Drt});var eJ=G((fA,yE)=>{d();var Ort=bp(),Nrt=Pge(),Bge=typeof fA=="object"&&fA&&!fA.nodeType&&fA,jge=Bge&&typeof yE=="object"&&yE&&!yE.nodeType&&yE,Rrt=jge&&jge.exports===Bge,qge=Rrt?Ort.Buffer:void 0,Lrt=qge?qge.isBuffer:void 0,krt=Lrt||Nrt;yE.exports=krt});var $ge=G((aQt,Uge)=>{d();var Irt=9007199254740991,Mrt=/^(?:0|[1-9]\d*)$/;function Prt(n,e){var t=typeof n;return e=e??Irt,!!e&&(t=="number"||t!="symbol"&&Mrt.test(n))&&n>-1&&n%1==0&&n<e}Uge.exports=Prt});var tJ=G((uQt,zge)=>{d();var Brt=9007199254740991;function jrt(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Brt}zge.exports=jrt});var Vge=G((lQt,Hge)=>{d();var qrt=aA(),Urt=tJ(),$rt=gE(),zrt="[object Arguments]",Hrt="[object Array]",Vrt="[object Boolean]",Wrt="[object Date]",Qrt="[object Error]",Grt="[object Function]",Yrt="[object Map]",Krt="[object Number]",Jrt="[object Object]",Xrt="[object RegExp]",Zrt="[object Set]",eit="[object String]",tit="[object WeakMap]",nit="[object ArrayBuffer]",rit="[object DataView]",iit="[object Float32Array]",sit="[object Float64Array]",oit="[object Int8Array]",ait="[object Int16Array]",uit="[object Int32Array]",lit="[object Uint8Array]",cit="[object Uint8ClampedArray]",fit="[object Uint16Array]",dit="[object Uint32Array]",Da={};Da[iit]=Da[sit]=Da[oit]=Da[ait]=Da[uit]=Da[lit]=Da[cit]=Da[fit]=Da[dit]=!0;Da[zrt]=Da[Hrt]=Da[nit]=Da[Vrt]=Da[rit]=Da[Wrt]=Da[Qrt]=Da[Grt]=Da[Yrt]=Da[Krt]=Da[Jrt]=Da[Xrt]=Da[Zrt]=Da[eit]=Da[tit]=!1;function hit(n){return $rt(n)&&Urt(n.length)&&!!Da[qrt(n)]}Hge.exports=hit});var WL=G((cQt,Wge)=>{d();function pit(n){return function(e){return n(e)}}Wge.exports=pit});var QL=G((hA,vE)=>{d();var mit=GK(),Qge=typeof hA=="object"&&hA&&!hA.nodeType&&hA,dA=Qge&&typeof vE=="object"&&vE&&!vE.nodeType&&vE,xit=dA&&dA.exports===Qge,nJ=xit&&mit.process,git=function(){try{var n=dA&&dA.require&&dA.require("util").types;return n||nJ&&nJ.binding&&nJ.binding("util")}catch{}}();vE.exports=git});var Jge=G((fQt,Kge)=>{d();var yit=Vge(),vit=WL(),Gge=QL(),Yge=Gge&&Gge.isTypedArray,_it=Yge?vit(Yge):yit;Kge.exports=_it});var rJ=G((dQt,Xge)=>{d();var bit=Tge(),Eit=kge(),Sit=VL(),Cit=eJ(),wit=$ge(),Ait=Jge(),Tit=Object.prototype,Fit=Tit.hasOwnProperty;function Dit(n,e){var t=Sit(n),r=!t&&Eit(n),i=!t&&!r&&Cit(n),s=!t&&!r&&!i&&Ait(n),o=t||r||i||s,a=o?bit(n.length,String):[],l=a.length;for(var f in n)(e||Fit.call(n,f))&&!(o&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||wit(f,l)))&&a.push(f);return a}Xge.exports=Dit});var GL=G((hQt,Zge)=>{d();var Oit=Object.prototype;function Nit(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Oit;return n===t}Zge.exports=Nit});var iJ=G((pQt,eye)=>{d();function Rit(n,e){return function(t){return n(e(t))}}eye.exports=Rit});var nye=G((mQt,tye)=>{d();var Lit=iJ(),kit=Lit(Object.keys,Object);tye.exports=kit});var iye=G((xQt,rye)=>{d();var Iit=GL(),Mit=nye(),Pit=Object.prototype,Bit=Pit.hasOwnProperty;function jit(n){if(!Iit(n))return Mit(n);var e=[];for(var t in Object(n))Bit.call(n,t)&&t!="constructor"&&e.push(t);return e}rye.exports=jit});var sJ=G((gQt,sye)=>{d();var qit=YK(),Uit=tJ();function $it(n){return n!=null&&Uit(n.length)&&!qit(n)}sye.exports=$it});var YL=G((yQt,oye)=>{d();var zit=rJ(),Hit=iye(),Vit=sJ();function Wit(n){return Vit(n)?zit(n):Hit(n)}oye.exports=Wit});var uye=G((vQt,aye)=>{d();var Qit=cA(),Git=YL();function Yit(n,e){return n&&Qit(e,Git(e),n)}aye.exports=Yit});var cye=G((_Qt,lye)=>{d();function Kit(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}lye.exports=Kit});var dye=G((bQt,fye)=>{d();var Jit=hE(),Xit=GL(),Zit=cye(),est=Object.prototype,tst=est.hasOwnProperty;function nst(n){if(!Jit(n))return Zit(n);var e=Xit(n),t=[];for(var r in n)r=="constructor"&&(e||!tst.call(n,r))||t.push(r);return t}fye.exports=nst});var KL=G((EQt,hye)=>{d();var rst=rJ(),ist=dye(),sst=sJ();function ost(n){return sst(n)?rst(n,!0):ist(n)}hye.exports=ost});var mye=G((SQt,pye)=>{d();var ast=cA(),ust=KL();function lst(n,e){return n&&ast(e,ust(e),n)}pye.exports=lst});var _ye=G((pA,_E)=>{d();var cst=bp(),xye=typeof pA=="object"&&pA&&!pA.nodeType&&pA,gye=xye&&typeof _E=="object"&&_E&&!_E.nodeType&&_E,fst=gye&&gye.exports===xye,yye=fst?cst.Buffer:void 0,vye=yye?yye.allocUnsafe:void 0;function dst(n,e){if(e)return n.slice();var t=n.length,r=vye?vye(t):new n.constructor(t);return n.copy(r),r}_E.exports=dst});var Eye=G((CQt,bye)=>{d();function hst(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}bye.exports=hst});var Cye=G((wQt,Sye)=>{d();function pst(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}Sye.exports=pst});var oJ=G((AQt,wye)=>{d();function mst(){return[]}wye.exports=mst});var JL=G((TQt,Tye)=>{d();var xst=Cye(),gst=oJ(),yst=Object.prototype,vst=yst.propertyIsEnumerable,Aye=Object.getOwnPropertySymbols,_st=Aye?function(n){return n==null?[]:(n=Object(n),xst(Aye(n),function(e){return vst.call(n,e)}))}:gst;Tye.exports=_st});var Dye=G((FQt,Fye)=>{d();var bst=cA(),Est=JL();function Sst(n,e){return bst(n,Est(n),e)}Fye.exports=Sst});var aJ=G((DQt,Oye)=>{d();function Cst(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}Oye.exports=Cst});var uJ=G((OQt,Nye)=>{d();var wst=iJ(),Ast=wst(Object.getPrototypeOf,Object);Nye.exports=Ast});var lJ=G((NQt,Rye)=>{d();var Tst=aJ(),Fst=uJ(),Dst=JL(),Ost=oJ(),Nst=Object.getOwnPropertySymbols,Rst=Nst?function(n){for(var e=[];n;)Tst(e,Dst(n)),n=Fst(n);return e}:Ost;Rye.exports=Rst});var kye=G((RQt,Lye)=>{d();var Lst=cA(),kst=lJ();function Ist(n,e){return Lst(n,kst(n),e)}Lye.exports=Ist});var cJ=G((LQt,Iye)=>{d();var Mst=aJ(),Pst=VL();function Bst(n,e,t){var r=e(n);return Pst(n)?r:Mst(r,t(n))}Iye.exports=Bst});var Pye=G((kQt,Mye)=>{d();var jst=cJ(),qst=JL(),Ust=YL();function $st(n){return jst(n,Ust,qst)}Mye.exports=$st});var jye=G((IQt,Bye)=>{d();var zst=cJ(),Hst=lJ(),Vst=KL();function Wst(n){return zst(n,Vst,Hst)}Bye.exports=Wst});var Uye=G((MQt,qye)=>{d();var Qst=Ny(),Gst=bp(),Yst=Qst(Gst,"DataView");qye.exports=Yst});var zye=G((PQt,$ye)=>{d();var Kst=Ny(),Jst=bp(),Xst=Kst(Jst,"Promise");$ye.exports=Xst});var Vye=G((BQt,Hye)=>{d();var Zst=Ny(),eot=bp(),tot=Zst(eot,"Set");Hye.exports=tot});var Qye=G((jQt,Wye)=>{d();var not=Ny(),rot=bp(),iot=not(rot,"WeakMap");Wye.exports=iot});var XL=G((qQt,e3e)=>{d();var fJ=Uye(),dJ=HL(),hJ=zye(),pJ=Vye(),mJ=Qye(),Gye=aA(),bE=JK(),Yye="[object Map]",sot="[object Object]",Kye="[object Promise]",Jye="[object Set]",Xye="[object WeakMap]",Zye="[object DataView]",oot=bE(fJ),aot=bE(dJ),uot=bE(hJ),lot=bE(pJ),cot=bE(mJ),cv=Gye;(fJ&&cv(new fJ(new ArrayBuffer(1)))!=Zye||dJ&&cv(new dJ)!=Yye||hJ&&cv(hJ.resolve())!=Kye||pJ&&cv(new pJ)!=Jye||mJ&&cv(new mJ)!=Xye)&&(cv=function(n){var e=Gye(n),t=e==sot?n.constructor:void 0,r=t?bE(t):"";if(r)switch(r){case oot:return Zye;case aot:return Yye;case uot:return Kye;case lot:return Jye;case cot:return Xye}return e});e3e.exports=cv});var n3e=G((UQt,t3e)=>{d();var fot=Object.prototype,dot=fot.hasOwnProperty;function hot(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&dot.call(n,"index")&&(t.index=n.index,t.input=n.input),t}t3e.exports=hot});var i3e=G(($Qt,r3e)=>{d();var pot=bp(),mot=pot.Uint8Array;r3e.exports=mot});var ZL=G((zQt,o3e)=>{d();var s3e=i3e();function xot(n){var e=new n.constructor(n.byteLength);return new s3e(e).set(new s3e(n)),e}o3e.exports=xot});var u3e=G((HQt,a3e)=>{d();var got=ZL();function yot(n,e){var t=e?got(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}a3e.exports=yot});var c3e=G((VQt,l3e)=>{d();var vot=/\w*$/;function _ot(n){var e=new n.constructor(n.source,vot.exec(n));return e.lastIndex=n.lastIndex,e}l3e.exports=_ot});var m3e=G((WQt,p3e)=>{d();var f3e=zL(),d3e=f3e?f3e.prototype:void 0,h3e=d3e?d3e.valueOf:void 0;function bot(n){return h3e?Object(h3e.call(n)):{}}p3e.exports=bot});var g3e=G((QQt,x3e)=>{d();var Eot=ZL();function Sot(n,e){var t=e?Eot(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}x3e.exports=Sot});var v3e=G((GQt,y3e)=>{d();var Cot=ZL(),wot=u3e(),Aot=c3e(),Tot=m3e(),Fot=g3e(),Dot="[object Boolean]",Oot="[object Date]",Not="[object Map]",Rot="[object Number]",Lot="[object RegExp]",kot="[object Set]",Iot="[object String]",Mot="[object Symbol]",Pot="[object ArrayBuffer]",Bot="[object DataView]",jot="[object Float32Array]",qot="[object Float64Array]",Uot="[object Int8Array]",$ot="[object Int16Array]",zot="[object Int32Array]",Hot="[object Uint8Array]",Vot="[object Uint8ClampedArray]",Wot="[object Uint16Array]",Qot="[object Uint32Array]";function Got(n,e,t){var r=n.constructor;switch(e){case Pot:return Cot(n);case Dot:case Oot:return new r(+n);case Bot:return wot(n,t);case jot:case qot:case Uot:case $ot:case zot:case Hot:case Vot:case Wot:case Qot:return Fot(n,t);case Not:return new r;case Rot:case Iot:return new r(n);case Lot:return Aot(n);case kot:return new r;case Mot:return Tot(n)}}y3e.exports=Got});var E3e=G((YQt,b3e)=>{d();var Yot=hE(),_3e=Object.create,Kot=function(){function n(){}return function(e){if(!Yot(e))return{};if(_3e)return _3e(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();b3e.exports=Kot});var C3e=G((KQt,S3e)=>{d();var Jot=E3e(),Xot=uJ(),Zot=GL();function eat(n){return typeof n.constructor=="function"&&!Zot(n)?Jot(Xot(n)):{}}S3e.exports=eat});var A3e=G((JQt,w3e)=>{d();var tat=XL(),nat=gE(),rat="[object Map]";function iat(n){return nat(n)&&tat(n)==rat}w3e.exports=iat});var O3e=G((XQt,D3e)=>{d();var sat=A3e(),oat=WL(),T3e=QL(),F3e=T3e&&T3e.isMap,aat=F3e?oat(F3e):sat;D3e.exports=aat});var R3e=G((ZQt,N3e)=>{d();var uat=XL(),lat=gE(),cat="[object Set]";function fat(n){return lat(n)&&uat(n)==cat}N3e.exports=fat});var M3e=G((eGt,I3e)=>{d();var dat=R3e(),hat=WL(),L3e=QL(),k3e=L3e&&L3e.isSet,pat=k3e?hat(k3e):dat;I3e.exports=pat});var U3e=G((tGt,q3e)=>{d();var mat=gge(),xat=vge(),gat=ZK(),yat=uye(),vat=mye(),_at=_ye(),bat=Eye(),Eat=Dye(),Sat=kye(),Cat=Pye(),wat=jye(),Aat=XL(),Tat=n3e(),Fat=v3e(),Dat=C3e(),Oat=VL(),Nat=eJ(),Rat=O3e(),Lat=hE(),kat=M3e(),Iat=YL(),Mat=KL(),Pat=1,Bat=2,jat=4,P3e="[object Arguments]",qat="[object Array]",Uat="[object Boolean]",$at="[object Date]",zat="[object Error]",B3e="[object Function]",Hat="[object GeneratorFunction]",Vat="[object Map]",Wat="[object Number]",j3e="[object Object]",Qat="[object RegExp]",Gat="[object Set]",Yat="[object String]",Kat="[object Symbol]",Jat="[object WeakMap]",Xat="[object ArrayBuffer]",Zat="[object DataView]",eut="[object Float32Array]",tut="[object Float64Array]",nut="[object Int8Array]",rut="[object Int16Array]",iut="[object Int32Array]",sut="[object Uint8Array]",out="[object Uint8ClampedArray]",aut="[object Uint16Array]",uut="[object Uint32Array]",ga={};ga[P3e]=ga[qat]=ga[Xat]=ga[Zat]=ga[Uat]=ga[$at]=ga[eut]=ga[tut]=ga[nut]=ga[rut]=ga[iut]=ga[Vat]=ga[Wat]=ga[j3e]=ga[Qat]=ga[Gat]=ga[Yat]=ga[Kat]=ga[sut]=ga[out]=ga[aut]=ga[uut]=!0;ga[zat]=ga[B3e]=ga[Jat]=!1;function ek(n,e,t,r,i,s){var o,a=e&Pat,l=e&Bat,f=e&jat;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!Lat(n))return n;var p=Oat(n);if(p){if(o=Tat(n),!a)return bat(n,o)}else{var v=Aat(n),b=v==B3e||v==Hat;if(Nat(n))return _at(n,a);if(v==j3e||v==P3e||b&&!i){if(o=l||b?{}:Dat(n),!a)return l?Sat(n,vat(o,n)):Eat(n,yat(o,n))}else{if(!ga[v])return i?n:{};o=Fat(n,v,a)}}s||(s=new mat);var F=s.get(n);if(F)return F;s.set(n,o),kat(n)?n.forEach(function(q){o.add(ek(q,e,t,q,n,s))}):Rat(n)&&n.forEach(function(q,N){o.set(N,ek(q,e,t,N,n,s))});var D=f?l?wat:Cat:l?Mat:Iat,M=p?void 0:D(n);return xat(M||n,function(q,N){M&&(N=q,q=n[N]),gat(o,N,ek(q,e,t,N,n,s))}),o}q3e.exports=ek});var EE=G((nGt,$3e)=>{d();var lut=U3e(),cut=1,fut=4;function dut(n){return lut(n,cut|fut)}$3e.exports=dut});var mA=G(tk=>{"use strict";d();Object.defineProperty(tk,"__esModule",{value:!0});tk.Dialect=void 0;var z3e=Bs(),H3e=class{sqlFinalStage(e,t){throw new Error("Dialect has no final Stage but called Anyway")}sqlDateToString(e){return`CAST(DATE(${e}) AS ${this.stringTypeName} )`}ignoreInProject(e){return!1}getFunctionInfo(e){return this.functionInfo[e.toLowerCase()]}dialectExpr(e){switch(e.function){case"now":return this.sqlNow();case"timeDiff":return this.sqlMeasureTime(e.left,e.right,e.units);case"delta":return this.sqlAlterTime(e.op,e.base,e.delta,e.units);case"trunc":return this.sqlTrunc(e.expr,e.units);case"extract":return this.sqlExtract(e.expr,e.units);case"cast":return this.sqlCast(e);case"regexpMatch":return this.sqlRegexpMatch(e.expr,e.regexp);case"div":return this.divisionIsInteger?(0,z3e.mkExpr)`${e.numerator}*1.0/${e.denominator}`:(0,z3e.mkExpr)`${e.numerator}/${e.denominator}`;case"timeLiteral":return[this.sqlLiteralTime(e.literal,e.literalType,e.timezone)];case"stringLiteral":return[this.sqlLiteralString(e.literal)]}}sqlSumDistinct(e,t){return"sqlSumDistinct called bu not implemented"}sqlSampleTable(e,t){if(t!==void 0)throw new Error(`Sampling is not supported on dialect ${this.name}.`);return e}sqlOrderBy(e){return`ORDER BY ${e.join(",")}`}};tk.Dialect=H3e});var W3e=G((iGt,V3e)=>{d();(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(t){for(var r=[],i=0,s=0;i<t.length;i++,s+=8)r[s>>>5]|=t[i]<<24-s%32;return r},wordsToBytes:function(t){for(var r=[],i=0;i<t.length*32;i+=8)r.push(t[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(t){for(var r=[],i=0;i<t.length;i++)r.push((t[i]>>>4).toString(16)),r.push((t[i]&15).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],i=0;i<t.length;i+=2)r.push(parseInt(t.substr(i,2),16));return r},bytesToBase64:function(t){for(var r=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)i*8+o*6<=t.length*8?r.push(n.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<t.length;s=++i%4)s!=0&&r.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|n.indexOf(t.charAt(i))>>>6-s*2);return r}};V3e.exports=e})()});var gJ=G((sGt,Q3e)=>{d();var xJ={utf8:{stringToBytes:function(n){return xJ.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(xJ.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(n.charCodeAt(t)&255);return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}};Q3e.exports=xJ});var K3e=G((oGt,Y3e)=>{d();Y3e.exports=function(n){return n!=null&&(G3e(n)||hut(n)||!!n._isBuffer)};function G3e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function hut(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&G3e(n.slice(0,0))}});var X3e=G((aGt,J3e)=>{d();(function(){var n=W3e(),e=gJ().utf8,t=K3e(),r=gJ().bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):t(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=n.bytesToWords(s),l=s.length*8,f=1732584193,p=-271733879,v=-1732584194,b=271733878,F=0;F<a.length;F++)a[F]=(a[F]<<8|a[F]>>>24)&16711935|(a[F]<<24|a[F]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var D=i._ff,M=i._gg,q=i._hh,N=i._ii,F=0;F<a.length;F+=16){var B=f,I=p,z=v,ie=b;f=D(f,p,v,b,a[F+0],7,-680876936),b=D(b,f,p,v,a[F+1],12,-389564586),v=D(v,b,f,p,a[F+2],17,606105819),p=D(p,v,b,f,a[F+3],22,-1044525330),f=D(f,p,v,b,a[F+4],7,-176418897),b=D(b,f,p,v,a[F+5],12,1200080426),v=D(v,b,f,p,a[F+6],17,-1473231341),p=D(p,v,b,f,a[F+7],22,-45705983),f=D(f,p,v,b,a[F+8],7,1770035416),b=D(b,f,p,v,a[F+9],12,-1958414417),v=D(v,b,f,p,a[F+10],17,-42063),p=D(p,v,b,f,a[F+11],22,-1990404162),f=D(f,p,v,b,a[F+12],7,1804603682),b=D(b,f,p,v,a[F+13],12,-40341101),v=D(v,b,f,p,a[F+14],17,-1502002290),p=D(p,v,b,f,a[F+15],22,1236535329),f=M(f,p,v,b,a[F+1],5,-165796510),b=M(b,f,p,v,a[F+6],9,-1069501632),v=M(v,b,f,p,a[F+11],14,643717713),p=M(p,v,b,f,a[F+0],20,-373897302),f=M(f,p,v,b,a[F+5],5,-701558691),b=M(b,f,p,v,a[F+10],9,38016083),v=M(v,b,f,p,a[F+15],14,-660478335),p=M(p,v,b,f,a[F+4],20,-405537848),f=M(f,p,v,b,a[F+9],5,568446438),b=M(b,f,p,v,a[F+14],9,-1019803690),v=M(v,b,f,p,a[F+3],14,-187363961),p=M(p,v,b,f,a[F+8],20,1163531501),f=M(f,p,v,b,a[F+13],5,-1444681467),b=M(b,f,p,v,a[F+2],9,-51403784),v=M(v,b,f,p,a[F+7],14,1735328473),p=M(p,v,b,f,a[F+12],20,-1926607734),f=q(f,p,v,b,a[F+5],4,-378558),b=q(b,f,p,v,a[F+8],11,-2022574463),v=q(v,b,f,p,a[F+11],16,1839030562),p=q(p,v,b,f,a[F+14],23,-35309556),f=q(f,p,v,b,a[F+1],4,-1530992060),b=q(b,f,p,v,a[F+4],11,1272893353),v=q(v,b,f,p,a[F+7],16,-155497632),p=q(p,v,b,f,a[F+10],23,-1094730640),f=q(f,p,v,b,a[F+13],4,681279174),b=q(b,f,p,v,a[F+0],11,-358537222),v=q(v,b,f,p,a[F+3],16,-722521979),p=q(p,v,b,f,a[F+6],23,76029189),f=q(f,p,v,b,a[F+9],4,-640364487),b=q(b,f,p,v,a[F+12],11,-421815835),v=q(v,b,f,p,a[F+15],16,530742520),p=q(p,v,b,f,a[F+2],23,-995338651),f=N(f,p,v,b,a[F+0],6,-198630844),b=N(b,f,p,v,a[F+7],10,1126891415),v=N(v,b,f,p,a[F+14],15,-1416354905),p=N(p,v,b,f,a[F+5],21,-57434055),f=N(f,p,v,b,a[F+12],6,1700485571),b=N(b,f,p,v,a[F+3],10,-1894986606),v=N(v,b,f,p,a[F+10],15,-1051523),p=N(p,v,b,f,a[F+1],21,-2054922799),f=N(f,p,v,b,a[F+8],6,1873313359),b=N(b,f,p,v,a[F+15],10,-30611744),v=N(v,b,f,p,a[F+6],15,-1560198380),p=N(p,v,b,f,a[F+13],21,1309151649),f=N(f,p,v,b,a[F+4],6,-145523070),b=N(b,f,p,v,a[F+11],10,-1120210379),v=N(v,b,f,p,a[F+2],15,718787259),p=N(p,v,b,f,a[F+9],21,-343485551),f=f+B>>>0,p=p+I>>>0,v=v+z>>>0,b=b+ie>>>0}return n.endian([f,p,v,b])};i._ff=function(s,o,a,l,f,p,v){var b=s+(o&a|~o&l)+(f>>>0)+v;return(b<<p|b>>>32-p)+o},i._gg=function(s,o,a,l,f,p,v){var b=s+(o&l|a&~l)+(f>>>0)+v;return(b<<p|b>>>32-p)+o},i._hh=function(s,o,a,l,f,p,v){var b=s+(o^a^l)+(f>>>0)+v;return(b<<p|b>>>32-p)+o},i._ii=function(s,o,a,l,f,p,v){var b=s+(a^(o|~l))+(f>>>0)+v;return(b<<p|b>>>32-p)+o},i._blocksize=16,i._digestsize=16,J3e.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=n.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):n.bytesToHex(a)}})()});var SE=G(Zd=>{"use strict";d();var put=Zd&&Zd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.generateHash=Zd.AndChain=Zd.generateSQLStringLiteral=Zd.indent=void 0;var mut=put(X3e());function xut(n){let e=/(^|\n)/g,t=/\n {2}$/;return n.replace(e,"$1  ").replace(t,`
`)}Zd.indent=xut;function gut(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}Zd.generateSQLStringLiteral=gut;var nk=class{constructor(e){this.clauses=[],e&&this.clauses.push(e)}clone(){let e=new nk;return e.addChain(this),e}add(e){return this.clauses.push(e),this}addChain(e){return this.clauses.push(...e.clauses),this}empty(){return this.clauses.length===0}present(){return this.clauses.length>0}sqlOr(){return this.empty()?"":this.clauses.map(e=>`(${e})`).join("OR ")+`
`}sql(e){if(this.empty())return"";let t="",r="";return e&&(t=e.toUpperCase()+" ",r=`
`),this.clauses.length===1?t+this.clauses[0]+r:t+this.clauses.map(i=>`(${i})`).join(`
AND `)+r}};Zd.AndChain=nk;function yut(n){return(0,mut.default)(n)}Zd.generateHash=yut});var ik=G(rk=>{"use strict";d();Object.defineProperty(rk,"__esModule",{value:!0});rk.StandardSQLDialect=void 0;var Z3e=SE(),fu=Bs(),vut=mA(),_ut={number:"float64"},but=["microsecond","millisecond","second","minute","hour","day"],Eut={day_of_week:"dayofweek",day_of_year:"dayofyear"},e5e=class extends vut.Dialect{constructor(){super(...arguments);this.name="standardsql",this.defaultNumberType="FLOAT64",this.udfPrefix="__udf",this.hasFinalStage=!1,this.stringTypeName="STRING",this.divisionIsInteger=!1,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={enable:!1},this.supportUnnestArrayAgg=!1,this.supportsCTEinCoorelatedSubQueries=!1,this.dontUnionIndex=!0,this.supportsQualify=!0,this.functionInfo={timestamp_seconds:{returnType:"timestamp"},concat:{returnType:"string"}},this.keywords=`
  ALL
  AND
  ANY
  ARRAY
  AS
  ASC
  ASSERT_ROWS_MODIFIED
  AT
  BETWEEN
  BY
  CASE
  CAST
  COLLATE
  CONTAINS
  CREATE
  CROSS
  CUBE
  CURRENT
  DEFAULT
  DEFINE
  DESC
  DISTINCT
  ELSE
  END
  ENUM
  ESCAPE
  EXCEPT
  EXCLUDE
  EXISTS
  EXTRACT
  FALSE
  FETCH
  FOLLOWING
  FOR
  FROM
  FULL
  GROUP
  GROUPING
  GROUPS
  HASH
  HAVING
  IF
  IGNORE
  IN
  INNER
  INTERSECT
  INTERVAL
  INTO
  IS
  JOIN
  LATERAL
  LEFT
  LIKE
  LIMIT
  LOOKUP
  MERGE
  NATURAL
  NEW
  NO
  NOT
  NULL
  NULLS
  OF
  ON
  OR
  ORDER
  OUTER
  OVER
  PARTITION
  PRECEDING
  PROTO
  RANGE
  RECURSIVE
  RESPECT
  RIGHT
  ROLLUP
  ROWS
  SELECT
  SET
  SOME
  STRUCT
  TABLESAMPLE
  THEN
  TO
  TREAT
  TRUE
  UNBOUNDED
  UNION
  UNNEST
  USING
  WHEN
  WHERE
  WINDOW
  WITH
  WITHIN`.split(/\s/)}quoteTablePath(e){return`\`${e}\``}sqlGroupSetTable(e){return`CROSS JOIN (SELECT row_number() OVER() -1  group_set FROM UNNEST(GENERATE_ARRAY(0,${e},1)))`}sqlAnyValue(e,t){return`ANY_VALUE(CASE WHEN group_set=${e} THEN ${t} END)`}sqlAggregateTurtle(e,t,r,i){let s="";i!==void 0&&(s+=` LIMIT ${i}`);let o=t.map(a=>`
  ${a.sqlExpression} as ${a.sqlOutputName}`).join(", ");return`ARRAY_AGG(CASE WHEN group_set=${e} THEN STRUCT(${o}
  ) END IGNORE NULLS ${r} ${s})`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`ANY_VALUE(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlExpression} as ${s.sqlOutputName}`).join(", "),i=t.map(s=>`NULL as ${s.sqlOutputName}`).join(", ");return`COALESCE(ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}) END), STRUCT(${i}))`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, value FROM UNNEST(${e}) value))) as ${t}`:`LEFT JOIN UNNEST(ARRAY((SELECT AS STRUCT value FROM unnest(${e}) value))) as ${t}`:i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, * FROM UNNEST(${e})))) as ${t}`:`LEFT JOIN UNNEST(${e}) as ${t}`}sqlSumDistinctHashedKey(e){e=`CAST(${e} AS STRING)`;let t=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 1, 15)) as int64) as numeric) * 4294967296`,r=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 16, 8)) as int64) as numeric)`;return`(${t} + ${r}) * 0.000000001`}sqlGenerateUUID(){return"GENERATE_UUID()"}sqlFieldReference(e,t,r,i,s){return`${e}.${t}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`UNNEST(${r})`}sqlCreateFunction(e,t){return`CREATE TEMPORARY FUNCTION ${e}(__param ANY TYPE) AS ((
${(0,Z3e.indent)(t)}));
`}sqlCreateTableAsSelect(e,t){return`
CREATE TABLE IF NOT EXISTS \`${e}\`
OPTIONS (
    expiration_timestamp=TIMESTAMP_ADD(current_timestamp(),  INTERVAL 1 hour)
)
AS (
${(0,Z3e.indent)(t)}
);
`}sqlCreateFunctionCombineLastStage(e){return`SELECT ARRAY((SELECT AS STRUCT * FROM ${e}))
`}sqlSelectAliasAsStruct(e){return`(SELECT AS STRUCT ${e}.*)`}sqlMaybeQuoteIdentifier(e){return this.keywords.indexOf(e.toUpperCase())>0?"`"+e+"`":e}sqlNow(){return(0,fu.mkExpr)`CURRENT_TIMESTAMP()`}sqlTrunc(e,t){return e.valueType=="date"?(0,fu.isDateUnit)(t)?(0,fu.mkExpr)`DATE_TRUNC(${e.value},${t})`:(0,fu.mkExpr)`TIMESTAMP(${e.value})`:(0,fu.mkExpr)`TIMESTAMP_TRUNC(${e.value},${t})`}sqlExtract(e,t){let r=Eut[t]||t;return(0,fu.mkExpr)`EXTRACT(${r} FROM ${e.value})`}sqlAlterTime(e,t,r,i){let s=t.value,o=t.valueType;i!="day"&&but.includes(i)?(o="timestamp",t.valueType!="timestamp"&&(s=(0,fu.mkExpr)`TIMESTAMP(${s})`)):t.valueType=="timestamp"&&(s=(0,fu.mkExpr)`DATETIME(${s})`,o="datetime");let a=o.toUpperCase()+(e=="+"?"_ADD":"_SUB"),l=(0,fu.mkExpr)`${a}(${s}, INTERVAL ${r} ${i})`;return o=="datetime"?(0,fu.mkExpr)`TIMESTAMP(${l})`:l}ignoreInProject(e){return e==="_PARTITIONTIME"}sqlCast(e){if(e.srcType!==e.dstType){let t=_ut[e.dstType]||e.dstType;if(!e.safe&&e.srcType&&(0,fu.isTimeFieldType)(e.srcType))return t=="date"?(0,fu.mkExpr)`DATE(${e.expr})`:(0,fu.mkExpr)`TIMESTAMP(${e.expr})`;let r=e.safe?"SAFE_CAST":"CAST";return(0,fu.mkExpr)`${r}(${e.expr}  AS ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,fu.mkExpr)`REGEXP_CONTAINS(${e}, r${t})`}sqlLiteralTime(e,t,r){if(t==="date")return`DATE('${e}')`;if(t==="timestamp")return`TIMESTAMP('${e}', '${r}')`;throw new Error(`Unknown Liternal time format ${t}`)}sqlMeasureTime(e,t,r){let i=e.value,s=t.value,o="TIMESTAMP_DIFF";return r=="second"||r=="minute"||r=="hour"?(e.valueType!="timestamp"&&(i=(0,fu.mkExpr)`TIMESTAMP(${i})`),t.valueType!="timestamp"&&(s=(0,fu.mkExpr)`TIMESTAMP(${s})`)):(o="DATE_DIFF",e.valueType!="date"&&(i=(0,fu.mkExpr)`DATE(${i})`),t.valueType!="date"&&(s=(0,fu.mkExpr)`DATE(${s})`)),(0,fu.mkExpr)`${o}(${s}, ${i}, ${r})`}sqlSampleTable(e,t){if(t!==void 0){if((0,fu.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,fu.isSamplingRows)(t))throw new Error("StandardSQL doesn't support sampling by rows only percent");if((0,fu.isSamplingPercent)(t))return`(SELECT * FROM ${e}  TABLESAMPLE SYSTEM (${t.percent} PERCENT))`}return e}sqlLiteralString(e){let t=e.replace(/\\/g,"\\\\");return"'"+t.replace(/'/g,"\\'")+"'"}};rk.StandardSQLDialect=e5e});var yJ=G(sk=>{"use strict";d();Object.defineProperty(sk,"__esModule",{value:!0});sk.PostgresDialect=void 0;var Sut=SE(),ya=Bs(),Cut=mA(),wut={number:"double precision",string:"varchar"},Aut={day_of_week:"dow",day_of_year:"doy"},Tut={year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"mins",second:"secs"},t5e={second:1,minute:60,hour:3600},n5e=class extends Cut.Dialect{constructor(){super(...arguments);this.name="postgres",this.defaultNumberType="DOUBLE PRECISION",this.udfPrefix="pg_temp.__udf",this.hasFinalStage=!0,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.dontUnionIndex=!1,this.supportsQualify=!1,this.functionInfo={concat:{returnType:"string"}}}quoteTablePath(e){return e.split(".").map(t=>`"${t}"`).join(".")}sqlGroupSetTable(e){return`CROSS JOIN GENERATE_SERIES(0,${e},1) as group_set`}sqlAnyValue(e,t){return`MAX(${t})`}mapFields(e){return e.map(t=>`
  ${t.sqlExpression}${t.type=="number"?`::${this.defaultNumberType}`:""} as ${t.sqlOutputName}`).join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(TO_JSONB((ARRAY_AGG((SELECT TO_JSONB(__x) FROM (SELECT ${this.mapFields(t)}
  ) as __x) ${r} ) FILTER (WHERE group_set=${e}))${s}),'[]'::JSONB)`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`(ARRAY_AGG(${e}__${t}) FILTER (WHERE group_set=${t} AND ${e}__${t} IS NOT NULL))[1] as ${r}`}sqlCoaleseMeasuresInline(e,t){return`TO_JSONB((ARRAY_AGG((SELECT __x FROM (SELECT ${this.mapFields(t)}) as __x)) FILTER (WHERE group_set=${e}))[1])`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_id', row_number() over (), 'value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_number', row_number() over())|| __xx::jsonb as b FROM  JSONB_ARRAY_ELEMENTS(${e}) __xx ))) as ${t} ON true`:`LEFT JOIN JSONB_ARRAY_ELEMENTS(${e}) as ${t} ON true`}sqlSumDistinctHashedKey(e){return`('x' || MD5(${e}::varchar))::bit(64)::bigint::DECIMAL(65,0)  *18446744073709551616 + ('x' || SUBSTR(MD5(${e}::varchar),17))::bit(64)::bigint::DECIMAL(65,0)`}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlFieldReference(e,t,r,i,s){let o=`${e}->>'${t}'`;if(i){switch(r){case"string":break;case"number":o=`(${o})::double precision`;break;case"struct":o=`(${o})::jsonb`;break}return o}else return`${e}."${t}"`}sqlUnnestPipelineHead(e,t){return e?`UNNEST(ARRAY((SELECT ${t})))`:`JSONB_ARRAY_ELEMENTS(${t})`}sqlCreateFunction(e,t){return`CREATE FUNCTION ${e}(JSONB) RETURNS JSONB AS $$
${(0,Sut.indent)(t)}
$$ LANGUAGE SQL;
`}sqlCreateFunctionCombineLastStage(e){return`SELECT JSONB_AGG(__stage0) FROM ${e}
`}sqlFinalStage(e,t){return`SELECT row_to_json(finalStage) as row FROM ${e} AS finalStage`}sqlSelectAliasAsStruct(e){return`ROW(${e})`}sqlMaybeQuoteIdentifier(e){return`"${e}"`}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}sqlNow(){return(0,ya.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,ya.mkExpr)`${e.value}+interval'1'day`:e.value,s=(0,ya.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,ya.mkExpr)`(${s}-interval'1'day)`:s}sqlExtract(e,t){let r=Aut[t]||t,i=(0,ya.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,ya.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,ya.mkExpr)`${r}*3`);let s=(0,ya.mkExpr)`make_interval(${Tut[i]}=>${r})`;return(0,ya.mkExpr)`((${t.value})${e}${s})`}sqlCast(e){if(e.dstType!==e.srcType){let t=wut[e.dstType]||e.dstType;return(0,ya.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,ya.mkExpr)`(${e} ~ ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE('${e}')`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(t5e[r]){i=(0,ya.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,ya.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let a=(0,ya.mkExpr)`(${s} - ${i})`;return r=="second"?a:(0,ya.mkExpr)`TRUNC(${a}/${t5e[r].toString()})`}if(r==="day")return(0,ya.mkExpr)`${s}::date - ${i}::date`;let o=(0,ya.mkExpr)`(DATE_PART('year', ${s}) - DATE_PART('year', ${i}))`;if(r=="year")return o;if(r=="week"){let a=(0,ya.mkExpr)`(DATE_TRUNC('week', ${s} + '1 day'::interval)::date - DATE_TRUNC('week', ${i} + '1 day'::interval)::date)`;return(0,ya.mkExpr)`${a} / 7`}if(r=="month"){let a=(0,ya.mkExpr)`DATE_PART('month', ${s}) - DATE_PART('month', ${i})`;return(0,ya.mkExpr)`${o} * 12 + ${a}`}if(r=="quarter"){let a=(0,ya.mkExpr)`DATE_PART('quarter', ${s}) - DATE_PART('quarter', ${i})`;return(0,ya.mkExpr)`${o} * 4 + ${a}`}throw new Error(`Unknown or unhandled postgres time unit: ${r}`)}sqlSumDistinct(e,t){return`(
      SELECT sum((a::json->>'f2')::DOUBLE PRECISION) as value
      FROM (
        SELECT UNNEST(array_agg(distinct row_to_json(row(${e},${t}))::text)) a
      ) a
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,ya.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,ya.isSamplingRows)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM_ROWS(${t.rows}))`;if((0,ya.isSamplingPercent)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM (${t.percent}))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}sqlLiteralString(e){return"'"+e.replace(/'/g,"''")+"'"}};sk.PostgresDialect=n5e});var vJ=G(ok=>{"use strict";d();Object.defineProperty(ok,"__esModule",{value:!0});ok.DuckDBDialect=void 0;var Oa=Bs(),Fut=SE(),Dut=mA(),r5e="-- hack: split on this",fGt=`
ALL
ANALYSE
ANALYZE
AND
ANY
ARRAY
AS
ASC_P
ASYMMETRIC
BOTH
CASE
CAST
CHECK_P
COLLATE
COLUMN
CONSTRAINT
CREATE_P
CURRENT_CATALOG
CURRENT_DATE
CURRENT_ROLE
CURRENT_TIME
CURRENT_TIMESTAMP
CURRENT_USER
DEFAULT
DEFERRABLE
DESC_P
DISTINCT
DO
ELSE
END_P
EXCEPT
FALSE_P
FETCH
FOR
FOREIGN
FROM
GRANT
GROUP_P
HAVING
IN_P
INITIALLY
INTERSECT
INTO
LATERAL_P
LEADING
LIMIT
LOCALTIME
LOCALTIMESTAMP
NOT
NULL_P
OFFSET
ON
ONLY
OR
ORDER
PLACING
PRIMARY
REFERENCES
RETURNING
SELECT
SESSION_USER
SOME
SYMMETRIC
TABLE
THEN
TO
TRAILING
TRUE_P
UNION
UNIQUE
USER
USING
VARIADIC
WHEN
WHERE
WINDOW
WITH
`.split(/\s/),Out={number:"double precision",string:"varchar"},Nut={day_of_week:"dow",day_of_year:"doy"},i5e={second:1,minute:60,hour:3600},s5e=class extends Dut.Dialect{constructor(){super(...arguments);this.name="duckdb",this.defaultNumberType="DOUBLE",this.hasFinalStage=!1,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!0,this.unnestWithNumbers=!0,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.dontUnionIndex=!1,this.supportsQualify=!0,this.functionInfo={concat:{returnType:"string"}}}get udfPrefix(){return`__udf${Math.floor(Math.random()*1e5)}`}quoteTablePath(e){return e.match(/\//)?`'${e}'`:e}sqlGroupSetTable(e){return`CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,${e},1)) as group_set  ) as group_set`}sqlAnyValue(e,t){return`FIRST(${t}) FILTER (WHERE ${t} IS NOT NULL)`}mapFields(e){return e.join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(LIST({${t.map(a=>`
  ${a.sqlOutputName}: ${a.sqlExpression}`).join(", ")}} ${r}) FILTER (WHERE group_set=${e})${s},[])`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN ROW(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`MAX(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlOutputName}: ${s.sqlExpression} `).join(", "),i=t.map(s=>`${s.sqlOutputName}: NULL`).join(", ");return`COALESCE(FIRST({${r}}) FILTER(WHERE group_set=${e}), {${i}})`}sqlUnnestAlias(e,t,r,i){return`LEFT JOIN (select UNNEST(generate_series(1,
        100000, --
        -- (SELECT genres_length FROM movies limit 1),
        1)) as __row_id) as ${t} ON  ${t}.__row_id <= array_length(${e})`}sqlSumDistinctHashedKey(e){return"uses sumDistinctFunction, should not be called"}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlDateToString(e){return`(${e})::date::varchar`}sqlFieldReference(e,t,r,i,s){return s?e:`${e}.${this.sqlMaybeQuoteIdentifier(t)}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`(SELECT UNNEST(${r}) as base)`}sqlCreateFunction(e,t){return`DROP MACRO IF EXISTS ${e}; 
${r5e}
 CREATE MACRO ${e}(_param) AS (
${(0,Fut.indent)(t)}
);
${r5e}
`}sqlCreateFunctionCombineLastStage(e,t){return`SELECT LIST(ROW(${t.fields.map(r=>this.sqlMaybeQuoteIdentifier((0,Oa.getIdentifier)(r))).join(",")})) FROM ${e}
`}sqlSelectAliasAsStruct(e,t){return`ROW(${t.map(r=>`${e}.${r}`).join(", ")})`}sqlMaybeQuoteIdentifier(e){return'"'+e+'"'}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(i5e[r]){i=(0,Oa.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,Oa.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let o=(0,Oa.mkExpr)`(${s} - ${i})`;return r=="second"?o:(0,Oa.mkExpr)`FLOOR(${o}/${i5e[r].toString()})`}return e.valueType!="date"&&(i=(0,Oa.mkExpr)`CAST((${i}) AS DATE)`),t.valueType!="date"&&(s=(0,Oa.mkExpr)`CAST((${s}) AS DATE)`),r=="week"&&(i=(0,Oa.mkExpr)`(${i} + INTERVAL 1 DAY)`,s=(0,Oa.mkExpr)`(${s} + INTERVAL 1 DAY)`),(0,Oa.mkExpr)`DATE_DIFF('${r}', ${i}, ${s})`}sqlNow(){return(0,Oa.mkExpr)`CURRENT_TIMESTAMP::TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,Oa.mkExpr)`${e.value} + INTERVAL 1 DAY`:e.value,s=(0,Oa.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,Oa.mkExpr)`(${s} - INTERVAL 1 DAY)`:s}sqlExtract(e,t){let r=Nut[t]||t,i=(0,Oa.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,Oa.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,Oa.mkExpr)`${r}*3`),i=="week"&&(i="day",r=(0,Oa.mkExpr)`${r}*7`);let s=(0,Oa.mkExpr)`INTERVAL (${r}) ${i}`;return(0,Oa.mkExpr)`((${t.value})) ${e} ${s}`}sqlCast(e){if(e.dstType!==e.srcType){let t=Out[e.dstType]||e.dstType;return(0,Oa.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,Oa.mkExpr)`REGEXP_MATCHES(${e}, ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE '${e}'`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}sqlSumDistinct(e,t){return`(
      SELECT sum(a.val) as value
      FROM (
        SELECT UNNEST(list(distinct {key:${e}, val: ${t}})) a
      )
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,Oa.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,Oa.isSamplingRows)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.rows})`;if((0,Oa.isSamplingPercent)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.percent} PERCENT (bernoulli))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}sqlLiteralString(e){return"'"+e.replace(/'/g,"''")+"'"}};ok.DuckDBDialect=s5e});var _J=G(CE=>{"use strict";d();Object.defineProperty(CE,"__esModule",{value:!0});CE.registerDialect=CE.getDialect=void 0;var Rut=vJ(),Lut=yJ(),kut=ik(),o5e=new Map;function Iut(n){let e=o5e.get(n);if(e===void 0)throw new Error(`Unknown Dialect ${n}`);return e}CE.getDialect=Iut;function ak(n){o5e.set(n.name,n)}CE.registerDialect=ak;ak(new Lut.PostgresDialect);ak(new kut.StandardSQLDialect);ak(new Rut.DuckDBDialect)});var u5e=G(_0=>{"use strict";d();Object.defineProperty(_0,"__esModule",{value:!0});_0.registerDialect=_0.getDialect=_0.DuckDBDialect=_0.PostgresDialect=_0.StandardSQLDialect=_0.Dialect=void 0;var Mut=mA();Object.defineProperty(_0,"Dialect",{enumerable:!0,get:function(){return Mut.Dialect}});var Put=ik();Object.defineProperty(_0,"StandardSQLDialect",{enumerable:!0,get:function(){return Put.StandardSQLDialect}});var But=yJ();Object.defineProperty(_0,"PostgresDialect",{enumerable:!0,get:function(){return But.PostgresDialect}});var jut=vJ();Object.defineProperty(_0,"DuckDBDialect",{enumerable:!0,get:function(){return jut.DuckDBDialect}});var a5e=_J();Object.defineProperty(_0,"getDialect",{enumerable:!0,get:function(){return a5e.getDialect}});Object.defineProperty(_0,"registerDialect",{enumerable:!0,get:function(){return a5e.registerDialect}})});var CJ=G(q1=>{"use strict";d();var qut=q1&&q1.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(q1,"__esModule",{value:!0});q1.flattenQuery=q1.QueryModel=q1.Segment=void 0;var l5e=qut(EE()),Uut=u5e(),$ut=ik(),_s=Bs(),od=SE();function bJ(n){return`'${n}'`}var wE=class{constructor(e=!0,t){this.withs=[],this.udfs=[],this.pdts=[],this.stagePrefix="__stage",this.parent=t,this.useCTE=e}getName(e){return`${this.stagePrefix}${e}`}root(){return this.parent===void 0?this:this.parent.root()}addStage(e){return this.useCTE?(this.withs.push(e),this.getName(this.withs.length-1)):(this.withs[0]=e,(0,od.indent)(`
(${e})
`))}addUDF(e,t,r){let{sql:i,lastStageName:s}=e.combineStages(!0);if(s===void 0)throw new Error("Internal Error: no stage to combine");i+=t.sqlCreateFunctionCombineLastStage(s,r);let o=`${t.udfPrefix}${this.root().udfs.length}`;return i=t.sqlCreateFunction(o,i),this.root().udfs.push(i),o}addPDT(e,t){let r=this.combineStages(!1).sql+this.withs[this.withs.length-1],i="scratch."+e+(0,od.generateHash)(r);return this.root().pdts.push(t.sqlCreateTableAsSelect(i,r)),i}combineStages(e){if(!this.useCTE)return{sql:this.withs[0],lastStageName:this.withs[0]};let t=this.getName(0),r="WITH ",i="";for(let s=0;s<this.withs.length-(e?0:1);s++){let o=this.withs[s];if(t=this.getName(s),o===void 0)throw new Error(`Expected sql WITH to be present for stage ${t}.`);i+=`${r}${t} AS (
${(0,od.indent)(o)})
`,r=", "}return{sql:i,lastStageName:t}}generateSQLStages(){let e=this.withs.length-1;if(e<0)throw new Error("No SQL generated");let t=this.udfs.join(`
`),r=this.pdts.join(`
`),i=this.combineStages(!1).sql;return t+r+i+this.withs[e]}generateCoorelatedSubQuery(e,t){return this.useCTE?this.combineStages(!0).sql+e.sqlCreateFunctionCombineLastStage(this.getName(this.withs.length-1),t):e.sqlCreateFunctionCombineLastStage(`(${this.withs[0]})`,t)}},AE=class{constructor(){this.totalGroupSet=-1}withWhere(e){let t=new AE;return t.whereSQL=e,t.applyValue=this.applyValue,t.totalGroupSet=this.totalGroupSet,t}withApply(e){let t=new AE;return t.whereSQL=this.whereSQL,t.applyValue=e,t.totalGroupSet=this.totalGroupSet,t}withTotal(e){let t=new AE;return t.whereSQL=this.whereSQL,t.applyValue=this.applyValue,t.totalGroupSet=e,t}},EJ=class{constructor(e){this.fieldDef=e}getIdentifier(){return(0,_s.getIdentifier)(this.fieldDef)}getChildByName(e){}},xA=class extends EJ{constructor(e,t){super(e);this.parent=t,this.fieldDef=e}mayNeedUniqueKey(){return!1}getJoinableParent(){let e=this.parent;if(e.fieldDef.structRelationship.type==="inline"){if(e)return e.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return e}caseGroup(e,t){return e.length===0?t:`CASE WHEN group_set${e.length===1?`=${e[0]}`:` IN (${e.join(",")})`} THEN
  ${t}
  END`}getFullOutputName(){return this.parent.getFullOutputName()+this.getIdentifier()}generateFieldFragment(e,t,r,i){let s=t.getFieldByName(r.path);if((0,_s.hasExpression)(s.fieldDef)){let o=this.generateExpressionFromExpr(e,s.parent,s.fieldDef.e,i);return o.match(/^\(.*\)$/)||(o=`(${o})`),o}else return s.generateExpression(e)}generateParameterFragment(e,t,r,i){let s=t.parameters()[r.path];if((0,_s.isValueParameter)(s)){if(s.value)return this.generateExpressionFromExpr(e,t,s.value,i)}else if(s.condition)return this.generateExpressionFromExpr(e,t,s.condition,i);throw new Error(`Can't generate SQL, no value for ${r.path}`)}generateFilterFragment(e,t,r,i){let s=new od.AndChain(i.whereSQL);for(let o of r.filterList)s.add(this.generateExpressionFromExpr(e,t,o.expression,i.withWhere()));return this.generateExpressionFromExpr(e,t,r.e,i.withWhere(s.sql()))}generateDimFragment(e,t,r,i){let s=this.generateExpressionFromExpr(e,t,r.e,i);return i.whereSQL&&(s=`CASE WHEN ${i.whereSQL} THEN ${s} END`),s}generateUngroupedFragment(e,t,r,i){if(i.totalGroupSet!==-1)throw new Error("Already in ALL.  Cannot nest within an all calcuation.");let s,o;if(r.fields&&r.fields.length>0){let v=r.fields.sort().join("|")+r.type;if(o=e.ungroupedSets.get(v),o===void 0)throw new Error(`Internal Error, cannot find groupset with key ${v}`);s=o.groupSet}else s=e.parent?e.parent.groupSet:0;let a=this.generateExpressionFromExpr(e,t,r.e,i.withTotal(s)),l=e.getUngroupPartitions(o),f="",p=l.map(v=>v.getPartitionSQL()).join(", ");return p.length>0&&(f=`PARTITION BY ${p}`),`MAX(${a}) OVER (${f})`}generateDistinctKeyIfNecessary(e,t,r){let i=t;if(r&&(i=this.parent.root().getStructByName(r)),i.needsSymetricCalculation(e))return i.getDistinctKey().generateExpression(e)}generateSumFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath),a;return o?this.parent.dialect.supportsSumDistinctFunction?a=this.parent.dialect.sqlSumDistinct(o,s):a=m5e(this.parent.dialect,s,o):a=`SUM(${s})`,`COALESCE(${a},0)`}generateSymmetricFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i);return`${r.function==="count_distinct"?"count(distinct ":r.function+"("}${s})`}generateAvgFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath);if(o){let a=o;i.whereSQL&&(a=`CASE WHEN ${i.whereSQL} THEN ${o} END`);let l;return this.parent.dialect.supportsSumDistinctFunction?l=this.parent.dialect.sqlSumDistinct(o,s):l=m5e(this.parent.dialect,s,o),`(${l})/NULLIF(COUNT(DISTINCT ${a}),0)`}else return`AVG(${s})`}generateCountFragment(e,t,r,i){let s="COUNT(",o="1",a=this.generateDistinctKeyIfNecessary(e,t,r.structPath);return a&&(s="COUNT(DISTINCT",o=a),i.whereSQL?`${s} CASE WHEN ${i.whereSQL} THEN ${o} END)`:`${s} ${o})`}generateDialect(e,t,r,i){return this.generateExpressionFromExpr(e,t,t.dialect.dialectExpr(r),i)}generateAnalyticFragment(e,t,r,i){let s=e.getUngroupPartitions(void 0),o="",a=s.map(M=>M.getPartitionSQL()).join(", ");a.length>0&&(o=`PARTITION BY ${a}`);let l="",f=[],p,v=e.firstSegment.orderBy||e.calculateDefaultOrderBy();for(let M of v)typeof M.field=="string"?p={name:M.field,fif:e.getField(M.field)}:p=e.getFieldByNumber(M.field),e.firstSegment.type==="reduce"?f.push(` ${p.fif.getSQL()} ${M.dir||"ASC"}`):e.firstSegment.type==="project"&&f.push(` ${p.fif.f.generateExpression(e)} ${M.dir||"ASC"}`);let b=_s.malloyFunctions[r.function],F=[];if(r.parameters!==void 0)for(let M of r.parameters)typeof M=="string"?F.push(M):typeof M=="number"?F.push(M.toString()):F.push(this.generateExpressionFromExpr(e,t,M,i));return f.length>0&&(l=" "+this.parent.dialect.sqlOrderBy(f)),`${b.sqlName||r.function}(${F.join(", ")}) OVER(${o} ${l} )`}generateExpressionFromExpr(e,t,r,i=new AE){let s="";for(let o of r)if(typeof o=="string")s+=o;else if((0,_s.isFieldFragment)(o))s+=this.generateFieldFragment(e,t,o,i);else if((0,_s.isParameterFragment)(o))s+=this.generateParameterFragment(e,t,o,i);else if((0,_s.isFilterFragment)(o))s+=this.generateFilterFragment(e,t,o,i);else if((0,_s.isUngroupFragment)(o))s+=this.generateUngroupedFragment(e,t,o,i);else if((0,_s.isAnalyticFragment)(o))s+=this.generateAnalyticFragment(e,t,o,i);else if((0,_s.isAggregateFragment)(o)){let a;if(o.function==="sum")a=this.generateSumFragment(e,t,o,i);else if(o.function==="avg")a=this.generateAvgFragment(e,t,o,i);else if(o.function==="count")a=this.generateCountFragment(e,t,o,i);else if(["count_distinct","min","max"].includes(o.function))a=this.generateSymmetricFragment(e,t,o,i);else throw new Error(`Internal Error: Unknown aggregate function ${o.function}`);if(e.root().isComplexQuery){let l=e.groupSet;i.totalGroupSet!==-1&&(l=i.totalGroupSet),s+=this.caseGroup([l],a)}else s+=a}else if((0,_s.isApplyFragment)(o)){let a=this.generateExpressionFromExpr(e,t,o.value,i);s+=this.generateExpressionFromExpr(e,t,o.to,i.withApply(a))}else if((0,_s.isApplyValue)(o))if(i.applyValue)s+=i.applyValue;else throw new Error("Internal Error: Partial application value referenced but not provided");else if(o.type=="dialect")s+=this.generateDialect(e,t,o,i);else throw new Error(`Internal Error: Unknown expression fragment ${JSON.stringify(o,void 0,2)}`);return s}getExpr(){return(0,_s.hasExpression)(this.fieldDef)?this.fieldDef.e:[this.parent.dialect.sqlFieldReference(this.parent.getSQLIdentifier(),this.fieldDef.name,this.fieldDef.type,this.parent.fieldDef.structSource.type==="nested"||this.parent.fieldDef.structSource.type==="inline"||this.parent.fieldDef.structSource.type==="sql"&&this.parent.fieldDef.structSource.method==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray)]}generateExpression(e){return this.generateExpressionFromExpr(e,this.parent,this.getExpr())}};function TE(n){return n instanceof wc&&n.isCalculated()}function af(n){return n instanceof wc&&!n.isCalculated()}var wc=class extends xA{includeInWildcard(){return!0}isCalculated(){return(0,_s.expressionIsCalculation)(this.fieldDef.expressionType)}getFilterList(){return[]}hasExpression(){return(0,_s.hasExpression)(this.fieldDef)}},c5e=class extends wc{},f5e=class extends wc{},uk=class extends wc{},d5e=class extends wc{},lk=class extends wc{constructor(e,t,r){super(e,t);this.primaryKey=r}getName(){return(0,_s.getIdentifier)(this.fieldDef)}getAsJoinedStructDef(e){return{...this.parent.fieldDef,structRelationship:{type:"one",onExpression:[{type:"field",path:this.primaryKey},"=",{type:"field",path:e}]}}}},gA=class extends wc{generateExpression(e){let t=this.fieldDef;if(t.timeframe){let r=this.parent.dialect.sqlTrunc({value:this.getExpr(),valueType:"date"},t.timeframe);return this.generateExpressionFromExpr(e,this.parent,r)}else return super.generateExpression(e)}getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new gA(t,this.parent)}},yA=class extends wc{getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new yA(t,this.parent)}},h5e=class extends wc{generateExpression(e){var t;return this.parent.primaryKey()?this.parent.getPrimaryKeyField(this.fieldDef).generateExpression(e):this.parent.fieldDef.structSource.type==="nested"?`CONCAT(${(t=this.parent.parent)===null||t===void 0?void 0:t.getDistinctKey().generateExpression(e)}, 'x', ${this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__row_id","string",!0,!1)})`:this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__distinct_key","string",this.parent.fieldDef.structRelationship.type==="nested",!1)}includeInWildcard(){return!1}},p5e=9;function m5e(n,e,t){let r=9,i=n.sqlSumDistinctHashedKey(t),s=10**(r-p5e),a=`(${`
  (
    SUM(DISTINCT
      (CAST(ROUND(COALESCE(${e},0)*(${s}*1.0), ${p5e}) AS NUMERIC) +
      ${i}
    ))
    -
     SUM(DISTINCT ${i})
  )`}/(${s}*1.0))`;return a=`CAST(${a} as ${n.defaultNumberType})`,a}var uf=class{constructor(e,t,r){this.type="field",this.additionalGroupSets=[],this.f=e,this.fieldUsage=t,this.parent=r}root(){return this.parent.root()}getSQL(){let e=this.f.generateExpression(this.parent);return af(this.f)&&(e=this.f.caseGroup(this.parent.childGroups.concat(this.additionalGroupSets),e)),e}getPartitionSQL(){return this.partitionSQL===void 0?this.getSQL():this.partitionSQL}},Ep=class{constructor(e,t){this.type="query",this.allFields=new Map,this.groupSet=0,this.depth=0,this.childGroups=[],this.hasHaving=!1,this.ungroupedSets=new Map,this.resultUsesUngrouped=!1,this.parent=t,this.turtleDef=e,this.firstSegment=e.pipeline[0]}addField(e,t,r){let i;if(i=this.allFields.get(e)){if(i.type==="query")throw new Error(`Redefinition of field ${t.fieldDef.name} as struct`);if(i.fieldUsage.type==="result"){if(r.type!=="result")return;throw new Error(`Ambiguous output field name '${t.fieldDef.name}'.`)}}this.add(e,new uf(t,r,this))}parentGroupSet(){return this.parent?this.parent.groupSet:0}add(e,t){this.allFields.set(e,t)}hasField(e){let t=this.allFields.get(e);return t!==void 0&&t instanceof uf}getField(e){let t=this.allFields.get(e);if(t===void 0)throw new Error(`Internal Error, field Not defined ${e}`);if(t instanceof uf)return t;throw new Error(`can't use a query here ${e}`)}getFieldByNumber(e){for(let[t,r]of this.allFields)if(r instanceof uf&&r.fieldUsage.type==="result"&&r.fieldUsage.resultIndex===e)return{name:t,fif:r};throw new Error(`Invalid Order By index '${e}`)}computeGroups(e,t){e===0&&this.resultUsesUngrouped&&this.root().computeOnlyGroups.push(e++);for(let[o,a]of this.ungroupedSets){let l=e++;a.groupSet=l,this.root().computeOnlyGroups.push(l)}this.groupSet=e++,this.depth=t;let r=t,i=!1,s=[this.groupSet];for(let[o,a]of this.allFields)if(a.type==="query"){let l=a;if(i=!0,l.firstSegment.type==="reduce"){let f=l.computeGroups(e,t+1);s=s.concat(f.children),e=f.nextGroupSetNumber,f.maxDepth>r&&(r=f.maxDepth)}}return this.childGroups=s,{nextGroupSetNumber:e,maxDepth:r,children:s,isComplex:i}}fields(e=void 0){let t=[];for(let r of this.allFields.values())r instanceof uf&&(e===void 0||e(r))&&t.push(r);return t}fieldNames(e){let t=[];for(let[r,i]of this.allFields)i instanceof uf&&(e===void 0||e(i))&&t.push(r);return t}getRepeatedResultType(){let e="inline_all_numbers";for(let t of this.fields())if(t.fieldUsage.type==="result"){if(af(t.f))return"nested";t.f instanceof tc&&(e="inline")}return e}structs(){let e=[];for(let t of this.allFields.values())t instanceof Ep&&e.push(t);return e}selectStructs(e,t){t(this)&&e.push(this);for(let r of this.structs())r.selectStructs(e,t);return e}calculateDefaultOrderBy(){let e;for(let[t,r]of this.allFields)if(r instanceof uf&&r.fieldUsage.type==="result"){if(e||(e=r.fieldUsage.resultIndex),["date","timestamp"].indexOf(r.f.fieldDef.type)>-1)return[{dir:"desc",field:r.fieldUsage.resultIndex}];if(TE(r.f))return[{dir:"desc",field:r.fieldUsage.resultIndex}]}return e?[{dir:"asc",field:e}]:[]}addStructToJoin(e,t,r,i){var s;let o=e.getIdentifier();if(i.indexOf(o)!==-1)return;let a;if(a=this.root().joins.get(o)){a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r);return}let l,f=(s=e.parent)===null||s===void 0?void 0:s.getJoinableParent();f&&(this.addStructToJoin(f,t,!1,i),l=this.root().joins.get(f.getIdentifier()));let p=e.fieldDef.structRelationship;(0,_s.isJoinOn)(p)&&e.parent&&p.onExpression!==void 0&&i.indexOf(o)===-1&&t.addDependantExpr(this,e.parent,p.onExpression,[...i,o]),(a=this.root().joins.get(o))||(a=new g5e(e,o,l),this.root().joins.set(o,a)),a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r)}findJoins(e){for(let t of this.fields())this.addStructToJoin(t.f.getJoinableParent(),e,t.f.mayNeedUniqueKey(),[]);for(let t of this.structs())t.findJoins(e)}root(){if(this.parent)return this.parent.root();throw new Error("Internal Error, Null parent FieldInstanceResult")}getUngroupPartitions(e){let t=[],r=this,i=[],s=[];if(e===void 0||e.type==="all"){let a=(e==null?void 0:e.fields)||[];i=this.fields(l=>af(l.f)&&l.fieldUsage.type==="result"&&a.indexOf(l.f.getIdentifier())===-1).map(l=>l.f.getIdentifier())}else i=e.fields;let o=!0;for(;r!==void 0;)(o||(e==null?void 0:e.type)==="exclude")&&(s=s.concat(r.fields(a=>af(a.f)&&a.fieldUsage.type==="result").map(a=>a.f.getIdentifier()))),t=t.concat(r.fields(a=>af(a.f)&&a.fieldUsage.type==="result"&&i.indexOf(a.f.getIdentifier())===-1)),r=r.parent,o=!1;for(let a of(e==null?void 0:e.fields)||[])if(s.indexOf(a)===-1)throw new Error(`${e==null?void 0:e.type}(): unknown field name "${a}" or name not in scope.`);return t}assignFieldsToGroups(){for(let[e,t]of this.ungroupedSets)for(let r of this.getUngroupPartitions(t))r.additionalGroupSets.push(t.groupSet);for(let e of this.structs())e.assignFieldsToGroups()}},x5e=class extends Ep{constructor(e){super(e,void 0);this.joins=new Map,this.havings=new od.AndChain,this.isComplexQuery=!1,this.queryUsesPartitioning=!1,this.computeOnlyGroups=[],this.elimatedComputeGroups=!1}root(){return this}eliminateComputeGroupsSQL(){return this.elimatedComputeGroups||this.computeOnlyGroups.length==0?"":(this.elimatedComputeGroups=!0,`group_set NOT IN (${this.computeOnlyGroups.join(",")})`)}calculateSymmetricAggregates(){let e;for(let[t,r]of this.joins)if(r.parentRelationship()==="many_to_many")e="0never";else if(e===void 0)e=t;else if(r.parentRelationship()==="one_to_many"){let s=r.queryStruct;s.parent&&s.parent.getIdentifier()===e?e=t:e="0never"}for(let[t,r]of this.joins)r.leafiest=t===e;for(let[t,r]of this.joins)if(!r.leafiest&&r.mayNeedUniqueKey){let i=r;for(;i;)i.queryStruct.primaryKey()||(i.makeUniqueKey=!0),i.queryStruct.fieldDef.structRelationship.type==="nested"?i=i.parent:i=void 0}}},g5e=class{constructor(e,t,r){if(this.mayNeedUniqueKey=!1,this.makeUniqueKey=!1,this.leafiest=!1,this.children=[],this.queryStruct=e,this.parent=r,this.alias=t,r&&r.children.push(this),this.queryStruct.fieldDef.filterList){this.joinFilterConditions=[];for(let i of this.queryStruct.fieldDef.filterList){let s=new uk({type:"boolean",name:"ignoreme",e:i.expression},this.queryStruct);this.joinFilterConditions.push(s)}}}parentRelationship(){if(this.queryStruct.parent===void 0)return"root";switch(this.queryStruct.fieldDef.structRelationship.type){case"one":return"many_to_one";case"cross":return"many_to_many";case"many":return"one_to_many";case"nested":return"one_to_many";case"inline":return"one_to_one";default:throw new Error(`Internal error unknown relationship type to parent for ${this.queryStruct.fieldDef.name}`)}}getDialectFieldList(){let e=[];for(let t of this.queryStruct.fieldDef.fields.filter(_s.isPhysical))e.push({type:t.type,sqlExpression:(0,_s.getIdentifier)(t),sqlOutputName:(0,_s.getIdentifier)(t)});return e}},SJ=class extends xA{},y5e=class{static nextStructDef(e,t){let r=new tc(e,{model:new ck(void 0)}),i={type:"turtle",name:"ignoreme",pipeline:[t]};return kf.makeQuery(i,r,new wE(!0,void 0)).getResultStructDef()}};q1.Segment=y5e;var kf=class extends xA{constructor(e,t,r){super(e,t);this.prepared=!1,this.maxDepth=0,this.maxGroupSet=0,this.fieldDef=e,this.rootResult=new x5e(e),this.stageWriter=r,this.firstSegment=e.pipeline[0]}static makeQuery(e,t,r=void 0){let i=t.flattenTurtleDef(e),s=t,o=i.pipeline[0];switch(r!==void 0&&(0,_s.isQuerySegment)(o)&&o.extendSource!==void 0&&(s=new tc({...t.fieldDef,fields:[...t.fieldDef.fields,...o.extendSource]},s.parent?{struct:s}:{model:s.model}),i={...i,pipeline:[{...o,extendSource:void 0},...i.pipeline.slice(1)]}),o.type){case"reduce":return new v5e(i,s,r);case"project":return new _5e(i,s,r);case"index":return new E5e(i,s,r)}}getFieldList(){switch(this.firstSegment.type){case"reduce":return this.firstSegment.fields;case"project":return this.firstSegment.fields;default:throw new Error(`Query contains no fields ${JSON.stringify(this.fieldDef)}`)}}expandField(e){let t,r;if(typeof e=="string")r=this.parent.getQueryFieldByName(e);else if("type"in e)r=this.parent.makeQueryField(e);else if("name"in e&&"as"in e){if(r=this.parent.getQueryFieldByName(e.name),t=r.fieldDef.as||e.as,r instanceof lk)throw new Error("Syntax currently disallowed. Semantics up for discussion");if(r instanceof kf){let i=(0,l5e.default)(r.fieldDef);i.as=e.name,i.filterList=e.filterList,r=kf.makeQuery(i,this.parent)}else if(!(r instanceof yA||r instanceof gA))throw new Error(`No longer generate code this way. 
 ${JSON.stringify(e,void 0,2)}`)}else throw new Error(`Unrecognized field definition ${JSON.stringify(e,void 0,2)}`);return t||(t=r.getIdentifier()),{as:t,field:r}}expandDependantField(e,t){this.expandField(t)}expandWildCardStruct(e,t,r=void 0){let i=[],s=[];for(let[o,a]of e.nameMap)a instanceof wc&&af(a)&&a.includeInWildcard()&&!this.parent.dialect.ignoreInProject(a.fieldDef.name)&&(!r||r(a))?i.push(a.getFullOutputName()):a instanceof tc&&t&&s.push(a);for(let o of s)i=i.concat(this.expandWildCardStruct(o,t,r));return i}expandWildCards(e,t=void 0){let r=[];for(let i of e)if(typeof i!="string")r.push(i);else{let o=i.split(".");if(!o[o.length-1].startsWith("*"))r.push(i);else{let a=o.pop()==="**",l=this.parent,f;for(;o.length>0&&(f=o.shift());){let p=l.getChildByName(f);if(p===void 0)throw new Error(`Nested explore not found '${f}'`);if(p instanceof tc)l=p;else throw new Error(`'${f}' is not an explore object`)}r=r.concat(this.expandWildCardStruct(l,a,t))}}return r}addDependantPath(e,t,r,i,s){let o=t.getFieldByName(r),a;if(o instanceof xA)a=o.parent;else if(o instanceof tc)a=o;else throw new Error("Internal Error:  Unknown object type");e.root().addStructToJoin(a.getJoinableParent(),this,i,s)}addDependantExpr(e,t,r,i){for(let s of r)if((0,_s.isUngroupFragment)(s)){if(e.resultUsesUngrouped=!0,e.root().isComplexQuery=!0,e.root().queryUsesPartitioning=!0,s.fields&&s.fields.length>0){let o=s.fields.sort().join("|")+s.type;e.ungroupedSets.get(o)===void 0&&e.ungroupedSets.set(o,{type:s.type,fields:s.fields,groupSet:-1})}this.addDependantExpr(e,t,s.e,i)}else if((0,_s.isFieldFragment)(s)){let o=t.getDimensionOrMeasureByName(s.path);(0,_s.hasExpression)(o.fieldDef)?this.addDependantExpr(e,o.parent,o.fieldDef.e,i):e.root().addStructToJoin(o.parent.getJoinableParent(),this,!1,i)}else if((0,_s.isFilterFragment)(s))for(let o of s.filterList)this.addDependantExpr(e,t,o.expression,i);else if((0,_s.isDialectFragment)(s)){let o=[];switch(s.function){case"now":break;case"div":o.push(s.denominator),o.push(s.numerator);break;case"timeLiteral":break;case"stringLiteral":break;case"timeDiff":o.push(s.left.value,s.right.value);break;case"delta":o.push(s.base.value,s.delta);break;case"trunc":case"extract":o.push(s.expr.value);break;case"regexpMatch":case"cast":o.push(s.expr);break;default:throw new Error("Unknown dialect Fragment type.  Can't generate dependancies")}for(let a of o)this.addDependantExpr(e,t,a,i)}else(0,_s.isAggregateFragment)(s)?((0,_s.isAsymmetricFragment)(s)&&(s.structPath?this.addDependantPath(e,t,s.structPath,!0,i):e.addStructToJoin(t,this,!0,i)),this.addDependantExpr(e,t,s.e,i)):(0,_s.isAnalyticFragment)(s)&&(e.root().queryUsesPartitioning=!0)}addDependancies(e,t){(0,_s.hasExpression)(t.fieldDef)&&this.addDependantExpr(e,t.parent,t.fieldDef.e,[])}expandFields(e){let t=1;for(let r of this.expandWildCards(e.firstSegment.fields)){let{as:i,field:s}=this.expandField(r);if(s instanceof SJ||s instanceof kf){if(this.firstSegment.type==="project")throw new Error(`Turtled Queries cannot be used in PROJECT - '${s.fieldDef.name}'`);let o=new Ep(s.fieldDef,e);this.expandFields(o),e.add(i,o)}else if(s instanceof wc&&(e.addField(i,s,{resultIndex:t,type:"result"}),this.addDependancies(e,s),TE(s)&&this.firstSegment.type==="project"))throw new Error(`Aggregate Fields cannot be used in PROJECT - '${s.fieldDef.name}'`);t++}this.expandFilters(e)}expandFilters(e){if(e.firstSegment.filterList!==void 0){for(let t of e.firstSegment.filterList||[]){let r=this.parent;this.addDependantExpr(e,r,t.expression,[])}for(let t of e.root().joins.values()||[])for(let r of t.joinFilterConditions||[])r.fieldDef.type==="boolean"&&r.fieldDef.e&&this.addDependantExpr(e,r.parent,r.fieldDef.e,[])}}generateSQLFilters(e,t,r=void 0){let i=new od.AndChain,s=r||e.firstSegment.filterList;if(s===void 0)return i;for(let o of s||[]){let a=this.parent;if(t==="having"&&(0,_s.expressionIsCalculation)(o.expressionType)||t==="where"&&o.expressionType==="scalar"){let l=this.generateExpressionFromExpr(e,a,o.expression,void 0);i.add(l)}}return i}prepare(e){this.prepared||(this.expandFields(this.rootResult),this.rootResult.findJoins(this),this.rootResult.calculateSymmetricAggregates(),this.prepared=!0)}getResultMetadata(e){if(e instanceof uf){if(e.fieldUsage.type==="result"){let t=e.f.fieldDef,r,i=e.f.parent.getFullOutputName()+(t.name||t.as||"undefined"),s=t.code,o=[i];return TE(e.f)?(r=e.f.getFilterList(),{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"measure"}):af(e.f)?{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"dimension"}:void 0}return}else if(e instanceof Ep){let t=e.turtleDef.name||e.turtleDef.as,r=t?[t]:[],i=e.firstSegment.filterList,s=e.turtleDef.pipeline[e.turtleDef.pipeline.length-1].limit;if(t)return{sourceField:t,filterList:i,sourceClasses:r,fieldKind:"struct",limit:s}}}getResultStructDef(e=this.rootResult,t=!0){let r=[],i;this.prepare(void 0);let s=0;for(let[o,a]of e.allFields){let l=this.getResultMetadata(a);if(a instanceof Ep){let{structDef:f}=this.generateTurtlePipelineSQL(a,new wE(!0,void 0),"<nosource>"),p=a.getRepeatedResultType()==="nested"?"nested":"inline";f.name=o,f.structRelationship={field:o,type:p,isArray:!1},f.structSource={type:p},f.resultMetadata=l,r.push(f)}else if(a instanceof uf&&a.fieldUsage.type==="result"){a.f instanceof lk&&r.push(a.f.getAsJoinedStructDef(o)),af(a.f)&&(s===0&&t?i=o:i=void 0,s++);let f=a.f.fieldDef.location;switch(a.f.fieldDef.type){case"boolean":case"json":case"string":r.push({name:o,type:a.f.fieldDef.type,resultMetadata:l,location:f});break;case"timestamp":{let p=a.f.fieldDef.timeframe;switch(p){case"year":case"month":case"week":case"quarter":case"day":r.push({name:o,type:"date",timeframe:p,resultMetadata:l,location:f});break;case"second":case"minute":case"hour":r.push({name:o,type:"timestamp",timeframe:p,resultMetadata:l,location:f});break;default:r.push({name:o,type:"timestamp",resultMetadata:l,location:f});break}break}case"date":{r.push({name:o,type:a.f.fieldDef.type,timeframe:a.f.fieldDef.timeframe,resultMetadata:l,location:f});break}case"number":r.push({name:o,numberType:a.f.fieldDef.numberType,type:"number",resultMetadata:l,location:f});break;default:throw new Error(`unknown Field Type in query ${JSON.stringify(a.f.fieldDef)}`)}}}return{fields:r,name:this.resultStage||"result",dialect:this.parent.dialect.name,primaryKey:i,structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"},resultMetadata:this.getResultMetadata(this.rootResult),type:"struct"}}generateSQLJoinBlock(e,t){let r="",i=t.queryStruct,s=i.fieldDef.structRelationship,o=i.structSourceSQL(e);if((0,_s.isJoinOn)(s)){t.makeUniqueKey&&(o=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${o})`);let a="";if(i.parent===void 0)throw new Error("Expected joined struct to have a parent.");s.onExpression?a=new uk({type:"boolean",name:"ignoreme",e:s.onExpression},i.parent).generateExpression(this.rootResult):a="1=1";let l="",f;if(t.joinFilterConditions&&(f=t.joinFilterConditions.map(p=>p.generateExpression(this.rootResult))),t.children.length===0||f===void 0)f!==void 0&&f.length>=1&&(l=` AND (${f.join(" AND ")})`),r+=`LEFT JOIN ${o} AS ${t.alias}
  ON ${a}${l}
`;else{let p=`SELECT ${t.alias}.*`,v="";for(let b of t.children){v+=this.generateSQLJoinBlock(e,b);let F=(0,_s.getPhysicalFields)(b.queryStruct.fieldDef).map(D=>this.parent.dialect.sqlMaybeQuoteIdentifier(D.name));p+=`, ${this.parent.dialect.sqlSelectAliasAsStruct(b.alias,F)} AS ${b.alias}`}return p+=`
FROM ${o} AS ${t.alias}
${v}
WHERE ${f==null?void 0:f.join(" AND ")}
`,r+=`LEFT JOIN (
${(0,od.indent)(p)}) AS ${t.alias}
  ON ${a}
`,r}}else if(s.type==="nested"){if(i.parent===void 0||t.parent===void 0)throw new Error("Internal Error, nested structure with no parent.");let a=this.parent.dialect.sqlFieldReference(i.parent.getSQLIdentifier(),s.field,"struct",i.parent.fieldDef.structRelationship.type==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray);r+=`${this.parent.dialect.sqlUnnestAlias(a,t.alias,t.getDialectFieldList(),t.makeUniqueKey,s.isArray)}
`}else throw s.type==="inline"?new Error("Internal Error: inline structs should never appear in join trees"):new Error(`Join type not implemented ${JSON.stringify(i.fieldDef.structRelationship)}`);for(let a of t.children)r+=this.generateSQLJoinBlock(e,a);return r}generateSQLJoins(e){let t="",[[,r]]=this.rootResult.joins,i=r.queryStruct,s=i.structSourceSQL(e);if((0,_s.isIndexSegment)(this.firstSegment)&&(s=this.parent.dialect.sqlSampleTable(s,this.firstSegment.sample),this.firstSegment.sample&&(s=e.addStage(`SELECT * from ${s} as x limit 100000 `))),i.fieldDef.structRelationship.type==="basetable")r.makeUniqueKey&&(s=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${s} as x)`),t+=`FROM ${s} as ${this.parent.getIdentifier()}
`;else throw new Error("Internal Error, queries must start from a basetable");for(let a of r.children)t+=this.generateSQLJoinBlock(e,a);return t}genereateSQLOrderBy(e,t){let r="";if(this.firstSegment.type==="project"&&!e.orderBy)return"";let i=e.orderBy||t.calculateDefaultOrderBy(),s=[];for(let o of i)if(typeof o.field=="string"){let a=t.getField(o.field);if(a&&a.fieldUsage.type==="result")s.push(`${a.fieldUsage.resultIndex} ${o.dir||"ASC"}`);else throw new Error(`Unknown field in ORDER BY ${o.field}`)}else s.push(`${o.field} ${o.dir||"ASC"}`);return s.length>0&&(r=this.parent.dialect.sqlOrderBy(s)+`
`),r}generateSimpleSQL(e){let t="";t+=`SELECT 
`;let r=[];for(let[i,s]of this.rootResult.allFields){let o=s,a=this.parent.dialect.sqlMaybeQuoteIdentifier(i);o.fieldUsage.type==="result"&&r.push(` ${o.f.generateExpression(this.rootResult)} as ${a}`)}if(t+=(0,od.indent)(r.join(`,
`))+`
`,t+=this.generateSQLJoins(e),t+=this.generateSQLFilters(this.rootResult,"where").sql("where"),this.firstSegment.type==="reduce"){let i=[];for(let s of this.rootResult.fields()){let o=s;o.fieldUsage.type==="result"&&af(o.f)&&i.push(o.fieldUsage.resultIndex.toString())}i.length>0&&(t+=`GROUP BY ${i.join(",")}
`)}return t+=this.generateSQLFilters(this.rootResult,"having").sql("having"),t+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(t+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(t),this.resultStage}generatePipelinedStages(e,t,r){if(e.length===0)return t;let i=e.map(s=>`${s.pipelineSQL} as ${s.sqlFieldName}
      `).join(`,
`);return r.addStage(`SELECT * replace (${i}) FROM ${t}
      `)}generateStage0Fields(e,t,r){for(let[s,o]of e.allFields){let a=this.parent.dialect.sqlMaybeQuoteIdentifier(`${s}__${e.groupSet}`);if(o instanceof uf){if(o.fieldUsage.type==="result"){let l=o.getSQL();if(af(o.f)){if(this.parent.dialect.name==="standardsql"&&this.rootResult.queryUsesPartitioning)if(o.f.fieldDef.type==="number"){t.sql.push(`${l} as ${a}`);let f=`__lateral_join_bag.${a}_string`;t.sql.push(f),t.dimensionIndexes.push(t.fieldIndex++),t.lateralJoinSQLExpressions.push(`CAST(${l} as STRING) as ${a}_string`),o.partitionSQL=f}else{let f=`__lateral_join_bag.${a}`;o.partitionSQL=f,t.lateralJoinSQLExpressions.push(`${l} as ${a}`),t.sql.push(f)}else t.sql.push(`${l} as ${a}`);t.dimensionIndexes.push(t.fieldIndex++)}else TE(o.f)&&(t.sql.push(`${l} as ${a}`),t.fieldIndex++)}}else if(o instanceof Ep){if(o.firstSegment.type==="reduce")this.generateStage0Fields(o,t,r);else if(o.firstSegment.type==="project"){let l=this.generateTurtleSQL(o,r,a,t.outputPipelinedSQL);t.sql.push(`${l} as ${a}`),t.fieldIndex++}}}let i=this.generateSQLFilters(e,"having");i.empty()||(e.childGroups.length===1?e.root().havings.add(`(group_set<>${e.groupSet} OR (group_set=${e.groupSet} AND ${i.sql()}))`):(e.hasHaving=!0,t.sql.push(`CASE WHEN group_set=${e.groupSet} THEN CASE WHEN ${i.sql()} THEN 0 ELSE 1 END END as __delete__${e.groupSet}`),t.fieldIndex++))}generateSQLWhereChildren(e){let t=new od.AndChain;for(let[,r]of e.allFields)if(r.type==="query"){let i=r,s=this.generateSQLFilters(i,"where");if(s.present()){let o=i.childGroups.join(",");t.add(`(group_set NOT IN (${o}) OR (group_set IN (${o}) AND ${s.sql()}))`)}t.addChain(this.generateSQLWhereChildren(i))}return t}generateSQLWhereTurtled(){let e=this.generateSQLFilters(this.rootResult,"where");return e.addChain(this.generateSQLWhereChildren(this.rootResult)),e.sql("where")}generateSQLHavingLimit(e,t){let r=[],i=this.rootResult.selectStructs([],s=>s.hasHaving);if(i.length>0)for(let s of i){let o=[],a=s;for(;a;){for(let l of a.fieldNames(f=>af(f.f)))o.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${l}__${a.groupSet}`));a=a.parent}r.push(`MAX(CASE WHEN group_set IN (${s.childGroups.join(",")}) THEN __delete__${s.groupSet} END) OVER(partition by ${o.map(l=>`CAST(${l} AS ${this.parent.dialect.stringTypeName}) `).join(",")}) as __shaving__${s.groupSet}`)}if(i.length>0){t=e.addStage(`SELECT
  *,
  ${r.join(`,
  `)} 
FROM ${t}`);let s=new od.AndChain;for(let o of i)s.add(`group_set IN (${o.childGroups.join(",")}) AND __shaving__${o.groupSet}=1`);t=e.addStage(`SELECT *
FROM ${t}
WHERE NOT (${s.sqlOr()})`)}return t}generateSQLStage0(e){let t=`SELECT
`,r=this.generateSQLJoins(e),i=this.generateSQLWhereTurtled(),s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};if(this.generateStage0Fields(this.rootResult,s,e),this.firstSegment.type==="project")throw new Error("PROJECT cannot be used on queries with turtles");let o="GROUP BY "+s.dimensionIndexes.join(",")+`
`;r+=this.parent.dialect.sqlGroupSetTable(this.maxGroupSet)+`
`,t+=(0,od.indent)(s.sql.join(`,
`))+`
`,s.lateralJoinSQLExpressions.length>0&&(r+=`LEFT JOIN UNNEST([STRUCT(${s.lateralJoinSQLExpressions.join(`,
`)})]) as __lateral_join_bag
`),t+=r+i+o+this.rootResult.havings.sql("having");let a=e.addStage(t);return this.resultStage=this.generateSQLHavingLimit(e,a),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,e),this.resultStage}generateDepthNFields(e,t,r,i){let s=[];for(let[o,a]of t.allFields){let l=this.parent.dialect.sqlMaybeQuoteIdentifier(`${o}__${t.groupSet}`);if(a instanceof uf){if(a.fieldUsage.type==="result"){if(af(a.f)){let f=this.caseGroup(t.groupSet>0?t.childGroups:[],l);r.sql.push(`${f} as ${l}`),r.dimensionIndexes.push(r.fieldIndex++)}else if(TE(a.f)){let f=this.parent.dialect.sqlAnyValue(t.groupSet,l);r.sql.push(`${f} as ${l}`),r.fieldIndex++}}}else if(a instanceof Ep&&!(a.depth>e))if(a.depth===e){let f=this.generateTurtleSQL(a,i,l,r.outputPipelinedSQL);r.groupsAggregated.push({fromGroup:a.groupSet,toGroup:t.groupSet}),s.push(a.groupSet),r.sql.push(`${f} as ${l}`),r.fieldIndex++}else this.generateDepthNFields(e,a,r,i)}if(r.groupsAggregated.length>0){r.sql[0]="CASE ";for(let o of r.groupsAggregated)r.sql[0]+=`WHEN group_set=${o.fromGroup} THEN ${o.toGroup} `;r.sql[0]+=" ELSE group_set END as group_set"}}generateSQLDepthN(e,t,r){let i=`SELECT 
`,s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};this.generateDepthNFields(e,this.rootResult,s,t),i+=(0,od.indent)(s.sql.join(`,
`))+`
`,i+=`FROM ${r}
`;let o=this.rootResult.eliminateComputeGroupsSQL();return o.length>0&&(i+=`WHERE ${o}
`),s.dimensionIndexes.length>0&&(i+=`GROUP BY ${s.dimensionIndexes.join(",")}
`),this.resultStage=t.addStage(i),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,t),this.resultStage}genereateSQLCombineTurtles(e,t){let r=`SELECT
`,i=[],s=1,o=[],a=[];for(let[f,p]of this.rootResult.allFields){let v=this.parent.dialect.sqlMaybeQuoteIdentifier(f);p instanceof uf?p.fieldUsage.type==="result"&&(af(p.f)?(i.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${f}__${this.rootResult.groupSet}`)+` as ${v}`),a.push(s++)):TE(p.f)&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,v)),s++)):p instanceof Ep&&(p.firstSegment.type==="reduce"?(i.push(`${this.generateTurtleSQL(p,e,v,o)} as ${v}`),s++):p.firstSegment.type==="project"&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,v)),s++))}r+=(0,od.indent)(i.join(`,
`))+`
FROM ${t}
`;let l=this.rootResult.eliminateComputeGroupsSQL();return l.length>0&&(r+=`WHERE ${l}
`),a.length>0&&(r+=`GROUP BY ${a.join(",")}
`),r+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(r+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(r),this.resultStage=this.generatePipelinedStages(o,this.resultStage,e),this.resultStage}generateTurtleSQL(e,t,r,i){let s=[],o="",a=e.firstSegment.limit,l=[],f,p=e.firstSegment.orderBy||e.calculateDefaultOrderBy();for(let q of p)typeof q.field=="string"?f={name:q.field,fif:e.getField(q.field)}:f=e.getFieldByNumber(q.field),e.firstSegment.type==="reduce"?l.push(" "+this.parent.dialect.sqlMaybeQuoteIdentifier(`${f.name}__${e.groupSet}`)+` ${q.dir||"ASC"}`):e.firstSegment.type==="project"&&l.push(` ${f.fif.f.generateExpression(e)} ${q.dir||"ASC"}`);l.length>0&&(o=" "+this.parent.dialect.sqlOrderBy(l));for(let[q,N]of e.allFields){let B=this.parent.dialect.sqlMaybeQuoteIdentifier(q);e.firstSegment.type==="reduce"&&(N instanceof Ep||N instanceof uf&&N.fieldUsage.type==="result")?s.push({type:N instanceof uf?N.f.fieldDef.type:"struct",sqlExpression:this.parent.dialect.sqlMaybeQuoteIdentifier(`${q}__${e.groupSet}`),sqlOutputName:B}):e.firstSegment.type==="project"&&N instanceof uf&&N.fieldUsage.type==="result"&&s.push({type:N.type,sqlExpression:N.f.generateExpression(e),sqlOutputName:B})}let v,b;(v=e.getRepeatedResultType())!=="nested"?v==="inline_all_numbers"?b=this.parent.dialect.sqlCoaleseMeasuresInline(e.groupSet,s):b=this.parent.dialect.sqlAnyValueTurtle(e.groupSet,s):b=this.parent.dialect.sqlAggregateTurtle(e.groupSet,s,o,a);let F=new wE(this.parent.dialect.supportsCTEinCoorelatedSubQueries,t),{structDef:D,pipeOut:M}=this.generateTurtlePipelineSQL(e,F,this.parent.dialect.supportUnnestArrayAgg?b:r);if(M!==void 0){let q=F.generateCoorelatedSubQuery(this.parent.dialect,D);this.parent.dialect.supportUnnestArrayAgg?b=`(${q})`:i.push({sqlFieldName:r,pipelineSQL:`(${q})`})}return b}generateTurtlePipelineSQL(e,t,r){let i=this.getResultStructDef(e,!1),s=e.getRepeatedResultType(),o=e.turtleDef.pipeline.length>1,a;if(o){let l=[...e.turtleDef.pipeline];l.shift();let f={type:"turtle",name:"starthere",pipeline:l};i.name=this.parent.dialect.sqlUnnestPipelineHead(s==="inline_all_numbers",r),i.structSource={type:"sql",method:"nested"};let p=new tc(i,{model:this.parent.getModel()});a=kf.makeQuery(f,p,t).generateSQLFromPipeline(t),i=a.outputStruct}return{structDef:i,pipeOut:a}}generateComplexSQL(e){let t=this.generateSQLStage0(e);if(this.maxDepth>1){let r=this.maxDepth;for(;r>1;)t=this.generateSQLDepthN(r,e,t),r--}return this.genereateSQLCombineTurtles(e,t)}generateSQL(e){var t;let r=this.rootResult.computeGroups(0,0);return this.maxDepth=r.maxDepth,this.maxGroupSet=r.nextGroupSetNumber-1,this.rootResult.assignFieldsToGroups(),(t=this.rootResult).isComplexQuery||(t.isComplexQuery=this.maxDepth>0||r.isComplex),this.rootResult.isComplexQuery?this.generateComplexSQL(e):this.generateSimpleSQL(e)}toMalloy(){let e=`EXPLORE ${(0,_s.getIdentifier)(this.parent.fieldDef)} | `;return e+=this.fieldDef.type.toUpperCase()+" ",e}generateSQLFromPipeline(e){this.prepare(e);let t=this.generateSQL(e),r=this.getResultStructDef();if(this.fieldDef.pipeline.length>1){let i=[...this.fieldDef.pipeline],s={...r,structSource:{type:"sql",method:"lastStage"}};i.shift();for(let o of i){let a=new tc(s,{model:this.parent.getModel()}),l=kf.makeQuery({type:"turtle",name:"ignoreme",pipeline:[o]},a,e);l.prepare(e),t=l.generateSQL(e),r=l.getResultStructDef(),s={...r,structSource:{type:"sql",method:"lastStage"}}}}return{lastStageName:t,outputStruct:r}}},v5e=class extends kf{},_5e=class extends kf{},b5e=class extends kf{constructor(e,t,r){super(e,t,r);this.fieldDef=e}expandField(e){let t=this.parent.getFieldByName(e);return{as:e,field:t}}expandFields(e){let t=1,r=e.groupSet;this.maxGroupSet=r;let i=this.firstSegment.fields||[];for(let o of i){let{as:a,field:l}=this.expandField(o);e.addField(a,l,{resultIndex:t,type:"result"}),l instanceof wc&&this.addDependancies(e,l),t++}let s=this.firstSegment.weightMeasure;if(s!==void 0){let o=this.parent.getFieldByName(s);e.addField(s,o,{resultIndex:t,type:"result"}),this.addDependancies(e,o)}this.expandFilters(e)}generateSQL(e){let t="COUNT(*)",r=this.parent.dialect,i=r.sqlMaybeQuoteIdentifier("fieldName"),s=r.sqlMaybeQuoteIdentifier("fieldValue"),o=r.sqlMaybeQuoteIdentifier("fieldType"),a=r.sqlMaybeQuoteIdentifier("fieldRange"),l=this.firstSegment.weightMeasure;l&&(t=this.rootResult.getField(l).f.generateExpression(this.rootResult));let f=[];for(let[b,F]of this.rootResult.allFields){let D=F;if(D.fieldUsage.type==="result"&&af(D.f)){let M=D.f.generateExpression(this.rootResult);f.push({name:b,type:D.f.fieldDef.type,expression:M})}}let p=`SELECT
  group_set,
`;p+=`  CASE group_set
`;for(let b=0;b<f.length;b++)p+=`    WHEN ${b} THEN '${f[b].name}'
`;p+=`  END as ${i},`,p+=`  CASE group_set
`;for(let b=0;b<f.length;b++)p+=`    WHEN ${b} THEN '${f[b].type}'
`;p+=`  END as ${o},`,p+=`  CASE group_set WHEN 99999 THEN NULL
`;for(let b=0;b<f.length;b++)f[b].type==="string"&&(p+=`    WHEN ${b} THEN ${f[b].expression}
`);p+=`  END as ${s},
`,p+=` ${t} as weight,
`,p+=`  CASE group_set
    WHEN 99999 THEN ''`;for(let b=0;b<f.length;b++)f[b].type==="number"&&(p+=`    WHEN ${b} THEN CAST(MIN(${f[b].expression}) AS ${r.stringTypeName}) || ' to ' || CAST(MAX(${f[b].expression}) AS ${r.stringTypeName})
`),(f[b].type==="timestamp"||f[b].type==="date")&&(p+=`    WHEN ${b} THEN MIN(${r.sqlDateToString(f[b].expression)}) || ' to ' || MAX(${r.sqlDateToString(f[b].expression)})
`);p+=`  END as ${a}
`,p+=this.generateSQLJoins(e),p+=r.sqlGroupSetTable(f.length)+`
`,p+=this.generateSQLFilters(this.rootResult,"where").sql("where"),p+=`GROUP BY 1,2,3,4
`,this.firstSegment.limit&&(p+=`LIMIT ${this.firstSegment.limit}
`);let v=e.addStage(p);return this.resultStage=e.addStage(`SELECT
  ${i},
  ${o},
  COALESCE(${s}, ${a}) as ${s},
  weight
FROM ${v}
`),this.resultStage}},E5e=class extends kf{constructor(e,t,r){super(e,t,r);this.rootFields=[],this.fanPrefixMap={},this.fieldDef=e,this.findFanPrefexes(t)}findFanPrefexes(e){for(let[t,r]of e.nameMap)if(r instanceof tc&&(r.fieldDef.structRelationship.type==="many"||r.fieldDef.structRelationship.type==="nested")&&r.fieldDef.fields.length>1&&this.parent.dialect.dontUnionIndex===!1){let i=r.getFullOutputName();this.fanPrefixMap[i]=[],this.findFanPrefexes(r)}}expandIndexWildCards(){let e=this.firstSegment.fields||[];return e.length===0&&e.push("**"),e=this.expandWildCards(e,t=>["string","number","timestamp","date"].indexOf(t.fieldDef.type)!==-1),e}getStageFields(){let e=[];this.rootFields.length>0&&e.push(this.rootFields);for(let t of Object.values(this.fanPrefixMap))t.length>0&&e.push(t);return e}mapFieldsIntoStages(e){let t=Object.keys(this.fanPrefixMap).sort((r,i)=>r.length<i.length?1:r.length>i.length?-1:0);for(let r of e){let i=!1;for(let s of t)r.startsWith(s)&&(this.fanPrefixMap[s].push(r),i=!0);i||this.rootFields.push(r)}}expandFields(e){let t=this.expandIndexWildCards();this.mapFieldsIntoStages(t)}generateSQL(e){let t=this.getStageFields(),r=[];for(let i of t){let s=new b5e({...this.fieldDef,pipeline:[{...this.fieldDef.pipeline[0],fields:i}]},this.parent,e);s.prepare(e);let o=s.generateSQL(e);r.push(o)}return r.length===1?this.resultStage=r[0]:this.resultStage=e.addStage(r.map(i=>`SELECT * FROM ${i}
`).join(` UNION ALL 
`)),this.resultStage}getResultStructDef(){return{type:"struct",name:this.resultStage||"result",dialect:this.parent.fieldDef.dialect,fields:[{type:"string",name:"fieldName"},{type:"string",name:"fieldValue"},{type:"string",name:"fieldType"},{type:"number",name:"weight",numberType:"integer"}],structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"}}}},tc=class extends EJ{constructor(e,t){super(e);if(this.nameMap=new Map,this.setParent(t),"model"in t)if(this.model=t.model,this.pathAliasMap=new Map,e.structRelationship.type==="basetable")this.connectionName=e.structRelationship.connectionName;else throw new Error("All root StructDefs should be a baseTable");else this.model=this.getModel(),this.pathAliasMap=this.root().pathAliasMap,this.connectionName=this.root().connectionName;this.fieldDef=e,this.dialect=(0,Uut.getDialect)(this.fieldDef.dialect),this.addFieldsFromFieldList(this.fieldDef.fields)}parameters(){return this.fieldDef.parameters||{}}addFieldsFromFieldList(e){for(let t of e){let r=(0,_s.getIdentifier)(t);switch(t.type){case"struct":{this.addFieldToNameMap(r,new tc(t,{struct:this}));break}case"turtle":{this.addFieldToNameMap(r,kf.makeQuery(t,this));break}default:this.addFieldToNameMap(r,this.makeQueryField(t))}}this.nameMap.has("__distinct_key")||this.addFieldToNameMap("__distinct_key",new h5e({type:"string",name:"__distinct_key"},this))}getAliasIdentifier(){let e=this.getFullOutputName(),t=this.pathAliasMap.get(e);if(t===void 0){let r=Array.from(this.pathAliasMap.values()),i=(0,_s.getIdentifier)(this.fieldDef),s=`${i}_0`,o=1;for(;r.includes(s)&&o<1e3;)o++,s=`${i}_${o}`;if(o<1e3)return this.pathAliasMap.set(e,s),s;throw new Error("Internal Error: cannot create unique alias name")}else return t}getAsQueryField(){if(this.fieldDef.primaryKey===void 0)throw new Error(`Joined explores can only be included in queries if a primary key is defined: '${this.getFullOutputName()}' has no primary key`);let e=this.getPrimaryKeyField(this.fieldDef),t=e.fieldDef.type;if(t!=="string"&&t!=="number")throw new Error(`Unknown Primary key data type for ${e.fieldDef.name}`);let r=(0,_s.getIdentifier)(this.fieldDef),i=this.fieldDef.primaryKey,s={type:t,name:`${r}_id`,e:[{type:"field",path:e.getIdentifier()}]};return new lk(s,this,`${r}.${i}`)}getSQLIdentifier(){return this.unnestWithNumbers()&&this.parent!==void 0?this.parent.getSQLIdentifier()+"."+(0,_s.getIdentifier)(this.fieldDef)+`[${this.getIdentifier()}.__row_id]`:this.getIdentifier()}getIdentifier(){return this.fieldDef.structRelationship.type==="basetable"?this.fieldDef.as===void 0?"base":super.getIdentifier():this.fieldDef.structRelationship.type==="inline"&&this.parent?this.parent.getSQLIdentifier()+"."+super.getIdentifier():this.getAliasIdentifier()}getFullOutputName(){return this.parent?this.parent.getFullOutputName()+(0,_s.getIdentifier)(this.fieldDef)+".":""}needsSymetricCalculation(e){let t=this.getJoinableParent().getIdentifier(),r=e.root().joins.get(t);if(r)return!r.leafiest;throw new Error(`Join ${t} not found in result set`)}unnestWithNumbers(){return this.dialect.unnestWithNumbers&&this.fieldDef.structRelationship.type==="nested"}getJoinableParent(){if(this.fieldDef.structRelationship.type==="inline"){if(this.parent)return this.parent.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return this}addFieldToNameMap(e,t){if(this.nameMap.has(e))throw new Error(`Redefinition of ${e}`);this.nameMap.set(e,t)}getPrimaryKeyField(e){let t;if(t=this.primaryKey())return t;throw new Error(`Missing primary key for ${e}`)}resolveQueryFields(){if(this.fieldDef.structSource.type==="query"){let e=this.model.loadQuery(this.fieldDef.structSource.query,void 0).structs.pop();if(!e)throw new Error("Internal Error, query didn't produce a struct");let t={...this.fieldDef};for(let r of e.fields){let i;this.nameMap.has(i=(0,_s.getIdentifier)(r))||(t.fields.push(r),this.nameMap.set(i,this.makeQueryField(r)))}this.fieldDef=t,!this.fieldDef.primaryKey&&e.primaryKey&&(this.fieldDef.primaryKey=e.primaryKey)}for(let[,e]of this.nameMap)e instanceof tc&&e.resolveQueryFields()}getModel(){if(this.model)return this.model;if(this.parent===void 0)throw new Error("Expected this query struct to have a parent, as no model was present.");return this.parent.getModel()}setParent(e){"struct"in e&&(this.parent=e.struct),"model"in e?this.model=e.model:this.model=this.getModel()}makeQueryField(e){switch(e.type){case"string":return new c5e(e,this);case"date":return new gA(e,this);case"timestamp":return new yA(e,this);case"number":return new f5e(e,this);case"boolean":return new uk(e,this);case"json":return new d5e(e,this);case"turtle":return new SJ(e,this);default:throw new Error(`unknown field definition ${JSON.stringify(e)}`)}}getOrMakeField(e){return typeof e=="string"?this.getFieldByName(e):this.makeQueryField(e)}getOrMakeDimension(e){let t=this.getOrMakeField(e);if(t instanceof wc&&af(t))return t;throw new Error(`${e} is not of type a scalar'`)}structSourceSQL(e){switch(this.fieldDef.structSource.type){case"table":{let t=this.fieldDef.structSource.tablePath;return this.dialect.quoteTablePath(t)}case"sql":if(this.fieldDef.structSource.method==="nested"||this.fieldDef.structSource.method==="lastStage")return this.fieldDef.name;if(this.fieldDef.structSource.method==="subquery")return`(${this.fieldDef.structSource.sqlBlock.selectStr})`;throw new Error("Internal Error: Unknown structSource type 'sql' method");case"nested":return"UNNEST(this.fieldDef.name)";case"inline":return"";case"query":{let t=(0,_s.getIdentifier)(this.fieldDef);if(t.includes("cache")){let r=new wE(!0,e);return this.model.loadQuery(this.fieldDef.structSource.query,r),r.addPDT(t,this.dialect)}else return this.model.loadQuery(this.fieldDef.structSource.query,e).lastStageName}default:throw new Error(`unknown structSource ${this.fieldDef}`)}}root(){return this.parent===void 0?this:this.parent.root()}primaryKey(){if(this.fieldDef.primaryKey)return this.getDimensionByName(this.fieldDef.primaryKey)}static resolvePath(e){return e.split(".")}getChildByName(e){return this.nameMap.get(e)}getFieldByName(e){let t=tc.resolvePath(e),r=this;for(let i of t){let s=r.getChildByName(i);if(s===void 0)throw new Error(`Path not found ${e}`);r=s}return r}getQueryFieldByName(e){let t=this.getFieldByName(e);return t instanceof tc&&(t=t.getAsQueryField()),t}getDimensionOrMeasureByName(e){let t=this.getFieldByName(e);if(t instanceof wc)return t;throw new Error(`${e} is not of type a scalar'`)}getDimensionByName(e){let t=this.getFieldByName(e);if(t instanceof wc&&af(t))return t;throw new Error(`${e} is not of type a scalar'`)}getStructByName(e){let t=this.getFieldByName(e);if(t instanceof tc)return t;throw new Error(`Error: Path to structure not found '${e}'`)}getDistinctKey(){if(this.fieldDef.structRelationship.type!=="inline")return this.getDimensionByName("__distinct_key");if(this.parent)return this.parent.getDistinctKey();throw new Error("Internal Error.  inline struct can not be top level")}flattenTurtleDef(e){let t=e.pipeline,r=e.pipeHead;for(;r;){let o=this.getFieldByName(r.name);if(o instanceof kf)r=o.fieldDef.pipeHead,t=o.fieldDef.pipeline.concat(t);else throw new Error(`Only Turtles can be used in a pipeline ${r.name}`)}let i=e.filterList||[];return t=(0,l5e.default)(t),t[0].filterList=i.concat(t[0].filterList||[],this.fieldDef.filterList||[]),{type:"turtle",name:e.name,pipeline:t,location:e.location}}},ck=class{constructor(e){this.dialect=new $ut.StandardSQLDialect,this.modelDef=void 0,this.structs=new Map,this.exploreSearchSQLMap=new Map,e&&this.loadModelFromDef(e)}loadModelFromDef(e){this.modelDef=e;for(let t of Object.values(this.modelDef.contents)){let r;if(t.type==="struct")r=new tc(t,{model:this}),this.structs.set((0,_s.getIdentifier)(t),r),r.resolveQueryFields();else if(t.type!=="query")throw new Error("Internal Error: Unknown structure type")}}parseQueryPath(e){let t=e.split("."),r;if(r=this.structs.get(t[0])){if(t.length>1)t.shift();else throw new Error(`No query specified in Struct '${t[0]}'`);return{queryName:t.join("."),struct:r}}else throw new Error(`Cannot find Struct '${t[0]}' Model`)}getStructByName(e){let t;if(t=this.structs.get(e))return t;throw new Error(`Struct ${e} not found in model.`)}getStructFromRef(e){let t;if(typeof e=="string")return this.getStructByName(e);if(e.type==="struct")t=e;else throw new Error("Broken for now");return new tc(t,{model:this})}loadQuery(e,t,r=!1){let i="";t||(t=new wE(!0,void 0));let s={type:"turtle",name:"ignoreme",pipeHead:e.pipeHead,pipeline:e.pipeline,filterList:e.filterList},o=kf.makeQuery(s,this.getStructFromRef(e.structRef),t),a=o.generateSQLFromPipeline(t);if(r&&o.parent.dialect.hasFinalStage){let l=(0,_s.getPhysicalFields)(a.outputStruct).map(f=>o.parent.dialect.sqlMaybeQuoteIdentifier(f.name));a.lastStageName=t.addStage(o.parent.dialect.sqlFinalStage(a.lastStageName,l))}return{lastStageName:a.lastStageName,malloy:i,stageWriter:t,structs:[a.outputStruct],connectionName:o.parent.connectionName}}compileQuery(e,t=!0){let r,s=(r||this).loadQuery(e,void 0,t),o=typeof e.structRef=="string"?e.structRef:e.structRef.type==="struct"?e.structRef.as||e.structRef.name:"(need to figure this out)";return t&&this.dialect.hasFinalStage&&(s.lastStageName=s.stageWriter.addStage(this.dialect.sqlFinalStage(s.lastStageName,[]))),{lastStageName:s.lastStageName,malloy:s.malloy,sql:s.stageWriter.generateSQLStages(),structs:s.structs,sourceExplore:o,sourceFilters:e.filterList,queryName:e.pipeHead&&e.pipeline.length===0?e.pipeHead.name:void 0,connectionName:s.connectionName}}async searchIndex(e,t,r,i=1e3,s=void 0){if(!e.canPersist())return;let o=this.getStructByName(t),a;o.nameMap.get("search_index")?a={structRef:t,pipeHead:{name:"search_index"},pipeline:[]}:a={structRef:t,pipeline:[{type:"index",fields:["*"],sample:o.dialect.defaultSampling}]};let l=o.dialect.sqlMaybeQuoteIdentifier("fieldName"),f=o.dialect.sqlMaybeQuoteIdentifier("fieldValue"),p=o.dialect.sqlMaybeQuoteIdentifier("fieldType"),v=this.exploreSearchSQLMap.get(t);v===void 0&&(v=(await this.compileQuery(a,!1)).sql,this.exploreSearchSQLMap.set(t,v));let b=`SELECT
              ${l},
              ${f},
              ${p},
              weight,
              CASE WHEN lower(${f}) LIKE  lower(${bJ(r+"%")}) THEN 1 ELSE 0 END as match_first
            FROM  ${await e.manifestTemporaryTable(v)}
            WHERE lower(${f}) LIKE lower(${bJ("%"+r+"%")}) ${s!==void 0?` AND ${l} = '`+s+`' 
`:""}
            ORDER BY CASE WHEN lower(${f}) LIKE  lower(${bJ(r+"%")}) THEN 1 ELSE 0 END DESC, weight DESC
            LIMIT ${i}
          `;return o.dialect.hasFinalStage&&(b=`WITH __stage0 AS(
${b}
)
${o.dialect.sqlFinalStage("__stage0",[l,f,p,"weight","match_first"])}`),(await e.runSQL(b,{rowLimit:1e3})).rows}};q1.QueryModel=ck;function zut(n,e){let t=e.structRef;return typeof t!="string"&&(t=t.as||t.name),new ck(n).getStructByName(t).flattenTurtleDef({...e,type:"turtle"})}q1.flattenQuery=zut});var AJ=G(ad=>{"use strict";d();var Hut=ad&&ad.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Vut=ad&&ad.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Hut(e,n,t)};Object.defineProperty(ad,"__esModule",{value:!0});ad.flattenQuery=ad.QueryModel=ad.Segment=void 0;Vut(Bs(),ad);var wJ=CJ();Object.defineProperty(ad,"Segment",{enumerable:!0,get:function(){return wJ.Segment}});Object.defineProperty(ad,"QueryModel",{enumerable:!0,get:function(){return wJ.QueryModel}});Object.defineProperty(ad,"flattenQuery",{enumerable:!0,get:function(){return wJ.flattenQuery}})});var C5e=G(S5e=>{"use strict";d();Object.defineProperty(S5e,"__esModule",{value:!0})});var A5e=G(w5e=>{"use strict";d();Object.defineProperty(w5e,"__esModule",{value:!0})});var TJ=G((vGt,T5e)=>{"use strict";d();T5e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var vA=G((_Gt,F5e)=>{"use strict";d();var Wut=TJ();F5e.exports=function(){return Wut()&&!!Symbol.toStringTag}});var N5e=G((bGt,O5e)=>{"use strict";d();var D5e=typeof Symbol!="undefined"&&Symbol,Qut=TJ();O5e.exports=function(){return typeof D5e!="function"||typeof Symbol!="function"||typeof D5e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Qut()}});var L5e=G((EGt,R5e)=>{"use strict";d();var Gut="Function.prototype.bind called on incompatible ",FJ=Array.prototype.slice,Yut=Object.prototype.toString,Kut="[object Function]";R5e.exports=function(e){var t=this;if(typeof t!="function"||Yut.call(t)!==Kut)throw new TypeError(Gut+t);for(var r=FJ.call(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,r.concat(FJ.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,r.concat(FJ.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i}});var fk=G((SGt,k5e)=>{"use strict";d();var Jut=L5e();k5e.exports=Function.prototype.bind||Jut});var M5e=G((CGt,I5e)=>{"use strict";d();var Xut=fk();I5e.exports=Xut.call(Function.call,Object.prototype.hasOwnProperty)});var bA=G((wGt,q5e)=>{"use strict";d();var _o,FE=SyntaxError,P5e=Function,DE=TypeError,DJ=function(n){try{return P5e('"use strict"; return ('+n+").constructor;")()}catch{}},fv=Object.getOwnPropertyDescriptor;if(fv)try{fv({},"")}catch{fv=null}var OJ=function(){throw new DE},Zut=fv?function(){try{return arguments.callee,OJ}catch{try{return fv(arguments,"callee").get}catch{return OJ}}}():OJ,OE=N5e()(),Ry=Object.getPrototypeOf||function(n){return n.__proto__},NE={},elt=typeof Uint8Array=="undefined"?_o:Ry(Uint8Array),RE={"%AggregateError%":typeof AggregateError=="undefined"?_o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?_o:ArrayBuffer,"%ArrayIteratorPrototype%":OE?Ry([][Symbol.iterator]()):_o,"%AsyncFromSyncIteratorPrototype%":_o,"%AsyncFunction%":NE,"%AsyncGenerator%":NE,"%AsyncGeneratorFunction%":NE,"%AsyncIteratorPrototype%":NE,"%Atomics%":typeof Atomics=="undefined"?_o:Atomics,"%BigInt%":typeof BigInt=="undefined"?_o:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?_o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?_o:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?_o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?_o:FinalizationRegistry,"%Function%":P5e,"%GeneratorFunction%":NE,"%Int8Array%":typeof Int8Array=="undefined"?_o:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?_o:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?_o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":OE?Ry(Ry([][Symbol.iterator]())):_o,"%JSON%":typeof JSON=="object"?JSON:_o,"%Map%":typeof Map=="undefined"?_o:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!OE?_o:Ry(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?_o:Promise,"%Proxy%":typeof Proxy=="undefined"?_o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?_o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?_o:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!OE?_o:Ry(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?_o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":OE?Ry(""[Symbol.iterator]()):_o,"%Symbol%":OE?Symbol:_o,"%SyntaxError%":FE,"%ThrowTypeError%":Zut,"%TypedArray%":elt,"%TypeError%":DE,"%Uint8Array%":typeof Uint8Array=="undefined"?_o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?_o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?_o:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?_o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?_o:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?_o:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?_o:WeakSet},tlt=function n(e){var t;if(e==="%AsyncFunction%")t=DJ("async function () {}");else if(e==="%GeneratorFunction%")t=DJ("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=DJ("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&(t=Ry(i.prototype))}return RE[e]=t,t},B5e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_A=fk(),dk=M5e(),nlt=_A.call(Function.call,Array.prototype.concat),rlt=_A.call(Function.apply,Array.prototype.splice),j5e=_A.call(Function.call,String.prototype.replace),hk=_A.call(Function.call,String.prototype.slice),ilt=_A.call(Function.call,RegExp.prototype.exec),slt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,olt=/\\(\\)?/g,alt=function(e){var t=hk(e,0,1),r=hk(e,-1);if(t==="%"&&r!=="%")throw new FE("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new FE("invalid intrinsic syntax, expected opening `%`");var i=[];return j5e(e,slt,function(s,o,a,l){i[i.length]=a?j5e(l,olt,"$1"):o||s}),i},ult=function(e,t){var r=e,i;if(dk(B5e,r)&&(i=B5e[r],r="%"+i[0]+"%"),dk(RE,r)){var s=RE[r];if(s===NE&&(s=tlt(r)),typeof s=="undefined"&&!t)throw new DE("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new FE("intrinsic "+e+" does not exist!")};q5e.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new DE("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new DE('"allowMissing" argument must be a boolean');if(ilt(/^%?[^%]*%?$/,e)===null)throw new FE("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=alt(e),i=r.length>0?r[0]:"",s=ult("%"+i+"%",t),o=s.name,a=s.value,l=!1,f=s.alias;f&&(i=f[0],rlt(r,nlt([0,1],f)));for(var p=1,v=!0;p<r.length;p+=1){var b=r[p],F=hk(b,0,1),D=hk(b,-1);if((F==='"'||F==="'"||F==="`"||D==='"'||D==="'"||D==="`")&&F!==D)throw new FE("property names with quotes must have matching quotes");if((b==="constructor"||!v)&&(l=!0),i+="."+b,o="%"+i+"%",dk(RE,o))a=RE[o];else if(a!=null){if(!(b in a)){if(!t)throw new DE("base intrinsic for "+e+" exists, but the property is not available.");return}if(fv&&p+1>=r.length){var M=fv(a,b);v=!!M,v&&"get"in M&&!("originalValue"in M.get)?a=M.get:a=a[b]}else v=dk(a,b),a=a[b];v&&!l&&(RE[o]=a)}}return a}});var mk=G((AGt,pk)=>{"use strict";d();var NJ=fk(),LE=bA(),U5e=LE("%Function.prototype.apply%"),$5e=LE("%Function.prototype.call%"),z5e=LE("%Reflect.apply%",!0)||NJ.call($5e,U5e),H5e=LE("%Object.getOwnPropertyDescriptor%",!0),dv=LE("%Object.defineProperty%",!0),llt=LE("%Math.max%");if(dv)try{dv({},"a",{value:1})}catch{dv=null}pk.exports=function(e){var t=z5e(NJ,$5e,arguments);if(H5e&&dv){var r=H5e(t,"length");r.configurable&&dv(t,"length",{value:1+llt(0,e.length-(arguments.length-1))})}return t};var V5e=function(){return z5e(NJ,U5e,arguments)};dv?dv(pk.exports,"apply",{value:V5e}):pk.exports.apply=V5e});var xk=G((TGt,G5e)=>{"use strict";d();var W5e=bA(),Q5e=mk(),clt=Q5e(W5e("String.prototype.indexOf"));G5e.exports=function(e,t){var r=W5e(e,!!t);return typeof r=="function"&&clt(e,".prototype.")>-1?Q5e(r):r}});var J5e=G((FGt,K5e)=>{"use strict";d();var flt=vA()(),dlt=xk(),RJ=dlt("Object.prototype.toString"),gk=function(e){return flt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:RJ(e)==="[object Arguments]"},Y5e=function(e){return gk(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&RJ(e)!=="[object Array]"&&RJ(e.callee)==="[object Function]"},hlt=function(){return gk(arguments)}();gk.isLegacyArguments=Y5e;K5e.exports=hlt?gk:Y5e});var e4e=G((DGt,Z5e)=>{"use strict";d();var plt=Object.prototype.toString,mlt=Function.prototype.toString,xlt=/^\s*(?:function)?\*/,X5e=vA()(),LJ=Object.getPrototypeOf,glt=function(){if(!X5e)return!1;try{return Function("return function*() {}")()}catch{}},kJ;Z5e.exports=function(e){if(typeof e!="function")return!1;if(xlt.test(mlt.call(e)))return!0;if(!X5e){var t=plt.call(e);return t==="[object GeneratorFunction]"}if(!LJ)return!1;if(typeof kJ=="undefined"){var r=glt();kJ=r?LJ(r):!1}return LJ(e)===kJ}});var i4e=G((OGt,r4e)=>{"use strict";d();var t4e=Function.prototype.toString,kE=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,IJ,yk;if(typeof kE=="function"&&typeof Object.defineProperty=="function")try{IJ=Object.defineProperty({},"length",{get:function(){throw yk}}),yk={},kE(function(){throw 42},null,IJ)}catch(n){n!==yk&&(kE=null)}else kE=null;var ylt=/^\s*class\b/,MJ=function(e){try{var t=t4e.call(e);return ylt.test(t)}catch{return!1}},PJ=function(e){try{return MJ(e)?!1:(t4e.call(e),!0)}catch{return!1}},vk=Object.prototype.toString,vlt="[object Object]",_lt="[object Function]",blt="[object GeneratorFunction]",Elt="[object HTMLAllCollection]",Slt="[object HTML document.all class]",Clt="[object HTMLCollection]",wlt=typeof Symbol=="function"&&!!Symbol.toStringTag,Alt=!(0 in[,]),BJ=function(){return!1};typeof document=="object"&&(n4e=document.all,vk.call(n4e)===vk.call(document.all)&&(BJ=function(e){if((Alt||!e)&&(typeof e=="undefined"||typeof e=="object"))try{var t=vk.call(e);return(t===Elt||t===Slt||t===Clt||t===vlt)&&e("")==null}catch{}return!1}));var n4e;r4e.exports=kE?function(e){if(BJ(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{kE(e,null,IJ)}catch(t){if(t!==yk)return!1}return!MJ(e)&&PJ(e)}:function(e){if(BJ(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(wlt)return PJ(e);if(MJ(e))return!1;var t=vk.call(e);return t!==_lt&&t!==blt&&!/^\[object HTML/.test(t)?!1:PJ(e)}});var jJ=G((NGt,o4e)=>{"use strict";d();var Tlt=i4e(),Flt=Object.prototype.toString,s4e=Object.prototype.hasOwnProperty,Dlt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)s4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},Olt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},Nlt=function(e,t,r){for(var i in e)s4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},Rlt=function(e,t,r){if(!Tlt(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),Flt.call(e)==="[object Array]"?Dlt(e,t,i):typeof e=="string"?Olt(e,t,i):Nlt(e,t,i)};o4e.exports=Rlt});var UJ=G((RGt,a4e)=>{"use strict";d();var qJ=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Llt=typeof globalThis=="undefined"?global:globalThis;a4e.exports=function(){for(var e=[],t=0;t<qJ.length;t++)typeof Llt[qJ[t]]=="function"&&(e[e.length]=qJ[t]);return e}});var $J=G((LGt,u4e)=>{"use strict";d();var klt=bA(),_k=klt("%Object.getOwnPropertyDescriptor%",!0);if(_k)try{_k([],"length")}catch{_k=null}u4e.exports=_k});var VJ=G((kGt,h4e)=>{"use strict";d();var l4e=jJ(),Ilt=UJ(),zJ=xk(),Mlt=zJ("Object.prototype.toString"),c4e=vA()(),bk=$J(),Plt=typeof globalThis=="undefined"?global:globalThis,f4e=Ilt(),Blt=zJ("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},jlt=zJ("String.prototype.slice"),d4e={},HJ=Object.getPrototypeOf;c4e&&bk&&HJ&&l4e(f4e,function(n){var e=new Plt[n];if(Symbol.toStringTag in e){var t=HJ(e),r=bk(t,Symbol.toStringTag);if(!r){var i=HJ(t);r=bk(i,Symbol.toStringTag)}d4e[n]=r.get}});var qlt=function(e){var t=!1;return l4e(d4e,function(r,i){if(!t)try{t=r.call(e)===i}catch{}}),t};h4e.exports=function(e){if(!e||typeof e!="object")return!1;if(!c4e||!(Symbol.toStringTag in e)){var t=jlt(Mlt(e),8,-1);return Blt(f4e,t)>-1}return bk?qlt(e):!1}});var _4e=G((IGt,v4e)=>{"use strict";d();var p4e=jJ(),Ult=UJ(),m4e=xk(),WJ=$J(),$lt=m4e("Object.prototype.toString"),x4e=vA()(),g4e=typeof globalThis=="undefined"?global:globalThis,zlt=Ult(),Hlt=m4e("String.prototype.slice"),y4e={},QJ=Object.getPrototypeOf;x4e&&WJ&&QJ&&p4e(zlt,function(n){if(typeof g4e[n]=="function"){var e=new g4e[n];if(Symbol.toStringTag in e){var t=QJ(e),r=WJ(t,Symbol.toStringTag);if(!r){var i=QJ(t);r=WJ(i,Symbol.toStringTag)}y4e[n]=r.get}}});var Vlt=function(e){var t=!1;return p4e(y4e,function(r,i){if(!t)try{var s=r.call(e);s===i&&(t=s)}catch{}}),t},Wlt=VJ();v4e.exports=function(e){return Wlt(e)?!x4e||!(Symbol.toStringTag in e)?Hlt($lt(e),8,-1):Vlt(e):!1}});var k4e=G(to=>{"use strict";d();var Qlt=J5e(),Glt=e4e(),Sp=_4e(),b4e=VJ();function IE(n){return n.call.bind(n)}var E4e=typeof BigInt!="undefined",S4e=typeof Symbol!="undefined",eh=IE(Object.prototype.toString),Ylt=IE(Number.prototype.valueOf),Klt=IE(String.prototype.valueOf),Jlt=IE(Boolean.prototype.valueOf);E4e&&(C4e=IE(BigInt.prototype.valueOf));var C4e;S4e&&(w4e=IE(Symbol.prototype.valueOf));var w4e;function EA(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}to.isArgumentsObject=Qlt;to.isGeneratorFunction=Glt;to.isTypedArray=b4e;function Xlt(n){return typeof Promise!="undefined"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}to.isPromise=Xlt;function Zlt(n){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(n):b4e(n)||T4e(n)}to.isArrayBufferView=Zlt;function ect(n){return Sp(n)==="Uint8Array"}to.isUint8Array=ect;function tct(n){return Sp(n)==="Uint8ClampedArray"}to.isUint8ClampedArray=tct;function nct(n){return Sp(n)==="Uint16Array"}to.isUint16Array=nct;function rct(n){return Sp(n)==="Uint32Array"}to.isUint32Array=rct;function ict(n){return Sp(n)==="Int8Array"}to.isInt8Array=ict;function sct(n){return Sp(n)==="Int16Array"}to.isInt16Array=sct;function oct(n){return Sp(n)==="Int32Array"}to.isInt32Array=oct;function act(n){return Sp(n)==="Float32Array"}to.isFloat32Array=act;function uct(n){return Sp(n)==="Float64Array"}to.isFloat64Array=uct;function lct(n){return Sp(n)==="BigInt64Array"}to.isBigInt64Array=lct;function cct(n){return Sp(n)==="BigUint64Array"}to.isBigUint64Array=cct;function Ek(n){return eh(n)==="[object Map]"}Ek.working=typeof Map!="undefined"&&Ek(new Map);function fct(n){return typeof Map=="undefined"?!1:Ek.working?Ek(n):n instanceof Map}to.isMap=fct;function Sk(n){return eh(n)==="[object Set]"}Sk.working=typeof Set!="undefined"&&Sk(new Set);function dct(n){return typeof Set=="undefined"?!1:Sk.working?Sk(n):n instanceof Set}to.isSet=dct;function Ck(n){return eh(n)==="[object WeakMap]"}Ck.working=typeof WeakMap!="undefined"&&Ck(new WeakMap);function hct(n){return typeof WeakMap=="undefined"?!1:Ck.working?Ck(n):n instanceof WeakMap}to.isWeakMap=hct;function GJ(n){return eh(n)==="[object WeakSet]"}GJ.working=typeof WeakSet!="undefined"&&GJ(new WeakSet);function pct(n){return GJ(n)}to.isWeakSet=pct;function wk(n){return eh(n)==="[object ArrayBuffer]"}wk.working=typeof ArrayBuffer!="undefined"&&wk(new ArrayBuffer);function A4e(n){return typeof ArrayBuffer=="undefined"?!1:wk.working?wk(n):n instanceof ArrayBuffer}to.isArrayBuffer=A4e;function Ak(n){return eh(n)==="[object DataView]"}Ak.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Ak(new DataView(new ArrayBuffer(1),0,1));function T4e(n){return typeof DataView=="undefined"?!1:Ak.working?Ak(n):n instanceof DataView}to.isDataView=T4e;var YJ=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function SA(n){return eh(n)==="[object SharedArrayBuffer]"}function F4e(n){return typeof YJ=="undefined"?!1:(typeof SA.working=="undefined"&&(SA.working=SA(new YJ)),SA.working?SA(n):n instanceof YJ)}to.isSharedArrayBuffer=F4e;function mct(n){return eh(n)==="[object AsyncFunction]"}to.isAsyncFunction=mct;function xct(n){return eh(n)==="[object Map Iterator]"}to.isMapIterator=xct;function gct(n){return eh(n)==="[object Set Iterator]"}to.isSetIterator=gct;function yct(n){return eh(n)==="[object Generator]"}to.isGeneratorObject=yct;function vct(n){return eh(n)==="[object WebAssembly.Module]"}to.isWebAssemblyCompiledModule=vct;function D4e(n){return EA(n,Ylt)}to.isNumberObject=D4e;function O4e(n){return EA(n,Klt)}to.isStringObject=O4e;function N4e(n){return EA(n,Jlt)}to.isBooleanObject=N4e;function R4e(n){return E4e&&EA(n,C4e)}to.isBigIntObject=R4e;function L4e(n){return S4e&&EA(n,w4e)}to.isSymbolObject=L4e;function _ct(n){return D4e(n)||O4e(n)||N4e(n)||R4e(n)||L4e(n)}to.isBoxedPrimitive=_ct;function bct(n){return typeof Uint8Array!="undefined"&&(A4e(n)||F4e(n))}to.isAnyArrayBuffer=bct;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(to,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var M4e=G((PGt,I4e)=>{d();I4e.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var P4e=G((BGt,KJ)=>{d();typeof Object.create=="function"?KJ.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:KJ.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var ky=G(no=>{d();var B4e=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},Ect=/%[sdj%]/g;no.format=function(n){if(!Ok(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(Ly(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,s=String(n).replace(Ect,function(a){if(a==="%%")return"%";if(t>=i)return a;switch(a){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return a}}),o=r[t];t<i;o=r[++t])Dk(o)||!ME(o)?s+=" "+o:s+=" "+Ly(o);return s};no.deprecate=function(n,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return n;if(typeof process=="undefined")return function(){return no.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var Tk={},Sct=/^$/;no.debuglog=function(n){if(n=n.toUpperCase(),!Tk[n])if(Sct.test(n)){var e=process.pid;Tk[n]=function(){var t=no.format.apply(no,arguments);console.error("%s %d: %s",n,e,t)}}else Tk[n]=function(){};return Tk[n]};function Ly(n,e){var t={seen:[],stylize:wct};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),ZJ(e)?t.showHidden=e:e&&no._extend(t,e),hv(t.showHidden)&&(t.showHidden=!1),hv(t.depth)&&(t.depth=2),hv(t.colors)&&(t.colors=!1),hv(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=Cct),Fk(t,n,t.depth)}no.inspect=Ly;Ly.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Ly.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Cct(n,e){var t=Ly.styles[e];return t?"\x1B["+Ly.colors[t][0]+"m"+n+"\x1B["+Ly.colors[t][1]+"m":n}function wct(n,e){return n}function Act(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function Fk(n,e,t){if(n.customInspect&&e&&Rk(e.inspect)&&e.inspect!==no.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return Ok(r)||(r=Fk(n,r,t)),r}var i=Tct(n,e);if(i)return i;var s=Object.keys(e),o=Act(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),wA(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return JJ(e);if(s.length===0){if(Rk(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(CA(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(Nk(e))return n.stylize(Date.prototype.toString.call(e),"date");if(wA(e))return JJ(e)}var l="",f=!1,p=["{","}"];if(j4e(e)&&(f=!0,p=["[","]"]),Rk(e)){var v=e.name?": "+e.name:"";l=" [Function"+v+"]"}if(CA(e)&&(l=" "+RegExp.prototype.toString.call(e)),Nk(e)&&(l=" "+Date.prototype.toUTCString.call(e)),wA(e)&&(l=" "+JJ(e)),s.length===0&&(!f||e.length==0))return p[0]+l+p[1];if(t<0)return CA(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var b;return f?b=Fct(n,e,t,o,s):b=s.map(function(F){return XJ(n,e,t,o,F,f)}),n.seen.pop(),Dct(b,l,p)}function Tct(n,e){if(hv(e))return n.stylize("undefined","undefined");if(Ok(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(q4e(e))return n.stylize(""+e,"number");if(ZJ(e))return n.stylize(""+e,"boolean");if(Dk(e))return n.stylize("null","null")}function JJ(n){return"["+Error.prototype.toString.call(n)+"]"}function Fct(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)U4e(e,String(o))?s.push(XJ(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(XJ(n,e,t,r,l,!0))}),s}function XJ(n,e,t,r,i,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):l.set&&(a=n.stylize("[Setter]","special")),U4e(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(l.value)<0?(Dk(t)?a=Fk(n,l.value,null):a=Fk(n,l.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(f){return"   "+f}).join(`
`))):a=n.stylize("[Circular]","special")),hv(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function Dct(n,e,t){var r=0,i=n.reduce(function(s,o){return r++,o.indexOf(`
`)>=0&&r++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}no.types=k4e();function j4e(n){return Array.isArray(n)}no.isArray=j4e;function ZJ(n){return typeof n=="boolean"}no.isBoolean=ZJ;function Dk(n){return n===null}no.isNull=Dk;function Oct(n){return n==null}no.isNullOrUndefined=Oct;function q4e(n){return typeof n=="number"}no.isNumber=q4e;function Ok(n){return typeof n=="string"}no.isString=Ok;function Nct(n){return typeof n=="symbol"}no.isSymbol=Nct;function hv(n){return n===void 0}no.isUndefined=hv;function CA(n){return ME(n)&&eX(n)==="[object RegExp]"}no.isRegExp=CA;no.types.isRegExp=CA;function ME(n){return typeof n=="object"&&n!==null}no.isObject=ME;function Nk(n){return ME(n)&&eX(n)==="[object Date]"}no.isDate=Nk;no.types.isDate=Nk;function wA(n){return ME(n)&&(eX(n)==="[object Error]"||n instanceof Error)}no.isError=wA;no.types.isNativeError=wA;function Rk(n){return typeof n=="function"}no.isFunction=Rk;function Rct(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}no.isPrimitive=Rct;no.isBuffer=M4e();function eX(n){return Object.prototype.toString.call(n)}function tX(n){return n<10?"0"+n.toString(10):n.toString(10)}var Lct=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function kct(){var n=new Date,e=[tX(n.getHours()),tX(n.getMinutes()),tX(n.getSeconds())].join(":");return[n.getDate(),Lct[n.getMonth()],e].join(" ")}no.log=function(){console.log("%s - %s",kct(),no.format.apply(no,arguments))};no.inherits=P4e();no._extend=function(n,e){if(!e||!ME(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function U4e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var pv=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;no.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(pv&&e[pv]){var t=e[pv];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,pv,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,s=new Promise(function(l,f){r=l,i=f}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(l,f){l?i(l):r(f)});try{e.apply(this,o)}catch(l){i(l)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),pv&&Object.defineProperty(t,pv,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,B4e(e))};no.promisify.custom=pv;function Ict(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function Mct(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};n.apply(this,t).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(Ict.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,B4e(n)),e}no.callbackify=Mct});var sX=G((qGt,H4e)=>{"use strict";d();function PE(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?PE=function(t){return typeof t}:PE=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PE(n)}function Pct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bct(n,e){return e&&(PE(e)==="object"||typeof e=="function")?e:jct(n)}function jct(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nX(n){return nX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nX(n)}function qct(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&rX(n,e)}function rX(n,e){return rX=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rX(n,e)}var $4e={},BE,iX;function AA(n,e,t){t||(t=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){qct(o,s);function o(a,l,f){var p;return Pct(this,o),p=Bct(this,nX(o).call(this,r(a,l,f))),p.code=n,p}return o}(t);$4e[n]=i}function z4e(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(r){return String(r)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}else return"of ".concat(e," ").concat(String(n))}function Uct(n,e,t){return n.substr(!t||t<0?0:+t,e.length)===e}function $ct(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function zct(n,e,t){return typeof t!="number"&&(t=0),t+e.length>n.length?!1:n.indexOf(e,t)!==-1}AA("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);AA("ERR_INVALID_ARG_TYPE",function(n,e,t){BE===void 0&&(BE=lf()),BE(typeof n=="string","'name' must be a string");var r;typeof e=="string"&&Uct(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if($ct(n," argument"))i="The ".concat(n," ").concat(r," ").concat(z4e(e,"type"));else{var s=zct(n,".")?"property":"argument";i='The "'.concat(n,'" ').concat(s," ").concat(r," ").concat(z4e(e,"type"))}return i+=". Received type ".concat(PE(t)),i},TypeError);AA("ERR_INVALID_ARG_VALUE",function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";iX===void 0&&(iX=ky());var r=iX.inspect(e);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(n,"' ").concat(t,". Received ").concat(r)},TypeError,RangeError);AA("ERR_INVALID_RETURN_VALUE",function(n,e,t){var r;return t&&t.constructor&&t.constructor.name?r="instance of ".concat(t.constructor.name):r="type ".concat(PE(t)),"Expected ".concat(n,' to be returned from the "').concat(e,'"')+" function but got ".concat(r,".")},TypeError);AA("ERR_MISSING_ARGS",function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];BE===void 0&&(BE=lf()),BE(e.length>0,"At least one arg needs to be specified");var r="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:r+="".concat(e[0]," argument");break;case 2:r+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:r+=e.slice(0,i-1).join(", "),r+=", and ".concat(e[i-1]," arguments");break}return"".concat(r," must be specified")},TypeError);H4e.exports.codes=$4e});var Y4e=G((UGt,G4e)=>{"use strict";d();function Hct(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Vct(n,i,t[i])})}return n}function Vct(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function V4e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Qct(n,e,t){return e&&V4e(n.prototype,e),t&&V4e(n,t),n}function jE(n,e){return e&&(th(e)==="object"||typeof e=="function")?e:oX(n)}function oX(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gct(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&TA(n,e)}function aX(n){var e=typeof Map=="function"?new Map:void 0;return aX=function(r){if(r===null||!Kct(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Lk(r,arguments,Iy(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),TA(i,r)},aX(n)}function Yct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Lk(n,e,t){return Yct()?Lk=Reflect.construct:Lk=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&TA(f,o.prototype),f},Lk.apply(null,arguments)}function Kct(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function TA(n,e){return TA=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},TA(n,e)}function Iy(n){return Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Iy(n)}function th(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?th=function(t){return typeof t}:th=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(n)}var Jct=ky(),uX=Jct.inspect,Xct=sX(),Zct=Xct.codes.ERR_INVALID_ARG_TYPE;function W4e(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function eft(n,e){if(e=Math.floor(e),n.length==0||e==0)return"";var t=n.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)n+=n,e--;return n+=n.substring(0,t-n.length),n}var Cp="",FA="",DA="",Ac="",mv={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},tft=10;function Q4e(n){var e=Object.keys(n),t=Object.create(Object.getPrototypeOf(n));return e.forEach(function(r){t[r]=n[r]}),Object.defineProperty(t,"message",{value:n.message}),t}function OA(n){return uX(n,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function nft(n,e,t){var r="",i="",s=0,o="",a=!1,l=OA(n),f=l.split(`
`),p=OA(e).split(`
`),v=0,b="";if(t==="strictEqual"&&th(n)==="object"&&th(e)==="object"&&n!==null&&e!==null&&(t="strictEqualObject"),f.length===1&&p.length===1&&f[0]!==p[0]){var F=f[0].length+p[0].length;if(F<=tft){if((th(n)!=="object"||n===null)&&(th(e)!=="object"||e===null)&&(n!==0||e!==0))return"".concat(mv[t],`

`)+"".concat(f[0]," !== ").concat(p[0],`
`)}else if(t!=="strictEqualObject"){var D=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(F<D){for(;f[0][v]===p[0][v];)v++;v>2&&(b=`
  `.concat(eft(" ",v),"^"),v=0)}}}for(var M=f[f.length-1],q=p[p.length-1];M===q&&(v++<2?o=`
  `.concat(M).concat(o):r=M,f.pop(),p.pop(),!(f.length===0||p.length===0));)M=f[f.length-1],q=p[p.length-1];var N=Math.max(f.length,p.length);if(N===0){var B=l.split(`
`);if(B.length>30)for(B[26]="".concat(Cp,"...").concat(Ac);B.length>27;)B.pop();return"".concat(mv.notIdentical,`

`).concat(B.join(`
`),`
`)}v>3&&(o=`
`.concat(Cp,"...").concat(Ac).concat(o),a=!0),r!==""&&(o=`
  `.concat(r).concat(o),r="");var I=0,z=mv[t]+`
`.concat(FA,"+ actual").concat(Ac," ").concat(DA,"- expected").concat(Ac),ie=" ".concat(Cp,"...").concat(Ac," Lines skipped");for(v=0;v<N;v++){var L=v-s;if(f.length<v+1)L>1&&v>2&&(L>4?(i+=`
`.concat(Cp,"...").concat(Ac),a=!0):L>3&&(i+=`
  `.concat(p[v-2]),I++),i+=`
  `.concat(p[v-1]),I++),s=v,r+=`
`.concat(DA,"-").concat(Ac," ").concat(p[v]),I++;else if(p.length<v+1)L>1&&v>2&&(L>4?(i+=`
`.concat(Cp,"...").concat(Ac),a=!0):L>3&&(i+=`
  `.concat(f[v-2]),I++),i+=`
  `.concat(f[v-1]),I++),s=v,i+=`
`.concat(FA,"+").concat(Ac," ").concat(f[v]),I++;else{var Y=p[v],fe=f[v],me=fe!==Y&&(!W4e(fe,",")||fe.slice(0,-1)!==Y);me&&W4e(Y,",")&&Y.slice(0,-1)===fe&&(me=!1,fe+=","),me?(L>1&&v>2&&(L>4?(i+=`
`.concat(Cp,"...").concat(Ac),a=!0):L>3&&(i+=`
  `.concat(f[v-2]),I++),i+=`
  `.concat(f[v-1]),I++),s=v,i+=`
`.concat(FA,"+").concat(Ac," ").concat(fe),r+=`
`.concat(DA,"-").concat(Ac," ").concat(Y),I+=2):(i+=r,r="",(L===1||v===0)&&(i+=`
  `.concat(fe),I++))}if(I>20&&v<N-2)return"".concat(z).concat(ie,`
`).concat(i,`
`).concat(Cp,"...").concat(Ac).concat(r,`
`)+"".concat(Cp,"...").concat(Ac)}return"".concat(z).concat(a?ie:"",`
`).concat(i).concat(r).concat(o).concat(b)}var rft=function(n){Gct(e,n);function e(t){var r;if(Wct(this,e),th(t)!=="object"||t===null)throw new Zct("options","Object",t);var i=t.message,s=t.operator,o=t.stackStartFn,a=t.actual,l=t.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)r=jE(this,Iy(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Cp="\x1B[34m",FA="\x1B[32m",Ac="\x1B[39m",DA="\x1B[31m"):(Cp="",FA="",Ac="",DA="")),th(a)==="object"&&a!==null&&th(l)==="object"&&l!==null&&"stack"in a&&a instanceof Error&&"stack"in l&&l instanceof Error&&(a=Q4e(a),l=Q4e(l)),s==="deepStrictEqual"||s==="strictEqual")r=jE(this,Iy(e).call(this,nft(a,l,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var p=mv[s],v=OA(a).split(`
`);if(s==="notStrictEqual"&&th(a)==="object"&&a!==null&&(p=mv.notStrictEqualObject),v.length>30)for(v[26]="".concat(Cp,"...").concat(Ac);v.length>27;)v.pop();v.length===1?r=jE(this,Iy(e).call(this,"".concat(p," ").concat(v[0]))):r=jE(this,Iy(e).call(this,"".concat(p,`

`).concat(v.join(`
`),`
`)))}else{var b=OA(a),F="",D=mv[s];s==="notDeepEqual"||s==="notEqual"?(b="".concat(mv[s],`

`).concat(b),b.length>1024&&(b="".concat(b.slice(0,1021),"..."))):(F="".concat(OA(l)),b.length>512&&(b="".concat(b.slice(0,509),"...")),F.length>512&&(F="".concat(F.slice(0,509),"...")),s==="deepEqual"||s==="equal"?b="".concat(D,`

`).concat(b,`

should equal

`):F=" ".concat(s," ").concat(F)),r=jE(this,Iy(e).call(this,"".concat(b).concat(F)))}return Error.stackTraceLimit=f,r.generatedMessage=!i,Object.defineProperty(oX(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=a,r.expected=l,r.operator=s,Error.captureStackTrace&&Error.captureStackTrace(oX(r),o),r.stack,r.name="AssertionError",jE(r)}return Qct(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:uX.custom,value:function(r,i){return uX(this,Hct({},i,{customInspect:!1,depth:0}))}}]),e}(aX(Error));G4e.exports=rft});var X4e=G(($Gt,J4e)=>{"use strict";d();function K4e(n,e){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(n),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s=Object.keys(Object(i)),o=0,a=s.length;o<a;o++){var l=s[o],f=Object.getOwnPropertyDescriptor(i,l);f!==void 0&&f.enumerable&&(t[l]=i[l])}}return t}function ift(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:K4e})}J4e.exports={assign:K4e,polyfill:ift}});var lX=G((zGt,eve)=>{"use strict";d();var Z4e=Object.prototype.toString;eve.exports=function(e){var t=Z4e.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Z4e.call(e.callee)==="[object Function]"),r}});var lve=G((HGt,uve)=>{"use strict";d();var tve;Object.keys||(NA=Object.prototype.hasOwnProperty,cX=Object.prototype.toString,nve=lX(),fX=Object.prototype.propertyIsEnumerable,rve=!fX.call({toString:null},"toString"),ive=fX.call(function(){},"prototype"),RA=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],kk=function(n){var e=n.constructor;return e&&e.prototype===n},sve={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ove=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!sve["$"+n]&&NA.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{kk(window[n])}catch{return!0}}catch{return!0}return!1}(),ave=function(n){if(typeof window=="undefined"||!ove)return kk(n);try{return kk(n)}catch{return!1}},tve=function(e){var t=e!==null&&typeof e=="object",r=cX.call(e)==="[object Function]",i=nve(e),s=t&&cX.call(e)==="[object String]",o=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var a=ive&&r;if(s&&e.length>0&&!NA.call(e,0))for(var l=0;l<e.length;++l)o.push(String(l));if(i&&e.length>0)for(var f=0;f<e.length;++f)o.push(String(f));else for(var p in e)!(a&&p==="prototype")&&NA.call(e,p)&&o.push(String(p));if(rve)for(var v=ave(e),b=0;b<RA.length;++b)!(v&&RA[b]==="constructor")&&NA.call(e,RA[b])&&o.push(RA[b]);return o});var NA,cX,nve,fX,rve,ive,RA,kk,sve,ove,ave;uve.exports=tve});var hve=G((VGt,dve)=>{"use strict";d();var sft=Array.prototype.slice,oft=lX(),cve=Object.keys,Ik=cve?function(e){return cve(e)}:lve(),fve=Object.keys;Ik.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return oft(r)?fve(sft.call(r)):fve(r)})}else Object.keys=Ik;return Object.keys||Ik};dve.exports=Ik});var mve=G((WGt,pve)=>{"use strict";d();var aft=bA(),dX=aft("%Object.defineProperty%",!0),hX=function(){if(dX)try{return dX({},"a",{value:1}),!0}catch{return!1}return!1};hX.hasArrayLengthDefineBug=function(){if(!hX())return null;try{return dX([],"length",{value:1}).length!==1}catch{return!0}};pve.exports=hX});var LA=G((QGt,vve)=>{"use strict";d();var uft=hve(),lft=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",cft=Object.prototype.toString,fft=Array.prototype.concat,xve=Object.defineProperty,dft=function(n){return typeof n=="function"&&cft.call(n)==="[object Function]"},hft=mve()(),gve=xve&&hft,pft=function(n,e,t,r){e in n&&(!dft(r)||!r())||(gve?xve(n,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):n[e]=t)},yve=function(n,e){var t=arguments.length>2?arguments[2]:{},r=uft(e);lft&&(r=fft.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)pft(n,r[i],e[r[i]],t[r[i]])};yve.supportsDescriptors=!!gve;vve.exports=yve});var pX=G((GGt,bve)=>{"use strict";d();var _ve=function(n){return n!==n};bve.exports=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||_ve(e)&&_ve(t))}});var mX=G((YGt,Eve)=>{"use strict";d();var mft=pX();Eve.exports=function(){return typeof Object.is=="function"?Object.is:mft}});var Cve=G((KGt,Sve)=>{"use strict";d();var xft=mX(),gft=LA();Sve.exports=function(){var e=xft();return gft(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var xX=G((JGt,Tve)=>{"use strict";d();var yft=LA(),vft=mk(),_ft=pX(),wve=mX(),bft=Cve(),Ave=vft(wve(),Object);yft(Ave,{getPolyfill:wve,implementation:_ft,shim:bft});Tve.exports=Ave});var gX=G((XGt,Fve)=>{"use strict";d();Fve.exports=function(e){return e!==e}});var yX=G((ZGt,Dve)=>{"use strict";d();var Eft=gX();Dve.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Eft}});var Nve=G((eYt,Ove)=>{"use strict";d();var Sft=LA(),Cft=yX();Ove.exports=function(){var e=Cft();return Sft(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var Ive=G((tYt,kve)=>{"use strict";d();var wft=mk(),Aft=LA(),Tft=gX(),Rve=yX(),Fft=Nve(),Lve=wft(Rve(),Number);Aft(Lve,{getPolyfill:Rve,implementation:Tft,shim:Fft});kve.exports=Lve});var e_e=G((nYt,Zve)=>{"use strict";d();function Mve(n,e){return Nft(n)||Oft(n,e)||Dft()}function Dft(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Oft(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}function Nft(n){if(Array.isArray(n))return n}function ud(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ud=function(t){return typeof t}:ud=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(n)}var Rft=/a/g.flags!==void 0,Mk=function(e){var t=[];return e.forEach(function(r){return t.push(r)}),t},Pve=function(e){var t=[];return e.forEach(function(r,i){return t.push([i,r])}),t},Bve=Object.is?Object.is:xX(),Pk=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},vX=Number.isNaN?Number.isNaN:Ive();function _X(n){return n.call.bind(n)}var kA=_X(Object.prototype.hasOwnProperty),Bk=_X(Object.prototype.propertyIsEnumerable),jve=_X(Object.prototype.toString),If=ky().types,Lft=If.isAnyArrayBuffer,kft=If.isArrayBufferView,qve=If.isDate,jk=If.isMap,Uve=If.isRegExp,qk=If.isSet,Ift=If.isNativeError,Mft=If.isBoxedPrimitive,$ve=If.isNumberObject,zve=If.isStringObject,Hve=If.isBooleanObject,Vve=If.isBigIntObject,Pft=If.isSymbolObject,Bft=If.isFloat32Array,jft=If.isFloat64Array;function qft(n){if(n.length===0||n.length>10)return!0;for(var e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<48||t>57)return!0}return n.length===10&&n>=Math.pow(2,32)}function Uk(n){return Object.keys(n).filter(qft).concat(Pk(n).filter(Object.prototype.propertyIsEnumerable.bind(n)))}function Wve(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var $k=void 0,Uft=!0,$ft=!1,bX=0,EX=1,Qve=2,Gve=3;function zft(n,e){return Rft?n.source===e.source&&n.flags===e.flags:RegExp.prototype.toString.call(n)===RegExp.prototype.toString.call(e)}function Hft(n,e){if(n.byteLength!==e.byteLength)return!1;for(var t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}function Vft(n,e){return n.byteLength!==e.byteLength?!1:Wve(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function Wft(n,e){return n.byteLength===e.byteLength&&Wve(new Uint8Array(n),new Uint8Array(e))===0}function Qft(n,e){return $ve(n)?$ve(e)&&Bve(Number.prototype.valueOf.call(n),Number.prototype.valueOf.call(e)):zve(n)?zve(e)&&String.prototype.valueOf.call(n)===String.prototype.valueOf.call(e):Hve(n)?Hve(e)&&Boolean.prototype.valueOf.call(n)===Boolean.prototype.valueOf.call(e):Vve(n)?Vve(e)&&BigInt.prototype.valueOf.call(n)===BigInt.prototype.valueOf.call(e):Pft(e)&&Symbol.prototype.valueOf.call(n)===Symbol.prototype.valueOf.call(e)}function nh(n,e,t,r){if(n===e)return n!==0?!0:t?Bve(n,e):!0;if(t){if(ud(n)!=="object")return typeof n=="number"&&vX(n)&&vX(e);if(ud(e)!=="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1}else{if(n===null||ud(n)!=="object")return e===null||ud(e)!=="object"?n==e:!1;if(e===null||ud(e)!=="object")return!1}var i=jve(n),s=jve(e);if(i!==s)return!1;if(Array.isArray(n)){if(n.length!==e.length)return!1;var o=Uk(n,$k),a=Uk(e,$k);return o.length!==a.length?!1:IA(n,e,t,r,EX,o)}if(i==="[object Object]"&&(!jk(n)&&jk(e)||!qk(n)&&qk(e)))return!1;if(qve(n)){if(!qve(e)||Date.prototype.getTime.call(n)!==Date.prototype.getTime.call(e))return!1}else if(Uve(n)){if(!Uve(e)||!zft(n,e))return!1}else if(Ift(n)||n instanceof Error){if(n.message!==e.message||n.name!==e.name)return!1}else if(kft(n)){if(!t&&(Bft(n)||jft(n))){if(!Hft(n,e))return!1}else if(!Vft(n,e))return!1;var l=Uk(n,$k),f=Uk(e,$k);return l.length!==f.length?!1:IA(n,e,t,r,bX,l)}else{if(qk(n))return!qk(e)||n.size!==e.size?!1:IA(n,e,t,r,Qve);if(jk(n))return!jk(e)||n.size!==e.size?!1:IA(n,e,t,r,Gve);if(Lft(n)){if(!Wft(n,e))return!1}else if(Mft(n)&&!Qft(n,e))return!1}return IA(n,e,t,r,bX)}function Yve(n,e){return e.filter(function(t){return Bk(n,t)})}function IA(n,e,t,r,i,s){if(arguments.length===5){s=Object.keys(n);var o=Object.keys(e);if(s.length!==o.length)return!1}for(var a=0;a<s.length;a++)if(!kA(e,s[a]))return!1;if(t&&arguments.length===5){var l=Pk(n);if(l.length!==0){var f=0;for(a=0;a<l.length;a++){var p=l[a];if(Bk(n,p)){if(!Bk(e,p))return!1;s.push(p),f++}else if(Bk(e,p))return!1}var v=Pk(e);if(l.length!==v.length&&Yve(e,v).length!==f)return!1}else{var b=Pk(e);if(b.length!==0&&Yve(e,b).length!==0)return!1}}if(s.length===0&&(i===bX||i===EX&&n.length===0||n.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var F=r.val1.get(n);if(F!==void 0){var D=r.val2.get(e);if(D!==void 0)return F===D}r.position++}r.val1.set(n,r.position),r.val2.set(e,r.position);var M=Xft(n,e,t,s,r,i);return r.val1.delete(n),r.val2.delete(e),M}function Kve(n,e,t,r){for(var i=Mk(n),s=0;s<i.length;s++){var o=i[s];if(nh(e,o,t,r))return n.delete(o),!0}return!1}function Jve(n){switch(ud(n)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":n=+n;case"number":if(vX(n))return!1}return!0}function Gft(n,e,t){var r=Jve(t);return r??(e.has(r)&&!n.has(r))}function Yft(n,e,t,r,i){var s=Jve(t);if(s!=null)return s;var o=e.get(s);return o===void 0&&!e.has(s)||!nh(r,o,!1,i)?!1:!n.has(s)&&nh(r,o,!1,i)}function Kft(n,e,t,r){for(var i=null,s=Mk(n),o=0;o<s.length;o++){var a=s[o];if(ud(a)==="object"&&a!==null)i===null&&(i=new Set),i.add(a);else if(!e.has(a)){if(t||!Gft(n,e,a))return!1;i===null&&(i=new Set),i.add(a)}}if(i!==null){for(var l=Mk(e),f=0;f<l.length;f++){var p=l[f];if(ud(p)==="object"&&p!==null){if(!Kve(i,p,t,r))return!1}else if(!t&&!n.has(p)&&!Kve(i,p,t,r))return!1}return i.size===0}return!0}function Xve(n,e,t,r,i,s){for(var o=Mk(n),a=0;a<o.length;a++){var l=o[a];if(nh(t,l,i,s)&&nh(r,e.get(l),i,s))return n.delete(l),!0}return!1}function Jft(n,e,t,r){for(var i=null,s=Pve(n),o=0;o<s.length;o++){var a=Mve(s[o],2),l=a[0],f=a[1];if(ud(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var p=e.get(l);if(p===void 0&&!e.has(l)||!nh(f,p,t,r)){if(t||!Yft(n,e,l,f,r))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var v=Pve(e),b=0;b<v.length;b++){var F=Mve(v[b],2),l=F[0],D=F[1];if(ud(l)==="object"&&l!==null){if(!Xve(i,n,l,D,t,r))return!1}else if(!t&&(!n.has(l)||!nh(n.get(l),D,!1,r))&&!Xve(i,n,l,D,!1,r))return!1}return i.size===0}return!0}function Xft(n,e,t,r,i,s){var o=0;if(s===Qve){if(!Kft(n,e,t,i))return!1}else if(s===Gve){if(!Jft(n,e,t,i))return!1}else if(s===EX)for(;o<n.length;o++)if(kA(n,o)){if(!kA(e,o)||!nh(n[o],e[o],t,i))return!1}else{if(kA(e,o))return!1;for(var a=Object.keys(n);o<a.length;o++){var l=a[o];if(!kA(e,l)||!nh(n[l],e[l],t,i))return!1}return a.length===Object.keys(e).length}for(o=0;o<r.length;o++){var f=r[o];if(!nh(n[f],e[f],t,i))return!1}return!0}function Zft(n,e){return nh(n,e,$ft)}function e0t(n,e){return nh(n,e,Uft)}Zve.exports={isDeepEqual:Zft,isDeepStrictEqual:e0t}});var lf=G((rYt,x_e)=>{"use strict";d();function My(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?My=function(t){return typeof t}:My=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(n)}function t0t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var n0t=sX(),MA=n0t.codes,t_e=MA.ERR_AMBIGUOUS_ARGUMENT,PA=MA.ERR_INVALID_ARG_TYPE,r0t=MA.ERR_INVALID_ARG_VALUE,i0t=MA.ERR_INVALID_RETURN_VALUE,Py=MA.ERR_MISSING_ARGS,xv=Y4e(),s0t=ky(),o0t=s0t.inspect,n_e=ky().types,a0t=n_e.isPromise,SX=n_e.isRegExp,u0t=Object.assign?Object.assign:X4e().assign,r_e=Object.is?Object.is:xX(),By,zk;function BA(){var n=e_e();By=n.isDeepEqual,zk=n.isDeepStrictEqual}var i_e=!1,Wa=x_e.exports=CX,Hk={};function wp(n){throw n.message instanceof Error?n.message:new xv(n)}function s_e(n,e,t,r,i){var s=arguments.length,o;if(s===0)o="Failed";else if(s===1)t=n,n=void 0;else{if(i_e===!1){i_e=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(r="!=")}if(t instanceof Error)throw t;var l={actual:n,expected:e,operator:r===void 0?"fail":r,stackStartFn:i||s_e};t!==void 0&&(l.message=t);var f=new xv(l);throw o&&(f.message=o,f.generatedMessage=!0),f}Wa.fail=s_e;Wa.AssertionError=xv;function o_e(n,e,t,r){if(!t){var i=!1;if(e===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new xv({actual:t,expected:!0,message:r,operator:"==",stackStartFn:n});throw s.generatedMessage=i,s}}function CX(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];o_e.apply(void 0,[CX,e.length].concat(e))}Wa.ok=CX;Wa.equal=function n(e,t,r){if(arguments.length<2)throw new Py("actual","expected");e!=t&&wp({actual:e,expected:t,message:r,operator:"==",stackStartFn:n})};Wa.notEqual=function n(e,t,r){if(arguments.length<2)throw new Py("actual","expected");e==t&&wp({actual:e,expected:t,message:r,operator:"!=",stackStartFn:n})};Wa.deepEqual=function n(e,t,r){if(arguments.length<2)throw new Py("actual","expected");By===void 0&&BA(),By(e,t)||wp({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:n})};Wa.notDeepEqual=function n(e,t,r){if(arguments.length<2)throw new Py("actual","expected");By===void 0&&BA(),By(e,t)&&wp({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:n})};Wa.deepStrictEqual=function n(e,t,r){if(arguments.length<2)throw new Py("actual","expected");By===void 0&&BA(),zk(e,t)||wp({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n})};Wa.notDeepStrictEqual=a_e;function a_e(n,e,t){if(arguments.length<2)throw new Py("actual","expected");By===void 0&&BA(),zk(n,e)&&wp({actual:n,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:a_e})}Wa.strictEqual=function n(e,t,r){if(arguments.length<2)throw new Py("actual","expected");r_e(e,t)||wp({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:n})};Wa.notStrictEqual=function n(e,t,r){if(arguments.length<2)throw new Py("actual","expected");r_e(e,t)&&wp({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:n})};var u_e=function n(e,t,r){var i=this;t0t(this,n),t.forEach(function(s){s in e&&(r!==void 0&&typeof r[s]=="string"&&SX(e[s])&&e[s].test(r[s])?i[s]=r[s]:i[s]=e[s])})};function l0t(n,e,t,r,i,s){if(!(t in n)||!zk(n[t],e[t])){if(!r){var o=new u_e(n,i),a=new u_e(e,i,n),l=new xv({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=n,l.expected=e,l.operator=s.name,l}wp({actual:n,expected:e,message:r,operator:s.name,stackStartFn:s})}}function l_e(n,e,t,r){if(typeof e!="function"){if(SX(e))return e.test(n);if(arguments.length===2)throw new PA("expected",["Function","RegExp"],e);if(My(n)!=="object"||n===null){var i=new xv({actual:n,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new r0t("error",e,"may not be an empty object");return By===void 0&&BA(),s.forEach(function(o){typeof n[o]=="string"&&SX(e[o])&&e[o].test(n[o])||l0t(n,e,o,t,s,r)}),!0}return e.prototype!==void 0&&n instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function c_e(n){if(typeof n!="function")throw new PA("fn","Function",n);try{n()}catch(e){return e}return Hk}function f_e(n){return a0t(n)||n!==null&&My(n)==="object"&&typeof n.then=="function"&&typeof n.catch=="function"}function d_e(n){return Promise.resolve().then(function(){var e;if(typeof n=="function"){if(e=n(),!f_e(e))throw new i0t("instance of Promise","promiseFn",e)}else if(f_e(n))e=n;else throw new PA("promiseFn",["Function","Promise"],n);return Promise.resolve().then(function(){return e}).then(function(){return Hk}).catch(function(t){return t})})}function h_e(n,e,t,r){if(typeof t=="string"){if(arguments.length===4)throw new PA("error",["Object","Error","Function","RegExp"],t);if(My(e)==="object"&&e!==null){if(e.message===t)throw new t_e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new t_e("error/message",'The error "'.concat(e,'" is identical to the message.'));r=t,t=void 0}else if(t!=null&&My(t)!=="object"&&typeof t!="function")throw new PA("error",["Object","Error","Function","RegExp"],t);if(e===Hk){var i="";t&&t.name&&(i+=" (".concat(t.name,")")),i+=r?": ".concat(r):".";var s=n.name==="rejects"?"rejection":"exception";wp({actual:void 0,expected:t,operator:n.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:n})}if(t&&!l_e(e,t,r,n))throw e}function p_e(n,e,t,r){if(e!==Hk){if(typeof t=="string"&&(r=t,t=void 0),!t||l_e(e,t)){var i=r?": ".concat(r):".",s=n.name==="doesNotReject"?"rejection":"exception";wp({actual:e,expected:t,operator:n.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:n})}throw e}}Wa.throws=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];h_e.apply(void 0,[n,c_e(e)].concat(r))};Wa.rejects=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return d_e(e).then(function(s){return h_e.apply(void 0,[n,s].concat(r))})};Wa.doesNotThrow=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];p_e.apply(void 0,[n,c_e(e)].concat(r))};Wa.doesNotReject=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return d_e(e).then(function(s){return p_e.apply(void 0,[n,s].concat(r))})};Wa.ifError=function n(e){if(e!=null){var t="ifError got unwanted exception: ";My(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=o0t(e);var r=new xv({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:n}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var o=r.stack.split(`
`),a=0;a<s.length;a++){var l=o.indexOf(s[a]);if(l!==-1){o=o.slice(0,l);break}}r.stack="".concat(o.join(`
`),`
`).concat(s.join(`
`))}throw r}};function m_e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];o_e.apply(void 0,[m_e,e.length].concat(e))}Wa.strict=u0t(m_e,Wa,{equal:Wa.strictEqual,deepEqual:Wa.deepStrictEqual,notEqual:Wa.notStrictEqual,notDeepEqual:Wa.notDeepStrictEqual});Wa.strict.strict=Wa.strict});var ar=G(U1=>{"use strict";d();Object.defineProperty(U1,"__esModule",{value:!0});U1.SuppressWarnings=U1.Override=U1.Nullable=U1.NotNull=void 0;function c0t(n,e,t){}U1.NotNull=c0t;function f0t(n,e,t){}U1.Nullable=f0t;function d0t(n,e,t){}U1.Override=d0t;function h0t(n){return(e,t,r)=>{}}U1.SuppressWarnings=h0t});var ux=G(jA=>{"use strict";d();Object.defineProperty(jA,"__esModule",{value:!0});jA.IntStream=void 0;var p0t;(function(n){n.EOF=-1,n.UNKNOWN_SOURCE_NAME="<unknown>"})(p0t=jA.IntStream||(jA.IntStream={}))});var g_e=G(qE=>{"use strict";d();var $1=qE&&qE.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(qE,"__esModule",{value:!0});qE.ANTLRInputStream=void 0;var m0t=lf(),z1=ar(),Vk=ux(),rh=class{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw m0t(this.LA(1)===Vk.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?Vk.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let t=e.a,r=e.b;r>=this.n&&(r=this.n-1);let i=r-t+1;return t>=this.n?"":this.data.substr(t,i)}get sourceName(){return this.name?this.name:Vk.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};$1([z1.Override],rh.prototype,"consume",null);$1([z1.Override],rh.prototype,"LA",null);$1([z1.Override],rh.prototype,"index",null);$1([z1.Override],rh.prototype,"size",null);$1([z1.Override],rh.prototype,"mark",null);$1([z1.Override],rh.prototype,"release",null);$1([z1.Override],rh.prototype,"seek",null);$1([z1.Override],rh.prototype,"getText",null);$1([z1.Override],rh.prototype,"sourceName",null);$1([z1.Override],rh.prototype,"toString",null);qE.ANTLRInputStream=rh});var H1=G(jy=>{"use strict";d();var wX=jy&&jy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(jy,"__esModule",{value:!0});jy.ATNState=void 0;var AX=ar(),lx=class{constructor(){this.stateNumber=lx.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(e){return e instanceof lx?this.stateNumber===e.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(e,t){if(this.transitions.length===0)this.epsilonOnlyTransitions=e.isEpsilon;else if(this.epsilonOnlyTransitions!==e.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(t!==void 0?t:this.transitions.length,0,e)}transition(e){return this.transitions[e]}setTransition(e,t){this.transitions[e]=t}removeTransition(e){return this.transitions.splice(e,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(e){this.ruleIndex=e}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(e){return this.optimizedTransitions[e]}addOptimizedTransition(e){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(e)}setOptimizedTransition(e,t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[e]=t}removeOptimizedTransition(e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(e,1)}};wX([AX.Override],lx.prototype,"hashCode",null);wX([AX.Override],lx.prototype,"equals",null);wX([AX.Override],lx.prototype,"toString",null);jy.ATNState=lx;(function(n){n.INVALID_STATE_NUMBER=-1})(lx=jy.ATNState||(jy.ATNState={}))});var nc=G(qA=>{"use strict";d();Object.defineProperty(qA,"__esModule",{value:!0});qA.ATNStateType=void 0;var x0t;(function(n){n[n.INVALID_TYPE=0]="INVALID_TYPE",n[n.BASIC=1]="BASIC",n[n.RULE_START=2]="RULE_START",n[n.BLOCK_START=3]="BLOCK_START",n[n.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",n[n.STAR_BLOCK_START=5]="STAR_BLOCK_START",n[n.TOKEN_START=6]="TOKEN_START",n[n.RULE_STOP=7]="RULE_STOP",n[n.BLOCK_END=8]="BLOCK_END",n[n.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",n[n.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",n[n.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",n[n.LOOP_END=12]="LOOP_END"})(x0t=qA.ATNStateType||(qA.ATNStateType={}))});var cx=G(Wk=>{"use strict";d();Object.defineProperty(Wk,"__esModule",{value:!0});Wk.RecognitionException=void 0;var y_e=class extends Error{constructor(e,t,r,i){super(i);this._offendingState=-1,this._recognizer=e,this.input=t,this.ctx=r,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,t){e===this._recognizer&&(this.offendingToken=t)}get recognizer(){return this._recognizer}};Wk.RecognitionException=y_e});var fx=G(qy=>{"use strict";d();var v_e=qy&&qy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},g0t=qy&&qy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(qy,"__esModule",{value:!0});qy.Transition=void 0;var __e=ar(),UA=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};UA.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];v_e([__e.NotNull],UA.prototype,"target",void 0);UA=v_e([g0t(0,__e.NotNull)],UA);qy.Transition=UA});var Gk=G(Qk=>{"use strict";d();Object.defineProperty(Qk,"__esModule",{value:!0});Qk.AbstractPredicateTransition=void 0;var y0t=fx(),b_e=class extends y0t.Transition{constructor(e){super(e)}};Qk.AbstractPredicateTransition=b_e});var Su=G($A=>{"use strict";d();Object.defineProperty($A,"__esModule",{value:!0});$A.MurmurHash=void 0;var v0t;(function(n){let e=0;function t(a=e){return a}n.initialize=t;function r(a,l){let f=3432918353,p=461845907,v=15,b=13,F=5,D=3864292196;l==null?l=0:typeof l=="string"?l=o(l):typeof l=="object"&&(l=l.hashCode());let M=l;return M=Math.imul(M,f),M=M<<v|M>>>32-v,M=Math.imul(M,p),a=a^M,a=a<<b|a>>>32-b,a=Math.imul(a,F)+D,a&4294967295}n.update=r;function i(a,l){return a=a^l*4,a=a^a>>>16,a=Math.imul(a,2246822507),a=a^a>>>13,a=Math.imul(a,3266489909),a=a^a>>>16,a}n.finish=i;function s(a,l=e){let f=t(l),p=0;for(let v of a)f=r(f,v),p++;return f=i(f,p),f}n.hashCode=s;function o(a){let l=a.length;if(l===0)return 0;let f=0;for(let p=0;p<l;p++){let v=a.charCodeAt(p);f=(f<<5>>>0)-f+v,f|=0}return f}})(v0t=$A.MurmurHash||($A.MurmurHash={}))});var Ap=G($E=>{"use strict";d();var E_e=$E&&$E.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty($E,"__esModule",{value:!0});$E.ObjectEqualityComparator=void 0;var S_e=ar(),UE=class{hashCode(e){return e==null?0:e.hashCode()}equals(e,t){return e==null?t==null:e.equals(t)}};UE.INSTANCE=new UE;E_e([S_e.Override],UE.prototype,"hashCode",null);E_e([S_e.Override],UE.prototype,"equals",null);$E.ObjectEqualityComparator=UE});var T_e=G(HE=>{"use strict";d();var C_e=HE&&HE.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(HE,"__esModule",{value:!0});HE.DefaultEqualityComparator=void 0;var w_e=ar(),_0t=Su(),A_e=Ap(),zE=class{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?_0t.MurmurHash.hashCode([e]):A_e.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,t){return e==null?t==null:typeof e=="string"||typeof e=="number"?e===t:A_e.ObjectEqualityComparator.INSTANCE.equals(e,t)}};zE.INSTANCE=new zE;C_e([w_e.Override],zE.prototype,"hashCode",null);C_e([w_e.Override],zE.prototype,"equals",null);HE.DefaultEqualityComparator=zE});var dx=G(Uy=>{"use strict";d();var cf=Uy&&Uy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},b0t=Uy&&Uy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.Array2DHashSet=void 0;var E0t=lf(),S0t=T_e(),ff=ar(),TX=Su(),Yk=16,FX=.75,Cu=class{constructor(e,t=Yk){if(this.n=0,this.threshold=Math.floor(Yk*FX),e instanceof Cu){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let r=0;r<this.buckets.length;r++){let i=this.buckets[r];i&&(this.buckets[r]=i.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||S0t.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(t)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let t=this.getBucket(e),r=this.buckets[t];if(!r)return r=[e],this.buckets[t]=r,this.n++,e;for(let i of r)if(this.comparator.equals(i,e))return i;return r.push(e),this.n++,e}get(e){if(e==null)return e;let t=this.getBucket(e),r=this.buckets[t];if(!!r){for(let i of r)if(this.comparator.equals(i,e))return i}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=TX.MurmurHash.initialize();for(let t of this.buckets)if(t!=null)for(let r of t){if(r==null)break;e=TX.MurmurHash.update(e,this.comparator.hashCode(r))}return e=TX.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof Cu)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,t=this.buckets.length*2,r=this.createBuckets(t);this.buckets=r,this.threshold=Math.floor(t*FX);let i=this.size;for(let s of e)if(!!s)for(let o of s){let a=this.getBucket(o),l=this.buckets[a];l||(l=[],this.buckets[a]=l),l.push(o)}E0t(this.n===i)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){let e=new Array(this.size),t=0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;e[t++]=i}return e}containsAll(e){if(e instanceof Cu){let t=e;for(let r of t.buckets)if(r!=null)for(let i of r){if(i==null)break;if(!this.containsFast(this.asElementType(i)))return!1}}else for(let t of e)if(!this.containsFast(this.asElementType(t)))return!1;return!0}addAll(e){let t=!1;for(let r of e)this.getOrAdd(r)!==r&&(t=!0);return t}clear(){this.buckets=this.createBuckets(Yk),this.n=0,this.threshold=Math.floor(Yk*FX)}toString(){if(this.size===0)return"{}";let e="{",t=!0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;t?t=!1:e+=", ",e+=i.toString()}return e+="}",e}toTableString(){let e="";for(let t of this.buckets){if(t==null){e+=`null
`;continue}e+="[";let r=!0;for(let i of t)r?r=!1:e+=" ",i==null?e+="_":e+=i.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}};cf([ff.NotNull],Cu.prototype,"comparator",void 0);cf([ff.Override],Cu.prototype,"hashCode",null);cf([ff.Override],Cu.prototype,"equals",null);cf([ff.Override],Cu.prototype,"add",null);cf([ff.Override],Cu.prototype,"size",null);cf([ff.Override],Cu.prototype,"isEmpty",null);cf([ff.Override],Cu.prototype,"contains",null);cf([b0t(0,ff.Nullable)],Cu.prototype,"containsFast",null);cf([ff.Override],Cu.prototype,Symbol.iterator,null);cf([ff.Override],Cu.prototype,"toArray",null);cf([ff.Override],Cu.prototype,"containsAll",null);cf([ff.Override],Cu.prototype,"addAll",null);cf([ff.Override],Cu.prototype,"clear",null);cf([ff.Override],Cu.prototype,"toString",null);cf([ff.SuppressWarnings("unchecked")],Cu.prototype,"asElementType",null);cf([ff.SuppressWarnings("unchecked")],Cu.prototype,"createBuckets",null);Uy.Array2DHashSet=Cu});var zA=G(WE=>{"use strict";d();var F_e=WE&&WE.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(WE,"__esModule",{value:!0});WE.ArrayEqualityComparator=void 0;var D_e=ar(),C0t=Su(),w0t=Ap(),VE=class{hashCode(e){return e==null?0:C0t.MurmurHash.hashCode(e,0)}equals(e,t){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!w0t.ObjectEqualityComparator.INSTANCE.equals(e[r],t[r]))return!1;return!0}};VE.INSTANCE=new VE;F_e([D_e.Override],VE.prototype,"hashCode",null);F_e([D_e.Override],VE.prototype,"equals",null);WE.ArrayEqualityComparator=VE});var Tp=G(ih=>{"use strict";d();Object.defineProperty(ih,"__esModule",{value:!0});ih.toCharArray=ih.toMap=ih.equals=ih.join=ih.escapeWhitespace=void 0;function A0t(n,e){return e?n.replace(/ /,"\xB7"):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}ih.escapeWhitespace=A0t;function T0t(n,e){let t="",r=!0;for(let i of n)r?r=!1:t+=e,t+=i;return t}ih.join=T0t;function F0t(n,e){return n===e?!0:n===void 0||e===void 0?!1:n.equals(e)}ih.equals=F0t;function D0t(n){let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t],t);return e}ih.toMap=D0t;function O0t(n){if(typeof n=="string"){let e=new Uint16Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}else return n.toCharArray()}ih.toCharArray=O0t});var yv=G(V1=>{"use strict";d();var Qa=V1&&V1.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Kk=V1&&V1.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(V1,"__esModule",{value:!0});V1.SemanticContext=void 0;var O_e=dx(),N_e=zA(),gv=Su(),va=ar(),R_e=Ap(),L_e=Tp();function N0t(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)<0&&(e=t)}return e}function R0t(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)>0&&(e=t)}return e}var Mf=class{static get NONE(){return Mf._NONE===void 0&&(Mf._NONE=new Mf.Predicate),Mf._NONE}evalPrecedence(e,t){return this}static and(e,t){if(!e||e===Mf.NONE)return t;if(t===Mf.NONE)return e;let r=new Mf.AND(e,t);return r.opnds.length===1?r.opnds[0]:r}static or(e,t){if(!e)return t;if(e===Mf.NONE||t===Mf.NONE)return Mf.NONE;let r=new Mf.OR(e,t);return r.opnds.length===1?r.opnds[0]:r}};V1.SemanticContext=Mf;(function(n){let e=40363613,t=486279973;function r(f){let p=[];for(let v=0;v<f.length;v++){let b=f[v];b instanceof n.PrecedencePredicate&&(p.push(b),f.splice(v,1),v--)}return p}class i extends n{constructor(p=-1,v=-1,b=!1){super();this.ruleIndex=p,this.predIndex=v,this.isCtxDependent=b}eval(p,v){let b=this.isCtxDependent?v:void 0;return p.sempred(b,this.ruleIndex,this.predIndex)}hashCode(){let p=gv.MurmurHash.initialize();return p=gv.MurmurHash.update(p,this.ruleIndex),p=gv.MurmurHash.update(p,this.predIndex),p=gv.MurmurHash.update(p,this.isCtxDependent?1:0),p=gv.MurmurHash.finish(p,3),p}equals(p){return p instanceof i?this===p?!0:this.ruleIndex===p.ruleIndex&&this.predIndex===p.predIndex&&this.isCtxDependent===p.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}Qa([va.Override],i.prototype,"eval",null),Qa([va.Override],i.prototype,"hashCode",null),Qa([va.Override],i.prototype,"equals",null),Qa([va.Override],i.prototype,"toString",null),n.Predicate=i;class s extends n{constructor(p){super();this.precedence=p}eval(p,v){return p.precpred(v,this.precedence)}evalPrecedence(p,v){if(p.precpred(v,this.precedence))return n.NONE}compareTo(p){return this.precedence-p.precedence}hashCode(){let p=1;return p=31*p+this.precedence,p}equals(p){return p instanceof s?this===p?!0:this.precedence===p.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}Qa([va.Override],s.prototype,"eval",null),Qa([va.Override],s.prototype,"evalPrecedence",null),Qa([va.Override],s.prototype,"compareTo",null),Qa([va.Override],s.prototype,"hashCode",null),Qa([va.Override],s.prototype,"equals",null),Qa([va.Override],s.prototype,"toString",null),n.PrecedencePredicate=s;class o extends n{}n.Operator=o;let a=class Jk extends o{constructor(p,v){super();let b=new O_e.Array2DHashSet(R_e.ObjectEqualityComparator.INSTANCE);p instanceof Jk?b.addAll(p.opnds):b.add(p),v instanceof Jk?b.addAll(v.opnds):b.add(v),this.opnds=b.toArray();let F=r(this.opnds),D=R0t(F);D&&this.opnds.push(D)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof Jk?N_e.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return gv.MurmurHash.hashCode(this.opnds,e)}eval(p,v){for(let b of this.opnds)if(!b.eval(p,v))return!1;return!0}evalPrecedence(p,v){let b=!1,F=[];for(let M of this.opnds){let q=M.evalPrecedence(p,v);if(b=b||q!==M,q==null)return;q!==n.NONE&&F.push(q)}if(!b)return this;if(F.length===0)return n.NONE;let D=F[0];for(let M=1;M<F.length;M++)D=n.and(D,F[M]);return D}toString(){return L_e.join(this.opnds,"&&")}};Qa([va.Override],a.prototype,"operands",null),Qa([va.Override],a.prototype,"equals",null),Qa([va.Override],a.prototype,"hashCode",null),Qa([va.Override],a.prototype,"eval",null),Qa([va.Override],a.prototype,"evalPrecedence",null),Qa([va.Override],a.prototype,"toString",null),a=Qa([Kk(0,va.NotNull),Kk(1,va.NotNull)],a),n.AND=a;let l=class Xk extends o{constructor(p,v){super();let b=new O_e.Array2DHashSet(R_e.ObjectEqualityComparator.INSTANCE);p instanceof Xk?b.addAll(p.opnds):b.add(p),v instanceof Xk?b.addAll(v.opnds):b.add(v),this.opnds=b.toArray();let F=r(this.opnds),D=N0t(F);D&&this.opnds.push(D)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof Xk?N_e.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return gv.MurmurHash.hashCode(this.opnds,t)}eval(p,v){for(let b of this.opnds)if(b.eval(p,v))return!0;return!1}evalPrecedence(p,v){let b=!1,F=[];for(let M of this.opnds){let q=M.evalPrecedence(p,v);if(b=b||q!==M,q===n.NONE)return n.NONE;q&&F.push(q)}if(!b)return this;if(F.length===0)return;let D=F[0];for(let M=1;M<F.length;M++)D=n.or(D,F[M]);return D}toString(){return L_e.join(this.opnds,"||")}};Qa([va.Override],l.prototype,"operands",null),Qa([va.Override],l.prototype,"equals",null),Qa([va.Override],l.prototype,"hashCode",null),Qa([va.Override],l.prototype,"eval",null),Qa([va.Override],l.prototype,"evalPrecedence",null),Qa([va.Override],l.prototype,"toString",null),l=Qa([Kk(0,va.NotNull),Kk(1,va.NotNull)],l),n.OR=l})(Mf=V1.SemanticContext||(V1.SemanticContext={}))});var DX=G($y=>{"use strict";d();var HA=$y&&$y.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},L0t=$y&&$y.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($y,"__esModule",{value:!0});$y.PredicateTransition=void 0;var k0t=Gk(),QE=ar(),I0t=yv(),vv=class extends k0t.AbstractPredicateTransition{constructor(e,t,r,i){super(e);this.ruleIndex=t,this.predIndex=r,this.isCtxDependent=i}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new I0t.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};HA([QE.Override],vv.prototype,"serializationType",null);HA([QE.Override],vv.prototype,"isEpsilon",null);HA([QE.Override],vv.prototype,"matches",null);HA([QE.Override,QE.NotNull],vv.prototype,"toString",null);vv=HA([L0t(0,QE.NotNull)],vv);$y.PredicateTransition=vv});var VA=G(zy=>{"use strict";d();var k_e=zy&&zy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},M0t=zy&&zy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(zy,"__esModule",{value:!0});zy.FailedPredicateException=void 0;var P0t=cx(),I_e=ar(),B0t=DX(),Zk=class M_e extends P0t.RecognitionException{constructor(e,t,r){super(e,e.inputStream,e.context,M_e.formatMessage(t,r));let s=e.interpreter.atn.states[e.state].transition(0);s instanceof B0t.PredicateTransition?(this._ruleIndex=s.ruleIndex,this._predicateIndex=s.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=t,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,t){return t||`failed predicate: {${e}}?`}};k_e([I_e.NotNull],Zk,"formatMessage",null);Zk=k_e([M0t(0,I_e.NotNull)],Zk);zy.FailedPredicateException=Zk});var WA=G(Hy=>{"use strict";d();var j0t=Hy&&Hy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},q0t=Hy&&Hy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.InputMismatchException=void 0;var U0t=cx(),$0t=ar(),OX=class extends U0t.RecognitionException{constructor(e,t,r){r===void 0&&(r=e.context);super(e,e.inputStream,r);t!==void 0&&this.setOffendingState(t),this.setOffendingToken(e,e.currentToken)}};OX=j0t([q0t(0,$0t.NotNull)],OX);Hy.InputMismatchException=OX});var eI=G(QA=>{"use strict";d();Object.defineProperty(QA,"__esModule",{value:!0});QA.Arrays=void 0;var z0t;(function(n){function e(i,s,o,a){return t(i,o!==void 0?o:0,a!==void 0?a:i.length,s)}n.binarySearch=e;function t(i,s,o,a){let l=s,f=o-1;for(;l<=f;){let p=l+f>>>1,v=i[p];if(v<a)l=p+1;else if(v>a)f=p-1;else return p}return-(l+1)}function r(i){let s="[",o=!0;for(let a of i)o?o=!1:s+=", ",a===null?s+="null":a===void 0?s+="undefined":s+=a;return s+="]",s}n.toString=r})(z0t=QA.Arrays||(QA.Arrays={}))});var rI=G(GE=>{"use strict";d();var tI=GE&&GE.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(GE,"__esModule",{value:!0});GE.IntegerList=void 0;var H0t=eI(),nI=ar(),NX=new Int32Array(0),V0t=4,RX=(1<<31>>>0)-1-8,W1=class{constructor(e){if(!e)this._data=NX,this._size=0;else if(e instanceof W1)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=NX,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=NX,this._size=0;for(let t of e)this.add(t)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof W1)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let t=0;for(let r of e)this._data[this._size+t]=r,t++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let t=0;t<this._size;t++)if(this._data[t]===e)return!0;return!1}set(e,t){if(e<0||e>=this._size)throw RangeError();let r=this._data[e];return this._data[e]=t,r}removeAt(e){let t=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,t}removeRange(e,t){if(e<0||t<0||e>this._size||t>this._size||e>t)throw RangeError();this._data.copyWithin(t,e,this._size),this._data.fill(0,this._size-(t-e),this._size),this._size-=t-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof W1)||this._size!==e._size)return!1;for(let t=0;t<this._size;t++)if(this._data[t]!==e._data[t])return!1;return!0}hashCode(){let e=1;for(let t=0;t<this._size;t++)e=31*e+this._data[t];return e}toString(){return this._data.toString()}binarySearch(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._size),t<0||r<0||t>this._size||r>this._size)throw new RangeError;if(t>r)throw new RangeError;return H0t.Arrays.binarySearch(this._data,e,t,r)}ensureCapacity(e){if(e<0||e>RX)throw new RangeError;let t;for(this._data.length===0?t=V0t:t=this._data.length;t<e;)t=t*2,(t<0||t>RX)&&(t=RX);let r=new Int32Array(t);r.set(this._data),this._data=r}toCharArray(){let e=new Uint16Array(this._size),t=0,r=!1;for(let i=0;i<this._size;i++){let s=this._data[i];if(s>=0&&s<65536){e[t]=s,t++;continue}if(!r){let a=new Uint16Array(this.charArraySize());a.set(e,0),e=a,r=!0}let o=String.fromCodePoint(s);e[t]=o.charCodeAt(0),e[t+1]=o.charCodeAt(1),t+=2}return e}charArraySize(){let e=0;for(let t=0;t<this._size;t++)e+=this._data[t]>=65536?2:1;return e}};tI([nI.NotNull],W1.prototype,"_data",void 0);tI([nI.Override],W1.prototype,"equals",null);tI([nI.Override],W1.prototype,"hashCode",null);tI([nI.Override],W1.prototype,"toString",null);GE.IntegerList=W1});var df=G(YE=>{"use strict";d();var LX=YE&&YE.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(YE,"__esModule",{value:!0});YE.Interval=void 0;var kX=ar(),P_e=1e3,sl=class{constructor(e,t){this.a=e,this.b=t}static get INVALID(){return sl._INVALID}static of(e,t){return e!==t||e<0||e>P_e?new sl(e,t):(sl.cache[e]==null&&(sl.cache[e]=new sl(e,e)),sl.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof sl?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return sl.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return sl.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let t;return e.startsBeforeNonDisjoint(this)?t=sl.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(t=sl.of(this.a,e.a-1)),t}toString(){return this.a+".."+this.b}};sl._INVALID=new sl(-1,-2);sl.cache=new Array(P_e+1);LX([kX.Override],sl.prototype,"equals",null);LX([kX.Override],sl.prototype,"hashCode",null);LX([kX.Override],sl.prototype,"toString",null);YE.Interval=sl});var _a=G(GA=>{"use strict";d();Object.defineProperty(GA,"__esModule",{value:!0});GA.Token=void 0;var W0t=ux(),Q0t;(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=W0t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(Q0t=GA.Token||(GA.Token={}))});var KE=G(Vy=>{"use strict";d();var b0=Vy&&Vy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},B_e=Vy&&Vy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.CommonToken=void 0;var G0t=df(),E0=ar(),j_e=_a(),Tc=class YA{constructor(e,t,r=YA.EMPTY_SOURCE,i=j_e.Token.DEFAULT_CHANNEL,s=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=j_e.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=e,this.source=r,this._channel=i,this.start=s,this.stop=o,r.source!=null&&(this._line=r.source.line,this._charPositionInLine=r.source.charPositionInLine)}static fromToken(e){let t=new YA(e.type,void 0,YA.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return t._line=e.line,t.index=e.tokenIndex,t._charPositionInLine=e.charPositionInLine,e instanceof YA?(t._text=e._text,t.source=e.source):(t._text=e.text,t.source={source:e.tokenSource,stream:e.inputStream}),t}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let t=e.size;return this.start<t&&this.stop<t?e.getText(G0t.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let t="";this._channel>0&&(t=",channel="+this._channel);let r=this.text;r!=null?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let i=String(this._type);return e&&(i=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+i+">"+t+","+this._line+":"+this.charPositionInLine+"]"}};Tc.EMPTY_SOURCE={source:void 0,stream:void 0};b0([E0.NotNull],Tc.prototype,"source",void 0);b0([E0.Override],Tc.prototype,"type",null);b0([E0.Override],Tc.prototype,"line",null);b0([E0.Override],Tc.prototype,"text",null);b0([E0.Override],Tc.prototype,"charPositionInLine",null);b0([E0.Override],Tc.prototype,"channel",null);b0([E0.Override],Tc.prototype,"startIndex",null);b0([E0.Override],Tc.prototype,"stopIndex",null);b0([E0.Override],Tc.prototype,"tokenIndex",null);b0([E0.Override],Tc.prototype,"tokenSource",null);b0([E0.Override],Tc.prototype,"inputStream",null);b0([E0.Override],Tc.prototype,"toString",null);b0([B_e(0,E0.NotNull)],Tc,"fromToken",null);Tc=b0([B_e(2,E0.NotNull)],Tc);Vy.CommonToken=Tc});var iI=G(Wy=>{"use strict";d();var q_e=Wy&&Wy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.CommonTokenFactory=void 0;var U_e=KE(),Y0t=df(),$_e=ar(),KA=class{constructor(e=!1){this.copyText=e}create(e,t,r,i,s,o,a,l){let f=new U_e.CommonToken(t,r,e,i,s,o);return f.line=a,f.charPositionInLine=l,r==null&&this.copyText&&e.stream!=null&&(f.text=e.stream.getText(Y0t.Interval.of(s,o))),f}createSimple(e,t){return new U_e.CommonToken(e,t)}};q_e([$_e.Override],KA.prototype,"create",null);q_e([$_e.Override],KA.prototype,"createSimple",null);Wy.CommonTokenFactory=KA;(function(n){n.DEFAULT=new n})(KA=Wy.CommonTokenFactory||(Wy.CommonTokenFactory={}))});var IX=G(sI=>{"use strict";d();Object.defineProperty(sI,"__esModule",{value:!0});sI.IntegerStack=void 0;var K0t=rI(),z_e=class extends K0t.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};sI.IntegerStack=z_e});var MX=G(oI=>{"use strict";d();Object.defineProperty(oI,"__esModule",{value:!0});oI.AcceptStateInfo=void 0;var H_e=class{constructor(e,t){this._prediction=e,this._lexerActionExecutor=t}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};oI.AcceptStateInfo=H_e});var _v=G(aI=>{"use strict";d();Object.defineProperty(aI,"__esModule",{value:!0});aI.Array2DHashMap=void 0;var V_e=dx(),W_e=class{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,t){return this.keyComparator.equals(e.key,t.key)}},JA=class{constructor(e){e instanceof JA?this.backingStore=new V_e.Array2DHashSet(e.backingStore):this.backingStore=new V_e.Array2DHashSet(new W_e(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let t=this.backingStore.get({key:e});if(!!t)return t.value}get isEmpty(){return this.backingStore.isEmpty}put(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?(i=r.value,r.value=t):this.backingStore.add({key:e,value:t}),i}putIfAbsent(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?i=r.value:this.backingStore.add({key:e,value:t}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof JA?this.backingStore.equals(e.backingStore):!1}};aI.Array2DHashMap=JA});var Qy=G(uI=>{"use strict";d();Object.defineProperty(uI,"__esModule",{value:!0});uI.DecisionState=void 0;var J0t=H1(),Q_e=class extends J0t.ATNState{constructor(){super(...arguments);this.decision=-1,this.nonGreedy=!1,this.sll=!1}};uI.DecisionState=Q_e});var fI=G(Yy=>{"use strict";d();var lI=Yy&&Yy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.PredictionContextCache=void 0;var PX=_v(),cI=ar(),BX=Ap(),G_e=sh(),Y_e=lf(),Gy=class{constructor(e=!0){this.contexts=new PX.Array2DHashMap(BX.ObjectEqualityComparator.INSTANCE),this.childContexts=new PX.Array2DHashMap(BX.ObjectEqualityComparator.INSTANCE),this.joinContexts=new PX.Array2DHashMap(BX.ObjectEqualityComparator.INSTANCE),this.enableCache=e}getAsCached(e){if(!this.enableCache)return e;let t=this.contexts.get(e);return t||(t=e,this.contexts.put(e,e)),t}getChild(e,t){if(!this.enableCache)return e.getChild(t);let r=new Gy.PredictionContextAndInt(e,t),i=this.childContexts.get(r);return i||(i=e.getChild(t),i=this.getAsCached(i),this.childContexts.put(r,i)),i}join(e,t){if(!this.enableCache)return G_e.PredictionContext.join(e,t,this);let r=new Gy.IdentityCommutativePredictionContextOperands(e,t),i=this.joinContexts.get(r);return i||(i=G_e.PredictionContext.join(e,t,this),i=this.getAsCached(i),this.joinContexts.put(r,i),i)}};Yy.PredictionContextCache=Gy;Gy.UNCACHED=new Gy(!1);(function(n){class e{constructor(i,s){this.obj=i,this.value=s}equals(i){if(i instanceof e){if(i===this)return!0}else return!1;let s=i;return this.value===s.value&&(this.obj===s.obj||this.obj!=null&&this.obj.equals(s.obj))}hashCode(){let i=5;return i=7*i+(this.obj!=null?this.obj.hashCode():0),i=7*i+this.value,i}}lI([cI.Override],e.prototype,"equals",null),lI([cI.Override],e.prototype,"hashCode",null),n.PredictionContextAndInt=e;class t{constructor(i,s){Y_e(i!=null),Y_e(s!=null),this._x=i,this._y=s}get x(){return this._x}get y(){return this._y}equals(i){if(i instanceof t){if(this===i)return!0}else return!1;let s=i;return this._x===s._x&&this._y===s._y||this._x===s._y&&this._y===s._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}lI([cI.Override],t.prototype,"equals",null),lI([cI.Override],t.prototype,"hashCode",null),n.IdentityCommutativePredictionContextOperands=t})(Gy=Yy.PredictionContextCache||(Yy.PredictionContextCache={}))});var sh=G(oh=>{"use strict";d();var Os=oh&&oh.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ky=oh&&oh.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(oh,"__esModule",{value:!0});oh.SingletonPredictionContext=oh.PredictionContext=void 0;var X0t=_v(),Z0t=dx(),edt=eI(),Q1=Su(),ls=ar(),K_e=fI(),dI=lf(),jX=1,Ks=class{constructor(e){this.cachedHashCode=e}static calculateEmptyHashCode(){let e=Q1.MurmurHash.initialize(jX);return e=Q1.MurmurHash.finish(e,0),e}static calculateSingleHashCode(e,t){let r=Q1.MurmurHash.initialize(jX);return r=Q1.MurmurHash.update(r,e),r=Q1.MurmurHash.update(r,t),r=Q1.MurmurHash.finish(r,2),r}static calculateHashCode(e,t){let r=Q1.MurmurHash.initialize(jX);for(let i of e)r=Q1.MurmurHash.update(r,i);for(let i of t)r=Q1.MurmurHash.update(r,i);return r=Q1.MurmurHash.finish(r,2*e.length),r}static fromRuleContext(e,t,r=!0){if(t.isEmpty)return r?Ks.EMPTY_FULL:Ks.EMPTY_LOCAL;let i;t._parent?i=Ks.fromRuleContext(e,t._parent,r):i=r?Ks.EMPTY_FULL:Ks.EMPTY_LOCAL;let o=e.states[t.invokingState].transition(0);return i.getChild(o.followState.stateNumber)}static addEmptyContext(e){return e.addEmptyContext()}static removeEmptyContext(e){return e.removeEmptyContext()}static join(e,t,r=K_e.PredictionContextCache.UNCACHED){if(e===t)return e;if(e.isEmpty)return Ks.isEmptyLocal(e)?e:Ks.addEmptyContext(t);if(t.isEmpty)return Ks.isEmptyLocal(t)?t:Ks.addEmptyContext(e);let i=e.size,s=t.size;if(i===1&&s===1&&e.getReturnState(0)===t.getReturnState(0)){let F=r.join(e.getParent(0),t.getParent(0));return F===e.getParent(0)?e:F===t.getParent(0)?t:F.getChild(e.getReturnState(0))}let o=0,a=new Array(i+s),l=new Array(a.length),f=0,p=0,v=!0,b=!0;for(;f<i&&p<s;)e.getReturnState(f)===t.getReturnState(p)?(a[o]=r.join(e.getParent(f),t.getParent(p)),l[o]=e.getReturnState(f),v=v&&a[o]===e.getParent(f),b=b&&a[o]===t.getParent(p),f++,p++):e.getReturnState(f)<t.getReturnState(p)?(a[o]=e.getParent(f),l[o]=e.getReturnState(f),b=!1,f++):(dI(t.getReturnState(p)<e.getReturnState(f)),a[o]=t.getParent(p),l[o]=t.getReturnState(p),v=!1,p++),o++;for(;f<i;)a[o]=e.getParent(f),l[o]=e.getReturnState(f),f++,b=!1,o++;for(;p<s;)a[o]=t.getParent(p),l[o]=t.getReturnState(p),p++,v=!1,o++;return v?e:b?t:(o<a.length&&(a=a.slice(0,o),l=l.slice(0,o)),a.length===0?Ks.EMPTY_FULL:a.length===1?new Rl(a[0],l[0]):new Fc(a,l))}static isEmptyLocal(e){return e===Ks.EMPTY_LOCAL}static getCachedContext(e,t,r){if(e.isEmpty)return e;let i=r.get(e);if(i)return i;if(i=t.get(e),i)return r.put(e,i),i;let s=!1,o=new Array(e.size);for(let l=0;l<o.length;l++){let f=Ks.getCachedContext(e.getParent(l),t,r);if(s||f!==e.getParent(l)){if(!s){o=new Array(e.size);for(let p=0;p<e.size;p++)o[p]=e.getParent(p);s=!0}o[l]=f}}if(!s)return i=t.putIfAbsent(e,e),r.put(e,i??e),e;let a;if(o.length===1)a=new Rl(o[0],e.getReturnState(0));else{let l=new Array(e.size);for(let f=0;f<e.size;f++)l[f]=e.getReturnState(f);a=new Fc(o,l,e.hashCode())}return i=t.putIfAbsent(a,a),r.put(a,i||a),r.put(e,i||a),a}appendSingleContext(e,t){return this.appendContext(Ks.EMPTY_FULL.getChild(e),t)}getChild(e){return new Rl(this,e)}hashCode(){return this.cachedHashCode}toStrings(e,t,r=Ks.EMPTY_FULL){let i=[];e:for(let s=0;;s++){let o=0,a=!0,l=this,f=t,p="";for(p+="[";!l.isEmpty&&l!==r;){let v=0;if(l.size>0){let b=1;for(;1<<b>>>0<l.size;)b++;let F=(1<<b>>>0)-1;if(v=s>>o&F,a=a&&v>=l.size-1,v>=l.size)continue e;o+=b}if(e){p.length>1&&(p+=" ");let F=e.atn.states[f];p+=e.ruleNames[F.ruleIndex]}else l.getReturnState(v)!==Ks.EMPTY_FULL_STATE_KEY&&(l.isEmpty||(p.length>1&&(p+=" "),p+=l.getReturnState(v)));f=l.getReturnState(v),l=l.getParent(v)}if(p+="]",i.push(p),a)break}return i}};Os([ls.Override],Ks.prototype,"hashCode",null);Os([Ky(0,ls.NotNull),Ky(1,ls.NotNull),Ky(2,ls.NotNull)],Ks,"join",null);Os([Ky(0,ls.NotNull),Ky(1,ls.NotNull),Ky(2,ls.NotNull)],Ks,"getCachedContext",null);oh.PredictionContext=Ks;var Pf=class extends Ks{constructor(e){super(Ks.calculateEmptyHashCode());this.fullContext=e}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(e){throw new Error("index out of bounds")}getReturnState(e){throw new Error("index out of bounds")}findReturnState(e){return-1}get size(){return 0}appendSingleContext(e,t){return t.getChild(this,e)}appendContext(e,t){return e}get isEmpty(){return!0}get hasEmpty(){return!0}equals(e){return this===e}toStrings(e,t,r){return["[]"]}};Os([ls.Override],Pf.prototype,"addEmptyContext",null);Os([ls.Override],Pf.prototype,"removeEmptyContext",null);Os([ls.Override],Pf.prototype,"getParent",null);Os([ls.Override],Pf.prototype,"getReturnState",null);Os([ls.Override],Pf.prototype,"findReturnState",null);Os([ls.Override],Pf.prototype,"size",null);Os([ls.Override],Pf.prototype,"appendSingleContext",null);Os([ls.Override],Pf.prototype,"appendContext",null);Os([ls.Override],Pf.prototype,"isEmpty",null);Os([ls.Override],Pf.prototype,"hasEmpty",null);Os([ls.Override],Pf.prototype,"equals",null);Os([ls.Override],Pf.prototype,"toStrings",null);var Fc=class bv extends Ks{constructor(e,t,r){super(r||Ks.calculateHashCode(e,t));dI(e.length===t.length),dI(t.length>1||t[0]!==Ks.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=e,this.returnStates=t}getParent(e){return this.parents[e]}getReturnState(e){return this.returnStates[e]}findReturnState(e){return edt.Arrays.binarySearch(this.returnStates,e)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===Ks.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),t=this.returnStates.slice(0);return e.push(Ks.EMPTY_FULL),t.push(Ks.EMPTY_FULL_STATE_KEY),new bv(e,t)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new Rl(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),t=this.returnStates.slice(0,this.returnStates.length-1);return new bv(e,t)}}appendContext(e,t){return bv.appendContextImpl(this,e,new Ks.IdentityHashMap)}static appendContextImpl(e,t,r){if(t.isEmpty){if(Ks.isEmptyLocal(t)){if(e.hasEmpty)return Ks.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(t.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let i=r.get(e);if(!i){if(e.isEmpty)i=t;else{let s=e.size;e.hasEmpty&&s--;let o=new Array(s),a=new Array(s);for(let l=0;l<s;l++)a[l]=e.getReturnState(l);for(let l=0;l<s;l++)o[l]=bv.appendContextImpl(e.getParent(l),t,r);o.length===1?i=new Rl(o[0],a[0]):(dI(o.length>1),i=new bv(o,a)),e.hasEmpty&&(i=Ks.join(i,t))}r.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof bv)||this.hashCode()!==e.hashCode())return!1;let t=e;return this.equalsImpl(t,new Z0t.Array2DHashSet)}equalsImpl(e,t){let r=[],i=[];for(r.push(this),i.push(e);;){let s=r.pop(),o=i.pop();if(!s||!o)break;let a=new K_e.PredictionContextCache.IdentityCommutativePredictionContextOperands(s,o);if(!t.add(a))continue;let l=a.x.size;if(l===0){if(!a.x.equals(a.y))return!1;continue}let f=a.y.size;if(l!==f)return!1;for(let p=0;p<l;p++){if(a.x.getReturnState(p)!==a.y.getReturnState(p))return!1;let v=a.x.getParent(p),b=a.y.getParent(p);if(v.hashCode()!==b.hashCode())return!1;v!==b&&(r.push(v),i.push(b))}}return!0}};Os([ls.NotNull],Fc.prototype,"parents",void 0);Os([ls.NotNull],Fc.prototype,"returnStates",void 0);Os([ls.Override],Fc.prototype,"getParent",null);Os([ls.Override],Fc.prototype,"getReturnState",null);Os([ls.Override],Fc.prototype,"findReturnState",null);Os([ls.Override],Fc.prototype,"size",null);Os([ls.Override],Fc.prototype,"isEmpty",null);Os([ls.Override],Fc.prototype,"hasEmpty",null);Os([ls.Override],Fc.prototype,"addEmptyContext",null);Os([ls.Override],Fc.prototype,"removeEmptyContext",null);Os([ls.Override],Fc.prototype,"appendContext",null);Os([ls.Override],Fc.prototype,"equals",null);Fc=Os([Ky(0,ls.NotNull)],Fc);var Rl=class J_e extends Ks{constructor(e,t){super(Ks.calculateSingleHashCode(e,t));this.parent=e,this.returnState=t}getParent(e){return this.parent}getReturnState(e){return this.returnState}findReturnState(e){return this.returnState===e?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(e,t){return t.getChild(this.parent.appendContext(e,t),this.returnState)}addEmptyContext(){let e=[this.parent,Ks.EMPTY_FULL],t=[this.returnState,Ks.EMPTY_FULL_STATE_KEY];return new Fc(e,t)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof J_e))return!1;let t=e;return this.hashCode()!==t.hashCode()?!1:this.returnState===t.returnState&&this.parent.equals(t.parent)}};Os([ls.NotNull],Rl.prototype,"parent",void 0);Os([ls.Override],Rl.prototype,"getParent",null);Os([ls.Override],Rl.prototype,"getReturnState",null);Os([ls.Override],Rl.prototype,"findReturnState",null);Os([ls.Override],Rl.prototype,"size",null);Os([ls.Override],Rl.prototype,"isEmpty",null);Os([ls.Override],Rl.prototype,"hasEmpty",null);Os([ls.Override],Rl.prototype,"appendContext",null);Os([ls.Override],Rl.prototype,"addEmptyContext",null);Os([ls.Override],Rl.prototype,"removeEmptyContext",null);Os([ls.Override],Rl.prototype,"equals",null);Rl=Os([Ky(0,ls.NotNull)],Rl);oh.SingletonPredictionContext=Rl;(function(n){n.EMPTY_LOCAL=new Pf(!1),n.EMPTY_FULL=new Pf(!0),n.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),n.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class e extends X0t.Array2DHashMap{constructor(){super(t.INSTANCE)}}n.IdentityHashMap=e;class t{IdentityEqualityComparator(){}hashCode(i){return i.hashCode()}equals(i,s){return i===s}}t.INSTANCE=new t,Os([ls.Override],t.prototype,"hashCode",null),Os([ls.Override],t.prototype,"equals",null),n.IdentityEqualityComparator=t})(Ks=oh.PredictionContext||(oh.PredictionContext={}))});var ZA=G(Jy=>{"use strict";d();var ol=Jy&&Jy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ld=Jy&&Jy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.ATNConfig=void 0;var tdt=_v(),ndt=Qy(),hx=Su(),sa=ar(),rdt=Ap(),X_e=sh(),Ev=yv(),Z_e=lf(),qX=2147483648,Bf=class XA{constructor(e,t,r){typeof t=="number"?(Z_e((t&16777215)===t),this._state=e,this.altAndOuterContextDepth=t,this._context=r):(this._state=e,this.altAndOuterContextDepth=t.altAndOuterContextDepth,this._context=r)}static create(e,t,r,i=Ev.SemanticContext.NONE,s){return i!==Ev.SemanticContext.NONE?s!=null?new XE(s,i,e,t,r,!1):new Sv(i,e,t,r):s!=null?new JE(s,e,t,r,!1):new XA(e,t,r)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){Z_e(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&~2130706432)>>>0}get lexerActionExecutor(){}get semanticContext(){return Ev.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,t,r){return r==null?this.transformImpl(e,this._context,this.semanticContext,t,this.lexerActionExecutor):r instanceof X_e.PredictionContext?this.transformImpl(e,r,this.semanticContext,t,this.lexerActionExecutor):r instanceof Ev.SemanticContext?this.transformImpl(e,this._context,r,t,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,t,r)}transformImpl(e,t,r,i,s){let o=i&&XA.checkNonGreedyDecision(this,e);return r!==Ev.SemanticContext.NONE?s!=null||o?new XE(s,r,e,this,t,o):new Sv(r,e,this,t):s!=null||o?new JE(s,e,this,t,o):new XA(e,this,t)}static checkNonGreedyDecision(e,t){return e.hasPassedThroughNonGreedyDecision||t instanceof ndt.DecisionState&&t.nonGreedy}appendContext(e,t){if(typeof e=="number"){let r=this.context.appendSingleContext(e,t);return this.transform(this.state,!1,r)}else{let r=this.context.appendContext(e,t);return this.transform(this.state,!1,r)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let t=[],r=[];for(t.push(this.context),r.push(e.context);;){let i=t.pop(),s=r.pop();if(!i||!s)break;if(i===s)return!0;if(i.size<s.size)return!1;if(s.isEmpty)return i.hasEmpty;for(let o=0;o<s.size;o++){let a=i.findReturnState(s.getReturnState(o));if(a<0)return!1;t.push(i.getParent(a)),r.push(s.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&qX)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=qX:this.altAndOuterContextDepth&=~qX}equals(e){return this===e?!0:e instanceof XA?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&rdt.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=hx.MurmurHash.initialize(7);return e=hx.MurmurHash.update(e,this.state.stateNumber),e=hx.MurmurHash.update(e,this.alt),e=hx.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=hx.MurmurHash.update(e,this.context),e=hx.MurmurHash.update(e,this.semanticContext),e=hx.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=hx.MurmurHash.update(e,this.lexerActionExecutor),e=hx.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let t=new tdt.Array2DHashMap(X_e.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function i(s){let o=t.size,a=t.putIfAbsent(s,o);return a??(r.push(s),o)}for(r.push(this.context),t.put(this.context,0);;){let s=r.pop();if(!s)break;for(let o=0;o<s.size;o++)e+="  s"+i(s),e+="->",e+="s"+i(s.getParent(o)),e+='[label="'+s.getReturnState(o)+`"];
`}return e+=`}
`,e.toString()}toString(e,t,r){r==null&&(r=t!=null),t==null&&(t=!0);let i="",s;r?s=this.context.toStrings(e,this.state.stateNumber):s=["?"];let o=!0;for(let a of s)o?o=!1:i+=", ",i+="(",i+=this.state,t&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=a),this.semanticContext!==Ev.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};ol([sa.NotNull],Bf.prototype,"_state",void 0);ol([sa.NotNull],Bf.prototype,"_context",void 0);ol([sa.NotNull],Bf.prototype,"state",null);ol([sa.NotNull,ld(0,sa.NotNull)],Bf.prototype,"context",null);ol([sa.NotNull],Bf.prototype,"semanticContext",null);ol([sa.Override],Bf.prototype,"clone",null);ol([ld(0,sa.NotNull),ld(2,sa.NotNull)],Bf.prototype,"transformImpl",null);ol([sa.Override],Bf.prototype,"equals",null);ol([sa.Override],Bf.prototype,"hashCode",null);ol([ld(0,sa.NotNull),ld(3,sa.NotNull)],Bf,"create",null);Bf=ol([ld(0,sa.NotNull),ld(2,sa.NotNull)],Bf);Jy.ATNConfig=Bf;var Sv=class extends Bf{constructor(e,t,r,i){typeof r=="number"?super(t,r,i):super(t,r,i),this._semanticContext=e}get semanticContext(){return this._semanticContext}};ol([sa.NotNull],Sv.prototype,"_semanticContext",void 0);ol([sa.Override],Sv.prototype,"semanticContext",null);Sv=ol([ld(1,sa.NotNull),ld(2,sa.NotNull)],Sv);var JE=class extends Bf{constructor(e,t,r,i,s){if(typeof r=="number")super(t,r,i);else{super(t,r,i);if(r.semanticContext!==Ev.SemanticContext.NONE)throw new Error("Not supported")}this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=s}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};ol([sa.Override],JE.prototype,"lexerActionExecutor",null);ol([sa.Override],JE.prototype,"hasPassedThroughNonGreedyDecision",null);JE=ol([ld(1,sa.NotNull),ld(2,sa.NotNull)],JE);var XE=class extends Sv{constructor(e,t,r,i,s,o){typeof i=="number"?super(t,r,i,s):super(t,r,i,s),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};ol([sa.Override],XE.prototype,"lexerActionExecutor",null);ol([sa.Override],XE.prototype,"hasPassedThroughNonGreedyDecision",null);XE=ol([ld(1,sa.NotNull),ld(2,sa.NotNull)],XE)});var px=G(hI=>{"use strict";d();Object.defineProperty(hI,"__esModule",{value:!0});hI.BitSet=void 0;var idt=ky(),sdt=Su(),eT=new Uint16Array(0);function cd(n){return n>>>4}function ZE(n){return n*16}function UX(n){let e=1;for(let t=0;t<16;t++){if((n&e)!==0)return t;e=e<<1>>>0}throw new RangeError("No specified bit found")}function e6e(n){let e=1<<15>>>0;for(let t=15;t>=0;t--){if((n&e)!==0)return t;e=e>>>1}throw new RangeError("No specified bit found")}function ah(n,e){return n&=15,e&=15,n===e?1<<n>>>0:65535>>>15-e^65535>>>16-n}var $X=new Uint8Array(65536);for(let n=0;n<16;n++){let e=1<<n>>>0,t=0;for(;t<$X.length;){t+=e;for(let r=0;r<e;r++)$X[t]++,t++}}var Cv=class{constructor(e){if(!e)this.data=eT;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(cd(e-1)+1)}else if(e instanceof Cv)this.data=e.data.slice(0);else{let t=-1;for(let r of e)t<r&&(t=r);this.data=new Uint16Array(cd(t-1)+1);for(let r of e)this.set(r)}}and(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o])!==0&&(s=o);s===-1&&(this.data=eT),s<t.length-1&&(this.data=t.slice(0,s+1))}andNot(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o]^65535)!==0&&(s=o);s===-1&&(this.data=eT),s<t.length-1&&(this.data=t.slice(0,s+1))}cardinality(){if(this.isEmpty)return 0;let e=this.data,t=e.length,r=0;for(let i=0;i<t;i++)r+=$X[e[i]];return r}clear(e,t){e==null?this.data.fill(0):t==null?this.set(e,!1):this.set(e,t,!1)}flip(e,t){if(t==null&&(t=e),e<0||t<e)throw new RangeError;let r=cd(e),i=cd(t);if(r===i)this.data[r]^=ah(e,t);else{for(this.data[r++]^=ah(e,15);r<i;)this.data[r++]^=65535;this.data[r++]^=ah(0,t)}}get(e,t){if(t===void 0)return!!(this.data[cd(e)]&ah(e,e));{let r=new Cv(t+1);for(let i=e;i<=t;i++)r.set(i,this.get(i));return r}}intersects(e){let t=Math.min(this.length(),e.length());if(t===0)return!1;let r=cd(t-1);for(let i=0;i<=r;i++)if((this.data[i]&e.data[i])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(ZE(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=cd(e);if(i>r)return-1;let s=65535^ah(e,15);if((t[i]|s)===65535){for(i++,s=0;i<r&&t[i]===65535;i++);if(i===r)return-1}return ZE(i)+UX((t[i]|s)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=cd(e);if(i>r)return-1;let s=ah(e,15);if((t[i]&s)===0){for(i++,s=65535;i<r&&t[i]===0;i++);if(i>=r)return-1}return ZE(i)+UX(t[i]&s)}or(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]|r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=eT:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=cd(e);i>=r&&(i=r-1);let s=65535^ah(0,e);if((t[i]|s)===65535){for(s=0,i--;i>=0&&t[i]===65535;i--);if(i<0)return-1}return ZE(i)+e6e((t[i]|s)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=cd(e);i>=r&&(i=r-1);let s=ah(0,e);if((t[i]&s)===0){for(i--,s=65535;i>=0&&t[i]===0;i--);if(i<0)return-1}return ZE(i)+e6e(t[i]&s)}set(e,t,r){if(t===void 0?(t=e,r=!0):typeof t=="boolean"&&(r=t,t=e),r===void 0&&(r=!0),e<0||e>t)throw new RangeError;let i=cd(e),s=cd(t);if(r&&s>=this.data.length){let o=new Uint16Array(s+1);this.data.forEach((a,l)=>o[l]=a),this.data=o}else if(!r){if(i>=this.data.length)return;s>=this.data.length&&(s=this.data.length-1,t=this.data.length*16-1)}if(i===s)this._setBits(i,r,ah(e,t));else{for(this._setBits(i++,r,ah(e,15));i<s;)this.data[i++]=r?65535:0;this._setBits(i,r,ah(0,t))}}_setBits(e,t,r){t?this.data[e]|=r:this.data[e]&=65535^r}get size(){return this.data.byteLength*8}hashCode(){return sdt.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof Cv))return!1;let t=this.length();if(t!==e.length())return!1;if(t===0)return!0;let r=cd(t-1);for(let i=0;i<=r;i++)if(this.data[i]!==e.data[i])return!1;return!0}toString(){let e="{",t=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))t?t=!1:e+=", ",e+=r;return e+="}",e}xor(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]^r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=eT:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new Cv(this)}[Symbol.iterator](){return new t6e(this.data)}[idt.inspect.custom](){return"BitSet "+this.toString()}};hI.BitSet=Cv;var t6e=class{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){let e=this.data[this.index]&this.mask;if(e!==0){let t=ZE(this.index)+UX(e);return this.mask=ah(t+1,15),{done:!1,value:t}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}});var t8=G(e8=>{"use strict";d();var G1=e8&&e8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(e8,"__esModule",{value:!0});e8.ATNConfigSet=void 0;var n6e=_v(),odt=dx(),r6e=zA(),pI=Fp(),i6e=ZA(),adt=px(),Y1=ar(),udt=Ap(),s6e=sh(),ldt=fI(),cdt=yv(),mI=lf(),fdt=Tp(),xI=class{hashCode(e){return e.state^e.alt}equals(e,t){return e.state===t.state&&e.alt===t.alt}};xI.INSTANCE=new xI;function zX(n){return n?new n6e.Array2DHashMap(n):new n6e.Array2DHashMap(xI.INSTANCE)}var jf=class{constructor(e,t){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,e?(t?(this.mergedConfigs=void 0,this.unmerged=void 0):e.isReadOnly?(this.mergedConfigs=zX(),this.unmerged=[]):(this.mergedConfigs=zX(e.mergedConfigs),this.unmerged=e.unmerged.slice(0)),this.configs=e.configs.slice(0),this._dipsIntoOuterContext=e._dipsIntoOuterContext,this._hasSemanticContext=e._hasSemanticContext,this.outermostConfigSet=e.outermostConfigSet,(t||!e.isReadOnly)&&(this._uniqueAlt=e._uniqueAlt,this._conflictInfo=e._conflictInfo)):(this.mergedConfigs=zX(),this.unmerged=[],this.configs=[],this._uniqueAlt=pI.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let e=new adt.BitSet;for(let t of this)e.set(t.alt);return e}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(e){if(this.outermostConfigSet&&!e)throw new Error("IllegalStateException");mI(!e||!this._dipsIntoOuterContext),this.outermostConfigSet=e}getStates(){let e=new odt.Array2DHashSet(udt.ObjectEqualityComparator.INSTANCE);for(let t of this.configs)e.add(t.state);return e}optimizeConfigs(e){if(this.configs.length!==0)for(let t of this.configs)t.context=e.atn.getCachedContext(t.context)}clone(e){let t=new jf(this,e);return!e&&this.isReadOnly&&t.addAll(this.configs),t}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(e){if(!(e instanceof i6e.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let t=e,r=this.getKey(t),i=this.mergedConfigs.get(r);if(i!=null&&this.canMerge(t,r,i))return i.contains(t);for(let s of this.unmerged)if(s.contains(e))return!0}else for(let t of this.configs)if(t.contains(e))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(e,t){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");mI(!this.outermostConfigSet||!e.reachesIntoOuterContext),t==null&&(t=ldt.PredictionContextCache.UNCACHED);let r,i=this.getKey(e),s=this.mergedConfigs.get(i);if(r=s==null,s!=null&&this.canMerge(e,i,s)){s.outerContextDepth=Math.max(s.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(s.isPrecedenceFilterSuppressed=!0);let o=s6e.PredictionContext.join(s.context,e.context,t);return this.updatePropertiesForMergedConfig(e),s.context===o?!1:(s.context=o,!0)}for(let o=0;o<this.unmerged.length;o++){let a=this.unmerged[o];if(this.canMerge(e,i,a)){a.outerContextDepth=Math.max(a.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(a.isPrecedenceFilterSuppressed=!0);let l=s6e.PredictionContext.join(a.context,e.context,t);return this.updatePropertiesForMergedConfig(e),a.context===l?!1:(a.context=l,r&&(this.mergedConfigs.put(i,a),this.unmerged.splice(o,1)),!0)}}return this.configs.push(e),r?this.mergedConfigs.put(i,e):this.unmerged.push(e),this.updatePropertiesForAddedConfig(e),!0}updatePropertiesForMergedConfig(e){this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,mI(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(e){this.configs.length===1?this._uniqueAlt=e.alt:this._uniqueAlt!==e.alt&&(this._uniqueAlt=pI.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!cdt.SemanticContext.NONE.equals(e.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,mI(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(e,t,r){return e.state.stateNumber!==r.state.stateNumber||t.alt!==r.alt?!1:e.semanticContext.equals(r.semanticContext)}getKey(e){return{state:e.state.stateNumber,alt:e.alt}}containsAll(e){for(let t of e)if(!(t instanceof i6e.ATNConfig)||!this.contains(t))return!1;return!0}addAll(e,t){this.ensureWritable();let r=!1;for(let i of e)this.add(i,t)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=pI.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(e){return this===e?!0:e instanceof jf?this.outermostConfigSet===e.outermostConfigSet&&fdt.equals(this._conflictInfo,e._conflictInfo)&&r6e.ArrayEqualityComparator.INSTANCE.equals(this.configs,e.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let e=1;return e=5*e^(this.outermostConfigSet?1:0),e=5*e^r6e.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=e),e}toString(e){e==null&&(e=!1);let t="",r=this.configs.slice(0);r.sort((i,s)=>i.alt!==s.alt?i.alt-s.alt:i.state.stateNumber!==s.state.stateNumber?i.state.stateNumber-s.state.stateNumber:i.semanticContext.toString().localeCompare(s.semanticContext.toString())),t+="[";for(let i=0;i<r.length;i++)i>0&&(t+=", "),t+=r[i].toString(void 0,!0,e);return t+="]",this._hasSemanticContext&&(t+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==pI.ATN.INVALID_ALT_NUMBER&&(t+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(t+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(t+="*")),this._dipsIntoOuterContext&&(t+=",dipsIntoOuterContext"),t.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(e){this.ensureWritable(),this._hasSemanticContext=e}get conflictInfo(){return this._conflictInfo}set conflictInfo(e){this.ensureWritable(),this._conflictInfo=e}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(e){return this.configs[e]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};G1([Y1.NotNull],jf.prototype,"getRepresentedAlternatives",null);G1([Y1.Override],jf.prototype,"size",null);G1([Y1.Override],jf.prototype,"isEmpty",null);G1([Y1.Override],jf.prototype,"contains",null);G1([Y1.Override],jf.prototype,Symbol.iterator,null);G1([Y1.Override],jf.prototype,"toArray",null);G1([Y1.Override],jf.prototype,"containsAll",null);G1([Y1.Override],jf.prototype,"clear",null);G1([Y1.Override],jf.prototype,"equals",null);G1([Y1.Override],jf.prototype,"hashCode",null);e8.ATNConfigSet=jf});var tT=G(K1=>{"use strict";d();var mx=K1&&K1.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ddt=K1&&K1.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(K1,"__esModule",{value:!0});K1.DFAState=void 0;var hdt=Fp(),pdt=px(),HX=Su(),xx=ar(),gI=sh(),o6e=lf(),Dp=class{constructor(e){this.stateNumber=-1,this.configs=e,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(e){return this.isContextSensitive?this.contextSymbols.get(e):!1}setContextSymbol(e){o6e(this.isContextSensitive),this.contextSymbols.set(e)}setContextSensitive(e){o6e(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new pdt.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(e){this._acceptStateInfo=e}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:hdt.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(!!this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(e){return this.edges.get(e)}setTarget(e,t){this.edges.set(e,t)}getEdgeMap(){return this.edges}getContextTarget(e){return e===gI.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.get(e)}setContextTarget(e,t){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");e===gI.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.set(e,t)}getContextEdgeMap(){let e=new Map(this.contextEdges),t=e.get(-1);if(t!==void 0)if(e.size===1){let r=new Map;return r.set(gI.PredictionContext.EMPTY_FULL_STATE_KEY,t),r}else e.delete(-1),e.set(gI.PredictionContext.EMPTY_FULL_STATE_KEY,t);return e}hashCode(){let e=HX.MurmurHash.initialize(7);return e=HX.MurmurHash.update(e,this.configs.hashCode()),e=HX.MurmurHash.finish(e,1),e}equals(e){if(this===e)return!0;if(!(e instanceof Dp))return!1;let t=e;return this.configs.equals(t.configs)}toString(){let e="";return e+=this.stateNumber+":"+this.configs,this.isAcceptState&&(e+="=>",this.predicates?e+=this.predicates:e+=this.prediction),e.toString()}};mx([xx.NotNull],Dp.prototype,"configs",void 0);mx([xx.NotNull],Dp.prototype,"edges",void 0);mx([xx.NotNull],Dp.prototype,"contextEdges",void 0);mx([xx.Override],Dp.prototype,"hashCode",null);mx([xx.Override],Dp.prototype,"equals",null);mx([xx.Override],Dp.prototype,"toString",null);K1.DFAState=Dp;(function(n){let e=class{constructor(r,i){this.alt=i,this.pred=r}toString(){return"("+this.pred+", "+this.alt+")"}};mx([xx.NotNull],e.prototype,"pred",void 0),mx([xx.Override],e.prototype,"toString",null),e=mx([ddt(0,xx.NotNull)],e),n.PredPrediction=e})(Dp=K1.DFAState||(K1.DFAState={}))});var rT=G(Op=>{"use strict";d();var VX=Op&&Op.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},mdt=Op&&Op.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Op,"__esModule",{value:!0});Op.ATNSimulator=void 0;var xdt=t8(),gdt=tT(),WX=ar(),ydt=sh(),wv=class nT{constructor(e){this.atn=e}static get ERROR(){return nT._ERROR||(nT._ERROR=new gdt.DFAState(new xdt.ATNConfigSet),nT._ERROR.stateNumber=ydt.PredictionContext.EMPTY_FULL_STATE_KEY),nT._ERROR}clearDFA(){this.atn.clearDFA()}};VX([WX.NotNull],wv.prototype,"atn",void 0);VX([WX.NotNull],wv,"ERROR",null);wv=VX([mdt(0,WX.NotNull)],wv);Op.ATNSimulator=wv;(function(n){let e="$",t="$lf$",r="$nolf$"})(wv=Op.ATNSimulator||(Op.ATNSimulator={}));Op.ATNSimulator=wv});var QX=G(vI=>{"use strict";d();Object.defineProperty(vI,"__esModule",{value:!0});vI.ConsoleErrorListener=void 0;var yI=class{syntaxError(e,t,r,i,s,o){console.error(`line ${r}:${i} ${s}`)}};vI.ConsoleErrorListener=yI;yI.INSTANCE=new yI});var _I=G(Xy=>{"use strict";d();var vdt=Xy&&Xy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},a6e=Xy&&Xy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.ProxyErrorListener=void 0;var GX=ar(),YX=class{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,t,r,i,s,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(e,t,r,i,s,o)})}};vdt([GX.Override,a6e(0,GX.NotNull),a6e(4,GX.NotNull)],YX.prototype,"syntaxError",null);Xy.ProxyErrorListener=YX});var n8=G(Zy=>{"use strict";d();var J1=Zy&&Zy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},bI=Zy&&Zy.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.Recognizer=void 0;var _dt=QX(),bdt=_I(),fd=ar(),u6e=_a(),Edt=Tp(),al=class{constructor(){this._listeners=[_dt.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,t=al.tokenTypeMapCache.get(e);if(t==null){let r=new Map;for(let i=0;i<=this.atn.maxTokenType;i++){let s=e.getLiteralName(i);s!=null&&r.set(s,i);let o=e.getSymbolicName(i);o!=null&&r.set(o,i)}r.set("EOF",u6e.Token.EOF),t=r,al.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let t=al.ruleIndexMapCache.get(e);return t==null&&(t=Edt.toMap(e),al.ruleIndexMapCache.set(e,t)),t}getTokenType(e){let t=this.getTokenTypeMap().get(e);return t??u6e.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let t=e.getOffendingToken();if(!t)return"";let r=t.line,i=t.charPositionInLine;return"line "+r+":"+i}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new bdt.ProxyErrorListener(this.getErrorListeners())}sempred(e,t,r){return!0}precpred(e,t){return!0}action(e,t,r){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}};al.EOF=-1;al.tokenTypeMapCache=new WeakMap;al.ruleIndexMapCache=new WeakMap;J1([fd.SuppressWarnings("serial"),fd.NotNull],al.prototype,"_listeners",void 0);J1([fd.NotNull],al.prototype,"getTokenTypeMap",null);J1([fd.NotNull],al.prototype,"getRuleIndexMap",null);J1([fd.NotNull],al.prototype,"serializedATN",null);J1([fd.NotNull],al.prototype,"atn",null);J1([fd.NotNull,bI(0,fd.NotNull)],al.prototype,"interpreter",null);J1([fd.NotNull,bI(0,fd.NotNull)],al.prototype,"getErrorHeader",null);J1([bI(0,fd.NotNull)],al.prototype,"addErrorListener",null);J1([bI(0,fd.NotNull)],al.prototype,"removeErrorListener",null);J1([fd.NotNull],al.prototype,"getErrorListeners",null);Zy.Recognizer=al});var yx=G(r8=>{"use strict";d();var e3=r8&&r8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(r8,"__esModule",{value:!0});r8.VocabularyImpl=void 0;var gx=ar(),Sdt=_a(),uh=class{constructor(e,t,r){this.literalNames=e,this.symbolicNames=t,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===Sdt.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let i=this.displayNames[e];if(i)return i}let t=this.getLiteralName(e);if(t)return t;let r=this.getSymbolicName(e);return r||String(e)}};uh.EMPTY_VOCABULARY=new uh([],[],[]);e3([gx.NotNull],uh.prototype,"literalNames",void 0);e3([gx.NotNull],uh.prototype,"symbolicNames",void 0);e3([gx.NotNull],uh.prototype,"displayNames",void 0);e3([gx.Override],uh.prototype,"maxTokenType",null);e3([gx.Override],uh.prototype,"getLiteralName",null);e3([gx.Override],uh.prototype,"getSymbolicName",null);e3([gx.Override,gx.NotNull],uh.prototype,"getDisplayName",null);e3([gx.NotNull],uh,"EMPTY_VOCABULARY",void 0);r8.VocabularyImpl=uh});var ZX=G(i8=>{"use strict";d();var KX=i8&&i8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(i8,"__esModule",{value:!0});i8.DFASerializer=void 0;var JX=rT(),XX=ar(),l6e=sh(),Cdt=n8(),wdt=yx(),iT=class{constructor(e,t,r,i){t instanceof Cdt.Recognizer?(r=t.ruleNames,i=t.atn,t=t.vocabulary):t||(t=wdt.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=e,this.vocabulary=t,this.ruleNames=r,this.atn=i}toString(){if(!this.dfa.s0)return"";let e="";if(this.dfa.states){let r=new Array(...this.dfa.states.toArray());r.sort((i,s)=>i.stateNumber-s.stateNumber);for(let i of r){let s=i.getEdgeMap(),o=[...s.keys()].sort((f,p)=>f-p),a=i.getContextEdgeMap(),l=[...a.keys()].sort((f,p)=>f-p);for(let f of o){let p=s.get(f);if((p==null||p===JX.ATNSimulator.ERROR)&&!i.isContextSymbol(f))continue;let v=!1;e+=this.getStateString(i)+"-"+this.getEdgeLabel(f)+"->",i.isContextSymbol(f)&&(e+="!",v=!0);let b=p;b&&b.stateNumber!==JX.ATNSimulator.ERROR.stateNumber?e+=this.getStateString(b)+`
`:v&&(e+=`ctx
`)}if(i.isContextSensitive)for(let f of l)e+=this.getStateString(i)+"-"+this.getContextLabel(f)+"->"+this.getStateString(a.get(f))+`
`}}let t=e;return t.length===0?"":t}getContextLabel(e){if(e===l6e.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(e===l6e.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&e>0&&e<=this.atn.states.length){let r=this.atn.states[e].ruleIndex;if(this.ruleNames&&r>=0&&r<this.ruleNames.length)return"ctx:"+String(e)+"("+this.ruleNames[r]+")"}return"ctx:"+String(e)}getEdgeLabel(e){return this.vocabulary.getDisplayName(e)}getStateString(e){if(e===JX.ATNSimulator.ERROR)return"ERROR";let t=e.stateNumber,r="s"+t;if(e.isAcceptState&&(e.predicates?r=":s"+t+"=>"+e.predicates:r=":s"+t+"=>"+e.prediction),e.isContextSensitive){r+="*";for(let i of e.configs)if(i.reachesIntoOuterContext){r+="*";break}}return r}};KX([XX.NotNull],iT.prototype,"dfa",void 0);KX([XX.NotNull],iT.prototype,"vocabulary",void 0);KX([XX.Override],iT.prototype,"toString",null);i8.DFASerializer=iT});var f6e=G(t3=>{"use strict";d();var c6e=t3&&t3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Adt=t3&&t3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(t3,"__esModule",{value:!0});t3.LexerDFASerializer=void 0;var Tdt=ZX(),eZ=ar(),Fdt=yx(),EI=class extends Tdt.DFASerializer{constructor(e){super(e,Fdt.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(e){return"'"+String.fromCodePoint(e)+"'"}};c6e([eZ.Override,eZ.NotNull],EI.prototype,"getEdgeLabel",null);EI=c6e([Adt(0,eZ.NotNull)],EI);t3.LexerDFASerializer=EI});var SI=G(s8=>{"use strict";d();var Ddt=s8&&s8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(s8,"__esModule",{value:!0});s8.StarLoopEntryState=void 0;var Odt=nc(),Ndt=px(),Rdt=Qy(),Ldt=ar(),tZ=class extends Rdt.DecisionState{constructor(){super(...arguments);this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new Ndt.BitSet}get stateType(){return Odt.ATNStateType.STAR_LOOP_ENTRY}};Ddt([Ldt.Override],tZ.prototype,"stateType",null);s8.StarLoopEntryState=tZ});var nZ=G(n3=>{"use strict";d();var CI=n3&&n3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},kdt=n3&&n3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(n3,"__esModule",{value:!0});n3.DFA=void 0;var Idt=dx(),d6e=t8(),h6e=ZX(),p6e=tT(),Mdt=f6e(),wI=ar(),Pdt=Ap(),Bdt=SI(),jdt=yx(),o8=class{constructor(e,t=0){if(this.states=new Idt.Array2DHashSet(Pdt.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!e.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=e,this.atn=e.atn,this.decision=t;let r=!1;e instanceof Bdt.StarLoopEntryState&&e.precedenceRuleDecision&&(r=!0,this.s0=new p6e.DFAState(new d6e.ATNConfigSet),this.s0full=new p6e.DFAState(new d6e.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(e,t){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return t?this.s0full.getTarget(e):this.s0.getTarget(e)}setPrecedenceStartState(e,t,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");e<0||(t?this.s0full.setTarget(e,r):this.s0.setTarget(e,r))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(e){return e.stateNumber=this.nextStateNumber++,this.states.getOrAdd(e)}toString(e,t){if(e||(e=jdt.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return t?r=new h6e.DFASerializer(this,e,t,this.atnStartState.atn):r=new h6e.DFASerializer(this,e),r.toString()}toLexerString(){return this.s0?new Mdt.LexerDFASerializer(this).toString():""}};CI([wI.NotNull],o8.prototype,"states",void 0);CI([wI.NotNull],o8.prototype,"atnStartState",void 0);CI([wI.NotNull],o8.prototype,"atn",void 0);o8=CI([kdt(0,wI.NotNull)],o8);n3.DFA=o8});var iZ=G(a8=>{"use strict";d();var qdt=a8&&a8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(a8,"__esModule",{value:!0});a8.BasicState=void 0;var Udt=H1(),$dt=nc(),zdt=ar(),rZ=class extends Udt.ATNState{get stateType(){return $dt.ATNStateType.BASIC}};qdt([zdt.Override],rZ.prototype,"stateType",null);a8.BasicState=rZ});var oZ=G(u8=>{"use strict";d();var Hdt=u8&&u8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(u8,"__esModule",{value:!0});u8.InvalidState=void 0;var Vdt=nc(),Wdt=iZ(),Qdt=ar(),sZ=class extends Wdt.BasicState{get stateType(){return Vdt.ATNStateType.INVALID_TYPE}};Hdt([Qdt.Override],sZ.prototype,"stateType",null);u8.InvalidState=sZ});var AI=G(i3=>{"use strict";d();var l8=i3&&i3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},m6e=i3&&i3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(i3,"__esModule",{value:!0});i3.SetTransition=void 0;var Gdt=s3(),vx=ar(),Ydt=_a(),Kdt=fx(),r3=class extends Kdt.Transition{constructor(e,t){super(e);t==null&&(t=Gdt.IntervalSet.of(Ydt.Token.INVALID_TYPE)),this.set=t}get serializationType(){return 7}get label(){return this.set}matches(e,t,r){return this.set.contains(e)}toString(){return this.set.toString()}};l8([vx.NotNull],r3.prototype,"set",void 0);l8([vx.Override],r3.prototype,"serializationType",null);l8([vx.Override,vx.NotNull],r3.prototype,"label",null);l8([vx.Override],r3.prototype,"matches",null);l8([vx.Override,vx.NotNull],r3.prototype,"toString",null);r3=l8([m6e(0,vx.NotNull),m6e(1,vx.Nullable)],r3);i3.SetTransition=r3});var FI=G(o3=>{"use strict";d();var TI=o3&&o3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},x6e=o3&&o3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(o3,"__esModule",{value:!0});o3.NotSetTransition=void 0;var sT=ar(),Jdt=AI(),c8=class extends Jdt.SetTransition{constructor(e,t){super(e,t)}get serializationType(){return 8}matches(e,t,r){return e>=t&&e<=r&&!super.matches(e,t,r)}toString(){return"~"+super.toString()}};TI([sT.Override],c8.prototype,"serializationType",null);TI([sT.Override],c8.prototype,"matches",null);TI([sT.Override],c8.prototype,"toString",null);c8=TI([x6e(0,sT.NotNull),x6e(1,sT.Nullable)],c8);o3.NotSetTransition=c8});var d8=G(f8=>{"use strict";d();var g6e=f8&&f8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(f8,"__esModule",{value:!0});f8.RuleStopState=void 0;var Xdt=H1(),Zdt=nc(),y6e=ar(),DI=class extends Xdt.ATNState{get nonStopStateNumber(){return-1}get stateType(){return Zdt.ATNStateType.RULE_STOP}};g6e([y6e.Override],DI.prototype,"nonStopStateNumber",null);g6e([y6e.Override],DI.prototype,"stateType",null);f8.RuleStopState=DI});var OI=G(a3=>{"use strict";d();var oT=a3&&a3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},v6e=a3&&a3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(a3,"__esModule",{value:!0});a3.RuleTransition=void 0;var h8=ar(),eht=fx(),Av=class extends eht.Transition{constructor(e,t,r,i){super(e);this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=t,this.precedence=r,this.followState=i}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,t,r){return!1}};oT([h8.NotNull],Av.prototype,"followState",void 0);oT([h8.Override],Av.prototype,"serializationType",null);oT([h8.Override],Av.prototype,"isEpsilon",null);oT([h8.Override],Av.prototype,"matches",null);Av=oT([v6e(0,h8.NotNull),v6e(3,h8.NotNull)],Av);a3.RuleTransition=Av});var aZ=G(u3=>{"use strict";d();var NI=u3&&u3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tht=u3&&u3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(u3,"__esModule",{value:!0});u3.WildcardTransition=void 0;var aT=ar(),nht=fx(),p8=class extends nht.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,t,r){return e>=t&&e<=r}toString(){return"."}};NI([aT.Override],p8.prototype,"serializationType",null);NI([aT.Override],p8.prototype,"matches",null);NI([aT.Override,aT.NotNull],p8.prototype,"toString",null);p8=NI([tht(0,aT.NotNull)],p8);u3.WildcardTransition=p8});var E6e=G(c3=>{"use strict";d();var RI=c3&&c3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},l3=c3&&c3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(c3,"__esModule",{value:!0});c3.LL1Analyzer=void 0;var rht=Gk(),_6e=dx(),iht=ZA(),b6e=px(),LI=s3(),X1=ar(),sht=FI(),oht=Ap(),kI=sh(),aht=d8(),uht=OI(),m8=_a(),lht=aZ(),Tv=class uZ{constructor(e){this.atn=e}getDecisionLookahead(e){if(e==null)return;let t=new Array(e.numberOfTransitions);for(let r=0;r<e.numberOfTransitions;r++){let i=new LI.IntervalSet;t[r]=i;let s=new _6e.Array2DHashSet(oht.ObjectEqualityComparator.INSTANCE),o=!1;this._LOOK(e.transition(r).target,void 0,kI.PredictionContext.EMPTY_LOCAL,i,s,new b6e.BitSet,o,!1),(i.size===0||i.contains(uZ.HIT_PRED))&&(i=void 0,t[r]=i)}return t}LOOK(e,t,r){if(r===void 0){if(e.atn==null)throw new Error("Illegal state");r=e.atn.ruleToStopState[e.ruleIndex]}else r===null&&(r=void 0);let i=new LI.IntervalSet,s=!0,o=!0;return this._LOOK(e,r,t,i,new _6e.Array2DHashSet,new b6e.BitSet,s,o),i}_LOOK(e,t,r,i,s,o,a,l){let f=iht.ATNConfig.create(e,0,r);if(!s.add(f))return;if(e===t){if(kI.PredictionContext.isEmptyLocal(r)){i.add(m8.Token.EPSILON);return}else if(r.isEmpty){l&&i.add(m8.Token.EOF);return}}if(e instanceof aht.RuleStopState){if(r.isEmpty&&!kI.PredictionContext.isEmptyLocal(r)){l&&i.add(m8.Token.EOF);return}let v=o.get(e.ruleIndex);try{o.clear(e.ruleIndex);for(let b=0;b<r.size;b++){if(r.getReturnState(b)===kI.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let F=this.atn.states[r.getReturnState(b)];this._LOOK(F,t,r.getParent(b),i,s,o,a,l)}}finally{v&&o.set(e.ruleIndex)}}let p=e.numberOfTransitions;for(let v=0;v<p;v++){let b=e.transition(v);if(b instanceof uht.RuleTransition){if(o.get(b.ruleIndex))continue;let F=r.getChild(b.followState.stateNumber);try{o.set(b.ruleIndex),this._LOOK(b.target,t,F,i,s,o,a,l)}finally{o.clear(b.ruleIndex)}}else if(b instanceof rht.AbstractPredicateTransition)a?this._LOOK(b.target,t,r,i,s,o,a,l):i.add(uZ.HIT_PRED);else if(b.isEpsilon)this._LOOK(b.target,t,r,i,s,o,a,l);else if(b instanceof lht.WildcardTransition)i.addAll(LI.IntervalSet.of(m8.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let F=b.label;F!=null&&(b instanceof sht.NotSetTransition&&(F=F.complement(LI.IntervalSet.of(m8.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(F))}}}};Tv.HIT_PRED=m8.Token.INVALID_TYPE;RI([X1.NotNull],Tv.prototype,"atn",void 0);RI([X1.NotNull,l3(0,X1.NotNull),l3(1,X1.NotNull)],Tv.prototype,"LOOK",null);RI([l3(0,X1.NotNull),l3(2,X1.NotNull),l3(3,X1.NotNull),l3(4,X1.NotNull),l3(5,X1.NotNull)],Tv.prototype,"_LOOK",null);Tv=RI([l3(0,X1.NotNull)],Tv);c3.LL1Analyzer=Tv});var Fp=G(Np=>{"use strict";d();var lh=Np&&Np.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uT=Np&&Np.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Np,"__esModule",{value:!0});Np.ATN=void 0;var cht=_v(),II=nZ(),fht=s3(),dht=oZ(),hht=E6e(),dd=ar(),pht=Ap(),lZ=sh(),x8=_a(),mht=lf(),hf=class{constructor(e,t){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new cht.Array2DHashMap(pht.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=e,this.maxTokenType=t}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let e=0;e<this.decisionToDFA.length;e++)this.decisionToDFA[e]=new II.DFA(this.decisionToState[e],e);this.modeToDFA=new Array(this.modeToStartState.length);for(let e=0;e<this.modeToDFA.length;e++)this.modeToDFA[e]=new II.DFA(this.modeToStartState[e]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(e){return lZ.PredictionContext.getCachedContext(e,this.contextCache,new lZ.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return mht(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(e,t){return t?new hht.LL1Analyzer(this).LOOK(e,t):(e.nextTokenWithinRule||(e.nextTokenWithinRule=this.nextTokens(e,lZ.PredictionContext.EMPTY_LOCAL),e.nextTokenWithinRule.setReadonly(!0)),e.nextTokenWithinRule)}addState(e){e.atn=this,e.stateNumber=this.states.length,this.states.push(e)}removeState(e){let t=new dht.InvalidState;t.atn=this,t.stateNumber=e.stateNumber,this.states[e.stateNumber]=t}defineMode(e,t){this.modeNameToStartState.set(e,t),this.modeToStartState.push(t),this.modeToDFA.push(new II.DFA(t)),this.defineDecisionState(t)}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,this.decisionToDFA.push(new II.DFA(e,e.decision)),e.decision}getDecisionState(e){if(this.decisionToState.length>0)return this.decisionToState[e]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(e,t){if(e<0||e>=this.states.length)throw new RangeError("Invalid state number.");let r=t,i=this.states[e],s=this.nextTokens(i);if(!s.contains(x8.Token.EPSILON))return s;let o=new fht.IntervalSet;for(o.addAll(s),o.remove(x8.Token.EPSILON);r!=null&&r.invokingState>=0&&s.contains(x8.Token.EPSILON);){let l=this.states[r.invokingState].transition(0);s=this.nextTokens(l.followState),o.addAll(s),o.remove(x8.Token.EPSILON),r=r._parent}return s.contains(x8.Token.EPSILON)&&o.add(x8.Token.EOF),o}};lh([dd.NotNull],hf.prototype,"states",void 0);lh([dd.NotNull],hf.prototype,"decisionToState",void 0);lh([dd.NotNull],hf.prototype,"modeNameToStartState",void 0);lh([dd.NotNull],hf.prototype,"modeToStartState",void 0);lh([dd.NotNull],hf.prototype,"decisionToDFA",void 0);lh([dd.NotNull],hf.prototype,"modeToDFA",void 0);lh([dd.NotNull],hf.prototype,"nextTokens",null);lh([uT(0,dd.NotNull)],hf.prototype,"removeState",null);lh([uT(0,dd.NotNull),uT(1,dd.NotNull)],hf.prototype,"defineMode",null);lh([uT(0,dd.NotNull)],hf.prototype,"defineDecisionState",null);lh([dd.NotNull],hf.prototype,"getExpectedTokens",null);hf=lh([uT(0,dd.NotNull)],hf);Np.ATN=hf;(function(n){n.INVALID_ALT_NUMBER=0})(hf=Np.ATN||(Np.ATN={}));Np.ATN=hf});var C6e=G(f3=>{"use strict";d();var Fv=f3&&f3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xht=f3&&f3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(f3,"__esModule",{value:!0});f3.LexerIndexedCustomAction=void 0;var MI=Su(),Dv=ar(),_x=class S6e{constructor(e,t){this._offset=e,this._action=t}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=MI.MurmurHash.initialize();return e=MI.MurmurHash.update(e,this._offset),e=MI.MurmurHash.update(e,this._action),MI.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof S6e?this._offset===e._offset&&this._action.equals(e._action):!1}};Fv([Dv.NotNull],_x.prototype,"action",null);Fv([Dv.Override],_x.prototype,"actionType",null);Fv([Dv.Override],_x.prototype,"isPositionDependent",null);Fv([Dv.Override],_x.prototype,"execute",null);Fv([Dv.Override],_x.prototype,"hashCode",null);Fv([Dv.Override],_x.prototype,"equals",null);_x=Fv([xht(1,Dv.NotNull)],_x);f3.LexerIndexedCustomAction=_x});var w6e=G(h3=>{"use strict";d();var Ov=h3&&h3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},cZ=h3&&h3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(h3,"__esModule",{value:!0});h3.LexerActionExecutor=void 0;var ght=zA(),fZ=C6e(),dZ=Su(),d3=ar(),bx=class lT{constructor(e){this._lexerActions=e;let t=dZ.MurmurHash.initialize();for(let r of e)t=dZ.MurmurHash.update(t,r);this.cachedHashCode=dZ.MurmurHash.finish(t,e.length)}static append(e,t){if(!e)return new lT([t]);let r=e._lexerActions.slice(0);return r.push(t),new lT(r)}fixOffsetBeforeMatch(e){let t;for(let r=0;r<this._lexerActions.length;r++)this._lexerActions[r].isPositionDependent&&!(this._lexerActions[r]instanceof fZ.LexerIndexedCustomAction)&&(t||(t=this._lexerActions.slice(0)),t[r]=new fZ.LexerIndexedCustomAction(e,this._lexerActions[r]));return t?new lT(t):this}get lexerActions(){return this._lexerActions}execute(e,t,r){let i=!1,s=t.index;try{for(let o of this._lexerActions){if(o instanceof fZ.LexerIndexedCustomAction){let a=o.offset;t.seek(r+a),o=o.action,i=r+a!==s}else o.isPositionDependent&&(t.seek(s),i=!1);o.execute(e)}}finally{i&&t.seek(s)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof lT?this.cachedHashCode===e.cachedHashCode&&ght.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};Ov([d3.NotNull],bx.prototype,"_lexerActions",void 0);Ov([d3.NotNull],bx.prototype,"lexerActions",null);Ov([cZ(0,d3.NotNull)],bx.prototype,"execute",null);Ov([d3.Override],bx.prototype,"hashCode",null);Ov([d3.Override],bx.prototype,"equals",null);Ov([d3.NotNull,cZ(1,d3.NotNull)],bx,"append",null);bx=Ov([cZ(0,d3.NotNull)],bx);h3.LexerActionExecutor=bx});var fT=G(p3=>{"use strict";d();var hZ=p3&&p3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},yht=p3&&p3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(p3,"__esModule",{value:!0});p3.LexerNoViableAltException=void 0;var vht=cx(),pZ=ar(),_ht=df(),bht=Tp(),cT=class extends vht.RecognitionException{constructor(e,t,r,i){super(e,t);this._startIndex=r,this._deadEndConfigs=i}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText(_ht.Interval.of(this._startIndex,this._startIndex)),e=bht.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};hZ([pZ.Override],cT.prototype,"inputStream",null);hZ([pZ.Override],cT.prototype,"toString",null);cT=hZ([yht(1,pZ.NotNull)],cT);p3.LexerNoViableAltException=cT});var A6e=G(g8=>{"use strict";d();var mZ=g8&&g8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(g8,"__esModule",{value:!0});g8.OrderedATNConfigSet=void 0;var Eht=t8(),xZ=ar(),Nv=class extends Eht.ATNConfigSet{constructor(e,t){e!=null&&t!=null?super(e,t):super()}clone(e){let t=new Nv(this,e);return!e&&this.isReadOnly&&t.addAll(this),t}getKey(e){return{state:0,alt:e.hashCode()}}canMerge(e,t,r){return e.equals(r)}};mZ([xZ.Override],Nv.prototype,"clone",null);mZ([xZ.Override],Nv.prototype,"getKey",null);mZ([xZ.Override],Nv.prototype,"canMerge",null);g8.OrderedATNConfigSet=Nv});var hT=G(Rp=>{"use strict";d();var Bu=Rp&&Rp.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Uo=Rp&&Rp.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.LexerATNSimulator=void 0;var Sht=MX(),Cht=Fp(),wht=ZA(),Aht=t8(),PI=rT(),T6e=tT(),Tht=df(),dT=ux(),y8=Ex(),Fht=w6e(),Dht=fT(),ro=ar(),F6e=A6e(),gZ=sh(),D6e=d8(),Oht=_a(),O6e=lf(),Na=class hd extends PI.ATNSimulator{constructor(e,t){super(e);this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=y8.Lexer.DEFAULT_MODE,this.prevAccept=new hd.SimState,this.recog=t}copyState(e){this._charPositionInLine=e.charPositionInLine,this._line=e._line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,t){this.mode=t;let r=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();let i=this.atn.modeToDFA[t].s0;return i==null?this.matchATN(e):this.execATN(e,i)}finally{e.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=y8.Lexer.DEFAULT_MODE}matchATN(e){let t=this.atn.modeToStartState[this.mode];hd.debug&&console.log(`matchATN mode ${this.mode} start: ${t}`);let r=this.mode,i=this.computeStartState(e,t),s=i.hasSemanticContext;s&&(i.hasSemanticContext=!1);let o=this.addDFAState(i);if(!s){let l=this.atn.modeToDFA[this.mode];l.s0?o=l.s0:l.s0=o}let a=this.execATN(e,o);return hd.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[r].toLexerString()}`),a}execATN(e,t){hd.debug&&console.log(`start state closure=${t.configs}`),t.isAcceptState&&this.captureSimState(this.prevAccept,e,t);let r=e.LA(1),i=t;for(;;){hd.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let s=this.getExistingTargetState(i,r);if(s==null&&(s=this.computeTargetState(e,i,r)),s===PI.ATNSimulator.ERROR||(r!==dT.IntStream.EOF&&this.consume(e),s.isAcceptState&&(this.captureSimState(this.prevAccept,e,s),r===dT.IntStream.EOF)))break;r=e.LA(1),i=s}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(e,t){let r=e.getTarget(t);return hd.debug&&r!=null&&console.log("reuse state "+e.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(e,t,r){let i=new F6e.OrderedATNConfigSet;return this.getReachableConfigSet(e,t.configs,i,r),i.isEmpty?(i.hasSemanticContext||this.addDFAEdge(t,r,PI.ATNSimulator.ERROR),PI.ATNSimulator.ERROR):this.addDFAEdge(t,r,i)}failOrAccept(e,t,r,i){if(e.dfaState!=null){let s=e.dfaState.lexerActionExecutor;return this.accept(t,s,this.startIndex,e.index,e.line,e.charPos),e.dfaState.prediction}else{if(i===dT.IntStream.EOF&&t.index===this.startIndex)return Oht.Token.EOF;throw new Dht.LexerNoViableAltException(this.recog,t,this.startIndex,r)}}getReachableConfigSet(e,t,r,i){let s=Cht.ATN.INVALID_ALT_NUMBER;for(let o of t){let a=o.alt===s;if(a&&o.hasPassedThroughNonGreedyDecision)continue;hd.debug&&console.log(`testing ${this.getTokenName(i)} at ${o.toString(this.recog,!0)}`);let l=o.state.numberOfOptimizedTransitions;for(let f=0;f<l;f++){let p=o.state.getOptimizedTransition(f),v=this.getReachableTarget(p,i);if(v!=null){let b=o.lexerActionExecutor,F;b!=null?(b=b.fixOffsetBeforeMatch(e.index-this.startIndex),F=o.transform(v,!0,b)):(O6e(o.lexerActionExecutor==null),F=o.transform(v,!0));let D=i===dT.IntStream.EOF;if(this.closure(e,F,r,a,!0,D)){s=o.alt;break}}}}}accept(e,t,r,i,s,o){hd.debug&&console.log(`ACTION ${t}`),e.seek(i),this._line=s,this._charPositionInLine=o,t!=null&&this.recog!=null&&t.execute(this.recog,e,r)}getReachableTarget(e,t){if(e.matches(t,y8.Lexer.MIN_CHAR_VALUE,y8.Lexer.MAX_CHAR_VALUE))return e.target}computeStartState(e,t){let r=gZ.PredictionContext.EMPTY_FULL,i=new F6e.OrderedATNConfigSet;for(let s=0;s<t.numberOfTransitions;s++){let o=t.transition(s).target,a=wht.ATNConfig.create(o,s+1,r);this.closure(e,a,i,!1,!1,!1)}return i}closure(e,t,r,i,s,o){if(hd.debug&&console.log("closure("+t.toString(this.recog,!0)+")"),t.state instanceof D6e.RuleStopState){hd.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[t.state.ruleIndex]} rule stop ${t}`):console.log(`closure at rule stop ${t}`));let l=t.context;if(l.isEmpty)return r.add(t),!0;l.hasEmpty&&(r.add(t.transform(t.state,!0,gZ.PredictionContext.EMPTY_FULL)),i=!0);for(let f=0;f<l.size;f++){let p=l.getReturnState(f);if(p===gZ.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let v=l.getParent(f),b=this.atn.states[p],F=t.transform(b,!1,v);i=this.closure(e,F,r,i,s,o)}return i}t.state.onlyHasEpsilonTransitions||(!i||!t.hasPassedThroughNonGreedyDecision)&&r.add(t);let a=t.state;for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l),p=this.getEpsilonTarget(e,t,f,r,s,o);p!=null&&(i=this.closure(e,p,r,i,s,o))}return i}getEpsilonTarget(e,t,r,i,s,o){let a;switch(r.serializationType){case 3:let l=r;if(this.optimize_tail_calls&&l.optimizedTailCall&&!t.context.hasEmpty)a=t.transform(r.target,!0);else{let p=t.context.getChild(l.followState.stateNumber);a=t.transform(r.target,!0,p)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let f=r;hd.debug&&console.log("EVAL rule "+f.ruleIndex+":"+f.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,f.ruleIndex,f.predIndex,s)?a=t.transform(r.target,!0):a=void 0;break;case 6:if(t.context.hasEmpty){let p=Fht.LexerActionExecutor.append(t.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=t.transform(r.target,!0,p);break}else{a=t.transform(r.target,!0);break}case 1:a=t.transform(r.target,!0);break;case 5:case 2:case 7:if(o&&r.matches(dT.IntStream.EOF,y8.Lexer.MIN_CHAR_VALUE,y8.Lexer.MAX_CHAR_VALUE)){a=t.transform(r.target,!1);break}a=void 0;break;default:a=void 0;break}return a}evaluatePredicate(e,t,r,i){if(this.recog==null)return!0;if(!i)return this.recog.sempred(void 0,t,r);let s=this._charPositionInLine,o=this._line,a=e.index,l=e.mark();try{return this.consume(e),this.recog.sempred(void 0,t,r)}finally{this._charPositionInLine=s,this._line=o,e.seek(a),e.release(l)}}captureSimState(e,t,r){e.index=t.index,e.line=this._line,e.charPos=this._charPositionInLine,e.dfaState=r}addDFAEdge(e,t,r){if(r instanceof Aht.ATNConfigSet){let i=r.hasSemanticContext;i&&(r.hasSemanticContext=!1);let s=this.addDFAState(r);return i||this.addDFAEdge(e,t,s),s}else hd.debug&&console.log("EDGE "+e+" -> "+r+" upon "+String.fromCharCode(t)),e!=null&&e.setTarget(t,r)}addDFAState(e){O6e(!e.hasSemanticContext);let t=new T6e.DFAState(e),r=this.atn.modeToDFA[this.mode].states.get(t);if(r!=null)return r;e.optimizeConfigs(this);let i=new T6e.DFAState(e.clone(!0)),s;for(let o of e)if(o.state instanceof D6e.RuleStopState){s=o;break}if(s!=null){let o=this.atn.ruleToTokenType[s.state.ruleIndex],a=s.lexerActionExecutor;i.acceptStateInfo=new Sht.AcceptStateInfo(o,a)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(e){return this.atn.modeToDFA[e]}getText(e){return e.getText(Tht.Interval.of(this.startIndex,e.index-1))}get line(){return this._line}set line(e){this._line=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}consume(e){e.LA(1)===`
`.charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,e.consume()}getTokenName(e){return e===-1?"EOF":"'"+String.fromCharCode(e)+"'"}};Bu([ro.NotNull],Na.prototype,"prevAccept",void 0);Bu([Uo(0,ro.NotNull)],Na.prototype,"copyState",null);Bu([Uo(0,ro.NotNull)],Na.prototype,"match",null);Bu([ro.Override],Na.prototype,"reset",null);Bu([Uo(0,ro.NotNull)],Na.prototype,"matchATN",null);Bu([Uo(0,ro.NotNull),Uo(1,ro.NotNull)],Na.prototype,"execATN",null);Bu([Uo(0,ro.NotNull)],Na.prototype,"getExistingTargetState",null);Bu([ro.NotNull,Uo(0,ro.NotNull),Uo(1,ro.NotNull)],Na.prototype,"computeTargetState",null);Bu([Uo(0,ro.NotNull),Uo(1,ro.NotNull),Uo(2,ro.NotNull)],Na.prototype,"getReachableConfigSet",null);Bu([Uo(0,ro.NotNull)],Na.prototype,"accept",null);Bu([ro.NotNull,Uo(0,ro.NotNull),Uo(1,ro.NotNull)],Na.prototype,"computeStartState",null);Bu([Uo(0,ro.NotNull),Uo(1,ro.NotNull),Uo(2,ro.NotNull)],Na.prototype,"closure",null);Bu([Uo(0,ro.NotNull),Uo(1,ro.NotNull),Uo(2,ro.NotNull),Uo(3,ro.NotNull)],Na.prototype,"getEpsilonTarget",null);Bu([Uo(0,ro.NotNull)],Na.prototype,"evaluatePredicate",null);Bu([Uo(0,ro.NotNull),Uo(1,ro.NotNull),Uo(2,ro.NotNull)],Na.prototype,"captureSimState",null);Bu([ro.NotNull,Uo(0,ro.NotNull)],Na.prototype,"addDFAState",null);Bu([ro.NotNull],Na.prototype,"getDFA",null);Bu([ro.NotNull,Uo(0,ro.NotNull)],Na.prototype,"getText",null);Bu([Uo(0,ro.NotNull)],Na.prototype,"consume",null);Bu([ro.NotNull],Na.prototype,"getTokenName",null);Na=Bu([Uo(0,ro.NotNull)],Na);Rp.LexerATNSimulator=Na;(function(n){n.debug=!1,n.dfa_debug=!1;class e{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}n.SimState=e})(Na=Rp.LexerATNSimulator||(Rp.LexerATNSimulator={}));Rp.LexerATNSimulator=Na});var Ex=G(b8=>{"use strict";d();var v8=b8&&b8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(b8,"__esModule",{value:!0});b8.Lexer=void 0;var Nht=iI(),Rht=IX(),Lht=df(),N6e=ux(),R6e=hT(),L6e=fT(),_8=ar(),kht=n8(),Lp=_a(),ju=class extends kht.Recognizer{constructor(e){super();this._factory=Nht.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new Rht.IntegerStack,this._mode=ju.DEFAULT_MODE,this._input=e,this._tokenFactorySourcePair={source:this,stream:e}}static get DEFAULT_TOKEN_CHANNEL(){return Lp.Token.DEFAULT_CHANNEL}static get HIDDEN(){return Lp.Token.HIDDEN_CHANNEL}reset(e){(e===void 0||e)&&this._input.seek(0),this._token=void 0,this._type=Lp.Token.INVALID_TYPE,this._channel=Lp.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=ju.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let e=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=Lp.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=Lp.Token.INVALID_TYPE;let t;try{t=this.interpreter.match(this._input,this._mode)}catch(r){if(r instanceof L6e.LexerNoViableAltException)this.notifyListeners(r),this.recover(r),t=ju.SKIP;else throw r}if(this._input.LA(1)===N6e.IntStream.EOF&&(this._hitEOF=!0),this._type===Lp.Token.INVALID_TYPE&&(this._type=t),this._type===ju.SKIP)continue e}while(this._type===ju.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(e)}}skip(){this._type=ju.SKIP}more(){this._type=ju.MORE}mode(e){this._mode=e}pushMode(e){R6e.LexerATNSimulator.debug&&console.log("pushMode "+e),this._modeStack.push(this._mode),this.mode(e)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return R6e.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(e){this._factory=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(e){return e||(e=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=e,e}emitEOF(){let e=this.charPositionInLine,t=this.line,r=this._factory.create(this._tokenFactorySourcePair,Lp.Token.EOF,void 0,Lp.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,t,e);return this.emit(r),r}get line(){return this.interpreter.line}set line(e){this.interpreter.line=e}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(e){this.interpreter.charPositionInLine=e}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(e){this._text=e}get token(){return this._token}set token(e){this._token=e}set type(e){this._type=e}get type(){return this._type}set channel(e){this._channel=e}get channel(){return this._channel}getAllTokens(){let e=[],t=this.nextToken();for(;t.type!==Lp.Token.EOF;)e.push(t),t=this.nextToken();return e}notifyListeners(e){let t=this._input.getText(Lht.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(t)+"'",i=this.getErrorListenerDispatch();i.syntaxError&&i.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,e)}getErrorDisplay(e){if(typeof e=="number"){switch(e){case Lp.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(e)}return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(e){let t=this.getErrorDisplay(e);return"'"+t+"'"}recover(e){e instanceof L6e.LexerNoViableAltException?this._input.LA(1)!==N6e.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};ju.DEFAULT_MODE=0;ju.MORE=-2;ju.SKIP=-3;ju.MIN_CHAR_VALUE=0;ju.MAX_CHAR_VALUE=1114111;v8([_8.Override],ju.prototype,"nextToken",null);v8([_8.Override],ju.prototype,"tokenFactory",null);v8([_8.Override],ju.prototype,"inputStream",null);v8([_8.Override],ju.prototype,"sourceName",null);v8([_8.Override],ju.prototype,"line",null);v8([_8.Override],ju.prototype,"charPositionInLine",null);b8.Lexer=ju});var s3=G(m3=>{"use strict";d();var qf=m3&&m3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},k6e=m3&&m3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(m3,"__esModule",{value:!0});m3.IntervalSet=void 0;var Iht=zA(),Mht=rI(),E8=df(),I6e=Ex(),BI=Su(),pf=ar(),yZ=_a(),Zi=class{constructor(e){this.readonly=!1,e!=null?this._intervals=e.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Zi._COMPLETE_CHAR_SET===void 0&&(Zi._COMPLETE_CHAR_SET=Zi.of(I6e.Lexer.MIN_CHAR_VALUE,I6e.Lexer.MAX_CHAR_VALUE),Zi._COMPLETE_CHAR_SET.setReadonly(!0)),Zi._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Zi._EMPTY_SET==null&&(Zi._EMPTY_SET=new Zi,Zi._EMPTY_SET.setReadonly(!0)),Zi._EMPTY_SET}static of(e,t=e){let r=new Zi;return r.add(e,t),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(e,t=e){this.addRange(E8.Interval.of(e,t))}addRange(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(e.b<e.a)){for(let t=0;t<this._intervals.length;t++){let r=this._intervals[t];if(e.equals(r))return;if(e.adjacent(r)||!e.disjoint(r)){let i=e.union(r);for(this._intervals[t]=i;t<this._intervals.length-1;){t++;let s=this._intervals[t];if(!i.adjacent(s)&&i.disjoint(s))break;this._intervals.splice(t,1),t--,this._intervals[t]=i.union(s)}return}if(e.startsBeforeDisjoint(r)){this._intervals.splice(t,0,e);return}}this._intervals.push(e)}}static or(e){let t=new Zi;for(let r of e)t.addAll(r);return t}addAll(e){if(e==null)return this;if(e instanceof Zi){let t=e,r=t._intervals.length;for(let i=0;i<r;i++){let s=t._intervals[i];this.add(s.a,s.b)}}else for(let t of e.toArray())this.add(t);return this}complementRange(e,t){return this.complement(Zi.of(e,t))}complement(e){if(e.isNil)return Zi.EMPTY_SET;let t;return e instanceof Zi?t=e:(t=new Zi,t.addAll(e)),t.subtract(this)}subtract(e){if(e==null||e.isNil)return new Zi(this._intervals);if(e instanceof Zi)return Zi.subtract(this,e);let t=new Zi;return t.addAll(e),Zi.subtract(this,t)}static subtract(e,t){if(e.isNil)return new Zi;let r=new Zi(e._intervals);if(t.isNil)return r;let i=0,s=0;for(;i<r._intervals.length&&s<t._intervals.length;){let o=r._intervals[i],a=t._intervals[s];if(a.b<o.a){s++;continue}if(a.a>o.b){i++;continue}let l,f;if(a.a>o.a&&(l=new E8.Interval(o.a,a.a-1)),a.b<o.b&&(f=new E8.Interval(a.b+1,o.b)),l)if(f){r._intervals[i]=l,r._intervals.splice(i+1,0,f),i++,s++;continue}else{r._intervals[i]=l,i++;continue}else if(f){r._intervals[i]=f,s++;continue}else{r._intervals.splice(i,1);continue}}return r}or(e){let t=new Zi;return t.addAll(this),t.addAll(e),t}and(e){if(e.isNil)return new Zi;let t=this._intervals,r=e._intervals,i,s=t.length,o=r.length,a=0,l=0;for(;a<s&&l<o;){let f=t[a],p=r[l];f.startsBeforeDisjoint(p)?a++:p.startsBeforeDisjoint(f)?l++:f.properlyContains(p)?(i||(i=new Zi),i.addRange(f.intersection(p)),l++):p.properlyContains(f)?(i||(i=new Zi),i.addRange(f.intersection(p)),a++):f.disjoint(p)||(i||(i=new Zi),i.addRange(f.intersection(p)),f.startsAfterNonDisjoint(p)?l++:p.startsAfterNonDisjoint(f)&&a++)}return i||new Zi}contains(e){let t=this._intervals.length,r=0,i=t-1;for(;r<=i;){let s=r+i>>1,o=this._intervals[s],a=o.a;if(o.b<e)r=s+1;else if(a>e)i=s-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let e=BI.MurmurHash.initialize();for(let t of this._intervals)e=BI.MurmurHash.update(e,t.a),e=BI.MurmurHash.update(e,t.b);return e=BI.MurmurHash.finish(e,this._intervals.length*2),e}equals(e){return e==null||!(e instanceof Zi)?!1:Iht.ArrayEqualityComparator.INSTANCE.equals(this._intervals,e._intervals)}toString(e=!1){let t="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;s===o?s===yZ.Token.EOF?t+="<EOF>":e?t+="'"+String.fromCodePoint(s)+"'":t+=s:e?t+="'"+String.fromCodePoint(s)+"'..'"+String.fromCodePoint(o)+"'":t+=s+".."+o}return this.size>1&&(t+="}"),t}toStringVocabulary(e){if(this._intervals==null||this._intervals.length===0)return"{}";let t="";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;if(s===o)t+=this.elementName(e,s);else for(let a=s;a<=o;a++)a>s&&(t+=", "),t+=this.elementName(e,a)}return this.size>1&&(t+="}"),t}elementName(e,t){return t===yZ.Token.EOF?"<EOF>":t===yZ.Token.EPSILON?"<EPSILON>":e.getDisplayName(t)}get size(){let e=0,t=this._intervals.length;if(t===1){let r=this._intervals[0];return r.b-r.a+1}for(let r=0;r<t;r++){let i=this._intervals[r];e+=i.b-i.a+1}return e}toIntegerList(){let e=new Mht.IntegerList(this.size),t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.add(a)}return e}toSet(){let e=new Set;for(let t of this._intervals){let r=t.a,i=t.b;for(let s=r;s<=i;s++)e.add(s)}return e}toArray(){let e=new Array,t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.push(a)}return e}remove(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;if(e<s)break;if(e===s&&e===o){this._intervals.splice(r,1);break}if(e===s){this._intervals[r]=E8.Interval.of(i.a+1,i.b);break}if(e===o){this._intervals[r]=E8.Interval.of(i.a,i.b-1);break}if(e>s&&e<o){let a=i.b;this._intervals[r]=E8.Interval.of(i.a,e-1),this.add(e+1,a)}}}get isReadonly(){return this.readonly}setReadonly(e){if(this.readonly&&!e)throw new Error("can't alter readonly IntervalSet");this.readonly=e}};qf([pf.Override],Zi.prototype,"addAll",null);qf([pf.Override],Zi.prototype,"complement",null);qf([pf.Override],Zi.prototype,"subtract",null);qf([pf.Override],Zi.prototype,"or",null);qf([pf.Override],Zi.prototype,"and",null);qf([pf.Override],Zi.prototype,"contains",null);qf([pf.Override],Zi.prototype,"isNil",null);qf([pf.Override],Zi.prototype,"hashCode",null);qf([pf.Override],Zi.prototype,"equals",null);qf([k6e(0,pf.NotNull)],Zi.prototype,"toStringVocabulary",null);qf([pf.NotNull,k6e(0,pf.NotNull)],Zi.prototype,"elementName",null);qf([pf.Override],Zi.prototype,"size",null);qf([pf.Override],Zi.prototype,"remove",null);qf([pf.NotNull],Zi,"of",null);qf([pf.NotNull],Zi,"subtract",null);m3.IntervalSet=Zi});var vZ=G(S8=>{"use strict";d();var Pht=S8&&S8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(S8,"__esModule",{value:!0});S8.ATNDeserializationOptions=void 0;var Bht=ar(),Sx=class{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return Sx._defaultOptions==null&&(Sx._defaultOptions=new Sx,Sx._defaultOptions.makeReadOnly()),Sx._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};Pht([Bht.NotNull],Sx,"defaultOptions",null);S8.ATNDeserializationOptions=Sx});var _Z=G(x3=>{"use strict";d();var pT=x3&&x3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},jht=x3&&x3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(x3,"__esModule",{value:!0});x3.ActionTransition=void 0;var mT=ar(),qht=fx(),Rv=class extends qht.Transition{constructor(e,t,r=-1,i=!1){super(e);this.ruleIndex=t,this.actionIndex=r,this.isCtxDependent=i}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};pT([mT.Override],Rv.prototype,"serializationType",null);pT([mT.Override],Rv.prototype,"isEpsilon",null);pT([mT.Override],Rv.prototype,"matches",null);pT([mT.Override],Rv.prototype,"toString",null);Rv=pT([jht(0,mT.NotNull)],Rv);x3.ActionTransition=Rv});var bZ=G(g3=>{"use strict";d();var xT=g3&&g3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Uht=g3&&g3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(g3,"__esModule",{value:!0});g3.AtomTransition=void 0;var $ht=s3(),Lv=ar(),zht=fx(),kv=class extends zht.Transition{constructor(e,t){super(e);this._label=t}get serializationType(){return 5}get label(){return $ht.IntervalSet.of(this._label)}matches(e,t,r){return this._label===e}toString(){return String(this.label)}};xT([Lv.Override],kv.prototype,"serializationType",null);xT([Lv.Override,Lv.NotNull],kv.prototype,"label",null);xT([Lv.Override],kv.prototype,"matches",null);xT([Lv.Override,Lv.NotNull],kv.prototype,"toString",null);kv=xT([Uht(0,Lv.NotNull)],kv);g3.AtomTransition=kv});var gT=G(jI=>{"use strict";d();Object.defineProperty(jI,"__esModule",{value:!0});jI.BlockStartState=void 0;var Hht=Qy(),M6e=class extends Hht.DecisionState{};jI.BlockStartState=M6e});var P6e=G(C8=>{"use strict";d();var Vht=C8&&C8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(C8,"__esModule",{value:!0});C8.BasicBlockStartState=void 0;var Wht=nc(),Qht=gT(),Ght=ar(),EZ=class extends Qht.BlockStartState{get stateType(){return Wht.ATNStateType.BLOCK_START}};Vht([Ght.Override],EZ.prototype,"stateType",null);C8.BasicBlockStartState=EZ});var B6e=G(w8=>{"use strict";d();var Yht=w8&&w8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(w8,"__esModule",{value:!0});w8.BlockEndState=void 0;var Kht=H1(),Jht=nc(),Xht=ar(),SZ=class extends Kht.ATNState{get stateType(){return Jht.ATNStateType.BLOCK_END}};Yht([Xht.Override],SZ.prototype,"stateType",null);w8.BlockEndState=SZ});var j6e=G(y3=>{"use strict";d();var yT=y3&&y3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Zht=y3&&y3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(y3,"__esModule",{value:!0});y3.EpsilonTransition=void 0;var A8=ar(),ept=fx(),Iv=class extends ept.Transition{constructor(e,t=-1){super(e);this._outermostPrecedenceReturn=t}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"epsilon"}};yT([A8.Override],Iv.prototype,"serializationType",null);yT([A8.Override],Iv.prototype,"isEpsilon",null);yT([A8.Override],Iv.prototype,"matches",null);yT([A8.Override,A8.NotNull],Iv.prototype,"toString",null);Iv=yT([Zht(0,A8.NotNull)],Iv);y3.EpsilonTransition=Iv});var q6e=G(v3=>{"use strict";d();var T8=v3&&v3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tpt=v3&&v3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(v3,"__esModule",{value:!0});v3.LexerChannelAction=void 0;var qI=Su(),Mv=ar(),Z1=class{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=qI.MurmurHash.initialize();return e=qI.MurmurHash.update(e,this.actionType),e=qI.MurmurHash.update(e,this._channel),qI.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Z1?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}};T8([Mv.Override],Z1.prototype,"actionType",null);T8([Mv.Override],Z1.prototype,"isPositionDependent",null);T8([Mv.Override,tpt(0,Mv.NotNull)],Z1.prototype,"execute",null);T8([Mv.Override],Z1.prototype,"hashCode",null);T8([Mv.Override],Z1.prototype,"equals",null);T8([Mv.Override],Z1.prototype,"toString",null);v3.LexerChannelAction=Z1});var U6e=G(_3=>{"use strict";d();var vT=_3&&_3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},npt=_3&&_3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_3,"__esModule",{value:!0});_3.LexerCustomAction=void 0;var _T=Su(),F8=ar(),Cx=class{constructor(e,t){this._ruleIndex=e,this._actionIndex=t}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=_T.MurmurHash.initialize();return e=_T.MurmurHash.update(e,this.actionType),e=_T.MurmurHash.update(e,this._ruleIndex),e=_T.MurmurHash.update(e,this._actionIndex),_T.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof Cx?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}};vT([F8.Override],Cx.prototype,"actionType",null);vT([F8.Override],Cx.prototype,"isPositionDependent",null);vT([F8.Override,npt(0,F8.NotNull)],Cx.prototype,"execute",null);vT([F8.Override],Cx.prototype,"hashCode",null);vT([F8.Override],Cx.prototype,"equals",null);_3.LexerCustomAction=Cx});var $6e=G(b3=>{"use strict";d();var D8=b3&&b3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},rpt=b3&&b3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(b3,"__esModule",{value:!0});b3.LexerModeAction=void 0;var UI=Su(),Pv=ar(),em=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=UI.MurmurHash.initialize();return e=UI.MurmurHash.update(e,this.actionType),e=UI.MurmurHash.update(e,this._mode),UI.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof em?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}};D8([Pv.Override],em.prototype,"actionType",null);D8([Pv.Override],em.prototype,"isPositionDependent",null);D8([Pv.Override,rpt(0,Pv.NotNull)],em.prototype,"execute",null);D8([Pv.Override],em.prototype,"hashCode",null);D8([Pv.Override],em.prototype,"equals",null);D8([Pv.Override],em.prototype,"toString",null);b3.LexerModeAction=em});var z6e=G(tm=>{"use strict";d();var O8=tm&&tm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ipt=tm&&tm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(tm,"__esModule",{value:!0});tm.LexerMoreAction=void 0;var CZ=Su(),Bv=ar(),wx=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(e){e.more()}hashCode(){let e=CZ.MurmurHash.initialize();return e=CZ.MurmurHash.update(e,this.actionType),CZ.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"more"}};O8([Bv.Override],wx.prototype,"actionType",null);O8([Bv.Override],wx.prototype,"isPositionDependent",null);O8([Bv.Override,ipt(0,Bv.NotNull)],wx.prototype,"execute",null);O8([Bv.Override],wx.prototype,"hashCode",null);O8([Bv.Override],wx.prototype,"equals",null);O8([Bv.Override],wx.prototype,"toString",null);tm.LexerMoreAction=wx;(function(n){n.INSTANCE=new n})(wx=tm.LexerMoreAction||(tm.LexerMoreAction={}))});var H6e=G(nm=>{"use strict";d();var N8=nm&&nm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},spt=nm&&nm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(nm,"__esModule",{value:!0});nm.LexerPopModeAction=void 0;var wZ=Su(),jv=ar(),Ax=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(e){e.popMode()}hashCode(){let e=wZ.MurmurHash.initialize();return e=wZ.MurmurHash.update(e,this.actionType),wZ.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"popMode"}};N8([jv.Override],Ax.prototype,"actionType",null);N8([jv.Override],Ax.prototype,"isPositionDependent",null);N8([jv.Override,spt(0,jv.NotNull)],Ax.prototype,"execute",null);N8([jv.Override],Ax.prototype,"hashCode",null);N8([jv.Override],Ax.prototype,"equals",null);N8([jv.Override],Ax.prototype,"toString",null);nm.LexerPopModeAction=Ax;(function(n){n.INSTANCE=new n})(Ax=nm.LexerPopModeAction||(nm.LexerPopModeAction={}))});var V6e=G(E3=>{"use strict";d();var R8=E3&&E3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},opt=E3&&E3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(E3,"__esModule",{value:!0});E3.LexerPushModeAction=void 0;var $I=Su(),qv=ar(),rm=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=$I.MurmurHash.initialize();return e=$I.MurmurHash.update(e,this.actionType),e=$I.MurmurHash.update(e,this._mode),$I.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof rm?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}};R8([qv.Override],rm.prototype,"actionType",null);R8([qv.Override],rm.prototype,"isPositionDependent",null);R8([qv.Override,opt(0,qv.NotNull)],rm.prototype,"execute",null);R8([qv.Override],rm.prototype,"hashCode",null);R8([qv.Override],rm.prototype,"equals",null);R8([qv.Override],rm.prototype,"toString",null);E3.LexerPushModeAction=rm});var W6e=G(im=>{"use strict";d();var L8=im&&im.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},apt=im&&im.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(im,"__esModule",{value:!0});im.LexerSkipAction=void 0;var AZ=Su(),Uv=ar(),Tx=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(e){e.skip()}hashCode(){let e=AZ.MurmurHash.initialize();return e=AZ.MurmurHash.update(e,this.actionType),AZ.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"skip"}};L8([Uv.Override],Tx.prototype,"actionType",null);L8([Uv.Override],Tx.prototype,"isPositionDependent",null);L8([Uv.Override,apt(0,Uv.NotNull)],Tx.prototype,"execute",null);L8([Uv.Override],Tx.prototype,"hashCode",null);L8([Uv.Override],Tx.prototype,"equals",null);L8([Uv.Override],Tx.prototype,"toString",null);im.LexerSkipAction=Tx;(function(n){n.INSTANCE=new n})(Tx=im.LexerSkipAction||(im.LexerSkipAction={}))});var Q6e=G(S3=>{"use strict";d();var k8=S3&&S3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},upt=S3&&S3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(S3,"__esModule",{value:!0});S3.LexerTypeAction=void 0;var zI=Su(),$v=ar(),sm=class{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=zI.MurmurHash.initialize();return e=zI.MurmurHash.update(e,this.actionType),e=zI.MurmurHash.update(e,this._type),zI.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof sm?this._type===e._type:!1}toString(){return`type(${this._type})`}};k8([$v.Override],sm.prototype,"actionType",null);k8([$v.Override],sm.prototype,"isPositionDependent",null);k8([$v.Override,upt(0,$v.NotNull)],sm.prototype,"execute",null);k8([$v.Override],sm.prototype,"hashCode",null);k8([$v.Override],sm.prototype,"equals",null);k8([$v.Override],sm.prototype,"toString",null);S3.LexerTypeAction=sm});var FZ=G(I8=>{"use strict";d();var lpt=I8&&I8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(I8,"__esModule",{value:!0});I8.LoopEndState=void 0;var cpt=H1(),fpt=nc(),dpt=ar(),TZ=class extends cpt.ATNState{get stateType(){return fpt.ATNStateType.LOOP_END}};lpt([dpt.Override],TZ.prototype,"stateType",null);I8.LoopEndState=TZ});var K6e=G(P8=>{"use strict";d();var G6e=P8&&P8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(P8,"__esModule",{value:!0});P8.ConflictInfo=void 0;var Y6e=ar(),hpt=Tp(),M8=class{constructor(e,t){this._conflictedAlts=e,this.exact=t}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof M8?this.isExact===e.isExact&&hpt.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};G6e([Y6e.Override],M8.prototype,"equals",null);G6e([Y6e.Override],M8.prototype,"hashCode",null);P8.ConflictInfo=M8});var Fx=G(B8=>{"use strict";d();var om=B8&&B8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(B8,"__esModule",{value:!0});B8.TerminalNode=void 0;var ppt=df(),am=ar(),mpt=_a(),ch=class{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new ppt.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===mpt.Token.EOF?"<EOF>":this._symbol.text||""}};om([am.Override],ch.prototype,"getChild",null);om([am.Override],ch.prototype,"parent",null);om([am.Override],ch.prototype,"setParent",null);om([am.Override],ch.prototype,"payload",null);om([am.Override],ch.prototype,"sourceInterval",null);om([am.Override],ch.prototype,"childCount",null);om([am.Override],ch.prototype,"accept",null);om([am.Override],ch.prototype,"text",null);om([am.Override],ch.prototype,"toStringTree",null);om([am.Override],ch.prototype,"toString",null);B8.TerminalNode=ch});var q8=G(j8=>{"use strict";d();var xpt=j8&&j8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(j8,"__esModule",{value:!0});j8.ErrorNode=void 0;var gpt=ar(),ypt=Fx(),DZ=class extends ypt.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}};xpt([gpt.Override],DZ.prototype,"accept",null);j8.ErrorNode=DZ});var U8=G(HI=>{"use strict";d();Object.defineProperty(HI,"__esModule",{value:!0});HI.RuleNode=void 0;var J6e=class{};HI.RuleNode=J6e});var Dx=G(C3=>{"use strict";d();var OZ=C3&&C3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},NZ=C3&&C3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(C3,"__esModule",{value:!0});C3.Trees=void 0;var vpt=Fp(),_pt=KE(),bpt=q8(),VI=ar(),X6e=$8(),RZ=fh(),Ept=U8(),LZ=Fx(),Spt=_a(),Z6e=Tp(),pd=class{static toStringTree(e,t){let r;t instanceof X6e.Parser?r=t.ruleNames:r=t;let i=Z6e.escapeWhitespace(this.getNodeText(e,r),!1);if(e.childCount===0)return i;let s="";s+="(",i=Z6e.escapeWhitespace(this.getNodeText(e,r),!1),s+=i,s+=" ";for(let o=0;o<e.childCount;o++)o>0&&(s+=" "),s+=this.toStringTree(e.getChild(o),r);return s+=")",s}static getNodeText(e,t){let r;if(t instanceof X6e.Parser)r=t.ruleNames;else if(t)r=t;else{let i=e.payload;return typeof i.text=="string"?i.text:e.payload.toString()}if(e instanceof Ept.RuleNode){let i=e.ruleContext,s=i.ruleIndex,o=r[s],a=i.altNumber;return a!==vpt.ATN.INVALID_ALT_NUMBER?o+":"+a:o}else{if(e instanceof bpt.ErrorNode)return e.toString();if(e instanceof LZ.TerminalNode)return e.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(e){let t=[];for(let r=0;r<e.childCount;r++)t.push(e.getChild(r));return t}static getAncestors(e){let t=[],r=e.parent;for(;r;)t.unshift(r),r=r.parent;return t}static isAncestorOf(e,t){if(!e||!t||!e.parent)return!1;let r=t.parent;for(;r;){if(e===r)return!0;r=r.parent}return!1}static findAllTokenNodes(e,t){return pd.findAllNodes(e,t,!0)}static findAllRuleNodes(e,t){return pd.findAllNodes(e,t,!1)}static findAllNodes(e,t,r){let i=[];return pd._findAllNodes(e,t,r,i),i}static _findAllNodes(e,t,r,i){r&&e instanceof LZ.TerminalNode?e.symbol.type===t&&i.push(e):!r&&e instanceof RZ.ParserRuleContext&&e.ruleIndex===t&&i.push(e);for(let s=0;s<e.childCount;s++)pd._findAllNodes(e.getChild(s),t,r,i)}static getDescendants(e){let t=[];function r(i){t.push(i);let s=i.childCount;for(let o=0;o<s;o++)r(i.getChild(o))}return r(e),t}static getRootOfSubtreeEnclosingRegion(e,t,r){let i=e.childCount;for(let s=0;s<i;s++){let o=e.getChild(s),a=pd.getRootOfSubtreeEnclosingRegion(o,t,r);if(a)return a}if(e instanceof RZ.ParserRuleContext){let s=e.stop;if(t>=e.start.tokenIndex&&(s==null||r<=s.tokenIndex))return e}}static stripChildrenOutOfRange(e,t,r,i){if(!e)return;let s=e.childCount;for(let o=0;o<s;o++){let a=e.getChild(o),l=a.sourceInterval;if(a instanceof RZ.ParserRuleContext&&(l.b<r||l.a>i)&&pd.isAncestorOf(a,t)){let f=new _pt.CommonToken(Spt.Token.INVALID_TYPE,"...");e.children[o]=new LZ.TerminalNode(f)}}}static findNodeSuchThat(e,t){if(t(e))return e;let r=e.childCount;for(let i=0;i<r;i++){let s=pd.findNodeSuchThat(e.getChild(i),t);if(s!==void 0)return s}}};OZ([NZ(0,VI.NotNull)],pd,"toStringTree",null);OZ([VI.NotNull,NZ(0,VI.NotNull)],pd,"getAncestors",null);OZ([NZ(0,VI.NotNull)],pd,"getRootOfSubtreeEnclosingRegion",null);C3.Trees=pd});var kZ=G(z8=>{"use strict";d();var um=z8&&z8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(z8,"__esModule",{value:!0});z8.RuleContext=void 0;var Cpt=Fp(),wpt=n8(),Apt=U8(),Tpt=df(),lm=ar(),Fpt=Dx(),Dpt=fh(),S0=class extends Apt.RuleNode{constructor(e,t){super();this._parent=e,this.invokingState=t??-1}static getChildContext(e,t){return new S0(e,t)}depth(){let e=0,t=this;for(;t;)t=t._parent,e++;return e}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return Tpt.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this}get text(){if(this.childCount===0)return"";let e="";for(let t=0;t<this.childCount;t++)e+=this.getChild(t).text;return e.toString()}get ruleIndex(){return-1}get altNumber(){return Cpt.ATN.INVALID_ALT_NUMBER}set altNumber(e){}getChild(e){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(e){return Fpt.Trees.toStringTree(this,e)}toString(e,t){let r=e instanceof wpt.Recognizer?e.ruleNames:e;t=t||Dpt.ParserRuleContext.emptyContext();let i="",s=this;for(i+="[";s&&s!==t;){if(!r)s.isEmpty||(i+=s.invokingState);else{let o=s.ruleIndex;i+=o>=0&&o<r.length?r[o]:o.toString()}s._parent&&(r||!s._parent.isEmpty)&&(i+=" "),s=s._parent}return i+="]",i.toString()}};um([lm.Override],S0.prototype,"sourceInterval",null);um([lm.Override],S0.prototype,"ruleContext",null);um([lm.Override],S0.prototype,"parent",null);um([lm.Override],S0.prototype,"setParent",null);um([lm.Override],S0.prototype,"payload",null);um([lm.Override],S0.prototype,"text",null);um([lm.Override],S0.prototype,"getChild",null);um([lm.Override],S0.prototype,"childCount",null);um([lm.Override],S0.prototype,"accept",null);um([lm.Override],S0.prototype,"toStringTree",null);z8.RuleContext=S0});var fh=G(H8=>{"use strict";d();var IZ=H8&&H8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(H8,"__esModule",{value:!0});H8.ParserRuleContext=void 0;var MZ=q8(),PZ=df(),BZ=ar(),ebe=kZ(),WI=Fx(),cm=class extends ebe.RuleContext{constructor(e,t){t==null?super():super(e,t)}static emptyContext(){return cm.EMPTY}copyFrom(e){if(this._parent=e._parent,this.invokingState=e.invokingState,this._start=e._start,this._stop=e._stop,e.children){this.children=[];for(let t of e.children)t instanceof MZ.ErrorNode&&this.addChild(t)}}enterRule(e){}exitRule(e){}addAnyChild(e){return this.children?this.children.push(e):this.children=[e],e}addChild(e){let t;if(e instanceof WI.TerminalNode){e.setParent(this),this.addAnyChild(e);return}else if(e instanceof ebe.RuleContext){this.addAnyChild(e);return}else return e=new WI.TerminalNode(e),this.addAnyChild(e),e.setParent(this),e}addErrorNode(e){if(e instanceof MZ.ErrorNode){let t=e;return t.setParent(this),this.addAnyChild(t)}else{let t=e,r=new MZ.ErrorNode(t);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let e=super.parent;if(e===void 0||e instanceof cm)return e;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(e,t){if(!this.children||e<0||e>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(t==null)return this.children[e];let r=this.tryGetChild(e,t);if(r===void 0)throw new Error("The specified node does not exist");return r}tryGetChild(e,t){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof t&&(r++,r===e))return i}getToken(e,t){let r=this.tryGetToken(e,t);if(r===void 0)throw new Error("The specified token does not exist");return r}tryGetToken(e,t){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof WI.TerminalNode&&i.symbol.type===e&&(r++,r===t))return i}getTokens(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof WI.TerminalNode&&r.symbol.type===e&&t.push(r);return t}get ruleContext(){return this}getRuleContext(e,t){return this.getChild(e,t)}tryGetRuleContext(e,t){return this.tryGetChild(e,t)}getRuleContexts(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof e&&t.push(r);return t}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?PZ.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):PZ.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):PZ.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(e){let t=e.getRuleInvocationStack(this).reverse();return"ParserRuleContext"+t+"{start="+this._start+", stop="+this._stop+"}"}};cm.EMPTY=new cm;IZ([BZ.Override],cm.prototype,"parent",null);IZ([BZ.Override],cm.prototype,"childCount",null);IZ([BZ.Override],cm.prototype,"sourceInterval",null);H8.ParserRuleContext=cm});var sbe=G(Ox=>{"use strict";d();var tbe=Ox&&Ox.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.PredictionMode=void 0;var Opt=_v(),QI=Su(),nbe=ar(),rbe=d8(),ibe;(function(n){n[n.SLL=0]="SLL",n[n.LL=1]="LL",n[n.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(ibe=Ox.PredictionMode||(Ox.PredictionMode={}));(function(n){class e extends Opt.Array2DHashMap{constructor(){super(t.INSTANCE)}}class t{AltAndContextConfigEqualityComparator(){}hashCode(o){let a=QI.MurmurHash.initialize(7);return a=QI.MurmurHash.update(a,o.state.stateNumber),a=QI.MurmurHash.update(a,o.context),a=QI.MurmurHash.finish(a,2),a}equals(o,a){return o===a?!0:o==null||a==null?!1:o.state.stateNumber===a.state.stateNumber&&o.context.equals(a.context)}}t.INSTANCE=new t,tbe([nbe.Override],t.prototype,"hashCode",null),tbe([nbe.Override],t.prototype,"equals",null);function r(s){for(let o of s)if(o.state instanceof rbe.RuleStopState)return!0;return!1}n.hasConfigInRuleStopState=r;function i(s){for(let o of s)if(!(o.state instanceof rbe.RuleStopState))return!1;return!0}n.allConfigsInRuleStopStates=i})(ibe=Ox.PredictionMode||(Ox.PredictionMode={}))});var qZ=G(w3=>{"use strict";d();var Npt=w3&&w3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Rpt=w3&&w3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(w3,"__esModule",{value:!0});w3.SimulatorState=void 0;var Lpt=ar(),kpt=fh(),jZ=class{constructor(e,t,r,i){this.outerContext=e??kpt.ParserRuleContext.emptyContext(),this.s0=t,this.useContext=r,this.remainingOuterContext=i}};jZ=Npt([Rpt(1,Lpt.NotNull)],jZ);w3.SimulatorState=jZ});var Q8=G(T3=>{"use strict";d();var js=T3&&T3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},mi=T3&&T3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(T3,"__esModule",{value:!0});T3.ParserATNSimulator=void 0;var obe=MX(),Ipt=_Z(),Mpt=dx(),Ppt=eI(),fm=Fp(),abe=ZA(),Nx=t8(),V8=rT(),Bpt=nc(),jpt=bZ(),bT=px(),qpt=K6e(),Upt=Qy(),UZ=tT(),$pt=rI(),GI=df(),YI=ux(),Hr=ar(),zpt=FI(),Hpt=ET(),Vpt=Ap(),ube=fh(),rc=sh(),$Z=fI(),W8=sbe(),zv=d8(),lbe=OI(),A3=yv(),Wpt=AI(),dh=qZ(),KI=_a(),cbe=yx(),du=lf(),Qpt=65535,fbe=-(1<<31>>>0),is=class Ns extends V8.ATNSimulator{constructor(e,t){super(e);this.predictionMode=W8.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=t}getPredictionMode(){return this.predictionMode}setPredictionMode(e){this.predictionMode=e}reset(){}adaptivePredict(e,t,r,i){i===void 0&&(i=!1);let s=this.atn.decisionToDFA[t];if(du(s!=null),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let f=e.LA(1);if(f>=0&&f<=65535){let p=(t<<16>>>0)+f,v=this.atn.LL1Table.get(p);if(v!=null)return v}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==W8.PredictionMode.SLL&&r!=null&&!this.atn.decisionToState[t].sll,r==null&&(r=ube.ParserRuleContext.emptyContext());let o;s.isEmpty||(o=this.getStartState(s,e,r,i)),o==null&&(r==null&&(r=ube.ParserRuleContext.emptyContext()),Ns.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+r.toString(this._parser)),o=this.computeStartState(s,r,i));let a=e.mark(),l=e.index;try{let f=this.execDFA(s,e,l,o);return Ns.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),f}finally{this.dfa=void 0,e.seek(l),e.release(a)}}getStartState(e,t,r,i){if(!i)if(e.isPrecedenceDfa){let a=e.getPrecedenceStartState(this._parser.precedence,!1);return a==null?void 0:new dh.SimulatorState(r,a,!1,r)}else return e.s0==null?void 0:new dh.SimulatorState(r,e.s0,!1,r);if(!this.enable_global_context_dfa)return;let s=r;du(r!=null);let o;for(e.isPrecedenceDfa?o=e.getPrecedenceStartState(this._parser.precedence,!0):o=e.s0full;s!=null&&o!=null&&o.isContextSensitive;)s=this.skipTailCalls(s),o=o.getContextTarget(this.getReturnState(s)),s.isEmpty?du(o==null||!o.isContextSensitive):s=s.parent;if(o!=null)return new dh.SimulatorState(r,o,i,s)}execDFA(e,t,r,i){let s=i.outerContext;Ns.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+s.toString(this._parser)),Ns.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let o=i.s0,a=t.LA(1),l=i.remainingOuterContext;for(;;){if(Ns.dfa_debug&&console.log("DFA state "+o.stateNumber+" LA(1)=="+this.getLookaheadName(t)),i.useContext)for(;o.isContextSymbol(a);){let v;if(l!=null&&(l=this.skipTailCalls(l),v=o.getContextTarget(this.getReturnState(l))),v==null){let b=new dh.SimulatorState(i.outerContext,o,i.useContext,l);return this.execATN(e,t,r,b)}du(l!=null),l=l.parent,o=v}if(this.isAcceptState(o,i.useContext)){o.predicates!=null?Ns.dfa_debug&&console.log("accept "+o):Ns.dfa_debug&&console.log("accept; predict "+o.prediction+" in state "+o.stateNumber);break}du(!this.isAcceptState(o,i.useContext));let p=this.getExistingTargetState(o,a);if(p==null){Ns.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a));let v;if(Ns.dfa_debug){let F=GI.Interval.of(r,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(F)+" at DFA state "+o.stateNumber)}let b=new dh.SimulatorState(s,o,i.useContext,l);return v=this.execATN(e,t,r,b),Ns.dfa_debug&&console.log("back from DFA update, alt="+v+`, dfa=
`+e.toString(this._parser.vocabulary,this._parser.ruleNames)),Ns.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+v),v}else if(p===V8.ATNSimulator.ERROR){let v=new dh.SimulatorState(s,o,i.useContext,l);return this.handleNoViableAlt(t,r,v)}o=p,!this.isAcceptState(o,i.useContext)&&a!==YI.IntStream.EOF&&(t.consume(),a=t.LA(1))}if(!i.useContext&&o.configs.conflictInfo!=null&&e.atnStartState instanceof Upt.DecisionState&&!(!this.userWantsCtxSensitive||!o.configs.dipsIntoOuterContext&&o.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&t.index===r)){du(!i.useContext);let p,v=o.predicates;if(v!=null){let b=t.index;if(b!==r&&t.seek(r),p=this.evalSemanticContext(v,s,!0),p.cardinality()===1)return p.nextSetBit(0);b!==r&&t.seek(b)}if(this.reportAmbiguities){let b=new dh.SimulatorState(s,o,i.useContext,l);this.reportAttemptingFullContext(e,p,b,r,t.index)}return t.seek(r),this.adaptivePredict(t,e.decision,s,!0)}let f=o.predicates;if(f!=null){let p=t.index;r!==p&&t.seek(r);let v=this.evalSemanticContext(f,s,this.reportAmbiguities&&this.predictionMode===W8.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(v.cardinality()){case 0:throw this.noViableAlt(t,s,o.configs,r);case 1:return v.nextSetBit(0);default:return r!==p&&t.seek(p),this.reportAmbiguity(e,o,r,p,o.configs.isExactConflict,v,o.configs),v.nextSetBit(0)}}return Ns.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+o.prediction),o.prediction}isAcceptState(e,t){return e.isAcceptState?e.configs.conflictingAlts==null?!0:t&&this.predictionMode===W8.PredictionMode.LL_EXACT_AMBIG_DETECTION?e.configs.isExactConflict:!0:!1}execATN(e,t,r,i){Ns.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t));let s=i.outerContext,o=i.useContext,a=t.LA(1),l=i,f=new $Z.PredictionContextCache;for(;;){let p=this.computeReachSet(e,l,a,f);if(p==null)return this.setDFAEdge(l.s0,t.LA(1),V8.ATNSimulator.ERROR),this.handleNoViableAlt(t,r,l);let v=p.s0;if(du(v.isAcceptState||v.prediction===fm.ATN.INVALID_ALT_NUMBER),du(v.isAcceptState||v.configs.conflictInfo==null),this.isAcceptState(v,o)){let b=v.configs.conflictingAlts,F=b==null?v.prediction:fm.ATN.INVALID_ALT_NUMBER;if(F!==fm.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&t.index===r&&!e.isPrecedenceDfa&&p.outerContext===p.remainingOuterContext&&e.decision>=0&&!v.configs.hasSemanticContext&&a>=0&&a<=Qpt){let M=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(M,F)}o&&this.always_try_local_context&&this.reportContextSensitivity(e,F,p,r,t.index)}F=v.prediction;let D=b!=null&&this.userWantsCtxSensitive;if(D&&(D=!o&&(v.configs.dipsIntoOuterContext||!v.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||t.index!==r)),v.configs.hasSemanticContext){let M=v.predicates;if(M!=null){let q=t.index;switch(q!==r&&t.seek(r),b=this.evalSemanticContext(M,s,D||this.reportAmbiguities),b.cardinality()){case 0:throw this.noViableAlt(t,s,v.configs,r);case 1:return b.nextSetBit(0);default:break}q!==r&&t.seek(q)}}if(D){du(!o),du(this.isAcceptState(v,!1)),Ns.debug&&console.log("RETRY with outerContext="+s);let M=this.computeStartState(e,s,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,b,p,r,t.index),t.seek(r),this.execATN(e,t,r,M)}else return b!=null&&(this.reportAmbiguities&&b.cardinality()>1&&this.reportAmbiguity(e,v,r,t.index,v.configs.isExactConflict,b,v.configs),F=b.nextSetBit(0)),F}l=p,a!==YI.IntStream.EOF&&(t.consume(),a=t.LA(1))}}handleNoViableAlt(e,t,r){if(r.s0!=null){let i=new bT.BitSet,s=0;for(let o of r.s0.configs)(o.reachesIntoOuterContext||o.state instanceof zv.RuleStopState)&&(i.set(o.alt),s=Math.max(s,o.alt));switch(i.cardinality()){case 0:break;case 1:return i.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return i.nextSetBit(0);let o=new Nx.ATNConfigSet;for(let l of r.s0.configs)(l.reachesIntoOuterContext||l.state instanceof zv.RuleStopState)&&o.add(l);let a=this.getPredsForAmbigAlts(i,o,s);if(a!=null){let l=this.getPredicatePredictions(i,a);if(l!=null){let f=e.index;try{e.seek(t);let p=this.evalSemanticContext(l,r.outerContext,!1);if(!p.isEmpty)return p.nextSetBit(0)}finally{e.seek(f)}}}return i.nextSetBit(0)}}throw this.noViableAlt(e,r.outerContext,r.s0.configs,t)}computeReachSet(e,t,r,i){let s=t.useContext,o=t.remainingOuterContext,a=t.s0;if(s)for(;a.isContextSymbol(r);){let p;if(o!=null&&(o=this.skipTailCalls(o),p=a.getContextTarget(this.getReturnState(o))),p==null)break;du(o!=null),o=o.parent,a=p}if(du(!this.isAcceptState(a,s)),this.isAcceptState(a,s))return new dh.SimulatorState(t.outerContext,a,s,o);let l=a,f=this.getExistingTargetState(l,r);if(f==null){let p=this.computeTargetState(e,l,o,r,s,i);f=p[0],o=p[1]}if(f!==V8.ATNSimulator.ERROR)return du(!s||!f.configs.dipsIntoOuterContext),new dh.SimulatorState(t.outerContext,f,s,o)}getExistingTargetState(e,t){return e.getTarget(t)}computeTargetState(e,t,r,i,s,o){let a=t.configs.toArray(),l,f=new Nx.ATNConfigSet,p;do{let b=!s||r!=null;b||(f.isOutermostConfigSet=!0);let F=new Nx.ATNConfigSet,D;for(let N of a){if(Ns.debug&&console.log("testing "+this.getTokenName(i)+" at "+N.toString()),N.state instanceof zv.RuleStopState){du(N.context.isEmpty),(s&&!N.reachesIntoOuterContext||i===YI.IntStream.EOF)&&(D==null&&(D=[]),D.push(N));continue}let B=N.state.numberOfOptimizedTransitions;for(let I=0;I<B;I++){let z=N.state.getOptimizedTransition(I),ie=this.getReachableTarget(N,z,i);ie!=null&&F.add(N.transform(ie,!1),o)}}if(this.optimize_unique_closure&&D==null&&i!==KI.Token.EOF&&F.uniqueAlt!==fm.ATN.INVALID_ALT_NUMBER){F.isOutermostConfigSet=f.isOutermostConfigSet,f=F;break}let M=!1,q=i===KI.Token.EOF;if(this.closure(F,f,M,b,o,q),p=f.dipsIntoOuterContext,i===YI.IntStream.EOF&&(f=this.removeAllConfigsNotInRuleStopState(f,o)),D!=null&&(!s||!W8.PredictionMode.hasConfigInRuleStopState(f))){du(D.length>0);for(let N of D)f.add(N,o)}if(s&&p){f.clear(),r=r,r=this.skipTailCalls(r);let N=this.getReturnState(r);if(l==null&&(l=new $pt.IntegerList),r.isEmpty?r=void 0:r=r.parent,l.add(N),N!==rc.PredictionContext.EMPTY_FULL_STATE_KEY)for(let B=0;B<a.length;B++)a[B]=a[B].appendContext(N,o)}}while(s&&p);return f.isEmpty?(this.setDFAEdge(t,i,V8.ATNSimulator.ERROR),[V8.ATNSimulator.ERROR,r]):[this.addDFAEdge(e,t,i,l,f,o),r]}removeAllConfigsNotInRuleStopState(e,t){if(W8.PredictionMode.allConfigsInRuleStopStates(e))return e;let r=new Nx.ATNConfigSet;for(let i of e)i.state instanceof zv.RuleStopState&&r.add(i,t);return r}computeStartState(e,t,r){let i=e.isPrecedenceDfa?e.getPrecedenceStartState(this._parser.precedence,r):r?e.s0full:e.s0;if(i!=null){if(!r)return new dh.SimulatorState(t,i,r,t);i.setContextSensitive(this.atn)}let s=e.decision,o=e.atnStartState,a=0,l=t,f=r?rc.PredictionContext.EMPTY_FULL:rc.PredictionContext.EMPTY_LOCAL,p=new $Z.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;l!=null;)l.isEmpty?(a=rc.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),f=f.appendSingleContext(a,p),l=l.parent);for(;i!=null&&i.isContextSensitive&&l!=null;){let b;if(l=this.skipTailCalls(l),l.isEmpty?(b=i.getContextTarget(rc.PredictionContext.EMPTY_FULL_STATE_KEY),a=rc.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),b=i.getContextTarget(a),f=f.appendSingleContext(a,p),l=l.parent),b==null)break;i=b}}if(i!=null&&!i.isContextSensitive)return new dh.SimulatorState(t,i,r,l);let v=new Nx.ATNConfigSet;for(;;){let b=new Nx.ATNConfigSet,F=o.numberOfTransitions;for(let I=0;I<F;I++){let z=o.transition(I).target;b.add(abe.ATNConfig.create(z,I+1,f))}let D=l!=null;D||(v.isOutermostConfigSet=!0);let M=!0;this.closure(b,v,M,D,p,!1);let q=v.dipsIntoOuterContext,N;if(r&&!this.enable_global_context_dfa){i=this.addDFAState(e,v,p);break}else i==null?e.isPrecedenceDfa?(v=this.applyPrecedenceFilter(v,t,p),N=this.addDFAState(e,v,p),e.setPrecedenceStartState(this._parser.precedence,r,N)):(N=this.addDFAState(e,v,p),r?e.s0full?N=e.s0full:e.s0full=N:e.s0?N=e.s0:e.s0=N):(e.isPrecedenceDfa&&(v=this.applyPrecedenceFilter(v,t,p)),N=this.addDFAState(e,v,p),i.setContextTarget(a,N));if(i=N,!r||!q)break;N.setContextSensitive(this.atn),l=l,v.clear(),l=this.skipTailCalls(l);let B=this.getReturnState(l);l.isEmpty?l=void 0:l=l.parent,B!==rc.PredictionContext.EMPTY_FULL_STATE_KEY&&(f=f.appendSingleContext(B,p)),a=B}return new dh.SimulatorState(t,i,r,l)}applyPrecedenceFilter(e,t,r){let i=new Map,s=new Nx.ATNConfigSet;for(let o of e){if(o.alt!==1)continue;let a=o.semanticContext.evalPrecedence(this._parser,t);a!=null&&(i.set(o.state.stateNumber,o.context),a!==o.semanticContext?s.add(o.transform(o.state,!1,a),r):s.add(o,r))}for(let o of e)if(o.alt!==1){if(!o.isPrecedenceFilterSuppressed){let a=i.get(o.state.stateNumber);if(a!=null&&a.equals(o.context))continue}s.add(o,r)}return s}getReachableTarget(e,t,r){if(t.matches(r,0,this.atn.maxTokenType))return t.target}predicateDFAState(e,t,r){let i=this.getConflictingAltsFromConfigSet(t);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");Ns.debug&&console.log("predicateDFAState "+e);let s=this.getPredsForAmbigAlts(i,t,r),o;return s!=null&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,t,r){let i=new Array(r+1),s=i.length;for(let l of t)e.get(l.alt)&&(i[l.alt]=A3.SemanticContext.or(i[l.alt],l.semanticContext));let o=0;for(let l=0;l<s;l++)i[l]==null?i[l]=A3.SemanticContext.NONE:i[l]!==A3.SemanticContext.NONE&&o++;let a=i;return o===0&&(a=void 0),Ns.debug&&console.log("getPredsForAmbigAlts result "+(a?Ppt.Arrays.toString(a):"undefined")),a}getPredicatePredictions(e,t){let r=[],i=!1;for(let s=1;s<t.length;s++){let o=t[s];du(o!=null),e!=null&&e.get(s)&&o===A3.SemanticContext.NONE?r.push(new UZ.DFAState.PredPrediction(o,s)):o!==A3.SemanticContext.NONE&&(i=!0,r.push(new UZ.DFAState.PredPrediction(o,s)))}if(!!i)return r}evalSemanticContext(e,t,r){let i=new bT.BitSet;for(let s of e){if(s.pred===A3.SemanticContext.NONE){if(i.set(s.alt),!r)break;continue}let o=this.evalSemanticContextImpl(s.pred,t,s.alt);if((Ns.debug||Ns.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((Ns.debug||Ns.dfa_debug)&&console.log("PREDICT "+s.alt),i.set(s.alt),!r))break}return i}evalSemanticContextImpl(e,t,r){return e.eval(this._parser,t)}closure(e,t,r,i,s,o){s==null&&(s=$Z.PredictionContextCache.UNCACHED);let a=e,l=new Mpt.Array2DHashSet(Vpt.ObjectEqualityComparator.INSTANCE);for(;a.size>0;){let f=new Nx.ATNConfigSet;for(let p of a)this.closureImpl(p,t,f,l,r,i,s,0,o);a=f}}closureImpl(e,t,r,i,s,o,a,l,f){if(Ns.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof zv.RuleStopState)if(e.context.isEmpty)if(o)Ns.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===rc.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,rc.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&rc.PredictionContext.isEmptyLocal(e.context)&&t.add(e,a);else{t.add(e,a);return}else{let v=e.context.hasEmpty,b=e.context.size-(v?1:0);for(let F=0;F<b;F++){let D=e.context.getParent(F),M=this.atn.states[e.context.getReturnState(F)],q=abe.ATNConfig.create(M,e.alt,D,e.semanticContext);q.outerContextDepth=e.outerContextDepth,q.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,du(l>fbe),this.closureImpl(q,t,r,i,s,o,a,l-1,f)}if(!v||!o)return;e=e.transform(e.state,!1,rc.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(t.add(e,a),Ns.debug&&console.log("added config "+t));for(let v=0;v<p.numberOfOptimizedTransitions;v++){if(v===0&&p.stateType===Bpt.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let M=p,q=!0;for(let N=0;N<e.context.size;N++)if(!M.precedenceLoopbackStates.get(e.context.getReturnState(N))){q=!1;break}if(q)continue}let b=p.getOptimizedTransition(v),F=!(b instanceof Ipt.ActionTransition)&&s,D=this.getEpsilonTarget(e,b,F,l===0,a,f);if(D!=null){if(b instanceof lbe.RuleTransition&&r!=null&&!s){r.add(D,a);continue}let M=l;if(e.state instanceof zv.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&b.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(D.isPrecedenceFilterSuppressed=!0),D.outerContextDepth=D.outerContextDepth+1,!i.add(D))continue;du(M>fbe),M--,Ns.debug&&console.log("dips into outer ctx: "+D)}else if(b instanceof lbe.RuleTransition)this.optimize_tail_calls&&b.optimizedTailCall&&(!this.tail_call_preserves_sll||!rc.PredictionContext.isEmptyLocal(e.context))?(du(D.context===e.context),M===0&&(M--,!this.tail_call_preserves_sll&&rc.PredictionContext.isEmptyLocal(e.context)&&(D.outerContextDepth=D.outerContextDepth+1))):M>=0&&M++;else if(!b.isEpsilon&&!i.add(D))continue;this.closureImpl(D,t,r,i,F,o,a,M,f)}}}getRuleName(e){return this._parser!=null&&e>=0?this._parser.ruleNames[e]:"<rule "+e+">"}getEpsilonTarget(e,t,r,i,s,o){switch(t.serializationType){case 3:return this.ruleTransition(e,t,s);case 10:return this.precedenceTransition(e,t,r,i);case 4:return this.predTransition(e,t,r,i);case 6:return this.actionTransition(e,t);case 1:return e.transform(t.target,!1);case 5:case 2:case 7:return o&&t.matches(KI.Token.EOF,0,1)?e.transform(t.target,!1):void 0;default:return}}actionTransition(e,t){return Ns.debug&&console.log("ACTION edge "+t.ruleIndex+":"+t.actionIndex),e.transform(t.target,!1)}precedenceTransition(e,t,r,i){Ns.debug&&(console.log("PRED (collectPredicates="+r+") "+t.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&i){let o=A3.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return Ns.debug&&console.log("config from pred transition="+s),s}predTransition(e,t,r,i){Ns.debug&&(console.log("PRED (collectPredicates="+r+") "+t.ruleIndex+":"+t.predIndex+", ctx dependent="+t.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&(!t.isCtxDependent||t.isCtxDependent&&i)){let o=A3.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return Ns.debug&&console.log("config from pred transition="+s),s}ruleTransition(e,t,r){Ns.debug&&console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+e.context);let i=t.followState,s;return this.optimize_tail_calls&&t.optimizedTailCall&&(!this.tail_call_preserves_sll||!rc.PredictionContext.isEmptyLocal(e.context))?s=e.context:r!=null?s=r.getChild(e.context,i.stateNumber):s=e.context.getChild(i.stateNumber),e.transform(t.target,!1,s)}isConflicted(e,t){if(e.uniqueAlt!==fm.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let r=e.toArray();r.sort(Ns.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,s=new bT.BitSet,o=r[0].alt;s.set(o);let a=r[0].state.nonStopStateNumber;for(let b of r){let F=b.state.nonStopStateNumber;if(F!==a){if(b.alt!==o)return;a=F}}let l;if(i){a=r[0].state.nonStopStateNumber,l=new bT.BitSet;let b=o;for(let D of r){if(D.state.nonStopStateNumber!==a)break;let M=D.alt;l.set(M),b=M}a=r[0].state.nonStopStateNumber;let F=o;for(let D of r){let M=D.state.nonStopStateNumber,q=D.alt;if(M!==a){if(F!==b){i=!1;break}a=M,F=o}else if(q!==F){if(q!==l.nextSetBit(F+1)){i=!1;break}F=q}}}a=r[0].state.nonStopStateNumber;let f=0,p=0,v=r[0].context;for(let b=1;b<r.length;b++){let F=r[b];if(F.alt!==o||F.state.nonStopStateNumber!==a)break;p=b,v=t.join(v,r[b].context)}for(let b=p+1;b<r.length;b++){let F=r[b],D=F.state;if(s.set(F.alt),D.nonStopStateNumber!==a){a=D.nonStopStateNumber,f=b,p=b,v=F.context;for(let I=f+1;I<r.length;I++){let z=r[I];if(z.alt!==o||z.state.nonStopStateNumber!==a)break;p=I,v=t.join(v,z.context)}b=p;continue}let M=F.context,q=F.alt,N=b;for(let I=N+1;I<r.length;I++){let z=r[I];if(z.alt!==q||z.state.nonStopStateNumber!==a)break;N=I,M=t.join(M,z.context)}b=N;let B=t.join(v,M);if(!v.equals(B))return;i=i&&v.equals(M)}return new qpt.ConflictInfo(s,i)}getConflictingAltsFromConfigSet(e){let t=e.conflictingAlts;return t==null&&e.uniqueAlt!==fm.ATN.INVALID_ALT_NUMBER&&(t=new bT.BitSet,t.set(e.uniqueAlt)),t}getTokenName(e){if(e===KI.Token.EOF)return"EOF";let r=(this._parser!=null?this._parser.vocabulary:cbe.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(e);return r===String(e)?r:r+"<"+e+">"}getLookaheadName(e){return this.getTokenName(e.LA(1))}dumpDeadEndConfigs(e){console.log("dead end configs: ");let t=e.deadEndConfigs;if(!!t)for(let r of t){let i="no edges";if(r.state.numberOfOptimizedTransitions>0){let s=r.state.getOptimizedTransition(0);s instanceof jpt.AtomTransition?i="Atom "+this.getTokenName(s._label):s instanceof Wpt.SetTransition&&(i=(s instanceof zpt.NotSetTransition?"~":"")+"Set "+s.set.toString())}console.log(r.toString(this._parser,!0)+":"+i)}}noViableAlt(e,t,r,i){return new Hpt.NoViableAltException(this._parser,e,e.get(i),e.LT(1),r,t)}getUniqueAlt(e){let t=fm.ATN.INVALID_ALT_NUMBER;for(let r of e)if(t===fm.ATN.INVALID_ALT_NUMBER)t=r.alt;else if(r.alt!==t)return fm.ATN.INVALID_ALT_NUMBER;return t}configWithAltAtStopState(e,t){for(let r of e)if(r.alt===t&&r.state instanceof zv.RuleStopState)return!0;return!1}addDFAEdge(e,t,r,i,s,o){du(i==null||i.isEmpty||e.isContextSensitive);let a=t,l=this.addDFAState(e,s,o);if(i!=null)for(let f of i.toArray()){if(f===rc.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(r);let p=a.getContextTarget(f);if(p!=null){a=p;continue}p=this.addDFAContextState(e,a.configs,f,o),du(f!==rc.PredictionContext.EMPTY_FULL_STATE_KEY||p.configs.isOutermostConfigSet),a.setContextTarget(f,p),a=p}return Ns.debug&&console.log("EDGE "+a+" -> "+l+" upon "+this.getTokenName(r)),this.setDFAEdge(a,r,l),Ns.debug&&console.log(`DFA=
`+e.toString(this._parser!=null?this._parser.vocabulary:cbe.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),l}setDFAEdge(e,t,r){e!=null&&e.setTarget(t,r)}addDFAContextState(e,t,r,i){if(r!==rc.PredictionContext.EMPTY_FULL_STATE_KEY){let s=new Nx.ATNConfigSet;for(let o of t)s.add(o.appendContext(r,i));return this.addDFAState(e,s,i)}else return du(!t.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),t=t.clone(!0),t.isOutermostConfigSet=!0,this.addDFAState(e,t,i)}addDFAState(e,t,r){let i=this.enable_global_context_dfa||!t.isOutermostConfigSet;if(i){t.isReadOnly||t.optimizeConfigs(this);let f=this.createDFAState(e,t),p=e.states.get(f);if(p!=null)return p}t.isReadOnly||t.conflictInfo==null&&(t.conflictInfo=this.isConflicted(t,r));let s=this.createDFAState(e,t.clone(!0)),o=this.atn.getDecisionState(e.decision),a=this.getUniqueAlt(t);if(a!==fm.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new obe.AcceptStateInfo(a);else if(t.conflictingAlts!=null){let f=t.conflictingAlts;f&&(s.acceptStateInfo=new obe.AcceptStateInfo(f.nextSetBit(0)))}if(s.isAcceptState&&t.hasSemanticContext&&this.predicateDFAState(s,t,o.numberOfTransitions),!i)return s;let l=e.addState(s);return Ns.debug&&l===s&&console.log("adding new DFA state: "+s),l}createDFAState(e,t){return new UZ.DFAState(t)}reportAttemptingFullContext(e,t,r,i,s){if(Ns.debug||Ns.retry_debug){let o=GI.Interval.of(i,s);console.log("reportAttemptingFullContext decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportAttemptingFullContext&&o.reportAttemptingFullContext(this._parser,e,i,s,t,r)}}reportContextSensitivity(e,t,r,i,s){if(Ns.debug||Ns.retry_debug){let o=GI.Interval.of(i,s);console.log("reportContextSensitivity decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportContextSensitivity&&o.reportContextSensitivity(this._parser,e,i,s,t,r)}}reportAmbiguity(e,t,r,i,s,o,a){if(Ns.debug||Ns.retry_debug){let l=GI.Interval.of(r,i);console.log("reportAmbiguity "+o+":"+a+", input="+this._parser.inputStream.getText(l))}if(this._parser!=null){let l=this._parser.getErrorListenerDispatch();l.reportAmbiguity&&l.reportAmbiguity(this._parser,e,r,i,s,o,a)}}getReturnState(e){return e.isEmpty?rc.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[e.invokingState].transition(0).followState.stateNumber}skipTailCalls(e){if(!this.optimize_tail_calls)return e;for(;!e.isEmpty;){let t=this.atn.states[e.invokingState];if(du(t.numberOfTransitions===1&&t.transition(0).serializationType===3),!t.transition(0).tailCall)break;e=e.parent}return e}get parser(){return this._parser}};is.debug=!1;is.dfa_debug=!1;is.retry_debug=!1;is.STATE_ALT_SORT_COMPARATOR=(n,e)=>{let t=n.state.nonStopStateNumber-e.state.nonStopStateNumber;return t!==0||(t=n.alt-e.alt,t!==0)?t:0};js([Hr.NotNull],is.prototype,"predictionMode",void 0);js([Hr.NotNull],is.prototype,"getPredictionMode",null);js([mi(0,Hr.NotNull)],is.prototype,"setPredictionMode",null);js([Hr.Override],is.prototype,"reset",null);js([mi(0,Hr.NotNull)],is.prototype,"adaptivePredict",null);js([mi(0,Hr.NotNull),mi(1,Hr.NotNull),mi(2,Hr.NotNull)],is.prototype,"getStartState",null);js([mi(0,Hr.NotNull),mi(1,Hr.NotNull),mi(3,Hr.NotNull)],is.prototype,"execDFA",null);js([mi(0,Hr.NotNull),mi(1,Hr.NotNull),mi(3,Hr.NotNull)],is.prototype,"execATN",null);js([mi(0,Hr.NotNull),mi(2,Hr.NotNull)],is.prototype,"handleNoViableAlt",null);js([mi(0,Hr.NotNull)],is.prototype,"getExistingTargetState",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"computeTargetState",null);js([Hr.NotNull,mi(0,Hr.NotNull)],is.prototype,"removeAllConfigsNotInRuleStopState",null);js([Hr.NotNull],is.prototype,"computeStartState",null);js([Hr.NotNull,mi(0,Hr.NotNull)],is.prototype,"applyPrecedenceFilter",null);js([mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"getReachableTarget",null);js([mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"getPredsForAmbigAlts",null);js([mi(0,Hr.NotNull)],is.prototype,"evalSemanticContext",null);js([mi(0,Hr.NotNull)],is.prototype,"evalSemanticContextImpl",null);js([mi(1,Hr.NotNull),mi(4,Hr.Nullable)],is.prototype,"closure",null);js([mi(0,Hr.NotNull),mi(1,Hr.NotNull),mi(2,Hr.Nullable),mi(3,Hr.NotNull),mi(6,Hr.NotNull)],is.prototype,"closureImpl",null);js([Hr.NotNull],is.prototype,"getRuleName",null);js([mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"getEpsilonTarget",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"actionTransition",null);js([Hr.Nullable,mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"precedenceTransition",null);js([Hr.Nullable,mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"predTransition",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull),mi(2,Hr.Nullable)],is.prototype,"ruleTransition",null);js([mi(0,Hr.NotNull)],is.prototype,"isConflicted",null);js([Hr.NotNull],is.prototype,"getTokenName",null);js([mi(0,Hr.NotNull)],is.prototype,"dumpDeadEndConfigs",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull),mi(2,Hr.NotNull)],is.prototype,"noViableAlt",null);js([mi(0,Hr.NotNull)],is.prototype,"getUniqueAlt",null);js([mi(0,Hr.NotNull)],is.prototype,"configWithAltAtStopState",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull),mi(4,Hr.NotNull)],is.prototype,"addDFAEdge",null);js([mi(0,Hr.Nullable),mi(2,Hr.Nullable)],is.prototype,"setDFAEdge",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"addDFAContextState",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"addDFAState",null);js([Hr.NotNull,mi(0,Hr.NotNull),mi(1,Hr.NotNull)],is.prototype,"createDFAState",null);js([mi(0,Hr.NotNull),mi(2,Hr.NotNull)],is.prototype,"reportAttemptingFullContext",null);js([mi(0,Hr.NotNull),mi(2,Hr.NotNull)],is.prototype,"reportContextSensitivity",null);js([mi(0,Hr.NotNull),mi(5,Hr.NotNull),mi(6,Hr.NotNull)],is.prototype,"reportAmbiguity",null);is=js([mi(0,Hr.NotNull)],is);T3.ParserATNSimulator=is});var dbe=G(G8=>{"use strict";d();var Gpt=G8&&G8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(G8,"__esModule",{value:!0});G8.PlusBlockStartState=void 0;var Ypt=nc(),Kpt=gT(),Jpt=ar(),zZ=class extends Kpt.BlockStartState{get stateType(){return Ypt.ATNStateType.PLUS_BLOCK_START}};Gpt([Jpt.Override],zZ.prototype,"stateType",null);G8.PlusBlockStartState=zZ});var hbe=G(Y8=>{"use strict";d();var Xpt=Y8&&Y8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Y8,"__esModule",{value:!0});Y8.PlusLoopbackState=void 0;var Zpt=nc(),e1t=Qy(),t1t=ar(),HZ=class extends e1t.DecisionState{get stateType(){return Zpt.ATNStateType.PLUS_LOOP_BACK}};Xpt([t1t.Override],HZ.prototype,"stateType",null);Y8.PlusLoopbackState=HZ});var pbe=G(F3=>{"use strict";d();var ST=F3&&F3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},n1t=F3&&F3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(F3,"__esModule",{value:!0});F3.PrecedencePredicateTransition=void 0;var r1t=Gk(),CT=ar(),i1t=yv(),Hv=class extends r1t.AbstractPredicateTransition{constructor(e,t){super(e);this.precedence=t}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new i1t.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};ST([CT.Override],Hv.prototype,"serializationType",null);ST([CT.Override],Hv.prototype,"isEpsilon",null);ST([CT.Override],Hv.prototype,"matches",null);ST([CT.Override],Hv.prototype,"toString",null);Hv=ST([n1t(0,CT.NotNull)],Hv);F3.PrecedencePredicateTransition=Hv});var mbe=G(D3=>{"use strict";d();var wT=D3&&D3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},s1t=D3&&D3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(D3,"__esModule",{value:!0});D3.RangeTransition=void 0;var o1t=s3(),Vv=ar(),a1t=fx(),Wv=class extends a1t.Transition{constructor(e,t,r){super(e);this.from=t,this.to=r}get serializationType(){return 2}get label(){return o1t.IntervalSet.of(this.from,this.to)}matches(e,t,r){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};wT([Vv.Override],Wv.prototype,"serializationType",null);wT([Vv.Override,Vv.NotNull],Wv.prototype,"label",null);wT([Vv.Override],Wv.prototype,"matches",null);wT([Vv.Override,Vv.NotNull],Wv.prototype,"toString",null);Wv=wT([s1t(0,Vv.NotNull)],Wv);D3.RangeTransition=Wv});var xbe=G(K8=>{"use strict";d();var u1t=K8&&K8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(K8,"__esModule",{value:!0});K8.RuleStartState=void 0;var l1t=H1(),c1t=nc(),f1t=ar(),VZ=class extends l1t.ATNState{constructor(){super(...arguments);this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return c1t.ATNStateType.RULE_START}};u1t([f1t.Override],VZ.prototype,"stateType",null);K8.RuleStartState=VZ});var gbe=G(J8=>{"use strict";d();var d1t=J8&&J8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(J8,"__esModule",{value:!0});J8.StarBlockStartState=void 0;var h1t=nc(),p1t=gT(),m1t=ar(),WZ=class extends p1t.BlockStartState{get stateType(){return h1t.ATNStateType.STAR_BLOCK_START}};d1t([m1t.Override],WZ.prototype,"stateType",null);J8.StarBlockStartState=WZ});var ybe=G(X8=>{"use strict";d();var x1t=X8&&X8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(X8,"__esModule",{value:!0});X8.StarLoopbackState=void 0;var g1t=H1(),y1t=nc(),v1t=ar(),QZ=class extends g1t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return y1t.ATNStateType.STAR_LOOP_BACK}};x1t([v1t.Override],QZ.prototype,"stateType",null);X8.StarLoopbackState=QZ});var vbe=G(Z8=>{"use strict";d();var _1t=Z8&&Z8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Z8,"__esModule",{value:!0});Z8.TokensStartState=void 0;var b1t=nc(),E1t=Qy(),S1t=ar(),GZ=class extends E1t.DecisionState{get stateType(){return b1t.ATNStateType.TOKEN_START}};_1t([S1t.Override],GZ.prototype,"stateType",null);Z8.TokensStartState=GZ});var _be=G(JI=>{"use strict";d();Object.defineProperty(JI,"__esModule",{value:!0});JI.UUID=void 0;var C1t=Su(),AT=class{constructor(e,t,r,i){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=t,this.data[2]=r,this.data[3]=i}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let t=e.split("-"),r=parseInt(t[0],16),i=(parseInt(t[1],16)<<16>>>0)+parseInt(t[2],16),s=(parseInt(t[3],16)<<16>>>0)+parseInt(t[4].substr(0,4),16),o=parseInt(t[4].substr(-8),16);return new AT(r,i,s,o)}hashCode(){return C1t.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof AT?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};JI.UUID=AT});var OT=G(N3=>{"use strict";d();var XI=N3&&N3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},YZ=N3&&N3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(N3,"__esModule",{value:!0});N3.ATNDeserializer=void 0;var KZ=_Z(),w1t=dx(),A1t=Fp(),T1t=vZ(),Dc=nc(),e7=bZ(),bbe=P6e(),ZI=iZ(),Ebe=px(),eM=B6e(),JZ=gT(),F1t=Qy(),Sbe=nZ(),Rx=j6e(),XZ=s3(),Cbe=oZ(),D1t=q6e(),wbe=U6e(),O1t=$6e(),N1t=z6e(),R1t=H6e(),L1t=V6e(),k1t=W6e(),I1t=Q6e(),t7=FZ(),TT=ar(),ZZ=FI(),eee=Q8(),tee=dbe(),Abe=hbe(),M1t=pbe(),P1t=DX(),FT=mbe(),Tbe=xbe(),O3=d8(),DT=OI(),tM=AI(),nee=gbe(),ree=ybe(),n7=SI(),iee=_a(),B1t=vbe(),nM=_be(),j1t=aZ(),Fbe;(function(n){n[n.UNICODE_BMP=0]="UNICODE_BMP",n[n.UNICODE_SMP=1]="UNICODE_SMP"})(Fbe||(Fbe={}));var ni=class{constructor(e){e===void 0&&(e=T1t.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=e}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(e,t){let r=ni.SUPPORTED_UUIDS.findIndex(i=>i.equals(e));return r<0?!1:ni.SUPPORTED_UUIDS.findIndex(i=>i.equals(t))>=r}static getUnicodeDeserializer(e){return e===0?{readUnicode:(t,r)=>ni.toInt(t[r]),size:1}:{readUnicode:(t,r)=>ni.toInt32(t,r),size:2}}deserialize(e){e=e.slice(0);for(let L=1;L<e.length;L++)e[L]=e[L]-2&65535;let t=0,r=ni.toInt(e[t++]);if(r!==ni.SERIALIZED_VERSION){let L=`Could not deserialize ATN with version ${r} (expected ${ni.SERIALIZED_VERSION}).`;throw new Error(L)}let i=ni.toUUID(e,t);if(t+=8,ni.SUPPORTED_UUIDS.findIndex(L=>L.equals(i))<0){let L=`Could not deserialize ATN with UUID ${i} (expected ${ni.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(L)}let s=ni.isFeatureSupported(ni.ADDED_LEXER_ACTIONS,i),o=ni.toInt(e[t++]),a=ni.toInt(e[t++]),l=new A1t.ATN(o,a),f=[],p=[],v=ni.toInt(e[t++]);for(let L=0;L<v;L++){let Y=ni.toInt(e[t++]);if(Y===Dc.ATNStateType.INVALID_TYPE){l.addState(new Cbe.InvalidState);continue}let fe=ni.toInt(e[t++]);fe===65535&&(fe=-1);let me=this.stateFactory(Y,fe);if(Y===Dc.ATNStateType.LOOP_END){let Be=ni.toInt(e[t++]);f.push([me,Be])}else if(me instanceof JZ.BlockStartState){let Be=ni.toInt(e[t++]);p.push([me,Be])}l.addState(me)}for(let L of f)L[0].loopBackState=l.states[L[1]];for(let L of p)L[0].endState=l.states[L[1]];let b=ni.toInt(e[t++]);for(let L=0;L<b;L++){let Y=ni.toInt(e[t++]);l.states[Y].nonGreedy=!0}let F=ni.toInt(e[t++]);for(let L=0;L<F;L++){let Y=ni.toInt(e[t++]);l.states[Y].sll=!0}let D=ni.toInt(e[t++]);for(let L=0;L<D;L++){let Y=ni.toInt(e[t++]);l.states[Y].isPrecedenceRule=!0}let M=ni.toInt(e[t++]);l.grammarType===0&&(l.ruleToTokenType=new Int32Array(M)),l.ruleToStartState=new Array(M);for(let L=0;L<M;L++){let Y=ni.toInt(e[t++]),fe=l.states[Y];if(fe.leftFactored=ni.toInt(e[t++])!==0,l.ruleToStartState[L]=fe,l.grammarType===0){let me=ni.toInt(e[t++]);if(me===65535&&(me=iee.Token.EOF),l.ruleToTokenType[L]=me,!ni.isFeatureSupported(ni.ADDED_LEXER_ACTIONS,i)){let Be=ni.toInt(e[t++]);Be===65535&&(Be=-1)}}}l.ruleToStopState=new Array(M);for(let L of l.states)L instanceof O3.RuleStopState&&(l.ruleToStopState[L.ruleIndex]=L,l.ruleToStartState[L.ruleIndex].stopState=L);let q=ni.toInt(e[t++]);for(let L=0;L<q;L++){let Y=ni.toInt(e[t++]);l.modeToStartState.push(l.states[Y])}l.modeToDFA=new Array(q);for(let L=0;L<q;L++)l.modeToDFA[L]=new Sbe.DFA(l.modeToStartState[L]);let N=[];t=this.deserializeSets(e,t,N,ni.getUnicodeDeserializer(0)),ni.isFeatureSupported(ni.ADDED_UNICODE_SMP,i)&&(t=this.deserializeSets(e,t,N,ni.getUnicodeDeserializer(1)));let B=ni.toInt(e[t++]);for(let L=0;L<B;L++){let Y=ni.toInt(e[t]),fe=ni.toInt(e[t+1]),me=ni.toInt(e[t+2]),Be=ni.toInt(e[t+3]),tt=ni.toInt(e[t+4]),st=ni.toInt(e[t+5]),Qe=this.edgeFactory(l,me,Y,fe,Be,tt,st,N);l.states[Y].addTransition(Qe),t+=6}let I=new w1t.Array2DHashSet({hashCode:L=>L.stopState^L.returnState^L.outermostPrecedenceReturn,equals:(L,Y)=>L.stopState===Y.stopState&&L.returnState===Y.returnState&&L.outermostPrecedenceReturn===Y.outermostPrecedenceReturn}),z=[];for(let L of l.states){let Y=L.ruleIndex>=0&&l.ruleToStartState[L.ruleIndex].leftFactored;for(let fe=0;fe<L.numberOfTransitions;fe++){let me=L.transition(fe);if(!(me instanceof DT.RuleTransition))continue;let Be=me;if(!l.ruleToStartState[Be.target.ruleIndex].leftFactored&&Y)continue;let st=-1;l.ruleToStartState[Be.target.ruleIndex].isPrecedenceRule&&Be.precedence===0&&(st=Be.target.ruleIndex);let Qe={stopState:Be.target.ruleIndex,returnState:Be.followState.stateNumber,outermostPrecedenceReturn:st};I.add(Qe)&&z.push(Qe)}}for(let L of z){let Y=new Rx.EpsilonTransition(l.states[L.returnState],L.outermostPrecedenceReturn);l.ruleToStopState[L.stopState].addTransition(Y)}for(let L of l.states){if(L instanceof JZ.BlockStartState){if(L.endState===void 0)throw new Error("IllegalStateException");if(L.endState.startState!==void 0)throw new Error("IllegalStateException");L.endState.startState=L}if(L instanceof Abe.PlusLoopbackState){let Y=L;for(let fe=0;fe<Y.numberOfTransitions;fe++){let me=Y.transition(fe).target;me instanceof tee.PlusBlockStartState&&(me.loopBackState=Y)}}else if(L instanceof ree.StarLoopbackState){let Y=L;for(let fe=0;fe<Y.numberOfTransitions;fe++){let me=Y.transition(fe).target;me instanceof n7.StarLoopEntryState&&(me.loopBackState=Y)}}}let ie=ni.toInt(e[t++]);for(let L=1;L<=ie;L++){let Y=ni.toInt(e[t++]),fe=l.states[Y];l.decisionToState.push(fe),fe.decision=L-1}if(l.grammarType===0)if(s){l.lexerActions=new Array(ni.toInt(e[t++]));for(let L=0;L<l.lexerActions.length;L++){let Y=ni.toInt(e[t++]),fe=ni.toInt(e[t++]);fe===65535&&(fe=-1);let me=ni.toInt(e[t++]);me===65535&&(me=-1);let Be=this.lexerActionFactory(Y,fe,me);l.lexerActions[L]=Be}}else{let L=[];for(let Y of l.states)for(let fe=0;fe<Y.numberOfTransitions;fe++){let me=Y.transition(fe);if(!(me instanceof KZ.ActionTransition))continue;let Be=me.ruleIndex,tt=me.actionIndex,st=new wbe.LexerCustomAction(Be,tt);Y.setTransition(fe,new KZ.ActionTransition(me.target,Be,L.length,!1)),L.push(st)}l.lexerActions=L}this.markPrecedenceDecisions(l),l.decisionToDFA=new Array(ie);for(let L=0;L<ie;L++)l.decisionToDFA[L]=new Sbe.DFA(l.decisionToState[L],L);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(l),this.deserializationOptions.isGenerateRuleBypassTransitions&&l.grammarType===1){l.ruleToTokenType=new Int32Array(l.ruleToStartState.length);for(let L=0;L<l.ruleToStartState.length;L++)l.ruleToTokenType[L]=l.maxTokenType+L+1;for(let L=0;L<l.ruleToStartState.length;L++){let Y=new bbe.BasicBlockStartState;Y.ruleIndex=L,l.addState(Y);let fe=new eM.BlockEndState;fe.ruleIndex=L,l.addState(fe),Y.endState=fe,l.defineDecisionState(Y),fe.startState=Y;let me,Be;if(l.ruleToStartState[L].isPrecedenceRule){me=void 0;for(let st of l.states){if(st.ruleIndex!==L||!(st instanceof n7.StarLoopEntryState))continue;let Qe=st.transition(st.numberOfTransitions-1).target;if(Qe instanceof t7.LoopEndState&&Qe.epsilonOnlyTransitions&&Qe.transition(0).target instanceof O3.RuleStopState){me=st;break}}if(!me)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Be=me.loopBackState.transition(0)}else me=l.ruleToStopState[L];for(let st of l.states)for(let Qe=0;Qe<st.numberOfTransitions;Qe++){let mt=st.transition(Qe);mt!==Be&&mt.target===me&&(mt.target=fe)}for(;l.ruleToStartState[L].numberOfTransitions>0;){let st=l.ruleToStartState[L].removeTransition(l.ruleToStartState[L].numberOfTransitions-1);Y.addTransition(st)}l.ruleToStartState[L].addTransition(new Rx.EpsilonTransition(Y)),fe.addTransition(new Rx.EpsilonTransition(me));let tt=new ZI.BasicState;l.addState(tt),tt.addTransition(new e7.AtomTransition(fe,l.ruleToTokenType[L])),Y.addTransition(new Rx.EpsilonTransition(tt))}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}if(this.deserializationOptions.isOptimize){for(;;){let L=0;L+=ni.inlineSetRules(l),L+=ni.combineChainedEpsilons(l);let Y=l.grammarType===0;if(L+=ni.optimizeSets(l,Y),L===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}return ni.identifyTailCalls(l),l}deserializeSets(e,t,r,i){let s=ni.toInt(e[t++]);for(let o=0;o<s;o++){let a=ni.toInt(e[t]);t++;let l=new XZ.IntervalSet;r.push(l),ni.toInt(e[t++])!==0&&l.add(-1);for(let p=0;p<a;p++){let v=i.readUnicode(e,t);t+=i.size;let b=i.readUnicode(e,t);t+=i.size,l.add(v,b)}}return t}markPrecedenceDecisions(e){let t=new Map;for(let r of e.states)if(r instanceof n7.StarLoopEntryState&&e.ruleToStartState[r.ruleIndex].isPrecedenceRule){let i=r.transition(r.numberOfTransitions-1).target;i instanceof t7.LoopEndState&&i.epsilonOnlyTransitions&&i.transition(0).target instanceof O3.RuleStopState&&(t.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new Ebe.BitSet(e.states.length))}for(let r of t)for(let i of e.ruleToStopState[r[0]].getTransitions())i.serializationType!==1||i.outermostPrecedenceReturn!==-1||r[1].precedenceLoopbackStates.set(i.target.stateNumber)}verifyATN(e){for(let t of e.states)if(this.checkCondition(t!==void 0,"ATN states should not be undefined."),t.stateType!==Dc.ATNStateType.INVALID_TYPE){if(this.checkCondition(t.onlyHasEpsilonTransitions||t.numberOfTransitions<=1),t instanceof tee.PlusBlockStartState&&this.checkCondition(t.loopBackState!==void 0),t instanceof n7.StarLoopEntryState){let r=t;if(this.checkCondition(r.loopBackState!==void 0),this.checkCondition(r.numberOfTransitions===2),r.transition(0).target instanceof nee.StarBlockStartState)this.checkCondition(r.transition(1).target instanceof t7.LoopEndState),this.checkCondition(!r.nonGreedy);else if(r.transition(0).target instanceof t7.LoopEndState)this.checkCondition(r.transition(1).target instanceof nee.StarBlockStartState),this.checkCondition(r.nonGreedy);else throw new Error("IllegalStateException")}if(t instanceof ree.StarLoopbackState&&(this.checkCondition(t.numberOfTransitions===1),this.checkCondition(t.transition(0).target instanceof n7.StarLoopEntryState)),t instanceof t7.LoopEndState&&this.checkCondition(t.loopBackState!==void 0),t instanceof Tbe.RuleStartState&&this.checkCondition(t.stopState!==void 0),t instanceof JZ.BlockStartState&&this.checkCondition(t.endState!==void 0),t instanceof eM.BlockEndState&&this.checkCondition(t.startState!==void 0),t instanceof F1t.DecisionState){let r=t;this.checkCondition(r.numberOfTransitions<=1||r.decision>=0)}else this.checkCondition(t.numberOfTransitions<=1||t instanceof O3.RuleStopState)}}checkCondition(e,t){if(!e)throw new Error("IllegalStateException: "+t)}static inlineSetRules(e){let t=0,r=new Array(e.ruleToStartState.length);for(let i=0;i<e.ruleToStartState.length;i++){let o=e.ruleToStartState[i];for(;o.onlyHasEpsilonTransitions&&o.numberOfOptimizedTransitions===1&&o.getOptimizedTransition(0).serializationType===1;)o=o.getOptimizedTransition(0).target;if(o.numberOfOptimizedTransitions!==1)continue;let a=o.getOptimizedTransition(0),l=a.target;if(!(a.isEpsilon||!l.onlyHasEpsilonTransitions||l.numberOfOptimizedTransitions!==1||!(l.getOptimizedTransition(0).target instanceof O3.RuleStopState)))switch(a.serializationType){case 5:case 2:case 7:r[i]=a;break;case 8:case 9:continue;default:continue}}for(let i of e.states){if(i.ruleIndex<0)continue;let s;for(let o=0;o<i.numberOfOptimizedTransitions;o++){let a=i.getOptimizedTransition(o);if(!(a instanceof DT.RuleTransition)){s!==void 0&&s.push(a);continue}let l=a,f=r[l.target.ruleIndex];if(f===void 0){s!==void 0&&s.push(a);continue}if(s===void 0){s=[];for(let b=0;b<o;b++)s.push(i.getOptimizedTransition(o))}t++;let p=l.followState,v=new ZI.BasicState;switch(v.setRuleIndex(p.ruleIndex),e.addState(v),s.push(new Rx.EpsilonTransition(v)),f.serializationType){case 5:v.addTransition(new e7.AtomTransition(p,f._label));break;case 2:v.addTransition(new FT.RangeTransition(p,f.from,f.to));break;case 7:v.addTransition(new tM.SetTransition(p,f.label));break;default:throw new Error("UnsupportedOperationException")}}if(s!==void 0){if(i.isOptimized)for(;i.numberOfOptimizedTransitions>0;)i.removeOptimizedTransition(i.numberOfOptimizedTransitions-1);for(let o of s)i.addOptimizedTransition(o)}}return eee.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" rule invocations by inlining sets."),t}static combineChainedEpsilons(e){let t=0;for(let r of e.states){if(!r.onlyHasEpsilonTransitions||r instanceof O3.RuleStopState)continue;let i;e:for(let s=0;s<r.numberOfOptimizedTransitions;s++){let o=r.getOptimizedTransition(s),a=o.target;if(o.serializationType!==1||o.outermostPrecedenceReturn!==-1||a.stateType!==Dc.ATNStateType.BASIC||!a.onlyHasEpsilonTransitions){i!==void 0&&i.push(o);continue e}for(let l=0;l<a.numberOfOptimizedTransitions;l++)if(a.getOptimizedTransition(l).serializationType!==1||a.getOptimizedTransition(l).outermostPrecedenceReturn!==-1){i!==void 0&&i.push(o);continue e}if(t++,i===void 0){i=[];for(let l=0;l<s;l++)i.push(r.getOptimizedTransition(l))}for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l).target;i.push(new Rx.EpsilonTransition(f))}}if(i!==void 0){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let s of i)r.addOptimizedTransition(s)}}return eee.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" transitions by combining chained epsilon transitions."),t}static optimizeSets(e,t){if(t)return 0;let r=0,i=e.decisionToState;for(let s of i){let o=new XZ.IntervalSet;for(let b=0;b<s.numberOfOptimizedTransitions;b++){let F=s.getOptimizedTransition(b);if(!(F instanceof Rx.EpsilonTransition)||F.target.numberOfOptimizedTransitions!==1)continue;let D=F.target.getOptimizedTransition(0);D.target instanceof eM.BlockEndState&&(D instanceof ZZ.NotSetTransition||(D instanceof e7.AtomTransition||D instanceof FT.RangeTransition||D instanceof tM.SetTransition)&&o.add(b))}if(o.size<=1)continue;let a=[];for(let b=0;b<s.numberOfOptimizedTransitions;b++)o.contains(b)||a.push(s.getOptimizedTransition(b));let l=s.getOptimizedTransition(o.minElement).target.getOptimizedTransition(0).target,f=new XZ.IntervalSet;for(let b of o.intervals)for(let F=b.a;F<=b.b;F++){let D=s.getOptimizedTransition(F).target.getOptimizedTransition(0);if(D instanceof ZZ.NotSetTransition)throw new Error("Not yet implemented.");f.addAll(D.label)}let p;if(f.intervals.length===1)if(f.size===1)p=new e7.AtomTransition(l,f.minElement);else{let b=f.intervals[0];p=new FT.RangeTransition(l,b.a,b.b)}else p=new tM.SetTransition(l,f);let v=new ZI.BasicState;if(v.setRuleIndex(s.ruleIndex),e.addState(v),v.addTransition(p),a.push(new Rx.EpsilonTransition(v)),r+=s.numberOfOptimizedTransitions-a.length,s.isOptimized)for(;s.numberOfOptimizedTransitions>0;)s.removeOptimizedTransition(s.numberOfOptimizedTransitions-1);for(let b of a)s.addOptimizedTransition(b)}return eee.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(e){for(let t of e.states){for(let r=0;r<t.numberOfTransitions;r++){let i=t.transition(r);i instanceof DT.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}if(!!t.isOptimized)for(let r=0;r<t.numberOfOptimizedTransitions;r++){let i=t.getOptimizedTransition(r);i instanceof DT.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}}}static testTailCall(e,t,r){if(!r&&t.tailCall||r&&t.optimizedTailCall)return!0;let i=new Ebe.BitSet(e.states.length),s=[];for(s.push(t.followState);;){let o=s.pop();if(!o)break;if(i.get(o.stateNumber)||o instanceof O3.RuleStopState)continue;if(!o.onlyHasEpsilonTransitions)return!1;let a=r?o.numberOfOptimizedTransitions:o.numberOfTransitions;for(let l=0;l<a;l++){let f=r?o.getOptimizedTransition(l):o.transition(l);if(f.serializationType!==1)return!1;s.push(f.target)}}return!0}static toInt(e){return e}static toInt32(e,t){return(e[t]|e[t+1]<<16)>>>0}static toUUID(e,t){let r=ni.toInt32(e,t),i=ni.toInt32(e,t+2),s=ni.toInt32(e,t+4),o=ni.toInt32(e,t+6);return new nM.UUID(o,s,i,r)}edgeFactory(e,t,r,i,s,o,a,l){let f=e.states[i];switch(t){case 1:return new Rx.EpsilonTransition(f);case 2:return a!==0?new FT.RangeTransition(f,iee.Token.EOF,o):new FT.RangeTransition(f,s,o);case 3:return new DT.RuleTransition(e.states[s],o,a,f);case 4:return new P1t.PredicateTransition(f,s,o,a!==0);case 10:return new M1t.PrecedencePredicateTransition(f,s);case 5:return a!==0?new e7.AtomTransition(f,iee.Token.EOF):new e7.AtomTransition(f,s);case 6:return new KZ.ActionTransition(f,s,o,a!==0);case 7:return new tM.SetTransition(f,l[s]);case 8:return new ZZ.NotSetTransition(f,l[s]);case 9:return new j1t.WildcardTransition(f)}throw new Error("The specified transition type is not valid.")}stateFactory(e,t){let r;switch(e){case Dc.ATNStateType.INVALID_TYPE:return new Cbe.InvalidState;case Dc.ATNStateType.BASIC:r=new ZI.BasicState;break;case Dc.ATNStateType.RULE_START:r=new Tbe.RuleStartState;break;case Dc.ATNStateType.BLOCK_START:r=new bbe.BasicBlockStartState;break;case Dc.ATNStateType.PLUS_BLOCK_START:r=new tee.PlusBlockStartState;break;case Dc.ATNStateType.STAR_BLOCK_START:r=new nee.StarBlockStartState;break;case Dc.ATNStateType.TOKEN_START:r=new B1t.TokensStartState;break;case Dc.ATNStateType.RULE_STOP:r=new O3.RuleStopState;break;case Dc.ATNStateType.BLOCK_END:r=new eM.BlockEndState;break;case Dc.ATNStateType.STAR_LOOP_BACK:r=new ree.StarLoopbackState;break;case Dc.ATNStateType.STAR_LOOP_ENTRY:r=new n7.StarLoopEntryState;break;case Dc.ATNStateType.PLUS_LOOP_BACK:r=new Abe.PlusLoopbackState;break;case Dc.ATNStateType.LOOP_END:r=new t7.LoopEndState;break;default:let i=`The specified state type ${e} is not valid.`;throw new Error(i)}return r.ruleIndex=t,r}lexerActionFactory(e,t,r){switch(e){case 0:return new D1t.LexerChannelAction(t);case 1:return new wbe.LexerCustomAction(t,r);case 2:return new O1t.LexerModeAction(t);case 3:return N1t.LexerMoreAction.INSTANCE;case 4:return R1t.LexerPopModeAction.INSTANCE;case 5:return new L1t.LexerPushModeAction(t);case 6:return k1t.LexerSkipAction.INSTANCE;case 7:return new I1t.LexerTypeAction(t);default:let i=`The specified lexer action type ${e} is not valid.`;throw new Error(i)}}};ni.BASE_SERIALIZED_UUID=nM.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3");ni.ADDED_LEXER_ACTIONS=nM.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D");ni.ADDED_UNICODE_SMP=nM.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B");ni.SUPPORTED_UUIDS=[ni.BASE_SERIALIZED_UUID,ni.ADDED_LEXER_ACTIONS,ni.ADDED_UNICODE_SMP];ni.SERIALIZED_UUID=ni.ADDED_UNICODE_SMP;XI([TT.NotNull],ni.prototype,"deserializationOptions",void 0);XI([YZ(0,TT.NotNull)],ni.prototype,"deserialize",null);XI([YZ(0,TT.NotNull)],ni.prototype,"markPrecedenceDecisions",null);XI([TT.NotNull,YZ(0,TT.NotNull)],ni.prototype,"edgeFactory",null);N3.ATNDeserializer=ni});var Dbe=G(R3=>{"use strict";d();var see=R3&&R3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},q1t=R3&&R3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(R3,"__esModule",{value:!0});R3.ParseInfo=void 0;var oee=ar(),NT=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),t=[];for(let r=0;r<e.length;r++)e[r].LL_Fallback>0&&t.push(r);return t}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.timeInPrediction;return t}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_TotalLook;return t}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_ATNTransitions;return t}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions,t+=r.LL_ATNTransitions;return t}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let t=0,r=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<r.length;i++)t+=this.getDFASize(i);return t}}};see([oee.NotNull],NT.prototype,"getDecisionInfo",null);see([oee.NotNull],NT.prototype,"getLLDecisions",null);NT=see([q1t(0,oee.NotNull)],NT);R3.ParseInfo=NT});var lee=G(r7=>{"use strict";d();var aee=r7&&r7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(r7,"__esModule",{value:!0});r7.ProxyParserErrorListener=void 0;var U1t=_I(),uee=ar(),RT=class extends U1t.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,t,r,i,s,o,a){this.getDelegates().forEach(l=>{l.reportAmbiguity&&l.reportAmbiguity(e,t,r,i,s,o,a)})}reportAttemptingFullContext(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(e,t,r,i,s,o)})}reportContextSensitivity(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(e,t,r,i,s,o)})}};aee([uee.Override],RT.prototype,"reportAmbiguity",null);aee([uee.Override],RT.prototype,"reportAttemptingFullContext",null);aee([uee.Override],RT.prototype,"reportContextSensitivity",null);r7.ProxyParserErrorListener=RT});var Obe=G(L3=>{"use strict";d();Object.defineProperty(L3,"__esModule",{value:!0});L3.isSupplementaryCodePoint=L3.isLowSurrogate=L3.isHighSurrogate=void 0;function $1t(n){return n>=55296&&n<=56319}L3.isHighSurrogate=$1t;function z1t(n){return n>=56320&&n<=57343}L3.isLowSurrogate=z1t;function H1t(n){return n>=65536}L3.isSupplementaryCodePoint=H1t});var cee=G(s7=>{"use strict";d();Object.defineProperty(s7,"__esModule",{value:!0});s7.CodePointBuffer=void 0;var Nbe=lf(),LT=Obe(),i7=class{constructor(e,t){this.buffer=e,this._position=0,this._size=t}static withArray(e){return new i7(e,e.length)}get position(){return this._position}set position(e){if(e<0||e>this._size)throw new RangeError;this._position=e}get remaining(){return this._size-this.position}get(e){return this.buffer[e]}array(){return this.buffer.slice(0,this._size)}static builder(e){return new i7.Builder(e)}};s7.CodePointBuffer=i7;(function(n){let e;(function(r){r[r.BYTE=0]="BYTE",r[r.CHAR=1]="CHAR",r[r.INT=2]="INT"})(e||(e={}));class t{constructor(i){this.type=0,this.buffer=new Uint8Array(i),this.prevHighSurrogate=-1,this.position=0}build(){return new n(this.buffer,this.position)}static roundUpToNextPowerOfTwo(i){let s=32-Math.clz32(i-1);return Math.pow(2,s)}ensureRemaining(i){switch(this.type){case 0:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint8Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 1:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint16Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 2:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Int32Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break}}append(i){this.ensureRemaining(i.length),this.appendArray(i)}appendArray(i){switch(this.type){case 0:this.appendArrayByte(i);break;case 1:this.appendArrayChar(i);break;case 2:this.appendArrayInt(i);break}}appendArrayByte(i){Nbe(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(p<=255)l[f]=p;else if(i=i.subarray(o,a),this.position=f,LT.isHighSurrogate(p)){this.byteToIntBuffer(i.length),this.appendArrayInt(i);return}else{this.byteToCharBuffer(i.length),this.appendArrayChar(i);return}o++,f++}this.position=f}appendArrayChar(i){Nbe(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(!LT.isHighSurrogate(p))l[f]=p;else{i=i.subarray(o,a),this.position=f,this.charToIntBuffer(i.length),this.appendArrayInt(i);return}o++,f++}this.position=f}appendArrayInt(i){let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];o++,this.prevHighSurrogate!==-1?LT.isLowSurrogate(p)?(l[f]=String.fromCharCode(this.prevHighSurrogate,p).codePointAt(0),f++,this.prevHighSurrogate=-1):(l[f]=this.prevHighSurrogate,f++,LT.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++,this.prevHighSurrogate=-1)):LT.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++)}this.prevHighSurrogate!==-1&&(l[f]=this.prevHighSurrogate,f++),this.position=f}byteToCharBuffer(i){let s=new Uint16Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=s}byteToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>2));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}charToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}}n.Builder=t})(i7=s7.CodePointBuffer||(s7.CodePointBuffer={}))});var fee=G(o7=>{"use strict";d();var dm=o7&&o7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(o7,"__esModule",{value:!0});o7.CodePointCharStream=void 0;var Rbe=lf(),rM=ux(),V1t=df(),hm=ar(),C0=class{constructor(e,t,r,i){Rbe(t===0),this._array=e,this._size=r,this._name=i,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,t){return(t===void 0||t.length===0)&&(t=rM.IntStream.UNKNOWN_SOURCE_NAME),new C0(e.array(),e.position,e.remaining,t)}consume(){if(this._size-this._position===0)throw Rbe(this.LA(1)===rM.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(V1t.Interval.of(0,this.size-1))}LA(e){let t;switch(Math.sign(e)){case-1:return t=this.index+e,t<0?rM.IntStream.EOF:this._array[t];case 0:return 0;case 1:return t=this.index+e-1,t>=this.size?rM.IntStream.EOF:this._array[t]}throw new RangeError("Not reached")}getText(e){let t=Math.min(e.a,this.size),r=Math.min(e.b-e.a+1,this.size-t);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(t,t+r))):String.fromCharCode(...Array.from(this._array.subarray(t,t+r)))}};dm([hm.Override],C0.prototype,"consume",null);dm([hm.Override],C0.prototype,"index",null);dm([hm.Override],C0.prototype,"size",null);dm([hm.Override],C0.prototype,"mark",null);dm([hm.Override],C0.prototype,"release",null);dm([hm.Override],C0.prototype,"seek",null);dm([hm.Override],C0.prototype,"sourceName",null);dm([hm.Override],C0.prototype,"toString",null);dm([hm.Override],C0.prototype,"LA",null);dm([hm.Override],C0.prototype,"getText",null);o7.CodePointCharStream=C0});var iM=G(kT=>{"use strict";d();Object.defineProperty(kT,"__esModule",{value:!0});kT.CharStreams=void 0;var W1t=cee(),Q1t=fee(),G1t=ux(),Y1t;(function(n){function e(t,r){(r===void 0||r.length===0)&&(r=G1t.IntStream.UNKNOWN_SOURCE_NAME);let i=W1t.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return i.append(s),Q1t.CodePointCharStream.fromBuffer(i.build(),r)}n.fromString=e})(Y1t=kT.CharStreams||(kT.CharStreams={}))});var pee=G(k3=>{"use strict";d();var Uf=k3&&k3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},K1t=k3&&k3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(k3,"__esModule",{value:!0});k3.BufferedTokenStream=void 0;var Lbe=lf(),kbe=KE(),dee=df(),hee=Ex(),ic=ar(),Qv=_a(),Oc=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===Qv.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){Lbe(e>=0);let t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){let r=this.tokenSource.nextToken();if(this.isWritableToken(r)&&(r.tokenIndex=this.tokens.length),this.tokens.push(r),r.type===Qv.Token.EOF)return this.fetchedEOF=!0,t+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,t){if(e<0||t<0)return[];this.lazyInit();let r=new Array;t>=this.tokens.length&&(t=this.tokens.length-1);for(let i=e;i<=t;i++){let s=this.tokens[i];if(s.type===Qv.Token.EOF)break;r.push(s)}return r}LA(e){let t=this.LT(e);return t?t.type:Qv.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let t=this.tryLT(e);if(t===void 0)throw new RangeError("requested lookback index out of range");return t}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,t,r){if(this.lazyInit(),e===void 0)return Lbe(t===void 0&&r===void 0),this.tokens;if(t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(r===void 0)return this.tokens.slice(e,t+1);typeof r=="number"&&(r=new Set().add(r));let i=r,s=this.tokens.slice(e,t+1);return s=s.filter(o=>i.has(o.type)),s}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;let r=this.tokens[e];for(;r.channel!==t;){if(r.type===Qv.Token.EOF)return e;e++,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let r=this.tokens[e];if(r.type===Qv.Token.EOF||r.channel===t)return e;e--}return e}getHiddenTokensToRight(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let r=this.nextTokenOnChannel(e+1,hee.Lexer.DEFAULT_TOKEN_CHANNEL),i,s=e+1;return r===-1?i=this.size-1:i=r,this.filterForChannel(s,i,t)}getHiddenTokensToLeft(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let r=this.previousTokenOnChannel(e-1,hee.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===e-1)return[];let i=r+1,s=e-1;return this.filterForChannel(i,s,t)}filterForChannel(e,t,r){let i=new Array;for(let s=e;s<=t;s++){let o=this.tokens[s];r===-1?o.channel!==hee.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(o):o.channel===r&&i.push(o)}return i}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=dee.Interval.of(0,this.size-1):e instanceof dee.Interval||(e=e.sourceInterval);let t=e.a,r=e.b;if(t<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let s=t;s<=r;s++){let o=this.tokens[s];if(o.type===Qv.Token.EOF)break;i+=o.text}return i.toString()}getTextFromRange(e,t){return this.isToken(e)&&this.isToken(t)?this.getText(dee.Interval.of(e.tokenIndex,t.tokenIndex)):""}fill(){this.lazyInit();let e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof kbe.CommonToken}isToken(e){return e instanceof kbe.CommonToken}};Uf([ic.NotNull],Oc.prototype,"_tokenSource",void 0);Uf([ic.Override],Oc.prototype,"tokenSource",null);Uf([ic.Override],Oc.prototype,"index",null);Uf([ic.Override],Oc.prototype,"mark",null);Uf([ic.Override],Oc.prototype,"release",null);Uf([ic.Override],Oc.prototype,"seek",null);Uf([ic.Override],Oc.prototype,"size",null);Uf([ic.Override],Oc.prototype,"consume",null);Uf([ic.Override],Oc.prototype,"get",null);Uf([ic.Override],Oc.prototype,"LA",null);Uf([ic.NotNull,ic.Override],Oc.prototype,"LT",null);Uf([ic.Override],Oc.prototype,"sourceName",null);Uf([ic.NotNull,ic.Override],Oc.prototype,"getText",null);Uf([ic.NotNull,ic.Override],Oc.prototype,"getTextFromRange",null);Oc=Uf([K1t(0,ic.NotNull)],Oc);k3.BufferedTokenStream=Oc});var aM=G(I3=>{"use strict";d();var sM=I3&&I3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},J1t=I3&&I3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(I3,"__esModule",{value:!0});I3.CommonTokenStream=void 0;var X1t=pee(),oM=ar(),Ibe=_a(),a7=class extends X1t.BufferedTokenStream{constructor(e,t=Ibe.Token.DEFAULT_CHANNEL){super(e);this.channel=t}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let t=this.p,r=1;for(;r<=e&&t>0;)t=this.previousTokenOnChannel(t-1,this.channel),r++;if(!(t<0))return this.tokens[t]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p,r=1;for(;r<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),r++;return this.tokens[t]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let t of this.tokens)if(t.channel===this.channel&&e++,t.type===Ibe.Token.EOF)break;return e}};sM([oM.Override],a7.prototype,"adjustSeekIndex",null);sM([oM.Override],a7.prototype,"tryLB",null);sM([oM.Override],a7.prototype,"tryLT",null);a7=sM([J1t(0,oM.NotNull)],a7);I3.CommonTokenStream=a7});var xee=G(M3=>{"use strict";d();var Gv=M3&&M3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Mbe=M3&&M3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(M3,"__esModule",{value:!0});M3.ListTokenSource=void 0;var Z1t=iI(),Lx=ar(),mee=_a(),kx=class{constructor(e,t){if(this.i=0,this._factory=Z1t.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=t}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.text;if(t!=null){let r=t.lastIndexOf(`
`);if(r>=0)return t.length-r-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let t=-1;if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1].stopIndex;i!==-1&&(t=i+1)}let r=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},mee.Token.EOF,"EOF",mee.Token.DEFAULT_CHANNEL,t,r,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===mee.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.line,r=e.text;if(r!=null)for(let i=0;i<r.length;i++)r.charAt(i)===`
`&&t++;return t}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};Gv([Lx.Override],kx.prototype,"charPositionInLine",null);Gv([Lx.Override],kx.prototype,"nextToken",null);Gv([Lx.Override],kx.prototype,"line",null);Gv([Lx.Override],kx.prototype,"inputStream",null);Gv([Lx.Override],kx.prototype,"sourceName",null);Gv([Lx.Override,Lx.NotNull,Mbe(0,Lx.NotNull)],kx.prototype,"tokenFactory",null);kx=Gv([Mbe(0,Lx.NotNull)],kx);M3.ListTokenSource=kx});var Bbe=G(uM=>{"use strict";d();Object.defineProperty(uM,"__esModule",{value:!0});uM.MultiMap=void 0;var Pbe=class extends Map{constructor(){super()}map(e,t){let r=super.get(e);r||(r=[],super.set(e,r)),r.push(t)}getPairs(){let e=[];return this.forEach((t,r)=>{t.forEach(i=>{e.push([r,i])})}),e}};uM.MultiMap=Pbe});var gee=G(lM=>{"use strict";d();Object.defineProperty(lM,"__esModule",{value:!0});lM.ParseCancellationException=void 0;var jbe=class extends Error{constructor(e){super(e.message);this.cause=e,this.stack=e.stack}getCause(){return this.cause}};lM.ParseCancellationException=jbe});var vee=G(u7=>{"use strict";d();var emt=u7&&u7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(u7,"__esModule",{value:!0});u7.InterpreterRuleContext=void 0;var tmt=ar(),nmt=fh(),yee=class extends nmt.ParserRuleContext{constructor(e,t,r){r!==void 0?super(t,r):super(),this._ruleIndex=e}get ruleIndex(){return this._ruleIndex}};emt([tmt.Override],yee.prototype,"ruleIndex",null);u7.InterpreterRuleContext=yee});var bee=G(B3=>{"use strict";d();var P3=B3&&B3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},rmt=B3&&B3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(B3,"__esModule",{value:!0});B3.ParserInterpreter=void 0;var imt=H1(),smt=nc(),omt=px(),qbe=VA(),amt=WA(),umt=vee(),lmt=FZ(),Ube=ar(),l7=ar(),cmt=$8(),$be=Q8(),fmt=cx(),dmt=SI(),IT=_a(),pm=class _ee extends cmt.Parser{constructor(e,t,r,i,s){super(e instanceof _ee?e.inputStream:s);if(this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof _ee){let o=e;this._grammarFileName=o._grammarFileName,this._atn=o._atn,this.pushRecursionContextStates=o.pushRecursionContextStates,this._ruleNames=o._ruleNames,this._vocabulary=o._vocabulary,this.interpreter=new $be.ParserATNSimulator(this._atn,this)}else{t=t,r=r,i=i,this._grammarFileName=e,this._atn=i,this._ruleNames=r.slice(0),this._vocabulary=t,this.pushRecursionContextStates=new omt.BitSet(i.states.length);for(let o of i.states)o instanceof dmt.StarLoopEntryState&&o.precedenceRuleDecision&&this.pushRecursionContextStates.set(o.stateNumber);this.interpreter=new $be.ParserATNSimulator(i,this)}}reset(e){e===void 0?super.reset():super.reset(e),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(e){let t=this._atn.ruleToStartState[e];for(this._rootContext=this.createInterpreterRuleContext(void 0,imt.ATNState.INVALID_STATE_NUMBER,e),t.isPrecedenceRule?this.enterRecursionRule(this._rootContext,t.stateNumber,e,0):this.enterRule(this._rootContext,t.stateNumber,e);;){let r=this.atnState;switch(r.stateType){case smt.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(t.isPrecedenceRule){let i=this._ctx,s=this._parentContextStack.pop();return this.unrollRecursionContexts(s[0]),i}else return this.exitRule(),this._rootContext;this.visitRuleStopState(r);break;default:try{this.visitState(r)}catch(i){if(i instanceof fmt.RecognitionException)this.state=this._atn.ruleToStopState[r.ruleIndex].stateNumber,this.context.exception=i,this.errorHandler.reportError(this,i),this.recover(i);else throw i}break}}}enterRecursionRule(e,t,r,i){this._parentContextStack.push([this._ctx,e.invokingState]),super.enterRecursionRule(e,t,r,i)}get atnState(){return this._atn.states[this.state]}visitState(e){let t=1;e.numberOfTransitions>1&&(t=this.visitDecisionState(e));let r=e.transition(t-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(e.stateNumber)&&!(r.target instanceof lmt.LoopEndState)){let f=this._parentContextStack[this._parentContextStack.length-1],p=this.createInterpreterRuleContext(f[0],f[1],this._ctx.ruleIndex);this.pushNewRecursionContext(p,this._atn.ruleToStartState[e.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),IT.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let i=r.target,s=i.ruleIndex,o=this.createInterpreterRuleContext(this._ctx,e.stateNumber,s);i.isPrecedenceRule?this.enterRecursionRule(o,i.stateNumber,s,r.precedence):this.enterRule(o,r.target.stateNumber,s);break;case 4:let a=r;if(!this.sempred(this._ctx,a.ruleIndex,a.predIndex))throw new qbe.FailedPredicateException(this);break;case 6:let l=r;this.action(this._ctx,l.ruleIndex,l.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let f=r.precedence;throw new qbe.FailedPredicateException(this,`precpred(_ctx, ${f})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(e){let t;this.errorHandler.sync(this);let r=e.decision;return r===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(t=this.overrideDecisionAlt,this.overrideDecisionReached=!0):t=this.interpreter.adaptivePredict(this._input,r,this._ctx),t}createInterpreterRuleContext(e,t,r){return new umt.InterpreterRuleContext(r,e,t)}visitRuleStopState(e){if(this._atn.ruleToStartState[e.ruleIndex].isPrecedenceRule){let i=this._parentContextStack.pop();this.unrollRecursionContexts(i[0]),this.state=i[1]}else this.exitRule();let r=this._atn.states[this.state].transition(0);this.state=r.followState.stateNumber}addDecisionOverride(e,t,r){this.overrideDecision=e,this.overrideDecisionInputIndex=t,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(e){let t=this._input.index;if(this.errorHandler.recover(this,e),this._input.index===t){let r=e.getOffendingToken();if(!r)throw new Error("Expected exception to have an offending token");let i=r.tokenSource,s=i!==void 0?i.inputStream:void 0,o={source:i,stream:s};if(e instanceof amt.InputMismatchException){let a=e.expectedTokens;if(a===void 0)throw new Error("Expected the exception to provide expected tokens");let l=IT.Token.INVALID_TYPE;a.isNil||(l=a.minElement);let f=this.tokenFactory.create(o,l,r.text,IT.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,f))}else{let a=r.tokenSource,l=this.tokenFactory.create(o,IT.Token.INVALID_TYPE,r.text,IT.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,l))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};P3([Ube.NotNull],pm.prototype,"_vocabulary",void 0);P3([l7.Override],pm.prototype,"reset",null);P3([l7.Override],pm.prototype,"atn",null);P3([l7.Override],pm.prototype,"vocabulary",null);P3([l7.Override],pm.prototype,"ruleNames",null);P3([l7.Override],pm.prototype,"grammarFileName",null);P3([l7.Override],pm.prototype,"enterRecursionRule",null);pm=P3([rmt(1,Ube.NotNull)],pm);B3.ParserInterpreter=pm});var zbe=G(q3=>{"use strict";d();var c7=q3&&q3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},cM=q3&&q3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(q3,"__esModule",{value:!0});q3.ParseTreeMatch=void 0;var Ix=ar(),j3=class{constructor(e,t,r,i){if(!e)throw new Error("tree cannot be null");if(!t)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=e,this._pattern=t,this._labels=r,this._mismatchedNode=i}get(e){let t=this._labels.get(e);if(!(!t||t.length===0))return t[t.length-1]}getAll(e){let t=this._labels.get(e);return t||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};c7([Ix.NotNull,cM(0,Ix.NotNull)],j3.prototype,"getAll",null);c7([Ix.NotNull],j3.prototype,"labels",null);c7([Ix.NotNull],j3.prototype,"pattern",null);c7([Ix.NotNull],j3.prototype,"tree",null);c7([Ix.Override],j3.prototype,"toString",null);j3=c7([cM(0,Ix.NotNull),cM(1,Ix.NotNull),cM(2,Ix.NotNull)],j3);q3.ParseTreeMatch=j3});var Vbe=G(fM=>{"use strict";d();Object.defineProperty(fM,"__esModule",{value:!0});fM.XPathLexer=void 0;var hmt=OT(),pmt=Ex(),mmt=hT(),xmt=yx(),Hbe=Tp(),io=class extends pmt.Lexer{constructor(e){super(e);this._interp=new mmt.LexerATNSimulator(io._ATN,this)}get vocabulary(){return io.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return io.ruleNames}get serializedATN(){return io._serializedATN}get channelNames(){return io.channelNames}get modeNames(){return io.modeNames}action(e,t,r){switch(t){case 4:this.ID_action(e,r);break}}ID_action(e,t){switch(t){case 0:let r=this.text;r.charAt(0)===r.charAt(0).toUpperCase()?this.type=io.TOKEN_REF:this.type=io.RULE_REF;break}}static get _ATN(){return io.__ATN||(io.__ATN=new hmt.ATNDeserializer().deserialize(Hbe.toCharArray(io._serializedATN))),io.__ATN}};fM.XPathLexer=io;io.TOKEN_REF=1;io.RULE_REF=2;io.ANYWHERE=3;io.ROOT=4;io.WILDCARD=5;io.BANG=6;io.ID=7;io.STRING=8;io.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];io.modeNames=["DEFAULT_MODE"];io.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"];io._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"];io._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"];io.VOCABULARY=new xmt.VocabularyImpl(io._LITERAL_NAMES,io._SYMBOLIC_NAMES,[]);io._serializedATNSegments=2;io._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
\u02B6
2;C\\aac|\x81\xA1\xAC\xAC\xAF\xAF\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0302\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u0485\u0489\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u0593\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0602\u0607\u0612\u061C\u061E\u061E\u0622\u066B\u0670\u06D5\u06D7\u06DF\u06E1\u06EA\u06EC\u06FE\u0701\u0701\u0711\u074C\u074F\u07B3\u07C2\u07F7\u07FC\u07FC\u0802\u082F\u0842\u085D\u08A2\u08B6\u08B8\u08BF\u08D6\u0965\u0968\u0971\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BE\u09C6\u09C9\u09CA\u09CD\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09E8\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A3E\u0A3E\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4F\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A68\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABE\u0AC7\u0AC9\u0ACB\u0ACD\u0ACF\u0AD2\u0AD2\u0AE2\u0AE5\u0AE8\u0AF1\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3E\u0B46\u0B49\u0B4A\u0B4D\u0B4F\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B68\u0B71\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCF\u0BD2\u0BD2\u0BD9\u0BD9\u0BE8\u0BF1\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4F\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C68\u0C71\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBE\u0CC6\u0CC8\u0CCA\u0CCC\u0CCF\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CE8\u0CF1\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D50\u0D56\u0D59\u0D61\u0D65\u0D68\u0D71\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DCC\u0DCC\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DE8\u0DF1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E50\u0E52\u0E5B\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECA\u0ECF\u0ED2\u0EDB\u0EDE\u0EE1\u0F02\u0F02\u0F1A\u0F1B\u0F22\u0F2B\u0F37\u0F37\u0F39\u0F39\u0F3B\u0F3B\u0F40\u0F49\u0F4B\u0F6E\u0F73\u0F86\u0F88\u0F99\u0F9B\u0FBE\u0FC8\u0FC8\u1002\u104B\u1052\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u135F\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1716\u1722\u1736\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17D5\u17D9\u17D9\u17DE\u17DF\u17E2\u17EB\u180D\u1810\u1812\u181B\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193D\u1948\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u19D2\u19DB\u1A02\u1A1D\u1A22\u1A60\u1A62\u1A7E\u1A81\u1A8B\u1A92\u1A9B\u1AA9\u1AA9\u1AB2\u1ABF\u1B02\u1B4D\u1B52\u1B5B\u1B6D\u1B75\u1B82\u1BF5\u1C02\u1C39\u1C42\u1C4B\u1C4F\u1C7F\u1C82\u1C8A\u1CD2\u1CD4\u1CD6\u1CF8\u1CFA\u1CFB\u1D02\u1DF7\u1DFD\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u200D\u2011\u202C\u2030\u2041\u2042\u2056\u2056\u2062\u2066\u2068\u2071\u2073\u2073\u2081\u2081\u2092\u209E\u20D2\u20DE\u20E3\u20E3\u20E7\u20F2\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D81\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u3031\u3033\u3037\u303A\u303E\u3043\u3098\u309B\u309C\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA62D\uA642\uA671\uA676\uA67F\uA681\uA6F3\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA829\uA842\uA875\uA882\uA8C7\uA8D2\uA8DB\uA8E2\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA902\uA92F\uA932\uA955\uA962\uA97E\uA982\uA9C2\uA9D1\uA9DB\uA9E2\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA52\uAA5B\uAA62\uAA78\uAA7C\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF8\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uABEE\uABEF\uABF2\uABFB\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE02\uFE11\uFE22\uFE31\uFE35\uFE36\uFE4F\uFE51\uFE72\uFE76\uFE78\uFEFE\uFF01\uFF01\uFF12\uFF1B\uFF23\uFF3C\uFF41\uFF41\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\uFFFB\uFFFD\r(*<>?AOR_\x82\xFC\u0142\u0176\u01FF\u01FF\u0282\u029E\u02A2\u02D2\u02E2\u02E2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04A2\u04AB\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A3A\u0A3C\u0A41\u0A41\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE8\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1048\u1068\u1071\u1081\u10BC\u10BF\u10BF\u10D2\u10EA\u10F2\u10FB\u1102\u1136\u1138\u1141\u1152\u1175\u1178\u1178\u1182\u11C6\u11CC\u11CE\u11D2\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EC\u12F2\u12FB\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133E\u1346\u1349\u134A\u134D\u134F\u1352\u1352\u1359\u1359\u135F\u1365\u1368\u136E\u1372\u1376\u1402\u144C\u1452\u145B\u1482\u14C7\u14C9\u14C9\u14D2\u14DB\u1582\u15B7\u15BA\u15C2\u15DA\u15DF\u1602\u1642\u1646\u1646\u1652\u165B\u1682\u16B9\u16C2\u16CB\u1702\u171B\u171F\u172D\u1732\u173B\u18A2\u18EB\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C42\u1C52\u1C5B\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6A62\u6A6B\u6AD2\u6AEF\u6AF2\u6AF6\u6B02\u6B38\u6B42\u6B45\u6B52\u6B5B\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F91\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBC9F\uBCA0\uBCA2\uBCA5\uD167\uD16B\uD16F\uD184\uD187\uD18D\uD1AC\uD1AF\uD244\uD246\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uD7D0\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE8D2\uE8D8\uE902\uE94C\uE952\uE95B\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F"\x81\u0102\u01F1\u0240C\\c|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05D2\u05EC\u05F2\u05F4\u0622\u064C\u0670\u0671\u0673\u06D5\u06D7\u06D7\u06E7\u06E8\u06F0\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0712\u0714\u0731\u074F\u07A7\u07B3\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0817\u081C\u081C\u0826\u0826\u082A\u082A\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u0906\u093B\u093F\u093F\u0952\u0952\u095A\u0963\u0973\u0982\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09BF\u09D0\u09D0\u09DE\u09DF\u09E1\u09E3\u09F2\u09F3\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A5B\u0A5E\u0A60\u0A60\u0A74\u0A76\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0ABF\u0AD2\u0AD2\u0AE2\u0AE3\u0AFB\u0AFB\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B3F\u0B5E\u0B5F\u0B61\u0B63\u0B73\u0B73\u0B85\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BD2\u0BD2\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C3F\u0C5A\u0C5C\u0C62\u0C63\u0C82\u0C82\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CBF\u0CE0\u0CE0\u0CE2\u0CE3\u0CF3\u0CF4\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D3F\u0D50\u0D50\u0D56\u0D58\u0D61\u0D63\u0D7C\u0D81\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0E03\u0E32\u0E34\u0E35\u0E42\u0E48\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EB2\u0EB4\u0EB5\u0EBF\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F8A\u0F8E\u1002\u102C\u1041\u1041\u1052\u1057\u105C\u105F\u1063\u1063\u1067\u1068\u1070\u1072\u1077\u1083\u1090\u1090\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1713\u1722\u1733\u1742\u1753\u1762\u176E\u1770\u1772\u1782\u17B5\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u1886\u1889\u18AA\u18AC\u18AC\u18B2\u18F7\u1902\u1920\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A18\u1A22\u1A56\u1AA9\u1AA9\u1B07\u1B35\u1B47\u1B4D\u1B85\u1BA2\u1BB0\u1BB1\u1BBC\u1BE7\u1C02\u1C25\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF3\u1CF7\u1CF8\u1D02\u1DC1\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA681\uA69F\uA6A2\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA824\uA842\uA875\uA884\uA8B5\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA927\uA932\uA948\uA962\uA97E\uA986\uA9B4\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA2A\uAA42\uAA44\uAA46\uAA4D\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAB1\uAAB3\uAAB3\uAAB7\uAAB8\uAABB\uAABF\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAEC\uAAF4\uAAF6\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABE4\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB1F\uFB21\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u0377\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A02\u0A12\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1005\u1039\u1085\u10B1\u10D2\u10EA\u1105\u1128\u1152\u1174\u1178\u1178\u1185\u11B4\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u122D\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12E0\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u133F\u1352\u1352\u135F\u1363\u1402\u1436\u1449\u144C\u1482\u14B1\u14C6\u14C7\u14C9\u14C9\u1582\u15B0\u15DA\u15DD\u1602\u1631\u1646\u1646\u1682\u16AC\u1702\u171B\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C30\u1C42\u1C42\u1C74\u1C91\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B31\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F52\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548`;io._serializedATNSegment1=`\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE802\uE8C6\uE902\uE945\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`;io._serializedATN=Hbe.join([io._serializedATNSegment0,io._serializedATNSegment1],"")});var Wbe=G(f7=>{"use strict";d();var gmt=f7&&f7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(f7,"__esModule",{value:!0});f7.XPathLexerErrorListener=void 0;var ymt=ar(),Eee=class{syntaxError(e,t,r,i,s,o){}};gmt([ymt.Override],Eee.prototype,"syntaxError",null);f7.XPathLexerErrorListener=Eee});var Yv=G(d7=>{"use strict";d();var vmt=d7&&d7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(d7,"__esModule",{value:!0});d7.XPathElement=void 0;var _mt=ar(),See=class{constructor(e){this.nodeName=e,this.invert=!1}toString(){let e=this.invert?"!":"";return Object.constructor.name+"["+e+this.nodeName+"]"}};vmt([_mt.Override],See.prototype,"toString",null);d7.XPathElement=See});var Qbe=G(h7=>{"use strict";d();var bmt=h7&&h7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(h7,"__esModule",{value:!0});h7.XPathRuleAnywhereElement=void 0;var Emt=ar(),Smt=Dx(),Cmt=Yv(),Cee=class extends Cmt.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){return Smt.Trees.findAllRuleNodes(e,this.ruleIndex)}};bmt([Emt.Override],Cee.prototype,"evaluate",null);h7.XPathRuleAnywhereElement=Cee});var Gbe=G(p7=>{"use strict";d();var wmt=p7&&p7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(p7,"__esModule",{value:!0});p7.XPathRuleElement=void 0;var Amt=fh(),Tmt=ar(),Fmt=Dx(),Dmt=Yv(),wee=class extends Dmt.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){let t=[];for(let r of Fmt.Trees.getChildren(e))r instanceof Amt.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&t.push(r);return t}};wmt([Tmt.Override],wee.prototype,"evaluate",null);p7.XPathRuleElement=wee});var Ybe=G(m7=>{"use strict";d();var Omt=m7&&m7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(m7,"__esModule",{value:!0});m7.XPathTokenAnywhereElement=void 0;var Nmt=ar(),Rmt=Dx(),Lmt=Yv(),Aee=class extends Lmt.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){return Rmt.Trees.findAllTokenNodes(e,this.tokenType)}};Omt([Nmt.Override],Aee.prototype,"evaluate",null);m7.XPathTokenAnywhereElement=Aee});var Kbe=G(x7=>{"use strict";d();var kmt=x7&&x7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(x7,"__esModule",{value:!0});x7.XPathTokenElement=void 0;var Imt=ar(),Mmt=Fx(),Pmt=Dx(),Bmt=Yv(),Tee=class extends Bmt.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){let t=[];for(let r of Pmt.Trees.getChildren(e))r instanceof Mmt.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&t.push(r);return t}};kmt([Imt.Override],Tee.prototype,"evaluate",null);x7.XPathTokenElement=Tee});var Jbe=G(g7=>{"use strict";d();var jmt=g7&&g7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(g7,"__esModule",{value:!0});g7.XPathWildcardAnywhereElement=void 0;var qmt=ar(),Umt=Dx(),$mt=dM(),zmt=Yv(),Fee=class extends zmt.XPathElement{constructor(){super($mt.XPath.WILDCARD)}evaluate(e){return this.invert?[]:Umt.Trees.getDescendants(e)}};jmt([qmt.Override],Fee.prototype,"evaluate",null);g7.XPathWildcardAnywhereElement=Fee});var Xbe=G(y7=>{"use strict";d();var Hmt=y7&&y7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(y7,"__esModule",{value:!0});y7.XPathWildcardElement=void 0;var Vmt=ar(),Wmt=Dx(),Qmt=dM(),Gmt=Yv(),Dee=class extends Gmt.XPathElement{constructor(){super(Qmt.XPath.WILDCARD)}evaluate(e){let t=[];if(this.invert)return t;for(let r of Wmt.Trees.getChildren(e))t.push(r);return t}};Hmt([Vmt.Override],Dee.prototype,"evaluate",null);y7.XPathWildcardElement=Dee});var dM=G(hM=>{"use strict";d();Object.defineProperty(hM,"__esModule",{value:!0});hM.XPath=void 0;var Ymt=iM(),Kmt=aM(),Jmt=fT(),Xmt=fh(),Oee=_a(),kp=Vbe(),Zmt=Wbe(),e2t=Qbe(),t2t=Gbe(),n2t=Ybe(),r2t=Kbe(),i2t=Jbe(),s2t=Xbe(),v7=class{constructor(e,t){this.parser=e,this.path=t,this.elements=this.split(t)}split(e){let t=new kp.XPathLexer(Ymt.CharStreams.fromString(e));t.recover=l=>{throw l},t.removeErrorListeners(),t.addErrorListener(new Zmt.XPathLexerErrorListener);let r=new Kmt.CommonTokenStream(t);try{r.fill()}catch(l){if(l instanceof Jmt.LexerNoViableAltException){let f=t.charPositionInLine,p="Invalid tokens or characters at index "+f+" in path '"+e+"' -- "+l.message;throw new RangeError(p)}throw l}let i=r.getTokens(),s=[],o=i.length,a=0;e:for(;a<o;){let l=i[a],f;switch(l.type){case kp.XPathLexer.ROOT:case kp.XPathLexer.ANYWHERE:let p=l.type===kp.XPathLexer.ANYWHERE;a++,f=i[a];let v=f.type===kp.XPathLexer.BANG;v&&(a++,f=i[a]);let b=this.getXPathElement(f,p);b.invert=v,s.push(b),a++;break;case kp.XPathLexer.TOKEN_REF:case kp.XPathLexer.RULE_REF:case kp.XPathLexer.WILDCARD:s.push(this.getXPathElement(l,!1)),a++;break;case Oee.Token.EOF:break e;default:throw new Error("Unknowth path element "+l)}}return s}getXPathElement(e,t){if(e.type===Oee.Token.EOF)throw new Error("Missing path element at end of path");let r=e.text;if(r==null)throw new Error("Expected wordToken to have text content.");let i=this.parser.getTokenType(r),s=this.parser.getRuleIndex(r);switch(e.type){case kp.XPathLexer.WILDCARD:return t?new i2t.XPathWildcardAnywhereElement:new s2t.XPathWildcardElement;case kp.XPathLexer.TOKEN_REF:case kp.XPathLexer.STRING:if(i===Oee.Token.INVALID_TYPE)throw new Error(r+" at index "+e.startIndex+" isn't a valid token name");return t?new n2t.XPathTokenAnywhereElement(r,i):new r2t.XPathTokenElement(r,i);default:if(s===-1)throw new Error(r+" at index "+e.startIndex+" isn't a valid rule name");return t?new e2t.XPathRuleAnywhereElement(r,s):new t2t.XPathRuleElement(r,s)}}static findAll(e,t,r){return new v7(r,t).evaluate(e)}evaluate(e){let t=new Xmt.ParserRuleContext;t.addChild(e);let r=new Set([t]),i=0;for(;i<this.elements.length;){let s=new Set;for(let o of r)o.childCount>0&&this.elements[i].evaluate(o).forEach(s.add,s);i++,r=s}return r}};hM.XPath=v7;v7.WILDCARD="*";v7.NOT="!"});var Zbe=G(U3=>{"use strict";d();var mm=U3&&U3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Kv=U3&&U3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(U3,"__esModule",{value:!0});U3.ParseTreePattern=void 0;var $f=ar(),o2t=dM(),hh=class{constructor(e,t,r,i){this._matcher=e,this._patternRuleIndex=r,this._pattern=t,this._patternTree=i}match(e){return this._matcher.match(e,this)}matches(e){return this._matcher.match(e,this).succeeded}findAll(e,t){let r=o2t.XPath.findAll(e,t,this._matcher.parser),i=[];for(let s of r){let o=this.match(s);o.succeeded&&i.push(o)}return i}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};mm([$f.NotNull],hh.prototype,"_pattern",void 0);mm([$f.NotNull],hh.prototype,"_patternTree",void 0);mm([$f.NotNull],hh.prototype,"_matcher",void 0);mm([$f.NotNull,Kv(0,$f.NotNull)],hh.prototype,"match",null);mm([Kv(0,$f.NotNull)],hh.prototype,"matches",null);mm([$f.NotNull,Kv(0,$f.NotNull),Kv(1,$f.NotNull)],hh.prototype,"findAll",null);mm([$f.NotNull],hh.prototype,"matcher",null);mm([$f.NotNull],hh.prototype,"pattern",null);mm([$f.NotNull],hh.prototype,"patternTree",null);hh=mm([Kv(0,$f.NotNull),Kv(1,$f.NotNull),Kv(3,$f.NotNull)],hh);U3.ParseTreePattern=hh});var eEe=G($3=>{"use strict";d();var md=$3&&$3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},a2t=$3&&$3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($3,"__esModule",{value:!0});$3.RuleTagToken=void 0;var xd=ar(),u2t=_a(),zf=class{constructor(e,t,r){if(e==null||e.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=e,this.bypassTokenType=t,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return u2t.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};md([xd.NotNull],zf.prototype,"ruleName",null);md([xd.Override],zf.prototype,"channel",null);md([xd.Override],zf.prototype,"text",null);md([xd.Override],zf.prototype,"type",null);md([xd.Override],zf.prototype,"line",null);md([xd.Override],zf.prototype,"charPositionInLine",null);md([xd.Override],zf.prototype,"tokenIndex",null);md([xd.Override],zf.prototype,"startIndex",null);md([xd.Override],zf.prototype,"stopIndex",null);md([xd.Override],zf.prototype,"tokenSource",null);md([xd.Override],zf.prototype,"inputStream",null);md([xd.Override],zf.prototype,"toString",null);zf=md([a2t(0,xd.NotNull)],zf);$3.RuleTagToken=zf});var Nee=G(pM=>{"use strict";d();Object.defineProperty(pM,"__esModule",{value:!0});pM.Chunk=void 0;var tEe=class{};pM.Chunk=tEe});var iEe=G(_7=>{"use strict";d();var nEe=_7&&_7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(_7,"__esModule",{value:!0});_7.TagChunk=void 0;var l2t=Nee(),rEe=ar(),mM=class extends l2t.Chunk{constructor(e,t){super();if(e==null||e.length===0)throw new Error("tag cannot be null or empty");this._tag=e,this._label=t}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};nEe([rEe.NotNull],mM.prototype,"tag",null);nEe([rEe.Override],mM.prototype,"toString",null);_7.TagChunk=mM});var sEe=G(z3=>{"use strict";d();var xM=z3&&z3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},c2t=z3&&z3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(z3,"__esModule",{value:!0});z3.TextChunk=void 0;var f2t=Nee(),gM=ar(),b7=class extends f2t.Chunk{constructor(e){super();if(e==null)throw new Error("text cannot be null");this._text=e}get text(){return this._text}toString(){return"'"+this._text+"'"}};xM([gM.NotNull],b7.prototype,"_text",void 0);xM([gM.NotNull],b7.prototype,"text",null);xM([gM.Override],b7.prototype,"toString",null);b7=xM([c2t(0,gM.NotNull)],b7);z3.TextChunk=b7});var oEe=G(H3=>{"use strict";d();var MT=H3&&H3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},d2t=H3&&H3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(H3,"__esModule",{value:!0});H3.TokenTagToken=void 0;var h2t=KE(),PT=ar(),Jv=class extends h2t.CommonToken{constructor(e,t,r){super(t);this._tokenName=e,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};MT([PT.NotNull],Jv.prototype,"_tokenName",void 0);MT([PT.NotNull],Jv.prototype,"tokenName",null);MT([PT.Override],Jv.prototype,"text",null);MT([PT.Override],Jv.prototype,"toString",null);Jv=MT([d2t(0,PT.NotNull)],Jv);H3.TokenTagToken=Jv});var dEe=G(gm=>{"use strict";d();var yM=gm&&gm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vM=gm&&gm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(gm,"__esModule",{value:!0});gm.ParseTreePatternMatcher=void 0;var p2t=kee(),m2t=iM(),x2t=aM(),g2t=xee(),aEe=Bbe(),Xv=ar(),y2t=gee(),v2t=bee(),uEe=fh(),_2t=zbe(),b2t=Zbe(),E2t=cx(),S2t=U8(),lEe=eEe(),cEe=iEe(),Ree=Fx(),E7=sEe(),Lee=_a(),fEe=oEe(),xm=class{constructor(e,t){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=e,this._parser=t}setDelimiters(e,t,r){if(!e)throw new Error("start cannot be null or empty");if(!t)throw new Error("stop cannot be null or empty");this.start=e,this.stop=t,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.matches(e,i)}else{let i=new aEe.MultiMap;return!this.matchImpl(e,t.patternTree,i)}}match(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.match(e,i)}else{let i=new aEe.MultiMap,s=this.matchImpl(e,t.patternTree,i);return new _2t.ParseTreeMatch(e,t,i,s)}}compile(e,t){let r=this.tokenize(e),i=new g2t.ListTokenSource(r),s=new x2t.CommonTokenStream(i),o=this._parser,a=new v2t.ParserInterpreter(o.grammarFileName,o.vocabulary,o.ruleNames,o.getATNWithBypassAlts(),s),l;try{a.errorHandler=new p2t.BailErrorStrategy,l=a.parse(t)}catch(f){throw f instanceof y2t.ParseCancellationException?f.getCause():f instanceof E2t.RecognitionException?f:f instanceof Error?new xm.CannotInvokeStartRule(f):f}if(s.LA(1)!==Lee.Token.EOF)throw new xm.StartRuleDoesNotConsumeFullPattern;return new b2t.ParseTreePattern(this,e,t,l)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(e,t,r){if(!e)throw new TypeError("tree cannot be null");if(!t)throw new TypeError("patternTree cannot be null");if(e instanceof Ree.TerminalNode&&t instanceof Ree.TerminalNode){let i;if(e.symbol.type===t.symbol.type)if(t.symbol instanceof fEe.TokenTagToken){let s=t.symbol;r.map(s.tokenName,e);let o=s.label;o&&r.map(o,e)}else e.text===t.text||i||(i=e);else i||(i=e);return i}if(e instanceof uEe.ParserRuleContext&&t instanceof uEe.ParserRuleContext){let i,s=this.getRuleTagToken(t);if(s){let a;if(e.ruleContext.ruleIndex===t.ruleContext.ruleIndex){r.map(s.ruleName,e);let l=s.label;l&&r.map(l,e)}else i||(i=e);return i}if(e.childCount!==t.childCount)return i||(i=e),i;let o=e.childCount;for(let a=0;a<o;a++){let l=this.matchImpl(e.getChild(a),t.getChild(a),r);if(l)return l}return i}return e}getRuleTagToken(e){if(e instanceof S2t.RuleNode&&e.childCount===1&&e.getChild(0)instanceof Ree.TerminalNode){let t=e.getChild(0);if(t.symbol instanceof lEe.RuleTagToken)return t.symbol}}tokenize(e){let t=this.split(e),r=[];for(let i of t)if(i instanceof cEe.TagChunk){let s=i,o=s.tag.substr(0,1);if(o===o.toUpperCase()){let a=this._parser.getTokenType(s.tag);if(a===Lee.Token.INVALID_TYPE)throw new Error("Unknown token "+s.tag+" in pattern: "+e);let l=new fEe.TokenTagToken(s.tag,a,s.label);r.push(l)}else if(o===o.toLowerCase()){let a=this._parser.getRuleIndex(s.tag);if(a===-1)throw new Error("Unknown rule "+s.tag+" in pattern: "+e);let l=this._parser.getATNWithBypassAlts().ruleToTokenType[a];r.push(new lEe.RuleTagToken(s.tag,l,s.label))}else throw new Error("invalid tag: "+s.tag+" in pattern: "+e)}else{let s=i;this._lexer.inputStream=m2t.CharStreams.fromString(s.text);let o=this._lexer.nextToken();for(;o.type!==Lee.Token.EOF;)r.push(o),o=this._lexer.nextToken()}return r}split(e){let t=0,r=e.length,i=[],s,o=[],a=[];for(;t<r;)t===e.indexOf(this.escape+this.start,t)?t+=this.escape.length+this.start.length:t===e.indexOf(this.escape+this.stop,t)?t+=this.escape.length+this.stop.length:t===e.indexOf(this.start,t)?(o.push(t),t+=this.start.length):t===e.indexOf(this.stop,t)?(a.push(t),t+=this.stop.length):t++;if(o.length>a.length)throw new Error("unterminated tag in pattern: "+e);if(o.length<a.length)throw new Error("missing start tag in pattern: "+e);let l=o.length;for(let f=0;f<l;f++)if(o[f]>=a[f])throw new Error("tag delimiters out of order in pattern: "+e);if(l===0){let f=e.substring(0,r);i.push(new E7.TextChunk(f))}if(l>0&&o[0]>0){let f=e.substring(0,o[0]);i.push(new E7.TextChunk(f))}for(let f=0;f<l;f++){let p=e.substring(o[f]+this.start.length,a[f]),v=p,b,F=p.indexOf(":");if(F>=0&&(b=p.substring(0,F),v=p.substring(F+1,p.length)),i.push(new cEe.TagChunk(v,b)),f+1<l){let D=e.substring(a[f]+this.stop.length,o[f+1]);i.push(new E7.TextChunk(D))}}if(l>0){let f=a[l-1]+this.stop.length;if(f<r){let p=e.substring(f,r);i.push(new E7.TextChunk(p))}}for(let f=0;f<i.length;f++){let p=i[f];if(p instanceof E7.TextChunk){let v=p.text.replace(this.escapeRE,"");v.length<p.text.length&&(i[f]=new E7.TextChunk(v))}}return i}};yM([Xv.NotNull,vM(1,Xv.NotNull)],xm.prototype,"match",null);yM([Xv.NotNull],xm.prototype,"lexer",null);yM([Xv.NotNull],xm.prototype,"parser",null);yM([vM(0,Xv.NotNull),vM(1,Xv.NotNull),vM(2,Xv.NotNull)],xm.prototype,"matchImpl",null);gm.ParseTreePatternMatcher=xm;(function(n){class e extends Error{constructor(i){super(`CannotInvokeStartRule: ${i}`);this.error=i}}n.CannotInvokeStartRule=e;class t extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}n.StartRuleDoesNotConsumeFullPattern=t})(xm=gm.ParseTreePatternMatcher||(gm.ParseTreePatternMatcher={}))});var S7=G(V3=>{"use strict";d();var hEe=V3&&V3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},C2t=V3&&V3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(V3,"__esModule",{value:!0});V3.DecisionEventInfo=void 0;var pEe=ar(),_M=class{constructor(e,t,r,i,s,o){this.decision=e,this.fullCtx=o,this.stopIndex=s,this.input=r,this.startIndex=i,this.state=t}};hEe([pEe.NotNull],_M.prototype,"input",void 0);_M=hEe([C2t(2,pEe.NotNull)],_M);V3.DecisionEventInfo=_M});var mEe=G(W3=>{"use strict";d();var Iee=W3&&W3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Mee=W3&&W3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(W3,"__esModule",{value:!0});W3.AmbiguityInfo=void 0;var w2t=S7(),BT=ar(),jT=class extends w2t.DecisionEventInfo{constructor(e,t,r,i,s,o){super(e,t,i,s,o,t.useContext);this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};Iee([BT.NotNull],jT.prototype,"ambigAlts",void 0);Iee([BT.NotNull],jT.prototype,"ambiguousAlternatives",null);jT=Iee([Mee(1,BT.NotNull),Mee(2,BT.NotNull),Mee(3,BT.NotNull)],jT);W3.AmbiguityInfo=jT});var yEe=G(Q3=>{"use strict";d();var A2t=Q3&&Q3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xEe=Q3&&Q3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Q3,"__esModule",{value:!0});Q3.ContextSensitivityInfo=void 0;var T2t=S7(),gEe=ar(),Pee=class extends T2t.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}};Pee=A2t([xEe(1,gEe.NotNull),xEe(2,gEe.NotNull)],Pee);Q3.ContextSensitivityInfo=Pee});var vEe=G(C7=>{"use strict";d();var F2t=C7&&C7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(C7,"__esModule",{value:!0});C7.DecisionInfo=void 0;var D2t=ar(),Bee=class{constructor(e){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=e}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};F2t([D2t.Override],Bee.prototype,"toString",null);C7.DecisionInfo=Bee});var EEe=G(G3=>{"use strict";d();var O2t=G3&&G3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},_Ee=G3&&G3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(G3,"__esModule",{value:!0});G3.ErrorInfo=void 0;var N2t=S7(),bEe=ar(),jee=class extends N2t.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,t.useContext)}};jee=O2t([_Ee(1,bEe.NotNull),_Ee(2,bEe.NotNull)],jee);G3.ErrorInfo=jee});var SEe=G(Y3=>{"use strict";d();var R2t=Y3&&Y3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},L2t=Y3&&Y3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Y3,"__esModule",{value:!0});Y3.LookaheadEventInfo=void 0;var k2t=S7(),I2t=ar(),qee=class extends k2t.DecisionEventInfo{constructor(e,t,r,i,s,o,a){super(e,t,i,s,o,a);this.predictedAlt=r}};qee=R2t([L2t(3,I2t.NotNull)],qee);Y3.LookaheadEventInfo=qee});var CEe=G(K3=>{"use strict";d();var M2t=K3&&K3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Uee=K3&&K3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(K3,"__esModule",{value:!0});K3.PredicateEvalInfo=void 0;var P2t=S7(),$ee=ar(),zee=class extends P2t.DecisionEventInfo{constructor(e,t,r,i,s,o,a,l){super(t,e,r,i,s,e.useContext);this.semctx=o,this.evalResult=a,this.predictedAlt=l}};zee=M2t([Uee(0,$ee.NotNull),Uee(2,$ee.NotNull),Uee(5,$ee.NotNull)],zee);K3.PredicateEvalInfo=zee});var Hee=G(J3=>{"use strict";d();var ym=J3&&J3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},bM=J3&&J3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(J3,"__esModule",{value:!0});J3.ProfilingATNSimulator=void 0;var B2t=mEe(),wEe=Fp(),j2t=rT(),AEe=yEe(),q2t=vEe(),TEe=EEe(),w0=ar(),FEe=SEe(),U2t=Q8(),$2t=CEe(),z2t=yv(),DEe=qZ(),ph=class extends U2t.ParserATNSimulator{constructor(e){super(e.interpreter.atn,e);this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new q2t.DecisionInfo(t))}adaptivePredict(e,t,r,i){if(i!==void 0)return super.adaptivePredict(e,t,r,i);try{this._input=e,this._startIndex=e.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=t,this.currentState=void 0,this.conflictingAltResolvedBySLL=wEe.ATN.INVALID_ALT_NUMBER;let s=process.hrtime(),o=super.adaptivePredict(e,t,r),a=process.hrtime(),l=(a[0]-s[0])*1e9;l===0?l=a[1]-s[1]:l+=1e9-s[1]+a[1],this.decisions[t].timeInPrediction+=l,this.decisions[t].invocations++;let f=this._sllStopIndex-this._startIndex+1;if(this.decisions[t].SLL_TotalLook+=f,this.decisions[t].SLL_MinLook=this.decisions[t].SLL_MinLook===0?f:Math.min(this.decisions[t].SLL_MinLook,f),f>this.decisions[t].SLL_MaxLook&&(this.decisions[t].SLL_MaxLook=f,this.decisions[t].SLL_MaxLookEvent=new FEe.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let p=this._llStopIndex-this._startIndex+1;this.decisions[t].LL_TotalLook+=p,this.decisions[t].LL_MinLook=this.decisions[t].LL_MinLook===0?p:Math.min(this.decisions[t].LL_MinLook,p),p>this.decisions[t].LL_MaxLook&&(this.decisions[t].LL_MaxLook=p,this.decisions[t].LL_MaxLookEvent=new FEe.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._llStopIndex,!0))}return o}finally{this._input=void 0,this.currentDecision=-1}}getStartState(e,t,r,i){let s=super.getStartState(e,t,r,i);return this.currentState=s,s}computeStartState(e,t,r){let i=super.computeStartState(e,t,r);return this.currentState=i,i}computeReachSet(e,t,r,i){if(this._input===void 0)throw new Error("Invalid state");let s=super.computeReachSet(e,t,r,i);return s==null&&this.decisions[this.currentDecision].errors.push(new TEe.ErrorInfo(this.currentDecision,t,this._input,this._startIndex,this._input.index)),this.currentState=s,s}getExistingTargetState(e,t){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(e,t);if(r!=null&&(this.currentState=new DEe.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===j2t.ATNSimulator.ERROR)){let i=new DEe.SimulatorState(this.currentState.outerContext,e,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new TEe.ErrorInfo(this.currentDecision,i,this._input,this._startIndex,this._input.index))}return r}computeTargetState(e,t,r,i,s,o){let a=super.computeTargetState(e,t,r,i,s,o);return s?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,a}evalSemanticContextImpl(e,t,r){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let i=super.evalSemanticContextImpl(e,t,r);if(!(e instanceof z2t.SemanticContext.PrecedencePredicate)){let o=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new $2t.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,o,e,i,r))}return i}reportContextSensitivity(e,t,r,i,s){if(this._input===void 0)throw new Error("Invalid state");t!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new AEe.ContextSensitivityInfo(this.currentDecision,r,this._input,i,s)),super.reportContextSensitivity(e,t,r,i,s)}reportAttemptingFullContext(e,t,r,i,s){t!=null?this.conflictingAltResolvedBySLL=t.nextSetBit(0):this.conflictingAltResolvedBySLL=r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(e,t,r,i,s)}reportAmbiguity(e,t,r,i,s,o,a){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let l;o!=null?l=o.nextSetBit(0):l=a.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==wEe.ATN.INVALID_ALT_NUMBER&&l!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new AEe.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,i)),this.decisions[this.currentDecision].ambiguities.push(new B2t.AmbiguityInfo(this.currentDecision,this.currentState,o,this._input,r,i)),super.reportAmbiguity(e,t,r,i,s,o,a)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};ym([w0.Override,bM(0,w0.NotNull)],ph.prototype,"adaptivePredict",null);ym([w0.Override],ph.prototype,"getStartState",null);ym([w0.Override],ph.prototype,"computeStartState",null);ym([w0.Override],ph.prototype,"computeReachSet",null);ym([w0.Override],ph.prototype,"getExistingTargetState",null);ym([w0.Override],ph.prototype,"computeTargetState",null);ym([w0.Override],ph.prototype,"evalSemanticContextImpl",null);ym([w0.Override],ph.prototype,"reportContextSensitivity",null);ym([w0.Override],ph.prototype,"reportAttemptingFullContext",null);ym([w0.Override,bM(0,w0.NotNull),bM(5,w0.NotNull),bM(6,w0.NotNull)],ph.prototype,"reportAmbiguity",null);J3.ProfilingATNSimulator=ph});var $8=G(vm=>{"use strict";d();var Ll=vm&&vm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},EM=vm&&vm.__param||function(n,e){return function(t,r){e(t,r,n)}},OEe=vm&&vm.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{f(r.next(p))}catch(v){o(v)}}function l(p){try{f(r.throw(p))}catch(v){o(v)}}function f(p){p.done?s(p.value):i(p.value).then(a,l)}f((r=r.apply(n,e||[])).next())})};Object.defineProperty(vm,"__esModule",{value:!0});vm.Parser=void 0;var H2t=Tp(),V2t=vZ(),W2t=OT(),Q2t=SM(),G2t=q8(),Y2t=IX(),K2t=Ex(),qu=ar(),J2t=Dbe(),X2t=Q8(),Z2t=lee(),ext=n8(),txt=Fx(),qT=_a(),w7=class{constructor(e,t){this.ruleNames=e,this.tokenStream=t}enterEveryRule(e){console.log("enter   "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(e){console.log("exit    "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(e){}visitTerminal(e){let t=e.parent.ruleContext,r=e.symbol;console.log("consume "+r+" rule "+this.ruleNames[t.ruleIndex])}};Ll([qu.Override],w7.prototype,"enterEveryRule",null);Ll([qu.Override],w7.prototype,"exitEveryRule",null);Ll([qu.Override],w7.prototype,"visitErrorNode",null);Ll([qu.Override],w7.prototype,"visitTerminal",null);var wu=class extends ext.Recognizer{constructor(e){super();this._errHandler=new Q2t.DefaultErrorStrategy,this._precedenceStack=new Y2t.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=e}reset(e){(e===void 0||e)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let t=this.interpreter;t!=null&&t.reset()}match(e){let t=this.currentToken;return t.type===e?(e===qT.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&t.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}matchWildcard(){let e=this.currentToken;return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}set buildParseTree(e){this._buildParseTrees=e}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(e){if(e==null)throw new TypeError("listener cannot be null");this._parseListeners.push(e)}removeParseListener(e){let t=this._parseListeners.findIndex(r=>r===e);t!==-1&&this._parseListeners.splice(t,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let e of this._parseListeners)e.enterEveryRule&&e.enterEveryRule(this._ctx),this._ctx.enterRule(e)}triggerExitRuleEvent(){for(let e=this._parseListeners.length-1;e>=0;e--){let t=this._parseListeners[e];this._ctx.exitRule(t),t.exitEveryRule&&t.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let e=this.serializedATN;if(e==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let t=wu.bypassAltsAtnCache.get(e);if(t==null){let r=new V2t.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,t=new W2t.ATNDeserializer(r).deserialize(H2t.toCharArray(e)),wu.bypassAltsAtnCache.set(e,t)}return t}compileParseTreePattern(e,t,r){return OEe(this,void 0,void 0,function*(){if(!r){if(this.inputStream){let a=this.inputStream.tokenSource;a instanceof K2t.Lexer&&(r=a)}if(!r)throw new Error("Parser can't discover a lexer to use")}let i=r,s=yield Promise.resolve().then(()=>dEe());return new s.ParseTreePatternMatcher(i,this).compile(e,t)})}get errorHandler(){return this._errHandler}set errorHandler(e){this._errHandler=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e}get currentToken(){return this._input.LT(1)}notifyErrorListeners(e,t,r){t===void 0?t=this.currentToken:t===null&&(t=void 0),this._syntaxErrors++;let i=-1,s=-1;t!=null&&(i=t.line,s=t.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,t,i,s,e,r)}consume(){let e=this.currentToken;e.type!==wu.EOF&&this.inputStream.consume();let t=this._parseListeners.length!==0;if(this._buildParseTrees||t)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,e));if(t)for(let i of this._parseListeners)i.visitErrorNode&&i.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,e);if(this._ctx.addChild(r),t)for(let i of this._parseListeners)i.visitTerminal&&i.visitTerminal(r)}return e}createTerminalNode(e,t){return new txt.TerminalNode(t)}createErrorNode(e,t){return new G2t.ErrorNode(t)}addContextToParseTree(){let e=this._ctx._parent;e!=null&&e.addChild(this._ctx)}enterRule(e,t,r){this.state=t,this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(e,t,r){if(this.state=t,this._buildParseTrees){let i=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),i._parent=e,e.addChild(i)}this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(e,t){if(e.altNumber=t,this._buildParseTrees&&this._ctx!==e){let r=this._ctx._parent;r!=null&&(r.removeLastChild(),r.addChild(e))}this._ctx=e}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(e,t,r,i){this.state=t,this._precedenceStack.push(i),this._ctx=e,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,t,r){let i=this._ctx;i._parent=e,i.invokingState=t,i._stop=this._input.tryLT(-1),this._ctx=e,this._ctx._start=i._start,this._buildParseTrees&&this._ctx.addChild(i),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let t=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=e;t._parent=e,this._buildParseTrees&&e!=null&&e.addChild(t)}getInvokingContext(e){let t=this._ctx;for(;t&&t.ruleIndex!==e;)t=t._parent;return t}get context(){return this._ctx}set context(e){this._ctx=e}precpred(e,t){return t>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new Z2t.ProxyParserErrorListener(this.getErrorListeners())}inContext(e){return!1}isExpectedToken(e){let t=this.interpreter.atn,r=this._ctx,i=t.states[this.state],s=t.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(qT.Token.EPSILON))return!1;for(;r!=null&&r.invokingState>=0&&s.contains(qT.Token.EPSILON);){let a=t.states[r.invokingState].transition(0);if(s=t.nextTokens(a.followState),s.contains(e))return!0;r=r._parent}return!!(s.contains(qT.Token.EPSILON)&&e===qT.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let e=this.interpreter.atn,t=e.states[this.state];return e.nextTokens(t)}getRuleIndex(e){let t=this.getRuleIndexMap().get(e);return t??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(e=this._ctx){let t=e,r=this.ruleNames,i=[];for(;t!=null;){let s=t.ruleIndex;s<0?i.push("n/a"):i.push(r[s]),t=t._parent}return i}getDFAStrings(){let e=[];for(let t of this._interp.atn.decisionToDFA)e.push(t.toString(this.vocabulary,this.ruleNames));return e}dumpDFA(){let e=!1;for(let t of this._interp.atn.decisionToDFA)t.isEmpty||(e&&console.log(),console.log("Decision "+t.decision+":"),process.stdout.write(t.toString(this.vocabulary,this.ruleNames)),e=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>Hee()).then(e=>{let t=this.interpreter;if(t instanceof e.ProfilingATNSimulator)return new J2t.ParseInfo(t)})}setProfile(e){return OEe(this,void 0,void 0,function*(){let t=yield Promise.resolve().then(()=>Hee()),r=this.interpreter;e?r instanceof t.ProfilingATNSimulator||(this.interpreter=new t.ProfilingATNSimulator(this)):r instanceof t.ProfilingATNSimulator&&(this.interpreter=new X2t.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(r.getPredictionMode())})}set isTrace(e){e?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new w7(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};wu.bypassAltsAtnCache=new Map;Ll([qu.NotNull],wu.prototype,"_errHandler",void 0);Ll([qu.NotNull],wu.prototype,"match",null);Ll([qu.NotNull],wu.prototype,"matchWildcard",null);Ll([qu.NotNull],wu.prototype,"getParseListeners",null);Ll([EM(0,qu.NotNull)],wu.prototype,"addParseListener",null);Ll([qu.NotNull],wu.prototype,"getATNWithBypassAlts",null);Ll([qu.NotNull,EM(0,qu.NotNull)],wu.prototype,"errorHandler",null);Ll([qu.Override],wu.prototype,"inputStream",null);Ll([qu.NotNull],wu.prototype,"currentToken",null);Ll([EM(0,qu.NotNull)],wu.prototype,"enterRule",null);Ll([qu.Override,EM(0,qu.Nullable)],wu.prototype,"precpred",null);Ll([qu.Override],wu.prototype,"getErrorListenerDispatch",null);Ll([qu.NotNull],wu.prototype,"getExpectedTokens",null);Ll([qu.NotNull],wu.prototype,"getExpectedTokensWithinCurrentRule",null);Ll([qu.Override],wu.prototype,"parseInfo",null);vm.Parser=wu});var ET=G(A7=>{"use strict";d();var nxt=A7&&A7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(A7,"__esModule",{value:!0});A7.NoViableAltException=void 0;var rxt=$8(),ixt=cx(),sxt=ar(),Vee=class extends ixt.RecognitionException{constructor(e,t,r,i,s,o){e instanceof rxt.Parser&&(t===void 0&&(t=e.inputStream),r===void 0&&(r=e.currentToken),i===void 0&&(i=e.currentToken),o===void 0&&(o=e.context));super(e,t,o);this._deadEndConfigs=s,this._startToken=r,this.setOffendingToken(e,i)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};nxt([sxt.NotNull],Vee.prototype,"_startToken",void 0);A7.NoViableAltException=Vee});var SM=G(X3=>{"use strict";d();var Ga=X3&&X3.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Uu=X3&&X3.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(X3,"__esModule",{value:!0});X3.DefaultErrorStrategy=void 0;var NEe=H1(),T7=nc(),oxt=VA(),CM=WA(),REe=s3(),axt=ET(),uxt=sh(),Mx=_a(),Ao=ar(),ba=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=NEe.ATNState.INVALID_STATE_NUMBER}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof axt.NoViableAltException?this.reportNoViableAlternative(e,t):t instanceof CM.InputMismatchException?this.reportInputMismatch(e,t):t instanceof oxt.FailedPredicateException?this.reportFailedPredicate(e,t):(console.error(`unknown recognition error type: ${t}`),this.notifyErrorListeners(e,t.toString(),t)))}notifyErrorListeners(e,t,r){let i=r.getOffendingToken(e);i===void 0&&(i=null),e.notifyErrorListeners(t,i,r)}recover(e,t){this.lastErrorIndex===e.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(e.state)&&e.consume(),this.lastErrorIndex=e.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new REe.IntervalSet),this.lastErrorStates.add(e.state);let r=this.getErrorRecoverySet(e);this.consumeUntil(e,r)}sync(e){let t=e.interpreter.atn.states[e.state];if(this.inErrorRecoveryMode(e))return;let i=e.inputStream.LA(1),s=e.atn.nextTokens(t);if(s.contains(i)){this.nextTokensContext=void 0,this.nextTokensState=NEe.ATNState.INVALID_STATE_NUMBER;return}if(s.contains(Mx.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=e.context,this.nextTokensState=e.state);return}switch(t.stateType){case T7.ATNStateType.BLOCK_START:case T7.ATNStateType.STAR_BLOCK_START:case T7.ATNStateType.PLUS_BLOCK_START:case T7.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(e))return;throw new CM.InputMismatchException(e);case T7.ATNStateType.PLUS_LOOP_BACK:case T7.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(e);let a=e.getExpectedTokens().or(this.getErrorRecoverySet(e));this.consumeUntil(e,a);break;default:break}}reportNoViableAlternative(e,t){let r=e.inputStream,i;r?t.startToken.type===Mx.Token.EOF?i="<EOF>":i=r.getTextFromRange(t.startToken,t.getOffendingToken()):i="<unknown input>";let s="no viable alternative at input "+this.escapeWSAndQuote(i);this.notifyErrorListeners(e,s,t)}reportInputMismatch(e,t){let r=t.expectedTokens,i=r?r.toStringVocabulary(e.vocabulary):"",s="mismatched input "+this.getTokenErrorDisplay(t.getOffendingToken(e))+" expecting "+i;this.notifyErrorListeners(e,s,t)}reportFailedPredicate(e,t){let r=e.ruleNames[e.context.ruleIndex],i="rule "+r+" "+t.message;this.notifyErrorListeners(e,i,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getTokenErrorDisplay(t),i=this.getExpectedTokens(e),s="extraneous input "+r+" expecting "+i.toStringVocabulary(e.vocabulary);e.notifyErrorListeners(s,t,void 0)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getExpectedTokens(e),i="missing "+r.toStringVocabulary(e.vocabulary)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(i,t,void 0)}recoverInline(e){let t=this.singleTokenDeletion(e);if(t)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw this.nextTokensContext===void 0?new CM.InputMismatchException(e):new CM.InputMismatchException(e,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(e){let t=e.inputStream.LA(1),i=e.interpreter.atn.states[e.state].transition(0).target,s=e.interpreter.atn;return s.nextTokens(i,uxt.PredictionContext.fromRuleContext(s,e.context)).contains(t)?(this.reportMissingToken(e),!0):!1}singleTokenDeletion(e){let t=e.inputStream.LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();let i=e.currentToken;return this.reportMatch(e),i}}getMissingSymbol(e){let t=e.currentToken,r=this.getExpectedTokens(e),i=Mx.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let s;i===Mx.Token.EOF?s="<missing EOF>":s="<missing "+e.vocabulary.getDisplayName(i)+">";let o=t,a=e.inputStream.tryLT(-1);return o.type===Mx.Token.EOF&&a!=null&&(o=a),this.constructToken(e.inputStream.tokenSource,i,s,o)}constructToken(e,t,r,i){let s=e.tokenFactory,o=i.tokenSource,a=o?o.inputStream:void 0;return s.create({source:e,stream:a},t,r,Mx.Token.DEFAULT_CHANNEL,-1,-1,i.line,i.charPositionInLine)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(e){if(!e)return"<no token>";let t=this.getSymbolText(e);return t||(this.getSymbolType(e)===Mx.Token.EOF?t="<EOF>":t=`<${this.getSymbolType(e)}>`),this.escapeWSAndQuote(t)}getSymbolText(e){return e.text}getSymbolType(e){return e.type}escapeWSAndQuote(e){return e=e.replace(`
`,"\\n"),e=e.replace("\r","\\r"),e=e.replace("	","\\t"),"'"+e+"'"}getErrorRecoverySet(e){let t=e.interpreter.atn,r=e.context,i=new REe.IntervalSet;for(;r&&r.invokingState>=0;){let o=t.states[r.invokingState].transition(0),a=t.nextTokens(o.followState);i.addAll(a),r=r._parent}return i.remove(Mx.Token.EPSILON),i}consumeUntil(e,t){let r=e.inputStream.LA(1);for(;r!==Mx.Token.EOF&&!t.contains(r);)e.consume(),r=e.inputStream.LA(1)}};Ga([Ao.Override],ba.prototype,"reset",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"beginErrorCondition",null);Ga([Ao.Override],ba.prototype,"inErrorRecoveryMode",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"endErrorCondition",null);Ga([Ao.Override],ba.prototype,"reportMatch",null);Ga([Ao.Override],ba.prototype,"reportError",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"notifyErrorListeners",null);Ga([Ao.Override],ba.prototype,"recover",null);Ga([Ao.Override],ba.prototype,"sync",null);Ga([Uu(0,Ao.NotNull),Uu(1,Ao.NotNull)],ba.prototype,"reportNoViableAlternative",null);Ga([Uu(0,Ao.NotNull),Uu(1,Ao.NotNull)],ba.prototype,"reportInputMismatch",null);Ga([Uu(0,Ao.NotNull),Uu(1,Ao.NotNull)],ba.prototype,"reportFailedPredicate",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"reportUnwantedToken",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"reportMissingToken",null);Ga([Ao.Override],ba.prototype,"recoverInline",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"singleTokenInsertion",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"singleTokenDeletion",null);Ga([Ao.NotNull,Uu(0,Ao.NotNull)],ba.prototype,"getMissingSymbol",null);Ga([Ao.NotNull,Uu(0,Ao.NotNull)],ba.prototype,"getExpectedTokens",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"getSymbolText",null);Ga([Uu(0,Ao.NotNull)],ba.prototype,"getSymbolType",null);Ga([Ao.NotNull,Uu(0,Ao.NotNull)],ba.prototype,"escapeWSAndQuote",null);Ga([Ao.NotNull,Uu(0,Ao.NotNull)],ba.prototype,"getErrorRecoverySet",null);Ga([Uu(0,Ao.NotNull),Uu(1,Ao.NotNull)],ba.prototype,"consumeUntil",null);X3.DefaultErrorStrategy=ba});var kee=G(F7=>{"use strict";d();var Wee=F7&&F7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(F7,"__esModule",{value:!0});F7.BailErrorStrategy=void 0;var lxt=SM(),cxt=WA(),Qee=ar(),LEe=gee(),UT=class extends lxt.DefaultErrorStrategy{recover(e,t){for(let r=e.context;r;r=r.parent)r.exception=t;throw new LEe.ParseCancellationException(t)}recoverInline(e){let t=new cxt.InputMismatchException(e);for(let r=e.context;r;r=r.parent)r.exception=t;throw new LEe.ParseCancellationException(t)}sync(e){}};Wee([Qee.Override],UT.prototype,"recover",null);Wee([Qee.Override],UT.prototype,"recoverInline",null);Wee([Qee.Override],UT.prototype,"sync",null);F7.BailErrorStrategy=UT});var IEe=G(kEe=>{"use strict";d();Object.defineProperty(kEe,"__esModule",{value:!0})});var MEe=G($T=>{"use strict";d();Object.defineProperty($T,"__esModule",{value:!0});$T.Dependents=void 0;var fxt;(function(n){n[n.SELF=0]="SELF",n[n.PARENTS=1]="PARENTS",n[n.CHILDREN=2]="CHILDREN",n[n.ANCESTORS=3]="ANCESTORS",n[n.DESCENDANTS=4]="DESCENDANTS",n[n.SIBLINGS=5]="SIBLINGS",n[n.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",n[n.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",n[n.PRECEEDING=8]="PRECEEDING",n[n.FOLLOWING=9]="FOLLOWING"})(fxt=$T.Dependents||($T.Dependents={}))});var PEe=G(e5=>{"use strict";d();var D7=e5&&e5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},mh=e5&&e5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(e5,"__esModule",{value:!0});e5.DiagnosticErrorListener=void 0;var dxt=px(),Nc=ar(),Gee=df(),Z3=class{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,t,r,i,s,o){}reportAmbiguity(e,t,r,i,s,o,a){if(this.exactOnly&&!s)return;let l=this.getDecisionDescription(e,t),f=this.getConflictingAlts(o,a),p=e.inputStream.getText(Gee.Interval.of(r,i)),v=`reportAmbiguity d=${l}: ambigAlts=${f}, input='${p}'`;e.notifyErrorListeners(v)}reportAttemptingFullContext(e,t,r,i,s,o){let a="reportAttemptingFullContext d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(Gee.Interval.of(r,i)),p=`reportAttemptingFullContext d=${l}, input='${f}'`;e.notifyErrorListeners(p)}reportContextSensitivity(e,t,r,i,s,o){let a="reportContextSensitivity d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(Gee.Interval.of(r,i)),p=`reportContextSensitivity d=${l}, input='${f}'`;e.notifyErrorListeners(p)}getDecisionDescription(e,t){let r=t.decision,i=t.atnStartState.ruleIndex,s=e.ruleNames;if(i<0||i>=s.length)return r.toString();let o=s[i];return o?`${r} (${o})`:r.toString()}getConflictingAlts(e,t){if(e!=null)return e;let r=new dxt.BitSet;for(let i of t)r.set(i.alt);return r}};D7([Nc.Override],Z3.prototype,"syntaxError",null);D7([Nc.Override,mh(0,Nc.NotNull),mh(1,Nc.NotNull),mh(6,Nc.NotNull)],Z3.prototype,"reportAmbiguity",null);D7([Nc.Override,mh(0,Nc.NotNull),mh(1,Nc.NotNull),mh(5,Nc.NotNull)],Z3.prototype,"reportAttemptingFullContext",null);D7([Nc.Override,mh(0,Nc.NotNull),mh(1,Nc.NotNull),mh(5,Nc.NotNull)],Z3.prototype,"reportContextSensitivity",null);D7([mh(0,Nc.NotNull),mh(1,Nc.NotNull)],Z3.prototype,"getDecisionDescription",null);D7([Nc.NotNull,mh(1,Nc.NotNull)],Z3.prototype,"getConflictingAlts",null);e5.DiagnosticErrorListener=Z3});var jEe=G(n5=>{"use strict";d();var t5=n5&&n5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},hxt=n5&&n5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(n5,"__esModule",{value:!0});n5.LexerInterpreter=void 0;var pxt=Ex(),mxt=hT(),BEe=ar(),O7=ar(),_m=class extends pxt.Lexer{constructor(e,t,r,i,s,o,a){super(a);if(o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=i.slice(0),this._modeNames=s.slice(0),this._vocabulary=t,this._interp=new mxt.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};t5([BEe.NotNull],_m.prototype,"_vocabulary",void 0);t5([O7.Override],_m.prototype,"atn",null);t5([O7.Override],_m.prototype,"grammarFileName",null);t5([O7.Override],_m.prototype,"ruleNames",null);t5([O7.Override],_m.prototype,"channelNames",null);t5([O7.Override],_m.prototype,"modeNames",null);t5([O7.Override],_m.prototype,"vocabulary",null);_m=t5([hxt(1,BEe.NotNull)],_m);n5.LexerInterpreter=_m});var UEe=G(qEe=>{"use strict";d();Object.defineProperty(qEe,"__esModule",{value:!0})});var $Ee=G(N7=>{"use strict";d();var xxt=N7&&N7.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(N7,"__esModule",{value:!0});N7.RuleContextWithAltNum=void 0;var gxt=Fp(),yxt=ar(),vxt=fh(),Yee=class extends vxt.ParserRuleContext{constructor(e,t){t!==void 0?super(e,t):super(),this._altNumber=gxt.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}};xxt([yxt.Override],Yee.prototype,"altNumber",null);N7.RuleContextWithAltNum=Yee});var zEe=G(wM=>{"use strict";d();Object.defineProperty(wM,"__esModule",{value:!0});wM.RuleDependency=void 0;function _xt(n){return(e,t,r)=>{}}wM.RuleDependency=_xt});var HEe=G(AM=>{"use strict";d();Object.defineProperty(AM,"__esModule",{value:!0});AM.RuleVersion=void 0;function bxt(n){return(e,t,r)=>{}}AM.RuleVersion=bxt});var WEe=G(VEe=>{"use strict";d();Object.defineProperty(VEe,"__esModule",{value:!0})});var GEe=G(QEe=>{"use strict";d();Object.defineProperty(QEe,"__esModule",{value:!0})});var KEe=G(YEe=>{"use strict";d();Object.defineProperty(YEe,"__esModule",{value:!0})});var ZEe=G(i5=>{"use strict";d();var TM=i5&&i5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(i5,"__esModule",{value:!0});i5.RewriteOperation=i5.TokenStreamRewriter=void 0;var JEe=df(),FM=ar(),XEe=_a(),Rc=class{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(Rc.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,t=Rc.DEFAULT_PROGRAM_NAME){let r=this.programs.get(t);r!=null&&this.programs.set(t,r.slice(Rc.MIN_TOKEN_INDEX,e))}deleteProgram(e=Rc.DEFAULT_PROGRAM_NAME){this.rollback(Rc.MIN_TOKEN_INDEX,e)}insertAfter(e,t,r=Rc.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new Kee(this.tokens,i,s.length,t);s.push(o)}insertBefore(e,t,r=Rc.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new r5(this.tokens,i,s.length,t);s.push(o)}replaceSingle(e,t){typeof e=="number"?this.replace(e,e,t):this.replace(e,e,t)}replace(e,t,r,i=Rc.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let s=this.getProgram(i),o=new Zv(this.tokens,e,t,s.length,r);s.push(o)}delete(e,t,r=Rc.DEFAULT_PROGRAM_NAME){t===void 0&&(t=e),typeof e=="number"?this.replace(e,t,"",r):this.replace(e,t,"",r)}getLastRewriteTokenIndex(e=Rc.DEFAULT_PROGRAM_NAME){let t=this.lastRewriteTokenIndexes.get(e);return t??-1}setLastRewriteTokenIndex(e,t){this.lastRewriteTokenIndexes.set(e,t)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){let t=[];return this.programs.set(e,t),t}getText(e,t=Rc.DEFAULT_PROGRAM_NAME){let r;e instanceof JEe.Interval?r=e:r=JEe.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(t=e);let i=this.programs.get(t),s=r.a,o=r.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),i==null||i.length===0)return this.tokens.getText(r);let a=[],l=this.reduceToSingleOperationPerIndex(i),f=s;for(;f<=o&&f<this.tokens.size;){let p=l.get(f);l.delete(f);let v=this.tokens.get(f);p==null?(v.type!==XEe.Token.EOF&&a.push(String(v.text)),f++):f=p.execute(a)}if(o===this.tokens.size-1)for(let p of l.values())p.index>=this.tokens.size-1&&a.push(p.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof Zv))continue;let s=i,o=this.getKindOfOps(e,r5,r);for(let l of o)l.index===s.index?(e[l.instructionIndex]=void 0,s.text=l.text.toString()+(s.text!=null?s.text.toString():"")):l.index>s.index&&l.index<=s.lastIndex&&(e[l.instructionIndex]=void 0);let a=this.getKindOfOps(e,Zv,r);for(let l of a){if(l.index>=s.index&&l.lastIndex<=s.lastIndex){e[l.instructionIndex]=void 0;continue}let f=l.lastIndex<s.index||l.index>s.lastIndex;if(l.text==null&&s.text==null&&!f)e[l.instructionIndex]=void 0,s.index=Math.min(l.index,s.index),s.lastIndex=Math.max(l.lastIndex,s.lastIndex);else if(!f)throw new Error(`replace op boundaries of ${s} overlap with previous ${l}`)}}for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof r5))continue;let s=i,o=this.getKindOfOps(e,r5,r);for(let l of o)l.index===s.index&&(l instanceof Kee?(s.text=this.catOpText(l.text,s.text),e[l.instructionIndex]=void 0):l instanceof r5&&(s.text=this.catOpText(s.text,l.text),e[l.instructionIndex]=void 0));let a=this.getKindOfOps(e,Zv,r);for(let l of a){if(s.index===l.index){l.text=this.catOpText(s.text,l.text),e[r]=void 0;continue}if(s.index>=l.index&&s.index<=l.lastIndex)throw new Error(`insert op ${s} within boundaries of previous ${l}`)}}let t=new Map;for(let r of e)if(r!=null){if(t.get(r.index)!=null)throw new Error("should only be one op per index");t.set(r.index,r)}return t}catOpText(e,t){let r="",i="";return e!=null&&(r=e.toString()),t!=null&&(i=t.toString()),r+i}getKindOfOps(e,t,r){let i=[];for(let s=0;s<r&&s<e.length;s++){let o=e[s];o!=null&&o instanceof t&&i.push(o)}return i}};i5.TokenStreamRewriter=Rc;Rc.DEFAULT_PROGRAM_NAME="default";Rc.PROGRAM_INIT_SIZE=100;Rc.MIN_TOKEN_INDEX=0;var zT=class{constructor(e,t,r,i){this.tokens=e,this.instructionIndex=r,this.index=t,this.text=i===void 0?"":i}execute(e){return this.index}toString(){let e=this.constructor.name,t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}};TM([FM.Override],zT.prototype,"toString",null);i5.RewriteOperation=zT;var r5=class extends zT{constructor(e,t,r,i){super(e,t,r,i)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==XEe.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}};TM([FM.Override],r5.prototype,"execute",null);var Kee=class extends r5{constructor(e,t,r,i){super(e,t+1,r,i)}},Zv=class extends zT{constructor(e,t,r,i,s){super(e,t,i,s);this.lastIndex=r}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}};TM([FM.Override],Zv.prototype,"execute",null);TM([FM.Override],Zv.prototype,"toString",null)});var t8e=G(e8e=>{"use strict";d();Object.defineProperty(e8e,"__esModule",{value:!0})});var r8e=G(n8e=>{"use strict";d();Object.defineProperty(n8e,"__esModule",{value:!0})});var i8e=G(Wi=>{"use strict";d();var Ext=Wi&&Wi.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),xs=Wi&&Wi.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ext(e,n,t)};Object.defineProperty(Wi,"__esModule",{value:!0});xs(C5e(),Wi);xs(A5e(),Wi);xs(g_e(),Wi);xs(kee(),Wi);xs(pee(),Wi);xs(IEe(),Wi);xs(iM(),Wi);xs(cee(),Wi);xs(fee(),Wi);xs(KE(),Wi);xs(iI(),Wi);xs(aM(),Wi);xs(QX(),Wi);xs(SM(),Wi);xs(MEe(),Wi);xs(PEe(),Wi);xs(VA(),Wi);xs(WA(),Wi);xs(vee(),Wi);xs(ux(),Wi);xs(Ex(),Wi);xs(jEe(),Wi);xs(fT(),Wi);xs(xee(),Wi);xs(ET(),Wi);xs($8(),Wi);xs(UEe(),Wi);xs(bee(),Wi);xs(fh(),Wi);xs(_I(),Wi);xs(lee(),Wi);xs(cx(),Wi);xs(n8(),Wi);xs(kZ(),Wi);xs($Ee(),Wi);xs(zEe(),Wi);xs(HEe(),Wi);xs(_a(),Wi);xs(WEe(),Wi);xs(GEe(),Wi);xs(KEe(),Wi);xs(ZEe(),Wi);xs(t8e(),Wi);xs(yx(),Wi);xs(r8e(),Wi)});var o8e=G(bm=>{"use strict";d();var Sxt=bm&&bm.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Cxt=bm&&bm.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),wxt=bm&&bm.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Sxt(e,n,t);return Cxt(e,n),e};Object.defineProperty(bm,"__esModule",{value:!0});bm.MalloyLexer=void 0;var Axt=OT(),Txt=Ex(),Fxt=hT(),Dxt=yx(),s8e=wxt(Tp()),Un=class extends Txt.Lexer{constructor(e){super(e);this._interp=new Fxt.LexerATNSimulator(Un._ATN,this)}get vocabulary(){return Un.VOCABULARY}get grammarFileName(){return"MalloyLexer.g4"}get ruleNames(){return Un.ruleNames}get serializedATN(){return Un._serializedATN}get channelNames(){return Un.channelNames}get modeNames(){return Un.modeNames}static get _ATN(){return Un.__ATN||(Un.__ATN=new Axt.ATNDeserializer().deserialize(s8e.toCharArray(Un._serializedATN))),Un.__ATN}};bm.MalloyLexer=Un;Un.JSON_STRING=1;Un.ACCEPT=2;Un.AGGREGATE=3;Un.CONNECTION=4;Un.DECLARE=5;Un.DIMENSION=6;Un.EXCEPT=7;Un.EXPLORE=8;Un.GROUP_BY=9;Un.HAVING=10;Un.INDEX=11;Un.JOIN_CROSS=12;Un.JOIN_ONE=13;Un.JOIN_MANY=14;Un.LIMIT=15;Un.MEASURE=16;Un.NEST=17;Un.ORDER_BY=18;Un.PRIMARY_KEY=19;Un.PROJECT=20;Un.QUERY=21;Un.RENAME=22;Un.SAMPLE=23;Un.SELECT=24;Un.SOURCE=25;Un.SQL=26;Un.FANCYSQL=27;Un.TOP=28;Un.WHERE=29;Un.ALL=30;Un.AND=31;Un.AS=32;Un.ASC=33;Un.AVG=34;Un.BOOLEAN=35;Un.BY=36;Un.CASE=37;Un.CAST=38;Un.CONDITION=39;Un.COUNT=40;Un.DATE=41;Un.DAY=42;Un.DESC=43;Un.DISTINCT=44;Un.ELSE=45;Un.END=46;Un.EXCLUDE=47;Un.FALSE=48;Un.FOR=49;Un.FROM=50;Un.FROM_SQL=51;Un.HAS=52;Un.HOUR=53;Un.IMPORT=54;Un.IS=55;Un.JSON=56;Un.LAST=57;Un.MAX=58;Un.MIN=59;Un.MINUTE=60;Un.MONTH=61;Un.NOT=62;Un.NOW=63;Un.NULL=64;Un.NUMBER=65;Un.ON=66;Un.OR=67;Un.PICK=68;Un.QMARK=69;Un.QUARTER=70;Un.SECOND=71;Un.STRING=72;Un.SUM=73;Un.TABLE=74;Un.THEN=75;Un.THIS=76;Un.TIMESTAMP=77;Un.TO=78;Un.TRUE=79;Un.TURTLE=80;Un.WEEK=81;Un.WHEN=82;Un.WITH=83;Un.YEAR=84;Un.UNGROUPED=85;Un.STRING_ESCAPE=86;Un.HACKY_REGEX=87;Un.STRING_LITERAL=88;Un.AMPER=89;Un.ARROW=90;Un.FAT_ARROW=91;Un.OPAREN=92;Un.CPAREN=93;Un.OBRACK=94;Un.CBRACK=95;Un.OCURLY=96;Un.CCURLY=97;Un.DOUBLECOLON=98;Un.COLON=99;Un.COMMA=100;Un.DOT=101;Un.LT=102;Un.GT=103;Un.EQ=104;Un.NE=105;Un.LTE=106;Un.GTE=107;Un.PLUS=108;Un.MINUS=109;Un.STAR=110;Un.STARSTAR=111;Un.SLASH=112;Un.BAR=113;Un.SEMI=114;Un.NOT_MATCH=115;Un.MATCH=116;Un.PERCENT=117;Un.LITERAL_TIMESTAMP=118;Un.LITERAL_DAY=119;Un.LITERAL_QUARTER=120;Un.LITERAL_MONTH=121;Un.LITERAL_WEEK=122;Un.LITERAL_YEAR=123;Un.IDENTIFIER=124;Un.PERCENT_LITERAL=125;Un.INTEGER_LITERAL=126;Un.NUMERIC_LITERAL=127;Un.OBJECT_NAME_LITERAL=128;Un.BLOCK_COMMENT=129;Un.COMMENT_TO_EOL=130;Un.WHITE_SPACE=131;Un.SQL_BEGIN=132;Un.CLOSE_CODE=133;Un.UNWATED_CHARS_TRAILING_NUMBERS=134;Un.UNEXPECTED_CHAR=135;Un.OPEN_CODE=136;Un.SQL_END=137;Un.SQL_MODE=1;Un.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];Un.modeNames=["DEFAULT_MODE","SQL_MODE"];Un.ruleNames=["JSON_STRING","ESC","UNICODE","HEX","SAFECODEPOINT","SPACE_CHAR","ACCEPT","AGGREGATE","CONNECTION","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SELECT","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","PERCENT","F_YEAR","F_DD","LX","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","ID_CHAR","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_BEGIN","CLOSE_CODE","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR","SQL_CHAR","OPEN_CODE","SQL_END"];Un._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'","'%'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,`'"""'`,"'}%'"];Un._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","CONNECTION","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SELECT","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","PERCENT","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_BEGIN","CLOSE_CODE","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR","OPEN_CODE","SQL_END"];Un.VOCABULARY=new Dxt.VocabularyImpl(Un._LITERAL_NAMES,Un._SYMBOLIC_NAMES,[]);Un._serializedATNSegments=4;Un._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x8B\u05D0\b\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	ij	jk	kl	lm	mn	no	op	pq	qr	rs	st	tu	uv	vw	wx	xy	yz	z{	{|	|}	}~	~\x7F	\x7F\x80	\x80\x81	\x81\x82	\x82\x83	\x83\x84	\x84\x85	\x85\x86	\x86\x87	\x87\x88	\x88\x89	\x89\x8A	\x8A\x8B	\x8B\x8C	\x8C\x8D	\x8D\x8E	\x8E\x8F	\x8F\x90	\x90\x91	\x91\x92	\x92\x93	\x93\x94	\x94\x95	\x95\x96	\x96\x97	\x97\x98	\x98\x99	\x99\x9A	\x9A\x9B	\x9B\x9C	\x9C\x9D	\x9D\x9E	\x9E\x9F	\x9F\xA0	\xA0\xA1	\xA1\xA2	\xA2\xA3	\xA3\xA4	\xA4\xA5	\xA5\xA6	\xA6\xA7	\xA7\xA8	\xA8\xA9	\xA9\xAA	\xAA\xAB	\xAB\xAC	\xAC\xAD	\xAD\xAE	\xAE\xAF	\xAF\x07\u0164
\f\u0167\v\u016E
\x07\x07\b\b\b\b\b\b\b\x07\b\u0183
\b\f\b\b\u0186\v\b\b\b										\x07	\u0194
	\f		\u0197\v			










\x07
\u01A6

\f

\u01A9\v


\v\v\v\v\v\v\v\v\v\f\f\f\f\f\f\f\f\f\f\x07\f\u01C0
\f\f\f\f\u01C3\v\f\f\f\r\r\r\r\r\r\r\x07\r\u01CE
\r\f\r\r\u01D1\v\r\r\r\x07\u01DD
\f\u01E0\v\x07\u01ED
\f\u01F0\v\x07\u01FB
\f\u01FE\v\x07\u0208
\f\u020B\v\x07\u0224
\f\u0227\v\x07\u0235
\f\u0238\v\x07\u0242
\f\u0245\v\x07\u0251
\f\u0254\v\x07\u025D
\f\u0260\v\x07\u026D
\f\u0270\v\x07\u0280
\f\u0283\v\x07\u028F
\f\u0292\v\x1B\x1B\x1B\x1B\x1B\x1B\x07\x1B\u029C
\x1B\f\x1B\x1B\u029F\v\x1B\x1B\x1B\x07\u02AA
\f\u02AD\v\x07\u02B8
\f\u02BB\v\x07\u02C6
\f\u02C9\v\x07\u02D4
\f\u02D7\v    \x07 \u02DF
 \f  \u02E2\v   !!!!!!!!\x07!\u02EE
!\f!!\u02F1\v!!!""""\x07"\u02F9
"\f""\u02FC\v"""######\x07#\u0306
#\f##\u0309\v###$$$$%%%%&&&''''(((())))))))***+++++,,,,,----------....../////00000\u034E
01111122222222233333444455555555666666777788888999999999::::;;;;;;\u0390
;<<<<<<<===>>>>>?????@@@@AAAABBBBBBBB\u03B5
BCCCCCCC\u03BD
CDDDDEEEEFFFFFGGGGGGGHHHIIIJJJJJKKLLLLLLLLL\u03E8
LMMMMMMMM\u03F1
MNNNNNNNOOOOPPPPPPQQQQQRRRRRSSSSSSSSSSTTTUUUUUVVVVVVVWWWWWW\u042C
WXXXXXYYYYYZZZZZZ\u043D
Z[[[[[[[[[[\\\\\\\\\\\\\\\u044F
\\]]\u0452
]]]]\x07]\u0457
]\f]]\u045A\v]]]^^^\x07^\u0461
^\f^^\u0464\v^^^__\`\`\`aaabbccddeeffgghhhiijjkkllmmnnooopppqqqrrssttuuuvvwwxxyyyzz{{|||||}}}~~~~~\u04B6
~\r~~\u04B7\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\u04C6
\x7F\x7F\x7F\u04C9
\x7F\x80\x80\x80\x80\x80\x80\x80\x80\u04D2
\x80\x81\x81\x81\x81\x81\x81\x81\u04DA
\x81\x82\x82\x82\x82\x82\x82\u04E1
\x82\x83\x83\x83\x83\x83\x83\x83\x83\x83\x83\u04EC
\x83\x84\x84\x84\x84\u04F1
\x84\x85\x85\x85\x07\x85\u04F6
\x85\f\x85\x85\u04F9\v\x85\x86\x86\u04FC
\x86\r\x86\x86\u04FD\x86\x86\x87\x87\u0503
\x87\r\x87\x87\u0504\x88\x88\u0508
\x88\r\x88\x88\u0509\x88\x88\x07\x88\u050E
\x88\f\x88\x88\u0511\v\x88\x88\u0513
\x88\x88\x88\x88\u0517
\x88\r\x88\x88\u0518\x88\x88\x88\u051D
\x88\x88\x88\u0520
\x88\r\x88\x88\u0521\x88\u0524
\x88\x88\u0526
\x88\x89\x89\x89\u052A
\x89\r\x89\x89\u052B\x89\x89\x8A\x8A\x8B\x8B\x8C\x8C\x8D\x8D\x8E\x8E\x8F\x8F\x90\x90\x91\x91\x92\x92\x93\x93\x94\x94\x95\x95\x96\x96\x97\x97\x98\x98\x99\x99\x9A\x9A\x9B\x9B\x9C\x9C\x9D\x9D\x9E\x9E\x9F\x9F\xA0\xA0\xA1\xA1\xA2\xA2\xA3\xA3\xA4\xA4\xA5\xA5\xA6\xA6\xA6\xA6\x07\xA6\u056C
\xA6\f\xA6\xA6\u056F\v\xA6\xA6\xA6\xA6\xA6\xA6\xA7\xA7\xA7\xA7\xA7\u057A
\xA7\xA7\x07\xA7\u057D
\xA7\f\xA7\xA7\u0580\v\xA7\xA7\xA7\u0583
\xA7\xA7\xA7\xA7\u0587
\xA7\xA7\xA7\xA8\xA8\xA8\xA8\xA9\xA9\xA9\xA9\xA9\xA9\xAA\xAA\xAA\xAA\xAA\xAB\xAB\u059B
\xAB\r\xAB\xAB\u059C\xAB\xAB\u05A0
\xAB\r\xAB\xAB\u05A1\xAB\xAB\x07\xAB\u05A6
\xAB\f\xAB\xAB\u05A9\v\xAB\xAC\xAC\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\u05B8
\xAD\xAE\x07\xAE\u05BB
\xAE\f\xAE\xAE\u05BE\v\xAE\xAE\xAE\xAE\xAE\xAE\xAF\x07\xAF\u05C6
\xAF\f\xAF\xAF\u05C9\v\xAF\xAF\xAF\xAF\xAF\xAF\xAF\u056D\u05BC\u05C7\xB0\b
\f\x07\b	
\v \f"\r$&(*,.02468:<>\x1B@BDFH J!L"N#P$R%T&V'X(Z)\\*^+\`,b-d.f/h0j1l2n3p4r5t6v7x8z9|:~;\x80<\x82=\x84>\x86?\x88@\x8AA\x8CB\x8EC\x90D\x92E\x94F\x96G\x98H\x9AI\x9CJ\x9EK\xA0L\xA2M\xA4N\xA6O\xA8P\xAAQ\xACR\xAES\xB0T\xB2U\xB4V\xB6W\xB8X\xBAY\xBCZ\xBE[\xC0\\\xC2]\xC4^\xC6_\xC8\`\xCAa\xCCb\xCEc\xD0d\xD2e\xD4f\xD6g\xD8h\xDAi\xDCj\xDEk\xE0l\xE2m\xE4n\xE6o\xE8p\xEAq\xECr\xEEs\xF0t\xF2u\xF4v\xF6w\xF8\xFA\xFC\xFEx\u0100y\u0102z\u0104{\u0106|\u0108}\u010A~\u010C\x7F\u010E\x80\u0110\x81\u0112\x82\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u014A\u014C\x83\u014E\x84\u0150\x85\u0152\x86\u0154\x87\u0156\x88\u0158\x89\u015A\u015C\x8A\u015E\x8B)
$$11^^ddhhppttvv2;CHch!$$^^\v\r""11TTtt))^^--//bb2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||\f\f$$''$$}}\u0287C\\aac|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0347\u0347\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05B2\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0612\u061C\u0622\u0659\u065B\u0661\u0670\u06D5\u06D7\u06DE\u06E3\u06EA\u06EF\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0741\u074F\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0819\u081C\u082E\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u08D6\u08E1\u08E5\u08EB\u08F2\u093D\u093F\u094E\u0950\u0952\u0957\u0965\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09C6\u09C9\u09CA\u09CD\u09CE\u09D0\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09F2\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4E\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A72\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0AC7\u0AC9\u0ACB\u0ACD\u0ACE\u0AD2\u0AD2\u0AE2\u0AE5\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B46\u0B49\u0B4A\u0B4D\u0B4E\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCE\u0BD2\u0BD2\u0BD9\u0BD9\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4E\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CC6\u0CC8\u0CCA\u0CCC\u0CCE\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D4E\u0D50\u0D50\u0D56\u0D59\u0D61\u0D65\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E48\u0E4F\u0E4F\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECF\u0ECF\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F73\u0F83\u0F8A\u0F99\u0F9B\u0FBE\u1002\u1038\u103A\u103A\u103D\u1041\u1052\u1064\u1067\u106A\u1070\u1088\u1090\u1090\u109E\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1361\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1715\u1722\u1735\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17B5\u17B8\u17CA\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193A\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A1D\u1A22\u1A60\u1A63\u1A76\u1AA9\u1AA9\u1B02\u1B35\u1B37\u1B45\u1B47\u1B4D\u1B82\u1BAB\u1BAE\u1BB1\u1BBC\u1BE7\u1BE9\u1BF3\u1C02\u1C37\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF5\u1CF7\u1CF8\u1D02`;Un._serializedATNSegment1=`\u1DC1\u1DE9\u1DF6\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u24B8\u24EB\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA676\uA67D\uA681\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA829\uA842\uA875\uA882\uA8C5\uA8C7\uA8C7\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA92C\uA932\uA954\uA962\uA97E\uA982\uA9B4\uA9B6\uA9C1\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAC0\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF7\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1047\u1084\u10BA\u10D2\u10EA\u1102\u1134\u1152\u1174\u1178\u1178\u1182\u11C1\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1236\u1239\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EA\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u1346\u1349\u134A\u134D\u134E\u1352\u1352\u1359\u1359\u135F\u1365\u1402\u1443\u1445\u1447\u1449\u144C\u1482\u14C3\u14C6\u14C7\u14C9\u14C9\u1582\u15B7\u15BA\u15C0\u15DA\u15DF\u1602\u1640\u1642\u1642\u1646\u1646\u1682\u16B7\u1702\u171B\u171F\u172C\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C40\u1C42\u1C42\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B38\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBCA0\uBCA0\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE902\uE945\uE949\uE949\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uF132\uF14B\uF152\uF16B\uF172\uF18B\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F\u05F9 "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA\xCC\xCE\xD0\xD2\xD4\xD6\xD8\xDA\xDC\xDE\xE0\xE2\xE4\xE6\xE8\xEA\xEC\xEE\xF0\xF2\xF4\xF6\xFE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015C\u015E\u0160\u016A\b\u016F
\u0175\f\u0177\u0179\u017B\u0189\u019A\u01AC\u01B5\u01C6\u01D4\u01E3 \u01F3"\u0201$\u020E&\u021A(\u022A*\u023B,\u0248.\u02570\u02632\u02734\u02866\u02958\u02A2:\u02B0<\u02BE>\u02CC@\u02DAB\u02E5D\u02F4F\u02FFH\u030CJ\u0310L\u0314N\u0317P\u031BR\u031FT\u0327V\u032AX\u032FZ\u0334\\\u033E^\u0344\`\u0349b\u034Fd\u0354f\u035Dh\u0362j\u0366l\u036En\u0374p\u0378r\u037Dt\u0386v\u038Ax\u0391z\u0398|\u039B~\u03A0\x80\u03A5\x82\u03A9\x84\u03AD\x86\u03B6\x88\u03BE\x8A\u03C2\x8C\u03C6\x8E\u03CB\x90\u03D2\x92\u03D5\x94\u03D8\x96\u03DD\x98\u03DF\x9A\u03E9\x9C\u03F2\x9E\u03F9\xA0\u03FD\xA2\u0403\xA4\u0408\xA6\u040D\xA8\u0417\xAA\u041A\xAC\u041F\xAE\u0426\xB0\u042D\xB2\u0432\xB4\u0437\xB6\u043E\xB8\u044E\xBA\u0451\xBC\u045D\xBE\u0467\xC0\u0469\xC2\u046C\xC4\u046F\xC6\u0471\xC8\u0473\xCA\u0475\xCC\u0477\xCE\u0479\xD0\u047B\xD2\u047E\xD4\u0480\xD6\u0482\xD8\u0484\xDA\u0486\xDC\u0488\xDE\u048A\xE0\u048D\xE2\u0490\xE4\u0493\xE6\u0495\xE8\u0497\xEA\u0499\xEC\u049C\xEE\u049E\xF0\u04A0\xF2\u04A2\xF4\u04A5\xF6\u04A7\xF8\u04A9\xFA\u04AE\xFC\u04B1\xFE\u04B9\u0100\u04CA\u0102\u04D3\u0104\u04DB\u0106\u04E2\u0108\u04ED\u010A\u04F2\u010C\u04FB\u010E\u0502\u0110\u0525\u0112\u0527\u0114\u052F\u0116\u0531\u0118\u0533\u011A\u0535\u011C\u0537\u011E\u0539\u0120\u053B\u0122\u053D\u0124\u053F\u0126\u0541\u0128\u0543\u012A\u0545\u012C\u0547\u012E\u0549\u0130\u054B\u0132\u054D\u0134\u054F\u0136\u0551\u0138\u0553\u013A\u0555\u013C\u0557\u013E\u0559\u0140\u055B\u0142\u055D\u0144\u055F\u0146\u0561\u0148\u0563\u014A\u0565\u014C\u0567\u014E\u0579\u0150\u058A\u0152\u058E\u0154\u0594\u0156\u059A\u0158\u05AA\u015A\u05B7\u015C\u05BC\u015E\u05C7\u0160\u0165\x07$\u0161\u0164\u0162\u0164\f\u0163\u0161\u0163\u0162\u0164\u0167\u0165\u0163\u0165\u0166\u0166\u0168\u0167\u0165\u0168\u0169\x07$\u0169\u016A\u016D\x07^\u016B\u016E	\u016C\u016E\b\u016D\u016B\u016D\u016C\u016E\x07\u016F\u0170\x07w\u0170\u0171
\u0171\u0172
\u0172\u0173
\u0173\u0174
\u0174	\u0175\u0176	\u0176\v\u0177\u0178
\u0178\r\u0179\u017A	\u017A\u017B\u017C\u0118\x8C\u017C\u017D\u011C\x8E\u017D\u017E\u011C\x8E\u017E\u017F\u0120\x90\u017F\u0180\u0136\x9B\u0180\u0184\u013E\x9F\u0181\u0183\x07\u0182\u0181\u0183\u0186\u0184\u0182\u0184\u0185\u0185\u0187\u0186\u0184\u0187\u0188\x07<\u0188\u0189\u018A\u0118\x8C\u018A\u018B\u0124\x92\u018B\u018C\u0124\x92\u018C\u018D\u013A\x9D\u018D\u018E\u0120\x90\u018E\u018F\u0124\x92\u018F\u0190\u0118\x8C\u0190\u0191\u013E\x9F\u0191\u0195\u0120\x90\u0192\u0194\x07\u0193\u0192\u0194\u0197\u0195\u0193\u0195\u0196\u0196\u0198\u0197\u0195\u0198\u0199\x07<\u0199\u019A\u019B\u011C\x8E\u019B\u019C\u0134\x9A\u019C\u019D\u0132\x99\u019D\u019E\u0132\x99\u019E\u019F\u0120\x90\u019F\u01A0\u011C\x8E\u01A0\u01A1\u013E\x9F\u01A1\u01A2\u0128\x94\u01A2\u01A3\u0134\x9A\u01A3\u01A7\u0132\x99\u01A4\u01A6\x07\u01A5\u01A4\u01A6\u01A9\u01A7\u01A5\u01A7\u01A8\u01A8\u01AA\u01A9\u01A7\u01AA\u01AB\x07<\u01AB\u01AC\u01AD\u011E\x8F\u01AD\u01AE\u0120\x90\u01AE\u01AF\u011C\x8E\u01AF\u01B0\u012E\x97\u01B0\u01B1\u0118\x8C\u01B1\u01B2\u013A\x9D\u01B2\u01B3\u0120\x90\u01B3\u01B4\x07<\u01B4\u01B5\u01B6\u011E\x8F\u01B6\u01B7\u0128\x94\u01B7\u01B8\u0130\x98\u01B8\u01B9\u0120\x90\u01B9\u01BA\u0132\x99\u01BA\u01BB\u013C\x9E\u01BB\u01BC\u0128\x94\u01BC\u01BD\u0134\x9A\u01BD\u01C1\u0132\x99\u01BE\u01C0\x07\u01BF\u01BE\u01C0\u01C3\u01C1\u01BF\u01C1\u01C2\u01C2\u01C4\u01C3\u01C1\u01C4\u01C5\x07<\u01C5\u01C6\u01C7\u0120\x90\u01C7\u01C8\u0146\xA3\u01C8\u01C9\u011C\x8E\u01C9\u01CA\u0120\x90\u01CA\u01CB\u0136\x9B\u01CB\u01CF\u013E\x9F\u01CC\u01CE\x07\u01CD\u01CC\u01CE\u01D1\u01CF\u01CD\u01CF\u01D0\u01D0\u01D2\u01D1\u01CF\u01D2\u01D3\x07<\u01D3\x1B\u01D4\u01D5\u0120\x90\u01D5\u01D6\u0146\xA3\u01D6\u01D7\u0136\x9B\u01D7\u01D8\u012E\x97\u01D8\u01D9\u0134\x9A\u01D9\u01DA\u013A\x9D\u01DA\u01DE\u0120\x90\u01DB\u01DD\x07\u01DC\u01DB\u01DD\u01E0\u01DE\u01DC\u01DE\u01DF\u01DF\u01E1\u01E0\u01DE\u01E1\u01E2\x07<\u01E2\u01E3\u01E4\u0124\x92\u01E4\u01E5\u013A\x9D\u01E5\u01E6\u0134\x9A\u01E6\u01E7\u0140\xA0\u01E7\u01E8\u0136\x9B\u01E8\u01E9\x07a\u01E9\u01EA\u011A\x8D\u01EA\u01EE\u0148\xA4\u01EB\u01ED\x07\u01EC\u01EB\u01ED\u01F0\u01EE\u01EC\u01EE\u01EF\u01EF\u01F1\u01F0\u01EE\u01F1\u01F2\x07<\u01F2\u01F3\u01F4\u0126\x93\u01F4\u01F5\u0118\x8C\u01F5\u01F6\u0142\xA1\u01F6\u01F7\u0128\x94\u01F7\u01F8\u0132\x99\u01F8\u01FC\u0124\x92\u01F9\u01FB\x07\u01FA\u01F9\u01FB\u01FE\u01FC\u01FA\u01FC\u01FD\u01FD\u01FF\u01FE\u01FC\u01FF\u0200\x07<\u0200!\u0201\u0202\u0128\x94\u0202\u0203\u0132\x99\u0203\u0204\u011E\x8F\u0204\u0205\u0120\x90\u0205\u0209\u0146\xA3\u0206\u0208\x07\u0207\u0206\u0208\u020B\u0209\u0207\u0209\u020A\u020A\u020C\u020B\u0209\u020C\u020D\x07<\u020D#\u020E\u020F\u012A\x95\u020F\u0210\u0134\x9A\u0210\u0211\u0128\x94\u0211\u0212\u0132\x99\u0212\u0213\x07a\u0213\u0214\u011C\x8E\u0214\u0215\u013A\x9D\u0215\u0216\u0134\x9A\u0216\u0217\u013C\x9E\u0217\u0218\u013C\x9E\u0218\u0219\x07<\u0219%\u021A\u021B\u012A\x95\u021B\u021C\u0134\x9A\u021C\u021D\u0128\x94\u021D\u021E\u0132\x99\u021E\u021F\x07a\u021F\u0220\u0134\x9A\u0220\u0221\u0132\x99\u0221\u0225\u0120\x90\u0222\u0224\x07\u0223\u0222\u0224\u0227\u0225\u0223\u0225\u0226\u0226\u0228\u0227\u0225\u0228\u0229\x07<\u0229'\u022A\u022B\u012A\x95\u022B\u022C\u0134\x9A\u022C\u022D\u0128\x94\u022D\u022E\u0132\x99\u022E\u022F\x07a\u022F\u0230\u0130\x98\u0230\u0231\u0118\x8C\u0231\u0232\u0132\x99\u0232\u0236\u0148\xA4\u0233\u0235\x07\u0234\u0233\u0235\u0238\u0236\u0234\u0236\u0237\u0237\u0239\u0238\u0236\u0239\u023A\x07<\u023A)\u023B\u023C\u012E\x97\u023C\u023D\u0128\x94\u023D\u023E\u0130\x98\u023E\u023F\u0128\x94\u023F\u0243\u013E\x9F\u0240\u0242\x07\u0241\u0240\u0242\u0245\u0243\u0241\u0243\u0244\u0244\u0246\u0245\u0243\u0246\u0247\x07<\u0247+\u0248\u0249\u0130\x98\u0249\u024A\u0120\x90\u024A\u024B\u0118\x8C\u024B\u024C\u013C\x9E\u024C\u024D\u0140\xA0\u024D\u024E\u013A\x9D\u024E\u0252\u0120\x90\u024F\u0251\x07\u0250\u024F\u0251\u0254\u0252\u0250\u0252\u0253\u0253\u0255\u0254\u0252\u0255\u0256\x07<\u0256-\u0257\u0258\u0132\x99\u0258\u0259\u0120\x90\u0259\u025A\u013C\x9E\u025A\u025E\u013E\x9F\u025B\u025D\x07\u025C\u025B\u025D\u0260\u025E\u025C\u025E\u025F\u025F\u0261\u0260\u025E\u0261\u0262\x07<\u0262/\u0263\u0264\u0134\x9A\u0264\u0265\u013A\x9D\u0265\u0266`;Un._serializedATNSegment2=`\u011E\x8F\u0266\u0267\u0120\x90\u0267\u0268\u013A\x9D\u0268\u0269\x07a\u0269\u026A\u011A\x8D\u026A\u026E\u0148\xA4\u026B\u026D\x07\u026C\u026B\u026D\u0270\u026E\u026C\u026E\u026F\u026F\u0271\u0270\u026E\u0271\u0272\x07<\u02721\u0273\u0274\u0136\x9B\u0274\u0275\u013A\x9D\u0275\u0276\u0128\x94\u0276\u0277\u0130\x98\u0277\u0278\u0118\x8C\u0278\u0279\u013A\x9D\u0279\u027A\u0148\xA4\u027A\u027B\x07a\u027B\u027C\u012C\x96\u027C\u027D\u0120\x90\u027D\u0281\u0148\xA4\u027E\u0280\x07\u027F\u027E\u0280\u0283\u0281\u027F\u0281\u0282\u0282\u0284\u0283\u0281\u0284\u0285\x07<\u02853\u0286\u0287\u0136\x9B\u0287\u0288\u013A\x9D\u0288\u0289\u0134\x9A\u0289\u028A\u012A\x95\u028A\u028B\u0120\x90\u028B\u028C\u011C\x8E\u028C\u0290\u013E\x9F\u028D\u028F\x07\u028E\u028D\u028F\u0292\u0290\u028E\u0290\u0291\u0291\u0293\u0292\u0290\u0293\u0294\x07<\u02945\u0295\u0296\u0138\x9C\u0296\u0297\u0140\xA0\u0297\u0298\u0120\x90\u0298\u0299\u013A\x9D\u0299\u029D\u0148\xA4\u029A\u029C\x07\u029B\u029A\u029C\u029F\u029D\u029B\u029D\u029E\u029E\u02A0\u029F\u029D\u02A0\u02A1\x07<\u02A17\u02A2\u02A3\u013A\x9D\u02A3\u02A4\u0120\x90\u02A4\u02A5\u0132\x99\u02A5\u02A6\u0118\x8C\u02A6\u02A7\u0130\x98\u02A7\u02AB\u0120\x90\u02A8\u02AA\x07\u02A9\u02A8\u02AA\u02AD\u02AB\u02A9\u02AB\u02AC\u02AC\u02AE\u02AD\u02AB\u02AE\u02AF\x07<\u02AF9\u02B0\u02B1\u013C\x9E\u02B1\u02B2\u0118\x8C\u02B2\u02B3\u0130\x98\u02B3\u02B4\u0136\x9B\u02B4\u02B5\u012E\x97\u02B5\u02B9\u0120\x90\u02B6\u02B8\x07\u02B7\u02B6\u02B8\u02BB\u02B9\u02B7\u02B9\u02BA\u02BA\u02BC\u02BB\u02B9\u02BC\u02BD\x07<\u02BD;\u02BE\u02BF\u013C\x9E\u02BF\u02C0\u0120\x90\u02C0\u02C1\u012E\x97\u02C1\u02C2\u0120\x90\u02C2\u02C3\u011C\x8E\u02C3\u02C7\u013E\x9F\u02C4\u02C6\x07\u02C5\u02C4\u02C6\u02C9\u02C7\u02C5\u02C7\u02C8\u02C8\u02CA\u02C9\u02C7\u02CA\u02CB\x07<\u02CB=\u02CC\u02CD\u013C\x9E\u02CD\u02CE\u0134\x9A\u02CE\u02CF\u0140\xA0\u02CF\u02D0\u013A\x9D\u02D0\u02D1\u011C\x8E\u02D1\u02D5\u0120\x90\u02D2\u02D4\x07\u02D3\u02D2\u02D4\u02D7\u02D5\u02D3\u02D5\u02D6\u02D6\u02D8\u02D7\u02D5\u02D8\u02D9\x07<\u02D9?\u02DA\u02DB\u013C\x9E\u02DB\u02DC\u0138\x9C\u02DC\u02E0\u012E\x97\u02DD\u02DF\x07\u02DE\u02DD\u02DF\u02E2\u02E0\u02DE\u02E0\u02E1\u02E1\u02E3\u02E2\u02E0\u02E3\u02E4\x07<\u02E4A\u02E5\u02E6\u013E\x9F\u02E6\u02E7\u0140\xA0\u02E7\u02E8\u013A\x9D\u02E8\u02E9\u011E\x8F\u02E9\u02EA\u0140\xA0\u02EA\u02EB\u011C\x8E\u02EB\u02EF\u012C\x96\u02EC\u02EE\x07\u02ED\u02EC\u02EE\u02F1\u02EF\u02ED\u02EF\u02F0\u02F0\u02F2\u02F1\u02EF\u02F2\u02F3\x07<\u02F3C\u02F4\u02F5\u013E\x9F\u02F5\u02F6\u0134\x9A\u02F6\u02FA\u0136\x9B\u02F7\u02F9\x07\u02F8\u02F7\u02F9\u02FC\u02FA\u02F8\u02FA\u02FB\u02FB\u02FD\u02FC\u02FA\u02FD\u02FE\x07<\u02FEE\u02FF\u0300\u0144\xA2\u0300\u0301\u0126\x93\u0301\u0302\u0120\x90\u0302\u0303\u013A\x9D\u0303\u0307\u0120\x90\u0304\u0306\x07\u0305\u0304\u0306\u0309\u0307\u0305\u0307\u0308\u0308\u030A\u0309\u0307\u030A\u030B\x07<\u030BG\u030C\u030D\u0118\x8C\u030D\u030E\u012E\x97\u030E\u030F\u012E\x97\u030FI\u0310\u0311\u0118\x8C\u0311\u0312\u0132\x99\u0312\u0313\u011E\x8F\u0313K\u0314\u0315\u0118\x8C\u0315\u0316\u013C\x9E\u0316M\u0317\u0318\u0118\x8C\u0318\u0319\u013C\x9E\u0319\u031A\u011C\x8E\u031AO\u031B\u031C\u0118\x8C\u031C\u031D\u0142\xA1\u031D\u031E\u0124\x92\u031EQ\u031F\u0320\u011A\x8D\u0320\u0321\u0134\x9A\u0321\u0322\u0134\x9A\u0322\u0323\u012E\x97\u0323\u0324\u0120\x90\u0324\u0325\u0118\x8C\u0325\u0326\u0132\x99\u0326S\u0327\u0328\u011A\x8D\u0328\u0329\u0148\xA4\u0329U\u032A\u032B\u011C\x8E\u032B\u032C\u0118\x8C\u032C\u032D\u013C\x9E\u032D\u032E\u0120\x90\u032EW\u032F\u0330\u011C\x8E\u0330\u0331\u0118\x8C\u0331\u0332\u013C\x9E\u0332\u0333\u013E\x9F\u0333Y\u0334\u0335\u011C\x8E\u0335\u0336\u0134\x9A\u0336\u0337\u0132\x99\u0337\u0338\u011E\x8F\u0338\u0339\u0128\x94\u0339\u033A\u013E\x9F\u033A\u033B\u0128\x94\u033B\u033C\u0134\x9A\u033C\u033D\u0132\x99\u033D[\u033E\u033F\u011C\x8E\u033F\u0340\u0134\x9A\u0340\u0341\u0140\xA0\u0341\u0342\u0132\x99\u0342\u0343\u013E\x9F\u0343]\u0344\u0345\u011E\x8F\u0345\u0346\u0118\x8C\u0346\u0347\u013E\x9F\u0347\u0348\u0120\x90\u0348_\u0349\u034A\u011E\x8F\u034A\u034B\u0118\x8C\u034B\u034D\u0148\xA4\u034C\u034E\u013C\x9E\u034D\u034C\u034D\u034E\u034Ea\u034F\u0350\u011E\x8F\u0350\u0351\u0120\x90\u0351\u0352\u013C\x9E\u0352\u0353\u011C\x8E\u0353c\u0354\u0355\u011E\x8F\u0355\u0356\u0128\x94\u0356\u0357\u013C\x9E\u0357\u0358\u013E\x9F\u0358\u0359\u0128\x94\u0359\u035A\u0132\x99\u035A\u035B\u011C\x8E\u035B\u035C\u013E\x9F\u035Ce\u035D\u035E\u0120\x90\u035E\u035F\u012E\x97\u035F\u0360\u013C\x9E\u0360\u0361\u0120\x90\u0361g\u0362\u0363\u0120\x90\u0363\u0364\u0132\x99\u0364\u0365\u011E\x8F\u0365i\u0366\u0367\u0120\x90\u0367\u0368\u0146\xA3\u0368\u0369\u011C\x8E\u0369\u036A\u012E\x97\u036A\u036B\u0140\xA0\u036B\u036C\u011E\x8F\u036C\u036D\u0120\x90\u036Dk\u036E\u036F\u0122\x91\u036F\u0370\u0118\x8C\u0370\u0371\u012E\x97\u0371\u0372\u013C\x9E\u0372\u0373\u0120\x90\u0373m\u0374\u0375\u0122\x91\u0375\u0376\u0134\x9A\u0376\u0377\u013A\x9D\u0377o\u0378\u0379\u0122\x91\u0379\u037A\u013A\x9D\u037A\u037B\u0134\x9A\u037B\u037C\u0130\x98\u037Cq\u037D\u037E\u0122\x91\u037E\u037F\u013A\x9D\u037F\u0380\u0134\x9A\u0380\u0381\u0130\x98\u0381\u0382\x07a\u0382\u0383\u013C\x9E\u0383\u0384\u0138\x9C\u0384\u0385\u012E\x97\u0385s\u0386\u0387\u0126\x93\u0387\u0388\u0118\x8C\u0388\u0389\u013C\x9E\u0389u\u038A\u038B\u0126\x93\u038B\u038C\u0134\x9A\u038C\u038D\u0140\xA0\u038D\u038F\u013A\x9D\u038E\u0390\u013C\x9E\u038F\u038E\u038F\u0390\u0390w\u0391\u0392\u0128\x94\u0392\u0393\u0130\x98\u0393\u0394\u0136\x9B\u0394\u0395\u0134\x9A\u0395\u0396\u013A\x9D\u0396\u0397\u013E\x9F\u0397y\u0398\u0399\u0128\x94\u0399\u039A\u013C\x9E\u039A{\u039B\u039C\u012A\x95\u039C\u039D\u013C\x9E\u039D\u039E\u0134\x9A\u039E\u039F\u0132\x99\u039F}\u03A0\u03A1\u012E\x97\u03A1\u03A2\u0118\x8C\u03A2\u03A3\u013C\x9E\u03A3\u03A4\u013E\x9F\u03A4\x7F\u03A5\u03A6\u0130\x98\u03A6\u03A7\u0118\x8C\u03A7\u03A8\u0146\xA3\u03A8\x81\u03A9\u03AA\u0130\x98\u03AA\u03AB\u0128\x94\u03AB\u03AC\u0132\x99\u03AC\x83\u03AD\u03AE\u0130\x98\u03AE\u03AF\u0128\x94\u03AF\u03B0\u0132\x99\u03B0\u03B1\u0140\xA0\u03B1\u03B2\u013E\x9F\u03B2\u03B4\u0120\x90\u03B3\u03B5\u013C\x9E\u03B4\u03B3\u03B4\u03B5\u03B5\x85\u03B6\u03B7\u0130\x98\u03B7\u03B8\u0134\x9A\u03B8\u03B9\u0132\x99\u03B9\u03BA\u013E\x9F\u03BA\u03BC\u0126\x93\u03BB\u03BD\u013C\x9E\u03BC\u03BB\u03BC\u03BD\u03BD\x87\u03BE\u03BF\u0132\x99\u03BF\u03C0\u0134\x9A\u03C0\u03C1\u013E\x9F\u03C1\x89\u03C2\u03C3\u0132\x99\u03C3\u03C4\u0134\x9A\u03C4\u03C5\u0144\xA2\u03C5\x8B\u03C6\u03C7\u0132\x99\u03C7\u03C8\u0140\xA0\u03C8\u03C9\u012E\x97\u03C9\u03CA\u012E\x97\u03CA\x8D\u03CB\u03CC\u0132\x99\u03CC\u03CD\u0140\xA0\u03CD\u03CE\u0130\x98\u03CE\u03CF\u011A\x8D\u03CF\u03D0\u0120\x90\u03D0\u03D1\u013A\x9D\u03D1\x8F\u03D2\u03D3\u0134\x9A\u03D3\u03D4\u0132\x99\u03D4\x91\u03D5\u03D6\u0134\x9A\u03D6\u03D7\u013A\x9D\u03D7\x93\u03D8\u03D9\u0136\x9B\u03D9\u03DA\u0128\x94\u03DA\u03DB\u011C\x8E\u03DB\u03DC\u012C\x96\u03DC\x95\u03DD\u03DE\x07A\u03DE\x97\u03DF\u03E0\u0138\x9C\u03E0\u03E1\u0140\xA0\u03E1\u03E2\u0118\x8C\u03E2\u03E3\u013A\x9D\u03E3\u03E4\u013E\x9F\u03E4\u03E5\u0120\x90\u03E5\u03E7\u013A\x9D\u03E6\u03E8\u013C\x9E\u03E7\u03E6\u03E7\u03E8\u03E8\x99\u03E9\u03EA\u013C\x9E\u03EA\u03EB\u0120\x90\u03EB\u03EC\u011C\x8E\u03EC\u03ED\u0134\x9A\u03ED\u03EE\u0132\x99\u03EE\u03F0\u011E\x8F\u03EF\u03F1\u013C\x9E\u03F0\u03EF\u03F0\u03F1\u03F1\x9B\u03F2\u03F3\u013C\x9E\u03F3\u03F4\u013E\x9F\u03F4\u03F5\u013A\x9D\u03F5\u03F6\u0128\x94\u03F6\u03F7\u0132\x99\u03F7\u03F8\u0124\x92\u03F8\x9D\u03F9\u03FA\u013C\x9E\u03FA\u03FB\u0140\xA0\u03FB\u03FC\u0130\x98\u03FC\x9F\u03FD\u03FE\u013E\x9F\u03FE\u03FF\u0118\x8C\u03FF\u0400\u011A\x8D\u0400\u0401\u012E\x97\u0401\u0402\u0120\x90\u0402\xA1\u0403\u0404\u013E\x9F\u0404\u0405\u0126\x93\u0405\u0406\u0120\x90\u0406\u0407\u0132\x99\u0407\xA3\u0408\u0409\u013E\x9F\u0409\u040A\u0126\x93\u040A\u040B\u0128\x94\u040B\u040C\u013C\x9E\u040C\xA5\u040D\u040E\u013E\x9F\u040E\u040F\u0128\x94\u040F\u0410\u0130\x98\u0410\u0411\u0120\x90\u0411\u0412\u013C\x9E\u0412\u0413\u013E\x9F\u0413\u0414\u0118\x8C\u0414\u0415\u0130\x98\u0415\u0416\u0136\x9B\u0416\xA7\u0417\u0418\u013E\x9F\u0418\u0419\u0134\x9A\u0419\xA9\u041A\u041B\u013E\x9F\u041B\u041C\u013A\x9D\u041C\u041D\u0140\xA0\u041D\u041E\u0120\x90\u041E\xAB\u041F\u0420\u013E\x9F\u0420\u0421\u0140\xA0\u0421\u0422\u013A\x9D\u0422\u0423\u013E\x9F\u0423\u0424\u012E\x97\u0424\u0425\u0120\x90\u0425\xAD\u0426\u0427\u0144\xA2\u0427\u0428\u0120\x90\u0428\u0429\u0120\x90\u0429\u042B\u012C\x96\u042A\u042C\u013C\x9E\u042B\u042A\u042B\u042C\u042C\xAF\u042D\u042E\u0144\xA2\u042E\u042F\u0126\x93\u042F\u0430\u0120\x90\u0430\u0431\u0132\x99\u0431\xB1\u0432\u0433\u0144\xA2\u0433\u0434\u0128\x94\u0434\u0435\u013E\x9F\u0435\u0436\u0126\x93\u0436\xB3\u0437\u0438\u0148\xA4\u0438\u0439\u0120\x90\u0439\u043A\u0118\x8C\u043A\u043C\u013A\x9D\u043B\u043D\u013C\x9E\u043C\u043B\u043C\u043D\u043D\xB5\u043E\u043F\u0140\xA0\u043F\u0440\u0132\x99\u0440\u0441\u0124\x92\u0441\u0442\u013A\x9D\u0442\u0443\u0134\x9A\u0443\u0444\u0140\xA0\u0444\u0445\u0136\x9B\u0445\u0446\u0120\x90\u0446\u0447\u011E\x8F\u0447\xB7\u0448\u0449\x07^\u0449\u044F\x07)\u044A\u044B\x07^\u044B\u044F\x07^\u044C\u044D\x07^\u044D\u044F\v\u044E\u0448\u044E\u044A\u044E\u044C\u044F\xB9\u0450\u0452	\u0451\u0450\u0452\u0453\u0453\u0458\x07)\u0454\u0457\xB8\\\u0455\u0457
\x07\u0456\u0454\u0456\u0455\u0457\u045A\u0458\u0456\u0458\u0459\u0459\u045B\u045A\u0458\u045B\u045C\x07)\u045C\xBB\u045D\u0462\x07)\u045E\u0461\xB8\\\u045F\u0461
\x07\u0460\u045E\u0460\u045F\u0461\u0464\u0462\u0460\u0462\u0463\u0463\u0465\u0464\u0462\u0465\u0466\x07)\u0466\xBD\u0467\u0468\x07(\u0468\xBF\u0469\u046A\x07/\u046A\u046B\x07@\u046B\xC1\u046C\u046D\x07?\u046D\u046E\x07@\u046E\xC3\u046F\u0470\x07*\u0470\xC5\u0471\u0472\x07+\u0472\xC7\u0473\u0474\x07]\u0474\xC9\u0475\u0476\x07_\u0476\xCB\u0477\u0478\x07}\u0478\xCD\u0479\u047A\x07\x7F\u047A\xCF\u047B\u047C\x07<\u047C\u047D\x07<\u047D\xD1\u047E\u047F\x07<\u047F\xD3\u0480\u0481\x07.\u0481\xD5\u0482\u0483\x070\u0483\xD7\u0484\u0485\x07>\u0485\xD9\u0486\u0487\x07@\u0487\xDB\u0488\u0489\x07?\u0489\xDD\u048A\u048B\x07#\u048B\u048C\x07?\u048C\xDF\u048D\u048E\x07>\u048E\u048F\x07?\u048F\xE1\u0490\u0491\x07@\u0491\u0492\x07?\u0492\xE3\u0493\u0494\x07-\u0494\xE5\u0495\u0496\x07/\u0496\xE7\u0497\u0498\x07,\u0498\xE9\u0499\u049A\x07,\u049A\u049B\x07,\u049B\xEB\u049C\u049D\x071\u049D\xED\u049E\u049F\x07~\u049F\xEF\u04A0\u04A1\x07=\u04A1\xF1\u04A2\u04A3\x07#\u04A3\u04A4\x07\x80\u04A4\xF3\u04A5\u04A6\x07\x80\u04A6\xF5\u04A7\u04A8\x07'\u04A8\xF7\u04A9\u04AA\u0116\x8B\u04AA\u04AB\u0116\x8B\u04AB\u04AC\u0116\x8B\u04AC\u04AD\u0116\x8B\u04AD\xF9\u04AE\u04AF\u0116\x8B\u04AF\u04B0\u0116\x8B\u04B0\xFB\u04B1\u04B2\x07/\u04B2\u04B5\x07Z\u04B3\u04B6\u0114\x8A\u04B4\u04B6\u0116\x8B\u04B5\u04B3\u04B5\u04B4\u04B6\u04B7\u04B7\u04B5\u04B7\u04B8\u04B8\xFD\u04B9\u04BA\x07B\u04BA\u04BB\xF8|\u04BB\u04BC\x07/\u04BC\u04BD\xFA}\u04BD\u04BE\x07/\u04BE\u04BF\xFA}\u04BF\u04C0\x07"\u04C0\u04C1\xFA}\u04C1\u04C2\x07<\u04C2\u04C5\xFA}\u04C3\u04C4\x07<\u04C4\u04C6\xFA}\u04C5\u04C3\u04C5\u04C6\u04C6\u04C8\u04C7\u04C9\xFC~\u04C8\u04C7\u04C8\u04C9\u04C9\xFF\u04CA\u04CB\x07B\u04CB\u04CC\xF8|\u04CC\u04CD\x07/\u04CD\u04CE\xFA}\u04CE\u04CF\x07/\u04CF\u04D1\xFA}\u04D0\u04D2\xFC~\u04D1\u04D0\u04D1\u04D2\u04D2\u0101\u04D3\u04D4\x07B\u04D4\u04D5\xF8|\u04D5\u04D6\x07/\u04D6\u04D7\x07S\u04D7\u04D936\u04D8\u04DA\xFC~\u04D9\u04D8\u04D9\u04DA\u04DA\u0103\u04DB\u04DC\x07B\u04DC\u04DD\xF8|\u04DD\u04DE\x07/\u04DE\u04E0\xFA}\u04DF\u04E1\xFC~\u04E0\u04DF\u04E0\u04E1\u04E1\u0105\u04E2\u04E3\x07B\u04E3\u04E4\u0144\xA2\u04E4\u04E5\u012C\x96\u04E5\u04E6\xF8|\u04E6\u04E7\x07/\u04E7\u04E8\xFA}\u04E8\u04E9\x07/\u04E9\u04EB\xFA}\u04EA\u04EC\xFC~\u04EB\u04EA\u04EB\u04EC\u04EC\u0107\u04ED\u04EE\x07B\u04EE\u04F0\xF8|\u04EF\u04F1\xFC~\u04F0\u04EF\u04F0\u04F1\u04F1\u0109\u04F2\u04F7\u0114\x8A\u04F3\u04F6\u0114\x8A\u04F4\u04F6\u0116\x8B\u04F5\u04F3\u04F5\u04F4\u04F6\u04F9\u04F7\u04F5\u04F7\u04F8\u04F8\u010B\u04F9\u04F7\u04FA\u04FC\u0116\x8B\u04FB\u04FA\u04FC\u04FD\u04FD\u04FB\u04FD\u04FE\u04FE\u04FF\u04FF\u0500\x07'\u0500\u010D\u0501\u0503\u0116\x8B\u0502\u0501\u0503\u0504\u0504\u0502\u0504\u0505\u0505\u010F\u0506\u0508\u0116\x8B\u0507\u0506\u0508\u0509\u0509\u0507\u0509\u050A\u050A\u0512\u050B\u050F\xD6k\u050C\u050E\u0116\x8B\u050D\u050C\u050E\u0511\u050F\u050D\u050F\u0510\u0510\u0513\u0511\u050F\u0512\u050B\u0512\u0513\u0513\u0526\u0514\u0516\xD6k\u0515\u0517\u0116\x8B\u0516\u0515\u0517\u0518\u0518\u0516\u0518\u0519\u0519\u0523\u051A\u051C\u0120\x90\u051B\u051D	\b\u051C\u051B\u051C\u051D\u051D\u051F\u051E\u0520\u0116\x8B\u051F\u051E\u0520\u0521\u0521\u051F\u0521\u0522\u0522\u0524\u0523\u051A\u0523\u0524\u0524\u0526\u0525\u0507\u0525\u0514\u0526\u0111\u0527\u0529\x07b\u0528\u052A
	\u0529\u0528\u052A\u052B\u052B\u0529\u052B\u052C\u052C\u052D\u052D\u052E\x07b\u052E\u0113\u052F\u0530	)\u0530\u0115\u0531\u0532	
\u0532\u0117\u0533\u0534	\v\u0534\u0119\u0535\u0536	\f\u0536\u011B\u0537\u0538	\r\u0538\u011D\u0539\u053A	\u053A\u011F\u053B\u053C	\u053C\u0121\u053D\u053E	\u053E\u0123\u053F\u0540	\u0540\u0125\u0541\u0542	\u0542\u0127\u0543\u0544	\u0544\u0129\u0545\u0546	\u0546\u012B\u0547\u0548	\u0548\u012D\u0549\u054A	\u054A\u012F\u054B\u054C	\u054C\u0131\u054D\u054E	\u054E\u0133\u054F\u0550	\u0550\u0135\u0551\u0552	\u0552\u0137\u0553\u0554	\x1B\u0554\u0139\u0555\u0556	\u0556\u013B\u0557\u0558	\u0558\u013D\u0559\u055A	\u055A\u013F\u055B\u055C	\u055C\u0141\u055D\u055E	 \u055E\u0143\u055F\u0560	!\u0560\u0145\u0561\u0562	"\u0562\u0147\u0563\u0564	#\u0564\u0149\u0565\u0566	$\u0566\u014B\u0567\u0568\x071\u0568\u0569\x07,\u0569\u056D\u056A\u056C\v\u056B\u056A\u056C\u056F\u056D\u056E\u056D\u056B\u056E\u0570\u056F\u056D\u0570\u0571\x07,\u0571\u0572\x071\u0572\u0573\u0573\u0574\b\xA6\u0574\u014D\u0575\u0576\x07/`;Un._serializedATNSegment3=`\u0576\u057A\x07/\u0577\u0578\x071\u0578\u057A\x071\u0579\u0575\u0579\u0577\u057A\u057E\u057B\u057D
%\u057C\u057B\u057D\u0580\u057E\u057C\u057E\u057F\u057F\u0586\u0580\u057E\u0581\u0583\x07\u0582\u0581\u0582\u0583\u0583\u0584\u0584\u0587\x07\f\u0585\u0587\x07\u0586\u0582\u0586\u0585\u0587\u0588\u0588\u0589\b\xA7\u0589\u014F\u058A\u058B\x07\u058B\u058C\u058C\u058D\b\xA8\u058D\u0151\u058E\u058F\x07$\u058F\u0590\x07$\u0590\u0591\x07$\u0591\u0592\u0592\u0593\b\xA9\u0593\u0153\u0594\u0595\x07\x7F\u0595\u0596\x07'\u0596\u0597\u0597\u0598\b\xAA\u0598\u0155\u0599\u059B\u0116\x8B\u059A\u0599\u059B\u059C\u059C\u059A\u059C\u059D\u059D\u059F\u059E\u05A0\u0114\x8A\u059F\u059E\u05A0\u05A1\u05A1\u059F\u05A1\u05A2\u05A2\u05A7\u05A3\u05A6\u0114\x8A\u05A4\u05A6\u0116\x8B\u05A5\u05A3\u05A5\u05A4\u05A6\u05A9\u05A7\u05A5\u05A7\u05A8\u05A8\u0157\u05A9\u05A7\u05AA\u05AB\v\u05AB\u0159\u05AC\u05AD\x07^\u05AD\u05B8\v\u05AE\u05B8
&\u05AF\u05B0\x07$\u05B0\u05B8
'\u05B1\u05B2\x07$\u05B2\u05B3\x07$\u05B3\u05B4\u05B4\u05B8
'\u05B5\u05B6\x07'\u05B6\u05B8
(\u05B7\u05AC\u05B7\u05AE\u05B7\u05AF\u05B7\u05B1\u05B7\u05B5\u05B8\u015B\u05B9\u05BB\u015A\xAD\u05BA\u05B9\u05BB\u05BE\u05BC\u05BD\u05BC\u05BA\u05BD\u05BF\u05BE\u05BC\u05BF\u05C0\x07'\u05C0\u05C1\x07}\u05C1\u05C2\u05C2\u05C3\b\xAE\u05C3\u015D\u05C4\u05C6\u015A\xAD\u05C5\u05C4\u05C6\u05C9\u05C7\u05C8\u05C7\u05C5\u05C8\u05CA\u05C9\u05C7\u05CA\u05CB\x07$\u05CB\u05CC\x07$\u05CC\u05CD\x07$\u05CD\u05CE\u05CE\u05CF\b\xAF\u05CF\u015FQ\u0163\u0165\u016D\u0184\u0195\u01A7\u01C1\u01CF\u01DE\u01EE\u01FC\u0209\u0225\u0236\u0243\u0252\u025E\u026E\u0281\u0290\u029D\u02AB\u02B9\u02C7\u02D5\u02E0\u02EF\u02FA\u0307\u034D\u038F\u03B4\u03BC\u03E7\u03F0\u042B\u043C\u044E\u0451\u0456\u0458\u0460\u0462\u04B5\u04B7\u04C5\u04C8\u04D1\u04D9\u04E0\u04EB\u04F0\u04F5\u04F7\u04FD\u0504\u0509\u050F\u0512\u0518\u051C\u0521\u0523\u0525\u052B\u056D\u0579\u057E\u0582\u0586\u059C\u05A1\u05A5\u05A7\u05B7\u05BC\u05C7\x07\b\x07\x07`;Un._serializedATN=s8e.join([Un._serializedATNSegment0,Un._serializedATNSegment1,Un._serializedATNSegment2,Un._serializedATNSegment3],"")});var mne=G(Nt=>{"use strict";d();var Oxt=Nt&&Nt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Nxt=Nt&&Nt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Rxt=Nt&&Nt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Oxt(e,n,t);return Nxt(e,n),e};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.DefExploreEditFieldContext=Nt.DefExploreRenameContext=Nt.DefExplorePrimaryKeyContext=Nt.DefExploreWhereContext=Nt.DefJoin_stubContext=Nt.DefDeclare_stubContext=Nt.DefExploreMeasureContext=Nt.DefExploreDimensionContext=Nt.ExploreStatementContext=Nt.ExplorePropertiesContext=Nt.SourceIDContext=Nt.SourceNameDefContext=Nt.SQLSourceNameContext=Nt.QuerySourceContext=Nt.TableSourceContext=Nt.NamedSourceContext=Nt.ExploreSourceContext=Nt.ExploreContext=Nt.SourceDefinitionContext=Nt.SourcePropertyListContext=Nt.QueryNameContext=Nt.ExploreQueryNameContext=Nt.FilterShortcutContext=Nt.QueryPropertiesContext=Nt.ExploreTableContext=Nt.PipeElementContext=Nt.FirstSegmentContext=Nt.PipelineFromNameContext=Nt.ArrowQueryContext=Nt.ExploreArrowQueryContext=Nt.QueryContext=Nt.RefineOperatorContext=Nt.TopLevelQueryDefContext=Nt.TopLevelQueryDefsContext=Nt.ImportURLContext=Nt.ImportStatementContext=Nt.SqlInterpolationContext=Nt.SqlStringContext=Nt.BlockSQLDefContext=Nt.SqlBlockContext=Nt.DefineSQLStatementContext=Nt.TopLevelAnonQueryDefContext=Nt.AnonymousQueryContext=Nt.NamedQueries_stubContext=Nt.DefineQueryContext=Nt.ExploreKeywordContext=Nt.DefineSourceStatementContext=Nt.MalloyStatementContext=Nt.MalloyDocumentContext=Nt.MalloyParser=void 0;Nt.IndexElementContext=Nt.TopStatementContext=Nt.BySpecContext=Nt.LimitStatementContext=Nt.OrderBySpecContext=Nt.OrderingContext=Nt.OrderByStatementContext=Nt.ProjectStatementContext=Nt.AggregateStatementContext=Nt.NestDefContext=Nt.NestExistingContext=Nt.NestEntryContext=Nt.NestedQueryListContext=Nt.NestStatementContext=Nt.QueryFieldDefContext=Nt.QueryFieldRefContext=Nt.QueryFieldEntryContext=Nt.DimensionDefContext=Nt.QueryFieldListContext=Nt.GroupByStatementContext=Nt.QueryStatementContext=Nt.ExploreQueryDefContext=Nt.ExploreQueryNameDefContext=Nt.SubQueryDefListContext=Nt.HavingStatementContext=Nt.WhereStatementContext=Nt.FilterClauseListContext=Nt.FilterByWhereContext=Nt.FilterByShortcutContext=Nt.FilteredByContext=Nt.FilterStatementContext=Nt.JoinExpressionContext=Nt.JoinOnContext=Nt.JoinWithContext=Nt.JoinDefContext=Nt.JoinListContext=Nt.DefJoinCrossContext=Nt.DefJoinManyContext=Nt.DefJoinOneContext=Nt.JoinStatementContext=Nt.DeclareStatementContext=Nt.MeasureDefContext=Nt.JoinNameDefContext=Nt.FieldNameDefContext=Nt.FieldDefContext=Nt.MeasureDefListContext=Nt.DimensionDefListContext=Nt.ExploreRenameDefContext=Nt.RenameListContext=Nt.DefExploreQueryContext=void 0;Nt.ExprUngroupContext=Nt.ExprPickContext=Nt.ExprFuncContext=Nt.ExprExprContext=Nt.ExprAggregateContext=Nt.ExprCountDisinctContext=Nt.ExprCastContext=Nt.ExprLogicalContext=Nt.ExprNotContext=Nt.ExprApplyContext=Nt.ExprCompareContext=Nt.ExprLogicalTreeContext=Nt.ExprForRangeContext=Nt.ExprRangeContext=Nt.ExprAddSubContext=Nt.ExprMulDivContext=Nt.ExprSafeCastContext=Nt.ExprTimeTruncContext=Nt.ExprDurationContext=Nt.ExprMinusContext=Nt.ExprLiteralContext=Nt.ExprFilterContext=Nt.ExprFieldPathContext=Nt.FieldExprContext=Nt.UngroupContext=Nt.TimeframeContext=Nt.IdContext=Nt.TableNameContext=Nt.LiteralYearContext=Nt.LiteralQuarterContext=Nt.LiteralMonthContext=Nt.LiteralWeekContext=Nt.LiteralDayContext=Nt.LiteralTimestampContext=Nt.DateLiteralContext=Nt.ExprNowContext=Nt.ExprRegexContext=Nt.ExprBoolContext=Nt.ExprNULLContext=Nt.ExprTimeContext=Nt.ExprNumberContext=Nt.ExprStringContext=Nt.LiteralContext=Nt.CompareOpContext=Nt.MalloyTypeContext=Nt.AggregateContext=Nt.SampleSpecContext=Nt.SampleStatementContext=Nt.IndexStatementContext=Nt.IndexFieldsContext=void 0;Nt.ConnectionNameContext=Nt.NameSQLBlockContext=Nt.SqlExploreNameRefContext=Nt.JsonArrayContext=Nt.JsonPropertyContext=Nt.JsonObjectContext=Nt.JsonValueContext=Nt.JsonContext=Nt.JustExprContext=Nt.FieldNameContext=Nt.JoinNameContext=Nt.FieldPathContext=Nt.NewMemberContext=Nt.WildMemberContext=Nt.NameMemberContext=Nt.CollectionMemberContext=Nt.FieldCollectionContext=Nt.FieldNameListContext=Nt.ArgumentListContext=Nt.PickContext=Nt.PickStatementContext=Nt.PartialAllowedFieldExprContext=void 0;var Lc=Fp(),Lxt=OT(),kxt=VA(),ul=ET(),Ixt=$8(),Sr=fh(),Mxt=Q8(),Cr=cx(),sc=_a(),Pxt=yx(),a8e=Rxt(Tp()),S=class extends Ixt.Parser{constructor(e){super(e);this._interp=new Mxt.ParserATNSimulator(S._ATN,this)}get vocabulary(){return S.VOCABULARY}get grammarFileName(){return"MalloyParser.g4"}get ruleNames(){return S.ruleNames}get serializedATN(){return S._serializedATN}createFailedPredicateException(e,t){return new kxt.FailedPredicateException(this,e,t)}malloyDocument(){let e=new Jee(this._ctx,this.state);this.enterRule(e,0,S.RULE_malloyDocument);let t;try{this.enterOuterAlt(e,1);{for(this.state=212,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<S.EXPLORE|1<<S.QUERY|1<<S.SOURCE|1<<S.SQL))!==0||t===S.IMPORT||t===S.SEMI;){switch(this.state=210,this._errHandler.sync(this),this._input.LA(1)){case S.EXPLORE:case S.QUERY:case S.SOURCE:case S.SQL:case S.IMPORT:this.state=208,this.malloyStatement();break;case S.SEMI:this.state=209,this.match(S.SEMI);break;default:throw new ul.NoViableAltException(this)}this.state=214,this._errHandler.sync(this),t=this._input.LA(1)}this.state=215,this.match(S.EOF)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyStatement(){let e=new HT(this._ctx,this.state);this.enterRule(e,2,S.RULE_malloyStatement);try{switch(this.state=221,this._errHandler.sync(this),this._input.LA(1)){case S.EXPLORE:case S.SOURCE:this.enterOuterAlt(e,1),this.state=217,this.defineSourceStatement();break;case S.SQL:this.enterOuterAlt(e,2),this.state=218,this.defineSQLStatement();break;case S.QUERY:this.enterOuterAlt(e,3),this.state=219,this.defineQuery();break;case S.IMPORT:this.enterOuterAlt(e,4),this.state=220,this.importStatement();break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineSourceStatement(){let e=new DM(this._ctx,this.state);this.enterRule(e,4,S.RULE_defineSourceStatement);try{this.enterOuterAlt(e,1),this.state=223,this.exploreKeyword(),this.state=224,this.sourcePropertyList()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreKeyword(){let e=new OM(this._ctx,this.state);this.enterRule(e,6,S.RULE_exploreKeyword);let t;try{this.enterOuterAlt(e,1),this.state=226,t=this._input.LA(1),t===S.EXPLORE||t===S.SOURCE?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}defineQuery(){let e=new R7(this._ctx,this.state);this.enterRule(e,8,S.RULE_defineQuery);try{switch(this.state=232,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:e=new Xee(e),this.enterOuterAlt(e,1),this.state=228,this.match(S.QUERY),this.state=229,this.topLevelQueryDefs();break;case 2:e=new Zee(e),this.enterOuterAlt(e,2),this.state=230,this.match(S.QUERY),this.state=231,this.topLevelAnonQueryDef();break}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelAnonQueryDef(){let e=new NM(this._ctx,this.state);this.enterRule(e,10,S.RULE_topLevelAnonQueryDef);try{this.enterOuterAlt(e,1),this.state=234,this.query()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineSQLStatement(){let e=new RM(this._ctx,this.state);this.enterRule(e,12,S.RULE_defineSQLStatement);let t;try{this.enterOuterAlt(e,1),this.state=236,this.match(S.SQL),this.state=240,this._errHandler.sync(this),t=this._input.LA(1),(t===S.IDENTIFIER||t===S.OBJECT_NAME_LITERAL)&&(this.state=237,this.nameSQLBlock(),this.state=238,this.match(S.IS)),this.state=242,this.sqlBlock()}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlBlock(){let e=new LM(this._ctx,this.state);this.enterRule(e,14,S.RULE_sqlBlock);let t;try{this.enterOuterAlt(e,1);{this.state=244,this.match(S.OCURLY),this.state=246,this._errHandler.sync(this),t=this._input.LA(1);do this.state=245,this.blockSQLDef(),this.state=248,this._errHandler.sync(this),t=this._input.LA(1);while(t===S.CONNECTION||t===S.SELECT);this.state=250,this.match(S.CCURLY)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}blockSQLDef(){let e=new VT(this._ctx,this.state);this.enterRule(e,16,S.RULE_blockSQLDef);try{switch(this.state=256,this._errHandler.sync(this),this._input.LA(1)){case S.CONNECTION:this.enterOuterAlt(e,1),this.state=252,this.match(S.CONNECTION),this.state=253,this.connectionName();break;case S.SELECT:this.enterOuterAlt(e,2),this.state=254,this.match(S.SELECT),this.state=255,this.sqlString();break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlString(){let e=new kM(this._ctx,this.state);this.enterRule(e,18,S.RULE_sqlString);let t;try{this.enterOuterAlt(e,1);{for(this.state=258,this.match(S.SQL_BEGIN),this.state=262,this._errHandler.sync(this),t=this._input.LA(1);t===S.OPEN_CODE;)this.state=259,this.sqlInterpolation(),this.state=264,this._errHandler.sync(this),t=this._input.LA(1);this.state=265,this.match(S.SQL_END)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlInterpolation(){let e=new WT(this._ctx,this.state);this.enterRule(e,20,S.RULE_sqlInterpolation);try{this.enterOuterAlt(e,1),this.state=267,this.match(S.OPEN_CODE),this.state=268,this.query(),this.state=269,this.match(S.CLOSE_CODE)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importStatement(){let e=new IM(this._ctx,this.state);this.enterRule(e,22,S.RULE_importStatement);try{this.enterOuterAlt(e,1),this.state=271,this.match(S.IMPORT),this.state=272,this.importURL()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importURL(){let e=new MM(this._ctx,this.state);this.enterRule(e,24,S.RULE_importURL);try{this.enterOuterAlt(e,1),this.state=274,this.match(S.JSON_STRING)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelQueryDefs(){let e=new PM(this._ctx,this.state);this.enterRule(e,26,S.RULE_topLevelQueryDefs);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=276,this.topLevelQueryDef(),this.state=283,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,9,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=278,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=277,this.match(S.COMMA)),this.state=280,this.topLevelQueryDef()),this.state=285,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,9,this._ctx);this.state=287,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=286,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}topLevelQueryDef(){let e=new QT(this._ctx,this.state);this.enterRule(e,28,S.RULE_topLevelQueryDef);try{this.enterOuterAlt(e,1),this.state=289,this.queryName(),this.state=290,this.match(S.IS),this.state=291,this.query()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}refineOperator(){let e=new e_(this._ctx,this.state);this.enterRule(e,30,S.RULE_refineOperator);try{this.enterOuterAlt(e,1),this.state=293,this.match(S.PLUS)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}query(){let e=new Px(this._ctx,this.state);this.enterRule(e,32,S.RULE_query);let t;try{switch(this.state=313,this._errHandler.sync(this),this._input.LA(1)){case S.FROM:case S.FROM_SQL:case S.TABLE:case S.IDENTIFIER:case S.OBJECT_NAME_LITERAL:e=new ete(e),this.enterOuterAlt(e,1),this.state=295,this.explore(),this.state=296,this.match(S.ARROW),this.state=297,this.pipelineFromName();break;case S.ARROW:for(e=new tte(e),this.enterOuterAlt(e,2),this.state=299,this.match(S.ARROW),this.state=300,this.queryName(),this.state=305,this._errHandler.sync(this),t=this._input.LA(1),(t===S.OCURLY||t===S.PLUS)&&(this.state=302,this._errHandler.sync(this),t=this._input.LA(1),t===S.PLUS&&(this.state=301,this.refineOperator()),this.state=304,this.queryProperties()),this.state=310,this._errHandler.sync(this),t=this._input.LA(1);t===S.ARROW;)this.state=307,this.pipeElement(),this.state=312,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new ul.NoViableAltException(this)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipelineFromName(){let e=new L7(this._ctx,this.state);this.enterRule(e,34,S.RULE_pipelineFromName);let t;try{for(this.enterOuterAlt(e,1),this.state=315,this.firstSegment(),this.state=319,this._errHandler.sync(this),t=this._input.LA(1);t===S.ARROW;)this.state=316,this.pipeElement(),this.state=321,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}firstSegment(){let e=new BM(this._ctx,this.state);this.enterRule(e,36,S.RULE_firstSegment);let t;try{switch(this.state=330,this._errHandler.sync(this),this._input.LA(1)){case S.OCURLY:this.enterOuterAlt(e,1),this.state=322,this.queryProperties();break;case S.IDENTIFIER:case S.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,2),this.state=323,this.exploreQueryName(),this.state=328,this._errHandler.sync(this),t=this._input.LA(1),(t===S.OCURLY||t===S.PLUS)&&(this.state=325,this._errHandler.sync(this),t=this._input.LA(1),t===S.PLUS&&(this.state=324,this.refineOperator()),this.state=327,this.queryProperties());break;default:throw new ul.NoViableAltException(this)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipeElement(){let e=new t_(this._ctx,this.state);this.enterRule(e,38,S.RULE_pipeElement);try{this.enterOuterAlt(e,1),this.state=332,this.match(S.ARROW),this.state=333,this.queryProperties()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreTable(){let e=new jM(this._ctx,this.state);this.enterRule(e,40,S.RULE_exploreTable);try{this.enterOuterAlt(e,1),this.state=335,this.match(S.TABLE),this.state=336,this.match(S.OPAREN),this.state=337,this.tableName(),this.state=338,this.match(S.CPAREN)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryProperties(){let e=new n_(this._ctx,this.state);this.enterRule(e,42,S.RULE_queryProperties);let t;try{switch(this.state=350,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,21,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=340,this.filterShortcut();break;case 2:this.enterOuterAlt(e,2);{for(this.state=341,this.match(S.OCURLY),this.state=346,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<S.AGGREGATE|1<<S.DECLARE|1<<S.GROUP_BY|1<<S.HAVING|1<<S.INDEX|1<<S.JOIN_CROSS|1<<S.JOIN_ONE|1<<S.JOIN_MANY|1<<S.LIMIT|1<<S.NEST|1<<S.ORDER_BY|1<<S.PROJECT|1<<S.SAMPLE|1<<S.TOP|1<<S.WHERE))!==0||t===S.SEMI;){switch(this.state=344,this._errHandler.sync(this),this._input.LA(1)){case S.AGGREGATE:case S.DECLARE:case S.GROUP_BY:case S.HAVING:case S.INDEX:case S.JOIN_CROSS:case S.JOIN_ONE:case S.JOIN_MANY:case S.LIMIT:case S.NEST:case S.ORDER_BY:case S.PROJECT:case S.SAMPLE:case S.TOP:case S.WHERE:this.state=342,this.queryStatement();break;case S.SEMI:this.state=343,this.match(S.SEMI);break;default:throw new ul.NoViableAltException(this)}this.state=348,this._errHandler.sync(this),t=this._input.LA(1)}this.state=349,this.match(S.CCURLY)}break}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}filterShortcut(){let e=new GT(this._ctx,this.state);this.enterRule(e,44,S.RULE_filterShortcut);try{this.enterOuterAlt(e,1),this.state=352,this.match(S.OCURLY),this.state=353,this.match(S.QMARK),this.state=354,this.fieldExpr(0),this.state=355,this.match(S.CCURLY)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryName(){let e=new qM(this._ctx,this.state);this.enterRule(e,46,S.RULE_exploreQueryName);try{this.enterOuterAlt(e,1),this.state=357,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryName(){let e=new r_(this._ctx,this.state);this.enterRule(e,48,S.RULE_queryName);try{this.enterOuterAlt(e,1),this.state=359,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sourcePropertyList(){let e=new UM(this._ctx,this.state);this.enterRule(e,50,S.RULE_sourcePropertyList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=361,this.sourceDefinition(),this.state=368,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,23,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=363,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=362,this.match(S.COMMA)),this.state=365,this.sourceDefinition()),this.state=370,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,23,this._ctx);this.state=372,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=371,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sourceDefinition(){let e=new YT(this._ctx,this.state);this.enterRule(e,52,S.RULE_sourceDefinition);try{this.enterOuterAlt(e,1),this.state=374,this.sourceNameDef(),this.state=375,this.match(S.IS),this.state=376,this.explore()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}explore(){let e=new i_(this._ctx,this.state);this.enterRule(e,54,S.RULE_explore);let t;try{this.enterOuterAlt(e,1),this.state=378,this.exploreSource(),this.state=383,this._errHandler.sync(this),t=this._input.LA(1),(t===S.OCURLY||t===S.PLUS)&&(this.state=380,this._errHandler.sync(this),t=this._input.LA(1),t===S.PLUS&&(this.state=379,this.refineOperator()),this.state=382,this.exploreProperties())}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreSource(){let e=new s5(this._ctx,this.state);this.enterRule(e,56,S.RULE_exploreSource);try{switch(this.state=397,this._errHandler.sync(this),this._input.LA(1)){case S.IDENTIFIER:case S.OBJECT_NAME_LITERAL:e=new nte(e),this.enterOuterAlt(e,1),this.state=385,this.sourceID();break;case S.TABLE:e=new rte(e),this.enterOuterAlt(e,2),this.state=386,this.exploreTable();break;case S.FROM:e=new ite(e),this.enterOuterAlt(e,3),this.state=387,this.match(S.FROM),this.state=388,this.match(S.OPAREN),this.state=389,this.query(),this.state=390,this.match(S.CPAREN);break;case S.FROM_SQL:e=new ste(e),this.enterOuterAlt(e,4),this.state=392,this.match(S.FROM_SQL),this.state=393,this.match(S.OPAREN),this.state=394,this.sqlExploreNameRef(),this.state=395,this.match(S.CPAREN);break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sourceNameDef(){let e=new $M(this._ctx,this.state);this.enterRule(e,58,S.RULE_sourceNameDef);try{this.enterOuterAlt(e,1),this.state=399,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sourceID(){let e=new zM(this._ctx,this.state);this.enterRule(e,60,S.RULE_sourceID);try{this.enterOuterAlt(e,1),this.state=401,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreProperties(){let e=new HM(this._ctx,this.state);this.enterRule(e,62,S.RULE_exploreProperties);let t;try{switch(this.state=413,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,30,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=403,this.match(S.OCURLY),this.state=408,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<S.ACCEPT|1<<S.DECLARE|1<<S.DIMENSION|1<<S.EXCEPT|1<<S.JOIN_CROSS|1<<S.JOIN_ONE|1<<S.JOIN_MANY|1<<S.MEASURE|1<<S.PRIMARY_KEY|1<<S.QUERY|1<<S.RENAME|1<<S.WHERE))!==0||t===S.SEMI;){switch(this.state=406,this._errHandler.sync(this),this._input.LA(1)){case S.ACCEPT:case S.DECLARE:case S.DIMENSION:case S.EXCEPT:case S.JOIN_CROSS:case S.JOIN_ONE:case S.JOIN_MANY:case S.MEASURE:case S.PRIMARY_KEY:case S.QUERY:case S.RENAME:case S.WHERE:this.state=404,this.exploreStatement();break;case S.SEMI:this.state=405,this.match(S.SEMI);break;default:throw new ul.NoViableAltException(this)}this.state=410,this._errHandler.sync(this),t=this._input.LA(1)}this.state=411,this.match(S.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=412,this.filterShortcut();break}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreStatement(){let e=new A0(this._ctx,this.state);this.enterRule(e,64,S.RULE_exploreStatement);let t;try{switch(this.state=430,this._errHandler.sync(this),this._input.LA(1)){case S.DIMENSION:e=new ote(e),this.enterOuterAlt(e,1),this.state=415,this.match(S.DIMENSION),this.state=416,this.dimensionDefList();break;case S.MEASURE:e=new ate(e),this.enterOuterAlt(e,2),this.state=417,this.match(S.MEASURE),this.state=418,this.measureDefList();break;case S.DECLARE:e=new ute(e),this.enterOuterAlt(e,3),this.state=419,this.declareStatement();break;case S.JOIN_CROSS:case S.JOIN_ONE:case S.JOIN_MANY:e=new lte(e),this.enterOuterAlt(e,4),this.state=420,this.joinStatement();break;case S.WHERE:e=new cte(e),this.enterOuterAlt(e,5),this.state=421,this.whereStatement();break;case S.PRIMARY_KEY:e=new fte(e),this.enterOuterAlt(e,6),this.state=422,this.match(S.PRIMARY_KEY),this.state=423,this.fieldName();break;case S.RENAME:e=new dte(e),this.enterOuterAlt(e,7),this.state=424,this.match(S.RENAME),this.state=425,this.renameList();break;case S.ACCEPT:case S.EXCEPT:e=new hte(e),this.enterOuterAlt(e,8),this.state=426,t=this._input.LA(1),t===S.ACCEPT||t===S.EXCEPT?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=427,this.fieldNameList();break;case S.QUERY:e=new pte(e),this.enterOuterAlt(e,9),this.state=428,this.match(S.QUERY),this.state=429,this.subQueryDefList();break;default:throw new ul.NoViableAltException(this)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}renameList(){let e=new VM(this._ctx,this.state);this.enterRule(e,66,S.RULE_renameList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=432,this.exploreRenameDef(),this.state=439,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,33,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=434,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=433,this.match(S.COMMA)),this.state=436,this.exploreRenameDef()),this.state=441,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,33,this._ctx);this.state=443,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=442,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreRenameDef(){let e=new KT(this._ctx,this.state);this.enterRule(e,68,S.RULE_exploreRenameDef);try{this.enterOuterAlt(e,1),this.state=445,this.fieldName(),this.state=446,this.match(S.IS),this.state=447,this.fieldName()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}dimensionDefList(){let e=new WM(this._ctx,this.state);this.enterRule(e,70,S.RULE_dimensionDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=449,this.dimensionDef(),this.state=456,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,36,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=451,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=450,this.match(S.COMMA)),this.state=453,this.dimensionDef()),this.state=458,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,36,this._ctx);this.state=460,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=459,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}measureDefList(){let e=new QM(this._ctx,this.state);this.enterRule(e,72,S.RULE_measureDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=462,this.measureDef(),this.state=469,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,39,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=464,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=463,this.match(S.COMMA)),this.state=466,this.measureDef()),this.state=471,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,39,this._ctx);this.state=473,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=472,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldDef(){let e=new o5(this._ctx,this.state);this.enterRule(e,74,S.RULE_fieldDef);try{this.enterOuterAlt(e,1),this.state=475,this.fieldNameDef(),this.state=476,this.match(S.IS),this.state=477,this.fieldExpr(0)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldNameDef(){let e=new GM(this._ctx,this.state);this.enterRule(e,76,S.RULE_fieldNameDef);try{this.enterOuterAlt(e,1),this.state=479,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinNameDef(){let e=new JT(this._ctx,this.state);this.enterRule(e,78,S.RULE_joinNameDef);try{this.enterOuterAlt(e,1),this.state=481,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}measureDef(){let e=new XT(this._ctx,this.state);this.enterRule(e,80,S.RULE_measureDef);try{this.enterOuterAlt(e,1),this.state=483,this.fieldDef()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}declareStatement(){let e=new ZT(this._ctx,this.state);this.enterRule(e,82,S.RULE_declareStatement);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=485,this.match(S.DECLARE),this.state=486,this.fieldDef(),this.state=493,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,42,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=488,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=487,this.match(S.COMMA)),this.state=490,this.fieldDef()),this.state=495,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,42,this._ctx);this.state=497,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=496,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinStatement(){let e=new a5(this._ctx,this.state);this.enterRule(e,84,S.RULE_joinStatement);try{switch(this.state=505,this._errHandler.sync(this),this._input.LA(1)){case S.JOIN_ONE:e=new mte(e),this.enterOuterAlt(e,1),this.state=499,this.match(S.JOIN_ONE),this.state=500,this.joinList();break;case S.JOIN_MANY:e=new xte(e),this.enterOuterAlt(e,2),this.state=501,this.match(S.JOIN_MANY),this.state=502,this.joinList();break;case S.JOIN_CROSS:e=new gte(e),this.enterOuterAlt(e,3),this.state=503,this.match(S.JOIN_CROSS),this.state=504,this.joinList();break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinList(){let e=new k7(this._ctx,this.state);this.enterRule(e,86,S.RULE_joinList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=507,this.joinDef(),this.state=514,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,46,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=509,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=508,this.match(S.COMMA)),this.state=511,this.joinDef()),this.state=516,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,46,this._ctx);this.state=518,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=517,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinDef(){let e=new s_(this._ctx,this.state);this.enterRule(e,88,S.RULE_joinDef);let t;try{switch(this.state=537,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,51,this._ctx)){case 1:e=new yte(e),this.enterOuterAlt(e,1),this.state=520,this.joinNameDef(),this.state=523,this._errHandler.sync(this),t=this._input.LA(1),t===S.IS&&(this.state=521,this.match(S.IS),this.state=522,this.explore()),this.state=525,this.match(S.WITH),this.state=526,this.fieldExpr(0);break;case 2:e=new vte(e),this.enterOuterAlt(e,2),this.state=528,this.joinNameDef(),this.state=531,this._errHandler.sync(this),t=this._input.LA(1),t===S.IS&&(this.state=529,this.match(S.IS),this.state=530,this.explore()),this.state=535,this._errHandler.sync(this),t=this._input.LA(1),t===S.ON&&(this.state=533,this.match(S.ON),this.state=534,this.joinExpression());break}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinExpression(){let e=new YM(this._ctx,this.state);this.enterRule(e,90,S.RULE_joinExpression);try{this.enterOuterAlt(e,1),this.state=539,this.fieldExpr(0)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterStatement(){let e=new _te(this._ctx,this.state);this.enterRule(e,92,S.RULE_filterStatement);try{switch(this.state=543,this._errHandler.sync(this),this._input.LA(1)){case S.WHERE:this.enterOuterAlt(e,1),this.state=541,this.whereStatement();break;case S.HAVING:this.enterOuterAlt(e,2),this.state=542,this.havingStatement();break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filteredBy(){let e=new I7(this._ctx,this.state);this.enterRule(e,94,S.RULE_filteredBy);try{switch(this.state=548,this._errHandler.sync(this),this._input.LA(1)){case S.QMARK:e=new bte(e),this.enterOuterAlt(e,1),this.state=545,this.match(S.QMARK),this.state=546,this.fieldExpr(0);break;case S.WHERE:e=new Ete(e),this.enterOuterAlt(e,2),this.state=547,this.whereStatement();break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterClauseList(){let e=new eF(this._ctx,this.state);this.enterRule(e,96,S.RULE_filterClauseList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=550,this.fieldExpr(0),this.state=555,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,54,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=551,this.match(S.COMMA),this.state=552,this.fieldExpr(0)),this.state=557,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,54,this._ctx);this.state=559,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=558,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}whereStatement(){let e=new o_(this._ctx,this.state);this.enterRule(e,98,S.RULE_whereStatement);try{this.enterOuterAlt(e,1),this.state=561,this.match(S.WHERE),this.state=562,this.filterClauseList()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}havingStatement(){let e=new tF(this._ctx,this.state);this.enterRule(e,100,S.RULE_havingStatement);try{this.enterOuterAlt(e,1),this.state=564,this.match(S.HAVING),this.state=565,this.filterClauseList()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}subQueryDefList(){let e=new KM(this._ctx,this.state);this.enterRule(e,102,S.RULE_subQueryDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=567,this.exploreQueryDef(),this.state=574,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,57,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=569,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=568,this.match(S.COMMA)),this.state=571,this.exploreQueryDef()),this.state=576,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,57,this._ctx);this.state=578,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=577,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreQueryNameDef(){let e=new JM(this._ctx,this.state);this.enterRule(e,104,S.RULE_exploreQueryNameDef);try{this.enterOuterAlt(e,1),this.state=580,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryDef(){let e=new nF(this._ctx,this.state);this.enterRule(e,106,S.RULE_exploreQueryDef);try{this.enterOuterAlt(e,1),this.state=582,this.exploreQueryNameDef(),this.state=583,this.match(S.IS),this.state=584,this.pipelineFromName()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryStatement(){let e=new rF(this._ctx,this.state);this.enterRule(e,108,S.RULE_queryStatement);try{switch(this.state=599,this._errHandler.sync(this),this._input.LA(1)){case S.GROUP_BY:this.enterOuterAlt(e,1),this.state=586,this.groupByStatement();break;case S.DECLARE:this.enterOuterAlt(e,2),this.state=587,this.declareStatement();break;case S.JOIN_CROSS:case S.JOIN_ONE:case S.JOIN_MANY:this.enterOuterAlt(e,3),this.state=588,this.joinStatement();break;case S.PROJECT:this.enterOuterAlt(e,4),this.state=589,this.projectStatement();break;case S.INDEX:this.enterOuterAlt(e,5),this.state=590,this.indexStatement();break;case S.AGGREGATE:this.enterOuterAlt(e,6),this.state=591,this.aggregateStatement();break;case S.TOP:this.enterOuterAlt(e,7),this.state=592,this.topStatement();break;case S.LIMIT:this.enterOuterAlt(e,8),this.state=593,this.limitStatement();break;case S.ORDER_BY:this.enterOuterAlt(e,9),this.state=594,this.orderByStatement();break;case S.WHERE:this.enterOuterAlt(e,10),this.state=595,this.whereStatement();break;case S.HAVING:this.enterOuterAlt(e,11),this.state=596,this.havingStatement();break;case S.NEST:this.enterOuterAlt(e,12),this.state=597,this.nestStatement();break;case S.SAMPLE:this.enterOuterAlt(e,13),this.state=598,this.sampleStatement();break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}groupByStatement(){let e=new XM(this._ctx,this.state);this.enterRule(e,110,S.RULE_groupByStatement);try{this.enterOuterAlt(e,1),this.state=601,this.match(S.GROUP_BY),this.state=602,this.queryFieldList()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldList(){let e=new iF(this._ctx,this.state);this.enterRule(e,112,S.RULE_queryFieldList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=604,this.queryFieldEntry(),this.state=611,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,61,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=606,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=605,this.match(S.COMMA)),this.state=608,this.queryFieldEntry()),this.state=613,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,61,this._ctx);this.state=615,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=614,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dimensionDef(){let e=new M7(this._ctx,this.state);this.enterRule(e,114,S.RULE_dimensionDef);try{this.enterOuterAlt(e,1),this.state=617,this.fieldDef()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldEntry(){let e=new a_(this._ctx,this.state);this.enterRule(e,116,S.RULE_queryFieldEntry);try{switch(this.state=621,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,63,this._ctx)){case 1:e=new Ste(e),this.enterOuterAlt(e,1),this.state=619,this.fieldPath();break;case 2:e=new Cte(e),this.enterOuterAlt(e,2),this.state=620,this.dimensionDef();break}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestStatement(){let e=new ZM(this._ctx,this.state);this.enterRule(e,118,S.RULE_nestStatement);try{this.enterOuterAlt(e,1),this.state=623,this.match(S.NEST),this.state=624,this.nestedQueryList()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestedQueryList(){let e=new eP(this._ctx,this.state);this.enterRule(e,120,S.RULE_nestedQueryList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=626,this.nestEntry(),this.state=633,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,65,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=628,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=627,this.match(S.COMMA)),this.state=630,this.nestEntry()),this.state=635,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,65,this._ctx);this.state=637,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=636,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}nestEntry(){let e=new u_(this._ctx,this.state);this.enterRule(e,122,S.RULE_nestEntry);let t;try{switch(this.state=650,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,69,this._ctx)){case 1:e=new wte(e),this.enterOuterAlt(e,1),this.state=639,this.queryName(),this.state=644,this._errHandler.sync(this),t=this._input.LA(1),(t===S.OCURLY||t===S.PLUS)&&(this.state=641,this._errHandler.sync(this),t=this._input.LA(1),t===S.PLUS&&(this.state=640,this.refineOperator()),this.state=643,this.queryProperties());break;case 2:e=new Ate(e),this.enterOuterAlt(e,2),this.state=646,this.queryName(),this.state=647,this.match(S.IS),this.state=648,this.pipelineFromName();break}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregateStatement(){let e=new tP(this._ctx,this.state);this.enterRule(e,124,S.RULE_aggregateStatement);try{this.enterOuterAlt(e,1),this.state=652,this.match(S.AGGREGATE),this.state=653,this.queryFieldList()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}projectStatement(){let e=new nP(this._ctx,this.state);this.enterRule(e,126,S.RULE_projectStatement);try{this.enterOuterAlt(e,1),this.state=655,this.match(S.PROJECT),this.state=656,this.fieldCollection()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}orderByStatement(){let e=new rP(this._ctx,this.state);this.enterRule(e,128,S.RULE_orderByStatement);try{this.enterOuterAlt(e,1),this.state=658,this.match(S.ORDER_BY),this.state=659,this.ordering()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}ordering(){let e=new iP(this._ctx,this.state);this.enterRule(e,130,S.RULE_ordering);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=661,this.orderBySpec(),this.state=668,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,71,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=663,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=662,this.match(S.COMMA)),this.state=665,this.orderBySpec()),this.state=670,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,71,this._ctx);this.state=672,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=671,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}orderBySpec(){let e=new sF(this._ctx,this.state);this.enterRule(e,132,S.RULE_orderBySpec);let t;try{this.enterOuterAlt(e,1);{switch(this.state=676,this._errHandler.sync(this),this._input.LA(1)){case S.INTEGER_LITERAL:this.state=674,this.match(S.INTEGER_LITERAL);break;case S.IDENTIFIER:case S.OBJECT_NAME_LITERAL:this.state=675,this.fieldName();break;default:throw new ul.NoViableAltException(this)}this.state=679,this._errHandler.sync(this),t=this._input.LA(1),(t===S.ASC||t===S.DESC)&&(this.state=678,t=this._input.LA(1),t===S.ASC||t===S.DESC?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}limitStatement(){let e=new sP(this._ctx,this.state);this.enterRule(e,134,S.RULE_limitStatement);try{this.enterOuterAlt(e,1),this.state=681,this.match(S.LIMIT),this.state=682,this.match(S.INTEGER_LITERAL)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}bySpec(){let e=new oP(this._ctx,this.state);this.enterRule(e,136,S.RULE_bySpec);try{switch(this.state=688,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,75,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=684,this.match(S.BY),this.state=685,this.fieldName();break;case 2:this.enterOuterAlt(e,2),this.state=686,this.match(S.BY),this.state=687,this.fieldExpr(0);break}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topStatement(){let e=new aP(this._ctx,this.state);this.enterRule(e,138,S.RULE_topStatement);let t;try{this.enterOuterAlt(e,1),this.state=690,this.match(S.TOP),this.state=691,this.match(S.INTEGER_LITERAL),this.state=693,this._errHandler.sync(this),t=this._input.LA(1),t===S.BY&&(this.state=692,this.bySpec())}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexElement(){let e=new oF(this._ctx,this.state);this.enterRule(e,140,S.RULE_indexElement);let t;try{switch(this.state=702,this._errHandler.sync(this),this._input.LA(1)){case S.IDENTIFIER:case S.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,1),this.state=695,this.fieldPath(),this.state=698,this._errHandler.sync(this),t=this._input.LA(1),t===S.DOT&&(this.state=696,this.match(S.DOT),this.state=697,this.match(S.STAR));break;case S.STAR:this.enterOuterAlt(e,2),this.state=700,this.match(S.STAR);break;case S.STARSTAR:this.enterOuterAlt(e,3),this.state=701,this.match(S.STARSTAR);break;default:throw new ul.NoViableAltException(this)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexFields(){let e=new uP(this._ctx,this.state);this.enterRule(e,142,S.RULE_indexFields);let t;try{for(this.enterOuterAlt(e,1),this.state=704,this.indexElement(),this.state=711,this._errHandler.sync(this),t=this._input.LA(1);(t-100&~31)===0&&(1<<t-100&(1<<S.COMMA-100|1<<S.STAR-100|1<<S.STARSTAR-100|1<<S.IDENTIFIER-100|1<<S.OBJECT_NAME_LITERAL-100))!==0;)this.state=706,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=705,this.match(S.COMMA)),this.state=708,this.indexElement(),this.state=713,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexStatement(){let e=new lP(this._ctx,this.state);this.enterRule(e,144,S.RULE_indexStatement);let t;try{this.enterOuterAlt(e,1),this.state=714,this.match(S.INDEX),this.state=715,this.indexFields(),this.state=718,this._errHandler.sync(this),t=this._input.LA(1),t===S.BY&&(this.state=716,this.match(S.BY),this.state=717,this.fieldName())}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sampleStatement(){let e=new cP(this._ctx,this.state);this.enterRule(e,146,S.RULE_sampleStatement);try{this.enterOuterAlt(e,1),this.state=720,this.match(S.SAMPLE),this.state=721,this.sampleSpec()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sampleSpec(){let e=new fP(this._ctx,this.state);this.enterRule(e,148,S.RULE_sampleSpec);let t;try{this.enterOuterAlt(e,1),this.state=723,t=this._input.LA(1),t===S.FALSE||t===S.TRUE||t===S.PERCENT_LITERAL||t===S.INTEGER_LITERAL?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregate(){let e=new dP(this._ctx,this.state);this.enterRule(e,150,S.RULE_aggregate);let t;try{this.enterOuterAlt(e,1),this.state=725,t=this._input.LA(1),(t-34&~31)===0&&(1<<t-34&(1<<S.AVG-34|1<<S.COUNT-34|1<<S.MAX-34|1<<S.MIN-34))!==0||t===S.SUM?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyType(){let e=new aF(this._ctx,this.state);this.enterRule(e,152,S.RULE_malloyType);let t;try{this.enterOuterAlt(e,1),this.state=727,t=this._input.LA(1),(t-35&~31)===0&&(1<<t-35&(1<<S.BOOLEAN-35|1<<S.DATE-35|1<<S.NUMBER-35))!==0||t===S.STRING||t===S.TIMESTAMP?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}compareOp(){let e=new uF(this._ctx,this.state);this.enterRule(e,154,S.RULE_compareOp);let t;try{this.enterOuterAlt(e,1),this.state=729,t=this._input.LA(1),(t-102&~31)===0&&(1<<t-102&(1<<S.LT-102|1<<S.GT-102|1<<S.EQ-102|1<<S.NE-102|1<<S.LTE-102|1<<S.GTE-102|1<<S.NOT_MATCH-102|1<<S.MATCH-102))!==0?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}literal(){let e=new Ip(this._ctx,this.state);this.enterRule(e,156,S.RULE_literal);let t;try{switch(this.state=738,this._errHandler.sync(this),this._input.LA(1)){case S.STRING_LITERAL:e=new Tte(e),this.enterOuterAlt(e,1),this.state=731,this.match(S.STRING_LITERAL);break;case S.INTEGER_LITERAL:case S.NUMERIC_LITERAL:e=new Fte(e),this.enterOuterAlt(e,2),this.state=732,t=this._input.LA(1),t===S.INTEGER_LITERAL||t===S.NUMERIC_LITERAL?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case S.LITERAL_TIMESTAMP:case S.LITERAL_DAY:case S.LITERAL_QUARTER:case S.LITERAL_MONTH:case S.LITERAL_WEEK:case S.LITERAL_YEAR:e=new Dte(e),this.enterOuterAlt(e,3),this.state=733,this.dateLiteral();break;case S.NULL:e=new Ote(e),this.enterOuterAlt(e,4),this.state=734,this.match(S.NULL);break;case S.FALSE:case S.TRUE:e=new Nte(e),this.enterOuterAlt(e,5),this.state=735,t=this._input.LA(1),t===S.FALSE||t===S.TRUE?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case S.HACKY_REGEX:e=new Rte(e),this.enterOuterAlt(e,6),this.state=736,this.match(S.HACKY_REGEX);break;case S.NOW:e=new Lte(e),this.enterOuterAlt(e,7),this.state=737,this.match(S.NOW);break;default:throw new ul.NoViableAltException(this)}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dateLiteral(){let e=new Em(this._ctx,this.state);this.enterRule(e,158,S.RULE_dateLiteral);try{switch(this.state=746,this._errHandler.sync(this),this._input.LA(1)){case S.LITERAL_TIMESTAMP:e=new kte(e),this.enterOuterAlt(e,1),this.state=740,this.match(S.LITERAL_TIMESTAMP);break;case S.LITERAL_DAY:e=new Ite(e),this.enterOuterAlt(e,2),this.state=741,this.match(S.LITERAL_DAY);break;case S.LITERAL_WEEK:e=new Mte(e),this.enterOuterAlt(e,3),this.state=742,this.match(S.LITERAL_WEEK);break;case S.LITERAL_MONTH:e=new Pte(e),this.enterOuterAlt(e,4),this.state=743,this.match(S.LITERAL_MONTH);break;case S.LITERAL_QUARTER:e=new Bte(e),this.enterOuterAlt(e,5),this.state=744,this.match(S.LITERAL_QUARTER);break;case S.LITERAL_YEAR:e=new jte(e),this.enterOuterAlt(e,6),this.state=745,this.match(S.LITERAL_YEAR);break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}tableName(){let e=new hP(this._ctx,this.state);this.enterRule(e,160,S.RULE_tableName);try{this.enterOuterAlt(e,1),this.state=748,this.match(S.STRING_LITERAL)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}id(){let e=new Hf(this._ctx,this.state);this.enterRule(e,162,S.RULE_id);let t;try{this.enterOuterAlt(e,1),this.state=750,t=this._input.LA(1),t===S.IDENTIFIER||t===S.OBJECT_NAME_LITERAL?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}timeframe(){let e=new l_(this._ctx,this.state);this.enterRule(e,164,S.RULE_timeframe);let t;try{this.enterOuterAlt(e,1),this.state=752,t=this._input.LA(1),(t-42&~31)===0&&(1<<t-42&(1<<S.DAY-42|1<<S.HOUR-42|1<<S.MINUTE-42|1<<S.MONTH-42|1<<S.QUARTER-42|1<<S.SECOND-42))!==0||t===S.WEEK||t===S.YEAR?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ungroup(){let e=new pP(this._ctx,this.state);this.enterRule(e,166,S.RULE_ungroup);let t;try{this.enterOuterAlt(e,1),this.state=754,t=this._input.LA(1),t===S.ALL||t===S.EXCLUDE?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldExpr(e){e===void 0&&(e=0);let t=this._ctx,r=this.state,i=new ri(this._ctx,r),s=i,o=168;this.enterRecursionRule(i,168,S.RULE_fieldExpr,e);let a;try{let l;this.enterOuterAlt(i,1);{switch(this.state=816,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,89,this._ctx)){case 1:i=new qte(i),this._ctx=i,s=i,this.state=757,this.fieldPath();break;case 2:i=new $te(i),this._ctx=i,s=i,this.state=758,this.literal();break;case 3:i=new zte(i),this._ctx=i,s=i,this.state=759,this.match(S.MINUS),this.state=760,this.fieldExpr(20);break;case 4:i=new ene(i),this._ctx=i,s=i,this.state=761,this.match(S.NOT),this.state=762,this.fieldExpr(9);break;case 5:i=new nne(i),this._ctx=i,s=i,this.state=763,this.match(S.CAST),this.state=764,this.match(S.OPAREN),this.state=765,this.fieldExpr(0),this.state=766,this.match(S.AS),this.state=767,this.malloyType(),this.state=768,this.match(S.CPAREN);break;case 6:i=new rne(i),this._ctx=i,s=i,this.state=770,this.match(S.COUNT),this.state=771,this.match(S.OPAREN),this.state=772,this.match(S.DISTINCT),this.state=773,this.fieldExpr(0),this.state=774,this.match(S.CPAREN);break;case 7:{switch(i=new ine(i),this._ctx=i,s=i,this.state=779,this._errHandler.sync(this),a=this._input.LA(1),(a===S.IDENTIFIER||a===S.OBJECT_NAME_LITERAL)&&(this.state=776,this.fieldPath(),this.state=777,this.match(S.DOT)),this.state=781,this.aggregate(),this.state=782,this.match(S.OPAREN),this.state=785,this._errHandler.sync(this),this._input.LA(1)){case S.ALL:case S.AVG:case S.CAST:case S.COUNT:case S.DAY:case S.EXCLUDE:case S.FALSE:case S.HOUR:case S.MAX:case S.MIN:case S.MINUTE:case S.MONTH:case S.NOT:case S.NOW:case S.NULL:case S.PICK:case S.QUARTER:case S.SECOND:case S.SUM:case S.TRUE:case S.WEEK:case S.YEAR:case S.HACKY_REGEX:case S.STRING_LITERAL:case S.OPAREN:case S.MINUS:case S.LITERAL_TIMESTAMP:case S.LITERAL_DAY:case S.LITERAL_QUARTER:case S.LITERAL_MONTH:case S.LITERAL_WEEK:case S.LITERAL_YEAR:case S.IDENTIFIER:case S.INTEGER_LITERAL:case S.NUMERIC_LITERAL:case S.OBJECT_NAME_LITERAL:this.state=783,this.fieldExpr(0);break;case S.STAR:this.state=784,this.match(S.STAR);break;case S.CPAREN:break;default:break}this.state=787,this.match(S.CPAREN)}break;case 8:i=new sne(i),this._ctx=i,s=i,this.state=789,this.match(S.OPAREN),this.state=790,this.partialAllowedFieldExpr(),this.state=791,this.match(S.CPAREN);break;case 9:{switch(i=new one(i),this._ctx=i,s=i,this.state=795,this._errHandler.sync(this),this._input.LA(1)){case S.IDENTIFIER:case S.OBJECT_NAME_LITERAL:this.state=793,this.id();break;case S.DAY:case S.HOUR:case S.MINUTE:case S.MONTH:case S.QUARTER:case S.SECOND:case S.WEEK:case S.YEAR:this.state=794,this.timeframe();break;default:throw new ul.NoViableAltException(this)}this.state=797,this.match(S.OPAREN),this.state=799,this._errHandler.sync(this),a=this._input.LA(1),((a-30&~31)===0&&(1<<a-30&(1<<S.ALL-30|1<<S.AVG-30|1<<S.CAST-30|1<<S.COUNT-30|1<<S.DAY-30|1<<S.EXCLUDE-30|1<<S.FALSE-30|1<<S.HOUR-30|1<<S.MAX-30|1<<S.MIN-30|1<<S.MINUTE-30|1<<S.MONTH-30))!==0||(a-62&~31)===0&&(1<<a-62&(1<<S.NOT-62|1<<S.NOW-62|1<<S.NULL-62|1<<S.PICK-62|1<<S.QUARTER-62|1<<S.SECOND-62|1<<S.SUM-62|1<<S.TRUE-62|1<<S.WEEK-62|1<<S.YEAR-62|1<<S.HACKY_REGEX-62|1<<S.STRING_LITERAL-62|1<<S.OPAREN-62))!==0||(a-109&~31)===0&&(1<<a-109&(1<<S.MINUS-109|1<<S.LITERAL_TIMESTAMP-109|1<<S.LITERAL_DAY-109|1<<S.LITERAL_QUARTER-109|1<<S.LITERAL_MONTH-109|1<<S.LITERAL_WEEK-109|1<<S.LITERAL_YEAR-109|1<<S.IDENTIFIER-109|1<<S.INTEGER_LITERAL-109|1<<S.NUMERIC_LITERAL-109|1<<S.OBJECT_NAME_LITERAL-109))!==0)&&(this.state=798,this.argumentList()),this.state=801,this.match(S.CPAREN)}break;case 10:i=new ane(i),this._ctx=i,s=i,this.state=803,this.pickStatement();break;case 11:{for(i=new une(i),this._ctx=i,s=i,this.state=804,this.ungroup(),this.state=805,this.match(S.OPAREN),this.state=806,this.fieldExpr(0),this.state=811,this._errHandler.sync(this),a=this._input.LA(1);a===S.COMMA;)this.state=807,this.match(S.COMMA),this.state=808,this.fieldName(),this.state=813,this._errHandler.sync(this),a=this._input.LA(1);this.state=814,this.match(S.CPAREN)}break}for(this._ctx._stop=this._input.tryLT(-1),this.state=860,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,91,this._ctx);l!==2&&l!==Lc.ATN.INVALID_ALT_NUMBER;){if(l===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=858,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,90,this._ctx)){case 1:{if(i=new Qte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=818,!this.precpred(this._ctx,16))throw this.createFailedPredicateException("this.precpred(this._ctx, 16)");this.state=819,a=this._input.LA(1),(a-110&~31)===0&&(1<<a-110&(1<<S.STAR-110|1<<S.SLASH-110|1<<S.PERCENT-110))!==0?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=820,this.fieldExpr(17)}break;case 2:{if(i=new Gte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=821,!this.precpred(this._ctx,15))throw this.createFailedPredicateException("this.precpred(this._ctx, 15)");this.state=822,a=this._input.LA(1),a===S.PLUS||a===S.MINUS?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=823,this.fieldExpr(16)}break;case 3:{if(i=new Yte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=824,!this.precpred(this._ctx,14))throw this.createFailedPredicateException("this.precpred(this._ctx, 14)");this.state=825,this.match(S.TO),this.state=826,this.fieldExpr(15)}break;case 4:{if(i=new Xte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=827,!this.precpred(this._ctx,11))throw this.createFailedPredicateException("this.precpred(this._ctx, 11)");this.state=828,this.compareOp(),this.state=829,this.fieldExpr(12)}break;case 5:{if(i=new tne(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=831,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=832,a=this._input.LA(1),a===S.AND||a===S.OR?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=833,this.fieldExpr(9)}break;case 6:{if(i=new Ute(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=834,!this.precpred(this._ctx,22))throw this.createFailedPredicateException("this.precpred(this._ctx, 22)");this.state=835,this.match(S.OCURLY),this.state=836,this.filteredBy(),this.state=837,this.match(S.CCURLY)}break;case 7:{if(i=new Hte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=839,!this.precpred(this._ctx,19))throw this.createFailedPredicateException("this.precpred(this._ctx, 19)");this.state=840,this.timeframe()}break;case 8:{if(i=new Vte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=841,!this.precpred(this._ctx,18))throw this.createFailedPredicateException("this.precpred(this._ctx, 18)");this.state=842,this.match(S.DOT),this.state=843,this.timeframe()}break;case 9:{if(i=new Wte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=844,!this.precpred(this._ctx,17))throw this.createFailedPredicateException("this.precpred(this._ctx, 17)");this.state=845,this.match(S.DOUBLECOLON),this.state=846,this.malloyType()}break;case 10:{if(i=new Kte(new ri(t,r)),i._startAt=s,this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=847,!this.precpred(this._ctx,13))throw this.createFailedPredicateException("this.precpred(this._ctx, 13)");this.state=848,this.match(S.FOR),this.state=849,i._duration=this.fieldExpr(0),this.state=850,this.timeframe()}break;case 11:{if(i=new Jte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=852,!this.precpred(this._ctx,12))throw this.createFailedPredicateException("this.precpred(this._ctx, 12)");this.state=853,a=this._input.LA(1),a===S.AMPER||a===S.BAR?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=854,this.partialAllowedFieldExpr()}break;case 12:{if(i=new Zte(new ri(t,r)),this.pushNewRecursionContext(i,o,S.RULE_fieldExpr),this.state=855,!this.precpred(this._ctx,10))throw this.createFailedPredicateException("this.precpred(this._ctx, 10)");this.state=856,a=this._input.LA(1),a===S.QMARK||a===S.COLON?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=857,this.partialAllowedFieldExpr()}break}this.state=862,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,91,this._ctx)}}}catch(l){if(l instanceof Cr.RecognitionException)i.exception=l,this._errHandler.reportError(this,l),this._errHandler.recover(this,l);else throw l}finally{this.unrollRecursionContexts(t)}return i}partialAllowedFieldExpr(){let e=new c_(this._ctx,this.state);this.enterRule(e,170,S.RULE_partialAllowedFieldExpr);let t;try{this.enterOuterAlt(e,1),this.state=864,this._errHandler.sync(this),t=this._input.LA(1),(t-102&~31)===0&&(1<<t-102&(1<<S.LT-102|1<<S.GT-102|1<<S.EQ-102|1<<S.NE-102|1<<S.LTE-102|1<<S.GTE-102|1<<S.NOT_MATCH-102|1<<S.MATCH-102))!==0&&(this.state=863,this.compareOp()),this.state=866,this.fieldExpr(0)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pickStatement(){let e=new mP(this._ctx,this.state);this.enterRule(e,172,S.RULE_pickStatement);try{let t;this.enterOuterAlt(e,1);{this.state=869,this._errHandler.sync(this),t=1;do{switch(t){case 1:this.state=868,this.pick();break;default:throw new ul.NoViableAltException(this)}this.state=871,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,93,this._ctx)}while(t!==2&&t!==Lc.ATN.INVALID_ALT_NUMBER);switch(this.state=875,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,94,this._ctx)){case 1:this.state=873,this.match(S.ELSE),this.state=874,e._pickElse=this.fieldExpr(0);break}}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pick(){let e=new lF(this._ctx,this.state);this.enterRule(e,174,S.RULE_pick);let t;try{this.enterOuterAlt(e,1),this.state=877,this.match(S.PICK),this.state=879,this._errHandler.sync(this),t=this._input.LA(1),((t-30&~31)===0&&(1<<t-30&(1<<S.ALL-30|1<<S.AVG-30|1<<S.CAST-30|1<<S.COUNT-30|1<<S.DAY-30|1<<S.EXCLUDE-30|1<<S.FALSE-30|1<<S.HOUR-30|1<<S.MAX-30|1<<S.MIN-30|1<<S.MINUTE-30|1<<S.MONTH-30))!==0||(t-62&~31)===0&&(1<<t-62&(1<<S.NOT-62|1<<S.NOW-62|1<<S.NULL-62|1<<S.PICK-62|1<<S.QUARTER-62|1<<S.SECOND-62|1<<S.SUM-62|1<<S.TRUE-62|1<<S.WEEK-62|1<<S.YEAR-62|1<<S.HACKY_REGEX-62|1<<S.STRING_LITERAL-62|1<<S.OPAREN-62))!==0||(t-109&~31)===0&&(1<<t-109&(1<<S.MINUS-109|1<<S.LITERAL_TIMESTAMP-109|1<<S.LITERAL_DAY-109|1<<S.LITERAL_QUARTER-109|1<<S.LITERAL_MONTH-109|1<<S.LITERAL_WEEK-109|1<<S.LITERAL_YEAR-109|1<<S.IDENTIFIER-109|1<<S.INTEGER_LITERAL-109|1<<S.NUMERIC_LITERAL-109|1<<S.OBJECT_NAME_LITERAL-109))!==0)&&(this.state=878,e._pickValue=this.fieldExpr(0)),this.state=881,this.match(S.WHEN),this.state=882,e._pickWhen=this.partialAllowedFieldExpr()}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}argumentList(){let e=new xP(this._ctx,this.state);this.enterRule(e,176,S.RULE_argumentList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=884,this.fieldExpr(0),this.state=889,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,96,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=885,this.match(S.COMMA),this.state=886,this.fieldExpr(0)),this.state=891,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,96,this._ctx);this.state=893,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=892,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldNameList(){let e=new gP(this._ctx,this.state);this.enterRule(e,178,S.RULE_fieldNameList);let t;try{for(this.enterOuterAlt(e,1),this.state=895,this.fieldName(),this.state=902,this._errHandler.sync(this),t=this._input.LA(1);(t-100&~31)===0&&(1<<t-100&(1<<S.COMMA-100|1<<S.IDENTIFIER-100|1<<S.OBJECT_NAME_LITERAL-100))!==0;)this.state=897,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=896,this.match(S.COMMA)),this.state=899,this.fieldName(),this.state=904,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldCollection(){let e=new yP(this._ctx,this.state);this.enterRule(e,180,S.RULE_fieldCollection);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=905,this.collectionMember(),this.state=912,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,101,this._ctx);r!==2&&r!==Lc.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=907,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=906,this.match(S.COMMA)),this.state=909,this.collectionMember()),this.state=914,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,101,this._ctx);this.state=916,this._errHandler.sync(this),t=this._input.LA(1),t===S.COMMA&&(this.state=915,this.match(S.COMMA))}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}collectionMember(){let e=new u5(this._ctx,this.state);this.enterRule(e,182,S.RULE_collectionMember);let t;try{switch(this.state=926,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,104,this._ctx)){case 1:e=new lne(e),this.enterOuterAlt(e,1),this.state=918,this.fieldPath();break;case 2:e=new cne(e),this.enterOuterAlt(e,2),this.state=922,this._errHandler.sync(this),t=this._input.LA(1),(t===S.IDENTIFIER||t===S.OBJECT_NAME_LITERAL)&&(this.state=919,this.fieldPath(),this.state=920,this.match(S.DOT)),this.state=924,t=this._input.LA(1),t===S.STAR||t===S.STARSTAR?(this._input.LA(1)===sc.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case 3:e=new fne(e),this.enterOuterAlt(e,3),this.state=925,this.fieldDef();break}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldPath(){let e=new Bx(this._ctx,this.state);this.enterRule(e,184,S.RULE_fieldPath);try{let t;for(this.enterOuterAlt(e,1),this.state=928,this.fieldName(),this.state=933,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,105,this._ctx);t!==2&&t!==Lc.ATN.INVALID_ALT_NUMBER;)t===1&&(this.state=929,this.match(S.DOT),this.state=930,this.fieldName()),this.state=935,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,105,this._ctx)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinName(){let e=new dne(this._ctx,this.state);this.enterRule(e,186,S.RULE_joinName);try{this.enterOuterAlt(e,1),this.state=936,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldName(){let e=new Vf(this._ctx,this.state);this.enterRule(e,188,S.RULE_fieldName);try{this.enterOuterAlt(e,1),this.state=938,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}justExpr(){let e=new hne(this._ctx,this.state);this.enterRule(e,190,S.RULE_justExpr);try{this.enterOuterAlt(e,1),this.state=940,this.fieldExpr(0),this.state=941,this.match(S.EOF)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}json(){let e=new pne(this._ctx,this.state);this.enterRule(e,192,S.RULE_json);try{this.enterOuterAlt(e,1),this.state=943,this.jsonValue()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonValue(){let e=new f_(this._ctx,this.state);this.enterRule(e,194,S.RULE_jsonValue);try{switch(this.state=953,this._errHandler.sync(this),this._input.LA(1)){case S.JSON_STRING:this.enterOuterAlt(e,1),this.state=945,this.match(S.JSON_STRING);break;case S.INTEGER_LITERAL:this.enterOuterAlt(e,2),this.state=946,this.match(S.INTEGER_LITERAL);break;case S.NUMERIC_LITERAL:this.enterOuterAlt(e,3),this.state=947,this.match(S.NUMERIC_LITERAL);break;case S.OCURLY:this.enterOuterAlt(e,4),this.state=948,this.jsonObject();break;case S.OBRACK:this.enterOuterAlt(e,5),this.state=949,this.jsonArray();break;case S.TRUE:this.enterOuterAlt(e,6),this.state=950,this.match(S.TRUE);break;case S.FALSE:this.enterOuterAlt(e,7),this.state=951,this.match(S.FALSE);break;case S.NULL:this.enterOuterAlt(e,8),this.state=952,this.match(S.NULL);break;default:throw new ul.NoViableAltException(this)}}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonObject(){let e=new vP(this._ctx,this.state);this.enterRule(e,196,S.RULE_jsonObject);let t;try{switch(this.state=968,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,108,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=955,this.match(S.OCURLY),this.state=956,this.jsonProperty(),this.state=961,this._errHandler.sync(this),t=this._input.LA(1);t===S.COMMA;)this.state=957,this.match(S.COMMA),this.state=958,this.jsonProperty(),this.state=963,this._errHandler.sync(this),t=this._input.LA(1);this.state=964,this.match(S.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=966,this.match(S.OCURLY),this.state=967,this.match(S.CCURLY);break}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}jsonProperty(){let e=new cF(this._ctx,this.state);this.enterRule(e,198,S.RULE_jsonProperty);try{this.enterOuterAlt(e,1),this.state=970,this.match(S.JSON_STRING),this.state=971,this.match(S.COLON),this.state=972,this.jsonValue()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonArray(){let e=new _P(this._ctx,this.state);this.enterRule(e,200,S.RULE_jsonArray);let t;try{switch(this.state=987,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,110,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=974,this.match(S.OBRACK),this.state=975,this.jsonValue(),this.state=980,this._errHandler.sync(this),t=this._input.LA(1);t===S.COMMA;)this.state=976,this.match(S.COMMA),this.state=977,this.jsonValue(),this.state=982,this._errHandler.sync(this),t=this._input.LA(1);this.state=983,this.match(S.CBRACK)}break;case 2:this.enterOuterAlt(e,2),this.state=985,this.match(S.OBRACK),this.state=986,this.match(S.CBRACK);break}}catch(r){if(r instanceof Cr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlExploreNameRef(){let e=new bP(this._ctx,this.state);this.enterRule(e,202,S.RULE_sqlExploreNameRef);try{this.enterOuterAlt(e,1),this.state=989,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nameSQLBlock(){let e=new EP(this._ctx,this.state);this.enterRule(e,204,S.RULE_nameSQLBlock);try{this.enterOuterAlt(e,1),this.state=991,this.id()}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}connectionName(){let e=new SP(this._ctx,this.state);this.enterRule(e,206,S.RULE_connectionName);try{this.enterOuterAlt(e,1),this.state=993,this.match(S.JSON_STRING)}catch(t){if(t instanceof Cr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sempred(e,t,r){switch(t){case 84:return this.fieldExpr_sempred(e,r)}return!0}fieldExpr_sempred(e,t){switch(t){case 0:return this.precpred(this._ctx,16);case 1:return this.precpred(this._ctx,15);case 2:return this.precpred(this._ctx,14);case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,22);case 6:return this.precpred(this._ctx,19);case 7:return this.precpred(this._ctx,18);case 8:return this.precpred(this._ctx,17);case 9:return this.precpred(this._ctx,13);case 10:return this.precpred(this._ctx,12);case 11:return this.precpred(this._ctx,10)}return!0}static get _ATN(){return S.__ATN||(S.__ATN=new Lxt.ATNDeserializer().deserialize(a8e.toCharArray(S._serializedATN))),S.__ATN}};Nt.MalloyParser=S;S.JSON_STRING=1;S.ACCEPT=2;S.AGGREGATE=3;S.CONNECTION=4;S.DECLARE=5;S.DIMENSION=6;S.EXCEPT=7;S.EXPLORE=8;S.GROUP_BY=9;S.HAVING=10;S.INDEX=11;S.JOIN_CROSS=12;S.JOIN_ONE=13;S.JOIN_MANY=14;S.LIMIT=15;S.MEASURE=16;S.NEST=17;S.ORDER_BY=18;S.PRIMARY_KEY=19;S.PROJECT=20;S.QUERY=21;S.RENAME=22;S.SAMPLE=23;S.SELECT=24;S.SOURCE=25;S.SQL=26;S.FANCYSQL=27;S.TOP=28;S.WHERE=29;S.ALL=30;S.AND=31;S.AS=32;S.ASC=33;S.AVG=34;S.BOOLEAN=35;S.BY=36;S.CASE=37;S.CAST=38;S.CONDITION=39;S.COUNT=40;S.DATE=41;S.DAY=42;S.DESC=43;S.DISTINCT=44;S.ELSE=45;S.END=46;S.EXCLUDE=47;S.FALSE=48;S.FOR=49;S.FROM=50;S.FROM_SQL=51;S.HAS=52;S.HOUR=53;S.IMPORT=54;S.IS=55;S.JSON=56;S.LAST=57;S.MAX=58;S.MIN=59;S.MINUTE=60;S.MONTH=61;S.NOT=62;S.NOW=63;S.NULL=64;S.NUMBER=65;S.ON=66;S.OR=67;S.PICK=68;S.QMARK=69;S.QUARTER=70;S.SECOND=71;S.STRING=72;S.SUM=73;S.TABLE=74;S.THEN=75;S.THIS=76;S.TIMESTAMP=77;S.TO=78;S.TRUE=79;S.TURTLE=80;S.WEEK=81;S.WHEN=82;S.WITH=83;S.YEAR=84;S.UNGROUPED=85;S.STRING_ESCAPE=86;S.HACKY_REGEX=87;S.STRING_LITERAL=88;S.AMPER=89;S.ARROW=90;S.FAT_ARROW=91;S.OPAREN=92;S.CPAREN=93;S.OBRACK=94;S.CBRACK=95;S.OCURLY=96;S.CCURLY=97;S.DOUBLECOLON=98;S.COLON=99;S.COMMA=100;S.DOT=101;S.LT=102;S.GT=103;S.EQ=104;S.NE=105;S.LTE=106;S.GTE=107;S.PLUS=108;S.MINUS=109;S.STAR=110;S.STARSTAR=111;S.SLASH=112;S.BAR=113;S.SEMI=114;S.NOT_MATCH=115;S.MATCH=116;S.PERCENT=117;S.LITERAL_TIMESTAMP=118;S.LITERAL_DAY=119;S.LITERAL_QUARTER=120;S.LITERAL_MONTH=121;S.LITERAL_WEEK=122;S.LITERAL_YEAR=123;S.IDENTIFIER=124;S.PERCENT_LITERAL=125;S.INTEGER_LITERAL=126;S.NUMERIC_LITERAL=127;S.OBJECT_NAME_LITERAL=128;S.BLOCK_COMMENT=129;S.COMMENT_TO_EOL=130;S.WHITE_SPACE=131;S.SQL_BEGIN=132;S.CLOSE_CODE=133;S.UNWATED_CHARS_TRAILING_NUMBERS=134;S.UNEXPECTED_CHAR=135;S.OPEN_CODE=136;S.SQL_END=137;S.RULE_malloyDocument=0;S.RULE_malloyStatement=1;S.RULE_defineSourceStatement=2;S.RULE_exploreKeyword=3;S.RULE_defineQuery=4;S.RULE_topLevelAnonQueryDef=5;S.RULE_defineSQLStatement=6;S.RULE_sqlBlock=7;S.RULE_blockSQLDef=8;S.RULE_sqlString=9;S.RULE_sqlInterpolation=10;S.RULE_importStatement=11;S.RULE_importURL=12;S.RULE_topLevelQueryDefs=13;S.RULE_topLevelQueryDef=14;S.RULE_refineOperator=15;S.RULE_query=16;S.RULE_pipelineFromName=17;S.RULE_firstSegment=18;S.RULE_pipeElement=19;S.RULE_exploreTable=20;S.RULE_queryProperties=21;S.RULE_filterShortcut=22;S.RULE_exploreQueryName=23;S.RULE_queryName=24;S.RULE_sourcePropertyList=25;S.RULE_sourceDefinition=26;S.RULE_explore=27;S.RULE_exploreSource=28;S.RULE_sourceNameDef=29;S.RULE_sourceID=30;S.RULE_exploreProperties=31;S.RULE_exploreStatement=32;S.RULE_renameList=33;S.RULE_exploreRenameDef=34;S.RULE_dimensionDefList=35;S.RULE_measureDefList=36;S.RULE_fieldDef=37;S.RULE_fieldNameDef=38;S.RULE_joinNameDef=39;S.RULE_measureDef=40;S.RULE_declareStatement=41;S.RULE_joinStatement=42;S.RULE_joinList=43;S.RULE_joinDef=44;S.RULE_joinExpression=45;S.RULE_filterStatement=46;S.RULE_filteredBy=47;S.RULE_filterClauseList=48;S.RULE_whereStatement=49;S.RULE_havingStatement=50;S.RULE_subQueryDefList=51;S.RULE_exploreQueryNameDef=52;S.RULE_exploreQueryDef=53;S.RULE_queryStatement=54;S.RULE_groupByStatement=55;S.RULE_queryFieldList=56;S.RULE_dimensionDef=57;S.RULE_queryFieldEntry=58;S.RULE_nestStatement=59;S.RULE_nestedQueryList=60;S.RULE_nestEntry=61;S.RULE_aggregateStatement=62;S.RULE_projectStatement=63;S.RULE_orderByStatement=64;S.RULE_ordering=65;S.RULE_orderBySpec=66;S.RULE_limitStatement=67;S.RULE_bySpec=68;S.RULE_topStatement=69;S.RULE_indexElement=70;S.RULE_indexFields=71;S.RULE_indexStatement=72;S.RULE_sampleStatement=73;S.RULE_sampleSpec=74;S.RULE_aggregate=75;S.RULE_malloyType=76;S.RULE_compareOp=77;S.RULE_literal=78;S.RULE_dateLiteral=79;S.RULE_tableName=80;S.RULE_id=81;S.RULE_timeframe=82;S.RULE_ungroup=83;S.RULE_fieldExpr=84;S.RULE_partialAllowedFieldExpr=85;S.RULE_pickStatement=86;S.RULE_pick=87;S.RULE_argumentList=88;S.RULE_fieldNameList=89;S.RULE_fieldCollection=90;S.RULE_collectionMember=91;S.RULE_fieldPath=92;S.RULE_joinName=93;S.RULE_fieldName=94;S.RULE_justExpr=95;S.RULE_json=96;S.RULE_jsonValue=97;S.RULE_jsonObject=98;S.RULE_jsonProperty=99;S.RULE_jsonArray=100;S.RULE_sqlExploreNameRef=101;S.RULE_nameSQLBlock=102;S.RULE_connectionName=103;S.ruleNames=["malloyDocument","malloyStatement","defineSourceStatement","exploreKeyword","defineQuery","topLevelAnonQueryDef","defineSQLStatement","sqlBlock","blockSQLDef","sqlString","sqlInterpolation","importStatement","importURL","topLevelQueryDefs","topLevelQueryDef","refineOperator","query","pipelineFromName","firstSegment","pipeElement","exploreTable","queryProperties","filterShortcut","exploreQueryName","queryName","sourcePropertyList","sourceDefinition","explore","exploreSource","sourceNameDef","sourceID","exploreProperties","exploreStatement","renameList","exploreRenameDef","dimensionDefList","measureDefList","fieldDef","fieldNameDef","joinNameDef","measureDef","declareStatement","joinStatement","joinList","joinDef","joinExpression","filterStatement","filteredBy","filterClauseList","whereStatement","havingStatement","subQueryDefList","exploreQueryNameDef","exploreQueryDef","queryStatement","groupByStatement","queryFieldList","dimensionDef","queryFieldEntry","nestStatement","nestedQueryList","nestEntry","aggregateStatement","projectStatement","orderByStatement","ordering","orderBySpec","limitStatement","bySpec","topStatement","indexElement","indexFields","indexStatement","sampleStatement","sampleSpec","aggregate","malloyType","compareOp","literal","dateLiteral","tableName","id","timeframe","ungroup","fieldExpr","partialAllowedFieldExpr","pickStatement","pick","argumentList","fieldNameList","fieldCollection","collectionMember","fieldPath","joinName","fieldName","justExpr","json","jsonValue","jsonObject","jsonProperty","jsonArray","sqlExploreNameRef","nameSQLBlock","connectionName"];S._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'","'%'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,`'"""'`,"'}%'"];S._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","CONNECTION","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SELECT","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","PERCENT","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_BEGIN","CLOSE_CODE","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR","OPEN_CODE","SQL_END"];S.VOCABULARY=new Pxt.VocabularyImpl(S._LITERAL_NAMES,S._SYMBOLIC_NAMES,[]);S._serializedATNSegments=2;S._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x8B\u03E6					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	i\x07\xD5
\f\xD8\v\xE0
\xEB
\x07\x07\b\b\b\b\b\xF3
\b\b\b			\xF9
	\r		\xFA		




\u0103

\v\v\x07\v\u0107
\v\f\v\v\u010A\v\v\v\v\f\f\f\f\r\r\r\u0119
\x07\u011C
\f\u011F\v\u0122
\u0131
\u0134
\x07\u0137
\f\u013A\v\u013C
\x07\u0140
\f\u0143\v\u0148
\u014B
\u014D
\x07\u015B
\f\u015E\v\u0161
\x1B\x1B\x1B\u016E
\x1B\x1B\x07\x1B\u0171
\x1B\f\x1B\x1B\u0174\v\x1B\x1B\x1B\u0177
\x1B\u017F
\u0182
\u0190
  !!!\x07!\u0199
!\f!!\u019C\v!!!!\u01A0
!""""""""""""""""\u01B1
"###\u01B5
##\x07#\u01B8
#\f##\u01BB\v###\u01BE
#$$$$%%%\u01C6
%%\x07%\u01C9
%\f%%\u01CC\v%%%\u01CF
%&&&\u01D3
&&\x07&\u01D6
&\f&&\u01D9\v&&&\u01DC
&''''(())**++++\u01EB
++\x07+\u01EE
+\f++\u01F1\v+++\u01F4
+,,,,,,,\u01FC
,---\u0200
--\x07-\u0203
-\f--\u0206\v---\u0209
-....\u020E
........\u0216
....\u021A
..\u021C
.//000\u0222
01111\u0227
1222\x072\u022C
2\f22\u022F\v222\u0232
2333444555\u023C
55\x075\u023F
5\f55\u0242\v555\u0245
566777788888888888888\u025A
8999:::\u0261
::\x07:\u0264
:\f::\u0267\v:::\u026A
:;;<<<\u0270
<===>>>\u0277
>>\x07>\u027A
>\f>>\u027D\v>>>\u0280
>???\u0284
???\u0287
??????\u028D
?@@@AAABBBCCC\u029A
CC\x07C\u029D
C\fCC\u02A0\vCCC\u02A3
CDDD\u02A7
DDD\u02AA
DEEEFFFFF\u02B3
FGGGG\u02B8
GHHHH\u02BD
HHHH\u02C1
HIII\u02C5
II\x07I\u02C8
I\fII\u02CB\vIJJJJJ\u02D1
JKKKLLMMNNOOPPPPPPPP\u02E5
PQQQQQQQ\u02ED
QRRSSTTUUVVVVVVVVVVVVVVVVVVVVVVVV\u030E
VVVVVV\u0314
VVVVVVVVVV\u031E
VVVV\u0322
VVVVVVVVV\x07V\u032C
V\fVV\u032F\vVVVV\u0333
VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\x07V\u035D
V\fVV\u0360\vVWW\u0363
WWWXX\u0368
X\rXX\u0369XXX\u036E
XYYY\u0372
YYYYZZZ\x07Z\u037A
Z\fZZ\u037D\vZZZ\u0380
Z[[[\u0384
[[\x07[\u0387
[\f[[\u038A\v[\\\\\\\u038E
\\\\\x07\\\u0391
\\\f\\\\\u0394\v\\\\\\\u0397
\\]]]]]\u039D
]]]]\u03A1
]^^^\x07^\u03A6
^\f^^\u03A9\v^__\`\`aaabbccccccccc\u03BC
cdddd\x07d\u03C2
d\fdd\u03C5\vdddddd\u03CB
deeeeffff\x07f\u03D5
f\fff\u03D8\vffffff\u03DE
fgghhiii\xAAj\b
\f "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA\xCC\xCE\xD0

\x1B\x1B		##--22QQ\x7F\x80$$**<=KK\x07%%++CCJJOOhmuv\x80\x8122QQ~~\x82\x82\b,,77>?HISSVV  11pprrwwno!!EE[[ssGGeepq\u0428\xD6\xDF\xE1\b\xE4
\xEA\f\xEC\xEE\xF6\u0102\u0104\u010D\u0111\u0114\u0116\u0123 \u0127"\u013B$\u013D&\u014C(\u014E*\u0151,\u0160.\u01620\u01672\u01694\u016B6\u01788\u017C:\u018F<\u0191>\u0193@\u019FB\u01B0D\u01B2F\u01BFH\u01C3J\u01D0L\u01DDN\u01E1P\u01E3R\u01E5T\u01E7V\u01FBX\u01FDZ\u021B\\\u021D^\u0221\`\u0226b\u0228d\u0233f\u0236h\u0239j\u0246l\u0248n\u0259p\u025Br\u025Et\u026Bv\u026Fx\u0271z\u0274|\u028C~\u028E\x80\u0291\x82\u0294\x84\u0297\x86\u02A6\x88\u02AB\x8A\u02B2\x8C\u02B4\x8E\u02C0\x90\u02C2\x92\u02CC\x94\u02D2\x96\u02D5\x98\u02D7\x9A\u02D9\x9C\u02DB\x9E\u02E4\xA0\u02EC\xA2\u02EE\xA4\u02F0\xA6\u02F2\xA8\u02F4\xAA\u0332\xAC\u0362\xAE\u0367\xB0\u036F\xB2\u0376\xB4\u0381\xB6\u038B\xB8\u03A0\xBA\u03A2\xBC\u03AA\xBE\u03AC\xC0\u03AE\xC2\u03B1\xC4\u03BB\xC6\u03CA\xC8\u03CC\xCA\u03DD\xCC\u03DF\xCE\u03E1\xD0\u03E3\xD2\xD5\xD3\xD5\x07t\xD4\xD2\xD4\xD3\xD5\xD8\xD6\xD4\xD6\xD7\xD7\xD9\xD8\xD6\xD9\xDA\x07\xDA\xDB\xE0\xDC\xE0\b\xDD\xE0
\xDE\xE0\r\xDF\xDB\xDF\xDC\xDF\xDD\xDF\xDE\xE0\xE1\xE2\b\xE2\xE34\x1B\xE3\x07\xE4\xE5	\xE5	\xE6\xE7\x07\xE7\xEB\xE8\xE9\x07\xE9\xEB\f\x07\xEA\xE6\xEA\xE8\xEB\v\xEC\xED"\xED\r\xEE\xF2\x07\xEF\xF0\xCEh\xF0\xF1\x079\xF1\xF3\xF2\xEF\xF2\xF3\xF3\xF4\xF4\xF5	\xF5\xF6\xF8\x07b\xF7\xF9
\xF8\xF7\xF9\xFA\xFA\xF8\xFA\xFB\xFB\xFC\xFC\xFD\x07c\xFD\xFE\xFF\x07\xFF\u0103\xD0i\u0100\u0101\x07\u0101\u0103\v\u0102\xFE\u0102\u0100\u0103\u0104\u0108\x07\x86\u0105\u0107\f\u0106\u0105\u0107\u010A\u0108\u0106\u0108\u0109\u0109\u010B\u010A\u0108\u010B\u010C\x07\x8B\u010C\u010D\u010E\x07\x8A\u010E\u010F"\u010F\u0110\x07\x87\u0110\u0111\u0112\x078\u0112\u0113\u0113\u0114\u0115\x07\u0115\x1B\u0116\u011D\u0117\u0119\x07f\u0118\u0117\u0118\u0119\u0119\u011A\u011A\u011C\u011B\u0118\u011C\u011F\u011D\u011B\u011D\u011E\u011E\u0121\u011F\u011D\u0120\u0122\x07f\u0121\u0120\u0121\u0122\u0122\u0123\u01242\u0124\u0125\x079\u0125\u0126"\u0126\u0127\u0128\x07n\u0128!\u0129\u012A8\u012A\u012B\x07\\\u012B\u012C$\u012C\u013C\u012D\u012E\x07\\\u012E\u01332\u012F\u0131 \u0130\u012F\u0130\u0131\u0131\u0132\u0132\u0134,\u0133\u0130\u0133\u0134\u0134\u0138\u0135\u0137(\u0136\u0135\u0137\u013A\u0138\u0136\u0138\u0139\u0139\u013C\u013A\u0138\u013B\u0129\u013B\u012D\u013C#\u013D\u0141&\u013E\u0140(\u013F\u013E\u0140\u0143\u0141\u013F\u0141\u0142\u0142%\u0143\u0141\u0144\u014D,\u0145\u014A0\u0146\u0148 \u0147\u0146\u0147\u0148\u0148\u0149\u0149\u014B,\u014A\u0147\u014A\u014B\u014B\u014D\u014C\u0144\u014C\u0145\u014D'\u014E\u014F\x07\\\u014F\u0150,\u0150)\u0151\u0152\x07L\u0152\u0153\x07^\u0153\u0154\xA2R\u0154\u0155\x07_\u0155+\u0156\u0161.\u0157\u015C\x07b\u0158\u015Bn8\u0159\u015B\x07t\u015A\u0158\u015A\u0159\u015B\u015E\u015C\u015A\u015C\u015D\u015D\u015F\u015E\u015C\u015F\u0161\x07c\u0160\u0156\u0160\u0157\u0161-\u0162\u0163\x07b\u0163\u0164\x07G\u0164\u0165\xAAV\u0165\u0166\x07c\u0166/\u0167\u0168\xA4S\u01681\u0169\u016A\xA4S\u016A3\u016B\u01726\u016C\u016E\x07f\u016D\u016C\u016D\u016E\u016E\u016F\u016F\u01716\u0170\u016D\u0171\u0174\u0172\u0170\u0172\u0173\u0173\u0176\u0174\u0172\u0175\u0177\x07f\u0176\u0175\u0176\u0177\u01775\u0178\u0179<\u0179\u017A\x079\u017A\u017B8\u017B7\u017C\u0181:\u017D\u017F \u017E\u017D\u017E\u017F\u017F\u0180\u0180\u0182@!\u0181\u017E\u0181\u0182\u01829\u0183\u0190> \u0184\u0190*\u0185\u0186\x074\u0186\u0187\x07^\u0187\u0188"\u0188\u0189\x07_\u0189\u0190\u018A\u018B\x075\u018B\u018C\x07^\u018C\u018D\xCCg\u018D\u018E\x07_\u018E\u0190\u018F\u0183\u018F\u0184\u018F\u0185\u018F\u018A\u0190;\u0191\u0192\xA4S\u0192=\u0193\u0194\xA4S\u0194?\u0195\u019A\x07b\u0196\u0199B"\u0197\u0199\x07t\u0198\u0196\u0198\u0197\u0199\u019C\u019A\u0198\u019A\u019B\u019B\u019D\u019C\u019A\u019D\u01A0\x07c\u019E\u01A0.\u019F\u0195\u019F\u019E\u01A0A\u01A1\u01A2\x07\b\u01A2\u01B1H%\u01A3\u01A4\x07\u01A4\u01B1J&\u01A5\u01B1T+\u01A6\u01B1V,\u01A7\u01B1d3\u01A8\u01A9\x07\u01A9\u01B1\xBE\`\u01AA\u01AB\x07\u01AB\u01B1D#\u01AC\u01AD	\u01AD\u01B1\xB4[\u01AE\u01AF\x07\u01AF\u01B1h5\u01B0\u01A1\u01B0\u01A3\u01B0\u01A5\u01B0\u01A6\u01B0\u01A7\u01B0\u01A8\u01B0\u01AA\u01B0\u01AC\u01B0\u01AE\u01B1C\u01B2\u01B9F$\u01B3\u01B5\x07f\u01B4\u01B3\u01B4\u01B5\u01B5\u01B6\u01B6\u01B8F$\u01B7\u01B4\u01B8\u01BB\u01B9\u01B7\u01B9\u01BA\u01BA\u01BD\u01BB\u01B9\u01BC\u01BE\x07f\u01BD\u01BC\u01BD\u01BE\u01BEE\u01BF\u01C0\xBE\`\u01C0\u01C1\x079\u01C1\u01C2\xBE\`\u01C2G\u01C3\u01CAt;\u01C4\u01C6\x07f\u01C5\u01C4\u01C5\u01C6\u01C6\u01C7\u01C7\u01C9t;\u01C8\u01C5\u01C9\u01CC\u01CA\u01C8\u01CA\u01CB\u01CB\u01CE\u01CC\u01CA\u01CD\u01CF\x07f\u01CE\u01CD\u01CE\u01CF\u01CFI\u01D0\u01D7R*\u01D1\u01D3\x07f\u01D2\u01D1\u01D2\u01D3\u01D3\u01D4\u01D4\u01D6R*\u01D5\u01D2\u01D6\u01D9\u01D7\u01D5\u01D7\u01D8\u01D8\u01DB\u01D9\u01D7\u01DA\u01DC\x07f`;S._serializedATNSegment1="\u01DB\u01DA\u01DB\u01DC\u01DCK\u01DD\u01DEN(\u01DE\u01DF\x079\u01DF\u01E0\xAAV\u01E0M\u01E1\u01E2\xA4S\u01E2O\u01E3\u01E4\xA4S\u01E4Q\u01E5\u01E6L'\u01E6S\u01E7\u01E8\x07\x07\u01E8\u01EFL'\u01E9\u01EB\x07f\u01EA\u01E9\u01EA\u01EB\u01EB\u01EC\u01EC\u01EEL'\u01ED\u01EA\u01EE\u01F1\u01EF\u01ED\u01EF\u01F0\u01F0\u01F3\u01F1\u01EF\u01F2\u01F4\x07f\u01F3\u01F2\u01F3\u01F4\u01F4U\u01F5\u01F6\x07\u01F6\u01FCX-\u01F7\u01F8\x07\u01F8\u01FCX-\u01F9\u01FA\x07\u01FA\u01FCX-\u01FB\u01F5\u01FB\u01F7\u01FB\u01F9\u01FCW\u01FD\u0204Z.\u01FE\u0200\x07f\u01FF\u01FE\u01FF\u0200\u0200\u0201\u0201\u0203Z.\u0202\u01FF\u0203\u0206\u0204\u0202\u0204\u0205\u0205\u0208\u0206\u0204\u0207\u0209\x07f\u0208\u0207\u0208\u0209\u0209Y\u020A\u020DP)\u020B\u020C\x079\u020C\u020E8\u020D\u020B\u020D\u020E\u020E\u020F\u020F\u0210\x07U\u0210\u0211\xAAV\u0211\u021C\u0212\u0215P)\u0213\u0214\x079\u0214\u02168\u0215\u0213\u0215\u0216\u0216\u0219\u0217\u0218\x07D\u0218\u021A\\/\u0219\u0217\u0219\u021A\u021A\u021C\u021B\u020A\u021B\u0212\u021C[\u021D\u021E\xAAV\u021E]\u021F\u0222d3\u0220\u0222f4\u0221\u021F\u0221\u0220\u0222_\u0223\u0224\x07G\u0224\u0227\xAAV\u0225\u0227d3\u0226\u0223\u0226\u0225\u0227a\u0228\u022D\xAAV\u0229\u022A\x07f\u022A\u022C\xAAV\u022B\u0229\u022C\u022F\u022D\u022B\u022D\u022E\u022E\u0231\u022F\u022D\u0230\u0232\x07f\u0231\u0230\u0231\u0232\u0232c\u0233\u0234\x07\u0234\u0235b2\u0235e\u0236\u0237\x07\f\u0237\u0238b2\u0238g\u0239\u0240l7\u023A\u023C\x07f\u023B\u023A\u023B\u023C\u023C\u023D\u023D\u023Fl7\u023E\u023B\u023F\u0242\u0240\u023E\u0240\u0241\u0241\u0244\u0242\u0240\u0243\u0245\x07f\u0244\u0243\u0244\u0245\u0245i\u0246\u0247\xA4S\u0247k\u0248\u0249j6\u0249\u024A\x079\u024A\u024B$\u024Bm\u024C\u025Ap9\u024D\u025AT+\u024E\u025AV,\u024F\u025A\x80A\u0250\u025A\x92J\u0251\u025A~@\u0252\u025A\x8CG\u0253\u025A\x88E\u0254\u025A\x82B\u0255\u025Ad3\u0256\u025Af4\u0257\u025Ax=\u0258\u025A\x94K\u0259\u024C\u0259\u024D\u0259\u024E\u0259\u024F\u0259\u0250\u0259\u0251\u0259\u0252\u0259\u0253\u0259\u0254\u0259\u0255\u0259\u0256\u0259\u0257\u0259\u0258\u025Ao\u025B\u025C\x07\v\u025C\u025Dr:\u025Dq\u025E\u0265v<\u025F\u0261\x07f\u0260\u025F\u0260\u0261\u0261\u0262\u0262\u0264v<\u0263\u0260\u0264\u0267\u0265\u0263\u0265\u0266\u0266\u0269\u0267\u0265\u0268\u026A\x07f\u0269\u0268\u0269\u026A\u026As\u026B\u026CL'\u026Cu\u026D\u0270\xBA^\u026E\u0270t;\u026F\u026D\u026F\u026E\u0270w\u0271\u0272\x07\u0272\u0273z>\u0273y\u0274\u027B|?\u0275\u0277\x07f\u0276\u0275\u0276\u0277\u0277\u0278\u0278\u027A|?\u0279\u0276\u027A\u027D\u027B\u0279\u027B\u027C\u027C\u027F\u027D\u027B\u027E\u0280\x07f\u027F\u027E\u027F\u0280\u0280{\u0281\u02862\u0282\u0284 \u0283\u0282\u0283\u0284\u0284\u0285\u0285\u0287,\u0286\u0283\u0286\u0287\u0287\u028D\u0288\u02892\u0289\u028A\x079\u028A\u028B$\u028B\u028D\u028C\u0281\u028C\u0288\u028D}\u028E\u028F\x07\u028F\u0290r:\u0290\x7F\u0291\u0292\x07\u0292\u0293\xB6\\\u0293\x81\u0294\u0295\x07\u0295\u0296\x84C\u0296\x83\u0297\u029E\x86D\u0298\u029A\x07f\u0299\u0298\u0299\u029A\u029A\u029B\u029B\u029D\x86D\u029C\u0299\u029D\u02A0\u029E\u029C\u029E\u029F\u029F\u02A2\u02A0\u029E\u02A1\u02A3\x07f\u02A2\u02A1\u02A2\u02A3\u02A3\x85\u02A4\u02A7\x07\x80\u02A5\u02A7\xBE`\u02A6\u02A4\u02A6\u02A5\u02A7\u02A9\u02A8\u02AA	\u02A9\u02A8\u02A9\u02AA\u02AA\x87\u02AB\u02AC\x07\u02AC\u02AD\x07\x80\u02AD\x89\u02AE\u02AF\x07&\u02AF\u02B3\xBE`\u02B0\u02B1\x07&\u02B1\u02B3\xAAV\u02B2\u02AE\u02B2\u02B0\u02B3\x8B\u02B4\u02B5\x07\u02B5\u02B7\x07\x80\u02B6\u02B8\x8AF\u02B7\u02B6\u02B7\u02B8\u02B8\x8D\u02B9\u02BC\xBA^\u02BA\u02BB\x07g\u02BB\u02BD\x07p\u02BC\u02BA\u02BC\u02BD\u02BD\u02C1\u02BE\u02C1\x07p\u02BF\u02C1\x07q\u02C0\u02B9\u02C0\u02BE\u02C0\u02BF\u02C1\x8F\u02C2\u02C9\x8EH\u02C3\u02C5\x07f\u02C4\u02C3\u02C4\u02C5\u02C5\u02C6\u02C6\u02C8\x8EH\u02C7\u02C4\u02C8\u02CB\u02C9\u02C7\u02C9\u02CA\u02CA\x91\u02CB\u02C9\u02CC\u02CD\x07\r\u02CD\u02D0\x90I\u02CE\u02CF\x07&\u02CF\u02D1\xBE`\u02D0\u02CE\u02D0\u02D1\u02D1\x93\u02D2\u02D3\x07\u02D3\u02D4\x96L\u02D4\x95\u02D5\u02D6	\u02D6\x97\u02D7\u02D8	\u02D8\x99\u02D9\u02DA	\x07\u02DA\x9B\u02DB\u02DC	\b\u02DC\x9D\u02DD\u02E5\x07Z\u02DE\u02E5		\u02DF\u02E5\xA0Q\u02E0\u02E5\x07B\u02E1\u02E5	\n\u02E2\u02E5\x07Y\u02E3\u02E5\x07A\u02E4\u02DD\u02E4\u02DE\u02E4\u02DF\u02E4\u02E0\u02E4\u02E1\u02E4\u02E2\u02E4\u02E3\u02E5\x9F\u02E6\u02ED\x07x\u02E7\u02ED\x07y\u02E8\u02ED\x07|\u02E9\u02ED\x07{\u02EA\u02ED\x07z\u02EB\u02ED\x07}\u02EC\u02E6\u02EC\u02E7\u02EC\u02E8\u02EC\u02E9\u02EC\u02EA\u02EC\u02EB\u02ED\xA1\u02EE\u02EF\x07Z\u02EF\xA3\u02F0\u02F1	\v\u02F1\xA5\u02F2\u02F3	\f\u02F3\xA7\u02F4\u02F5	\r\u02F5\xA9\u02F6\u02F7\bV\u02F7\u0333\xBA^\u02F8\u0333\x9EP\u02F9\u02FA\x07o\u02FA\u0333\xAAV\u02FB\u02FC\x07@\u02FC\u0333\xAAV\v\u02FD\u02FE\x07(\u02FE\u02FF\x07^\u02FF\u0300\xAAV\u0300\u0301\x07\"\u0301\u0302\x9AN\u0302\u0303\x07_\u0303\u0333\u0304\u0305\x07*\u0305\u0306\x07^\u0306\u0307\x07.\u0307\u0308\xAAV\u0308\u0309\x07_\u0309\u0333\u030A\u030B\xBA^\u030B\u030C\x07g\u030C\u030E\u030D\u030A\u030D\u030E\u030E\u030F\u030F\u0310\x98M\u0310\u0313\x07^\u0311\u0314\xAAV\u0312\u0314\x07p\u0313\u0311\u0313\u0312\u0313\u0314\u0314\u0315\u0315\u0316\x07_\u0316\u0333\u0317\u0318\x07^\u0318\u0319\xACW\u0319\u031A\x07_\u031A\u0333\u031B\u031E\xA4S\u031C\u031E\xA6T\u031D\u031B\u031D\u031C\u031E\u031F\u031F\u0321\x07^\u0320\u0322\xB2Z\u0321\u0320\u0321\u0322\u0322\u0323\u0323\u0324\x07_\u0324\u0333\u0325\u0333\xAEX\u0326\u0327\xA8U\u0327\u0328\x07^\u0328\u032D\xAAV\u0329\u032A\x07f\u032A\u032C\xBE`\u032B\u0329\u032C\u032F\u032D\u032B\u032D\u032E\u032E\u0330\u032F\u032D\u0330\u0331\x07_\u0331\u0333\u0332\u02F6\u0332\u02F8\u0332\u02F9\u0332\u02FB\u0332\u02FD\u0332\u0304\u0332\u030D\u0332\u0317\u0332\u031D\u0332\u0325\u0332\u0326\u0333\u035E\u0334\u0335\f\u0335\u0336	\u0336\u035D\xAAV\u0337\u0338\f\u0338\u0339	\u0339\u035D\xAAV\u033A\u033B\f\u033B\u033C\x07P\u033C\u035D\xAAV\u033D\u033E\f\r\u033E\u033F\x9CO\u033F\u0340\xAAV\u0340\u035D\u0341\u0342\f\n\u0342\u0343	\u0343\u035D\xAAV\v\u0344\u0345\f\u0345\u0346\x07b\u0346\u0347`1\u0347\u0348\x07c\u0348\u035D\u0349\u034A\f\u034A\u035D\xA6T\u034B\u034C\f\u034C\u034D\x07g\u034D\u035D\xA6T\u034E\u034F\f\u034F\u0350\x07d\u0350\u035D\x9AN\u0351\u0352\f\u0352\u0353\x073\u0353\u0354\xAAV\u0354\u0355\xA6T\u0355\u035D\u0356\u0357\f\u0357\u0358	\u0358\u035D\xACW\u0359\u035A\f\f\u035A\u035B	\u035B\u035D\xACW\u035C\u0334\u035C\u0337\u035C\u033A\u035C\u033D\u035C\u0341\u035C\u0344\u035C\u0349\u035C\u034B\u035C\u034E\u035C\u0351\u035C\u0356\u035C\u0359\u035D\u0360\u035E\u035C\u035E\u035F\u035F\xAB\u0360\u035E\u0361\u0363\x9CO\u0362\u0361\u0362\u0363\u0363\u0364\u0364\u0365\xAAV\u0365\xAD\u0366\u0368\xB0Y\u0367\u0366\u0368\u0369\u0369\u0367\u0369\u036A\u036A\u036D\u036B\u036C\x07/\u036C\u036E\xAAV\u036D\u036B\u036D\u036E\u036E\xAF\u036F\u0371\x07F\u0370\u0372\xAAV\u0371\u0370\u0371\u0372\u0372\u0373\u0373\u0374\x07T\u0374\u0375\xACW\u0375\xB1\u0376\u037B\xAAV\u0377\u0378\x07f\u0378\u037A\xAAV\u0379\u0377\u037A\u037D\u037B\u0379\u037B\u037C\u037C\u037F\u037D\u037B\u037E\u0380\x07f\u037F\u037E\u037F\u0380\u0380\xB3\u0381\u0388\xBE`\u0382\u0384\x07f\u0383\u0382\u0383\u0384\u0384\u0385\u0385\u0387\xBE`\u0386\u0383\u0387\u038A\u0388\u0386\u0388\u0389\u0389\xB5\u038A\u0388\u038B\u0392\xB8]\u038C\u038E\x07f\u038D\u038C\u038D\u038E\u038E\u038F\u038F\u0391\xB8]\u0390\u038D\u0391\u0394\u0392\u0390\u0392\u0393\u0393\u0396\u0394\u0392\u0395\u0397\x07f\u0396\u0395\u0396\u0397\u0397\xB7\u0398\u03A1\xBA^\u0399\u039A\xBA^\u039A\u039B\x07g\u039B\u039D\u039C\u0399\u039C\u039D\u039D\u039E\u039E\u03A1	\u039F\u03A1L'\u03A0\u0398\u03A0\u039C\u03A0\u039F\u03A1\xB9\u03A2\u03A7\xBE`\u03A3\u03A4\x07g\u03A4\u03A6\xBE`\u03A5\u03A3\u03A6\u03A9\u03A7\u03A5\u03A7\u03A8\u03A8\xBB\u03A9\u03A7\u03AA\u03AB\xA4S\u03AB\xBD\u03AC\u03AD\xA4S\u03AD\xBF\u03AE\u03AF\xAAV\u03AF\u03B0\x07\u03B0\xC1\u03B1\u03B2\xC4c\u03B2\xC3\u03B3\u03BC\x07\u03B4\u03BC\x07\x80\u03B5\u03BC\x07\x81\u03B6\u03BC\xC6d\u03B7\u03BC\xCAf\u03B8\u03BC\x07Q\u03B9\u03BC\x072\u03BA\u03BC\x07B\u03BB\u03B3\u03BB\u03B4\u03BB\u03B5\u03BB\u03B6\u03BB\u03B7\u03BB\u03B8\u03BB\u03B9\u03BB\u03BA\u03BC\xC5\u03BD\u03BE\x07b\u03BE\u03C3\xC8e\u03BF\u03C0\x07f\u03C0\u03C2\xC8e\u03C1\u03BF\u03C2\u03C5\u03C3\u03C1\u03C3\u03C4\u03C4\u03C6\u03C5\u03C3\u03C6\u03C7\x07c\u03C7\u03CB\u03C8\u03C9\x07b\u03C9\u03CB\x07c\u03CA\u03BD\u03CA\u03C8\u03CB\xC7\u03CC\u03CD\x07\u03CD\u03CE\x07e\u03CE\u03CF\xC4c\u03CF\xC9\u03D0\u03D1\x07`\u03D1\u03D6\xC4c\u03D2\u03D3\x07f\u03D3\u03D5\xC4c\u03D4\u03D2\u03D5\u03D8\u03D6\u03D4\u03D6\u03D7\u03D7\u03D9\u03D8\u03D6\u03D9\u03DA\x07a\u03DA\u03DE\u03DB\u03DC\x07`\u03DC\u03DE\x07a\u03DD\u03D0\u03DD\u03DB\u03DE\xCB\u03DF\u03E0\xA4S\u03E0\xCD\u03E1\u03E2\xA4S\u03E2\xCF\u03E3\u03E4\x07\u03E4\xD1q\xD4\xD6\xDF\xEA\xF2\xFA\u0102\u0108\u0118\u011D\u0121\u0130\u0133\u0138\u013B\u0141\u0147\u014A\u014C\u015A\u015C\u0160\u016D\u0172\u0176\u017E\u0181\u018F\u0198\u019A\u019F\u01B0\u01B4\u01B9\u01BD\u01C5\u01CA\u01CE\u01D2\u01D7\u01DB\u01EA\u01EF\u01F3\u01FB\u01FF\u0204\u0208\u020D\u0215\u0219\u021B\u0221\u0226\u022D\u0231\u023B\u0240\u0244\u0259\u0260\u0265\u0269\u026F\u0276\u027B\u027F\u0283\u0286\u028C\u0299\u029E\u02A2\u02A6\u02A9\u02B2\u02B7\u02BC\u02C0\u02C4\u02C9\u02D0\u02E4\u02EC\u030D\u0313\u031D\u0321\u032D\u0332\u035C\u035E\u0362\u0369\u036D\u0371\u037B\u037F\u0383\u0388\u038D\u0392\u0396\u039C\u03A0\u03A7\u03BB\u03C3\u03CA\u03D6\u03DD";S._serializedATN=a8e.join([S._serializedATNSegment0,S._serializedATNSegment1],"");var Jee=class extends Sr.ParserRuleContext{EOF(){return this.getToken(S.EOF,0)}malloyStatement(e){return e===void 0?this.getRuleContexts(HT):this.getRuleContext(e,HT)}SEMI(e){return e===void 0?this.getTokens(S.SEMI):this.getToken(S.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_malloyDocument}enterRule(e){e.enterMalloyDocument&&e.enterMalloyDocument(this)}exitRule(e){e.exitMalloyDocument&&e.exitMalloyDocument(this)}accept(e){return e.visitMalloyDocument?e.visitMalloyDocument(this):e.visitChildren(this)}};Nt.MalloyDocumentContext=Jee;var HT=class extends Sr.ParserRuleContext{defineSourceStatement(){return this.tryGetRuleContext(0,DM)}defineSQLStatement(){return this.tryGetRuleContext(0,RM)}defineQuery(){return this.tryGetRuleContext(0,R7)}importStatement(){return this.tryGetRuleContext(0,IM)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_malloyStatement}enterRule(e){e.enterMalloyStatement&&e.enterMalloyStatement(this)}exitRule(e){e.exitMalloyStatement&&e.exitMalloyStatement(this)}accept(e){return e.visitMalloyStatement?e.visitMalloyStatement(this):e.visitChildren(this)}};Nt.MalloyStatementContext=HT;var DM=class extends Sr.ParserRuleContext{exploreKeyword(){return this.getRuleContext(0,OM)}sourcePropertyList(){return this.getRuleContext(0,UM)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_defineSourceStatement}enterRule(e){e.enterDefineSourceStatement&&e.enterDefineSourceStatement(this)}exitRule(e){e.exitDefineSourceStatement&&e.exitDefineSourceStatement(this)}accept(e){return e.visitDefineSourceStatement?e.visitDefineSourceStatement(this):e.visitChildren(this)}};Nt.DefineSourceStatementContext=DM;var OM=class extends Sr.ParserRuleContext{EXPLORE(){return this.tryGetToken(S.EXPLORE,0)}SOURCE(){return this.tryGetToken(S.SOURCE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreKeyword}enterRule(e){e.enterExploreKeyword&&e.enterExploreKeyword(this)}exitRule(e){e.exitExploreKeyword&&e.exitExploreKeyword(this)}accept(e){return e.visitExploreKeyword?e.visitExploreKeyword(this):e.visitChildren(this)}};Nt.ExploreKeywordContext=OM;var R7=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_defineQuery}copyFrom(e){super.copyFrom(e)}};Nt.DefineQueryContext=R7;var Xee=class extends R7{QUERY(){return this.getToken(S.QUERY,0)}topLevelQueryDefs(){return this.getRuleContext(0,PM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedQueries_stub&&e.enterNamedQueries_stub(this)}exitRule(e){e.exitNamedQueries_stub&&e.exitNamedQueries_stub(this)}accept(e){return e.visitNamedQueries_stub?e.visitNamedQueries_stub(this):e.visitChildren(this)}};Nt.NamedQueries_stubContext=Xee;var Zee=class extends R7{QUERY(){return this.getToken(S.QUERY,0)}topLevelAnonQueryDef(){return this.getRuleContext(0,NM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterAnonymousQuery&&e.enterAnonymousQuery(this)}exitRule(e){e.exitAnonymousQuery&&e.exitAnonymousQuery(this)}accept(e){return e.visitAnonymousQuery?e.visitAnonymousQuery(this):e.visitChildren(this)}};Nt.AnonymousQueryContext=Zee;var NM=class extends Sr.ParserRuleContext{query(){return this.getRuleContext(0,Px)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_topLevelAnonQueryDef}enterRule(e){e.enterTopLevelAnonQueryDef&&e.enterTopLevelAnonQueryDef(this)}exitRule(e){e.exitTopLevelAnonQueryDef&&e.exitTopLevelAnonQueryDef(this)}accept(e){return e.visitTopLevelAnonQueryDef?e.visitTopLevelAnonQueryDef(this):e.visitChildren(this)}};Nt.TopLevelAnonQueryDefContext=NM;var RM=class extends Sr.ParserRuleContext{SQL(){return this.getToken(S.SQL,0)}sqlBlock(){return this.getRuleContext(0,LM)}nameSQLBlock(){return this.tryGetRuleContext(0,EP)}IS(){return this.tryGetToken(S.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_defineSQLStatement}enterRule(e){e.enterDefineSQLStatement&&e.enterDefineSQLStatement(this)}exitRule(e){e.exitDefineSQLStatement&&e.exitDefineSQLStatement(this)}accept(e){return e.visitDefineSQLStatement?e.visitDefineSQLStatement(this):e.visitChildren(this)}};Nt.DefineSQLStatementContext=RM;var LM=class extends Sr.ParserRuleContext{OCURLY(){return this.getToken(S.OCURLY,0)}CCURLY(){return this.getToken(S.CCURLY,0)}blockSQLDef(e){return e===void 0?this.getRuleContexts(VT):this.getRuleContext(e,VT)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sqlBlock}enterRule(e){e.enterSqlBlock&&e.enterSqlBlock(this)}exitRule(e){e.exitSqlBlock&&e.exitSqlBlock(this)}accept(e){return e.visitSqlBlock?e.visitSqlBlock(this):e.visitChildren(this)}};Nt.SqlBlockContext=LM;var VT=class extends Sr.ParserRuleContext{CONNECTION(){return this.tryGetToken(S.CONNECTION,0)}connectionName(){return this.tryGetRuleContext(0,SP)}SELECT(){return this.tryGetToken(S.SELECT,0)}sqlString(){return this.tryGetRuleContext(0,kM)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_blockSQLDef}enterRule(e){e.enterBlockSQLDef&&e.enterBlockSQLDef(this)}exitRule(e){e.exitBlockSQLDef&&e.exitBlockSQLDef(this)}accept(e){return e.visitBlockSQLDef?e.visitBlockSQLDef(this):e.visitChildren(this)}};Nt.BlockSQLDefContext=VT;var kM=class extends Sr.ParserRuleContext{SQL_BEGIN(){return this.getToken(S.SQL_BEGIN,0)}SQL_END(){return this.getToken(S.SQL_END,0)}sqlInterpolation(e){return e===void 0?this.getRuleContexts(WT):this.getRuleContext(e,WT)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sqlString}enterRule(e){e.enterSqlString&&e.enterSqlString(this)}exitRule(e){e.exitSqlString&&e.exitSqlString(this)}accept(e){return e.visitSqlString?e.visitSqlString(this):e.visitChildren(this)}};Nt.SqlStringContext=kM;var WT=class extends Sr.ParserRuleContext{OPEN_CODE(){return this.getToken(S.OPEN_CODE,0)}query(){return this.getRuleContext(0,Px)}CLOSE_CODE(){return this.getToken(S.CLOSE_CODE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sqlInterpolation}enterRule(e){e.enterSqlInterpolation&&e.enterSqlInterpolation(this)}exitRule(e){e.exitSqlInterpolation&&e.exitSqlInterpolation(this)}accept(e){return e.visitSqlInterpolation?e.visitSqlInterpolation(this):e.visitChildren(this)}};Nt.SqlInterpolationContext=WT;var IM=class extends Sr.ParserRuleContext{IMPORT(){return this.getToken(S.IMPORT,0)}importURL(){return this.getRuleContext(0,MM)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_importStatement}enterRule(e){e.enterImportStatement&&e.enterImportStatement(this)}exitRule(e){e.exitImportStatement&&e.exitImportStatement(this)}accept(e){return e.visitImportStatement?e.visitImportStatement(this):e.visitChildren(this)}};Nt.ImportStatementContext=IM;var MM=class extends Sr.ParserRuleContext{JSON_STRING(){return this.getToken(S.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_importURL}enterRule(e){e.enterImportURL&&e.enterImportURL(this)}exitRule(e){e.exitImportURL&&e.exitImportURL(this)}accept(e){return e.visitImportURL?e.visitImportURL(this):e.visitChildren(this)}};Nt.ImportURLContext=MM;var PM=class extends Sr.ParserRuleContext{topLevelQueryDef(e){return e===void 0?this.getRuleContexts(QT):this.getRuleContext(e,QT)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_topLevelQueryDefs}enterRule(e){e.enterTopLevelQueryDefs&&e.enterTopLevelQueryDefs(this)}exitRule(e){e.exitTopLevelQueryDefs&&e.exitTopLevelQueryDefs(this)}accept(e){return e.visitTopLevelQueryDefs?e.visitTopLevelQueryDefs(this):e.visitChildren(this)}};Nt.TopLevelQueryDefsContext=PM;var QT=class extends Sr.ParserRuleContext{queryName(){return this.getRuleContext(0,r_)}IS(){return this.getToken(S.IS,0)}query(){return this.getRuleContext(0,Px)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_topLevelQueryDef}enterRule(e){e.enterTopLevelQueryDef&&e.enterTopLevelQueryDef(this)}exitRule(e){e.exitTopLevelQueryDef&&e.exitTopLevelQueryDef(this)}accept(e){return e.visitTopLevelQueryDef?e.visitTopLevelQueryDef(this):e.visitChildren(this)}};Nt.TopLevelQueryDefContext=QT;var e_=class extends Sr.ParserRuleContext{PLUS(){return this.getToken(S.PLUS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_refineOperator}enterRule(e){e.enterRefineOperator&&e.enterRefineOperator(this)}exitRule(e){e.exitRefineOperator&&e.exitRefineOperator(this)}accept(e){return e.visitRefineOperator?e.visitRefineOperator(this):e.visitChildren(this)}};Nt.RefineOperatorContext=e_;var Px=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_query}copyFrom(e){super.copyFrom(e)}};Nt.QueryContext=Px;var ete=class extends Px{explore(){return this.getRuleContext(0,i_)}ARROW(){return this.getToken(S.ARROW,0)}pipelineFromName(){return this.getRuleContext(0,L7)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExploreArrowQuery&&e.enterExploreArrowQuery(this)}exitRule(e){e.exitExploreArrowQuery&&e.exitExploreArrowQuery(this)}accept(e){return e.visitExploreArrowQuery?e.visitExploreArrowQuery(this):e.visitChildren(this)}};Nt.ExploreArrowQueryContext=ete;var tte=class extends Px{ARROW(){return this.getToken(S.ARROW,0)}queryName(){return this.getRuleContext(0,r_)}queryProperties(){return this.tryGetRuleContext(0,n_)}pipeElement(e){return e===void 0?this.getRuleContexts(t_):this.getRuleContext(e,t_)}refineOperator(){return this.tryGetRuleContext(0,e_)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterArrowQuery&&e.enterArrowQuery(this)}exitRule(e){e.exitArrowQuery&&e.exitArrowQuery(this)}accept(e){return e.visitArrowQuery?e.visitArrowQuery(this):e.visitChildren(this)}};Nt.ArrowQueryContext=tte;var L7=class extends Sr.ParserRuleContext{firstSegment(){return this.getRuleContext(0,BM)}pipeElement(e){return e===void 0?this.getRuleContexts(t_):this.getRuleContext(e,t_)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_pipelineFromName}enterRule(e){e.enterPipelineFromName&&e.enterPipelineFromName(this)}exitRule(e){e.exitPipelineFromName&&e.exitPipelineFromName(this)}accept(e){return e.visitPipelineFromName?e.visitPipelineFromName(this):e.visitChildren(this)}};Nt.PipelineFromNameContext=L7;var BM=class extends Sr.ParserRuleContext{queryProperties(){return this.tryGetRuleContext(0,n_)}exploreQueryName(){return this.tryGetRuleContext(0,qM)}refineOperator(){return this.tryGetRuleContext(0,e_)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_firstSegment}enterRule(e){e.enterFirstSegment&&e.enterFirstSegment(this)}exitRule(e){e.exitFirstSegment&&e.exitFirstSegment(this)}accept(e){return e.visitFirstSegment?e.visitFirstSegment(this):e.visitChildren(this)}};Nt.FirstSegmentContext=BM;var t_=class extends Sr.ParserRuleContext{ARROW(){return this.getToken(S.ARROW,0)}queryProperties(){return this.getRuleContext(0,n_)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_pipeElement}enterRule(e){e.enterPipeElement&&e.enterPipeElement(this)}exitRule(e){e.exitPipeElement&&e.exitPipeElement(this)}accept(e){return e.visitPipeElement?e.visitPipeElement(this):e.visitChildren(this)}};Nt.PipeElementContext=t_;var jM=class extends Sr.ParserRuleContext{TABLE(){return this.getToken(S.TABLE,0)}OPAREN(){return this.getToken(S.OPAREN,0)}tableName(){return this.getRuleContext(0,hP)}CPAREN(){return this.getToken(S.CPAREN,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreTable}enterRule(e){e.enterExploreTable&&e.enterExploreTable(this)}exitRule(e){e.exitExploreTable&&e.exitExploreTable(this)}accept(e){return e.visitExploreTable?e.visitExploreTable(this):e.visitChildren(this)}};Nt.ExploreTableContext=jM;var n_=class extends Sr.ParserRuleContext{filterShortcut(){return this.tryGetRuleContext(0,GT)}OCURLY(){return this.tryGetToken(S.OCURLY,0)}CCURLY(){return this.tryGetToken(S.CCURLY,0)}queryStatement(e){return e===void 0?this.getRuleContexts(rF):this.getRuleContext(e,rF)}SEMI(e){return e===void 0?this.getTokens(S.SEMI):this.getToken(S.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_queryProperties}enterRule(e){e.enterQueryProperties&&e.enterQueryProperties(this)}exitRule(e){e.exitQueryProperties&&e.exitQueryProperties(this)}accept(e){return e.visitQueryProperties?e.visitQueryProperties(this):e.visitChildren(this)}};Nt.QueryPropertiesContext=n_;var GT=class extends Sr.ParserRuleContext{OCURLY(){return this.getToken(S.OCURLY,0)}QMARK(){return this.getToken(S.QMARK,0)}fieldExpr(){return this.getRuleContext(0,ri)}CCURLY(){return this.getToken(S.CCURLY,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_filterShortcut}enterRule(e){e.enterFilterShortcut&&e.enterFilterShortcut(this)}exitRule(e){e.exitFilterShortcut&&e.exitFilterShortcut(this)}accept(e){return e.visitFilterShortcut?e.visitFilterShortcut(this):e.visitChildren(this)}};Nt.FilterShortcutContext=GT;var qM=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreQueryName}enterRule(e){e.enterExploreQueryName&&e.enterExploreQueryName(this)}exitRule(e){e.exitExploreQueryName&&e.exitExploreQueryName(this)}accept(e){return e.visitExploreQueryName?e.visitExploreQueryName(this):e.visitChildren(this)}};Nt.ExploreQueryNameContext=qM;var r_=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_queryName}enterRule(e){e.enterQueryName&&e.enterQueryName(this)}exitRule(e){e.exitQueryName&&e.exitQueryName(this)}accept(e){return e.visitQueryName?e.visitQueryName(this):e.visitChildren(this)}};Nt.QueryNameContext=r_;var UM=class extends Sr.ParserRuleContext{sourceDefinition(e){return e===void 0?this.getRuleContexts(YT):this.getRuleContext(e,YT)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sourcePropertyList}enterRule(e){e.enterSourcePropertyList&&e.enterSourcePropertyList(this)}exitRule(e){e.exitSourcePropertyList&&e.exitSourcePropertyList(this)}accept(e){return e.visitSourcePropertyList?e.visitSourcePropertyList(this):e.visitChildren(this)}};Nt.SourcePropertyListContext=UM;var YT=class extends Sr.ParserRuleContext{sourceNameDef(){return this.getRuleContext(0,$M)}IS(){return this.getToken(S.IS,0)}explore(){return this.getRuleContext(0,i_)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sourceDefinition}enterRule(e){e.enterSourceDefinition&&e.enterSourceDefinition(this)}exitRule(e){e.exitSourceDefinition&&e.exitSourceDefinition(this)}accept(e){return e.visitSourceDefinition?e.visitSourceDefinition(this):e.visitChildren(this)}};Nt.SourceDefinitionContext=YT;var i_=class extends Sr.ParserRuleContext{exploreSource(){return this.getRuleContext(0,s5)}exploreProperties(){return this.tryGetRuleContext(0,HM)}refineOperator(){return this.tryGetRuleContext(0,e_)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_explore}enterRule(e){e.enterExplore&&e.enterExplore(this)}exitRule(e){e.exitExplore&&e.exitExplore(this)}accept(e){return e.visitExplore?e.visitExplore(this):e.visitChildren(this)}};Nt.ExploreContext=i_;var s5=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreSource}copyFrom(e){super.copyFrom(e)}};Nt.ExploreSourceContext=s5;var nte=class extends s5{sourceID(){return this.getRuleContext(0,zM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedSource&&e.enterNamedSource(this)}exitRule(e){e.exitNamedSource&&e.exitNamedSource(this)}accept(e){return e.visitNamedSource?e.visitNamedSource(this):e.visitChildren(this)}};Nt.NamedSourceContext=nte;var rte=class extends s5{exploreTable(){return this.getRuleContext(0,jM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterTableSource&&e.enterTableSource(this)}exitRule(e){e.exitTableSource&&e.exitTableSource(this)}accept(e){return e.visitTableSource?e.visitTableSource(this):e.visitChildren(this)}};Nt.TableSourceContext=rte;var ite=class extends s5{FROM(){return this.getToken(S.FROM,0)}OPAREN(){return this.getToken(S.OPAREN,0)}query(){return this.getRuleContext(0,Px)}CPAREN(){return this.getToken(S.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQuerySource&&e.enterQuerySource(this)}exitRule(e){e.exitQuerySource&&e.exitQuerySource(this)}accept(e){return e.visitQuerySource?e.visitQuerySource(this):e.visitChildren(this)}};Nt.QuerySourceContext=ite;var ste=class extends s5{FROM_SQL(){return this.getToken(S.FROM_SQL,0)}OPAREN(){return this.getToken(S.OPAREN,0)}sqlExploreNameRef(){return this.getRuleContext(0,bP)}CPAREN(){return this.getToken(S.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterSQLSourceName&&e.enterSQLSourceName(this)}exitRule(e){e.exitSQLSourceName&&e.exitSQLSourceName(this)}accept(e){return e.visitSQLSourceName?e.visitSQLSourceName(this):e.visitChildren(this)}};Nt.SQLSourceNameContext=ste;var $M=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sourceNameDef}enterRule(e){e.enterSourceNameDef&&e.enterSourceNameDef(this)}exitRule(e){e.exitSourceNameDef&&e.exitSourceNameDef(this)}accept(e){return e.visitSourceNameDef?e.visitSourceNameDef(this):e.visitChildren(this)}};Nt.SourceNameDefContext=$M;var zM=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sourceID}enterRule(e){e.enterSourceID&&e.enterSourceID(this)}exitRule(e){e.exitSourceID&&e.exitSourceID(this)}accept(e){return e.visitSourceID?e.visitSourceID(this):e.visitChildren(this)}};Nt.SourceIDContext=zM;var HM=class extends Sr.ParserRuleContext{OCURLY(){return this.tryGetToken(S.OCURLY,0)}CCURLY(){return this.tryGetToken(S.CCURLY,0)}exploreStatement(e){return e===void 0?this.getRuleContexts(A0):this.getRuleContext(e,A0)}SEMI(e){return e===void 0?this.getTokens(S.SEMI):this.getToken(S.SEMI,e)}filterShortcut(){return this.tryGetRuleContext(0,GT)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreProperties}enterRule(e){e.enterExploreProperties&&e.enterExploreProperties(this)}exitRule(e){e.exitExploreProperties&&e.exitExploreProperties(this)}accept(e){return e.visitExploreProperties?e.visitExploreProperties(this):e.visitChildren(this)}};Nt.ExplorePropertiesContext=HM;var A0=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreStatement}copyFrom(e){super.copyFrom(e)}};Nt.ExploreStatementContext=A0;var ote=class extends A0{DIMENSION(){return this.getToken(S.DIMENSION,0)}dimensionDefList(){return this.getRuleContext(0,WM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreDimension&&e.enterDefExploreDimension(this)}exitRule(e){e.exitDefExploreDimension&&e.exitDefExploreDimension(this)}accept(e){return e.visitDefExploreDimension?e.visitDefExploreDimension(this):e.visitChildren(this)}};Nt.DefExploreDimensionContext=ote;var ate=class extends A0{MEASURE(){return this.getToken(S.MEASURE,0)}measureDefList(){return this.getRuleContext(0,QM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreMeasure&&e.enterDefExploreMeasure(this)}exitRule(e){e.exitDefExploreMeasure&&e.exitDefExploreMeasure(this)}accept(e){return e.visitDefExploreMeasure?e.visitDefExploreMeasure(this):e.visitChildren(this)}};Nt.DefExploreMeasureContext=ate;var ute=class extends A0{declareStatement(){return this.getRuleContext(0,ZT)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefDeclare_stub&&e.enterDefDeclare_stub(this)}exitRule(e){e.exitDefDeclare_stub&&e.exitDefDeclare_stub(this)}accept(e){return e.visitDefDeclare_stub?e.visitDefDeclare_stub(this):e.visitChildren(this)}};Nt.DefDeclare_stubContext=ute;var lte=class extends A0{joinStatement(){return this.getRuleContext(0,a5)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoin_stub&&e.enterDefJoin_stub(this)}exitRule(e){e.exitDefJoin_stub&&e.exitDefJoin_stub(this)}accept(e){return e.visitDefJoin_stub?e.visitDefJoin_stub(this):e.visitChildren(this)}};Nt.DefJoin_stubContext=lte;var cte=class extends A0{whereStatement(){return this.getRuleContext(0,o_)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreWhere&&e.enterDefExploreWhere(this)}exitRule(e){e.exitDefExploreWhere&&e.exitDefExploreWhere(this)}accept(e){return e.visitDefExploreWhere?e.visitDefExploreWhere(this):e.visitChildren(this)}};Nt.DefExploreWhereContext=cte;var fte=class extends A0{PRIMARY_KEY(){return this.getToken(S.PRIMARY_KEY,0)}fieldName(){return this.getRuleContext(0,Vf)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExplorePrimaryKey&&e.enterDefExplorePrimaryKey(this)}exitRule(e){e.exitDefExplorePrimaryKey&&e.exitDefExplorePrimaryKey(this)}accept(e){return e.visitDefExplorePrimaryKey?e.visitDefExplorePrimaryKey(this):e.visitChildren(this)}};Nt.DefExplorePrimaryKeyContext=fte;var dte=class extends A0{RENAME(){return this.getToken(S.RENAME,0)}renameList(){return this.getRuleContext(0,VM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreRename&&e.enterDefExploreRename(this)}exitRule(e){e.exitDefExploreRename&&e.exitDefExploreRename(this)}accept(e){return e.visitDefExploreRename?e.visitDefExploreRename(this):e.visitChildren(this)}};Nt.DefExploreRenameContext=dte;var hte=class extends A0{fieldNameList(){return this.getRuleContext(0,gP)}ACCEPT(){return this.tryGetToken(S.ACCEPT,0)}EXCEPT(){return this.tryGetToken(S.EXCEPT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreEditField&&e.enterDefExploreEditField(this)}exitRule(e){e.exitDefExploreEditField&&e.exitDefExploreEditField(this)}accept(e){return e.visitDefExploreEditField?e.visitDefExploreEditField(this):e.visitChildren(this)}};Nt.DefExploreEditFieldContext=hte;var pte=class extends A0{QUERY(){return this.getToken(S.QUERY,0)}subQueryDefList(){return this.getRuleContext(0,KM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreQuery&&e.enterDefExploreQuery(this)}exitRule(e){e.exitDefExploreQuery&&e.exitDefExploreQuery(this)}accept(e){return e.visitDefExploreQuery?e.visitDefExploreQuery(this):e.visitChildren(this)}};Nt.DefExploreQueryContext=pte;var VM=class extends Sr.ParserRuleContext{exploreRenameDef(e){return e===void 0?this.getRuleContexts(KT):this.getRuleContext(e,KT)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_renameList}enterRule(e){e.enterRenameList&&e.enterRenameList(this)}exitRule(e){e.exitRenameList&&e.exitRenameList(this)}accept(e){return e.visitRenameList?e.visitRenameList(this):e.visitChildren(this)}};Nt.RenameListContext=VM;var KT=class extends Sr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Vf):this.getRuleContext(e,Vf)}IS(){return this.getToken(S.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreRenameDef}enterRule(e){e.enterExploreRenameDef&&e.enterExploreRenameDef(this)}exitRule(e){e.exitExploreRenameDef&&e.exitExploreRenameDef(this)}accept(e){return e.visitExploreRenameDef?e.visitExploreRenameDef(this):e.visitChildren(this)}};Nt.ExploreRenameDefContext=KT;var WM=class extends Sr.ParserRuleContext{dimensionDef(e){return e===void 0?this.getRuleContexts(M7):this.getRuleContext(e,M7)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_dimensionDefList}enterRule(e){e.enterDimensionDefList&&e.enterDimensionDefList(this)}exitRule(e){e.exitDimensionDefList&&e.exitDimensionDefList(this)}accept(e){return e.visitDimensionDefList?e.visitDimensionDefList(this):e.visitChildren(this)}};Nt.DimensionDefListContext=WM;var QM=class extends Sr.ParserRuleContext{measureDef(e){return e===void 0?this.getRuleContexts(XT):this.getRuleContext(e,XT)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_measureDefList}enterRule(e){e.enterMeasureDefList&&e.enterMeasureDefList(this)}exitRule(e){e.exitMeasureDefList&&e.exitMeasureDefList(this)}accept(e){return e.visitMeasureDefList?e.visitMeasureDefList(this):e.visitChildren(this)}};Nt.MeasureDefListContext=QM;var o5=class extends Sr.ParserRuleContext{fieldNameDef(){return this.getRuleContext(0,GM)}IS(){return this.getToken(S.IS,0)}fieldExpr(){return this.getRuleContext(0,ri)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_fieldDef}enterRule(e){e.enterFieldDef&&e.enterFieldDef(this)}exitRule(e){e.exitFieldDef&&e.exitFieldDef(this)}accept(e){return e.visitFieldDef?e.visitFieldDef(this):e.visitChildren(this)}};Nt.FieldDefContext=o5;var GM=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_fieldNameDef}enterRule(e){e.enterFieldNameDef&&e.enterFieldNameDef(this)}exitRule(e){e.exitFieldNameDef&&e.exitFieldNameDef(this)}accept(e){return e.visitFieldNameDef?e.visitFieldNameDef(this):e.visitChildren(this)}};Nt.FieldNameDefContext=GM;var JT=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_joinNameDef}enterRule(e){e.enterJoinNameDef&&e.enterJoinNameDef(this)}exitRule(e){e.exitJoinNameDef&&e.exitJoinNameDef(this)}accept(e){return e.visitJoinNameDef?e.visitJoinNameDef(this):e.visitChildren(this)}};Nt.JoinNameDefContext=JT;var XT=class extends Sr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,o5)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_measureDef}enterRule(e){e.enterMeasureDef&&e.enterMeasureDef(this)}exitRule(e){e.exitMeasureDef&&e.exitMeasureDef(this)}accept(e){return e.visitMeasureDef?e.visitMeasureDef(this):e.visitChildren(this)}};Nt.MeasureDefContext=XT;var ZT=class extends Sr.ParserRuleContext{DECLARE(){return this.getToken(S.DECLARE,0)}fieldDef(e){return e===void 0?this.getRuleContexts(o5):this.getRuleContext(e,o5)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_declareStatement}enterRule(e){e.enterDeclareStatement&&e.enterDeclareStatement(this)}exitRule(e){e.exitDeclareStatement&&e.exitDeclareStatement(this)}accept(e){return e.visitDeclareStatement?e.visitDeclareStatement(this):e.visitChildren(this)}};Nt.DeclareStatementContext=ZT;var a5=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_joinStatement}copyFrom(e){super.copyFrom(e)}};Nt.JoinStatementContext=a5;var mte=class extends a5{JOIN_ONE(){return this.getToken(S.JOIN_ONE,0)}joinList(){return this.getRuleContext(0,k7)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinOne&&e.enterDefJoinOne(this)}exitRule(e){e.exitDefJoinOne&&e.exitDefJoinOne(this)}accept(e){return e.visitDefJoinOne?e.visitDefJoinOne(this):e.visitChildren(this)}};Nt.DefJoinOneContext=mte;var xte=class extends a5{JOIN_MANY(){return this.getToken(S.JOIN_MANY,0)}joinList(){return this.getRuleContext(0,k7)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinMany&&e.enterDefJoinMany(this)}exitRule(e){e.exitDefJoinMany&&e.exitDefJoinMany(this)}accept(e){return e.visitDefJoinMany?e.visitDefJoinMany(this):e.visitChildren(this)}};Nt.DefJoinManyContext=xte;var gte=class extends a5{JOIN_CROSS(){return this.getToken(S.JOIN_CROSS,0)}joinList(){return this.getRuleContext(0,k7)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinCross&&e.enterDefJoinCross(this)}exitRule(e){e.exitDefJoinCross&&e.exitDefJoinCross(this)}accept(e){return e.visitDefJoinCross?e.visitDefJoinCross(this):e.visitChildren(this)}};Nt.DefJoinCrossContext=gte;var k7=class extends Sr.ParserRuleContext{joinDef(e){return e===void 0?this.getRuleContexts(s_):this.getRuleContext(e,s_)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_joinList}enterRule(e){e.enterJoinList&&e.enterJoinList(this)}exitRule(e){e.exitJoinList&&e.exitJoinList(this)}accept(e){return e.visitJoinList?e.visitJoinList(this):e.visitChildren(this)}};Nt.JoinListContext=k7;var s_=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_joinDef}copyFrom(e){super.copyFrom(e)}};Nt.JoinDefContext=s_;var yte=class extends s_{joinNameDef(){return this.getRuleContext(0,JT)}WITH(){return this.getToken(S.WITH,0)}fieldExpr(){return this.getRuleContext(0,ri)}IS(){return this.tryGetToken(S.IS,0)}explore(){return this.tryGetRuleContext(0,i_)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinWith&&e.enterJoinWith(this)}exitRule(e){e.exitJoinWith&&e.exitJoinWith(this)}accept(e){return e.visitJoinWith?e.visitJoinWith(this):e.visitChildren(this)}};Nt.JoinWithContext=yte;var vte=class extends s_{joinNameDef(){return this.getRuleContext(0,JT)}IS(){return this.tryGetToken(S.IS,0)}explore(){return this.tryGetRuleContext(0,i_)}ON(){return this.tryGetToken(S.ON,0)}joinExpression(){return this.tryGetRuleContext(0,YM)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinOn&&e.enterJoinOn(this)}exitRule(e){e.exitJoinOn&&e.exitJoinOn(this)}accept(e){return e.visitJoinOn?e.visitJoinOn(this):e.visitChildren(this)}};Nt.JoinOnContext=vte;var YM=class extends Sr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,ri)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_joinExpression}enterRule(e){e.enterJoinExpression&&e.enterJoinExpression(this)}exitRule(e){e.exitJoinExpression&&e.exitJoinExpression(this)}accept(e){return e.visitJoinExpression?e.visitJoinExpression(this):e.visitChildren(this)}};Nt.JoinExpressionContext=YM;var _te=class extends Sr.ParserRuleContext{whereStatement(){return this.tryGetRuleContext(0,o_)}havingStatement(){return this.tryGetRuleContext(0,tF)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_filterStatement}enterRule(e){e.enterFilterStatement&&e.enterFilterStatement(this)}exitRule(e){e.exitFilterStatement&&e.exitFilterStatement(this)}accept(e){return e.visitFilterStatement?e.visitFilterStatement(this):e.visitChildren(this)}};Nt.FilterStatementContext=_te;var I7=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_filteredBy}copyFrom(e){super.copyFrom(e)}};Nt.FilteredByContext=I7;var bte=class extends I7{QMARK(){return this.getToken(S.QMARK,0)}fieldExpr(){return this.getRuleContext(0,ri)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByShortcut&&e.enterFilterByShortcut(this)}exitRule(e){e.exitFilterByShortcut&&e.exitFilterByShortcut(this)}accept(e){return e.visitFilterByShortcut?e.visitFilterByShortcut(this):e.visitChildren(this)}};Nt.FilterByShortcutContext=bte;var Ete=class extends I7{whereStatement(){return this.getRuleContext(0,o_)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByWhere&&e.enterFilterByWhere(this)}exitRule(e){e.exitFilterByWhere&&e.exitFilterByWhere(this)}accept(e){return e.visitFilterByWhere?e.visitFilterByWhere(this):e.visitChildren(this)}};Nt.FilterByWhereContext=Ete;var eF=class extends Sr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_filterClauseList}enterRule(e){e.enterFilterClauseList&&e.enterFilterClauseList(this)}exitRule(e){e.exitFilterClauseList&&e.exitFilterClauseList(this)}accept(e){return e.visitFilterClauseList?e.visitFilterClauseList(this):e.visitChildren(this)}};Nt.FilterClauseListContext=eF;var o_=class extends Sr.ParserRuleContext{WHERE(){return this.getToken(S.WHERE,0)}filterClauseList(){return this.getRuleContext(0,eF)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_whereStatement}enterRule(e){e.enterWhereStatement&&e.enterWhereStatement(this)}exitRule(e){e.exitWhereStatement&&e.exitWhereStatement(this)}accept(e){return e.visitWhereStatement?e.visitWhereStatement(this):e.visitChildren(this)}};Nt.WhereStatementContext=o_;var tF=class extends Sr.ParserRuleContext{HAVING(){return this.getToken(S.HAVING,0)}filterClauseList(){return this.getRuleContext(0,eF)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_havingStatement}enterRule(e){e.enterHavingStatement&&e.enterHavingStatement(this)}exitRule(e){e.exitHavingStatement&&e.exitHavingStatement(this)}accept(e){return e.visitHavingStatement?e.visitHavingStatement(this):e.visitChildren(this)}};Nt.HavingStatementContext=tF;var KM=class extends Sr.ParserRuleContext{exploreQueryDef(e){return e===void 0?this.getRuleContexts(nF):this.getRuleContext(e,nF)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_subQueryDefList}enterRule(e){e.enterSubQueryDefList&&e.enterSubQueryDefList(this)}exitRule(e){e.exitSubQueryDefList&&e.exitSubQueryDefList(this)}accept(e){return e.visitSubQueryDefList?e.visitSubQueryDefList(this):e.visitChildren(this)}};Nt.SubQueryDefListContext=KM;var JM=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreQueryNameDef}enterRule(e){e.enterExploreQueryNameDef&&e.enterExploreQueryNameDef(this)}exitRule(e){e.exitExploreQueryNameDef&&e.exitExploreQueryNameDef(this)}accept(e){return e.visitExploreQueryNameDef?e.visitExploreQueryNameDef(this):e.visitChildren(this)}};Nt.ExploreQueryNameDefContext=JM;var nF=class extends Sr.ParserRuleContext{exploreQueryNameDef(){return this.getRuleContext(0,JM)}IS(){return this.getToken(S.IS,0)}pipelineFromName(){return this.getRuleContext(0,L7)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_exploreQueryDef}enterRule(e){e.enterExploreQueryDef&&e.enterExploreQueryDef(this)}exitRule(e){e.exitExploreQueryDef&&e.exitExploreQueryDef(this)}accept(e){return e.visitExploreQueryDef?e.visitExploreQueryDef(this):e.visitChildren(this)}};Nt.ExploreQueryDefContext=nF;var rF=class extends Sr.ParserRuleContext{groupByStatement(){return this.tryGetRuleContext(0,XM)}declareStatement(){return this.tryGetRuleContext(0,ZT)}joinStatement(){return this.tryGetRuleContext(0,a5)}projectStatement(){return this.tryGetRuleContext(0,nP)}indexStatement(){return this.tryGetRuleContext(0,lP)}aggregateStatement(){return this.tryGetRuleContext(0,tP)}topStatement(){return this.tryGetRuleContext(0,aP)}limitStatement(){return this.tryGetRuleContext(0,sP)}orderByStatement(){return this.tryGetRuleContext(0,rP)}whereStatement(){return this.tryGetRuleContext(0,o_)}havingStatement(){return this.tryGetRuleContext(0,tF)}nestStatement(){return this.tryGetRuleContext(0,ZM)}sampleStatement(){return this.tryGetRuleContext(0,cP)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_queryStatement}enterRule(e){e.enterQueryStatement&&e.enterQueryStatement(this)}exitRule(e){e.exitQueryStatement&&e.exitQueryStatement(this)}accept(e){return e.visitQueryStatement?e.visitQueryStatement(this):e.visitChildren(this)}};Nt.QueryStatementContext=rF;var XM=class extends Sr.ParserRuleContext{GROUP_BY(){return this.getToken(S.GROUP_BY,0)}queryFieldList(){return this.getRuleContext(0,iF)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_groupByStatement}enterRule(e){e.enterGroupByStatement&&e.enterGroupByStatement(this)}exitRule(e){e.exitGroupByStatement&&e.exitGroupByStatement(this)}accept(e){return e.visitGroupByStatement?e.visitGroupByStatement(this):e.visitChildren(this)}};Nt.GroupByStatementContext=XM;var iF=class extends Sr.ParserRuleContext{queryFieldEntry(e){return e===void 0?this.getRuleContexts(a_):this.getRuleContext(e,a_)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_queryFieldList}enterRule(e){e.enterQueryFieldList&&e.enterQueryFieldList(this)}exitRule(e){e.exitQueryFieldList&&e.exitQueryFieldList(this)}accept(e){return e.visitQueryFieldList?e.visitQueryFieldList(this):e.visitChildren(this)}};Nt.QueryFieldListContext=iF;var M7=class extends Sr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,o5)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_dimensionDef}enterRule(e){e.enterDimensionDef&&e.enterDimensionDef(this)}exitRule(e){e.exitDimensionDef&&e.exitDimensionDef(this)}accept(e){return e.visitDimensionDef?e.visitDimensionDef(this):e.visitChildren(this)}};Nt.DimensionDefContext=M7;var a_=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_queryFieldEntry}copyFrom(e){super.copyFrom(e)}};Nt.QueryFieldEntryContext=a_;var Ste=class extends a_{fieldPath(){return this.getRuleContext(0,Bx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldRef&&e.enterQueryFieldRef(this)}exitRule(e){e.exitQueryFieldRef&&e.exitQueryFieldRef(this)}accept(e){return e.visitQueryFieldRef?e.visitQueryFieldRef(this):e.visitChildren(this)}};Nt.QueryFieldRefContext=Ste;var Cte=class extends a_{dimensionDef(){return this.getRuleContext(0,M7)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldDef&&e.enterQueryFieldDef(this)}exitRule(e){e.exitQueryFieldDef&&e.exitQueryFieldDef(this)}accept(e){return e.visitQueryFieldDef?e.visitQueryFieldDef(this):e.visitChildren(this)}};Nt.QueryFieldDefContext=Cte;var ZM=class extends Sr.ParserRuleContext{NEST(){return this.getToken(S.NEST,0)}nestedQueryList(){return this.getRuleContext(0,eP)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_nestStatement}enterRule(e){e.enterNestStatement&&e.enterNestStatement(this)}exitRule(e){e.exitNestStatement&&e.exitNestStatement(this)}accept(e){return e.visitNestStatement?e.visitNestStatement(this):e.visitChildren(this)}};Nt.NestStatementContext=ZM;var eP=class extends Sr.ParserRuleContext{nestEntry(e){return e===void 0?this.getRuleContexts(u_):this.getRuleContext(e,u_)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_nestedQueryList}enterRule(e){e.enterNestedQueryList&&e.enterNestedQueryList(this)}exitRule(e){e.exitNestedQueryList&&e.exitNestedQueryList(this)}accept(e){return e.visitNestedQueryList?e.visitNestedQueryList(this):e.visitChildren(this)}};Nt.NestedQueryListContext=eP;var u_=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_nestEntry}copyFrom(e){super.copyFrom(e)}};Nt.NestEntryContext=u_;var wte=class extends u_{queryName(){return this.getRuleContext(0,r_)}queryProperties(){return this.tryGetRuleContext(0,n_)}refineOperator(){return this.tryGetRuleContext(0,e_)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestExisting&&e.enterNestExisting(this)}exitRule(e){e.exitNestExisting&&e.exitNestExisting(this)}accept(e){return e.visitNestExisting?e.visitNestExisting(this):e.visitChildren(this)}};Nt.NestExistingContext=wte;var Ate=class extends u_{queryName(){return this.getRuleContext(0,r_)}IS(){return this.getToken(S.IS,0)}pipelineFromName(){return this.getRuleContext(0,L7)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestDef&&e.enterNestDef(this)}exitRule(e){e.exitNestDef&&e.exitNestDef(this)}accept(e){return e.visitNestDef?e.visitNestDef(this):e.visitChildren(this)}};Nt.NestDefContext=Ate;var tP=class extends Sr.ParserRuleContext{AGGREGATE(){return this.getToken(S.AGGREGATE,0)}queryFieldList(){return this.getRuleContext(0,iF)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_aggregateStatement}enterRule(e){e.enterAggregateStatement&&e.enterAggregateStatement(this)}exitRule(e){e.exitAggregateStatement&&e.exitAggregateStatement(this)}accept(e){return e.visitAggregateStatement?e.visitAggregateStatement(this):e.visitChildren(this)}};Nt.AggregateStatementContext=tP;var nP=class extends Sr.ParserRuleContext{PROJECT(){return this.getToken(S.PROJECT,0)}fieldCollection(){return this.getRuleContext(0,yP)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_projectStatement}enterRule(e){e.enterProjectStatement&&e.enterProjectStatement(this)}exitRule(e){e.exitProjectStatement&&e.exitProjectStatement(this)}accept(e){return e.visitProjectStatement?e.visitProjectStatement(this):e.visitChildren(this)}};Nt.ProjectStatementContext=nP;var rP=class extends Sr.ParserRuleContext{ORDER_BY(){return this.getToken(S.ORDER_BY,0)}ordering(){return this.getRuleContext(0,iP)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_orderByStatement}enterRule(e){e.enterOrderByStatement&&e.enterOrderByStatement(this)}exitRule(e){e.exitOrderByStatement&&e.exitOrderByStatement(this)}accept(e){return e.visitOrderByStatement?e.visitOrderByStatement(this):e.visitChildren(this)}};Nt.OrderByStatementContext=rP;var iP=class extends Sr.ParserRuleContext{orderBySpec(e){return e===void 0?this.getRuleContexts(sF):this.getRuleContext(e,sF)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_ordering}enterRule(e){e.enterOrdering&&e.enterOrdering(this)}exitRule(e){e.exitOrdering&&e.exitOrdering(this)}accept(e){return e.visitOrdering?e.visitOrdering(this):e.visitChildren(this)}};Nt.OrderingContext=iP;var sF=class extends Sr.ParserRuleContext{INTEGER_LITERAL(){return this.tryGetToken(S.INTEGER_LITERAL,0)}fieldName(){return this.tryGetRuleContext(0,Vf)}ASC(){return this.tryGetToken(S.ASC,0)}DESC(){return this.tryGetToken(S.DESC,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_orderBySpec}enterRule(e){e.enterOrderBySpec&&e.enterOrderBySpec(this)}exitRule(e){e.exitOrderBySpec&&e.exitOrderBySpec(this)}accept(e){return e.visitOrderBySpec?e.visitOrderBySpec(this):e.visitChildren(this)}};Nt.OrderBySpecContext=sF;var sP=class extends Sr.ParserRuleContext{LIMIT(){return this.getToken(S.LIMIT,0)}INTEGER_LITERAL(){return this.getToken(S.INTEGER_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_limitStatement}enterRule(e){e.enterLimitStatement&&e.enterLimitStatement(this)}exitRule(e){e.exitLimitStatement&&e.exitLimitStatement(this)}accept(e){return e.visitLimitStatement?e.visitLimitStatement(this):e.visitChildren(this)}};Nt.LimitStatementContext=sP;var oP=class extends Sr.ParserRuleContext{BY(){return this.getToken(S.BY,0)}fieldName(){return this.tryGetRuleContext(0,Vf)}fieldExpr(){return this.tryGetRuleContext(0,ri)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_bySpec}enterRule(e){e.enterBySpec&&e.enterBySpec(this)}exitRule(e){e.exitBySpec&&e.exitBySpec(this)}accept(e){return e.visitBySpec?e.visitBySpec(this):e.visitChildren(this)}};Nt.BySpecContext=oP;var aP=class extends Sr.ParserRuleContext{TOP(){return this.getToken(S.TOP,0)}INTEGER_LITERAL(){return this.getToken(S.INTEGER_LITERAL,0)}bySpec(){return this.tryGetRuleContext(0,oP)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_topStatement}enterRule(e){e.enterTopStatement&&e.enterTopStatement(this)}exitRule(e){e.exitTopStatement&&e.exitTopStatement(this)}accept(e){return e.visitTopStatement?e.visitTopStatement(this):e.visitChildren(this)}};Nt.TopStatementContext=aP;var oF=class extends Sr.ParserRuleContext{fieldPath(){return this.tryGetRuleContext(0,Bx)}DOT(){return this.tryGetToken(S.DOT,0)}STAR(){return this.tryGetToken(S.STAR,0)}STARSTAR(){return this.tryGetToken(S.STARSTAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_indexElement}enterRule(e){e.enterIndexElement&&e.enterIndexElement(this)}exitRule(e){e.exitIndexElement&&e.exitIndexElement(this)}accept(e){return e.visitIndexElement?e.visitIndexElement(this):e.visitChildren(this)}};Nt.IndexElementContext=oF;var uP=class extends Sr.ParserRuleContext{indexElement(e){return e===void 0?this.getRuleContexts(oF):this.getRuleContext(e,oF)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_indexFields}enterRule(e){e.enterIndexFields&&e.enterIndexFields(this)}exitRule(e){e.exitIndexFields&&e.exitIndexFields(this)}accept(e){return e.visitIndexFields?e.visitIndexFields(this):e.visitChildren(this)}};Nt.IndexFieldsContext=uP;var lP=class extends Sr.ParserRuleContext{INDEX(){return this.getToken(S.INDEX,0)}indexFields(){return this.getRuleContext(0,uP)}BY(){return this.tryGetToken(S.BY,0)}fieldName(){return this.tryGetRuleContext(0,Vf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_indexStatement}enterRule(e){e.enterIndexStatement&&e.enterIndexStatement(this)}exitRule(e){e.exitIndexStatement&&e.exitIndexStatement(this)}accept(e){return e.visitIndexStatement?e.visitIndexStatement(this):e.visitChildren(this)}};Nt.IndexStatementContext=lP;var cP=class extends Sr.ParserRuleContext{SAMPLE(){return this.getToken(S.SAMPLE,0)}sampleSpec(){return this.getRuleContext(0,fP)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sampleStatement}enterRule(e){e.enterSampleStatement&&e.enterSampleStatement(this)}exitRule(e){e.exitSampleStatement&&e.exitSampleStatement(this)}accept(e){return e.visitSampleStatement?e.visitSampleStatement(this):e.visitChildren(this)}};Nt.SampleStatementContext=cP;var fP=class extends Sr.ParserRuleContext{PERCENT_LITERAL(){return this.tryGetToken(S.PERCENT_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(S.INTEGER_LITERAL,0)}TRUE(){return this.tryGetToken(S.TRUE,0)}FALSE(){return this.tryGetToken(S.FALSE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sampleSpec}enterRule(e){e.enterSampleSpec&&e.enterSampleSpec(this)}exitRule(e){e.exitSampleSpec&&e.exitSampleSpec(this)}accept(e){return e.visitSampleSpec?e.visitSampleSpec(this):e.visitChildren(this)}};Nt.SampleSpecContext=fP;var dP=class extends Sr.ParserRuleContext{SUM(){return this.tryGetToken(S.SUM,0)}COUNT(){return this.tryGetToken(S.COUNT,0)}AVG(){return this.tryGetToken(S.AVG,0)}MIN(){return this.tryGetToken(S.MIN,0)}MAX(){return this.tryGetToken(S.MAX,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_aggregate}enterRule(e){e.enterAggregate&&e.enterAggregate(this)}exitRule(e){e.exitAggregate&&e.exitAggregate(this)}accept(e){return e.visitAggregate?e.visitAggregate(this):e.visitChildren(this)}};Nt.AggregateContext=dP;var aF=class extends Sr.ParserRuleContext{STRING(){return this.tryGetToken(S.STRING,0)}NUMBER(){return this.tryGetToken(S.NUMBER,0)}BOOLEAN(){return this.tryGetToken(S.BOOLEAN,0)}DATE(){return this.tryGetToken(S.DATE,0)}TIMESTAMP(){return this.tryGetToken(S.TIMESTAMP,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_malloyType}enterRule(e){e.enterMalloyType&&e.enterMalloyType(this)}exitRule(e){e.exitMalloyType&&e.exitMalloyType(this)}accept(e){return e.visitMalloyType?e.visitMalloyType(this):e.visitChildren(this)}};Nt.MalloyTypeContext=aF;var uF=class extends Sr.ParserRuleContext{MATCH(){return this.tryGetToken(S.MATCH,0)}NOT_MATCH(){return this.tryGetToken(S.NOT_MATCH,0)}GT(){return this.tryGetToken(S.GT,0)}LT(){return this.tryGetToken(S.LT,0)}GTE(){return this.tryGetToken(S.GTE,0)}LTE(){return this.tryGetToken(S.LTE,0)}EQ(){return this.tryGetToken(S.EQ,0)}NE(){return this.tryGetToken(S.NE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_compareOp}enterRule(e){e.enterCompareOp&&e.enterCompareOp(this)}exitRule(e){e.exitCompareOp&&e.exitCompareOp(this)}accept(e){return e.visitCompareOp?e.visitCompareOp(this):e.visitChildren(this)}};Nt.CompareOpContext=uF;var Ip=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_literal}copyFrom(e){super.copyFrom(e)}};Nt.LiteralContext=Ip;var Tte=class extends Ip{STRING_LITERAL(){return this.getToken(S.STRING_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprString&&e.enterExprString(this)}exitRule(e){e.exitExprString&&e.exitExprString(this)}accept(e){return e.visitExprString?e.visitExprString(this):e.visitChildren(this)}};Nt.ExprStringContext=Tte;var Fte=class extends Ip{NUMERIC_LITERAL(){return this.tryGetToken(S.NUMERIC_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(S.INTEGER_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNumber&&e.enterExprNumber(this)}exitRule(e){e.exitExprNumber&&e.exitExprNumber(this)}accept(e){return e.visitExprNumber?e.visitExprNumber(this):e.visitChildren(this)}};Nt.ExprNumberContext=Fte;var Dte=class extends Ip{dateLiteral(){return this.getRuleContext(0,Em)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTime&&e.enterExprTime(this)}exitRule(e){e.exitExprTime&&e.exitExprTime(this)}accept(e){return e.visitExprTime?e.visitExprTime(this):e.visitChildren(this)}};Nt.ExprTimeContext=Dte;var Ote=class extends Ip{NULL(){return this.getToken(S.NULL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNULL&&e.enterExprNULL(this)}exitRule(e){e.exitExprNULL&&e.exitExprNULL(this)}accept(e){return e.visitExprNULL?e.visitExprNULL(this):e.visitChildren(this)}};Nt.ExprNULLContext=Ote;var Nte=class extends Ip{TRUE(){return this.tryGetToken(S.TRUE,0)}FALSE(){return this.tryGetToken(S.FALSE,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprBool&&e.enterExprBool(this)}exitRule(e){e.exitExprBool&&e.exitExprBool(this)}accept(e){return e.visitExprBool?e.visitExprBool(this):e.visitChildren(this)}};Nt.ExprBoolContext=Nte;var Rte=class extends Ip{HACKY_REGEX(){return this.getToken(S.HACKY_REGEX,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRegex&&e.enterExprRegex(this)}exitRule(e){e.exitExprRegex&&e.exitExprRegex(this)}accept(e){return e.visitExprRegex?e.visitExprRegex(this):e.visitChildren(this)}};Nt.ExprRegexContext=Rte;var Lte=class extends Ip{NOW(){return this.getToken(S.NOW,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNow&&e.enterExprNow(this)}exitRule(e){e.exitExprNow&&e.exitExprNow(this)}accept(e){return e.visitExprNow?e.visitExprNow(this):e.visitChildren(this)}};Nt.ExprNowContext=Lte;var Em=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_dateLiteral}copyFrom(e){super.copyFrom(e)}};Nt.DateLiteralContext=Em;var kte=class extends Em{LITERAL_TIMESTAMP(){return this.getToken(S.LITERAL_TIMESTAMP,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralTimestamp&&e.enterLiteralTimestamp(this)}exitRule(e){e.exitLiteralTimestamp&&e.exitLiteralTimestamp(this)}accept(e){return e.visitLiteralTimestamp?e.visitLiteralTimestamp(this):e.visitChildren(this)}};Nt.LiteralTimestampContext=kte;var Ite=class extends Em{LITERAL_DAY(){return this.getToken(S.LITERAL_DAY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralDay&&e.enterLiteralDay(this)}exitRule(e){e.exitLiteralDay&&e.exitLiteralDay(this)}accept(e){return e.visitLiteralDay?e.visitLiteralDay(this):e.visitChildren(this)}};Nt.LiteralDayContext=Ite;var Mte=class extends Em{LITERAL_WEEK(){return this.getToken(S.LITERAL_WEEK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralWeek&&e.enterLiteralWeek(this)}exitRule(e){e.exitLiteralWeek&&e.exitLiteralWeek(this)}accept(e){return e.visitLiteralWeek?e.visitLiteralWeek(this):e.visitChildren(this)}};Nt.LiteralWeekContext=Mte;var Pte=class extends Em{LITERAL_MONTH(){return this.getToken(S.LITERAL_MONTH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralMonth&&e.enterLiteralMonth(this)}exitRule(e){e.exitLiteralMonth&&e.exitLiteralMonth(this)}accept(e){return e.visitLiteralMonth?e.visitLiteralMonth(this):e.visitChildren(this)}};Nt.LiteralMonthContext=Pte;var Bte=class extends Em{LITERAL_QUARTER(){return this.getToken(S.LITERAL_QUARTER,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralQuarter&&e.enterLiteralQuarter(this)}exitRule(e){e.exitLiteralQuarter&&e.exitLiteralQuarter(this)}accept(e){return e.visitLiteralQuarter?e.visitLiteralQuarter(this):e.visitChildren(this)}};Nt.LiteralQuarterContext=Bte;var jte=class extends Em{LITERAL_YEAR(){return this.getToken(S.LITERAL_YEAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralYear&&e.enterLiteralYear(this)}exitRule(e){e.exitLiteralYear&&e.exitLiteralYear(this)}accept(e){return e.visitLiteralYear?e.visitLiteralYear(this):e.visitChildren(this)}};Nt.LiteralYearContext=jte;var hP=class extends Sr.ParserRuleContext{STRING_LITERAL(){return this.getToken(S.STRING_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_tableName}enterRule(e){e.enterTableName&&e.enterTableName(this)}exitRule(e){e.exitTableName&&e.exitTableName(this)}accept(e){return e.visitTableName?e.visitTableName(this):e.visitChildren(this)}};Nt.TableNameContext=hP;var Hf=class extends Sr.ParserRuleContext{IDENTIFIER(){return this.tryGetToken(S.IDENTIFIER,0)}OBJECT_NAME_LITERAL(){return this.tryGetToken(S.OBJECT_NAME_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_id}enterRule(e){e.enterId&&e.enterId(this)}exitRule(e){e.exitId&&e.exitId(this)}accept(e){return e.visitId?e.visitId(this):e.visitChildren(this)}};Nt.IdContext=Hf;var l_=class extends Sr.ParserRuleContext{SECOND(){return this.tryGetToken(S.SECOND,0)}MINUTE(){return this.tryGetToken(S.MINUTE,0)}HOUR(){return this.tryGetToken(S.HOUR,0)}DAY(){return this.tryGetToken(S.DAY,0)}WEEK(){return this.tryGetToken(S.WEEK,0)}MONTH(){return this.tryGetToken(S.MONTH,0)}QUARTER(){return this.tryGetToken(S.QUARTER,0)}YEAR(){return this.tryGetToken(S.YEAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_timeframe}enterRule(e){e.enterTimeframe&&e.enterTimeframe(this)}exitRule(e){e.exitTimeframe&&e.exitTimeframe(this)}accept(e){return e.visitTimeframe?e.visitTimeframe(this):e.visitChildren(this)}};Nt.TimeframeContext=l_;var pP=class extends Sr.ParserRuleContext{ALL(){return this.tryGetToken(S.ALL,0)}EXCLUDE(){return this.tryGetToken(S.EXCLUDE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_ungroup}enterRule(e){e.enterUngroup&&e.enterUngroup(this)}exitRule(e){e.exitUngroup&&e.exitUngroup(this)}accept(e){return e.visitUngroup?e.visitUngroup(this):e.visitChildren(this)}};Nt.UngroupContext=pP;var ri=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_fieldExpr}copyFrom(e){super.copyFrom(e)}};Nt.FieldExprContext=ri;var qte=class extends ri{fieldPath(){return this.getRuleContext(0,Bx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFieldPath&&e.enterExprFieldPath(this)}exitRule(e){e.exitExprFieldPath&&e.exitExprFieldPath(this)}accept(e){return e.visitExprFieldPath?e.visitExprFieldPath(this):e.visitChildren(this)}};Nt.ExprFieldPathContext=qte;var Ute=class extends ri{fieldExpr(){return this.getRuleContext(0,ri)}OCURLY(){return this.getToken(S.OCURLY,0)}filteredBy(){return this.getRuleContext(0,I7)}CCURLY(){return this.getToken(S.CCURLY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFilter&&e.enterExprFilter(this)}exitRule(e){e.exitExprFilter&&e.exitExprFilter(this)}accept(e){return e.visitExprFilter?e.visitExprFilter(this):e.visitChildren(this)}};Nt.ExprFilterContext=Ute;var $te=class extends ri{literal(){return this.getRuleContext(0,Ip)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLiteral&&e.enterExprLiteral(this)}exitRule(e){e.exitExprLiteral&&e.exitExprLiteral(this)}accept(e){return e.visitExprLiteral?e.visitExprLiteral(this):e.visitChildren(this)}};Nt.ExprLiteralContext=$te;var zte=class extends ri{MINUS(){return this.getToken(S.MINUS,0)}fieldExpr(){return this.getRuleContext(0,ri)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMinus&&e.enterExprMinus(this)}exitRule(e){e.exitExprMinus&&e.exitExprMinus(this)}accept(e){return e.visitExprMinus?e.visitExprMinus(this):e.visitChildren(this)}};Nt.ExprMinusContext=zte;var Hte=class extends ri{fieldExpr(){return this.getRuleContext(0,ri)}timeframe(){return this.getRuleContext(0,l_)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprDuration&&e.enterExprDuration(this)}exitRule(e){e.exitExprDuration&&e.exitExprDuration(this)}accept(e){return e.visitExprDuration?e.visitExprDuration(this):e.visitChildren(this)}};Nt.ExprDurationContext=Hte;var Vte=class extends ri{fieldExpr(){return this.getRuleContext(0,ri)}DOT(){return this.getToken(S.DOT,0)}timeframe(){return this.getRuleContext(0,l_)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTimeTrunc&&e.enterExprTimeTrunc(this)}exitRule(e){e.exitExprTimeTrunc&&e.exitExprTimeTrunc(this)}accept(e){return e.visitExprTimeTrunc?e.visitExprTimeTrunc(this):e.visitChildren(this)}};Nt.ExprTimeTruncContext=Vte;var Wte=class extends ri{fieldExpr(){return this.getRuleContext(0,ri)}DOUBLECOLON(){return this.getToken(S.DOUBLECOLON,0)}malloyType(){return this.getRuleContext(0,aF)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprSafeCast&&e.enterExprSafeCast(this)}exitRule(e){e.exitExprSafeCast&&e.exitExprSafeCast(this)}accept(e){return e.visitExprSafeCast?e.visitExprSafeCast(this):e.visitChildren(this)}};Nt.ExprSafeCastContext=Wte;var Qte=class extends ri{fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}STAR(){return this.tryGetToken(S.STAR,0)}SLASH(){return this.tryGetToken(S.SLASH,0)}PERCENT(){return this.tryGetToken(S.PERCENT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMulDiv&&e.enterExprMulDiv(this)}exitRule(e){e.exitExprMulDiv&&e.exitExprMulDiv(this)}accept(e){return e.visitExprMulDiv?e.visitExprMulDiv(this):e.visitChildren(this)}};Nt.ExprMulDivContext=Qte;var Gte=class extends ri{fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}PLUS(){return this.tryGetToken(S.PLUS,0)}MINUS(){return this.tryGetToken(S.MINUS,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAddSub&&e.enterExprAddSub(this)}exitRule(e){e.exitExprAddSub&&e.exitExprAddSub(this)}accept(e){return e.visitExprAddSub?e.visitExprAddSub(this):e.visitChildren(this)}};Nt.ExprAddSubContext=Gte;var Yte=class extends ri{fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}TO(){return this.getToken(S.TO,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRange&&e.enterExprRange(this)}exitRule(e){e.exitExprRange&&e.exitExprRange(this)}accept(e){return e.visitExprRange?e.visitExprRange(this):e.visitChildren(this)}};Nt.ExprRangeContext=Yte;var Kte=class extends ri{constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}FOR(){return this.getToken(S.FOR,0)}timeframe(){return this.getRuleContext(0,l_)}fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}enterRule(e){e.enterExprForRange&&e.enterExprForRange(this)}exitRule(e){e.exitExprForRange&&e.exitExprForRange(this)}accept(e){return e.visitExprForRange?e.visitExprForRange(this):e.visitChildren(this)}};Nt.ExprForRangeContext=Kte;var Jte=class extends ri{fieldExpr(){return this.getRuleContext(0,ri)}partialAllowedFieldExpr(){return this.getRuleContext(0,c_)}AMPER(){return this.tryGetToken(S.AMPER,0)}BAR(){return this.tryGetToken(S.BAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogicalTree&&e.enterExprLogicalTree(this)}exitRule(e){e.exitExprLogicalTree&&e.exitExprLogicalTree(this)}accept(e){return e.visitExprLogicalTree?e.visitExprLogicalTree(this):e.visitChildren(this)}};Nt.ExprLogicalTreeContext=Jte;var Xte=class extends ri{fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}compareOp(){return this.getRuleContext(0,uF)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCompare&&e.enterExprCompare(this)}exitRule(e){e.exitExprCompare&&e.exitExprCompare(this)}accept(e){return e.visitExprCompare?e.visitExprCompare(this):e.visitChildren(this)}};Nt.ExprCompareContext=Xte;var Zte=class extends ri{fieldExpr(){return this.getRuleContext(0,ri)}partialAllowedFieldExpr(){return this.getRuleContext(0,c_)}COLON(){return this.tryGetToken(S.COLON,0)}QMARK(){return this.tryGetToken(S.QMARK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprApply&&e.enterExprApply(this)}exitRule(e){e.exitExprApply&&e.exitExprApply(this)}accept(e){return e.visitExprApply?e.visitExprApply(this):e.visitChildren(this)}};Nt.ExprApplyContext=Zte;var ene=class extends ri{NOT(){return this.getToken(S.NOT,0)}fieldExpr(){return this.getRuleContext(0,ri)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNot&&e.enterExprNot(this)}exitRule(e){e.exitExprNot&&e.exitExprNot(this)}accept(e){return e.visitExprNot?e.visitExprNot(this):e.visitChildren(this)}};Nt.ExprNotContext=ene;var tne=class extends ri{fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}AND(){return this.tryGetToken(S.AND,0)}OR(){return this.tryGetToken(S.OR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogical&&e.enterExprLogical(this)}exitRule(e){e.exitExprLogical&&e.exitExprLogical(this)}accept(e){return e.visitExprLogical?e.visitExprLogical(this):e.visitChildren(this)}};Nt.ExprLogicalContext=tne;var nne=class extends ri{CAST(){return this.getToken(S.CAST,0)}OPAREN(){return this.getToken(S.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,ri)}AS(){return this.getToken(S.AS,0)}malloyType(){return this.getRuleContext(0,aF)}CPAREN(){return this.getToken(S.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCast&&e.enterExprCast(this)}exitRule(e){e.exitExprCast&&e.exitExprCast(this)}accept(e){return e.visitExprCast?e.visitExprCast(this):e.visitChildren(this)}};Nt.ExprCastContext=nne;var rne=class extends ri{COUNT(){return this.getToken(S.COUNT,0)}OPAREN(){return this.getToken(S.OPAREN,0)}DISTINCT(){return this.getToken(S.DISTINCT,0)}fieldExpr(){return this.getRuleContext(0,ri)}CPAREN(){return this.getToken(S.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCountDisinct&&e.enterExprCountDisinct(this)}exitRule(e){e.exitExprCountDisinct&&e.exitExprCountDisinct(this)}accept(e){return e.visitExprCountDisinct?e.visitExprCountDisinct(this):e.visitChildren(this)}};Nt.ExprCountDisinctContext=rne;var ine=class extends ri{aggregate(){return this.getRuleContext(0,dP)}OPAREN(){return this.getToken(S.OPAREN,0)}CPAREN(){return this.getToken(S.CPAREN,0)}fieldPath(){return this.tryGetRuleContext(0,Bx)}DOT(){return this.tryGetToken(S.DOT,0)}fieldExpr(){return this.tryGetRuleContext(0,ri)}STAR(){return this.tryGetToken(S.STAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAggregate&&e.enterExprAggregate(this)}exitRule(e){e.exitExprAggregate&&e.exitExprAggregate(this)}accept(e){return e.visitExprAggregate?e.visitExprAggregate(this):e.visitChildren(this)}};Nt.ExprAggregateContext=ine;var sne=class extends ri{OPAREN(){return this.getToken(S.OPAREN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,c_)}CPAREN(){return this.getToken(S.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprExpr&&e.enterExprExpr(this)}exitRule(e){e.exitExprExpr&&e.exitExprExpr(this)}accept(e){return e.visitExprExpr?e.visitExprExpr(this):e.visitChildren(this)}};Nt.ExprExprContext=sne;var one=class extends ri{OPAREN(){return this.getToken(S.OPAREN,0)}CPAREN(){return this.getToken(S.CPAREN,0)}id(){return this.tryGetRuleContext(0,Hf)}timeframe(){return this.tryGetRuleContext(0,l_)}argumentList(){return this.tryGetRuleContext(0,xP)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFunc&&e.enterExprFunc(this)}exitRule(e){e.exitExprFunc&&e.exitExprFunc(this)}accept(e){return e.visitExprFunc?e.visitExprFunc(this):e.visitChildren(this)}};Nt.ExprFuncContext=one;var ane=class extends ri{pickStatement(){return this.getRuleContext(0,mP)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPick&&e.enterExprPick(this)}exitRule(e){e.exitExprPick&&e.exitExprPick(this)}accept(e){return e.visitExprPick?e.visitExprPick(this):e.visitChildren(this)}};Nt.ExprPickContext=ane;var une=class extends ri{ungroup(){return this.getRuleContext(0,pP)}OPAREN(){return this.getToken(S.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,ri)}CPAREN(){return this.getToken(S.CPAREN,0)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}fieldName(e){return e===void 0?this.getRuleContexts(Vf):this.getRuleContext(e,Vf)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprUngroup&&e.enterExprUngroup(this)}exitRule(e){e.exitExprUngroup&&e.exitExprUngroup(this)}accept(e){return e.visitExprUngroup?e.visitExprUngroup(this):e.visitChildren(this)}};Nt.ExprUngroupContext=une;var c_=class extends Sr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,ri)}compareOp(){return this.tryGetRuleContext(0,uF)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_partialAllowedFieldExpr}enterRule(e){e.enterPartialAllowedFieldExpr&&e.enterPartialAllowedFieldExpr(this)}exitRule(e){e.exitPartialAllowedFieldExpr&&e.exitPartialAllowedFieldExpr(this)}accept(e){return e.visitPartialAllowedFieldExpr?e.visitPartialAllowedFieldExpr(this):e.visitChildren(this)}};Nt.PartialAllowedFieldExprContext=c_;var mP=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}pick(e){return e===void 0?this.getRuleContexts(lF):this.getRuleContext(e,lF)}ELSE(){return this.tryGetToken(S.ELSE,0)}fieldExpr(){return this.tryGetRuleContext(0,ri)}get ruleIndex(){return S.RULE_pickStatement}enterRule(e){e.enterPickStatement&&e.enterPickStatement(this)}exitRule(e){e.exitPickStatement&&e.exitPickStatement(this)}accept(e){return e.visitPickStatement?e.visitPickStatement(this):e.visitChildren(this)}};Nt.PickStatementContext=mP;var lF=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}PICK(){return this.getToken(S.PICK,0)}WHEN(){return this.getToken(S.WHEN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,c_)}fieldExpr(){return this.tryGetRuleContext(0,ri)}get ruleIndex(){return S.RULE_pick}enterRule(e){e.enterPick&&e.enterPick(this)}exitRule(e){e.exitPick&&e.exitPick(this)}accept(e){return e.visitPick?e.visitPick(this):e.visitChildren(this)}};Nt.PickContext=lF;var xP=class extends Sr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(ri):this.getRuleContext(e,ri)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_argumentList}enterRule(e){e.enterArgumentList&&e.enterArgumentList(this)}exitRule(e){e.exitArgumentList&&e.exitArgumentList(this)}accept(e){return e.visitArgumentList?e.visitArgumentList(this):e.visitChildren(this)}};Nt.ArgumentListContext=xP;var gP=class extends Sr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Vf):this.getRuleContext(e,Vf)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_fieldNameList}enterRule(e){e.enterFieldNameList&&e.enterFieldNameList(this)}exitRule(e){e.exitFieldNameList&&e.exitFieldNameList(this)}accept(e){return e.visitFieldNameList?e.visitFieldNameList(this):e.visitChildren(this)}};Nt.FieldNameListContext=gP;var yP=class extends Sr.ParserRuleContext{collectionMember(e){return e===void 0?this.getRuleContexts(u5):this.getRuleContext(e,u5)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_fieldCollection}enterRule(e){e.enterFieldCollection&&e.enterFieldCollection(this)}exitRule(e){e.exitFieldCollection&&e.exitFieldCollection(this)}accept(e){return e.visitFieldCollection?e.visitFieldCollection(this):e.visitChildren(this)}};Nt.FieldCollectionContext=yP;var u5=class extends Sr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_collectionMember}copyFrom(e){super.copyFrom(e)}};Nt.CollectionMemberContext=u5;var lne=class extends u5{fieldPath(){return this.getRuleContext(0,Bx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNameMember&&e.enterNameMember(this)}exitRule(e){e.exitNameMember&&e.exitNameMember(this)}accept(e){return e.visitNameMember?e.visitNameMember(this):e.visitChildren(this)}};Nt.NameMemberContext=lne;var cne=class extends u5{STAR(){return this.tryGetToken(S.STAR,0)}STARSTAR(){return this.tryGetToken(S.STARSTAR,0)}fieldPath(){return this.tryGetRuleContext(0,Bx)}DOT(){return this.tryGetToken(S.DOT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterWildMember&&e.enterWildMember(this)}exitRule(e){e.exitWildMember&&e.exitWildMember(this)}accept(e){return e.visitWildMember?e.visitWildMember(this):e.visitChildren(this)}};Nt.WildMemberContext=cne;var fne=class extends u5{fieldDef(){return this.getRuleContext(0,o5)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNewMember&&e.enterNewMember(this)}exitRule(e){e.exitNewMember&&e.exitNewMember(this)}accept(e){return e.visitNewMember?e.visitNewMember(this):e.visitChildren(this)}};Nt.NewMemberContext=fne;var Bx=class extends Sr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Vf):this.getRuleContext(e,Vf)}DOT(e){return e===void 0?this.getTokens(S.DOT):this.getToken(S.DOT,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_fieldPath}enterRule(e){e.enterFieldPath&&e.enterFieldPath(this)}exitRule(e){e.exitFieldPath&&e.exitFieldPath(this)}accept(e){return e.visitFieldPath?e.visitFieldPath(this):e.visitChildren(this)}};Nt.FieldPathContext=Bx;var dne=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_joinName}enterRule(e){e.enterJoinName&&e.enterJoinName(this)}exitRule(e){e.exitJoinName&&e.exitJoinName(this)}accept(e){return e.visitJoinName?e.visitJoinName(this):e.visitChildren(this)}};Nt.JoinNameContext=dne;var Vf=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_fieldName}enterRule(e){e.enterFieldName&&e.enterFieldName(this)}exitRule(e){e.exitFieldName&&e.exitFieldName(this)}accept(e){return e.visitFieldName?e.visitFieldName(this):e.visitChildren(this)}};Nt.FieldNameContext=Vf;var hne=class extends Sr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,ri)}EOF(){return this.getToken(S.EOF,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_justExpr}enterRule(e){e.enterJustExpr&&e.enterJustExpr(this)}exitRule(e){e.exitJustExpr&&e.exitJustExpr(this)}accept(e){return e.visitJustExpr?e.visitJustExpr(this):e.visitChildren(this)}};Nt.JustExprContext=hne;var pne=class extends Sr.ParserRuleContext{jsonValue(){return this.getRuleContext(0,f_)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_json}enterRule(e){e.enterJson&&e.enterJson(this)}exitRule(e){e.exitJson&&e.exitJson(this)}accept(e){return e.visitJson?e.visitJson(this):e.visitChildren(this)}};Nt.JsonContext=pne;var f_=class extends Sr.ParserRuleContext{JSON_STRING(){return this.tryGetToken(S.JSON_STRING,0)}INTEGER_LITERAL(){return this.tryGetToken(S.INTEGER_LITERAL,0)}NUMERIC_LITERAL(){return this.tryGetToken(S.NUMERIC_LITERAL,0)}jsonObject(){return this.tryGetRuleContext(0,vP)}jsonArray(){return this.tryGetRuleContext(0,_P)}TRUE(){return this.tryGetToken(S.TRUE,0)}FALSE(){return this.tryGetToken(S.FALSE,0)}NULL(){return this.tryGetToken(S.NULL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_jsonValue}enterRule(e){e.enterJsonValue&&e.enterJsonValue(this)}exitRule(e){e.exitJsonValue&&e.exitJsonValue(this)}accept(e){return e.visitJsonValue?e.visitJsonValue(this):e.visitChildren(this)}};Nt.JsonValueContext=f_;var vP=class extends Sr.ParserRuleContext{OCURLY(){return this.getToken(S.OCURLY,0)}jsonProperty(e){return e===void 0?this.getRuleContexts(cF):this.getRuleContext(e,cF)}CCURLY(){return this.getToken(S.CCURLY,0)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_jsonObject}enterRule(e){e.enterJsonObject&&e.enterJsonObject(this)}exitRule(e){e.exitJsonObject&&e.exitJsonObject(this)}accept(e){return e.visitJsonObject?e.visitJsonObject(this):e.visitChildren(this)}};Nt.JsonObjectContext=vP;var cF=class extends Sr.ParserRuleContext{JSON_STRING(){return this.getToken(S.JSON_STRING,0)}COLON(){return this.getToken(S.COLON,0)}jsonValue(){return this.getRuleContext(0,f_)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_jsonProperty}enterRule(e){e.enterJsonProperty&&e.enterJsonProperty(this)}exitRule(e){e.exitJsonProperty&&e.exitJsonProperty(this)}accept(e){return e.visitJsonProperty?e.visitJsonProperty(this):e.visitChildren(this)}};Nt.JsonPropertyContext=cF;var _P=class extends Sr.ParserRuleContext{OBRACK(){return this.getToken(S.OBRACK,0)}jsonValue(e){return e===void 0?this.getRuleContexts(f_):this.getRuleContext(e,f_)}CBRACK(){return this.getToken(S.CBRACK,0)}COMMA(e){return e===void 0?this.getTokens(S.COMMA):this.getToken(S.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_jsonArray}enterRule(e){e.enterJsonArray&&e.enterJsonArray(this)}exitRule(e){e.exitJsonArray&&e.exitJsonArray(this)}accept(e){return e.visitJsonArray?e.visitJsonArray(this):e.visitChildren(this)}};Nt.JsonArrayContext=_P;var bP=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_sqlExploreNameRef}enterRule(e){e.enterSqlExploreNameRef&&e.enterSqlExploreNameRef(this)}exitRule(e){e.exitSqlExploreNameRef&&e.exitSqlExploreNameRef(this)}accept(e){return e.visitSqlExploreNameRef?e.visitSqlExploreNameRef(this):e.visitChildren(this)}};Nt.SqlExploreNameRefContext=bP;var EP=class extends Sr.ParserRuleContext{id(){return this.getRuleContext(0,Hf)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_nameSQLBlock}enterRule(e){e.enterNameSQLBlock&&e.enterNameSQLBlock(this)}exitRule(e){e.exitNameSQLBlock&&e.exitNameSQLBlock(this)}accept(e){return e.visitNameSQLBlock?e.visitNameSQLBlock(this):e.visitChildren(this)}};Nt.NameSQLBlockContext=EP;var SP=class extends Sr.ParserRuleContext{JSON_STRING(){return this.getToken(S.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return S.RULE_connectionName}enterRule(e){e.enterConnectionName&&e.enterConnectionName(this)}exitRule(e){e.exitConnectionName&&e.exitConnectionName(this)}accept(e){return e.visitConnectionName?e.visitConnectionName(this):e.visitChildren(this)}};Nt.ConnectionNameContext=SP});var so=G(oc=>{"use strict";d();var Bxt=oc&&oc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(oc,"__esModule",{value:!0});oc.Document=oc.RunList=oc.ListOf=oc.isDocStatement=oc.ModelEntryReference=oc.Unimplemented=oc.MalloyElement=void 0;var jxt=Bxt(EE()),qxt=Bs(),Sm=class{constructor(e){this.children={},this.parent=null,this.logged=new Set,e&&this.has(e)}has(e){for(let t in e){let r=e[t];if(r!==void 0)if(this.children[t]=r,r instanceof Sm)r.parent=this;else for(let i of r)i.parent=this}}get location(){return this.codeLocation?this.codeLocation:this.parent?this.parent.location:{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}set location(e){this.codeLocation=e}namespace(){if(this instanceof yne)return this;if(this.parent)return this.parent.namespace();throw new Error("INTERNAL ERROR: Translation without document scope")}modelEntry(e){var t;let r=e instanceof CP?e.name:e,i=(t=this.namespace())===null||t===void 0?void 0:t.getEntry(r);return e instanceof CP&&((i==null?void 0:i.entry.type)==="query"?this.addReference({type:"queryReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="struct"&&((0,qxt.isSQLBlock)(i.entry)?this.addReference({type:"sqlBlockReference",text:r,definition:i.entry,location:e.location}):this.addReference({type:"exploreReference",text:r,definition:i.entry,location:e.location}))),i}translator(){if(this.xlate)return this.xlate;if(this.parent)return this.parent.translator()}setTranslator(e){this.xlate=e}addReference(e){var t;(t=this.translator())===null||t===void 0||t.addReference(e)}get sourceURL(){let e=this.translator();return(e==null?void 0:e.sourceURL)||"(missing)"}errorsExist(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.logger;return t?t.hasErrors():!0}log(e){if(this.codeLocation){if(this.logged.has(e))return;this.logged.add(e)}let t=this.translator(),r={at:this.location,message:e},i=t==null?void 0:t.root.logger;if(i){i.log(r);return}throw new Error(`Translation error (without error reporter):
${JSON.stringify(r,null,2)}`)}toString(){return this.stringify("",0)}stringify(e,t){let r=" ".repeat(t),i=`${r}${e}<${this.elementType}>${this.varInfo()}`;for(let s of Object.keys(this.children)){let o=this.children[s];o instanceof Sm?i+=`
`+o.stringify(`${s}: `,t+2):(i+=`
${r}  ${s}: [`,o.length>0&&(i+=`
`+o.map(a=>a.stringify("",t+4)).join(`
`)+`
${r}  `),i+="]")}return i}walk(e){e(this);for(let t of Object.keys(this.children)){let r=this.children[t];if(r instanceof Sm)r.walk(e);else for(let i of r)i.walk(e)}}varInfo(){let e="";for(let[t,r]of Object.entries(this))t!=="elementType"&&(typeof r=="boolean"?e+=r?` ${t}`:` !${t}`:(typeof r=="string"||typeof r=="number")&&(e+=` ${t}=${r}`));return e}internalError(e){return this.log(`INTERNAL ERROR IN TRANSLATION: ${e}`),new Error(e)}};oc.MalloyElement=Sm;var u8e=class extends Sm{constructor(){super(...arguments);this.elementType="unimplemented",this.reported=!1}};oc.Unimplemented=u8e;var CP=class extends Sm{constructor(e){super();this.name=e,this.elementType="modelEntryReference"}get refString(){return this.name}toString(){return this.refString}};oc.ModelEntryReference=CP;function l8e(n){return n.execute!==void 0}oc.isDocStatement=l8e;var xne=class extends Sm{constructor(e,t){super();this.elementType="genericElementList",this.elements=t,this.elementType==="genericElementList"&&(this.elementType=e),this.newContents()}newContents(){this.has({[this.elementType]:this.elements})}get list(){return this.elements}empty(){return this.elements.length===0}notEmpty(){return this.elements.length>0}push(...e){return this.elements.push(...e),this.newContents(),this.elements}};oc.ListOf=xne;var gne=class extends xne{constructor(){super(...arguments);this.execCursor=0}executeList(e){for(;this.execCursor<this.elements.length;){if(e.errorsExist())return;let t=this.elements[this.execCursor];if(l8e(t)){let r=t.execute(e);if(r)return r;this.execCursor+=1}}}};oc.RunList=gne;var yne=class extends Sm{constructor(e){super();this.elementType="document",this.documentModel={},this.queryList=[],this.sqlBlocks=[],this.didInitModel=!1,this.statements=new gne("topLevelStatements",e),this.has({statements:e})}initModelDef(e){if(!this.didInitModel){if(this.documentModel={},this.queryList=[],this.sqlBlocks=[],e)for(let t in e.contents){let r=e.contents[t];if(r.type=="struct"){let i=e.exports.includes(t);this.setEntry(t,{entry:r,exported:i})}}this.didInitModel=!0}}compile(){let e=this.statements.executeList(this);return{modelDef:this.modelDef(),queryList:this.queryList,sqlBlocks:this.sqlBlocks,needs:e}}modelDef(){let e={name:"",exports:[],contents:{}};for(let t in this.documentModel){let r=this.documentModel[t].entry;(r.type==="struct"||r.type==="query")&&(this.documentModel[t].exported&&e.exports.push(t),e.contents[t]=(0,jxt.default)(r))}return e}defineSQL(e,t){let r={...e,as:`$${this.sqlBlocks.length}`};if(t){if(this.getEntry(t))return!1;r.as=t,this.setEntry(t,{entry:r,sqlType:!0})}return this.sqlBlocks.push(r),!0}getEntry(e){return this.documentModel[e]}setEntry(e,t){this.documentModel[e]=t}};oc.Document=yne});var fF=G(l5=>{"use strict";d();Object.defineProperty(l5,"__esModule",{value:!0});l5.FieldReferences=l5.WildcardFieldReference=l5.FieldReference=void 0;var vne=so(),c8e=class extends vne.ListOf{constructor(e){super("fieldReference",e);this.elementType="fieldReference"}get refString(){return this.list.map(e=>e.refString).join(".")}get outputName(){return this.list[this.list.length-1].refString}get sourceString(){if(this.list.length>1)return this.list.slice(0,-1).map(e=>e.refString).join(".")}get nameString(){return this.list[this.list.length-1].refString}getField(e){return e.lookup(this.list)}};l5.FieldReference=c8e;var f8e=class extends vne.MalloyElement{constructor(e,t){super();this.joinPath=e,this.star=t,this.elementType="wildcardFieldReference",this.has({joinPath:e})}getFieldDef(){throw this.internalError("fielddef request from wildcard reference")}get refString(){return this.joinPath?`${this.joinPath.refString}.${this.star}`:this.star}};l5.WildcardFieldReference=f8e;var d8e=class extends vne.ListOf{constructor(e){super("fieldReferenceList",e)}};l5.FieldReferences=d8e});var AP=G(wP=>{"use strict";d();Object.defineProperty(wP,"__esModule",{value:!0});wP.NestReference=void 0;var Uxt=fF(),h8e=class extends Uxt.FieldReference{constructor(e){super([e]);this.name=e,this.elementType="nestReference"}};wP.NestReference=h8e});var _ne=G(TP=>{"use strict";d();Object.defineProperty(TP,"__esModule",{value:!0});TP.SpaceEntry=void 0;var p8e=class{};TP.SpaceEntry=p8e});var xh=G(FP=>{"use strict";d();Object.defineProperty(FP,"__esModule",{value:!0});FP.SpaceField=void 0;var $xt=Bs(),zxt=_ne(),m8e=class extends zxt.SpaceEntry{constructor(){super(...arguments);this.refType="field"}fieldTypeFromFieldDef(e){let t={dataType:e.type,expressionType:"scalar"};return(0,$xt.isFieldTypeDef)(e)&&e.expressionType&&(t.expressionType=e.expressionType),t}getQueryFieldDef(e){}fieldDef(){}};FP.SpaceField=m8e});var OP=G(DP=>{"use strict";d();Object.defineProperty(DP,"__esModule",{value:!0});DP.QueryField=void 0;var Hxt=xh(),x8e=class extends Hxt.SpaceField{constructor(e){super();this.inSpace=e}typeDesc(){return{dataType:"turtle",expressionType:"scalar"}}};DP.QueryField=x8e});var Mp=G(RP=>{"use strict";d();Object.defineProperty(RP,"__esModule",{value:!0});RP.ErrorFactory=void 0;var g8e={type:"struct",name:"~malformed~",dialect:"~malformed~",structSource:{type:"table",tablePath:"//undefined_error_table_path"},structRelationship:{type:"basetable",connectionName:"//undefined_error_connection"},fields:[]},NP=class{static get structDef(){return{...g8e}}static isErrorStructDef(e){return e.name.includes(g8e.name)}static get query(){return{structRef:NP.structDef,pipeline:[]}}static get reduceSegment(){return{type:"reduce",fields:[]}}static get projectSegment(){return{type:"project",fields:[]}}static get indexSegment(){return{type:"index",fields:[]}}};RP.ErrorFactory=NP});var LP=G(P7=>{"use strict";d();Object.defineProperty(P7,"__esModule",{value:!0});P7.getStructFieldDef=P7.opOutputStruct=void 0;var Vxt=ky(),Wxt=CJ(),y8e=Mp();function Qxt(n,e,t){if(!y8e.ErrorFactory.isErrorStructDef(e))try{return Wxt.Segment.nextStructDef(e,t)}catch(i){n.log(`INTERNAL ERROR model/Segment.nextStructDef: ${i.message}
QUERY: ${(0,Vxt.inspect)(t,{breakLength:72,depth:1/0})}`)}return{...y8e.ErrorFactory.structDef,dialect:e.dialect}}P7.opOutputStruct=Qxt;function Gxt(n,e){return n.fields.find(t=>(t.as||t.name)===e)}P7.getStructFieldDef=Gxt});var bne=G(kP=>{"use strict";d();Object.defineProperty(kP,"__esModule",{value:!0});kP.PipelineDesc=void 0;var Yxt=so(),v8e=LP(),_8e=class extends Yxt.MalloyElement{constructor(){super(...arguments);this.elementType="pipelineDesc",this.qops=[]}refineHead(e){this.headRefinement=e,this.has({headRefinement:e})}addSegments(...e){this.qops.push(...e),this.has({segments:this.qops})}appendOps(e,t){let r=t,i;for(let s of this.qops){let o=e.length==0,a=s.getOp(r,o?this:null);i==null&&(i=[...e]),i.push(a.segment),r=a.outputSpace()}return{opList:i||e,structDef:r.structDef()}}refinePipeline(e,t){if(!this.headRefinement)return t;let r=[];if(t.pipeHead){let{pipeline:s}=this.expandTurtle(t.pipeHead.name,e.structDef());r.push(...s)}r.push(...t.pipeline);let i=r[0];return i&&this.headRefinement.refineFrom(i),r[0]=this.headRefinement.getOp(e,this).segment,{pipeline:r}}expandTurtle(e,t){let r=(0,v8e.getStructFieldDef)(t,e);if(!r)this.log(`Query '${e}' is not defined in source`);else if(r.type!=="turtle")this.log(`'${e}' is not a query`);else return{pipeline:r.pipeline,location:r.location};return{pipeline:[],location:void 0}}getOutputStruct(e,t){for(let r of t)e=(0,v8e.opOutputStruct)(this,e,r);return e}};kP.PipelineDesc=_8e});var MP=G(IP=>{"use strict";d();Object.defineProperty(IP,"__esModule",{value:!0});IP.TurtleHeadedPipe=void 0;var Kxt=bne(),b8e=class extends Kxt.PipelineDesc{set turtleName(e){this._turtleName=e,this.has({turtleName:e})}get turtleName(){return this._turtleName}};IP.TurtleHeadedPipe=b8e});var BP=G(c5=>{"use strict";d();Object.defineProperty(c5,"__esModule",{value:!0});c5.DefinedParameter=c5.AbstractParameter=c5.SpaceParam=void 0;var Jxt=_ne(),PP=class extends Jxt.SpaceEntry{constructor(){super(...arguments);this.refType="parameter"}};c5.SpaceParam=PP;var E8e=class extends PP{constructor(e){super();this.astParam=e}parameter(){return this.astParam.parameter()}typeDesc(){return{dataType:this.astParam.type||"unknown",expressionType:"scalar"}}};c5.AbstractParameter=E8e;var S8e=class extends PP{constructor(e){super();this.paramDef=e}parameter(){return this.paramDef}typeDesc(){return{dataType:this.paramDef.type,expressionType:"scalar"}}};c5.DefinedParameter=S8e});var qP=G(jP=>{"use strict";d();Object.defineProperty(jP,"__esModule",{value:!0});jP.StructSpaceFieldBase=void 0;var Xxt=xh(),C8e=class extends Xxt.SpaceField{constructor(e){super();this.sourceDef=e}fieldDef(){return this.sourceDef}typeDesc(){return{dataType:"struct",expressionType:"scalar"}}};jP.StructSpaceFieldBase=C8e});var A8e=G(UP=>{"use strict";d();Object.defineProperty(UP,"__esModule",{value:!0});UP.ColumnSpaceField=void 0;var Zxt=xh(),w8e=class extends Zxt.SpaceField{constructor(e){super();this.def=e}fieldDef(){return this.def}typeDesc(){return this.fieldTypeFromFieldDef(this.def)}};UP.ColumnSpaceField=w8e});var F8e=G($P=>{"use strict";d();Object.defineProperty($P,"__esModule",{value:!0});$P.QueryFieldStruct=void 0;var egt=OP(),T8e=class extends egt.QueryField{constructor(e,t){super(e);this.turtleDef=t}rename(e){this.turtleDef={...this.turtleDef,as:e}}fieldDef(){return this.turtleDef}getQueryFieldDef(e){return this.fieldDef()}};$P.QueryFieldStruct=T8e});var f5=G(B7=>{"use strict";d();Object.defineProperty(B7,"__esModule",{value:!0});B7.StructSpaceField=B7.StaticSpace=void 0;var tgt=_J(),ngt=Bs(),rgt=BP(),igt=xh(),Ene=qP(),sgt=A8e(),ogt=F8e(),Sne=class{constructor(e){this.type="fieldSpace",this.fromStruct=e}whenComplete(e){e()}dialectObj(){try{return(0,tgt.getDialect)(this.fromStruct.dialect)}catch{return}}defToSpaceField(e){return e.type==="struct"?new Cne(e):(0,ngt.isTurtleDef)(e)?new ogt.QueryFieldStruct(this,e):new sgt.ColumnSpaceField(e)}get map(){if(this.memoMap===void 0){this.memoMap={};for(let e of this.fromStruct.fields){let t=e.as||e.name;this.memoMap[t]=this.defToSpaceField(e)}if(this.fromStruct.parameters)for(let[e,t]of Object.entries(this.fromStruct.parameters)){if(this.memoMap[e])throw new Error(`In struct '${this.fromStruct.as||this.fromStruct.name}':  : Field and parameter name conflict '${e}`);this.memoMap[e]=new rgt.DefinedParameter(t)}}return this.memoMap}dropEntries(){this.memoMap={}}dropEntry(e){delete this.map[e]}entry(e){return this.map[e]}setEntry(e,t){this.map[e]=t}entries(){return Object.entries(this.map)}structDef(){return this.fromStruct}emptyStructDef(){return{...this.fromStruct,fields:[]}}lookup(e){let t=e[0],r=e.slice(1),i=this.entry(t.refString);if(!i)return{error:`'${t}' is not defined`,found:i};if(i instanceof igt.SpaceField){let s=i.fieldDef();s&&t.addReference({type:i instanceof Ene.StructSpaceFieldBase?"joinReference":"fieldReference",definition:s,location:t.location,text:t.refString})}return r.length?i instanceof Ene.StructSpaceFieldBase?i.fieldSpace.lookup(r):{error:`'${t}' cannot contain a '${r[0]}'`,found:void 0}:{found:i,error:void 0}}};B7.StaticSpace=Sne;var Cne=class extends Ene.StructSpaceFieldBase{constructor(e){super(e)}get fieldSpace(){return new Sne(this.sourceDef)}};B7.StructSpaceField=Cne});var d_=G(gh=>{"use strict";d();Object.defineProperty(gh,"__esModule",{value:!0});gh.QueryFieldAST=gh.isNestedQuery=gh.NestDefinition=gh.NestRefinement=gh.TurtleDecl=void 0;var agt=AP(),D8e=OP(),ugt=LP(),lgt=MP(),cgt=f5();function fgt(n){return!!(n&&typeof n!="string"&&n.type==="turtle")}var zP=class extends lgt.TurtleHeadedPipe{constructor(e){super();this.name=e}getPipeline(e){let t={pipeline:[]};if(this.turtleName){let s=this.turtleName.getField(e),o=!0;if(s.error)this.log(s.error),o=!1;else if(s.found instanceof D8e.QueryField){let a=s.found.getQueryFieldDef(e);if(fgt(a)){let l=this.refinePipeline(e,a);t.pipeline=[...l.pipeline],o=!1}}o&&this.log(`Expected '${this.turtleName}' to be a query`)}else if(this.headRefinement)throw this.internalError("Can't refine the head of a turtle in its definition");let r=e;if(t.pipeline.length>0){let s=r.structDef();for(let o of t.pipeline)s=(0,ugt.opOutputStruct)(this,s,o);r=new cgt.StaticSpace(s)}let i=this.appendOps(t.pipeline,r);return t.pipeline=i.opList,t}getFieldDef(e,t){t&&(this.nestedInQuerySpace=t);let r=this.getPipeline(e);return{type:"turtle",name:this.name,...r,location:this.location}}};gh.TurtleDecl=zP;var wne=class extends zP{constructor(e){super(e.refString);this.elementType="nestRefinement",this.turtleName=e}};gh.NestRefinement=wne;var Ane=class extends zP{constructor(e){super(e);this.elementType="nestDefinition"}};gh.NestDefinition=Ane;function dgt(n){return n instanceof wne||n instanceof agt.NestReference||n instanceof Ane}gh.isNestedQuery=dgt;var O8e=class extends D8e.QueryField{constructor(e,t,r){super(e);this.turtle=t,this.name=r}getQueryFieldDef(e){let t=this.turtle.getFieldDef(e,this.nestParent);return this.renameAs&&(t.as=this.renameAs),t}fieldDef(){let e=this.turtle.getFieldDef(this.inSpace,this.nestParent);return this.renameAs&&(e.as=this.renameAs),e}};gh.QueryFieldAST=O8e});var Tne=G(HP=>{"use strict";d();Object.defineProperty(HP,"__esModule",{value:!0});HP.HasParameter=void 0;var hgt=Bs(),pgt=so(),N8e=class extends pgt.MalloyElement{constructor(e){super();this.elementType="hasParameter",this.name=e.name,this.isCondition=e.isCondition,e.type&&(0,hgt.isAtomicFieldType)(e.type)&&(this.type=e.type),e.default&&(this.default=e.default,this.has({default:this.default}))}parameter(){var e,t;let r=this.name,i=this.type||"string";if(this.isCondition){let o=((e=this.default)===null||e===void 0?void 0:e.constantCondition(i).value)||null;return{type:i,name:r,condition:o}}return{value:((t=this.default)===null||t===void 0?void 0:t.constantValue().value)||null,type:i,name:this.name,constant:!1}}};HP.HasParameter=N8e});var I8e=G(j7=>{"use strict";d();Object.defineProperty(j7,"__esModule",{value:!0});j7.DefineSourceList=j7.DefineSource=void 0;var mgt=Mp(),xgt=Tne(),R8e=so(),L8e=class extends R8e.MalloyElement{constructor(e,t,r,i){super({explore:t});if(this.name=e,this.theSource=t,this.exported=r,this.elementType="defineSource",i){this.parameters=[];for(let s of i)s instanceof xgt.HasParameter?this.parameters.push(s):this.log(`Unexpected element type in define statement: ${s.elementType}`);this.has({parameters:this.parameters})}}execute(e){if(e.modelEntry(this.name))this.log(`Cannot redefine '${this.name}'`);else{let t=this.theSource.withParameters(this.parameters);if(mgt.ErrorFactory.isErrorStructDef(t))return;e.setEntry(this.name,{entry:{...t,as:this.name,location:this.location},exported:this.exported})}}};j7.DefineSource=L8e;var k8e=class extends R8e.RunList{constructor(e){super("defineSources",e)}execute(e){return this.executeList(e)}};j7.DefineSourceList=k8e});var j8e=G(q7=>{"use strict";d();Object.defineProperty(q7,"__esModule",{value:!0});q7.DefineQueryList=q7.DefineQuery=void 0;var M8e=so(),P8e=class extends M8e.MalloyElement{constructor(e,t){super({queryDetails:t});this.name=e,this.queryDetails=t,this.elementType="defineQuery"}execute(e){let t={...this.queryDetails.query(),type:"query",name:this.name,location:this.location},r=!1;e.setEntry(this.name,{entry:t,exported:r})}};q7.DefineQuery=P8e;var B8e=class extends M8e.RunList{constructor(e){super("defineQueries",e)}execute(e){return this.executeList(e)}};q7.DefineQueryList=B8e});var h_=G(VP=>{"use strict";d();Object.defineProperty(VP,"__esModule",{value:!0});VP.Source=void 0;var ggt=so(),q8e=class extends ggt.MalloyElement{structRef(){return this.structDef()}withParameters(e){let t=this.structDef();if(e){let r={...t.parameters||{}};for(let i of e){let s=i.parameter();r[s.name]=s}return{...t,parameters:r}}return t}};VP.Source=q8e});var dF=G(U7=>{"use strict";d();Object.defineProperty(U7,"__esModule",{value:!0});U7.Renames=U7.RenameField=void 0;var U8e=so(),$8e=class extends U8e.MalloyElement{constructor(e,t){super();this.newName=e,this.oldName=t,this.elementType="renameField",this.has({oldName:t})}};U7.RenameField=$8e;var z8e=class extends U8e.ListOf{constructor(e){super("renameField",e)}};U7.Renames=z8e});var kc=G(d5=>{"use strict";d();Object.defineProperty(d5,"__esModule",{value:!0});d5.nullsafeNot=d5.compressExpr=d5.compose=void 0;var ygt=Bs();function H8e(n){return n.length>1?["(",...n,")"]:n.length===0?["__MISSING_VALUE__"]:n}function vgt(n,e,t){let r=e.match(/^[A-Za-z]/),i=n.length===1&&r?" ":"",s=t.length===1&&r?" ":"",o=i+e+s;return[...H8e(n),o,...H8e(t)]}d5.compose=vgt;function _gt(n){let e=[],t;for(let r of n.flat())typeof r=="string"?t=t?t+r:r:(t&&(e.push(t),t=void 0),e.push(r));return t&&e.push(t),e}d5.compressExpr=_gt;function bgt(n,e){return e===void 0||e==="!="||e==="!~"?(0,ygt.mkExpr)`COALESCE(NOT(${n}),FALSE)`:n}d5.nullsafeNot=bgt});var h5=G(Cm=>{"use strict";d();Object.defineProperty(Cm,"__esModule",{value:!0});Cm.Joins=Cm.ExpressionJoin=Cm.KeyJoin=Cm.Join=void 0;var Egt=Bs(),Sgt=kc(),V8e=so(),WP=class extends V8e.MalloyElement{};Cm.Join=WP;var W8e=class extends WP{constructor(e,t,r){super({name:e,source:t,keyExpr:r});this.name=e,this.source=t,this.keyExpr=r,this.elementType="joinOnKey"}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:"one",onExpression:["('join fixup'='not done yet')"]},location:this.location};return e.structSource.type==="query"?t.name=this.name.refString:t.as=this.name.refString,t}fixupJoinOn(e,t){let r=this.keyExpr.getExpression(e);if(t.primaryKey){let i=t.fields.find(s=>(s.as||s.name)===t.primaryKey);if(i)if(i.type===r.dataType){t.structRelationship={type:"one",onExpression:[{type:"field",path:`${this.name}.${t.primaryKey}`},"=",...r.value]};return}else this.log(`join_one: with type mismatch with primary key: ${r.dataType}/${i.type}`);else this.log(`join_one: Primary key '${i}' not found in source`)}else this.log("join_one: Cannot use with unless source has a primary key")}};Cm.KeyJoin=W8e;var Q8e=class extends WP{constructor(e,t){super({name:e,source:t});this.name=e,this.source=t,this.elementType="joinOnExpr",this.joinType="one"}set joinOn(e){this.expr=e,this.has({on:e})}get joinOn(){return this.expr}fixupJoinOn(e,t){if(this.expr==null)return;let r=this.expr.getExpression(e);if(r.dataType!=="boolean"){this.log("join conditions must be boolean expressions");return}let i=t.structRelationship;(0,Egt.isJoinOn)(i)&&(i.onExpression=(0,Sgt.compressExpr)(r.value))}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:this.joinType},location:this.location};return e.structSource.type==="query"?(t.name=this.name.refString,delete t.as):t.as=this.name.refString,t}};Cm.ExpressionJoin=Q8e;var G8e=class extends V8e.ListOf{constructor(e){super("joinList",e)}};Cm.Joins=G8e});var Dne=G($7=>{"use strict";d();Object.defineProperty($7,"__esModule",{value:!0});$7.mergeFields=$7.nameOf=void 0;function Fne(n){return typeof n=="string"?n:n.as||n.name}$7.nameOf=Fne;function Cgt(n,e){if(n==null)return e;let t=new Set(e.map(i=>Fne(i))),r=n.filter(i=>!t.has(Fne(i)));return r.push(...e),r}$7.mergeFields=Cgt});var One=G(QP=>{"use strict";d();Object.defineProperty(QP,"__esModule",{value:!0});QP.JoinSpaceField=void 0;var wgt=f5(),Y8e=class extends wgt.StructSpaceField{constructor(e,t){super(t.structDef());this.intoFS=e,this.join=t}};QP.JoinSpaceField=Y8e});var Nne=G(GP=>{"use strict";d();Object.defineProperty(GP,"__esModule",{value:!0});GP.SpaceSeed=void 0;var Agt=f5();function K8e(n){return n.type=="fieldSpace"}var J8e=class{constructor(e){this.sourceSpec=e,this.spaceSpec=e}get structDef(){return K8e(this.spaceSpec)?(this.asStruct||(this.asStruct=this.spaceSpec.structDef()),this.asStruct):this.spaceSpec}get fieldSpace(){return K8e(this.spaceSpec)?this.spaceSpec:(this.asFS||(this.asFS=new Agt.StaticSpace(this.spaceSpec)),this.asFS)}};GP.SpaceSeed=J8e});var e7e=G(z7=>{"use strict";d();var Tgt=z7&&z7.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(z7,"__esModule",{value:!0});z7.DynamicSpace=void 0;var Fgt=Tgt(EE()),Dgt=Dne(),Ogt=Mp(),Ngt=xh(),Rgt=One(),Lgt=OP(),X8e=BP(),kgt=Nne(),Igt=f5(),Mgt=qP(),Z8e=class extends Igt.StaticSpace{constructor(e){let t=new kgt.SpaceSeed(e);super((0,Fgt.default)(t.structDef));this.completions=[],this.complete=!1,this.final=void 0,this.source=t}whenComplete(e){this.complete?e():this.completions.push(e)}isComplete(){this.complete=!0;for(let e of this.completions)e();this.completions=[]}setEntry(e,t){if(this.final)throw new Error("Space already final");super.setEntry(e,t)}addParameters(e){for(let t of e)this.setEntry(t.name,new X8e.AbstractParameter(t));return this}newEntry(e,t,r){if(this.entry(e)){t.log(`Cannot redefine '${e}'`);return}this.setEntry(e,r)}addFieldDef(e){this.setEntry((0,Dgt.nameOf)(e),this.defToSpaceField(e))}structDef(){let e=this.fromStruct.parameters||{};if(this.final===void 0){this.final={...this.fromStruct,fields:[]};let t=[],r=[],i=[],s=[];for(let[a,l]of this.entries())l instanceof Mgt.StructSpaceFieldBase?r.push([a,l]):l instanceof Lgt.QueryField?i.push([a,l]):l instanceof Ngt.SpaceField?t.push([a,l]):l instanceof X8e.SpaceParam&&(e[a]=l.parameter());let o=[...t,...r,...i];for(let[a,l]of o)if(l instanceof Rgt.JoinSpaceField){let f=l.join.structDef();Ogt.ErrorFactory.isErrorStructDef(f)||(this.final.fields.push(f),s.push([l.join,f]))}else{let f=l.fieldDef();if(f)this.final.fields.push(f);else throw new Error(`'${a}' doesn't have a FieldDef`)}Object.entries(e).length>0&&(this.final.parameters=e);for(let[a,l]of s)a.fixupJoinOn(this,l)}return this.isComplete(),this.final}};z7.DynamicSpace=Z8e});var n7e=G(YP=>{"use strict";d();Object.defineProperty(YP,"__esModule",{value:!0});YP.FieldDefinitionValue=void 0;var Pgt=xh(),t7e=class extends Pgt.SpaceField{constructor(e,t){super();this.space=e,this.exprDef=t,this.fieldName=t.defineName}get name(){return this.fieldName}fieldDef(){let e=this.exprDef.fieldDef(this.space,this.name);return this.defType=this.fieldTypeFromFieldDef(e),e}getQueryFieldDef(e){let t=this.exprDef.queryFieldDef(e,this.name);return this.defType=this.fieldTypeFromFieldDef(t),t}typeDesc(){return this.defType?this.defType:this.fieldTypeFromFieldDef(this.fieldDef())}};YP.FieldDefinitionValue=t7e});var i7e=G(KP=>{"use strict";d();Object.defineProperty(KP,"__esModule",{value:!0});KP.RenameSpaceField=void 0;var Bgt=xh(),r7e=class extends Bgt.SpaceField{constructor(e,t,r){super();this.otherField=e,this.newName=t,this.location=r}fieldDef(){let e=this.otherField.fieldDef();if(e!==void 0)return{...e,as:this.newName,location:this.location}}typeDesc(){return this.otherField.typeDesc()}};KP.RenameSpaceField=r7e});var $u=G(JP=>{"use strict";d();Object.defineProperty(JP,"__esModule",{value:!0});JP.FT=void 0;function H7(n){return{dataType:n,expressionType:"scalar"}}var mf=class{static in(e,t){return e?t.find(i=>mf.eq(i,e))!==void 0:!1}static eq(e,t){return t!==void 0&&e.dataType===t.dataType&&e.expressionType===t.expressionType}static typeEq(e,t,r=!1){let i=e.dataType===t.dataType,s=r&&(e.dataType==="null"||t.dataType==="null");return i||s}static inspect(...e){return e.map(r=>{if(r){let i=r.dataType;return r.expressionType!="scalar"&&(i=`${r.expressionType} ${i}`),i}return"undefined"}).join(",")}};JP.FT=mf;mf.nullT=H7("null");mf.numberT=H7("number");mf.stringT=H7("string");mf.dateT=H7("date");mf.timestampT=H7("timestamp");mf.boolT=H7("boolean");mf.anyAtomicT=[mf.numberT,mf.stringT,mf.dateT,mf.timestampT,mf.boolT]});var hF=G(XP=>{"use strict";d();Object.defineProperty(XP,"__esModule",{value:!0});XP.isGranularResult=void 0;function jgt(n){return n.dataType!=="date"&&n.dataType!=="timestamp"?!1:n.timeframe!==void 0}XP.isGranularResult=jgt});var p5=G(V7=>{"use strict";d();Object.defineProperty(V7,"__esModule",{value:!0});V7.DefSpace=V7.FieldDeclaration=void 0;var qgt=Bs(),Ugt=kc(),$gt=$u(),zgt=hF(),Hgt=so(),s7e=class extends Hgt.MalloyElement{constructor(e,t,r){super({expr:e});this.expr=e,this.defineName=t,this.exprSrc=r,this.elementType="fieldDeclaration"}fieldDef(e,t){return this.queryFieldDef(new ZP(e,this),t)}queryFieldDef(e,t){let r;try{r=this.expr.getExpression(e)}catch(a){return this.log(`Cannot define '${t}', ${a.message}`),{name:`error_defining_${t}`,type:"string"}}let i=(0,Ugt.compressExpr)(r.value),s=r.dataType;if((0,qgt.isAtomicFieldType)(s)){let a={name:t,type:s,location:this.location};return i.length>0&&(a.e=i),r.expressionType&&(a.expressionType=r.expressionType),this.exprSrc&&(a.code=this.exprSrc),(0,zgt.isGranularResult)(r)&&a.type==="timestamp"&&(a.timeframe=r.timeframe),a}if(!(e instanceof ZP&&e.foundCircle))if(r.dataType=="unknown")this.log(`Cannot define '${t}', value has unknown type`);else{let a=$gt.FT.inspect(r);this.log(`Cannot define '${t}', unexpected type: ${a}`)}return{name:`error_defining_${t}`,type:"string"}}};V7.FieldDeclaration=s7e;var ZP=class{constructor(e,t){this.realFS=e,this.circular=t,this.type="fieldSpace",this.foundCircle=!1}structDef(){return this.realFS.structDef()}emptyStructDef(){return this.realFS.emptyStructDef()}lookup(e){return e[0]&&e[0].refString===this.circular.defineName?(this.foundCircle=!0,{error:`Circular reference to '${this.circular.defineName}' in definition`,found:void 0}):this.realFS.lookup(e)}dialectObj(){return this.realFS.dialectObj()}whenComplete(e){this.realFS.whenComplete(e)}};V7.DefSpace=ZP});var Rne=G(tB=>{"use strict";d();Object.defineProperty(tB,"__esModule",{value:!0});tB.RefinedSpace=void 0;var Vgt=dF(),Wgt=h5(),Qgt=e7e(),o7e=d_(),Ggt=n7e(),Ygt=One(),Kgt=i7e(),Jgt=p5(),Xgt=xh(),eB=class extends Qgt.DynamicSpace{static filteredFrom(e,t){let r=new eB(e);if(t){let i=t.refs.list,s=r.entries();r.dropEntries();for(let[o,a]of s){let l=!!i.find(p=>p.refString===o),f=t.edit==="accept";l===f&&r.setEntry(o,a)}}return r}addField(...e){for(let t of e){let r=t.log,i=t.elementType;if(t instanceof Jgt.FieldDeclaration){let s=new Ggt.FieldDefinitionValue(this,t);this.newEntry(s.name,t,s)}else if(t instanceof o7e.TurtleDecl){let s=t.name;this.newEntry(s,t,new o7e.QueryFieldAST(this,t,s))}else if(t instanceof Vgt.RenameField){if(t.oldName.refString===t.newName){t.log("Can't rename field to itself");continue}let s=t.oldName.getField(this);s.found?s.found instanceof Xgt.SpaceField?(this.setEntry(t.newName,new Kgt.RenameSpaceField(s.found,t.newName,t.location)),this.dropEntry(t.oldName.refString)):t.log(`'${t.oldName}' cannot be renamed`):t.log(`Can't rename '${t.oldName}', no such field`)}else t instanceof Wgt.Join?this.newEntry(t.name.refString,t,new Ygt.JoinSpaceField(this,t)):r(`Internal error: Expected expression, query, or rename, got '${i}'`)}}};tB.RefinedSpace=eB});var m5=G(nB=>{"use strict";d();Object.defineProperty(nB,"__esModule",{value:!0});nB.DeclareFields=void 0;var Zgt=so(),a7e=class extends Zgt.ListOf{constructor(e,t="declare"){super(t,e)}};nB.DeclareFields=a7e});var x5=G(W7=>{"use strict";d();Object.defineProperty(W7,"__esModule",{value:!0});W7.Filter=W7.FilterElement=void 0;var eyt=Bs(),tyt=kc(),u7e=so(),l7e=class extends u7e.MalloyElement{constructor(e,t){super({expr:e});this.expr=e,this.exprSrc=t,this.elementType="filterElement"}filterExpression(e){let t=this.expr.getExpression(e);return t.dataType!=="boolean"?(this.expr.log("Filter expression must have boolean value"),{code:this.exprSrc,expression:["_FILTER_MUST_RETURN_BOOLEAN_"],expressionType:"scalar"}):{code:this.exprSrc,expression:(0,tyt.compressExpr)(t.value),expressionType:t.expressionType}}};W7.FilterElement=l7e;var c7e=class extends u7e.ListOf{constructor(e=[]){super("filterElements",e);this.elementType="filter"}set having(e){this.elementType=e?"having":"where"}getFilterList(e){let t=[];for(let r of this.list){let i=r.filterExpression(e);if(this.havingClause!==void 0){if(this.havingClause){if((0,eyt.expressionIsCalculation)(i.expressionType)){r.log("Aggregate or Analytical expression expected in HAVING filter");continue}}else if(i.expressionType!=="scalar"){r.log("Aggregate or Analytical expressions not allowed in WHERE");continue}}t.push(i)}return t}};W7.Filter=c7e});var iB=G(rB=>{"use strict";d();Object.defineProperty(rB,"__esModule",{value:!0});rB.FieldListEdit=void 0;var nyt=so(),f7e=class extends nyt.MalloyElement{constructor(e,t){super({refs:t});this.edit=e,this.refs=t,this.elementType="fieldListEdit"}};rB.FieldListEdit=f7e});var oB=G(sB=>{"use strict";d();Object.defineProperty(sB,"__esModule",{value:!0});sB.PrimaryKey=void 0;var ryt=so(),d7e=class extends ryt.MalloyElement{constructor(e){super({field:e});this.field=e,this.elementType="primary key"}};sB.PrimaryKey=d7e});var uB=G(aB=>{"use strict";d();Object.defineProperty(aB,"__esModule",{value:!0});aB.Turtles=void 0;var iyt=so(),h7e=class extends iyt.ListOf{constructor(e){super("turtleDeclarationList",e)}};aB.Turtles=h7e});var m7e=G(Q7=>{"use strict";d();var syt=Q7&&Q7.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Q7,"__esModule",{value:!0});Q7.RefinedSource=void 0;var oyt=syt(EE()),ayt=Bs(),uyt=Rne(),lyt=m5(),cyt=x5(),fyt=h5(),dyt=iB(),hyt=oB(),pyt=dF(),myt=uB(),xyt=h_(),p7e=class extends xyt.Source{constructor(e,t){super({source:e,refinement:t});this.source=e,this.refinement=t,this.elementType="refinedSource"}structDef(){return this.withParameters([])}withParameters(e){let t,r,i=[],s=[];for(let v of this.refinement.list){let b=v;v instanceof hyt.PrimaryKey?(t&&(t.log("Primary key already defined"),v.log("Primary key redefined")),t=v):v instanceof dyt.FieldListEdit?(r&&(r.log("Too many accept/except statements"),v.log("Too many accept/except statements")),r=v):v instanceof lyt.DeclareFields||v instanceof fyt.Joins||v instanceof myt.Turtles||v instanceof pyt.Renames?i.push(...v.list):v instanceof cyt.Filter?s.push(v):b.log(`Unexpected explore property: '${b.elementType}'`)}let o=(0,oyt.default)(this.source.structDef());t&&(o.primaryKey=t.field.name);let a=uyt.RefinedSpace.filteredFrom(o,r);if(a.addField(...i),e&&a.addParameters(e),t){let v=t.field.getField(a);v.error&&t.log(v.error)}let l=a.structDef(),f=l.filterList||[],p=!1;for(let v of s)for(let b of v.list){let F=b.filterExpression(a);(0,ayt.expressionIsCalculation)(F.expressionType)?b.log("Can't use aggregate computations in top level filters"):(f.push(F),p=!0)}return p?{...l,filterList:f}:l}};Q7.RefinedSource=p7e});var lB=G(p_=>{"use strict";d();Object.defineProperty(p_,"__esModule",{value:!0});p_.isComparison=p_.Comparison=void 0;var x7e;(function(n){n.Like="~",n.NotLike="!~",n.LessThan="<",n.LessThanOrEqualTo="<=",n.EqualTo="=",n.GreaterThan=">",n.GreaterThanOrEqualTo=">=",n.NotEqualTo="!="})(x7e=p_.Comparison||(p_.Comparison={}));function gyt(n){return Object.values(x7e).includes(n)}p_.isComparison=gyt});var xf=G(cB=>{"use strict";d();Object.defineProperty(cB,"__esModule",{value:!0});cB.errorFor=void 0;function yyt(n){return{dataType:"unknown",expressionType:"scalar",value:[`_ERROR_${n.replace(/ /g,"_")}`]}}cB.errorFor=yyt});var m_=G(ll=>{"use strict";d();Object.defineProperty(ll,"__esModule",{value:!0});ll.dateOffset=ll.timestampOffset=ll.timeLiteral=ll.timeResult=ll.resolution=ll.castDateToTimestamp=ll.castTimestampToDate=ll.castTo=ll.timeOffset=void 0;var g7e=kc();function vyt(n,e,t,r,i){return[{type:"dialect",function:"delta",base:{valueType:n,value:e},op:t,delta:r,units:i}]}ll.timeOffset=vyt;function _yt(n,e,t=!1){return[{type:"dialect",function:"cast",dstType:n,expr:e,safe:t}]}ll.castTo=_yt;function byt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"date",srcType:"timestamp",expr:n,safe:e}]}ll.castTimestampToDate=byt;function Eyt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"timestamp",srcType:"date",expr:n,safe:e}]}ll.castDateToTimestamp=Eyt;function Syt(n){switch(n){case"hour":case"minute":case"second":case"microsecond":case"millisecond":return"timestamp"}return"date"}ll.resolution=Syt;function Cyt(n,e){return e?{...n,timeframe:e}:n}ll.timeResult=Cyt;function wyt(n,e,t){return[{type:"dialect",function:"timeLiteral",literal:n,literalType:e,timezone:t}]}ll.timeLiteral=wyt;function Ayt(n,e,t,r,i=!1){let s=["week","month","quarter","year"].includes(r),o=e==="+"?"_ADD":"_SUB",a=r.toUpperCase();if(s)return[`TIMESTAMP(DATETIME${o}(DATETIME(`,...n,"),INTERVAL ",...t,` ${a}))`];let l=i?["TIMESTAMP(",...n,")"]:n;return(0,g7e.compressExpr)([`TIMESTAMP${o}(`,...l,",INTERVAL ",...t,` ${a})`])}ll.timestampOffset=Ayt;function Tyt(n,e,t,r){let i=e==="+"?"_ADD":"_SUB",s=r.toUpperCase();return(0,g7e.compressExpr)([`DATE${i}(`,...n,",INTERVAL ",...t,` ${s})`])}ll.dateOffset=Tyt});var v7e=G(x_=>{"use strict";d();Object.defineProperty(x_,"__esModule",{value:!0});x_.isEquality=x_.Equality=void 0;var y7e;(function(n){n.Like="~",n.NotLike="!~",n.Equals="=",n.NotEquals="!="})(y7e=x_.Equality||(x_.Equality={}));function Fyt(n){return Object.values(y7e).includes(n)}x_.isEquality=Fyt});var Xo=G(y5=>{"use strict";d();Object.defineProperty(y5,"__esModule",{value:!0});y5.applyBinary=y5.ExprDuration=y5.ExpressionDef=void 0;var wm=Bs(),pF=xf(),g5=kc(),g_=$u(),G7=m_(),Dyt=lB(),Oyt=v7e(),_7e=hF(),Nyt=so(),b7e=class extends Error{},Lne=class extends Nyt.MalloyElement{constructor(){super(...arguments);this.legalChildTypes=g_.FT.anyAtomicT}granular(){return!1}requestExpression(e){return this.getExpression(e)}defaultFieldName(){}typeCheck(e,t){return g_.FT.in(t,this.legalChildTypes)?!0:(e.log(`'${this.elementType}' Can't use type ${g_.FT.inspect(t)}`),!1)}apply(e,t,r){return w7e(e,r,t,this)}};y5.ExpressionDef=Lne;var fB=class extends Lne{constructor(e,t){super({n:e});this.n=e,this.timeframe=t,this.elementType="duration",this.legalChildTypes=[g_.FT.timestampT,g_.FT.dateT]}apply(e,t,r){let i=r.getExpression(e);if(this.typeCheck(this,i),(0,wm.isTimeFieldType)(i.dataType)&&(t==="+"||t==="-")){let s=this.n.getExpression(e);if(!g_.FT.typeEq(s,g_.FT.numberT))return this.log(`Duration units needs number not '${s.dataType}`),(0,pF.errorFor)("illegal unit expression");let o;if((0,_7e.isGranularResult)(i)&&i.timeframe==this.timeframe&&(o=i.timeframe),i.dataType==="timestamp"){let a=(0,G7.timeOffset)("timestamp",i.value,t,s.value,this.timeframe);return(0,G7.timeResult)({dataType:"timestamp",expressionType:(0,wm.maxExpressionType)(i.expressionType,s.expressionType),value:a},o)}return(0,G7.timeResult)({dataType:"date",expressionType:(0,wm.maxExpressionType)(i.expressionType,s.expressionType),value:(0,G7.timeOffset)("date",i.value,t,s.value,this.timeframe)},o)}return super.apply(e,t,r)}getExpression(e){return{dataType:"duration",expressionType:"scalar",value:["__ERROR_DURATION_IS_NOT_A_VALUE__"]}}};y5.ExprDuration=fB;function E7e(n,e,t){if((0,wm.isTimeFieldType)(n.dataType)&&(0,wm.isTimeFieldType)(t.dataType)&&n.dataType!==t.dataType){let r=n.value,i=t.value;return n.dataType==="timestamp"?r=(0,G7.castTimestampToDate)(r):i=(0,G7.castTimestampToDate)(i),(0,g5.compose)(r,e,i)}}function S7e(n,e){if(n.dataType==="string"){if(e.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:n.value,regexp:e.value[0].replace(/^r'/,"'")}]}else if(e.dataType==="string"&&n.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:e.value,regexp:n.value[0].replace(/^r'/,"'")}]}function Ryt(n,e,t){let r=e==="!="||e==="!~";if(n.dataType==="null"||t.dataType==="null"){let i=r?" NOT":"";return n.dataType!=="null"?[...n.value,` IS${i} NULL`]:t.dataType!=="null"?[...t.value,`IS${i} NULL`]:[r?"false":"true"]}}function Lyt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=E7e(i,t,s)||(0,g5.compose)(i.value,t,s.value);if(i.dataType!="unknown"&&s.dataType!="unknown")switch(t){case"~":case"!~":{if(i.dataType==="string"&&s.dataType==="string")o=(0,g5.compose)(i.value,"LIKE",s.value);else{let a=S7e(i,s);if(a===void 0)throw new b7e("Incompatible types for match('~') operator");o=a}o=(0,g5.nullsafeNot)(o,t);break}case"=":case"!=":{let a=Ryt(i,t,s);a?o=a:o=(0,g5.nullsafeNot)(S7e(i,s)||(0,g5.compose)(i.value,"=",s.value),t);break}}return{dataType:"boolean",expressionType:(0,wm.maxExpressionType)(i.expressionType,s.expressionType),value:o}}function kyt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=(0,wm.maxExpressionType)(i.expressionType,s.expressionType),a=E7e(i,t,s)||(0,g5.compose)(i.value,t,s.value);return{dataType:"boolean",expressionType:o,value:a}}function kne(n,...e){return e.includes(n)}function Iyt(n,...e){for(let t of e)if(t.dataType!==n)return!1;return!0}function C7e(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=(0,wm.maxExpressionType)(i.expressionType,s.expressionType);return Iyt("number",i,s)?{dataType:"number",expressionType:o,value:(0,g5.compose)(i.value,t,s.value)}:(e.log(`Non numeric('${i.dataType},${s.dataType}') value with '${t}'`),(0,pF.errorFor)("numbers required"))}function Myt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n);if((0,wm.isTimeFieldType)(i.dataType)){let o=r;if(s.dataType!=="duration")if((0,_7e.isGranularResult)(i))o=new fB(r,i.timeframe);else if(i.dataType==="date")o=new fB(r,"day");else return e.log(`Can not offset time by '${s.dataType}'`),(0,pF.errorFor)(`time plus ${s.dataType}`);return o.apply(n,t,e)}return C7e(n,e,t,r)}function w7e(n,e,t,r){if((0,Oyt.isEquality)(t))return Lyt(n,e,t,r);if((0,Dyt.isComparison)(t))return kyt(n,e,t,r);if(kne(t,"+","-"))return Myt(n,e,t,r);if(kne(t,"*","%"))return C7e(n,e,t,r);if(kne(t,"/")){let i=e.getExpression(n),s=r.getExpression(n);if(i.dataType!="number")e.log("Numerator for division must be a number");else if(s.dataType!="number")r.log("Denominator for division must be a number");else{let o={type:"dialect",function:"div",numerator:i.value,denominator:s.value};return{dataType:"number",expressionType:(0,wm.maxExpressionType)(i.expressionType,s.expressionType),value:[o]}}return(0,pF.errorFor)("divide type mismatch")}return e.log(`Canot use ${t} operator here`),(0,pF.errorFor)("applybinary bad operator")}y5.applyBinary=w7e});var hB=G(dB=>{"use strict";d();Object.defineProperty(dB,"__esModule",{value:!0});dB.BinaryBoolean=void 0;var Pyt=Bs(),Byt=xf(),jyt=$u(),qyt=Xo(),Uyt=kc(),A7e=class extends qyt.ExpressionDef{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="abstract boolean binary",this.legalChildTypes=[jyt.FT.boolT]}getExpression(e){let t=this.left.getExpression(e),r=this.right.getExpression(e);return this.typeCheck(this.left,t)&&this.typeCheck(this.right,r)?{dataType:"boolean",expressionType:(0,Pyt.maxExpressionType)(t.expressionType,r.expressionType),value:(0,Uyt.compose)(t.value,this.op,r.value)}:(0,Byt.errorFor)("logial required boolean")}};dB.BinaryBoolean=A7e});var xB=G(mB=>{"use strict";d();Object.defineProperty(mB,"__esModule",{value:!0});mB.ExprTime=void 0;var $yt=Bs(),zyt=kc(),Hyt=Xo(),pB=class extends Hyt.ExpressionDef{constructor(e,t,r="scalar"){super();this.elementType="timestampOrDate",this.elementType=e,this.translationValue={dataType:e,expressionType:r,value:typeof t=="string"?[t]:t}}getExpression(e){return this.translationValue}static fromValue(e,t){let r=t.value;if(e!=t.dataType){let i={type:"dialect",function:"cast",safe:!1,dstType:e,expr:t.value};(0,$yt.isTimeFieldType)(t.dataType)&&(i.srcType=t.dataType),r=(0,zyt.compressExpr)([i])}return new pB(e,r,t.expressionType)}};mB.ExprTime=pB});var Y7=G(gB=>{"use strict";d();Object.defineProperty(gB,"__esModule",{value:!0});gB.Range=void 0;var Vyt=Bs(),Wyt=xf(),Qyt=Xo(),Gyt=kc(),T7e=class extends Qyt.ExpressionDef{constructor(e,t){super({first:e,last:t});this.first=e,this.last=t,this.elementType="range"}apply(e,t,r){switch(t){case"=":case"!=":{let i=t==="="?">=":"<",s=t==="="?"and":"or",o=t==="="?"<":">=",a=this.first.apply(e,i,r),l=this.last.apply(e,o,r);return{dataType:"boolean",expressionType:(0,Vyt.maxExpressionType)(a.expressionType,l.expressionType),value:(0,Gyt.compose)(a.value,s,l.value)}}case">":return this.last.apply(e,">=",r);case">=":return this.first.apply(e,">=",r);case"<":return this.first.apply(e,"<",r);case"<=":return this.last.apply(e,"<",r)}throw new Error("mysterious error in range computation")}requestExpression(e){}getExpression(e){return(0,Wyt.errorFor)("a range is not a value")}};gB.Range=T7e});var Mne=G(vB=>{"use strict";d();Object.defineProperty(vB,"__esModule",{value:!0});vB.ExprGranularTime=void 0;var Ine=Bs(),Yyt=xf(),yB=xB(),F7e=$u(),D7e=Y7(),O7e=m_(),Kyt=Xo(),N7e=class extends Kyt.ExpressionDef{constructor(e,t,r){super({expr:e});this.expr=e,this.units=t,this.truncate=r,this.elementType="granularTime",this.legalChildTypes=[F7e.FT.timestampT,F7e.FT.dateT]}granular(){return!0}getExpression(e){let t=this.units,r=this.expr.getExpression(e);if((0,Ine.isTimeFieldType)(r.dataType)){let i={...r,dataType:r.dataType,timeframe:t};return this.truncate&&(i.value=[{type:"dialect",function:"trunc",expr:{value:r.value,valueType:r.dataType},units:t}]),i}return this.log(`Cannot do time truncation on type '${r.dataType}'`),(0,Yyt.errorFor)("granularity typecheck")}apply(e,t,r){let i=this.getExpression(e).dataType,s=r.getExpression(e).dataType,o=(0,Ine.isDateUnit)(this.units)?"date":"timestamp";return i=="date"&&o=="date"?this.dateRange(e,t,r):this.timestampRange(e,t,r)}timestampRange(e,t,r){let i=this.getExpression(e),s=yB.ExprTime.fromValue("timestamp",i),o=new yB.ExprTime("timestamp",(0,O7e.timeOffset)("timestamp",i.value,"+",(0,Ine.mkExpr)`1`,this.units),i.expressionType);return new D7e.Range(s,o).apply(e,t,r)}dateRange(e,t,r){let i=this.getExpression(e),s=new yB.ExprTime("date",i.value,i.expressionType),o=(0,O7e.timeOffset)("date",i.value,"+",["1"],this.units),a=new yB.ExprTime("date",o,i.expressionType);return new D7e.Range(s,a).apply(e,t,r)}};vB.ExprGranularTime=N7e});var Pne=G(_B=>{"use strict";d();Object.defineProperty(_B,"__esModule",{value:!0});_B.ExprCompare=void 0;var Ea=$u(),Jyt=hF(),Xyt=hB(),Zyt=Mne(),e3t={"~":[Ea.FT.stringT],"!~":[Ea.FT.stringT],"<":[Ea.FT.numberT,Ea.FT.stringT,Ea.FT.dateT,Ea.FT.timestampT],"<=":[Ea.FT.numberT,Ea.FT.stringT,Ea.FT.dateT,Ea.FT.timestampT],"=":[Ea.FT.numberT,Ea.FT.stringT,Ea.FT.dateT,Ea.FT.timestampT],"!=":[Ea.FT.numberT,Ea.FT.stringT,Ea.FT.dateT,Ea.FT.timestampT],">=":[Ea.FT.numberT,Ea.FT.stringT,Ea.FT.dateT,Ea.FT.timestampT],">":[Ea.FT.numberT,Ea.FT.stringT,Ea.FT.dateT,Ea.FT.timestampT]},R7e=class extends Xyt.BinaryBoolean{constructor(e,t,r){super(e,t,r);this.elementType="a<=>b",this.legalChildTypes=e3t[t]}getExpression(e){if(!this.right.granular()){let t=this.right.requestExpression(e);if(t&&(0,Jyt.isGranularResult)(t))return new Zyt.ExprGranularTime(this.right,t.timeframe,!1).apply(e,this.op,this.left)}return this.right.apply(e,this.op,this.left)}};_B.ExprCompare=R7e});var k7e=G(bB=>{"use strict";d();Object.defineProperty(bB,"__esModule",{value:!0});bB.Apply=void 0;var t3t=lB(),n3t=Pne(),L7e=class extends n3t.ExprCompare{constructor(e,t){super(e,t3t.Comparison.EqualTo,t);this.left=e,this.right=t,this.elementType="apply"}};bB.Apply=L7e});var SB=G(EB=>{"use strict";d();Object.defineProperty(EB,"__esModule",{value:!0});EB.BinaryNumeric=void 0;var r3t=$u(),i3t=Xo(),I7e=class extends i3t.ExpressionDef{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="numeric binary abstract",this.legalChildTypes=[r3t.FT.numberT]}getExpression(e){return this.right.apply(e,this.op,this.left)}};EB.BinaryNumeric=I7e});var P7e=G(CB=>{"use strict";d();Object.defineProperty(CB,"__esModule",{value:!0});CB.Boolean=void 0;var s3t=Xo(),o3t=$u(),M7e=class extends s3t.ExpressionDef{constructor(e){super();this.value=e,this.elementType="boolean literal"}getExpression(){return{...o3t.FT.boolT,value:[this.value]}}};CB.Boolean=M7e});var j7e=G(wB=>{"use strict";d();Object.defineProperty(wB,"__esModule",{value:!0});wB.ExprAddSub=void 0;var a3t=SB(),B7e=class extends a3t.BinaryNumeric{constructor(){super(...arguments);this.elementType="+-"}};wB.ExprAddSub=B7e});var y_=G(TB=>{"use strict";d();Object.defineProperty(TB,"__esModule",{value:!0});TB.ExprAggregateFunction=void 0;var u3t=Bs(),AB=xf(),l3t=qP(),c3t=$u(),f3t=Xo(),q7e=class extends f3t.ExpressionDef{constructor(e,t){super();this.func=e,this.legalChildTypes=[c3t.FT.numberT],this.elementType=e,t&&(this.expr=t,this.has({expr:t}))}returns(e){return"number"}getExpression(e){var t,r;let i=(t=this.expr)===null||t===void 0?void 0:t.getExpression(e),s=(r=this.source)===null||r===void 0?void 0:r.refString;if(this.source){let o=this.source.getField(e).found;if(o){let a=o.typeDesc();if((0,u3t.isAtomicFieldType)(a.dataType))i={dataType:a.dataType,expressionType:a.expressionType,value:[{type:"field",path:this.source.refString}]},s=this.source.sourceString;else if(!(o instanceof l3t.StructSpaceFieldBase))return this.log(`Aggregate source cannot be a ${a.dataType}`),(0,AB.errorFor)(`Aggregate source cannot be a ${a.dataType}`)}else return this.log(`Reference to undefined value ${this.source.refString}`),(0,AB.errorFor)(`Reference to undefined value ${this.source.refString}`)}if(i===void 0)return this.log("Missing expression for aggregate function"),(0,AB.errorFor)("agggregate without expression");if(this.typeCheck(this.expr||this,{...i,expressionType:"scalar"})){let o={type:"aggregate",function:this.func,e:i.value};return s&&(o.structPath=s),{dataType:this.returns(i),expressionType:"aggregate",value:[o]}}return(0,AB.errorFor)("aggregate type check")}};TB.ExprAggregateFunction=q7e});var $7e=G(FB=>{"use strict";d();Object.defineProperty(FB,"__esModule",{value:!0});FB.ExprAlternationTree=void 0;var d3t=Bs(),h3t=xf(),p3t=hB(),m3t=kc(),U7e=class extends p3t.BinaryBoolean{constructor(e,t,r){super(e,t,r);this.elementType="alternation",this.elementType=`${t}alternation${t}`}apply(e,t,r){let i=this.left.apply(e,t,r),s=this.right.apply(e,t,r);return{dataType:"boolean",expressionType:(0,d3t.maxExpressionType)(i.expressionType,s.expressionType),value:(0,m3t.compose)(i.value,this.op==="&"?"and":"or",s.value)}}requestExpression(e){}getExpression(e){return this.log("Alternation tree has no value"),(0,h3t.errorFor)("no value from alternation tree")}};FB.ExprAlternationTree=U7e});var OB=G(DB=>{"use strict";d();Object.defineProperty(DB,"__esModule",{value:!0});DB.ExprAsymmetric=void 0;var x3t=y_(),z7e=class extends x3t.ExprAggregateFunction{constructor(e,t,r){super(e,t);this.func=e,this.expr=t,this.source=r,this.has({source:r})}defaultFieldName(){if(this.source&&this.expr===void 0){let e=this.source.nameString;switch(this.func){case"sum":return`total_${e}`;case"avg":return`avg_${e}`}}}};DB.ExprAsymmetric=z7e});var V7e=G(NB=>{"use strict";d();Object.defineProperty(NB,"__esModule",{value:!0});NB.ExprAvg=void 0;var g3t=OB(),H7e=class extends g3t.ExprAsymmetric{constructor(e,t){super("avg",e,t);this.has({source:t})}};NB.ExprAvg=H7e});var Q7e=G(K7=>{"use strict";d();Object.defineProperty(K7,"__esModule",{value:!0});K7.ExprCast=K7.isCastType=void 0;var y3t=m_(),v3t=Xo(),_3t=kc();function b3t(n){return["string","number","boolean","date","timestamp"].includes(n)}K7.isCastType=b3t;var W7e=class extends v3t.ExpressionDef{constructor(e,t,r=!1){super({expr:e});this.expr=e,this.castType=t,this.safe=r,this.elementType="cast"}getExpression(e){let t=this.expr.getExpression(e);return{dataType:this.castType,expressionType:t.expressionType,value:(0,_3t.compressExpr)((0,y3t.castTo)(this.castType,t.value,this.safe))}}};K7.ExprCast=W7e});var Y7e=G(RB=>{"use strict";d();Object.defineProperty(RB,"__esModule",{value:!0});RB.ExprCount=void 0;var E3t=y_(),G7e=class extends E3t.ExprAggregateFunction{constructor(e){super("count");this.source=e,this.elementType="count",this.has({source:e})}defaultFieldName(){if(this.source)return"count_"+this.source.nameString}getExpression(e){let t={type:"aggregate",function:"count",e:[]};return this.source&&(t.structPath=this.source.refString),{dataType:"number",expressionType:"aggregate",value:[t]}}};RB.ExprCount=G7e});var J7e=G(kB=>{"use strict";d();Object.defineProperty(kB,"__esModule",{value:!0});kB.ExprCountDistinct=void 0;var LB=$u(),S3t=y_(),K7e=class extends S3t.ExprAggregateFunction{constructor(e){super("count_distinct",e);this.legalChildTypes=[LB.FT.numberT,LB.FT.stringT,LB.FT.dateT,LB.FT.timestampT]}};kB.ExprCountDistinct=K7e});var eSe=G(IB=>{"use strict";d();Object.defineProperty(IB,"__esModule",{value:!0});IB.ExprFilter=void 0;var C3t=Bs(),X7e=xf(),w3t=$u(),A3t=Xo(),Z7e=class extends A3t.ExpressionDef{constructor(e,t){super({expr:e,filter:t});this.expr=e,this.filter=t,this.elementType="filtered expression",this.legalChildTypes=w3t.FT.anyAtomicT}getExpression(e){let t=this.filter.getFilterList(e),r=this.expr.getExpression(e);for(let i of t)if((0,C3t.expressionIsCalculation)(i.expressionType))return this.filter.log("Cannot filter a field with an aggregate or analytical computation"),(0,X7e.errorFor)("no filter on aggregate");return r.expressionType==="scalar"?r:this.typeCheck(this.expr,{...r,expressionType:"scalar"})?{...r,value:[{type:"filterExpression",e:r.value,filterList:t}]}:(this.expr.log(`Cannot filter '${r.dataType}' data`),(0,X7e.errorFor)("cannot filter type"))}};IB.ExprFilter=Z7e});var nSe=G(MB=>{"use strict";d();Object.defineProperty(MB,"__esModule",{value:!0});MB.ExprFunc=void 0;var T3t=Bs(),F3t=Xo(),D3t=kc(),tSe=class extends F3t.ExpressionDef{constructor(e,t){super({args:t});this.name=e,this.args=t,this.elementType="function call()"}getExpression(e){var t,r,i;let s="scalar",o,a=[`${this.name}(`];for(let p of this.args){let v=p.getExpression(e);s=(0,T3t.maxExpressionType)(s,v.expressionType),o?a.push(","):o=v.dataType,a.push(...v.value)}a.push(")");let l=e.dialectObj();return{dataType:(i=(r=(t=l==null?void 0:l.getFunctionInfo(this.name))===null||t===void 0?void 0:t.returnType)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"number",expressionType:s,value:(0,D3t.compressExpr)(a)}}};MB.ExprFunc=tSe});var iSe=G(PB=>{"use strict";d();Object.defineProperty(PB,"__esModule",{value:!0});PB.ExprIdReference=void 0;var O3t=Bs(),N3t=xf(),R3t=BP(),L3t=Xo(),rSe=class extends L3t.ExpressionDef{constructor(e){super();this.fieldReference=e,this.elementType="ExpressionIdReference",this.has({fieldPath:e})}get refString(){return this.fieldReference.refString}getExpression(e){let t=this.fieldReference.getField(e);if(t.found){let r=[{type:t.found.refType,path:this.refString}];return{...t.found.typeDesc(),value:r}}return this.log(t.error),(0,N3t.errorFor)(t.error)}apply(e,t,r){let i=this.fieldReference.getField(e).found;if(i instanceof R3t.SpaceParam){let s=i.parameter();if((0,O3t.isConditionParameter)(s)){let o=r.getExpression(e);return{dataType:"boolean",expressionType:o.expressionType,value:[{type:"apply",value:o.value,to:[{type:"parameter",path:this.refString}]}]}}}return super.apply(e,t,r)}};PB.ExprIdReference=rSe});var aSe=G(BB=>{"use strict";d();Object.defineProperty(BB,"__esModule",{value:!0});BB.ExprLogicalOp=void 0;var k3t=hB(),sSe=$u(),oSe=class extends k3t.BinaryBoolean{constructor(){super(...arguments);this.elementType="logical operator",this.legalChildTypes=[sSe.FT.boolT,{...sSe.FT.boolT,aggregate:!0}]}};BB.ExprLogicalOp=oSe});var lSe=G(qB=>{"use strict";d();Object.defineProperty(qB,"__esModule",{value:!0});qB.ExprMax=void 0;var jB=$u(),I3t=y_(),uSe=class extends I3t.ExprAggregateFunction{constructor(e){super("max",e);this.legalChildTypes=[jB.FT.numberT,jB.FT.stringT,jB.FT.dateT,jB.FT.timestampT]}returns(e){return e.dataType}};qB.ExprMax=uSe});var fSe=G($B=>{"use strict";d();Object.defineProperty($B,"__esModule",{value:!0});$B.ExprMin=void 0;var UB=$u(),M3t=y_(),cSe=class extends M3t.ExprAggregateFunction{constructor(e){super("min",e);this.legalChildTypes=[UB.FT.numberT,UB.FT.stringT,UB.FT.dateT,UB.FT.timestampT]}returns(e){return e.dataType}};$B.ExprMin=cSe});var hSe=G(zB=>{"use strict";d();Object.defineProperty(zB,"__esModule",{value:!0});zB.ExprMinus=void 0;var P3t=xf(),B3t=$u(),j3t=Xo(),dSe=class extends j3t.ExpressionDef{constructor(e){super({expr:e});this.expr=e,this.elementType="unary minus",this.legalChildTypes=[B3t.FT.numberT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?t.value.length>1?{...t,value:["-(",...t.value,")"]}:{...t,value:["-",...t.value]}:(0,P3t.errorFor)("negate requires number")}};zB.ExprMinus=dSe});var mSe=G(HB=>{"use strict";d();Object.defineProperty(HB,"__esModule",{value:!0});HB.ExprMulDiv=void 0;var q3t=SB(),pSe=class extends q3t.BinaryNumeric{constructor(){super(...arguments);this.elementType="*/%"}};HB.ExprMulDiv=pSe});var Bne=G(VB=>{"use strict";d();Object.defineProperty(VB,"__esModule",{value:!0});VB.Unary=void 0;var U3t=Xo(),xSe=class extends U3t.ExpressionDef{constructor(e){super({expr:e});this.expr=e}};VB.Unary=xSe});var vSe=G(WB=>{"use strict";d();Object.defineProperty(WB,"__esModule",{value:!0});WB.ExprNot=void 0;var $3t=xf(),gSe=$u(),z3t=Bne(),H3t=kc(),ySe=class extends z3t.Unary{constructor(e){super(e);this.elementType="not",this.legalChildTypes=[gSe.FT.boolT,gSe.FT.nullT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?{...t,dataType:"boolean",value:(0,H3t.nullsafeNot)(t.value)}:(0,$3t.errorFor)("not requires boolean")}};WB.ExprNot=ySe});var bSe=G(QB=>{"use strict";d();Object.defineProperty(QB,"__esModule",{value:!0});QB.ExprNow=void 0;var V3t=Xo(),_Se=class extends V3t.ExpressionDef{constructor(){super(...arguments);this.elementType="timestamp"}getExpression(e){return{dataType:"timestamp",expressionType:"scalar",value:[{type:"dialect",function:"now"}]}}};QB.ExprNow=_Se});var SSe=G(GB=>{"use strict";d();Object.defineProperty(GB,"__esModule",{value:!0});GB.ExprNULL=void 0;var W3t=Xo(),ESe=class extends W3t.ExpressionDef{constructor(){super(...arguments);this.elementType="NULL"}getExpression(){return{dataType:"null",value:["NULL"],expressionType:"scalar"}}};GB.ExprNULL=ESe});var wSe=G(YB=>{"use strict";d();Object.defineProperty(YB,"__esModule",{value:!0});YB.ExprNumber=void 0;var Q3t=$u(),G3t=Xo(),CSe=class extends G3t.ExpressionDef{constructor(e){super();this.n=e,this.elementType="numeric literal"}getExpression(e){return this.constantExpression()}constantExpression(){return{...Q3t.FT.numberT,value:[this.n]}}};YB.ExprNumber=CSe});var TSe=G(KB=>{"use strict";d();Object.defineProperty(KB,"__esModule",{value:!0});KB.ExprParens=void 0;var Y3t=Xo(),ASe=class extends Y3t.ExpressionDef{constructor(e){super({expr:e});this.expr=e,this.elementType="(expression)"}requestExpression(e){return this.expr.requestExpression(e)}getExpression(e){let t=this.expr.getExpression(e);return{...t,value:["(",...t.value,")"]}}};KB.ExprParens=ASe});var DSe=G(JB=>{"use strict";d();Object.defineProperty(JB,"__esModule",{value:!0});JB.ExprRegEx=void 0;var K3t=Xo(),FSe=class extends K3t.ExpressionDef{constructor(e){super();this.regex=e,this.elementType="regular expression literal"}getExpression(){return{dataType:"regular expression",expressionType:"scalar",value:[`r'${this.regex}'`]}}};JB.ExprRegEx=FSe});var NSe=G(XB=>{"use strict";d();Object.defineProperty(XB,"__esModule",{value:!0});XB.ExprString=void 0;var J3t=Xo(),X3t=$u(),OSe=class extends J3t.ExpressionDef{constructor(e){super();this.elementType="string literal";let r=e.slice(1,-1).replace(/\\(.)/g,"$1");this.value=r}getExpression(e){return{...X3t.FT.stringT,value:[{type:"dialect",function:"stringLiteral",literal:this.value}]}}};XB.ExprString=OSe});var LSe=G(ZB=>{"use strict";d();Object.defineProperty(ZB,"__esModule",{value:!0});ZB.ExprSum=void 0;var Z3t=OB(),RSe=class extends Z3t.ExprAsymmetric{constructor(e,t){super("sum",e,t);this.has({source:t})}};ZB.ExprSum=RSe});var kSe=G(ej=>{"use strict";d();Object.defineProperty(ej,"__esModule",{value:!0});ej.ExprTimeExtract=void 0;var J7=Bs(),mF=xf(),e5t=Xo(),t5t=Y7(),X7=class extends e5t.ExpressionDef{constructor(e,t){super({args:t});this.extractText=e,this.args=t,this.elementType="timeExtract"}static extractor(e){let t=X7.pluralMap[e];if(t)return t;if((0,J7.isExtractUnit)(e))return e}getExpression(e){let t=X7.extractor(this.extractText);if(t){if(this.args.length!==1)return this.log(`Extraction function ${t} requires one argument`),(0,mF.errorFor)("{this.name} arg count");let r=this.args[0];if(r instanceof t5t.Range){let i=r.first.getExpression(e),s=r.last.getExpression(e);return(0,J7.isTimeFieldType)(i.dataType)?(0,J7.isTimeFieldType)(s.dataType)?(0,J7.isTimestampUnit)(t)?{dataType:"number",expressionType:(0,J7.maxExpressionType)(i.expressionType,s.expressionType),value:[{type:"dialect",function:"timeDiff",units:t,left:{valueType:i.dataType,value:i.value},right:{valueType:s.dataType,value:s.value}}]}:(this.log(`Cannot extract ${t} from a range`),(0,mF.errorFor)(`${t} bad extraction`)):(r.last.log(`Cannot extract ${t} from '${s.dataType}'`),(0,mF.errorFor)(`${t} bad type ${s.dataType}`)):(r.first.log(`Can't extract ${t} from '${i.dataType}'`),(0,mF.errorFor)(`${t} bad type ${i.dataType}`))}else{let i=r.getExpression(e);return(0,J7.isTimeFieldType)(i.dataType)?{dataType:"number",expressionType:i.expressionType,value:[{type:"dialect",function:"extract",expr:{value:i.value,valueType:i.dataType},units:t}]}:(this.log(`${this.extractText}() requires time type, not '${i.dataType}'`),(0,mF.errorFor)(`${this.extractText} bad type ${i.dataType}`))}}throw this.internalError(`Illegal extraction unit '${this.extractText}'`)}};ej.ExprTimeExtract=X7;X7.pluralMap={years:"year",quarters:"quarter",months:"month",weeks:"week",days:"day",hours:"hour",minutes:"minute",seconds:"second"}});var MSe=G(tj=>{"use strict";d();Object.defineProperty(tj,"__esModule",{value:!0});tj.ReferenceField=void 0;var n5t=xh(),ISe=class extends n5t.SpaceField{constructor(e){super();this.fieldRef=e}getQueryFieldDef(e){let t=this.fieldRef.getField(e);return t.error&&this.fieldRef.log(t.error),this.fieldRef.refString}typeDesc(){return{dataType:"unknown",expressionType:"scalar"}}};tj.ReferenceField=ISe});var BSe=G(nj=>{"use strict";d();Object.defineProperty(nj,"__esModule",{value:!0});nj.WildSpaceField=void 0;var r5t=xh(),PSe=class extends r5t.SpaceField{constructor(e){super();this.wildText=e}typeDesc(){throw new Error("should never ask a wild field for its type")}getQueryFieldDef(e){return this.wildText}};nj.WildSpaceField=PSe});var xF=G(T0=>{"use strict";d();var i5t=T0&&T0.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),s5t=T0&&T0.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),o5t=T0&&T0.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&i5t(e,n,t);return s5t(e,n),e};Object.defineProperty(T0,"__esModule",{value:!0});T0.ReduceFieldSpace=T0.QuerySpace=T0.QueryInputSpace=void 0;var a5t=o5t(Bs()),jne=Dne(),u5t=p5(),l5t=h5(),c5t=xh(),f5t=Nne(),jSe=d_(),d5t=AP(),qne=fF(),h5t=MSe(),p5t=BSe(),qSe=Rne(),Une=class extends qSe.RefinedSpace{constructor(e,t){let r=new f5t.SpaceSeed(e);super(r.structDef);this.result=t,this.extendList=[]}extendSource(e){this.addField(e),e instanceof l5t.Join?this.extendList.push(e.name.refString):this.extendList.push(e.defineName)}};T0.QueryInputSpace=Une;var $ne=class extends qSe.RefinedSpace{constructor(e){super(e.emptyStructDef());this.queryInputSpace=e,this.exprSpace=new Une(e,this)}log(e){this.astEl&&this.astEl.log(e)}addMembers(e){for(let t of e)t instanceof qne.FieldReference?this.addReference(t):t instanceof qne.WildcardFieldReference?this.addWild(t):this.addField(t)}addReference(e){let t=e.outputName;this.entry(t)?e.log(`Output already has a field named '${t}'`):this.setEntry(t,new h5t.ReferenceField(e))}addWild(e){this.setEntry(e.refString,new p5t.WildSpaceField(e.refString))}checkUngroup(e,t){if(!this.entry(e.refString))if(t&&this.exprSpace.nestParent){let r=this.exprSpace.nestParent;r.whenComplete(()=>{r.result.checkUngroup(e,t)})}else{let r=t?"exclude()":"all()";e.log(`${r} '${e.refString}' is missing from query output`)}}addQueryItems(...e){for(let t of e)if(t instanceof qne.FieldReference||t instanceof d5t.NestReference)this.addReference(t);else if(t instanceof u5t.FieldDeclaration)this.addField(t);else if((0,jSe.isNestedQuery)(t)){let r=new jSe.QueryFieldAST(this,t,t.name);r.nestParent=this.exprSpace,this.setEntry(t.name,r)}else{let r=t}}canContain(e){return!0}queryFieldDefs(){let e=[];for(let[t,r]of this.entries())if(r instanceof c5t.SpaceField){let i=r.getQueryFieldDef(this.exprSpace);if(i)this.canContain(i)?e.push(i):this.log(`'${t}' not legal in ${this.segmentType}`);else throw new Error(`'${t}' does not have a QueryFieldDef`)}return this.isComplete(),e}getQuerySegment(e){let t=this.getPipeSegment(e);if(a5t.isQuerySegment(t))return t;throw new Error("TODO NOT POSSIBLE")}getPipeSegment(e){if(this.segmentType=="index")throw new Error("INDEX FIELD PIPE SEGMENT MIS HANDLED");if(e==null?void 0:e.extendSource)for(let r of e.extendSource)this.exprSpace.addFieldDef(r);let t={type:this.segmentType,fields:this.queryFieldDefs()};if(t.fields=(0,jne.mergeFields)(e==null?void 0:e.fields,t.fields),(e==null?void 0:e.extendSource)&&(t.extendSource=e.extendSource),this.exprSpace.extendList.length>0){let r=[],i=this.exprSpace.structDef();for(let s of this.exprSpace.extendList){let o=i.fields.find(a=>(0,jne.nameOf)(a)==s);o&&r.push(o)}t.extendSource=(0,jne.mergeFields)(t.extendSource,r)}return this.isComplete(),t}};T0.QuerySpace=$ne;var USe=class extends $ne{constructor(){super(...arguments);this.segmentType="reduce"}};T0.ReduceFieldSpace=USe});var zSe=G(rj=>{"use strict";d();Object.defineProperty(rj,"__esModule",{value:!0});rj.ExprUngroup=void 0;var m5t=Bs(),zne=xf(),x5t=xF(),g5t=$u(),y5t=p5(),v5t=Xo(),$Se=class extends v5t.ExpressionDef{constructor(e,t,r){super({expr:t,fields:r});this.control=e,this.expr=t,this.fields=r,this.legalChildTypes=g5t.FT.anyAtomicT,this.elementType="ungroup"}returns(e){return"number"}getExpression(e){let t=this.expr.getExpression(e);if(!(0,m5t.expressionIsAggregate)(t.expressionType))return this.expr.log(`${this.control}() expression must be an aggregate`),(0,zne.errorFor)("ungrouped scalar");let r={type:this.control,e:t.value};if(this.typeCheck(this.expr,{...t,expressionType:"scalar"})){if(this.fields.length>0){let i=e;if(e instanceof y5t.DefSpace&&(i=e.realFS),!(i instanceof x5t.QueryInputSpace))return this.log(`${this.control}() must be in a query -- weird internal error`),(0,zne.errorFor)("ungroup query check");let s=i.result,o=[],a=this.control=="exclude";for(let l of this.fields)s.whenComplete(()=>{s.checkUngroup(l,a)}),o.push(l.refString);r.fields=o}return{dataType:this.returns(t),expressionType:"analytic",value:[r]}}return this.log(`${this.control}() incompatible type`),(0,zne.errorFor)("ungrouped type check")}};rj.ExprUngroup=$Se});var QSe=G(oj=>{"use strict";d();Object.defineProperty(oj,"__esModule",{value:!0});oj.ForRange=void 0;var Hne=xf(),HSe=$u(),ij=m_(),_5t=Xo(),b5t=hF(),sj=xB(),VSe=Y7(),WSe=class extends _5t.ExpressionDef{constructor(e,t,r){super({from:e,duration:t,timeframe:r});this.from=e,this.duration=t,this.timeframe=r,this.elementType="forRange",this.legalChildTypes=[HSe.FT.timestampT,HSe.FT.dateT]}apply(e,t,r){let i=this.from.getExpression(e),s=r.getExpression(e);if(!this.typeCheck(r,s))return(0,Hne.errorFor)("no time for range");let o=this.duration.getExpression(e);if(o.dataType!=="number")return this.log(`FOR duration count must be a number, not '${o.dataType}'`),(0,Hne.errorFor)("FOR not number");let a=this.timeframe.text,f=(0,ij.resolution)(a);if(i.dataType==="timestamp"&&(f="timestamp"),s.dataType==="date"&&f==="date"){let M=this.from,q=(0,ij.timeOffset)("date",i.value,"+",o.value,a),N=new sj.ExprTime("date",q);return new VSe.Range(M,N).apply(e,t,r)}let p=sj.ExprTime.fromValue("timestamp",s),v=this.from,b=i.value;i.dataType==="date"&&((0,b5t.isGranularResult)(i)&&i.alsoTimestamp||(b=(0,ij.castDateToTimestamp)(b)),v=new sj.ExprTime("timestamp",b,i.expressionType));let F=(0,ij.timeOffset)("timestamp",b,"+",o.value,a),D=new sj.ExprTime("timestamp",F,i.expressionType);return new VSe.Range(v,D).apply(e,t,p)}requestExpression(e){}getExpression(e){return this.log("A Range is not a value"),(0,Hne.errorFor)("range has no value")}};oj.ForRange=WSe});var t9e=G(vd=>{"use strict";d();Object.defineProperty(vd,"__esModule",{value:!0});function GSe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Pp(n,e,t){return e&&GSe(n.prototype,e),t&&GSe(n,t),n}function yh(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Vne(n){return Vne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vne(n)}function aj(n,e){return aj=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},aj(n,e)}function E5t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function uj(n,e,t){return E5t()?uj=Reflect.construct:uj=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&aj(f,o.prototype),f},uj.apply(null,arguments)}function S5t(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Wne(n){var e=typeof Map=="function"?new Map:void 0;return Wne=function(r){if(r===null||!S5t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return uj(r,arguments,Vne(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),aj(i,r)},Wne(n)}function C5t(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function w5t(n,e){if(!!n){if(typeof n=="string")return YSe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YSe(n,e)}}function YSe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function v5(n){var e=0;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(n=w5t(n)))return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=n[Symbol.iterator](),e.next.bind(e)}var v_=function(n){yh(e,n);function e(){return n.apply(this,arguments)||this}return e}(Wne(Error)),A5t=function(n){yh(e,n);function e(t){return n.call(this,"Invalid DateTime: "+t.toMessage())||this}return e}(v_),T5t=function(n){yh(e,n);function e(t){return n.call(this,"Invalid Interval: "+t.toMessage())||this}return e}(v_),F5t=function(n){yh(e,n);function e(t){return n.call(this,"Invalid Duration: "+t.toMessage())||this}return e}(v_),gF=function(n){yh(e,n);function e(){return n.apply(this,arguments)||this}return e}(v_),KSe=function(n){yh(e,n);function e(t){return n.call(this,"Invalid unit "+t)||this}return e}(v_),vh=function(n){yh(e,n);function e(){return n.apply(this,arguments)||this}return e}(v_),_5=function(n){yh(e,n);function e(){return n.call(this,"Zone is an abstract class")||this}return e}(v_),ii="numeric",Bp="short",gd="long",lj={year:ii,month:ii,day:ii},Qne={year:ii,month:Bp,day:ii},JSe={year:ii,month:Bp,day:ii,weekday:Bp},Gne={year:ii,month:gd,day:ii},Yne={year:ii,month:gd,day:ii,weekday:gd},Kne={hour:ii,minute:ii},Jne={hour:ii,minute:ii,second:ii},Xne={hour:ii,minute:ii,second:ii,timeZoneName:Bp},Zne={hour:ii,minute:ii,second:ii,timeZoneName:gd},ere={hour:ii,minute:ii,hour12:!1},tre={hour:ii,minute:ii,second:ii,hour12:!1},nre={hour:ii,minute:ii,second:ii,hour12:!1,timeZoneName:Bp},rre={hour:ii,minute:ii,second:ii,hour12:!1,timeZoneName:gd},ire={year:ii,month:ii,day:ii,hour:ii,minute:ii},sre={year:ii,month:ii,day:ii,hour:ii,minute:ii,second:ii},ore={year:ii,month:Bp,day:ii,hour:ii,minute:ii},are={year:ii,month:Bp,day:ii,hour:ii,minute:ii,second:ii},XSe={year:ii,month:Bp,day:ii,weekday:Bp,hour:ii,minute:ii},ure={year:ii,month:gd,day:ii,hour:ii,minute:ii,timeZoneName:Bp},lre={year:ii,month:gd,day:ii,hour:ii,minute:ii,second:ii,timeZoneName:Bp},cre={year:ii,month:gd,day:ii,weekday:gd,hour:ii,minute:ii,timeZoneName:gd},fre={year:ii,month:gd,day:ii,weekday:gd,hour:ii,minute:ii,second:ii,timeZoneName:gd};function wo(n){return typeof n=="undefined"}function __(n){return typeof n=="number"}function cj(n){return typeof n=="number"&&n%1===0}function D5t(n){return typeof n=="string"}function O5t(n){return Object.prototype.toString.call(n)==="[object Date]"}function Am(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function yF(){return!wo(Intl.DateTimeFormat.prototype.formatToParts)}function ZSe(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function N5t(n){return Array.isArray(n)?n:[n]}function eCe(n,e,t){if(n.length!==0)return n.reduce(function(r,i){var s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function tCe(n,e){return e.reduce(function(t,r){return t[r]=n[r],t},{})}function Z7(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function jx(n,e,t){return cj(n)&&n>=e&&n<=t}function R5t(n,e){return n-e*Math.floor(n/e)}function eS(n,e){e===void 0&&(e=2);var t=n<0?"-":"",r=t?n*-1:n,i;return r.toString().length<e?i=("0".repeat(e)+r).slice(-e):i=r.toString(),""+t+i}function Wf(n){if(!(wo(n)||n===null||n===""))return parseInt(n,10)}function dre(n){if(!(wo(n)||n===null||n==="")){var e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function hre(n,e,t){t===void 0&&(t=!1);var r=Math.pow(10,e),i=t?Math.trunc:Math.round;return i(n*r)/r}function vF(n){return n%4===0&&(n%100!==0||n%400===0)}function _F(n){return vF(n)?366:365}function fj(n,e){var t=R5t(e-1,12)+1,r=n+(e-t)/12;return t===2?vF(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function pre(n){var e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function dj(n){var e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function mre(n){return n>99?n:n>60?1900+n:2e3+n}function nCe(n,e,t,r){r===void 0&&(r=null);var i=new Date(n),s={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var o=Object.assign({timeZoneName:e},s),a=Am();if(a&&yF()){var l=new Intl.DateTimeFormat(t,o).formatToParts(i).find(function(F){return F.type.toLowerCase()==="timezonename"});return l?l.value:null}else if(a){var f=new Intl.DateTimeFormat(t,s).format(i),p=new Intl.DateTimeFormat(t,o).format(i),v=p.substring(f.length),b=v.replace(/^[, \u200e]+/,"");return b}else return null}function hj(n,e){var t=parseInt(n,10);Number.isNaN(t)&&(t=0);var r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function rCe(n){var e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new vh("Invalid unit value "+n);return e}function pj(n,e,t){var r={};for(var i in n)if(Z7(n,i)){if(t.indexOf(i)>=0)continue;var s=n[i];if(s==null)continue;r[e(i)]=rCe(s)}return r}function mj(n,e){var t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return""+i+eS(t,2)+":"+eS(r,2);case"narrow":return""+i+t+(r>0?":"+r:"");case"techie":return""+i+eS(t,2)+eS(r,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function xj(n){return tCe(n,["hour","minute","second","millisecond"])}var iCe=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function hu(n){return JSON.stringify(n,Object.keys(n).sort())}var L5t=["January","February","March","April","May","June","July","August","September","October","November","December"],sCe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k5t=["J","F","M","A","M","J","J","A","S","O","N","D"];function oCe(n){switch(n){case"narrow":return[].concat(k5t);case"short":return[].concat(sCe);case"long":return[].concat(L5t);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var aCe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],uCe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],I5t=["M","T","W","T","F","S","S"];function lCe(n){switch(n){case"narrow":return[].concat(I5t);case"short":return[].concat(uCe);case"long":return[].concat(aCe);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var cCe=["AM","PM"],M5t=["Before Christ","Anno Domini"],P5t=["BC","AD"],B5t=["B","A"];function fCe(n){switch(n){case"narrow":return[].concat(B5t);case"short":return[].concat(P5t);case"long":return[].concat(M5t);default:return null}}function j5t(n){return cCe[n.hour<12?0:1]}function q5t(n,e){return lCe(e)[n.weekday-1]}function U5t(n,e){return oCe(e)[n.month-1]}function $5t(n,e){return fCe(e)[n.year<0?0:1]}function z5t(n,e,t,r){t===void 0&&(t="always"),r===void 0&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){var o=n==="days";switch(e){case 1:return o?"tomorrow":"next "+i[n][0];case-1:return o?"yesterday":"last "+i[n][0];case 0:return o?"today":"this "+i[n][0]}}var a=Object.is(e,-0)||e<0,l=Math.abs(e),f=l===1,p=i[n],v=r?f?p[1]:p[2]||p[1]:f?i[n][0]:n;return a?l+" "+v+" ago":"in "+l+" "+v}function H5t(n){var e=tCe(n,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=hu(e),r="EEEE, LLLL d, yyyy, h:mm a";switch(t){case hu(lj):return"M/d/yyyy";case hu(Qne):return"LLL d, yyyy";case hu(JSe):return"EEE, LLL d, yyyy";case hu(Gne):return"LLLL d, yyyy";case hu(Yne):return"EEEE, LLLL d, yyyy";case hu(Kne):return"h:mm a";case hu(Jne):return"h:mm:ss a";case hu(Xne):return"h:mm a";case hu(Zne):return"h:mm a";case hu(ere):return"HH:mm";case hu(tre):return"HH:mm:ss";case hu(nre):return"HH:mm";case hu(rre):return"HH:mm";case hu(ire):return"M/d/yyyy, h:mm a";case hu(ore):return"LLL d, yyyy, h:mm a";case hu(ure):return"LLLL d, yyyy, h:mm a";case hu(cre):return r;case hu(sre):return"M/d/yyyy, h:mm:ss a";case hu(are):return"LLL d, yyyy, h:mm:ss a";case hu(XSe):return"EEE, d LLL yyyy, h:mm a";case hu(lre):return"LLLL d, yyyy, h:mm:ss a";case hu(fre):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function dCe(n,e){for(var t="",r=v5(n),i;!(i=r()).done;){var s=i.value;s.literal?t+=s.val:t+=e(s.val)}return t}var V5t={D:lj,DD:Qne,DDD:Gne,DDDD:Yne,t:Kne,tt:Jne,ttt:Xne,tttt:Zne,T:ere,TT:tre,TTT:nre,TTTT:rre,f:ire,ff:ore,fff:ure,ffff:cre,F:sre,FF:are,FFF:lre,FFFF:fre},Tm=function(){n.create=function(r,i){return i===void 0&&(i={}),new n(r,i)},n.parseFormat=function(r){for(var i=null,s="",o=!1,a=[],l=0;l<r.length;l++){var f=r.charAt(l);f==="'"?(s.length>0&&a.push({literal:o,val:s}),i=null,s="",o=!o):o||f===i?s+=f:(s.length>0&&a.push({literal:!1,val:s}),s=f,i=f)}return s.length>0&&a.push({literal:o,val:s}),a},n.macroTokenToFormatOpts=function(r){return V5t[r]};function n(t,r){this.opts=r,this.loc=t,this.systemLoc=null}var e=n.prototype;return e.formatWithSystemDefault=function(r,i){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var s=this.systemLoc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTime=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTimeParts=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.formatToParts()},e.resolvedOptions=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.resolvedOptions()},e.num=function(r,i){if(i===void 0&&(i=0),this.opts.forceSimple)return eS(r,i);var s=Object.assign({},this.opts);return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(r)},e.formatDateTimeFromString=function(r,i){var s=this,o=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&yF(),l=function(N,B){return s.loc.extract(r,N,B)},f=function(N){return r.isOffsetFixed&&r.offset===0&&N.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,N.format):""},p=function(){return o?j5t(r):l({hour:"numeric",hour12:!0},"dayperiod")},v=function(N,B){return o?U5t(r,N):l(B?{month:N}:{month:N,day:"numeric"},"month")},b=function(N,B){return o?q5t(r,N):l(B?{weekday:N}:{weekday:N,month:"long",day:"numeric"},"weekday")},F=function(N){var B=n.macroTokenToFormatOpts(N);return B?s.formatWithSystemDefault(r,B):N},D=function(N){return o?$5t(r,N):l({era:N},"era")},M=function(N){switch(N){case"S":return s.num(r.millisecond);case"u":case"SSS":return s.num(r.millisecond,3);case"s":return s.num(r.second);case"ss":return s.num(r.second,2);case"m":return s.num(r.minute);case"mm":return s.num(r.minute,2);case"h":return s.num(r.hour%12===0?12:r.hour%12);case"hh":return s.num(r.hour%12===0?12:r.hour%12,2);case"H":return s.num(r.hour);case"HH":return s.num(r.hour,2);case"Z":return f({format:"narrow",allowZ:s.opts.allowZ});case"ZZ":return f({format:"short",allowZ:s.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:s.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:s.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:s.loc.locale});case"z":return r.zoneName;case"a":return p();case"d":return a?l({day:"numeric"},"day"):s.num(r.day);case"dd":return a?l({day:"2-digit"},"day"):s.num(r.day,2);case"c":return s.num(r.weekday);case"ccc":return b("short",!0);case"cccc":return b("long",!0);case"ccccc":return b("narrow",!0);case"E":return s.num(r.weekday);case"EEE":return b("short",!1);case"EEEE":return b("long",!1);case"EEEEE":return b("narrow",!1);case"L":return a?l({month:"numeric",day:"numeric"},"month"):s.num(r.month);case"LL":return a?l({month:"2-digit",day:"numeric"},"month"):s.num(r.month,2);case"LLL":return v("short",!0);case"LLLL":return v("long",!0);case"LLLLL":return v("narrow",!0);case"M":return a?l({month:"numeric"},"month"):s.num(r.month);case"MM":return a?l({month:"2-digit"},"month"):s.num(r.month,2);case"MMM":return v("short",!1);case"MMMM":return v("long",!1);case"MMMMM":return v("narrow",!1);case"y":return a?l({year:"numeric"},"year"):s.num(r.year);case"yy":return a?l({year:"2-digit"},"year"):s.num(r.year.toString().slice(-2),2);case"yyyy":return a?l({year:"numeric"},"year"):s.num(r.year,4);case"yyyyyy":return a?l({year:"numeric"},"year"):s.num(r.year,6);case"G":return D("short");case"GG":return D("long");case"GGGGG":return D("narrow");case"kk":return s.num(r.weekYear.toString().slice(-2),2);case"kkkk":return s.num(r.weekYear,4);case"W":return s.num(r.weekNumber);case"WW":return s.num(r.weekNumber,2);case"o":return s.num(r.ordinal);case"ooo":return s.num(r.ordinal,3);case"q":return s.num(r.quarter);case"qq":return s.num(r.quarter,2);case"X":return s.num(Math.floor(r.ts/1e3));case"x":return s.num(r.ts);default:return F(N)}};return dCe(n.parseFormat(i),M)},e.formatDurationFromString=function(r,i){var s=this,o=function(b){switch(b[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},a=function(b){return function(F){var D=o(F);return D?s.num(b.get(D),F.length):F}},l=n.parseFormat(i),f=l.reduce(function(v,b){var F=b.literal,D=b.val;return F?v:v.concat(D)},[]),p=r.shiftTo.apply(r,f.map(o).filter(function(v){return v}));return dCe(l,a(p))},n}(),jp=function(){function n(t,r){this.reason=t,this.explanation=r}var e=n.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},n}(),tS=function(){function n(){}var e=n.prototype;return e.offsetName=function(r,i){throw new _5},e.formatOffset=function(r,i){throw new _5},e.offset=function(r){throw new _5},e.equals=function(r){throw new _5},Pp(n,[{key:"type",get:function(){throw new _5}},{key:"name",get:function(){throw new _5}},{key:"universal",get:function(){throw new _5}},{key:"isValid",get:function(){throw new _5}}]),n}(),xre=null,hCe=function(n){yh(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return nCe(i,o,a)},t.formatOffset=function(i,s){return mj(this.offset(i),s)},t.offset=function(i){return-new Date(i).getTimezoneOffset()},t.equals=function(i){return i.type==="local"},Pp(e,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Am()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return xre===null&&(xre=new e),xre}}]),e}(tS),W5t=RegExp("^"+iCe.source+"$"),gj={};function Q5t(n){return gj[n]||(gj[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),gj[n]}var G5t={year:0,month:1,day:2,hour:3,minute:4,second:5};function Y5t(n,e){var t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),i=r[1],s=r[2],o=r[3],a=r[4],l=r[5],f=r[6];return[o,i,s,a,l,f]}function K5t(n,e){for(var t=n.formatToParts(e),r=[],i=0;i<t.length;i++){var s=t[i],o=s.type,a=s.value,l=G5t[o];wo(l)||(r[l]=parseInt(a,10))}return r}var yj={},Fm=function(n){yh(e,n),e.create=function(i){return yj[i]||(yj[i]=new e(i)),yj[i]},e.resetCache=function(){yj={},gj={}},e.isValidSpecifier=function(i){return!!(i&&i.match(W5t))},e.isValidZone=function(i){try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}},e.parseGMTOffset=function(i){if(i){var s=i.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(s)return-60*parseInt(s[1])}return null};function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i.valid=e.isValidZone(r),i}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return nCe(i,o,a,this.name)},t.formatOffset=function(i,s){return mj(this.offset(i),s)},t.offset=function(i){var s=new Date(i);if(isNaN(s))return NaN;var o=Q5t(this.name),a=o.formatToParts?K5t(o,s):Y5t(o,s),l=a[0],f=a[1],p=a[2],v=a[3],b=a[4],F=a[5],D=v===24?0:v,M=pre({year:l,month:f,day:p,hour:D,minute:b,second:F,millisecond:0}),q=+s,N=q%1e3;return q-=N>=0?N:1e3+N,(M-q)/(60*1e3)},t.equals=function(i){return i.type==="iana"&&i.name===this.name},Pp(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(tS),gre=null,yd=function(n){yh(e,n),e.instance=function(i){return i===0?e.utcInstance:new e(i)},e.parseSpecifier=function(i){if(i){var s=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new e(hj(s[1],s[2]))}return null},Pp(e,null,[{key:"utcInstance",get:function(){return gre===null&&(gre=new e(0)),gre}}]);function e(r){var i;return i=n.call(this)||this,i.fixed=r,i}var t=e.prototype;return t.offsetName=function(){return this.name},t.formatOffset=function(i,s){return mj(this.fixed,s)},t.offset=function(){return this.fixed},t.equals=function(i){return i.type==="fixed"&&i.fixed===this.fixed},Pp(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+mj(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),e}(tS),yre=function(n){yh(e,n);function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i}var t=e.prototype;return t.offsetName=function(){return null},t.formatOffset=function(){return""},t.offset=function(){return NaN},t.equals=function(){return!1},Pp(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(tS);function b_(n,e){var t;if(wo(n)||n===null)return e;if(n instanceof tS)return n;if(D5t(n)){var r=n.toLowerCase();return r==="local"?e:r==="utc"||r==="gmt"?yd.utcInstance:(t=Fm.parseGMTOffset(n))!=null?yd.instance(t):Fm.isValidSpecifier(r)?Fm.create(n):yd.parseSpecifier(r)||new yre(n)}else return __(n)?yd.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new yre(n)}var pCe=function(){return Date.now()},vre=null,mCe=null,xCe=null,gCe=null,yCe=!1,zu=function(){function n(){}return n.resetCaches=function(){ac.resetCache(),Fm.resetCache()},Pp(n,null,[{key:"now",get:function(){return pCe},set:function(t){pCe=t}},{key:"defaultZoneName",get:function(){return n.defaultZone.name},set:function(t){t?vre=b_(t):vre=null}},{key:"defaultZone",get:function(){return vre||hCe.instance}},{key:"defaultLocale",get:function(){return mCe},set:function(t){mCe=t}},{key:"defaultNumberingSystem",get:function(){return xCe},set:function(t){xCe=t}},{key:"defaultOutputCalendar",get:function(){return gCe},set:function(t){gCe=t}},{key:"throwOnInvalid",get:function(){return yCe},set:function(t){yCe=t}}]),n}(),_re={};function bre(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=_re[t];return r||(r=new Intl.DateTimeFormat(n,e),_re[t]=r),r}var Ere={};function J5t(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=Ere[t];return r||(r=new Intl.NumberFormat(n,e),Ere[t]=r),r}var Sre={};function X5t(n,e){e===void 0&&(e={});var t=e,r=t.base,i=C5t(t,["base"]),s=JSON.stringify([n,i]),o=Sre[s];return o||(o=new Intl.RelativeTimeFormat(n,e),Sre[s]=o),o}var E_=null;function Z5t(){if(E_)return E_;if(Am()){var n=new Intl.DateTimeFormat().resolvedOptions().locale;return E_=!n||n==="und"?"en-US":n,E_}else return E_="en-US",E_}function e4t(n){var e=n.indexOf("-u-");if(e===-1)return[n];var t,r=n.substring(0,e);try{t=bre(n).resolvedOptions()}catch{t=bre(r).resolvedOptions()}var i=t,s=i.numberingSystem,o=i.calendar;return[r,s,o]}function t4t(n,e,t){return Am()?((t||e)&&(n+="-u",t&&(n+="-ca-"+t),e&&(n+="-nu-"+e)),n):[]}function n4t(n){for(var e=[],t=1;t<=12;t++){var r=cl.utc(2016,t,1);e.push(n(r))}return e}function r4t(n){for(var e=[],t=1;t<=7;t++){var r=cl.utc(2016,11,13+t);e.push(n(r))}return e}function vj(n,e,t,r,i){var s=n.listingMode(t);return s==="error"?null:s==="en"?r(e):i(e)}function i4t(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||Am()&&new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var s4t=function(){function n(t,r,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!r&&Am()){var s={useGrouping:!1};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=J5t(t,s)}}var e=n.prototype;return e.format=function(r){if(this.inf){var i=this.floor?Math.floor(r):r;return this.inf.format(i)}else{var s=this.floor?Math.floor(r):hre(r,3);return eS(s,this.padTo)}},n}(),o4t=function(){function n(t,r,i){this.opts=i,this.hasIntl=Am();var s;if(t.zone.universal&&this.hasIntl){var o=-1*(t.offset/60),a=o>=0?"Etc/GMT+"+o:"Etc/GMT"+o,l=Fm.isValidZone(a);t.offset!==0&&l?(s=a,this.dt=t):(s="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:cl.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,s=t.zone.name);if(this.hasIntl){var f=Object.assign({},this.opts);s&&(f.timeZone=s),this.dtf=bre(r,f)}}var e=n.prototype;return e.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var r=H5t(this.opts),i=ac.create("en-US");return Tm.create(i).formatDateTimeFromString(this.dt,r)},e.formatToParts=function(){return this.hasIntl&&yF()?this.dtf.formatToParts(this.dt.toJSDate()):[]},e.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},n}(),a4t=function(){function n(t,r,i){this.opts=Object.assign({style:"long"},i),!r&&ZSe()&&(this.rtf=X5t(t,i))}var e=n.prototype;return e.format=function(r,i){return this.rtf?this.rtf.format(r,i):z5t(i,r,this.opts.numeric,this.opts.style!=="long")},e.formatToParts=function(r,i){return this.rtf?this.rtf.formatToParts(r,i):[]},n}(),ac=function(){n.fromOpts=function(r){return n.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)},n.create=function(r,i,s,o){o===void 0&&(o=!1);var a=r||zu.defaultLocale,l=a||(o?"en-US":Z5t()),f=i||zu.defaultNumberingSystem,p=s||zu.defaultOutputCalendar;return new n(l,f,p,a)},n.resetCache=function(){E_=null,_re={},Ere={},Sre={}},n.fromObject=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar;return n.create(s,o,a)};function n(t,r,i,s){var o=e4t(t),a=o[0],l=o[1],f=o[2];this.locale=a,this.numberingSystem=r||l||null,this.outputCalendar=i||f||null,this.intl=t4t(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}var e=n.prototype;return e.listingMode=function(r){r===void 0&&(r=!0);var i=Am(),s=i&&yF(),o=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!s&&!(o&&a)&&!r?"error":!s||o&&a?"en":"intl"},e.clone=function(r){return!r||Object.getOwnPropertyNames(r).length===0?this:n.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||!1)},e.redefaultToEN=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!0}))},e.redefaultToSystem=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!1}))},e.months=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),vj(this,r,s,oCe,function(){var a=i?{month:r,day:"numeric"}:{month:r},l=i?"format":"standalone";return o.monthsCache[l][r]||(o.monthsCache[l][r]=n4t(function(f){return o.extract(f,a,"month")})),o.monthsCache[l][r]})},e.weekdays=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),vj(this,r,s,lCe,function(){var a=i?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},l=i?"format":"standalone";return o.weekdaysCache[l][r]||(o.weekdaysCache[l][r]=r4t(function(f){return o.extract(f,a,"weekday")})),o.weekdaysCache[l][r]})},e.meridiems=function(r){var i=this;return r===void 0&&(r=!0),vj(this,void 0,r,function(){return cCe},function(){if(!i.meridiemCache){var s={hour:"numeric",hour12:!0};i.meridiemCache=[cl.utc(2016,11,13,9),cl.utc(2016,11,13,19)].map(function(o){return i.extract(o,s,"dayperiod")})}return i.meridiemCache})},e.eras=function(r,i){var s=this;return i===void 0&&(i=!0),vj(this,r,i,fCe,function(){var o={era:r};return s.eraCache[r]||(s.eraCache[r]=[cl.utc(-40,1,1),cl.utc(2017,1,1)].map(function(a){return s.extract(a,o,"era")})),s.eraCache[r]})},e.extract=function(r,i,s){var o=this.dtFormatter(r,i),a=o.formatToParts(),l=a.find(function(f){return f.type.toLowerCase()===s});return l?l.value:null},e.numberFormatter=function(r){return r===void 0&&(r={}),new s4t(this.intl,r.forceSimple||this.fastNumbers,r)},e.dtFormatter=function(r,i){return i===void 0&&(i={}),new o4t(r,this.intl,i)},e.relFormatter=function(r){return r===void 0&&(r={}),new a4t(this.intl,this.isEnglish(),r)},e.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Am()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar},Pp(n,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=i4t(this)),this.fastNumbersCached}}]),n}();function nS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.reduce(function(i,s){return i+s.source},"");return RegExp("^"+r+"$")}function S_(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduce(function(i,s){var o=i[0],a=i[1],l=i[2],f=s(r,l),p=f[0],v=f[1],b=f[2];return[Object.assign(o,p),a||v,b]},[{},null,1]).slice(0,2)}}function rS(n){if(n==null)return[null,null];for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i],a=o[0],l=o[1],f=a.exec(n);if(f)return l(f)}return[null,null]}function vCe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r,i){var s={},o;for(o=0;o<e.length;o++)s[e[o]]=Wf(r[i+o]);return[s,null,i+o]}}var _Ce=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Cre=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bCe=RegExp(""+Cre.source+_Ce.source+"?"),wre=RegExp("(?:T"+bCe.source+")?"),u4t=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,l4t=/(\d{4})-?W(\d\d)(?:-?(\d))?/,c4t=/(\d{4})-?(\d{3})/,f4t=vCe("weekYear","weekNumber","weekDay"),d4t=vCe("year","ordinal"),h4t=/(\d{4})-(\d\d)-(\d\d)/,ECe=RegExp(Cre.source+" ?(?:"+_Ce.source+"|("+iCe.source+"))?"),p4t=RegExp("(?: "+ECe.source+")?");function iS(n,e,t){var r=n[e];return wo(r)?t:Wf(r)}function SCe(n,e){var t={year:iS(n,e),month:iS(n,e+1,1),day:iS(n,e+2,1)};return[t,null,e+3]}function C_(n,e){var t={hours:iS(n,e,0),minutes:iS(n,e+1,0),seconds:iS(n,e+2,0),milliseconds:dre(n[e+3])};return[t,null,e+4]}function sS(n,e){var t=!n[e]&&!n[e+1],r=hj(n[e+1],n[e+2]),i=t?null:yd.instance(r);return[{},i,e+3]}function CCe(n,e){var t=n[e]?Fm.create(n[e]):null;return[{},t,e+1]}var m4t=RegExp("^T?"+Cre.source+"$"),x4t=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function g4t(n){var e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],a=n[6],l=n[7],f=n[8],p=e[0]==="-",v=l&&l[0]==="-",b=function(D,M){return M===void 0&&(M=!1),D!==void 0&&(M||D&&p)?-D:D};return[{years:b(Wf(t)),months:b(Wf(r)),weeks:b(Wf(i)),days:b(Wf(s)),hours:b(Wf(o)),minutes:b(Wf(a)),seconds:b(Wf(l),l==="-0"),milliseconds:b(dre(f),v)}]}var y4t={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Are(n,e,t,r,i,s,o){var a={year:e.length===2?mre(Wf(e)):Wf(e),month:sCe.indexOf(t)+1,day:Wf(r),hour:Wf(i),minute:Wf(s)};return o&&(a.second=Wf(o)),n&&(a.weekday=n.length>3?aCe.indexOf(n)+1:uCe.indexOf(n)+1),a}var v4t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function _4t(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=n[8],f=n[9],p=n[10],v=n[11],b=Are(e,i,r,t,s,o,a),F;return l?F=y4t[l]:f?F=0:F=hj(p,v),[b,new yd(F)]}function b4t(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var E4t=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,S4t=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,C4t=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function wCe(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=Are(e,i,r,t,s,o,a);return[l,yd.utcInstance]}function w4t(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=Are(e,a,t,r,i,s,o);return[l,yd.utcInstance]}var A4t=nS(u4t,wre),T4t=nS(l4t,wre),F4t=nS(c4t,wre),D4t=nS(bCe),O4t=S_(SCe,C_,sS),N4t=S_(f4t,C_,sS),R4t=S_(d4t,C_,sS),L4t=S_(C_,sS);function k4t(n){return rS(n,[A4t,O4t],[T4t,N4t],[F4t,R4t],[D4t,L4t])}function I4t(n){return rS(b4t(n),[v4t,_4t])}function M4t(n){return rS(n,[E4t,wCe],[S4t,wCe],[C4t,w4t])}function P4t(n){return rS(n,[x4t,g4t])}var B4t=S_(C_);function j4t(n){return rS(n,[m4t,B4t])}var q4t=nS(h4t,p4t),U4t=nS(ECe),$4t=S_(SCe,C_,sS,CCe),z4t=S_(C_,sS,CCe);function H4t(n){return rS(n,[q4t,$4t],[U4t,z4t])}var V4t="Invalid Duration",ACe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},W4t=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},ACe),_h=146097/400,oS=146097/4800,Q4t=Object.assign({years:{quarters:4,months:12,weeks:_h/7,days:_h,hours:_h*24,minutes:_h*24*60,seconds:_h*24*60*60,milliseconds:_h*24*60*60*1e3},quarters:{months:3,weeks:_h/28,days:_h/4,hours:_h*24/4,minutes:_h*24*60/4,seconds:_h*24*60*60/4,milliseconds:_h*24*60*60*1e3/4},months:{weeks:oS/7,days:oS,hours:oS*24,minutes:oS*24*60,seconds:oS*24*60*60,milliseconds:oS*24*60*60*1e3}},ACe),aS=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],G4t=aS.slice(0).reverse();function w_(n,e,t){t===void 0&&(t=!1);var r={values:t?e.values:Object.assign({},n.values,e.values||{}),loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Qf(r)}function Y4t(n){return n<0?Math.floor(n):Math.ceil(n)}function TCe(n,e,t,r,i){var s=n[i][t],o=e[t]/s,a=Math.sign(o)===Math.sign(r[i]),l=!a&&r[i]!==0&&Math.abs(o)<=1?Y4t(o):Math.trunc(o);r[i]+=l,e[t]-=l*s}function K4t(n,e){G4t.reduce(function(t,r){return wo(e[r])?t:(t&&TCe(n,e,t,e,r),r)},null)}var Qf=function(){function n(t){var r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||ac.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?Q4t:W4t,this.isLuxonDuration=!0}n.fromMillis=function(r,i){return n.fromObject(Object.assign({milliseconds:r},i))},n.fromObject=function(r){if(r==null||typeof r!="object")throw new vh("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r));return new n({values:pj(r,n.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:ac.fromObject(r),conversionAccuracy:r.conversionAccuracy})},n.fromISO=function(r,i){var s=P4t(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.fromISOTime=function(r,i){var s=j4t(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new vh("need to specify a reason the Duration is invalid");var s=r instanceof jp?r:new jp(r,i);if(zu.throwOnInvalid)throw new F5t(s);return new n({invalid:s})},n.normalizeUnit=function(r){var i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!i)throw new KSe(r);return i},n.isDuration=function(r){return r&&r.isLuxonDuration||!1};var e=n.prototype;return e.toFormat=function(r,i){i===void 0&&(i={});var s=Object.assign({},i,{floor:i.round!==!1&&i.floor!==!1});return this.isValid?Tm.create(this.loc,s).formatDurationFromString(this,r):V4t},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.values);return r.includeConfig&&(i.conversionAccuracy=this.conversionAccuracy,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toISO=function(){if(!this.isValid)return null;var r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=hre(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r},e.toISOTime=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=this.toMillis();if(i<0||i>=864e5)return null;r=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r);var s=this.shiftTo("hours","minutes","seconds","milliseconds"),o=r.format==="basic"?"hhmm":"hh:mm";(!r.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(o+=r.format==="basic"?"ss":":ss",(!r.suppressMilliseconds||s.milliseconds!==0)&&(o+=".SSS"));var a=s.toFormat(o);return r.includePrefix&&(a="T"+a),a},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(r){if(!this.isValid)return this;for(var i=A_(r),s={},o=v5(aS),a;!(a=o()).done;){var l=a.value;(Z7(i.values,l)||Z7(this.values,l))&&(s[l]=i.get(l)+this.get(l))}return w_(this,{values:s},!0)},e.minus=function(r){if(!this.isValid)return this;var i=A_(r);return this.plus(i.negate())},e.mapUnits=function(r){if(!this.isValid)return this;for(var i={},s=0,o=Object.keys(this.values);s<o.length;s++){var a=o[s];i[a]=rCe(r(this.values[a],a))}return w_(this,{values:i},!0)},e.get=function(r){return this[n.normalizeUnit(r)]},e.set=function(r){if(!this.isValid)return this;var i=Object.assign(this.values,pj(r,n.normalizeUnit,[]));return w_(this,{values:i})},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.conversionAccuracy,l=this.loc.clone({locale:s,numberingSystem:o}),f={loc:l};return a&&(f.conversionAccuracy=a),w_(this,f)},e.as=function(r){return this.isValid?this.shiftTo(r).get(r):NaN},e.normalize=function(){if(!this.isValid)return this;var r=this.toObject();return K4t(this.matrix,r),w_(this,{values:r},!0)},e.shiftTo=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!this.isValid)return this;if(i.length===0)return this;i=i.map(function(B){return n.normalizeUnit(B)});for(var o={},a={},l=this.toObject(),f,p=v5(aS),v;!(v=p()).done;){var b=v.value;if(i.indexOf(b)>=0){f=b;var F=0;for(var D in a)F+=this.matrix[D][b]*a[D],a[D]=0;__(l[b])&&(F+=l[b]);var M=Math.trunc(F);o[b]=M,a[b]=F-M;for(var q in l)aS.indexOf(q)>aS.indexOf(b)&&TCe(this.matrix,l,q,o,b)}else __(l[b])&&(a[b]=l[b])}for(var N in a)a[N]!==0&&(o[f]+=N===f?a[N]:a[N]/this.matrix[f][N]);return w_(this,{values:o},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var r={},i=0,s=Object.keys(this.values);i<s.length;i++){var o=s[i];r[o]=-this.values[o]}return w_(this,{values:r},!0)},e.equals=function(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function i(l,f){return l===void 0||l===0?f===void 0||f===0:l===f}for(var s=v5(aS),o;!(o=s()).done;){var a=o.value;if(!i(this.values[a],r.values[a]))return!1}return!0},Pp(n,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}();function A_(n){if(__(n))return Qf.fromMillis(n);if(Qf.isDuration(n))return n;if(typeof n=="object")return Qf.fromObject(n);throw new vh("Unknown duration argument "+n+" of type "+typeof n)}var bF="Invalid Interval";function J4t(n,e){return!n||!n.isValid?EF.invalid("missing or invalid start"):!e||!e.isValid?EF.invalid("missing or invalid end"):e<n?EF.invalid("end before start","The end of an interval must be after its start, but you had start="+n.toISO()+" and end="+e.toISO()):null}var EF=function(){function n(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new vh("need to specify a reason the Interval is invalid");var s=r instanceof jp?r:new jp(r,i);if(zu.throwOnInvalid)throw new T5t(s);return new n({invalid:s})},n.fromDateTimes=function(r,i){var s=AF(r),o=AF(i),a=J4t(s,o);return a??new n({start:s,end:o})},n.after=function(r,i){var s=A_(i),o=AF(r);return n.fromDateTimes(o,o.plus(s))},n.before=function(r,i){var s=A_(i),o=AF(r);return n.fromDateTimes(o.minus(s),o)},n.fromISO=function(r,i){var s=(r||"").split("/",2),o=s[0],a=s[1];if(o&&a){var l,f;try{l=cl.fromISO(o,i),f=l.isValid}catch{f=!1}var p,v;try{p=cl.fromISO(a,i),v=p.isValid}catch{v=!1}if(f&&v)return n.fromDateTimes(l,p);if(f){var b=Qf.fromISO(a,i);if(b.isValid)return n.after(l,b)}else if(v){var F=Qf.fromISO(o,i);if(F.isValid)return n.before(p,F)}}return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.isInterval=function(r){return r&&r.isLuxonInterval||!1};var e=n.prototype;return e.length=function(r){return r===void 0&&(r="milliseconds"),this.isValid?this.toDuration.apply(this,[r]).get(r):NaN},e.count=function(r){if(r===void 0&&(r="milliseconds"),!this.isValid)return NaN;var i=this.start.startOf(r),s=this.end.startOf(r);return Math.floor(s.diff(i,r).get(r))+1},e.hasSame=function(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(r){return this.isValid?this.s>r:!1},e.isBefore=function(r){return this.isValid?this.e<=r:!1},e.contains=function(r){return this.isValid?this.s<=r&&this.e>r:!1},e.set=function(r){var i=r===void 0?{}:r,s=i.start,o=i.end;return this.isValid?n.fromDateTimes(s||this.s,o||this.e):this},e.splitAt=function(){var r=this;if(!this.isValid)return[];for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];for(var a=s.map(AF).filter(function(F){return r.contains(F)}).sort(),l=[],f=this.s,p=0;f<this.e;){var v=a[p]||this.e,b=+v>+this.e?this.e:v;l.push(n.fromDateTimes(f,b)),f=b,p+=1}return l},e.splitBy=function(r){var i=A_(r);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];for(var s=this.s,o=1,a,l=[];s<this.e;){var f=this.start.plus(i.mapUnits(function(p){return p*o}));a=+f>+this.e?this.e:f,l.push(n.fromDateTimes(s,a)),s=a,o+=1}return l},e.divideEqually=function(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]},e.overlaps=function(r){return this.e>r.s&&this.s<r.e},e.abutsStart=function(r){return this.isValid?+this.e==+r.s:!1},e.abutsEnd=function(r){return this.isValid?+r.e==+this.s:!1},e.engulfs=function(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1},e.equals=function(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)},e.intersection=function(r){if(!this.isValid)return this;var i=this.s>r.s?this.s:r.s,s=this.e<r.e?this.e:r.e;return i>=s?null:n.fromDateTimes(i,s)},e.union=function(r){if(!this.isValid)return this;var i=this.s<r.s?this.s:r.s,s=this.e>r.e?this.e:r.e;return n.fromDateTimes(i,s)},n.merge=function(r){var i=r.sort(function(a,l){return a.s-l.s}).reduce(function(a,l){var f=a[0],p=a[1];return p?p.overlaps(l)||p.abutsStart(l)?[f,p.union(l)]:[f.concat([p]),l]:[f,l]},[[],null]),s=i[0],o=i[1];return o&&s.push(o),s},n.xor=function(r){for(var i,s=null,o=0,a=[],l=r.map(function(D){return[{time:D.s,type:"s"},{time:D.e,type:"e"}]}),f=(i=Array.prototype).concat.apply(i,l),p=f.sort(function(D,M){return D.time-M.time}),v=v5(p),b;!(b=v()).done;){var F=b.value;o+=F.type==="s"?1:-1,o===1?s=F.time:(s&&+s!=+F.time&&a.push(n.fromDateTimes(s,F.time)),s=null)}return n.merge(a)},e.difference=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.xor([this].concat(s)).map(function(a){return r.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":bF},e.toISO=function(r){return this.isValid?this.s.toISO(r)+"/"+this.e.toISO(r):bF},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():bF},e.toISOTime=function(r){return this.isValid?this.s.toISOTime(r)+"/"+this.e.toISOTime(r):bF},e.toFormat=function(r,i){var s=i===void 0?{}:i,o=s.separator,a=o===void 0?" \u2013 ":o;return this.isValid?""+this.s.toFormat(r)+a+this.e.toFormat(r):bF},e.toDuration=function(r,i){return this.isValid?this.e.diff(this.s,r,i):Qf.invalid(this.invalidReason)},e.mapEndpoints=function(r){return n.fromDateTimes(r(this.s),r(this.e))},Pp(n,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}(),SF=function(){function n(){}return n.hasDST=function(t){t===void 0&&(t=zu.defaultZone);var r=cl.now().setZone(t).set({month:12});return!t.universal&&r.offset!==r.set({month:6}).offset},n.isValidIANAZone=function(t){return Fm.isValidSpecifier(t)&&Fm.isValidZone(t)},n.normalizeZone=function(t){return b_(t,zu.defaultZone)},n.months=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,v=i.outputCalendar,b=v===void 0?"gregory":v;return(p||ac.create(o,l,b)).months(t)},n.monthsFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,v=i.outputCalendar,b=v===void 0?"gregory":v;return(p||ac.create(o,l,b)).months(t,!0)},n.weekdays=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||ac.create(o,l,null)).weekdays(t)},n.weekdaysFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||ac.create(o,l,null)).weekdays(t,!0)},n.meridiems=function(t){var r=t===void 0?{}:t,i=r.locale,s=i===void 0?null:i;return ac.create(s).meridiems()},n.eras=function(t,r){t===void 0&&(t="short");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s;return ac.create(o,null,"gregory").eras(t)},n.features=function(){var t=!1,r=!1,i=!1,s=!1;if(Am()){t=!0,r=yF(),s=ZSe();try{i=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{i=!1}}return{intl:t,intlTokens:r,zones:i,relative:s}},n}();function FCe(n,e){var t=function(s){return s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=t(e)-t(n);return Math.floor(Qf.fromMillis(r).as("days"))}function X4t(n,e,t){for(var r=[["years",function(M,q){return q.year-M.year}],["quarters",function(M,q){return q.quarter-M.quarter}],["months",function(M,q){return q.month-M.month+(q.year-M.year)*12}],["weeks",function(M,q){var N=FCe(M,q);return(N-N%7)/7}],["days",FCe]],i={},s,o,a=0,l=r;a<l.length;a++){var f=l[a],p=f[0],v=f[1];if(t.indexOf(p)>=0){var b;s=p;var F=v(n,e);if(o=n.plus((b={},b[p]=F,b)),o>e){var D;n=n.plus((D={},D[p]=F-1,D)),F-=1}else n=o;i[p]=F}}return[n,i,o,s]}function Z4t(n,e,t,r){var i=X4t(n,e,t),s=i[0],o=i[1],a=i[2],l=i[3],f=e-s,p=t.filter(function(D){return["hours","minutes","seconds","milliseconds"].indexOf(D)>=0});if(p.length===0){if(a<e){var v;a=s.plus((v={},v[l]=1,v))}a!==s&&(o[l]=(o[l]||0)+f/(a-s))}var b=Qf.fromObject(Object.assign(o,r));if(p.length>0){var F;return(F=Qf.fromMillis(f,r)).shiftTo.apply(F,p).plus(b)}else return b}var Tre={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},DCe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},evt=Tre.hanidec.replace(/[\[|\]]/g,"").split("");function tvt(n){var e=parseInt(n,10);if(isNaN(e)){e="";for(var t=0;t<n.length;t++){var r=n.charCodeAt(t);if(n[t].search(Tre.hanidec)!==-1)e+=evt.indexOf(n[t]);else for(var i in DCe){var s=DCe[i],o=s[0],a=s[1];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}function qp(n,e){var t=n.numberingSystem;return e===void 0&&(e=""),new RegExp(""+Tre[t||"latn"]+e)}var nvt="missing Intl.DateTimeFormat.formatToParts support";function Io(n,e){return e===void 0&&(e=function(r){return r}),{regex:n,deser:function(r){var i=r[0];return e(tvt(i))}}}var rvt=String.fromCharCode(160),OCe="( |"+rvt+")",NCe=new RegExp(OCe,"g");function ivt(n){return n.replace(/\./g,"\\.?").replace(NCe,OCe)}function RCe(n){return n.replace(/\./g,"").replace(NCe," ").toLowerCase()}function Up(n,e){return n===null?null:{regex:RegExp(n.map(ivt).join("|")),deser:function(r){var i=r[0];return n.findIndex(function(s){return RCe(i)===RCe(s)})+e}}}function LCe(n,e){return{regex:n,deser:function(r){var i=r[1],s=r[2];return hj(i,s)},groups:e}}function kCe(n){return{regex:n,deser:function(t){var r=t[0];return r}}}function svt(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ovt(n,e){var t=qp(e),r=qp(e,"{2}"),i=qp(e,"{3}"),s=qp(e,"{4}"),o=qp(e,"{6}"),a=qp(e,"{1,2}"),l=qp(e,"{1,3}"),f=qp(e,"{1,6}"),p=qp(e,"{1,9}"),v=qp(e,"{2,4}"),b=qp(e,"{4,6}"),F=function(N){return{regex:RegExp(svt(N.val)),deser:function(I){var z=I[0];return z},literal:!0}},D=function(N){if(n.literal)return F(N);switch(N.val){case"G":return Up(e.eras("short",!1),0);case"GG":return Up(e.eras("long",!1),0);case"y":return Io(f);case"yy":return Io(v,mre);case"yyyy":return Io(s);case"yyyyy":return Io(b);case"yyyyyy":return Io(o);case"M":return Io(a);case"MM":return Io(r);case"MMM":return Up(e.months("short",!0,!1),1);case"MMMM":return Up(e.months("long",!0,!1),1);case"L":return Io(a);case"LL":return Io(r);case"LLL":return Up(e.months("short",!1,!1),1);case"LLLL":return Up(e.months("long",!1,!1),1);case"d":return Io(a);case"dd":return Io(r);case"o":return Io(l);case"ooo":return Io(i);case"HH":return Io(r);case"H":return Io(a);case"hh":return Io(r);case"h":return Io(a);case"mm":return Io(r);case"m":return Io(a);case"q":return Io(a);case"qq":return Io(r);case"s":return Io(a);case"ss":return Io(r);case"S":return Io(l);case"SSS":return Io(i);case"u":return kCe(p);case"a":return Up(e.meridiems(),0);case"kkkk":return Io(s);case"kk":return Io(v,mre);case"W":return Io(a);case"WW":return Io(r);case"E":case"c":return Io(t);case"EEE":return Up(e.weekdays("short",!1,!1),1);case"EEEE":return Up(e.weekdays("long",!1,!1),1);case"ccc":return Up(e.weekdays("short",!0,!1),1);case"cccc":return Up(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return LCe(new RegExp("([+-]"+a.source+")(?::("+r.source+"))?"),2);case"ZZZ":return LCe(new RegExp("([+-]"+a.source+")("+r.source+")?"),2);case"z":return kCe(/[a-z_+-/]{1,256}?/i);default:return F(N)}},M=D(n)||{invalidReason:nvt};return M.token=n,M}var avt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function uvt(n,e,t){var r=n.type,i=n.value;if(r==="literal")return{literal:!0,val:i};var s=t[r],o=avt[r];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function lvt(n){var e=n.map(function(t){return t.regex}).reduce(function(t,r){return t+"("+r.source+")"},"");return["^"+e+"$",n]}function cvt(n,e,t){var r=n.match(e);if(r){var i={},s=1;for(var o in t)if(Z7(t,o)){var a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function fvt(n){var e=function(s){switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t;wo(n.Z)?wo(n.z)?t=null:t=Fm.create(n.z):t=new yd(n.Z),wo(n.q)||(n.M=(n.q-1)*3+1),wo(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),wo(n.u)||(n.S=dre(n.u));var r=Object.keys(n).reduce(function(i,s){var o=e(s);return o&&(i[o]=n[s]),i},{});return[r,t]}var Fre=null;function dvt(){return Fre||(Fre=cl.fromMillis(1555555555555)),Fre}function hvt(n,e){if(n.literal)return n;var t=Tm.macroTokenToFormatOpts(n.val);if(!t)return n;var r=Tm.create(e,t),i=r.formatDateTimeParts(dvt()),s=i.map(function(o){return uvt(o,e,t)});return s.includes(void 0)?n:s}function pvt(n,e){var t;return(t=Array.prototype).concat.apply(t,n.map(function(r){return hvt(r,e)}))}function ICe(n,e,t){var r=pvt(Tm.parseFormat(t),n),i=r.map(function(q){return ovt(q,n)}),s=i.find(function(q){return q.invalidReason});if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};var o=lvt(i),a=o[0],l=o[1],f=RegExp(a,"i"),p=cvt(e,f,l),v=p[0],b=p[1],F=b?fvt(b):[null,null],D=F[0],M=F[1];if(Z7(b,"a")&&Z7(b,"H"))throw new gF("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:f,rawMatches:v,matches:b,result:D,zone:M}}function mvt(n,e,t){var r=ICe(n,e,t),i=r.result,s=r.zone,o=r.invalidReason;return[i,s,o]}var MCe=[0,31,59,90,120,151,181,212,243,273,304,334],PCe=[0,31,60,91,121,152,182,213,244,274,305,335];function bh(n,e){return new jp("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+n+", which is invalid")}function BCe(n,e,t){var r=new Date(Date.UTC(n,e-1,t)).getUTCDay();return r===0?7:r}function jCe(n,e,t){return t+(vF(n)?PCe:MCe)[e-1]}function qCe(n,e){var t=vF(n)?PCe:MCe,r=t.findIndex(function(s){return s<e}),i=e-t[r];return{month:r+1,day:i}}function Dre(n){var e=n.year,t=n.month,r=n.day,i=jCe(e,t,r),s=BCe(e,t,r),o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=dj(a)):o>dj(e)?(a=e+1,o=1):a=e,Object.assign({weekYear:a,weekNumber:o,weekday:s},xj(n))}function UCe(n){var e=n.weekYear,t=n.weekNumber,r=n.weekday,i=BCe(e,1,4),s=_F(e),o=t*7+r-i-3,a;o<1?(a=e-1,o+=_F(a)):o>s?(a=e+1,o-=_F(e)):a=e;var l=qCe(a,o),f=l.month,p=l.day;return Object.assign({year:a,month:f,day:p},xj(n))}function Ore(n){var e=n.year,t=n.month,r=n.day,i=jCe(e,t,r);return Object.assign({year:e,ordinal:i},xj(n))}function $Ce(n){var e=n.year,t=n.ordinal,r=qCe(e,t),i=r.month,s=r.day;return Object.assign({year:e,month:i,day:s},xj(n))}function xvt(n){var e=cj(n.weekYear),t=jx(n.weekNumber,1,dj(n.weekYear)),r=jx(n.weekday,1,7);return e?t?r?!1:bh("weekday",n.weekday):bh("week",n.week):bh("weekYear",n.weekYear)}function gvt(n){var e=cj(n.year),t=jx(n.ordinal,1,_F(n.year));return e?t?!1:bh("ordinal",n.ordinal):bh("year",n.year)}function zCe(n){var e=cj(n.year),t=jx(n.month,1,12),r=jx(n.day,1,fj(n.year,n.month));return e?t?r?!1:bh("day",n.day):bh("month",n.month):bh("year",n.year)}function HCe(n){var e=n.hour,t=n.minute,r=n.second,i=n.millisecond,s=jx(e,0,23)||e===24&&t===0&&r===0&&i===0,o=jx(t,0,59),a=jx(r,0,59),l=jx(i,0,999);return s?o?a?l?!1:bh("millisecond",i):bh("second",r):bh("minute",t):bh("hour",e)}var Nre="Invalid DateTime",VCe=864e13;function _j(n){return new jp("unsupported zone",'the zone "'+n.name+'" is not supported')}function Rre(n){return n.weekData===null&&(n.weekData=Dre(n.c)),n.weekData}function CF(n,e){var t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new cl(Object.assign({},t,e,{old:t}))}function WCe(n,e,t){var r=n-e*60*1e3,i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;var s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function QCe(n,e){n+=e*60*1e3;var t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function bj(n,e,t){return WCe(pre(n),e,t)}function GCe(n,e){var t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=Object.assign({},n.c,{year:r,month:i,day:Math.min(n.c.day,fj(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Qf.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=pre(s),l=WCe(a,t,n.zone),f=l[0],p=l[1];return o!==0&&(f+=o,p=n.zone.offset(f)),{ts:f,o:p}}function wF(n,e,t,r,i){var s=t.setZone,o=t.zone;if(n&&Object.keys(n).length!==0){var a=e||o,l=cl.fromObject(Object.assign(n,t,{zone:a,setZone:void 0}));return s?l:l.setZone(o)}else return cl.invalid(new jp("unparsable",'the input "'+i+`" can't be parsed as `+r))}function uS(n,e,t){return t===void 0&&(t=!0),n.isValid?Tm.create(ac.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function YCe(n,e){var t=e.suppressSeconds,r=t===void 0?!1:t,i=e.suppressMilliseconds,s=i===void 0?!1:i,o=e.includeOffset,a=e.includePrefix,l=a===void 0?!1:a,f=e.includeZone,p=f===void 0?!1:f,v=e.spaceZone,b=v===void 0?!1:v,F=e.format,D=F===void 0?"extended":F,M=D==="basic"?"HHmm":"HH:mm";(!r||n.second!==0||n.millisecond!==0)&&(M+=D==="basic"?"ss":":ss",(!s||n.millisecond!==0)&&(M+=".SSS")),(p||o)&&b&&(M+=" "),p?M+="z":o&&(M+=D==="basic"?"ZZZ":"ZZ");var q=uS(n,M);return l&&(q="T"+q),q}var KCe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yvt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vvt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},JCe=["year","month","day","hour","minute","second","millisecond"],_vt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],bvt=["year","ordinal","hour","minute","second","millisecond"];function XCe(n){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new KSe(n);return e}function ZCe(n,e){for(var t=v5(JCe),r;!(r=t()).done;){var i=r.value;wo(n[i])&&(n[i]=KCe[i])}var s=zCe(n)||HCe(n);if(s)return cl.invalid(s);var o=zu.now(),a=e.offset(o),l=bj(n,a,e),f=l[0],p=l[1];return new cl({ts:f,zone:e,o:p})}function e9e(n,e,t){var r=wo(t.round)?!0:t.round,i=function(v,b){v=hre(v,r||t.calendary?0:2,!0);var F=e.loc.clone(t).relFormatter(t);return F.format(v,b)},s=function(v){return t.calendary?e.hasSame(n,v)?0:e.startOf(v).diff(n.startOf(v),v).get(v):e.diff(n,v).get(v)};if(t.unit)return i(s(t.unit),t.unit);for(var o=v5(t.units),a;!(a=o()).done;){var l=a.value,f=s(l);if(Math.abs(f)>=1)return i(f,l)}return i(n>e?-0:0,t.units[t.units.length-1])}var cl=function(){function n(t){var r=t.zone||zu.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new jp("invalid input"):null)||(r.isValid?null:_j(r));this.ts=wo(t.ts)?zu.now():t.ts;var s=null,o=null;if(!i){var a=t.old&&t.old.ts===this.ts&&t.old.zone.equals(r);if(a){var l=[t.old.c,t.old.o];s=l[0],o=l[1]}else{var f=r.offset(this.ts);s=QCe(this.ts,f),i=Number.isNaN(s.year)?new jp("invalid input"):null,s=i?null:s,o=i?null:f}}this._zone=r,this.loc=t.loc||ac.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}n.now=function(){return new n({})},n.local=function(r,i,s,o,a,l,f){return wo(r)?n.now():ZCe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},zu.defaultZone)},n.utc=function(r,i,s,o,a,l,f){return wo(r)?new n({ts:zu.now(),zone:yd.utcInstance}):ZCe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},yd.utcInstance)},n.fromJSDate=function(r,i){i===void 0&&(i={});var s=O5t(r)?r.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");var o=b_(i.zone,zu.defaultZone);return o.isValid?new n({ts:s,zone:o,loc:ac.fromObject(i)}):n.invalid(_j(o))},n.fromMillis=function(r,i){if(i===void 0&&(i={}),__(r))return r<-VCe||r>VCe?n.invalid("Timestamp out of range"):new n({ts:r,zone:b_(i.zone,zu.defaultZone),loc:ac.fromObject(i)});throw new vh("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)},n.fromSeconds=function(r,i){if(i===void 0&&(i={}),__(r))return new n({ts:r*1e3,zone:b_(i.zone,zu.defaultZone),loc:ac.fromObject(i)});throw new vh("fromSeconds requires a numerical input")},n.fromObject=function(r){var i=b_(r.zone,zu.defaultZone);if(!i.isValid)return n.invalid(_j(i));var s=zu.now(),o=i.offset(s),a=pj(r,XCe,["zone","locale","outputCalendar","numberingSystem"]),l=!wo(a.ordinal),f=!wo(a.year),p=!wo(a.month)||!wo(a.day),v=f||p,b=a.weekYear||a.weekNumber,F=ac.fromObject(r);if((v||l)&&b)throw new gF("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&l)throw new gF("Can't mix ordinal dates with month/day");var D=b||a.weekday&&!v,M,q,N=QCe(s,o);D?(M=_vt,q=yvt,N=Dre(N)):l?(M=bvt,q=vvt,N=Ore(N)):(M=JCe,q=KCe);for(var B=!1,I=v5(M),z;!(z=I()).done;){var ie=z.value,L=a[ie];wo(L)?B?a[ie]=q[ie]:a[ie]=N[ie]:B=!0}var Y=D?xvt(a):l?gvt(a):zCe(a),fe=Y||HCe(a);if(fe)return n.invalid(fe);var me=D?UCe(a):l?$Ce(a):a,Be=bj(me,o,i),tt=Be[0],st=Be[1],Qe=new n({ts:tt,zone:i,o:st,loc:F});return a.weekday&&v&&r.weekday!==Qe.weekday?n.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+Qe.toISO()):Qe},n.fromISO=function(r,i){i===void 0&&(i={});var s=k4t(r),o=s[0],a=s[1];return wF(o,a,i,"ISO 8601",r)},n.fromRFC2822=function(r,i){i===void 0&&(i={});var s=I4t(r),o=s[0],a=s[1];return wF(o,a,i,"RFC 2822",r)},n.fromHTTP=function(r,i){i===void 0&&(i={});var s=M4t(r),o=s[0],a=s[1];return wF(o,a,i,"HTTP",i)},n.fromFormat=function(r,i,s){if(s===void 0&&(s={}),wo(r)||wo(i))throw new vh("fromFormat requires an input string and a format");var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,v=ac.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0}),b=mvt(v,r,i),F=b[0],D=b[1],M=b[2];return M?n.invalid(M):wF(F,D,s,"format "+i,r)},n.fromString=function(r,i,s){return s===void 0&&(s={}),n.fromFormat(r,i,s)},n.fromSQL=function(r,i){i===void 0&&(i={});var s=H4t(r),o=s[0],a=s[1];return wF(o,a,i,"SQL",r)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new vh("need to specify a reason the DateTime is invalid");var s=r instanceof jp?r:new jp(r,i);if(zu.throwOnInvalid)throw new A5t(s);return new n({invalid:s})},n.isDateTime=function(r){return r&&r.isLuxonDateTime||!1};var e=n.prototype;return e.get=function(r){return this[r]},e.resolvedLocaleOpts=function(r){r===void 0&&(r={});var i=Tm.create(this.loc.clone(r),r).resolvedOptions(this),s=i.locale,o=i.numberingSystem,a=i.calendar;return{locale:s,numberingSystem:o,outputCalendar:a}},e.toUTC=function(r,i){return r===void 0&&(r=0),i===void 0&&(i={}),this.setZone(yd.instance(r),i)},e.toLocal=function(){return this.setZone(zu.defaultZone)},e.setZone=function(r,i){var s=i===void 0?{}:i,o=s.keepLocalTime,a=o===void 0?!1:o,l=s.keepCalendarTime,f=l===void 0?!1:l;if(r=b_(r,zu.defaultZone),r.equals(this.zone))return this;if(r.isValid){var p=this.ts;if(a||f){var v=r.offset(this.ts),b=this.toObject(),F=bj(b,v,r);p=F[0]}return CF(this,{ts:p,zone:r})}else return n.invalid(_j(r))},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar,l=this.loc.clone({locale:s,numberingSystem:o,outputCalendar:a});return CF(this,{loc:l})},e.setLocale=function(r){return this.reconfigure({locale:r})},e.set=function(r){if(!this.isValid)return this;var i=pj(r,XCe,[]),s=!wo(i.weekYear)||!wo(i.weekNumber)||!wo(i.weekday),o=!wo(i.ordinal),a=!wo(i.year),l=!wo(i.month)||!wo(i.day),f=a||l,p=i.weekYear||i.weekNumber;if((f||o)&&p)throw new gF("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new gF("Can't mix ordinal dates with month/day");var v;s?v=UCe(Object.assign(Dre(this.c),i)):wo(i.ordinal)?(v=Object.assign(this.toObject(),i),wo(i.day)&&(v.day=Math.min(fj(v.year,v.month),v.day))):v=$Ce(Object.assign(Ore(this.c),i));var b=bj(v,this.o,this.zone),F=b[0],D=b[1];return CF(this,{ts:F,o:D})},e.plus=function(r){if(!this.isValid)return this;var i=A_(r);return CF(this,GCe(this,i))},e.minus=function(r){if(!this.isValid)return this;var i=A_(r).negate();return CF(this,GCe(this,i))},e.startOf=function(r){if(!this.isValid)return this;var i={},s=Qf.normalizeUnit(r);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){var o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)},e.endOf=function(r){var i;return this.isValid?this.plus((i={},i[r]=1,i)).startOf(r).minus(1):this},e.toFormat=function(r,i){return i===void 0&&(i={}),this.isValid?Tm.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,r):Nre},e.toLocaleString=function(r){return r===void 0&&(r=lj),this.isValid?Tm.create(this.loc.clone(r),r).formatDateTime(this):Nre},e.toLocaleParts=function(r){return r===void 0&&(r={}),this.isValid?Tm.create(this.loc.clone(r),r).formatDateTimeParts(this):[]},e.toISO=function(r){return r===void 0&&(r={}),this.isValid?this.toISODate(r)+"T"+this.toISOTime(r):null},e.toISODate=function(r){var i=r===void 0?{}:r,s=i.format,o=s===void 0?"extended":s,a=o==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(a="+"+a),uS(this,a)},e.toISOWeekDate=function(){return uS(this,"kkkk-'W'WW-c")},e.toISOTime=function(r){var i=r===void 0?{}:r,s=i.suppressMilliseconds,o=s===void 0?!1:s,a=i.suppressSeconds,l=a===void 0?!1:a,f=i.includeOffset,p=f===void 0?!0:f,v=i.includePrefix,b=v===void 0?!1:v,F=i.format,D=F===void 0?"extended":F;return YCe(this,{suppressSeconds:l,suppressMilliseconds:o,includeOffset:p,includePrefix:b,format:D})},e.toRFC2822=function(){return uS(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return uS(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return uS(this,"yyyy-MM-dd")},e.toSQLTime=function(r){var i=r===void 0?{}:r,s=i.includeOffset,o=s===void 0?!0:s,a=i.includeZone,l=a===void 0?!1:a;return YCe(this,{includeOffset:o,includeZone:l,spaceZone:!0})},e.toSQL=function(r){return r===void 0&&(r={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(r):null},e.toString=function(){return this.isValid?this.toISO():Nre},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.c);return r.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(r,i,s){if(i===void 0&&(i="milliseconds"),s===void 0&&(s={}),!this.isValid||!r.isValid)return Qf.invalid(this.invalid||r.invalid,"created by diffing an invalid DateTime");var o=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s),a=N5t(i).map(Qf.normalizeUnit),l=r.valueOf()>this.valueOf(),f=l?this:r,p=l?r:this,v=Z4t(f,p,a,o);return l?v.negate():v},e.diffNow=function(r,i){return r===void 0&&(r="milliseconds"),i===void 0&&(i={}),this.diff(n.now(),r,i)},e.until=function(r){return this.isValid?EF.fromDateTimes(this,r):this},e.hasSame=function(r,i){if(!this.isValid)return!1;var s=r.valueOf(),o=this.setZone(r.zone,{keepLocalTime:!0});return o.startOf(i)<=s&&s<=o.endOf(i)},e.equals=function(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)},e.toRelative=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=r.base||n.fromObject({zone:this.zone}),s=r.padding?this<i?-r.padding:r.padding:0,o=["years","months","days","hours","minutes","seconds"],a=r.unit;return Array.isArray(r.unit)&&(o=r.unit,a=void 0),e9e(i,this.plus(s),Object.assign(r,{numeric:"always",units:o,unit:a}))},e.toRelativeCalendar=function(r){return r===void 0&&(r={}),this.isValid?e9e(r.base||n.fromObject({zone:this.zone}),this,Object.assign(r,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},n.min=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new vh("min requires all arguments be DateTimes");return eCe(i,function(o){return o.valueOf()},Math.min)},n.max=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new vh("max requires all arguments be DateTimes");return eCe(i,function(o){return o.valueOf()},Math.max)},n.fromFormatExplain=function(r,i,s){s===void 0&&(s={});var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,v=ac.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0});return ICe(v,r,i)},n.fromStringExplain=function(r,i,s){return s===void 0&&(s={}),n.fromFormatExplain(r,i,s)},Pp(n,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Rre(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Rre(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Rre(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Ore(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?SF.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?SF.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?SF.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?SF.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return vF(this.year)}},{key:"daysInMonth",get:function(){return fj(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?_F(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?dj(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return lj}},{key:"DATE_MED",get:function(){return Qne}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return JSe}},{key:"DATE_FULL",get:function(){return Gne}},{key:"DATE_HUGE",get:function(){return Yne}},{key:"TIME_SIMPLE",get:function(){return Kne}},{key:"TIME_WITH_SECONDS",get:function(){return Jne}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Xne}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return Zne}},{key:"TIME_24_SIMPLE",get:function(){return ere}},{key:"TIME_24_WITH_SECONDS",get:function(){return tre}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return nre}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return rre}},{key:"DATETIME_SHORT",get:function(){return ire}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return sre}},{key:"DATETIME_MED",get:function(){return ore}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return are}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return XSe}},{key:"DATETIME_FULL",get:function(){return ure}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return lre}},{key:"DATETIME_HUGE",get:function(){return cre}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return fre}}]),n}();function AF(n){if(cl.isDateTime(n))return n;if(n&&n.valueOf&&__(n.valueOf()))return cl.fromJSDate(n);if(n&&typeof n=="object")return cl.fromObject(n);throw new vh("Unknown datetime argument: "+n+", of type "+typeof n)}var Evt="1.28.1";vd.DateTime=cl;vd.Duration=Qf;vd.FixedOffsetZone=yd;vd.IANAZone=Fm;vd.Info=SF;vd.Interval=EF;vd.InvalidZone=yre;vd.LocalZone=hCe;vd.Settings=zu;vd.VERSION=Evt;vd.Zone=tS});var i9e=G(Ej=>{"use strict";d();Object.defineProperty(Ej,"__esModule",{value:!0});Ej.GranularLiteral=void 0;var T_=t9e(),n9e=Bs(),Svt=Y7(),r9e=xB(),Lre=m_(),Cvt=Xo(),Dm=class extends Cvt.ExpressionDef{constructor(e,t,r){super();this.moment=e,this.until=t,this.units=r,this.elementType="timeLiteral"}granular(){return!0}static parse(e){let t=e.slice(1),r="yyyy",i=`${r}-LL`,s=`${i}-dd`,o=`${s} HH:mm`,a=`${o}:ss`,l=T_.DateTime.fromFormat(t,a);if(l.isValid){let D=l.plus({second:1}).toFormat(a),M=new Dm(t,D,"second");return M.timeType="timestamp",M}let f=T_.DateTime.fromFormat(t,o);if(f.isValid){let D=t+":00",M=f.plus({minute:1}).toFormat(o)+":00",q=new Dm(D,M,"minute");return q.timeType="timestamp",q}let p=t.match(/(\d{4})-[qQ](\d)$/);if(p){let D=Number.parseInt(p[2])-1,M=T_.DateTime.fromFormat(p[1],"yyyy");D>0&&(M=M.plus({quarters:D}));let q=M.plus({quarter:1});return new Dm(`${M.toFormat(s)}`,`${q.toFormat(s)}`,"quarter")}let v=T_.DateTime.fromFormat(t,s);if(v.isValid){let D=v.plus({days:1});return new Dm(`${v.toFormat(s)}`,`${D.toFormat(s)}`,"day")}let b=T_.DateTime.fromFormat(t,i);if(b.isValid){let D=b.plus({months:1});return new Dm(`${b.toFormat(s)}`,`${D.toFormat(s)}`,"month")}let F=T_.DateTime.fromFormat(t,r);if(F.isValid){let D=F.toFormat("yyyy-01-01"),M=F.plus({year:1}).toFormat("yyyy-01-01");return new Dm(D,M,"year")}if(t.startsWith("WK")){let D=T_.DateTime.fromFormat(t.slice(2),s);if(D.isValid){let M=D;D.weekday!==7&&(M=D.startOf("week").minus({day:1}));let q=M.plus({days:7});return new Dm(`${M.toFormat(s)}`,`${q.toFormat(s)}`,"week")}}}apply(e,t,r){let i=r.getExpression(e);if((0,n9e.isTimeFieldType)(i.dataType)){let s="timestamp";return i.dataType==="date"&&!this.timeType&&(s="date"),new Svt.Range(new r9e.ExprTime(s,(0,Lre.timeLiteral)(this.moment,s,"UTC")),new r9e.ExprTime(s,(0,Lre.timeLiteral)(this.until,s,"UTC"))).apply(e,t,r)}return super.apply(e,t,r)}getExpression(e){let t=this.timeType||"date",r={dataType:t,expressionType:"scalar",value:(0,Lre.timeLiteral)(this.moment,t,"UTC")};return t=="date"&&(0,n9e.isDateUnit)(this.units)&&(r.alsoTimestamp=!0),this.units!="second"?{...r,timeframe:this.units}:r}};Ej.GranularLiteral=Dm});var o9e=G(Sj=>{"use strict";d();Object.defineProperty(Sj,"__esModule",{value:!0});Sj.PartialCompare=void 0;var wvt=xf(),Avt=Xo(),s9e=class extends Avt.ExpressionDef{constructor(e,t){super({right:t});this.op=e,this.right=t,this.elementType="<=> a"}granular(){return this.right.granular()}apply(e,t,r){return this.right.apply(e,this.op,r)}requestExpression(e){}getExpression(e){return this.log("Partial comparison does not have a value"),(0,wvt.errorFor)("no value for partial compare")}};Sj.PartialCompare=s9e});var c9e=G(cS=>{"use strict";d();Object.defineProperty(cS,"__esModule",{value:!0});cS.PickWhen=cS.Pick=void 0;var lS=Bs(),b5=xf(),$p=$u(),Tvt=Xo(),Fvt=so(),a9e=kc(),u9e=class extends Tvt.ExpressionDef{constructor(e,t){super({choices:e});this.choices=e,this.elsePick=t,this.elementType="pick",this.has({elsePick:t})}requestExpression(e){if(this.elsePick!==void 0){for(let t of this.choices){if(t.pick==null)return;let r=t.when.requestExpression(e);if(r==null||r.dataType!="boolean")return}return this.getExpression(e)}}apply(e,t,r){let i=["CASE"],s,o="scalar";for(let f of this.choices){let p=f.when.apply(e,"=",r),v=f.pick?f.pick.getExpression(e):r.getExpression(e);if(o=(0,lS.maxExpressionType)(o,(0,lS.maxExpressionType)(p.expressionType,v.expressionType)),s){if(!$p.FT.typeEq(s,v,!0)){let b=$p.FT.inspect(v);return this.log(`pick type '${b}', expected '${s.dataType}'`),(0,b5.errorFor)("pick when type")}}else s=v;i.push(" WHEN ",...p.value," THEN ",...v.value)}let l=(this.elsePick||r).getExpression(e);if(s||(s=l),!$p.FT.typeEq(s,l,!0)){let f=this.elsePick?"else":"pick default";return this.log(`${f} type '${$p.FT.inspect(l)}', expected '${s.dataType}'`),(0,b5.errorFor)("pick else type")}return{dataType:s.dataType,expressionType:(0,lS.maxExpressionType)(o,l.expressionType),value:(0,a9e.compressExpr)([...i," ELSE ",...l.value," END"])}}getExpression(e){if(this.elsePick===void 0)return this.log("pick incomplete, missing 'else'"),(0,b5.errorFor)("no value for partial pick");let t=[];for(let a of this.choices){if(a.pick===void 0)return this.log("pick with no value can only be used with apply"),(0,b5.errorFor)("no value for partial pick");if(a.when.requestExpression(e)===void 0)return this.log("pick with partial when can only be used with apply"),(0,b5.errorFor)("partial when");t.push({pick:a.pick.getExpression(e),when:a.when.getExpression(e)})}let r=t[0].pick,i=["CASE"],s=r.expressionType;for(let a of t){if(!$p.FT.typeEq(a.when,$p.FT.boolT))return this.log(`when expression must be boolean, not '${$p.FT.inspect(a.when)}`),(0,b5.errorFor)("pick when type");if(!$p.FT.typeEq(r,a.pick,!0)){let l=$p.FT.inspect(a.pick);return this.log(`pick type '${l}', expected '${r.dataType}'`),(0,b5.errorFor)("pick value type")}s=(0,lS.maxExpressionType)(s,(0,lS.maxExpressionType)(a.pick.expressionType,a.when.expressionType)),i.push(" WHEN ",...a.when.value," THEN ",...a.pick.value)}let o=this.elsePick.getExpression(e);return s=(0,lS.maxExpressionType)(s,o.expressionType),$p.FT.typeEq(r,o,!0)?(i.push(" ELSE ",...o.value," END"),{dataType:r.dataType,expressionType:s,value:(0,a9e.compressExpr)(i)}):(this.elsePick.log(`else type '${$p.FT.inspect(o)}', expected '${r.dataType}'`),(0,b5.errorFor)("pick value type mismatch"))}};cS.Pick=u9e;var l9e=class extends Fvt.MalloyElement{constructor(e,t){super({when:t});this.pick=e,this.when=t,this.elementType="pickWhen",this.has({pick:e})}};cS.PickWhen=l9e});var d9e=G(Cj=>{"use strict";d();Object.defineProperty(Cj,"__esModule",{value:!0});Cj.Timeframe=void 0;var Dvt=Bs(),Ovt=so(),f9e=class extends Ovt.MalloyElement{constructor(e){super();this.elementType="timeframe";let t=e.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1)),this.text=(0,Dvt.isTimestampUnit)(t)?t:"second"}};Cj.Timeframe=f9e});var m9e=G(wj=>{"use strict";d();Object.defineProperty(wj,"__esModule",{value:!0});wj.TopBy=void 0;var Nvt=Bs(),h9e=Xo(),Rvt=so(),Lvt=kc(),p9e=class extends Rvt.MalloyElement{constructor(e){super();this.by=e,this.elementType="topBy",e instanceof h9e.ExpressionDef&&this.has({by:e})}getBy(e){if(this.by instanceof h9e.ExpressionDef){let t=this.by.getExpression(e);return(0,Nvt.expressionIsAggregate)(t.expressionType)||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,Lvt.compressExpr)(t.value)}}return{by:"name",name:this.by}}};wj.TopBy=p9e});var g9e=G(Aj=>{"use strict";d();Object.defineProperty(Aj,"__esModule",{value:!0});Aj.ImportStatement=void 0;var kvt=so(),x9e=class extends kvt.MalloyElement{constructor(e,t){super();this.url=e,this.elementType="import statement";try{this.fullURL=decodeURI(new URL(e,t).toString())}catch{this.log("Invalid URI in import statement")}}execute(e){let t=this.translator();if(!t)this.log("Cannot import without translation context");else if(this.fullURL){let r=t.root.importZone.getEntry(this.fullURL);if(r.status==="present"){let i=t.childRequest(this.fullURL);if(i)return i;let s=t.getChildExports(this.fullURL);for(let o in s)e.setEntry(o,{entry:s[o],exported:!1})}else r.status==="error"?this.log(`import failed: '${r.message}'`):this.log(`import failed with status: '${r.status}'`)}}};Aj.ImportStatement=x9e});var v9e=G(Tj=>{"use strict";d();Object.defineProperty(Tj,"__esModule",{value:!0});Tj.AnonymousQuery=void 0;var Ivt=so(),y9e=class extends Ivt.MalloyElement{constructor(e){super();this.theQuery=e,this.elementType="anonymousQuery",this.has({query:e})}execute(e){let t=this.theQuery.query();e.queryList.push(t)}};Tj.AnonymousQuery=y9e});var Dj=G(fS=>{"use strict";d();Object.defineProperty(fS,"__esModule",{value:!0});fS.NamedSource=fS.IsValueBlock=void 0;var _9e=Bs(),Mvt=h_(),Pvt=Mp(),Bvt=m_(),Fj=so(),kre=class extends Fj.MalloyElement{constructor(e){super();this.isMap=e,this.elementType="isValueBlock",this.has(e)}};fS.IsValueBlock=kre;var b9e=class extends Mvt.Source{constructor(e,t={}){super();this.ref=e,this.elementType="namedSource",t&&Object.keys(t).length>0&&(this.isBlock=new kre(t),this.has({parameterValues:this.isBlock})),e instanceof Fj.ModelEntryReference&&this.has({ref:e})}get refName(){return this.ref instanceof Fj.ModelEntryReference?this.ref.name:this.ref}structRef(){if(this.isBlock)return this.structDef();let e=this.modelEntry(this.ref);return e&&!e.exported?this.structDef():this.refName}modelStruct(){let e=this.modelEntry(this.ref),t=e==null?void 0:e.entry;if(!t){let r=`Undefined source '${this.refName}'`;(this.ref instanceof Fj.ModelEntryReference?this.ref:this).log(r);return}if(t.type==="query"){this.log(`Must use 'from()' for query source '${this.refName}`);return}else if(e.sqlType){this.log(`Must use 'from_sql()' for sql source '${this.refName}`);return}return{...t}}structDef(){var e;let t=this.modelStruct();if(!t){let s=Pvt.ErrorFactory.structDef,o=`${this.refName}-undefined`;return s.name=s.name+o,s.dialect=s.dialect+o,s}let r={...t.parameters},i=((e=this.isBlock)===null||e===void 0?void 0:e.isMap)||{};for(let[s,o]of Object.entries(i)){let a=r[s];if(!a)this.log(`Value given for undeclared parameter '${s}`);else if((0,_9e.isValueParameter)(a))if(a.constant)o.log(`Cannot override constant parameter ${s}`);else{let l=o.constantValue(),f=l.value;l.dataType!==a.type&&(f=(0,Bvt.castTo)(a.type,l.value,!0)),a.value=f}else a.condition=o.constantCondition(a.type).value}for(let s in t.parameters)(0,_9e.paramHasValue)(r[s])||this.log(`Value not provided for required parameter ${s}`);return t}};fS.NamedSource=b9e});var S9e=G(Oj=>{"use strict";d();Object.defineProperty(Oj,"__esModule",{value:!0});Oj.QueryHeadStruct=void 0;var jvt=Bs(),qvt=h_(),Uvt=Dj(),E9e=class extends qvt.Source{constructor(e){super();this.fromRef=e,this.elementType="internalOnlyQueryHead"}structRef(){return this.fromRef}structDef(){if((0,jvt.refIsStructDef)(this.fromRef))return this.fromRef;let e=new Uvt.NamedSource(this.fromRef);return this.has({exploreReference:e}),e.structDef()}};Oj.QueryHeadStruct=E9e});var Ire=G(Nj=>{"use strict";d();Object.defineProperty(Nj,"__esModule",{value:!0});Nj.ExistingQuery=void 0;var $vt=bne(),C9e=Mp(),w9e=f5(),zvt=S9e(),A9e=class extends $vt.PipelineDesc{set head(e){this._head=e,this.has({head:e})}get head(){return this._head}queryComp(){if(!this.head)throw this.internalError("can't make query from nameless query");let e=this.modelEntry(this.head),t=e==null?void 0:e.entry,r=function(){return{outputStruct:C9e.ErrorFactory.structDef,query:C9e.ErrorFactory.query}};if(!t)return this.log(`Reference to undefined query '${this.head}'`),r();if(t.type!=="query")return this.log(`Illegal reference to '${this.head}', query expected`),r();let i=new zvt.QueryHeadStruct(t.structRef);this.has({queryHead:i});let s=i.structDef(),o=new w9e.StaticSpace(s),a=this.refinePipeline(o,t),l=this.getOutputStruct(s,a.pipeline),f=this.appendOps(a.pipeline,new w9e.StaticSpace(l)),p={...a,pipeline:f.opList},v={type:"query",...p,structRef:i.structRef(),location:this.location};return{outputStruct:f.structDef,query:v}}query(){return this.queryComp().query}};Nj.ExistingQuery=A9e});var Mre=G(Rj=>{"use strict";d();Object.defineProperty(Rj,"__esModule",{value:!0});Rj.FullQuery=void 0;var Hvt=Bs(),Vvt=Mp(),T9e=f5(),Wvt=MP(),F9e=class extends Wvt.TurtleHeadedPipe{constructor(e){super({explore:e});this.explore=e}queryComp(){let e=this.explore.structRef(),t={type:"query",structRef:e,pipeline:[],location:this.location},r=(0,Hvt.refIsStructDef)(e)?e:this.explore.structDef(),i=new T9e.StaticSpace(r);if(Vvt.ErrorFactory.isErrorStructDef(r))return{outputStruct:r,query:{structRef:e,pipeline:[]}};if(this.turtleName){let{error:o}=this.turtleName.getField(i);o&&this.log(o);let a=this.turtleName.refString,{pipeline:l,location:f}=this.expandTurtle(a,r);t.location=f;let p=this.refinePipeline(i,{pipeline:l}).pipeline;this.headRefinement?t.pipeline=p:t.pipeHead={name:a};let v=this.getOutputStruct(r,p);i=new T9e.StaticSpace(v)}let s=this.appendOps(t.pipeline,i);return t.pipeline=s.opList,{outputStruct:s.structDef,query:t}}query(){return this.queryComp().query}};Rj.FullQuery=F9e});var TF=G(Lj=>{"use strict";d();Object.defineProperty(Lj,"__esModule",{value:!0});Lj.Aggregate=void 0;var Qvt=p5(),Gvt=so(),D9e=class extends Gvt.ListOf{constructor(e){super("aggregate",e);for(let t of e)t instanceof Qvt.FieldDeclaration&&(t.isMeasure=!0)}};Lj.Aggregate=D9e});var N9e=G(kj=>{"use strict";d();Object.defineProperty(kj,"__esModule",{value:!0});kj.Dimensions=void 0;var Yvt=m5(),O9e=class extends Yvt.DeclareFields{constructor(e){super(e,"dimension");for(let t of e)t.isMeasure=!1}};kj.Dimensions=O9e});var dS=G(Ij=>{"use strict";d();Object.defineProperty(Ij,"__esModule",{value:!0});Ij.GroupBy=void 0;var Kvt=p5(),Jvt=so(),R9e=class extends Jvt.ListOf{constructor(e){super("groupBy",e);for(let t of e)t instanceof Kvt.FieldDeclaration&&(t.isMeasure=!1)}};Ij.GroupBy=R9e});var FF=G(Mj=>{"use strict";d();Object.defineProperty(Mj,"__esModule",{value:!0});Mj.Index=void 0;var Xvt=so(),L9e=class extends Xvt.MalloyElement{constructor(e){super({fields:e});this.fields=e,this.elementType="index"}useWeight(e){this.has({weightBy:e}),this.weightBy=e}};Mj.Index=L9e});var DF=G(Pj=>{"use strict";d();Object.defineProperty(Pj,"__esModule",{value:!0});Pj.Limit=void 0;var Zvt=so(),k9e=class extends Zvt.MalloyElement{constructor(e){super();this.limit=e,this.elementType="limit"}};Pj.Limit=k9e});var Pre=G(Bj=>{"use strict";d();Object.defineProperty(Bj,"__esModule",{value:!0});Bj.Measures=void 0;var e_t=m5(),I9e=class extends e_t.DeclareFields{constructor(e){super(e,"measure");for(let t of e)t.isMeasure=!0}};Bj.Measures=I9e});var OF=G(jj=>{"use strict";d();Object.defineProperty(jj,"__esModule",{value:!0});jj.Nests=void 0;var t_t=so(),M9e=class extends t_t.ListOf{constructor(e){super("nestedQueries",e)}};jj.Nests=M9e});var Uj=G(qj=>{"use strict";d();Object.defineProperty(qj,"__esModule",{value:!0});qj.FieldName=void 0;var n_t=so(),P9e=class extends n_t.MalloyElement{constructor(e){super();this.name=e,this.elementType="fieldName"}get refString(){return this.name}toString(){return this.refString}getField(e){return e.lookup([this])}};qj.FieldName=P9e});var $j=G(hS=>{"use strict";d();Object.defineProperty(hS,"__esModule",{value:!0});hS.Ordering=hS.OrderBy=void 0;var r_t=Uj(),B9e=so(),j9e=class extends B9e.MalloyElement{constructor(e,t){super();this.field=e,this.dir=t,this.elementType="orderBy",e instanceof r_t.FieldName&&this.has({field:e})}get modelField(){return typeof this.field=="number"?this.field:this.field.refString}getOrderBy(e){let t={field:this.modelField};return this.dir&&(t.dir=this.dir),t}};hS.OrderBy=j9e;var q9e=class extends B9e.ListOf{constructor(e){super("ordering",e)}getOrderBy(e){return this.list.map(t=>t.getOrderBy(e))}};hS.Ordering=q9e});var NF=G(zj=>{"use strict";d();Object.defineProperty(zj,"__esModule",{value:!0});zj.ProjectStatement=void 0;var i_t=so(),U9e=class extends i_t.ListOf{constructor(e){super("fieldCollection",e)}};zj.ProjectStatement=U9e});var Vj=G(Hj=>{"use strict";d();Object.defineProperty(Hj,"__esModule",{value:!0});Hj.SampleProperty=void 0;var s_t=so(),$9e=class extends s_t.MalloyElement{constructor(e){super();this.sample=e,this.elementType="sampleProperty"}sampling(){return this.sample}};Hj.SampleProperty=$9e});var H9e=G(Wj=>{"use strict";d();Object.defineProperty(Wj,"__esModule",{value:!0});Wj.IndexFieldSpace=void 0;var o_t=xF(),z9e=class extends o_t.QuerySpace{constructor(){super(...arguments);this.segmentType="index",this.fieldList=new Set}addReference(e){e.getField(this.exprSpace).found&&this.fieldList.add(e.refString)}addWild(e){this.fieldList.add(e.refString)}getPipeSegment(e){if(e&&e.fields)for(let t of e.fields)typeof t=="string"&&this.fieldList.add(t);return this.isComplete(),{type:"index",fields:Array.from(this.fieldList.values())}}};Wj.IndexFieldSpace=z9e});var W9e=G(Qj=>{"use strict";d();Object.defineProperty(Qj,"__esModule",{value:!0});Qj.IndexExecutor=void 0;var a_t=Mp(),u_t=x5(),l_t=FF(),c_t=DF(),f_t=Vj(),d_t=H9e(),V9e=class{constructor(e){this.filters=[],this.resultFS=new d_t.IndexFieldSpace(e),this.inputFS=this.resultFS.exprSpace}execute(e){e instanceof u_t.Filter?this.filters.push(...e.getFilterList(this.inputFS)):e instanceof c_t.Limit?(this.limit&&this.limit.log("Ignored, too many limit: statements"),this.limit=e):e instanceof l_t.Index?(this.resultFS.addMembers(e.fields.list),e.weightBy&&(this.indexOn&&this.indexOn.log("Ignoring previous BY"),this.indexOn=e.weightBy)):e instanceof f_t.SampleProperty?this.sample=e.sampling():e.log("Not legal in an index query operation")}finalize(e){if(e&&e.type!=="index")return this.resultFS.log(`Can't refine index with ${e.type}`),a_t.ErrorFactory.indexSegment;let t=this.resultFS.getPipeSegment(e),r=(e==null?void 0:e.filterList)||[];return this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters]),(e==null?void 0:e.limit)&&(t.limit=e.limit),this.limit&&(t.limit=this.limit.limit),this.indexOn&&(t.weightMeasure=this.indexOn.refString),(e==null?void 0:e.sample)&&(t.sample=e.sample),this.sample&&(t.sample=this.sample),t}};Qj.IndexExecutor=V9e});var Y9e=G(Gj=>{"use strict";d();Object.defineProperty(Gj,"__esModule",{value:!0});Gj.ProjectFieldSpace=void 0;var Q9e=Bs(),h_t=xF(),G9e=class extends h_t.QuerySpace{constructor(){super(...arguments);this.segmentType="project"}canContain(e){if(typeof e!="string"){if((0,Q9e.isFilteredAliasedName)(e))return!0;if(e.type==="turtle")return this.log("Cannot nest queries in project"),!1;if((0,Q9e.expressionIsAggregate)(e.expressionType))return this.log("Cannot add aggregate measures to project"),!1}return!0}};Gj.ProjectFieldSpace=G9e});var Kj=G(Yj=>{"use strict";d();Object.defineProperty(Yj,"__esModule",{value:!0});Yj.Top=void 0;var p_t=Bs(),m_t=kc(),x_t=Uj(),g_t=so(),K9e=class extends g_t.MalloyElement{constructor(e,t){super();this.limit=e,this.by=t,this.elementType="top",this.has({by:t})}getBy(e){if(this.by){if(this.by instanceof x_t.FieldName)return{by:"name",name:this.by.refString};{let t=this.by.getExpression(e);return(0,p_t.expressionIsAggregate)(t.expressionType)&&this.log("top by expression must be an aggregate"),{by:"expression",e:(0,m_t.compressExpr)(t.value)}}}}};Yj.Top=K9e});var Bre=G(Jj=>{"use strict";d();Object.defineProperty(Jj,"__esModule",{value:!0});Jj.ReduceExecutor=void 0;var y_t=Bs(),v_t=Mp(),__t=TF(),b_t=m5(),E_t=x5(),S_t=dS(),C_t=h5(),w_t=DF(),J9e=$j(),X9e=Kj(),A_t=OF(),T_t=d_(),F_t=xF(),Z9e=class{constructor(e){this.filters=[],this.resultFS=this.getResultSpace(e),this.inputFS=this.resultFS.exprSpace}getResultSpace(e){return new F_t.ReduceFieldSpace(e)}execute(e){if(e instanceof S_t.GroupBy||e instanceof __t.Aggregate||e instanceof A_t.Nests)this.resultFS.addQueryItems(...e.list);else if((0,T_t.isNestedQuery)(e))this.resultFS.addQueryItems(e);else if(e instanceof E_t.Filter)this.filters.push(...e.getFilterList(this.inputFS));else if(e instanceof X9e.Top)this.limit?e.log("Query operation already limited"):this.limit=e.limit,e.by&&(this.order?e.log("Query operation is already sorted"):this.order=e);else if(e instanceof w_t.Limit)this.limit?e.log("Query operation already limited"):this.limit=e.limit;else if(e instanceof J9e.Ordering)this.order?e.log("Query operation already sorted"):this.order=e;else if(e instanceof C_t.Joins||e instanceof b_t.DeclareFields)for(let t of e.list)this.inputFS.extendSource(t)}refineFrom(e,t){if(e&&e.type!=="index"&&(this.order||(e.orderBy?t.orderBy=e.orderBy:e.by&&(t.by=e.by)),!this.limit&&e.limit&&(t.limit=e.limit)),this.limit&&(t.limit=this.limit),this.order instanceof X9e.Top){let i=this.order.getBy(this.inputFS);i&&(t.by=i)}this.order instanceof J9e.Ordering&&(t.orderBy=this.order.getOrderBy(this.inputFS));let r=(e==null?void 0:e.filterList)||[];this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters])}finalize(e){let t;if(e)if((0,y_t.isReduceSegment)(e))t=e;else return this.inputFS.result.log(`Can't refine reduce with ${e.type}`),v_t.ErrorFactory.reduceSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}};Jj.ReduceExecutor=Z9e});var twe=G(Xj=>{"use strict";d();Object.defineProperty(Xj,"__esModule",{value:!0});Xj.ProjectExecutor=void 0;var D_t=Bs(),O_t=Mp(),N_t=Pre(),R_t=x5(),L_t=dS(),k_t=NF(),I_t=Y9e(),M_t=Bre(),ewe=class extends M_t.ReduceExecutor{getResultSpace(e){return new I_t.ProjectFieldSpace(e)}execute(e){e instanceof k_t.ProjectStatement?this.resultFS.addMembers(e.list):e instanceof R_t.Filter&&e.elementType==="having"||e instanceof N_t.Measures||e instanceof L_t.GroupBy?e.log("Illegal statement in a project query operation"):super.execute(e)}finalize(e){let t;if(e)if((0,D_t.isProjectSegment)(e))t=e;else return this.resultFS.log(`Can't refine project with ${e.type}`),O_t.ErrorFactory.projectSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}};Xj.ProjectExecutor=ewe});var rwe=G(Zj=>{"use strict";d();Object.defineProperty(Zj,"__esModule",{value:!0});Zj.QOPDesc=void 0;var P_t=W9e(),B_t=twe(),j_t=Bre(),q_t=so(),U_t=TF(),$_t=dS(),z_t=FF(),H_t=OF(),V_t=NF(),W_t=LP(),Q_t=d_(),G_t=f5(),nwe=class extends q_t.ListOf{constructor(e){super("queryOperator",e);this.opType="grouping"}computeType(){let e;this.refineThis&&(this.refineThis.type=="reduce"?e="grouping":e=this.refineThis.type);let t=!1;for(let i of this.list)i instanceof z_t.Index?(e||(e="index"),e!=="index"&&i.log(`index: not legal in ${e} query`)):i instanceof H_t.Nests||(0,Q_t.isNestedQuery)(i)||i instanceof $_t.GroupBy?(e||(e="grouping"),t=!0,(e==="project"||e==="index")&&i.log(`group_by: not legal in ${e} query`)):i instanceof U_t.Aggregate?(e||(e="aggregate"),(e==="project"||e==="index")&&i.log(`aggregate: not legal in ${e} query`)):i instanceof V_t.ProjectStatement&&(e||(e="project"),e!=="project"&&i.log(`project: not legal in ${e} query`));e==="aggregate"&&t&&(e="grouping"),e||this.log("Can't determine query type (group_by/aggregate/nest,project,index)");let r=e||"grouping";return this.opType=r,r}refineFrom(e){this.refineThis=e}getExecutor(e){switch(this.computeType()){case"aggregate":case"grouping":return new j_t.ReduceExecutor(e);case"project":return new B_t.ProjectExecutor(e);case"index":return new P_t.IndexExecutor(e)}}getOp(e,t){let r=this.getExecutor(e);(t==null?void 0:t.nestedInQuerySpace)&&(r.inputFS.nestParent=t.nestedInQuerySpace),r.resultFS.astEl=this;for(let s of this.list)r.execute(s);let i=r.finalize(this.refineThis);return{segment:i,outputSpace:()=>new G_t.StaticSpace((0,W_t.opOutputStruct)(this,e.structDef(),i))}}};Zj.QOPDesc=nwe});var swe=G(eq=>{"use strict";d();Object.defineProperty(eq,"__esModule",{value:!0});eq.QuerySource=void 0;var Y_t=h_(),iwe=class extends Y_t.Source{constructor(e){super({query:e});this.query=e,this.elementType="querySource"}structDef(){let e=this.query.queryComp(),t=e.outputStruct;return t.structSource={type:"query",query:e.query},t}};eq.QuerySource=iwe});var awe=G(tq=>{"use strict";d();Object.defineProperty(tq,"__esModule",{value:!0});tq.SQLSource=void 0;var K_t=Dj(),owe=class extends K_t.NamedSource{constructor(){super(...arguments);this.elementType="sqlSource"}structRef(){return this.structDef()}modelStruct(){let e=this.modelEntry(this.ref),t=e==null?void 0:e.entry;if(!t){this.log(`Undefined from_sql source '${this.refName}'`);return}if(t.type==="query"){this.log(`Cannot use 'from_sql()' to explore query '${this.refName}'`);return}else if(!e.sqlType){this.log(`Cannot use 'from_sql()' to explore '${this.refName}'`);return}return t}};tq.SQLSource=owe});var lwe=G(nq=>{"use strict";d();Object.defineProperty(nq,"__esModule",{value:!0});nq.TableSource=void 0;var J_t=h_(),X_t=Mp(),uwe=class extends J_t.Source{constructor(e){super();this.name=e,this.elementType="tableSource"}structDef(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.schemaZone.getEntry(this.name),r=`Schema read failure for table '${this.name}'`;if(t){if(t.status=="present")return t.value.location=this.location,t.value.fields.forEach(i=>{i.location=this.location}),{...t.value,fields:t.value.fields.map(i=>({...i,location:this.location})),location:this.location};t.status=="error"&&(r=t.message)}return this.log(r),X_t.ErrorFactory.structDef}};nq.TableSource=uwe});var cwe=G(rq=>{"use strict";d();Object.defineProperty(rq,"__esModule",{value:!0});rq.makeSQLBlock=void 0;var Z_t=Bs(),e6t=SE();function t6t(n,e){let t={name:`md5:/${e||"$default"}//${n6t(n)}`,select:n};return e&&(t.connection=e),t}rq.makeSQLBlock=t6t;function n6t(n){let e=n.map(t=>(0,Z_t.isSQLFragment)(t)?t.sql:JSON.stringify(t));return(0,e6t.generateHash)(e.join(";"))}});var dwe=G(iq=>{"use strict";d();Object.defineProperty(iq,"__esModule",{value:!0});iq.SQLStatement=void 0;var r6t=cwe(),i6t=so(),fwe=class extends i6t.MalloyElement{constructor(e){super();this.select=e,this.elementType="sqlStatement",this.has({select:e})}sqlBlock(){return this.requestBlock||(this.requestBlock=(0,r6t.makeSQLBlock)(this.select.sqlPhrases(),this.connection)),this.requestBlock}execute(e){var t;let r=(t=this.translator())===null||t===void 0?void 0:t.root.sqlQueryZone;if(!r){this.log("Cant't look up schema for sql block");return}let i=this.sqlBlock();r.reference(i.name,this.location);let s=r.getEntry(i.name);if(s.status=="error"){let o=s.message.split(/\r?\n/);this.select.log("Invalid SQL, "+o.join(`
    `));return}if(s.status=="present"){let o=this.select.location,a={...s.value,fields:s.value.fields.map(l=>({...l,location:o})),location:this.location};this.is&&!e.defineSQL(a,this.is)&&this.log(`'${this.is}' already defined`);return}return{compileSQL:i,partialModel:this.select.containsQueries?e.modelDef():void 0}}};iq.SQLStatement=fwe});var jre=G(sq=>{"use strict";d();Object.defineProperty(sq,"__esModule",{value:!0});sq.isQueryElement=void 0;var s6t=Ire(),o6t=Mre();function a6t(n){return n instanceof o6t.FullQuery||n instanceof s6t.ExistingQuery}sq.isQueryElement=a6t});var pwe=G(oq=>{"use strict";d();Object.defineProperty(oq,"__esModule",{value:!0});oq.SQLString=void 0;var u6t=jre(),l6t=so(),hwe=class extends l6t.MalloyElement{constructor(){super(...arguments);this.elementType="sqlString",this.elements=[],this.containsQueries=!1}push(e){typeof e=="string"?e.length>0&&this.elements.push(e):(0,u6t.isQueryElement)(e)?(this.elements.push(e),this.containsQueries=!0,e.parent=this):e.log("This element is not legal inside an SQL string")}sqlPhrases(){return this.elements.map(e=>typeof e=="string"?{sql:e}:e.query())}};oq.SQLString=hwe});var xwe=G(aq=>{"use strict";d();Object.defineProperty(aq,"__esModule",{value:!0});aq.ExploreDesc=void 0;var c6t=so(),mwe=class extends c6t.ListOf{constructor(e){super("exploreDesc",e)}};aq.ExploreDesc=mwe});var gwe=G(uq=>{"use strict";d();Object.defineProperty(uq,"__esModule",{value:!0});uq.isSourceProperty=void 0;var f6t=x5(),d6t=h5(),h6t=m5(),p6t=iB(),m6t=dF(),x6t=oB(),g6t=uB();function y6t(n){return n instanceof f6t.Filter||n instanceof d6t.Joins||n instanceof h6t.DeclareFields||n instanceof p6t.FieldListEdit||n instanceof m6t.Renames||n instanceof x6t.PrimaryKey||n instanceof g6t.Turtles}uq.isSourceProperty=y6t});var vwe=G(lq=>{"use strict";d();Object.defineProperty(lq,"__esModule",{value:!0});lq.isFieldCollectionMember=void 0;var v6t=p5(),ywe=fF();function _6t(n){return n instanceof ywe.FieldReference||n instanceof ywe.WildcardFieldReference||n instanceof v6t.FieldDeclaration}lq.isFieldCollectionMember=_6t});var bwe=G(_we=>{"use strict";d();Object.defineProperty(_we,"__esModule",{value:!0})});var Swe=G(Ewe=>{"use strict";d();Object.defineProperty(Ewe,"__esModule",{value:!0})});var Cwe=G(cq=>{"use strict";d();Object.defineProperty(cq,"__esModule",{value:!0});cq.isQueryProperty=void 0;var b6t=d_(),E6t=TF(),S6t=m5(),C6t=x5(),w6t=dS(),A6t=FF(),T6t=h5(),F6t=DF(),D6t=OF(),O6t=$j(),N6t=NF(),R6t=Vj(),L6t=Kj();function k6t(n){return n instanceof O6t.Ordering||n instanceof L6t.Top||n instanceof F6t.Limit||n instanceof C6t.Filter||n instanceof A6t.Index||n instanceof R6t.SampleProperty||n instanceof T6t.Joins||n instanceof S6t.DeclareFields||n instanceof N6t.ProjectStatement||n instanceof E6t.Aggregate||n instanceof D6t.Nests||(0,b6t.isNestedQuery)(n)||n instanceof w6t.GroupBy}cq.isQueryProperty=k6t});var qre=G(Lr=>{"use strict";d();var I6t=Lr&&Lr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),qr=Lr&&Lr.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&I6t(e,n,t)};Object.defineProperty(Lr,"__esModule",{value:!0});qr(d_(),Lr);qr(I8e(),Lr);qr(j8e(),Lr);qr(h_(),Lr);qr(m7e(),Lr);qr(iB(),Lr);qr(oB(),Lr);qr(dF(),Lr);qr(uB(),Lr);qr(k7e(),Lr);qr(SB(),Lr);qr(P7e(),Lr);qr(j7e(),Lr);qr(y_(),Lr);qr($7e(),Lr);qr(OB(),Lr);qr(V7e(),Lr);qr(Q7e(),Lr);qr(Pne(),Lr);qr(Y7e(),Lr);qr(J7e(),Lr);qr(eSe(),Lr);qr(nSe(),Lr);qr(Mne(),Lr);qr(iSe(),Lr);qr(aSe(),Lr);qr(lSe(),Lr);qr(fSe(),Lr);qr(hSe(),Lr);qr(mSe(),Lr);qr(vSe(),Lr);qr(bSe(),Lr);qr(SSe(),Lr);qr(wSe(),Lr);qr(TSe(),Lr);qr(DSe(),Lr);qr(NSe(),Lr);qr(LSe(),Lr);qr(kSe(),Lr);qr(zSe(),Lr);qr(QSe(),Lr);qr(i9e(),Lr);qr(o9e(),Lr);qr(c9e(),Lr);qr(Y7(),Lr);qr(d9e(),Lr);qr(m9e(),Lr);qr(Bne(),Lr);qr(kc(),Lr);qr(g9e(),Lr);qr(AP(),Lr);qr(Tne(),Lr);qr(v9e(),Lr);qr(Ire(),Lr);qr(Mre(),Lr);qr(p5(),Lr);qr(fF(),Lr);qr(TF(),Lr);qr(m5(),Lr);qr(N9e(),Lr);qr(x5(),Lr);qr(dS(),Lr);qr(FF(),Lr);qr(h5(),Lr);qr(DF(),Lr);qr(Pre(),Lr);qr(OF(),Lr);qr($j(),Lr);qr(NF(),Lr);qr(rwe(),Lr);qr(Vj(),Lr);qr(Kj(),Lr);qr(Dj(),Lr);qr(swe(),Lr);qr(awe(),Lr);qr(lwe(),Lr);qr(dwe(),Lr);qr(pwe(),Lr);qr(lB(),Lr);qr(xwe(),Lr);qr(gwe(),Lr);qr(Xo(),Lr);qr(vwe(),Lr);qr(Uj(),Lr);qr(so(),Lr);qr(bwe(),Lr);qr(jre(),Lr);qr(Swe(),Lr);qr(Cwe(),Lr);qr(MP(),Lr)});var Ure=G(E5=>{"use strict";d();var RF=E5&&E5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},LF=E5&&E5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(E5,"__esModule",{value:!0});E5.AbstractParseTreeVisitor=void 0;var qx=ar(),F_=class{visit(e){return e.accept(this)}visitChildren(e){let t=this.defaultResult(),r=e.childCount;for(let i=0;i<r&&this.shouldVisitNextChild(e,t);i++){let o=e.getChild(i).accept(this);t=this.aggregateResult(t,o)}return t}visitTerminal(e){return this.defaultResult()}visitErrorNode(e){return this.defaultResult()}aggregateResult(e,t){return t}shouldVisitNextChild(e,t){return!0}};RF([qx.Override,LF(0,qx.NotNull)],F_.prototype,"visit",null);RF([qx.Override,LF(0,qx.NotNull)],F_.prototype,"visitChildren",null);RF([qx.Override,LF(0,qx.NotNull)],F_.prototype,"visitTerminal",null);RF([qx.Override,LF(0,qx.NotNull)],F_.prototype,"visitErrorNode",null);RF([LF(0,qx.NotNull)],F_.prototype,"shouldVisitNextChild",null);E5.AbstractParseTreeVisitor=F_});var Awe=G(Om=>{"use strict";d();var M6t=Om&&Om.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),P6t=Om&&Om.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),B6t=Om&&Om.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&M6t(e,n,t);return P6t(e,n),e};Object.defineProperty(Om,"__esModule",{value:!0});Om.MalloyToAST=void 0;var j6t=Ure(),Zn=B6t(qre()),q6t=df(),wwe=class extends j6t.AbstractParseTreeVisitor{constructor(e,t){super();this.parse=e,this.msgLog=t}internalError(e,t){let r=`Internal Translator Error: ${t}`;return this.contextError(e,r),new Error(r)}astError(e,t,r="error"){this.msgLog.log({message:t,at:e.location,severity:r})}contextError(e,t,r="error"){this.msgLog.log({message:t,at:{url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(e)},severity:r})}onlyExploreProperties(e){let t=[];for(let r of e)Zn.isSourceProperty(r)?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyJoins(e){let t=[];for(let r of e)r instanceof Zn.Join?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyDocStatements(e){let t=[];for(let r of e)Zn.isDocStatement(r)?t.push(r):this.astError(r,`Expected statement, not '${r.elementType}'`);return t}onlyNestedQueries(e){let t=[];for(let r of e)Zn.isNestedQuery(r)?t.push(r):this.astError(r,`Expected query, not '${r.elementType}'`);return t}onlyQueryRefs(e){let t=[];for(let r of e)r instanceof Zn.FieldReference||r instanceof Zn.FieldDeclaration?t.push(r):r instanceof Zn.Unimplemented&&r.reported||this.astError(r,`Expected query field, not '${r.elementType}'`);return t}getNumber(e){return Number.parseInt(e.text)}optionalString(e){if(e)return this.stripQuotes(e.text)}getIdText(e){return this.stripQuotes(e.text)}getFieldName(e){return this.astAt(new Zn.FieldName(this.getIdText(e)),e)}getModelEntryName(e){return this.astAt(new Zn.ModelEntryReference(this.getIdText(e)),e)}stripQuotes(e){return(e[0]==="`"||e[0]==="'"||e[0]==='"')&&e[0]===e[e.length-1]?e.slice(1,-1):e}optionalText(e){if(e)return this.getIdText(e)}defaultResult(){return new Zn.Unimplemented}astAt(e,t){return e.location={url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(t)},e}getSourceCode(e){let t=e.start.startIndex,r=e.stop||e.start,i=new q6t.Interval(t,r.stopIndex);return this.parse.sourceStream.getText(i)}getFilterElement(e){let t=this.getFieldExpr(e),r=new Zn.FilterElement(t,this.getSourceCode(e));return this.astAt(r,e)}getFieldDefs(e,t){let r=[];for(let i of e){let s=this.visit(i);s instanceof Zn.FieldDeclaration?(this.astAt(s,i),r.push(s),t!==void 0&&(s.isMeasure=t)):this.contextError(i,"Expected field definition")}return r}getFieldExpr(e){let t=this.visit(e);if(t instanceof Zn.ExpressionDef)return this.astAt(t,e);throw this.internalError(e,`expression node unknown type '${t.elementType}'`)}getSegments(e){return e.map(t=>this.visitQueryProperties(t.queryProperties()))}getFilterShortcut(e){let t=this.getFilterElement(e.fieldExpr());return new Zn.Filter([t])}getExploreSource(e){let t=this.visit(e);if(t instanceof Zn.Source)return t;throw this.internalError(e,`'${t.elementType}': illegal explore source`)}makeSqlString(e,t){var r;for(let s of e.sqlInterpolation()){let o=s.OPEN_CODE().text;o.length>2&&t.push(o.slice(0,o.length-2)),t.push(this.visit(s.query()))}let i=(r=e.SQL_END())===null||r===void 0?void 0:r.text.slice(0,-3);t.push(i||""),this.astAt(t,e)}visitMalloyDocument(e){let t=this.onlyDocStatements(e.malloyStatement().map(r=>this.visit(r)));return new Zn.Document(t)}visitDefineSourceStatement(e){let r=e.sourcePropertyList().sourceDefinition().map(i=>this.visitsourceDefinition(i));return r.length==1?r[0]:new Zn.DefineSourceList(r)}visitsourceDefinition(e){let t=new Zn.DefineSource(this.getIdText(e.sourceNameDef()),this.visitExplore(e.explore()),!0,[]);return this.astAt(t,e)}visitExplore(e){let t=this.getExploreSource(e.exploreSource()),r=e.exploreProperties();return r?this.astAt(new Zn.RefinedSource(t,this.visitExploreProperties(r)),e):t}visitExploreProperties(e){let t=e.filterShortcut(),r=e.exploreStatement().map(s=>this.visit(s)),i=new Zn.ExploreDesc(this.onlyExploreProperties(r));return t&&i.push(this.getFilterShortcut(t)),i}visitExploreTable(e){let t=this.stripQuotes(e.tableName().text);return this.astAt(new Zn.TableSource(t),e)}visitTableSource(e){return this.visitExploreTable(e.exploreTable())}visitSQLSourceName(e){let t=this.getModelEntryName(e.sqlExploreNameRef());return this.astAt(new Zn.SQLSource(t),e)}visitQuerySource(e){let t=this.visit(e.query());if(Zn.isQueryElement(t))return this.astAt(new Zn.QuerySource(t),e);throw this.internalError(e,`Expect query definition, got a '${t.elementType}'`)}visitDefJoinMany(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof Zn.Join&&(r.push(i),i instanceof Zn.ExpressionJoin?(i.joinType="many",i.joinOn==null&&i.log("join_many: requires ON expression")):i instanceof Zn.KeyJoin&&i.log("Foreign key join not legal in join_many:"));return new Zn.Joins(r)}visitDefJoinOne(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof Zn.Join&&(r.push(i),i instanceof Zn.ExpressionJoin&&(i.joinType="one"));return new Zn.Joins(r)}visitDefJoinCross(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof Zn.Join&&(r.push(i),i instanceof Zn.ExpressionJoin?i.joinType="cross":i.log("Foreign key join not legal in join_cross:"));return new Zn.Joins(r)}getJoinList(e){return e.joinDef().map(t=>this.visit(t))}getJoinSource(e,t){return t?this.visitExplore(t):new Zn.NamedSource(e)}visitJoinOn(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=new Zn.ExpressionJoin(t,r),s=e.joinExpression();return s&&(i.joinOn=this.getFieldExpr(s)),this.astAt(i,e)}visitJoinWith(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=this.getFieldExpr(e.fieldExpr()),s=new Zn.KeyJoin(t,r,i);return this.astAt(s,e)}visitFieldDef(e){let t=e.fieldExpr(),r=this.getIdText(e.fieldNameDef()),i=this.getFieldExpr(t),s=new Zn.FieldDeclaration(i,r,this.getSourceCode(t));return this.astAt(s,e)}visitDefExploreDimension(e){let t=this.getFieldDefs(e.dimensionDefList().dimensionDef(),!1),r=new Zn.Dimensions(t);return this.astAt(r,e)}visitDefExploreMeasure(e){let t=this.getFieldDefs(e.measureDefList().measureDef(),!0),r=new Zn.Measures(t);return this.astAt(r,e)}visitDeclareStatement(e){let t=this.getFieldDefs(e.fieldDef(),!0),r=new Zn.DeclareFields(t);return this.astAt(r,e)}visitExploreRenameDef(e){let t=e.fieldName(0).id(),r=e.fieldName(1).id(),i=new Zn.RenameField(this.getIdText(t),this.getFieldName(r));return this.astAt(i,e)}visitDefExploreRename(e){let r=e.renameList().exploreRenameDef().map(s=>this.visitExploreRenameDef(s)),i=new Zn.Renames(r);return this.astAt(i,e)}visitFilterClauseList(e){return new Zn.Filter(e.fieldExpr().map(t=>this.getFilterElement(t)))}visitFilterByShortcut(e){let t=this.getFilterElement(e.fieldExpr());return this.astAt(new Zn.Filter([t]),e)}visitWhereStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!1,this.astAt(t,e)}visitHavingStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!0,this.astAt(t,e)}visitSubQueryDefList(e){let t=e.exploreQueryDef().map(r=>this.visitExploreQueryDef(r));return new Zn.Turtles(t)}visitDefExplorePrimaryKey(e){let t=new Zn.PrimaryKey(this.getFieldName(e.fieldName()));return this.astAt(t,e)}visitFieldNameList(e){let t=e.fieldName().map(r=>new Zn.FieldReference([this.getFieldName(r)]));return new Zn.FieldReferences(t)}visitDefExploreEditField(e){let t=e.ACCEPT()?"accept":"except";return new Zn.FieldListEdit(t,this.visitFieldNameList(e.fieldNameList()))}visitQueryProperties(e){let t=e.queryStatement().map(i=>this.astAt(this.visit(i),i)).filter(function(i){return Zn.isQueryProperty(i)?!0:(i.log(`Unexpected statement type '${i.elementType}' in query`),!1)}),r=e.filterShortcut();return r&&t.push(this.getFilterShortcut(r)),new Zn.QOPDesc(t)}visitFieldPath(e){let t=e.fieldName().map(r=>this.getFieldName(r));return this.astAt(new Zn.FieldReference(t),e)}visitQueryFieldDef(e){let t=e.dimensionDef().fieldDef(),r=this.visitFieldDef(t);return this.astAt(r,t)}visitQueryFieldRef(e){return this.visitFieldPath(e.fieldPath())}getQueryItems(e){let t=e.queryFieldEntry().map(r=>this.visit(r));return this.onlyQueryRefs(t)}visitAggregateStatement(e){return new Zn.Aggregate(this.getQueryItems(e.queryFieldList()))}visitGroupByStatement(e){return new Zn.GroupBy(this.getQueryItems(e.queryFieldList()))}visitFieldCollection(e){let t=[];for(let r of e.collectionMember()){let i=this.visit(r);if(Zn.isFieldCollectionMember(i))t.push(i);else throw this.internalError(r,`${i.elementType} is not a query field`)}return this.astAt(new Zn.ProjectStatement(t),e)}visitWildMember(e){let t=e.fieldPath(),r=e.STAR()?"*":"**",i=t?this.visitFieldPath(t):void 0;return new Zn.WildcardFieldReference(i,r)}visitIndexFields(e){let t=e.indexElement().map(r=>{let i=r.STAR()!=null,s=r.fieldPath();if(!s)return new Zn.WildcardFieldReference(void 0,"*");let o=this.visitFieldPath(s);return i?this.astAt(new Zn.WildcardFieldReference(o,"*"),e):this.astAt(o,e)});return new Zn.FieldReferences(t)}visitIndexStatement(e){let t=this.visitIndexFields(e.indexFields()),r=new Zn.Index(t),i=e.fieldName();return i&&r.useWeight(this.getFieldName(i)),this.astAt(r,e)}visitLimitStatement(e){return new Zn.Limit(this.getNumber(e.INTEGER_LITERAL()))}visitOrderBySpec(e){let t=e.ASC()?"asc":e.DESC()?"desc":void 0,r=e.INTEGER_LITERAL();if(r)return new Zn.OrderBy(this.getNumber(r),t);let i=e.fieldName();if(i)return new Zn.OrderBy(this.getFieldName(i),t);throw this.internalError(e,"can't parse order_by specification")}visitOrdering(e){let t=e.orderBySpec().map(r=>this.visitOrderBySpec(r));return this.astAt(new Zn.Ordering(t),e)}visitTopStatement(e){let t=e.bySpec(),r=this.getNumber(e.INTEGER_LITERAL()),i;if(t){let s=t.fieldName();if(s){let a=this.getFieldName(s);i=new Zn.Top(r,a)}let o=t.fieldExpr();o&&(i=new Zn.Top(r,this.getFieldExpr(o)))}return i||(i=new Zn.Top(r,void 0)),this.astAt(i,e)}visitSourceID(e){let t=this.getModelEntryName(e.id());return this.astAt(new Zn.NamedSource(t),e)}buildPipelineFromName(e,t){let r=t.firstSegment(),i=r.exploreQueryName();i&&(e.turtleName=this.getFieldName(i));let s=r.queryProperties();if(s){let a=this.visitQueryProperties(s);i?e.refineHead(a):e.addSegments(a)}let o=this.getSegments(t.pipeElement());e.addSegments(...o)}visitExploreArrowQuery(e){let t=this.visitExplore(e.explore()),r=new Zn.FullQuery(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitArrowQuery(e){let t=new Zn.ExistingQuery;t.head=this.getModelEntryName(e.queryName());let r=e.queryProperties();return r&&t.refineHead(this.visitQueryProperties(r)),t.addSegments(...this.getSegments(e.pipeElement())),this.astAt(t,e)}visitTopLevelQueryDefs(e){let t=e.topLevelQueryDef().map(r=>this.visitTopLevelQueryDef(r));return t.length===1?t[0]:new Zn.DefineQueryList(t)}visitTopLevelQueryDef(e){let t=this.getIdText(e.queryName()),r=this.visit(e.query());if(Zn.isQueryElement(r))return this.astAt(new Zn.DefineQuery(t,r),e);throw this.internalError(e,`Expect query definition, got a '${r.elementType}'`)}visitAnonymousQuery(e){let t=this.visit(e.topLevelAnonQueryDef().query());if(Zn.isQueryElement(t))return new Zn.AnonymousQuery(t);throw this.internalError(e,`Anonymous query matched, but ${t.elementType} found`)}visitNestedQueryList(e){let t=e.nestEntry().map(r=>this.visit(r));return t.length==1?t[0]:new Zn.Nests(this.onlyNestedQueries(t))}visitNestExisting(e){let t=this.getFieldName(e.queryName()),r=e.queryProperties();if(r){let i=new Zn.NestRefinement(t),s=this.visitQueryProperties(r);return i.refineHead(s),this.astAt(i,e)}return this.astAt(new Zn.NestReference(t),e)}visitNestDef(e){let t=this.getIdText(e.queryName()),r=new Zn.NestDefinition(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExploreQueryDef(e){let t=this.getIdText(e.exploreQueryNameDef()),r=new Zn.TurtleDecl(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExprNot(e){return new Zn.ExprNot(this.getFieldExpr(e.fieldExpr()))}visitExprBool(e){return new Zn.Boolean(e.TRUE()?"true":"false")}allFieldExpressions(e){return e.map(t=>this.getFieldExpr(t))}visitExprLogical(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1));return new Zn.ExprLogicalOp(t,e.AND()?"and":"or",r)}visitExprLogicalTree(e){let t=this.getFieldExpr(e.fieldExpr()),r=this.getFieldExpr(e.partialAllowedFieldExpr());return new Zn.ExprAlternationTree(t,e.AMPER()?"&":"|",r)}visitPartialAllowedFieldExpr(e){var t;let r=this.getFieldExpr(e.fieldExpr()),i=(t=e.compareOp())===null||t===void 0?void 0:t.text;if(i){if(Zn.isComparison(i))return this.astAt(new Zn.PartialCompare(i,r),e);throw this.internalError(e,`partial comparison '${i}' not recognized`)}return r}visitExprString(e){return new Zn.ExprString(e.STRING_LITERAL().text)}visitExprRegex(e){let t=e.HACKY_REGEX().text;return new Zn.ExprRegEx(this.stripQuotes(t.slice(1)))}visitExprNow(e){return new Zn.ExprNow}visitExprNumber(e){var t,r;let i=((t=e.INTEGER_LITERAL())===null||t===void 0?void 0:t.text)||((r=e.NUMERIC_LITERAL())===null||r===void 0?void 0:r.text);return i?new Zn.ExprNumber(i):(this.contextError(e,`'${e.text}' is not a number`),new Zn.ExprNumber("42"))}visitExprFieldPath(e){let t=new Zn.ExprIdReference(this.visitFieldPath(e.fieldPath()));return this.astAt(t,e)}visitExprNULL(e){return new Zn.ExprNULL}visitExprExpr(e){return new Zn.ExprParens(this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprMinus(e){return new Zn.ExprMinus(this.getFieldExpr(e.fieldExpr()))}visitExprAddSub(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1)),i=e.PLUS()?"+":"-";return new Zn.ExprAddSub(t,i,r)}visitExprMulDiv(e){let t=e.STAR()?"*":e.SLASH()?"/":"%";return new Zn.ExprMulDiv(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)))}visitExprCompare(e){let t=e.compareOp().text;if(Zn.isComparison(t))return new Zn.ExprCompare(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)));throw this.internalError(e,`untranslatable comparison operator '${t}'`)}visitExprCountDisinct(e){return this.astAt(new Zn.ExprCountDistinct(this.getFieldExpr(e.fieldExpr())),e)}visitExprUngroup(e){let t=e.fieldName().map(i=>this.getFieldName(i)),r=this.getIdText(e.ungroup()).toLocaleLowerCase();return this.astAt(new Zn.ExprUngroup(r=="all"?r:"exclude",this.getFieldExpr(e.fieldExpr()),t),e)}visitExprAggregate(e){let t=e.fieldPath(),r=t?this.visitFieldPath(t):void 0,i=t&&r?this.astAt(r,t):void 0,s=e.fieldExpr();if(e.aggregate().COUNT())return s&&this.contextError(s,"Ignored expression inside COUNT()"),new Zn.ExprCount(i);e.STAR()&&this.contextError(e,"'*' is not a valid expression");let a=s?this.getFieldExpr(s):void 0;if(e.aggregate().MIN())if(r)this.contextError(e,"Path not legal for min()");else{if(a)return new Zn.ExprMin(a);this.contextError(e,"Missing expression for min")}else if(e.aggregate().MAX())if(r)this.contextError(e,"Path not legal for max()");else{if(a)return new Zn.ExprMax(a);this.contextError(e,"Missing expression for max")}else{if(e.aggregate().AVG())return new Zn.ExprAvg(a,i);if(e.aggregate().SUM())return new Zn.ExprSum(a,i)}return new Zn.ExprNULL}visitExprApply(e){return e.COLON()&&this.contextError(e,"':' for apply is deprecated, use '?'","warn"),new Zn.Apply(this.getFieldExpr(e.fieldExpr()),this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprRange(e){return new Zn.Range(this.getFieldExpr(e.fieldExpr(0)),this.getFieldExpr(e.fieldExpr(1)))}visitExprCast(e){let t=e.malloyType().text;return Zn.isCastType(t)?new Zn.ExprCast(this.getFieldExpr(e.fieldExpr()),t):(this.contextError(e,`CAST to unknown type '${t}'`),new Zn.ExprNULL)}visitExprSafeCast(e){let t=e.malloyType().text;return Zn.isCastType(t)?new Zn.ExprCast(this.getFieldExpr(e.fieldExpr()),t,!0):(this.contextError(e,`'::' cast to unknown type '${t}'`),new Zn.ExprNULL)}visitExprTimeTrunc(e){return new Zn.ExprGranularTime(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text,!0)}visitTimeframe(e){return new Zn.Timeframe(e.text)}visitExprForRange(e){let t=this.getFieldExpr(e._startAt),r=this.getFieldExpr(e._duration),i=this.visitTimeframe(e.timeframe());return new Zn.ForRange(t,r,i)}visitExprFunc(e){let t=e.argumentList(),r=t?this.allFieldExpressions(t.fieldExpr()):[],i=e.id(),s=e.timeframe(),o;return i?o=this.getIdText(i):s?o=s.text:(this.contextError(e,"Funciton name error"),o="FUNCTION_NAME_ERROR"),Zn.ExprTimeExtract.extractor(o)?this.astAt(new Zn.ExprTimeExtract(o,r),e):this.astAt(new Zn.ExprFunc(o,r),e)}visitExprDuration(e){return new Zn.ExprDuration(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text)}visitPickStatement(e){let t=e.pick().map(r=>{let i;return r._pickValue&&(i=this.getFieldExpr(r._pickValue)),new Zn.PickWhen(i,this.getFieldExpr(r._pickWhen))});return e.ELSE()?new Zn.Pick(t,this.getFieldExpr(e._pickElse)):new Zn.Pick(t)}visitNamedSource(e){let t=this.getModelEntryName(e.sourceID());return this.astAt(new Zn.NamedSource(t),e)}visitExprFilter(e){let t=this.visit(e.filteredBy());return new Zn.ExprFilter(this.getFieldExpr(e.fieldExpr()),t)}getLiteralTime(e){let t=Zn.GranularLiteral.parse(e.text);return t===void 0?(this.contextError(e,`${e.text} is not a legal day specification`),new Zn.ExprNow):t}visitLiteralTimestamp(e){return this.getLiteralTime(e)}visitLiteralDay(e){return this.getLiteralTime(e)}visitLiteralWeek(e){return this.getLiteralTime(e)}visitLiteralMonth(e){return this.getLiteralTime(e)}visitLiteralQuarter(e){return this.getLiteralTime(e)}visitLiteralYear(e){return this.getLiteralTime(e)}visitImportStatement(e){let t=this.stripQuotes(e.importURL().text);return this.astAt(new Zn.ImportStatement(t,this.parse.subTranslator.sourceURL),e)}visitJustExpr(e){return this.getFieldExpr(e.fieldExpr())}visitDefineSQLStatement(e){var t;let r=(t=e.nameSQLBlock())===null||t===void 0?void 0:t.text,i=e.sqlBlock().blockSQLDef(),s=new Zn.SQLString,o;for(let l of i){let f=l.connectionName();f&&(o?this.contextError(f,"Cannot redefine connection"):o=this.getIdText(f));let p=l.sqlString();p&&this.makeSqlString(p,s)}let a=new Zn.SQLStatement(s);return o!==void 0&&(a.connection=o),a.is=r,this.astAt(a,e)}visitSampleStatement(e){let t=e.sampleSpec().INTEGER_LITERAL();if(t)return new Zn.SampleProperty({rows:this.getNumber(t)});let r=e.sampleSpec().PERCENT_LITERAL();if(r)return new Zn.SampleProperty({percent:this.getNumber(r)});let i=e.sampleSpec().TRUE()!=null;return new Zn.SampleProperty({enable:i})}};Om.MalloyToAST=wwe});var Fwe=G(fq=>{"use strict";d();Object.defineProperty(fq,"__esModule",{value:!0});fq.MessageLog=void 0;var Twe=class{constructor(){this.rawLog=[]}getLog(){return this.rawLog}log(e){this.rawLog.push(e)}reset(){this.rawLog.length=0}noErrors(){return!this.hasErrors()}hasErrors(){return this.rawLog.find(t=>t.severity!=="warn")!==void 0}empty(){return this.rawLog.length===0}};fq.MessageLog=Twe});var D_=G(pS=>{"use strict";d();Object.defineProperty(pS,"__esModule",{value:!0});pS.ParseTreeWalker=void 0;var U6t=q8(),$6t=Fx(),z6t=U8(),$re=class{walk(e,t){let r=[],i=[],s=t,o=0;for(;s;){if(s instanceof U6t.ErrorNode?e.visitErrorNode&&e.visitErrorNode(s):s instanceof $6t.TerminalNode?e.visitTerminal&&e.visitTerminal(s):this.enterRule(e,s),s.childCount>0){r.push(s),i.push(o),o=0,s=s.getChild(0);continue}do{if(s instanceof z6t.RuleNode&&this.exitRule(e,s),r.length===0){s=void 0,o=0;break}let a=r[r.length-1];if(o++,s=o<a.childCount?a.getChild(o):void 0,s)break;s=r.pop(),o=i.pop()}while(s)}}enterRule(e,t){let r=t.ruleContext;e.enterEveryRule&&e.enterEveryRule(r),r.enterRule(e)}exitRule(e,t){let r=t.ruleContext;r.exitRule(e),e.exitEveryRule&&e.exitEveryRule(r)}};pS.ParseTreeWalker=$re;(function(n){n.DEFAULT=new n})($re=pS.ParseTreeWalker||(pS.ParseTreeWalker={}))});var Owe=G(dq=>{"use strict";d();Object.defineProperty(dq,"__esModule",{value:!0});dq.findReferences=void 0;var H6t=D_(),Dwe=class{constructor(e,t){this.trans=e,this.tokens=t,this.needTables={},this.needImports={}}enterTableName(e){let t=this.tokens.getText(e).slice(1,-1);this.needTables[t]||(this.needTables[t]=this.trans.rangeFromContext(e))}enterImportURL(e){let t=JSON.parse(e.JSON_STRING().text);this.needImports[t]||(this.needImports[t]=this.trans.rangeFromContext(e))}};function V6t(n,e,t){let r=new Dwe(n,e),i=r;H6t.ParseTreeWalker.DEFAULT.walk(i,t);let s={};return Object.keys(r.needTables).length>0&&(s={tables:r.needTables}),Object.keys(r.needImports).length>0&&(s={...s,urls:r.needImports}),Object.keys(s).length>0?s:null}dq.findReferences=V6t});var Rwe=G(hq=>{"use strict";d();Object.defineProperty(hq,"__esModule",{value:!0});hq.Zone=void 0;var Nwe=class{constructor(){this.location={},this.zone=new Map}get(e){let t=this.zone.get(e);if((t==null?void 0:t.status)==="present")return t.value}getEntry(e){let t=this.zone.get(e);return t?t.firstReference||!this.location[e]?t:{...t,firstReference:this.location[e]}:{status:"error",message:"import reference failure"}}define(e,t){this.zone.set(e,{status:"present",value:t})}reference(e,t){let r=this.zone.get(e);(r==null?void 0:r.status)==null&&(this.zone.set(e,{status:"reference",firstReference:t}),this.location[e]=t)}getUndefined(){let e=[];for(let[t,r]of this.zone)r.status==="reference"&&e.push(t);return e.length>0?e:void 0}updateFrom(e,t){if(e)for(let[r,i]of Object.entries(e))i!==void 0&&this.define(r,i);if(t)for(let[r,i]of Object.entries(t))this.zone.set(r,{status:"error",message:i})}};hq.Zone=Nwe});var kwe=G(pq=>{"use strict";d();Object.defineProperty(pq,"__esModule",{value:!0});pq.walkForDocumentSymbols=void 0;var W6t=D_(),Lwe=class{constructor(e,t,r,i){this.translator=e,this.tokens=t,this.scopes=r,this.symbols=i}popScope(){return this.scopes.pop()}peekScope(){return this.scopes[this.scopes.length-1]}enterTopLevelQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:e.queryName().text,type:"query",children:[]})}enterTopLevelAnonQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:"unnamed_query",type:"unnamed_query",children:[]})}enterSourceDefinition(e){this.scopes.push({range:this.translator.rangeFromContext(e),name:e.sourceNameDef().id().text,type:"explore",children:[]})}exitSourceDefinition(e){let t=this.popScope();t&&this.symbols.push(t)}enterExploreQueryDef(e){let t={range:this.translator.rangeFromContext(e),name:e.exploreQueryNameDef().id().text,type:"query",children:[]},r=this.peekScope();r&&r.children.push(t),this.scopes.push(t)}exitExploreQueryDef(e){this.popScope()}handleNestEntry(e){let t={range:this.translator.rangeFromContext(e),name:e.queryName().id().text,type:"query",children:[]},r=this.peekScope();return r&&r.children.push(t),t}enterNestExisting(e){this.handleNestEntry(e)}enterNestDef(e){let t=this.handleNestEntry(e);this.scopes.push(t)}exitNestDef(e){this.popScope()}enterFieldDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldNameDef().id().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterQueryFieldRef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldPath().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterExploreRenameDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldName()[0].text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterJoinWith(e){this.handleJoinDef(e)}enterJoinOn(e){this.handleJoinDef(e)}handleJoinDef(e){let t={range:this.translator.rangeFromContext(e),name:e.joinNameDef().id().text,type:"join",children:[]},r=this.peekScope();r&&r.children.push(t)}enterDefineSQLStatement(e){var t;let r=(t=e.nameSQLBlock())===null||t===void 0?void 0:t.text,i={range:this.translator.rangeFromContext(e),name:r||"unnamed_sql",type:r===void 0?"unnamed_sql":"sql",children:[]};this.symbols.push(i)}};function Q6t(n,e,t){let r=new Lwe(n,e,[],[]),i=r;return W6t.ParseTreeWalker.DEFAULT.walk(i,t),r.symbols}pq.walkForDocumentSymbols=Q6t});var zre=G(Si=>{"use strict";d();Object.defineProperty(Si,"__esModule",{value:!0});Si.sortHighlights=Si.walkForDocumentHighlights=Si.passForHighlights=Si.HighlightType=void 0;var G6t=D_(),Jr=mne();Si.HighlightType={Identifier:"identifier",Type:"type",Literal:{Date:"literal.date",Number:"literal.number",String:"literal.string",RegularExpression:"literal.regular_expression",Boolean:"literal.boolean",Null:"literal.null"},Call:{Aggregate:"call.aggregate",TimeFrame:"call.time_frame",Cast:"call.cast",Table:"call.table",From:"call.from",Function:"call.function",FromSQL:"call.from_sql"},Keyword:{AggregateModifier:{Distinct:"keyword.aggregate_modifier.distinct"},CastModifier:{As:"keyword.cast_modifier.as"},Is:"keyword.is",On:"keyword.on",Desc:"keyword.desc",Asc:"keyword.asc",Pick:"keyword.pick",When:"keyword.when",Else:"keyword.else",With:"keyword.with",JSON:"keyword.json",Turtle:"keyword.turtle",Import:"keyword.import"},Operator:{Comparison:"operator.comparison",Boolean:"operator.boolean",Date:"operator.date"},Comment:{Line:"comment.line",Block:"comment.block"},Property:{Accept:"property.accept",Aggregate:"property.aggregate",Dimension:"property.dimension",Except:"property.except",Source:"property.source",GroupBy:"property.group_by",Having:"property.having",Index:"property.index",JoinOne:"keyword.join_one",JoinMany:"keyword.join_many",JoinCross:"keyword.join_cross",Limit:"property.limit",Measure:"property.measure",Nest:"property.nest",OrderBy:"property.order_by",PrimaryKey:"property.primary_key",Project:"property.project",Query:"property.query",Rename:"property.rename",Top:"property.top",Where:"property.where",SQL:"property.sql"}};function Y6t(n){let e=[],t=(r,i,s=!1)=>{var o;let a=r.startIndex-r.charPositionInLine,l=((o=r.text)===null||o===void 0?void 0:o.split(`
`))||[],f=l.length,p=l.slice(0,-1).reduce((b,F)=>b+F.length,0),v=s?1:0;e.push({type:i,range:{start:{line:r.line-1,character:r.startIndex-a},end:{line:r.line-1+f-1,character:r.stopIndex+2-(f>1?r.startIndex:a)-p-f-v}}})};for(let r=0;r<n.size;r++){let i=n.get(r);switch(i.type){case Jr.MalloyParser.ACCEPT:t(i,Si.HighlightType.Property.Accept,!0);break;case Jr.MalloyParser.AGGREGATE:t(i,Si.HighlightType.Property.Aggregate,!0);break;case Jr.MalloyParser.DIMENSION:t(i,Si.HighlightType.Property.Dimension,!0);break;case Jr.MalloyParser.EXCEPT:t(i,Si.HighlightType.Property.Except,!0);break;case Jr.MalloyParser.GROUP_BY:t(i,Si.HighlightType.Property.GroupBy,!0);break;case Jr.MalloyParser.HAVING:t(i,Si.HighlightType.Property.Having,!0);break;case Jr.MalloyParser.INDEX:t(i,Si.HighlightType.Property.Index,!0);break;case Jr.MalloyParser.JOIN_CROSS:t(i,Si.HighlightType.Property.JoinOne,!0);break;case Jr.MalloyParser.JOIN_ONE:t(i,Si.HighlightType.Property.JoinMany,!0);break;case Jr.MalloyParser.JOIN_MANY:t(i,Si.HighlightType.Property.JoinCross,!0);break;case Jr.MalloyParser.LIMIT:t(i,Si.HighlightType.Property.Limit,!0);break;case Jr.MalloyParser.MEASURE:t(i,Si.HighlightType.Property.Measure,!0);break;case Jr.MalloyParser.NEST:t(i,Si.HighlightType.Property.Nest,!0);break;case Jr.MalloyParser.ORDER_BY:t(i,Si.HighlightType.Property.OrderBy,!0);break;case Jr.MalloyParser.PRIMARY_KEY:t(i,Si.HighlightType.Property.PrimaryKey,!0);break;case Jr.MalloyParser.PROJECT:t(i,Si.HighlightType.Property.Project,!0);break;case Jr.MalloyParser.QUERY:t(i,Si.HighlightType.Property.Query,!0);break;case Jr.MalloyParser.RENAME:t(i,Si.HighlightType.Property.Rename,!0);break;case Jr.MalloyParser.SOURCE:t(i,Si.HighlightType.Property.Source,!0);break;case Jr.MalloyParser.TOP:t(i,Si.HighlightType.Property.Top,!0);break;case Jr.MalloyParser.WHERE:t(i,Si.HighlightType.Property.Where,!0);break;case Jr.MalloyParser.SQL:t(i,Si.HighlightType.Property.SQL,!0);break;case Jr.MalloyParser.TABLE:t(i,Si.HighlightType.Call.Table);break;case Jr.MalloyParser.FROM:t(i,Si.HighlightType.Call.From);break;case Jr.MalloyParser.FROM_SQL:t(i,Si.HighlightType.Call.FromSQL);break;case Jr.MalloyParser.STRING_LITERAL:case Jr.MalloyParser.JSON_STRING:t(i,Si.HighlightType.Literal.String);break;case Jr.MalloyParser.NUMERIC_LITERAL:case Jr.MalloyParser.INTEGER_LITERAL:t(i,Si.HighlightType.Literal.Number);break;case Jr.MalloyParser.HACKY_REGEX:t(i,Si.HighlightType.Literal.RegularExpression);break;case Jr.MalloyParser.IS:t(i,Si.HighlightType.Keyword.Is);break;case Jr.MalloyParser.DISTINCT:t(i,Si.HighlightType.Keyword.AggregateModifier.Distinct);break;case Jr.MalloyParser.ON:t(i,Si.HighlightType.Keyword.On);break;case Jr.MalloyParser.DESC:t(i,Si.HighlightType.Keyword.Desc);break;case Jr.MalloyParser.ASC:t(i,Si.HighlightType.Keyword.Asc);break;case Jr.MalloyParser.CAST:t(i,Si.HighlightType.Call.Cast);break;case Jr.MalloyParser.AS:t(i,Si.HighlightType.Keyword.CastModifier.As);break;case Jr.MalloyParser.PICK:t(i,Si.HighlightType.Keyword.Pick);break;case Jr.MalloyParser.WHEN:t(i,Si.HighlightType.Keyword.When);break;case Jr.MalloyParser.WITH:t(i,Si.HighlightType.Keyword.With);break;case Jr.MalloyParser.ELSE:t(i,Si.HighlightType.Keyword.Else);break;case Jr.MalloyParser.JSON:t(i,Si.HighlightType.Keyword.JSON);break;case Jr.MalloyParser.TURTLE:t(i,Si.HighlightType.Keyword.Turtle);break;case Jr.MalloyParser.TRUE:case Jr.MalloyParser.FALSE:t(i,Si.HighlightType.Literal.Boolean);break;case Jr.MalloyParser.NOW:case Jr.MalloyParser.LITERAL_TIMESTAMP:case Jr.MalloyParser.LITERAL_QUARTER:case Jr.MalloyParser.LITERAL_MONTH:case Jr.MalloyParser.LITERAL_DAY:case Jr.MalloyParser.LITERAL_WEEK:case Jr.MalloyParser.LITERAL_YEAR:t(i,Si.HighlightType.Literal.Date);break;case Jr.MalloyParser.NULL:t(i,Si.HighlightType.Literal.Null);break;case Jr.MalloyParser.AND:case Jr.MalloyParser.OR:case Jr.MalloyParser.NOT:t(i,Si.HighlightType.Operator.Boolean);break;case Jr.MalloyParser.FOR:t(i,Si.HighlightType.Operator.Date);break;case Jr.MalloyParser.COMMENT_TO_EOL:t(i,Si.HighlightType.Comment.Line);break;case Jr.MalloyParser.BLOCK_COMMENT:t(i,Si.HighlightType.Comment.Block);break;case Jr.MalloyParser.SUM:case Jr.MalloyParser.COUNT:case Jr.MalloyParser.AVG:case Jr.MalloyParser.MIN:case Jr.MalloyParser.MAX:t(i,Si.HighlightType.Call.Aggregate);break;case Jr.MalloyParser.IDENTIFIER:case Jr.MalloyParser.OBJECT_NAME_LITERAL:t(i,Si.HighlightType.Identifier);break;case Jr.MalloyParser.STRING:case Jr.MalloyParser.NUMBER:case Jr.MalloyParser.BOOLEAN:case Jr.MalloyParser.DATE:case Jr.MalloyParser.TIMESTAMP:t(i,Si.HighlightType.Type);break;case Jr.MalloyParser.SECOND:case Jr.MalloyParser.MINUTE:case Jr.MalloyParser.HOUR:case Jr.MalloyParser.DAY:case Jr.MalloyParser.WEEK:case Jr.MalloyParser.MONTH:case Jr.MalloyParser.QUARTER:case Jr.MalloyParser.YEAR:t(i,Si.HighlightType.Call.TimeFrame);break;case Jr.MalloyParser.IMPORT:t(i,Si.HighlightType.Keyword.Import);break}}return e}Si.passForHighlights=Y6t;var Iwe=class{constructor(e,t){this.tokens=e,this.highlights=t}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}enterExprFunc(e){let t=e.id()||e.timeframe();t&&this.highlights.push({range:this.rangeOf(t),type:Si.HighlightType.Call.Function})}};function K6t(n,e){let t=new Iwe(n,[]),r=t;return G6t.ParseTreeWalker.DEFAULT.walk(r,e),t.highlights}Si.walkForDocumentHighlights=K6t;function J6t(n){return n.sort((e,t)=>e.range.start.line<t.range.start.line?-1:e.range.start.line>t.range.start.line?1:e.range.start.character<t.range.start.character?-1:e.range.start.character>t.range.start.character?1:0)}Si.sortHighlights=J6t});var Pwe=G(mq=>{"use strict";d();Object.defineProperty(mq,"__esModule",{value:!0});mq.walkForDocumentCompletions=void 0;var X6t=D_(),Z6t=["dimension","measure","join_one","join_many","join_cross","where","primary_key","rename","accept","except","query","declare"],ebt=["group_by","project","index","aggregate","top","limit","order_by","where","having","nest","declare"],tbt=["source","explore","query","sql"],Mwe=class{constructor(e,t,r){this.tokens=e,this.completions=t,this.position=r}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){let{start:t,end:r}=e,i=this.position.line>t.line||this.position.line===t.line&&this.position.character>=t.character,s=this.position.line<r.line||this.position.line===r.line&&this.position.character<=r.character;return i&&s}enterExploreProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.exploreStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of Z6t)this.completions.push({type:"explore_property",text:`${r}: `})}}enterQueryProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.queryStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of ebt)this.completions.push({type:"query_property",text:`${r}: `})}}enterMalloyDocument(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.malloyStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of tbt)this.completions.push({type:"model_property",text:`${r}: `})}}};function nbt(n,e,t){let r=new Mwe(n,[],t),i=r;return X6t.ParseTreeWalker.DEFAULT.walk(i,e),r.completions}mq.walkForDocumentCompletions=nbt});var jwe=G(Bwe=>{"use strict";d();Object.defineProperty(Bwe,"__esModule",{value:!0})});var Uwe=G(qwe=>{"use strict";d();Object.defineProperty(qwe,"__esModule",{value:!0})});var zwe=G(xq=>{"use strict";d();Object.defineProperty(xq,"__esModule",{value:!0});xq.ParseTreeProperty=void 0;var $we=class{constructor(e="ParseTreeProperty"){this._symbol=Symbol(e)}get(e){return e[this._symbol]}set(e,t){e[this._symbol]=t}removeFrom(e){let t=e[this._symbol];return delete e[this._symbol],t}};xq.ParseTreeProperty=$we});var Vwe=G(Hwe=>{"use strict";d();Object.defineProperty(Hwe,"__esModule",{value:!0})});var Qwe=G(Wwe=>{"use strict";d();Object.defineProperty(Wwe,"__esModule",{value:!0})});var Ywe=G(Gwe=>{"use strict";d();Object.defineProperty(Gwe,"__esModule",{value:!0})});var Kwe=G(uc=>{"use strict";d();var rbt=uc&&uc.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Eh=uc&&uc.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rbt(e,n,t)};Object.defineProperty(uc,"__esModule",{value:!0});Eh(Ure(),uc);Eh(q8(),uc);Eh(jwe(),uc);Eh(Uwe(),uc);Eh(zwe(),uc);Eh(Vwe(),uc);Eh(D_(),uc);Eh(U8(),uc);Eh(Qwe(),uc);Eh(Fx(),uc);Eh(Ywe(),uc);Eh(Dx(),uc)});var Xwe=G(gq=>{"use strict";d();Object.defineProperty(gq,"__esModule",{value:!0});gq.walkForDocumentHelpContext=void 0;var ibt=Kwe(),Jwe=class extends ibt.AbstractParseTreeVisitor{constructor(e){super();this.position=e,this.type=""}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){return e.start.line<=this.position.line&&e.end.line>=this.position.line&&(this.position.line!==e.start.line||this.position.character>=e.start.character)&&(this.position.line!==e.end.line||this.position.character<=e.end.character)}defaultResult(){}visitChildren(e){let t=this.defaultResult();if(this.inRange(this.rangeOf(e))){t={type:this.type,token:e.start.text};let r=e.childCount;for(let i=0;i<r;i++){let o=e.getChild(i).accept(this);o&&(t=this.aggregateResult(t,o))}}return t}visitMalloyDocument(e){return this.inRange(this.rangeOf(e))?(this.type="model_property",this.visitChildren(e)):this.defaultResult()}visitExploreProperties(e){return this.inRange(this.rangeOf(e))?(this.type="explore_property",this.visitChildren(e)):this.defaultResult()}visitQueryProperties(e){return this.inRange(this.rangeOf(e))?(this.type="query_property",this.visitChildren(e)):this.defaultResult()}aggregateResult(e,t){return t}};function sbt(n,e){return new Jwe(e).visit(n)}gq.walkForDocumentHelpContext=sbt});var eAe=G(yq=>{"use strict";d();Object.defineProperty(yq,"__esModule",{value:!0});yq.ReferenceList=void 0;var Zwe=class{constructor(e){this.sourceURL=e,this.references=[]}findIndexBefore(e){let t=0,r=this.references.length;for(;t<r;){let i=Math.floor((t+r)/2),s=this.references[i].location.range.end;s.line<e.line||s.line===e.line&&s.character<e.character?t=i+1:r=i}return t}add(e){if(e.location.url!==this.sourceURL)return;let t=this.findIndexBefore(e.location.range.end);t<this.references.length&&this.isPositionEqual(e,this.references[t])||this.references.splice(t,0,e)}isPositionEqual(e,t){let r=e.location.range,i=t.location.range;return r.start.line===i.start.line&&r.start.character===i.start.character&&r.end.line===i.end.line&&r.end.character===i.end.character}find(e){let t=this.findIndexBefore(e);if(t===this.references.length)return;let r=this.references[t];if(r.location.range.start.line<=e.line&&r.location.range.end.line>=e.line&&(e.line!==r.location.range.start.line||e.character>=r.location.range.start.character)&&(e.line!==r.location.range.end.line||e.character<=r.location.range.end.character))return r}};yq.ReferenceList=Zwe});var tAe=G(vq=>{"use strict";d();Object.defineProperty(vq,"__esModule",{value:!0});vq.isNeedResponse=void 0;function obt(n){return!!n&&(n.tables||n.urls||n.compileSQL)!=null}vq.isNeedResponse=obt});var rAe=G(_q=>{"use strict";d();Object.defineProperty(_q,"__esModule",{value:!0});_q.MalloyParserErrorHandler=void 0;var nAe=class{constructor(e,t){this.translator=e,this.messages=t}syntaxError(e,t,r,i,s,o){let a={line:r-1,character:i},l=t?this.translator.rangeFromToken(t):{start:a,end:a},f={message:s,at:{url:this.translator.sourceURL,range:l}};this.messages.log(f)}};_q.MalloyParserErrorHandler=nAe});var mAe=G(Sh=>{"use strict";d();var abt=Sh&&Sh.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ubt=Sh&&Sh.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),lbt=Sh&&Sh.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&abt(e,n,t);return ubt(e,n),e};Object.defineProperty(Sh,"__esModule",{value:!0});Sh.MalloyTranslator=Sh.MalloyTranslation=void 0;var iAe=i8e(),cbt=o8e(),fbt=mne(),bq=lbt(qre()),dbt=Awe(),hbt=Fwe(),pbt=Owe(),Hre=Rwe(),mbt=kwe(),Vre=zre(),xbt=Pwe(),gbt=Xwe(),ybt=eAe(),Eq=tAe(),vbt=rAe(),sAe=class extends cbt.MalloyLexer{popMode(){return this._modeStack.isEmpty?this._mode:super.popMode()}},oAe=class{step(e){if(this.response)return this.response;if(e.urlIsFullPath===void 0)try{let s=new URL(e.sourceURL);e.urlIsFullPath=!0}catch(s){let o=s instanceof Error?s.message:"";e.urlIsFullPath=!1,e.root.logger.log({message:`Could not compute full path URL: ${o}`})}if(!e.urlIsFullPath)return e.fatalErrors();let t=e.root.importZone.getEntry(e.sourceURL);if(t.status!=="present"){if(t.status==="error"){let s=t.message.includes(e.sourceURL)?`import error: ${t.message}`:`import '${e.sourceURL}' error: ${t.message}`,o=t.firstReference||e.defaultLocation();return e.root.logger.log({message:s,at:o}),this.response=e.fatalErrors(),this.response}return{urls:[e.sourceURL]}}let r=t.value==""?`
`:t.value;this.sourceInfo=this.getSourceInfo(r);let i;try{i=this.runParser(r,e)}catch(s){e.root.logger.log({message:`Malloy internal parser exception [${s.message}]`}),i=void 0}return e.root.logger.hasErrors()?this.response={parse:i,...e.fatalErrors()}:this.response={parse:i},this.response}getSourceInfo(e){let t=/\r?\n/,r={at:[],lines:[],length:e.length},i=e,s=0;for(;i!=="";){let o=i.match(t);if(o&&o.index!=null){r.lines.push(i.slice(0,o.index));let a=o.index+o[0].length;r.at.push({begin:s,end:s+a}),s+=a,i=i.slice(a)}else{r.lines.push(i),r.at.push({begin:s,end:s+i.length});break}}return r}runParser(e,t){let r=iAe.CharStreams.fromString(e),i=new sAe(r),s=new iAe.CommonTokenStream(i),o=new fbt.MalloyParser(s);o.removeErrorListeners(),o.addErrorListener(new vbt.MalloyParserErrorHandler(t,t.root.logger));let a=o[t.grammarRule];if(!a)throw new Error(`No such parse rule as ${t.grammarRule}`);return{root:a.call(o),tokenStream:s,sourceStream:r,malloyVersion:"?.?.?-????",subTranslator:t}}},aAe=class{constructor(e){this.parseStep=e,this.alreadyLooked=!1}step(e){let t=this.parseStep.step(e);if(t.parse==null)return t;if(!this.alreadyLooked){this.alreadyLooked=!0;let o=(0,pbt.findReferences)(e,t.parse.tokenStream,t.parse.root);if(o==null?void 0:o.tables)for(let a in o.tables)e.root.schemaZone.reference(a,{url:e.sourceURL,range:o.tables[a]});if(o==null?void 0:o.urls)for(let a in o.urls){let l=o.urls[a];try{let f=decodeURI(new URL(a,e.sourceURL).toString());e.addChild(f),e.root.importZone.reference(f,{url:e.sourceURL,range:l})}catch{e.root.logger.log({message:`Malformed URL '${a}'"`,at:{url:e.sourceURL,range:l}})}}}if(e.root.logger.hasErrors())return null;let r={},i=e.root.schemaZone.getUndefined();i&&(r={tables:i});let s=e.root.importZone.getUndefined();if(s&&(r={...r,urls:s}),(0,Eq.isNeedResponse)(r))return r;for(let o of e.childTranslators.values()){let a=o.importsAndTablesStep.step(o);if((0,Eq.isNeedResponse)(a))return a}return null}},uAe=class{constructor(e){this.importStep=e,this.walked=!1}step(e){if(this.response)return this.response;let t=this.importStep.step(e);if(t)return t;let r=e.parseStep.response;if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let i=r==null?void 0:r.parse;if(!i)throw new Error("TRANSLATOR INTERNAL ERROR: Translator parse response had no errors, but also no parser");let o=new dbt.MalloyToAST(i,e.root.logger).visit(i.root);if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;if(o.elementType==="unimplemented")throw new Error("TRANSLATOR INTERNAL ERROR: Unimplemented AST node");let a={};if(this.walked||(o.walk(l=>{l instanceof bq.SQLSource?(a[l.refName]||(a[l.refName]={}),a[l.refName].ref=l):l instanceof bq.SQLStatement&&l.is?(a[l.is]||(a[l.is]={}),a[l.is].def=l):l instanceof bq.Unimplemented&&l.log("INTERNAL COMPILER ERROR: Untranslated parse node")}),this.walked=!0),e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;for(let l of e.childTranslators.values()){let f=l.astStep.step(l);if((0,Eq.isNeedResponse)(f))return f}return o.setTranslator(e),this.response={...e.errors(),ast:o,final:!0},this.response}},lAe=class{constructor(e){this.parseStep=e}step(e){if(!this.response){let t=this.parseStep.step(e);if(t.parse){let r;try{r=(0,mbt.walkForDocumentSymbols)(e,t.parse.tokenStream,t.parse.root)}catch{}let i;try{i=(0,Vre.walkForDocumentHighlights)(t.parse.tokenStream,t.parse.root)}catch{i=[]}this.response={symbols:r,highlights:(0,Vre.sortHighlights)([...(0,Vre.passForHighlights)(t.parse.tokenStream),...i]),final:!0}}else return t}return this.response}},cAe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i=[];if(t!==void 0)try{i=(0,xbt.walkForDocumentCompletions)(r.parse.tokenStream,r.parse.root,t)}catch{}return{...r,completions:i}}else return r}},fAe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i;if(t!==void 0)try{i=(0,gbt.walkForDocumentHelpContext)(r.parse.root,t)}catch{}return{...r,helpContext:i}}else return r}},dAe=class{constructor(e){this.astStep=e}step(e,t){if(this.response)return this.response;let r=this.astStep.step(e);if((0,Eq.isNeedResponse)(r))return r;if(!r.ast)return this.response=r,this.response;if(e.grammarRule==="malloyDocument")if(r.ast instanceof bq.Document){let i=r.ast;for(i.initModelDef(t);;){let s=i.compile();if(s.needs)return s.needs;e.modelDef=s.modelDef,e.queryList=s.queryList,e.sqlBlocks=s.sqlBlocks;break}}else e.root.logger.log({message:`'${e.sourceURL}' did not parse to malloy document`,at:e.defaultLocation()});return e.root.logger.hasErrors()?this.response=e.fatalErrors():this.response={translated:{modelDef:e.modelDef,queryList:e.queryList,sqlBlocks:e.sqlBlocks},...e.errors(),final:!0},this.response}},Sq=class{constructor(e,t="malloyDocument"){this.sourceURL=e,this.grammarRule=t,this.queryList=[],this.sqlBlocks=[],this.childTranslators=new Map,this.modelDef={name:e,exports:[],contents:{}},this.parseStep=new oAe,this.metadataStep=new lAe(this.parseStep),this.completionsStep=new cAe(this.parseStep),this.helpContextStep=new fAe(this.parseStep),this.importsAndTablesStep=new aAe(this.parseStep),this.astStep=new uAe(this.importsAndTablesStep),this.translateStep=new dAe(this.astStep),this.references=new ybt.ReferenceList(e)}addChild(e){this.childTranslators.get(e)||this.childTranslators.set(e,new hAe(e,this.root))}addReference(e){this.references.add(e)}referenceAt(e){return this.references.find(e)}fatalErrors(){return{final:!0,errors:[...this.root.logger.getLog()]}}errors(){return{errors:[...this.root.logger.getLog()]}}getLineMap(e){var t,r;if(e==this.sourceURL)return(t=this.parseStep.sourceInfo)===null||t===void 0?void 0:t.lines;let i=this.childTranslators.get(e);if(i)return(r=i.parseStep.sourceInfo)===null||r===void 0?void 0:r.lines}prettyErrors(){let e="",t="";for(let r of this.root.logger.getLog()){let i=r.message,s=this.sourceURL;if(r.at){s=r.at.url;let o=r.at.range.start.line,a=r.at.range.start.character,l=this.getLineMap(r.at.url);if(l){let f=l[o];i=`line ${o+1}: ${r.message}
  | ${f}`,a>0&&(i=i+`
  | ${" ".repeat(a)}^`)}else i=`line ${o+1}: char ${a}: ${r.message}`}t!==s&&(i=`FILE: ${s}
`+i,t=s),e!==""?e=`${e}
${i}`:e=i}return e}childRequest(e){var t;let r=decodeURI(new URL(e,this.sourceURL).toString()),i=(t=this.childTranslators.get(r))===null||t===void 0?void 0:t.translate();if(i==null?void 0:i.compileSQL)return{compileSQL:i.compileSQL,partialModel:i.partialModel}}getChildExports(e){let t={},r=decodeURI(new URL(e,this.sourceURL).toString()),i=this.childTranslators.get(r);if(i&&i.translate().translated)for(let o of i.modelDef.exports){let a=i.modelDef.contents[o];a.type==="struct"&&(t[o]=a)}return t}translate(e){if(this.finalAnswer)return this.finalAnswer;let t=this.translateStep.step(this,e);return t.final&&(this.finalAnswer=t),t}metadata(){return this.metadataStep.step(this)}completions(e){return this.completionsStep.step(this,e)}helpContext(e){return this.helpContextStep.step(this,e)}defaultLocation(){return{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}rangeFromContext(e){return this.rangeFromTokens(e.start,e.stop||e.start)}rangeFromTokens(e,t){let r={line:e.line-1,character:e.charPositionInLine};if(this.parseStep.sourceInfo&&t.stopIndex!=-1){let i=this.parseStep.sourceInfo.lines.length-1;for(let s=e.line-1;s<=i;s++){let o=this.parseStep.sourceInfo.at[s];if(t.stopIndex>=o.begin&&t.stopIndex<=o.end)return{start:r,end:{line:s,character:t.stopIndex-o.begin+1}}}return{start:r,end:{line:i,character:this.parseStep.sourceInfo.lines[i].length}}}return{start:r,end:r}}rangeFromToken(e){return this.rangeFromTokens(e,e)}};Sh.MalloyTranslation=Sq;var hAe=class extends Sq{constructor(e,t){super(e);this.root=t}},pAe=class extends Sq{constructor(e,t=null){super(e);this.schemaZone=new Hre.Zone,this.importZone=new Hre.Zone,this.sqlQueryZone=new Hre.Zone,this.logger=new hbt.MessageLog,this.root=this,t&&this.update(t)}update(e){var t,r,i;this.schemaZone.updateFrom(e.tables,(t=e.errors)===null||t===void 0?void 0:t.tables),this.importZone.updateFrom(e.urls,(r=e.errors)===null||r===void 0?void 0:r.urls),this.sqlQueryZone.updateFrom(e.compileSQL,(i=e.errors)===null||i===void 0?void 0:i.compileSQL)}};Sh.MalloyTranslator=pAe});var xAe=G(mS=>{"use strict";d();Object.defineProperty(mS,"__esModule",{value:!0});mS.exploreQueryWalkerBuilder=mS.ExploreQueryWalker=void 0;var _bt=D_(),Wre=class{constructor(e){this.inDocument=!1,this.exploreClauseRefs=[],this.tokens=e}exploreQueryAtOffset(e){return this.exploreClauseRefs.find(t=>t.range[0]===void 0||t.range[1]===void 0?!1:t.range[0]<=e&&t.range[1]>=e)}filterAtOffset(e){let t=this.exploreQueryAtOffset(e);if(!!t)return t.filterRefs.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e)}hasFilterListAtOffset(e){let t=this.exploreQueryAtOffset(e);return t?!!t.filterLists.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e):!1}enterMalloyDocument(){this.inDocument=!0}};mS.ExploreQueryWalker=Wre;function bbt(n,e){let t=new Wre(n),r=t;return _bt.ParseTreeWalker.DEFAULT.walk(r,e),t}mS.exploreQueryWalkerBuilder=bbt});var Qre=G(S5=>{"use strict";d();Object.defineProperty(S5,"__esModule",{value:!0});S5.HighlightType=S5.exploreQueryWalkerBuilder=S5.MalloyTranslator=void 0;var Ebt=mAe();Object.defineProperty(S5,"MalloyTranslator",{enumerable:!0,get:function(){return Ebt.MalloyTranslator}});var Sbt=xAe();Object.defineProperty(S5,"exploreQueryWalkerBuilder",{enumerable:!0,get:function(){return Sbt.exploreQueryWalkerBuilder}});var Cbt=zre();Object.defineProperty(S5,"HighlightType",{enumerable:!0,get:function(){return Cbt.HighlightType}})});var AAe=G(Or=>{"use strict";d();Object.defineProperty(Or,"__esModule",{value:!0});Or.CSVWriter=Or.JSONWriter=Or.DataWriter=Or.DataRecord=Or.DataArray=Or.Result=Or.ExploreMaterializer=Or.SQLBlockMaterializer=Or.PreparedResultMaterializer=Or.QueryMaterializer=Or.ModelMaterializer=Or.SingleConnectionRuntime=Or.ConnectionRuntime=Or.Runtime=Or.ExploreField=Or.JoinRelationship=Or.QueryField=Or.Query=Or.StringField=Or.JSONField=Or.BooleanField=Or.NumberField=Or.TimestampField=Or.DateField=Or.TimestampTimeframe=Or.DateTimeframe=Or.AtomicField=Or.AtomicFieldType=Or.Explore=Or.SourceRelationship=Or.FixedConnectionMap=Or.InMemoryURLReader=Or.EmptyURLReader=Or.PreparedResult=Or.DocumentCompletion=Or.DocumentSymbol=Or.DocumentPosition=Or.DocumentRange=Or.DocumentHighlight=Or.Parse=Or.parseTableURI=Or.PreparedQuery=Or.Model=Or.MalloyError=Or.Malloy=void 0;var wbt=Qre(),Ux=AJ(),fl=class{static get version(){return"0.0.1"}static get log(){return fl._log||console}static setLogger(e){fl._log=e}static _parse(e,t){t===void 0&&(t=new URL("internal://internal.malloy"));let r=new wbt.MalloyTranslator(t.toString(),{urls:{[t.toString()]:e}});return new Yre(r)}static parse({url:e,urlReader:t,source:r}){if(r!==void 0)return fl._parse(r,e);if(t===void 0)throw new Error("Internal Error: urlReader is required.");if(e===void 0)throw new Error("Internal Error: url is required if source not present.");return t.readURL(e).then(i=>fl._parse(i,e))}static async compile({urlReader:e,connections:t,parse:r,model:i}){let s=r._translator;for(;;){let o=s.translate(i==null?void 0:i._modelDef);if(o.final){if(o.translated)return new kF(o.translated.modelDef,o.translated.queryList,o.translated.sqlBlocks,a=>s.referenceAt(a));{let a=o.errors||[],l=s.prettyErrors();throw new Gre(`Error(s) compiling model:
${l}`,a)}}else{if(o.urls)for(let a of o.urls)try{if(a.startsWith("internal://"))throw new Error("In order to use relative imports, you must compile a file via a URL.");let l=await e.readURL(new URL(a)),f={[a]:l};s.update({urls:f})}catch(l){s.update({errors:{urls:{[a]:l.message}}})}if(o.tables){let a=new Map;for(let l of o.tables){let{connectionName:f}=gAe(l),p=a.get(f);p?p.push(l):p=[l],a.set(f,p)}for(let[l,f]of a)try{let p=await t.lookupConnection(l),{schemas:v,errors:b}=await p.fetchSchemaForTables(f);s.update({tables:v,errors:{tables:b}})}catch(p){let v={},b={};for(let F of f)b[F]=p.toString();s.update({tables:v,errors:{tables:b}})}}if(o.compileSQL){let a=o.compileSQL,l=a.connection;try{let f=await t.lookupConnection(l),p=fl.compileSQLBlock(o.partialModel,a),v=await f.fetchSchemaForSQLBlock(p);v.error&&s.update({errors:{compileSQL:{[p.name]:v.error}}}),v.structDef&&(0,Ux.isSQLBlock)(v.structDef)&&s.update({compileSQL:{[p.name]:v.structDef}})}catch(f){let p={};p[a.name]=f.toString(),s.update({errors:{compileSQL:p}})}}}}}static compileSQLBlock(e,t){let r,i=t.select.map(a=>{if((0,Ux.isSQLFragment)(a))return a.sql;if(!r){if(!e)throw new Error("Internal error: Partial model missing when compiling SQL block");r=new Ux.QueryModel(e)}return r.compileQuery(a).sql}),{name:s,connection:o}=t;return{type:"sqlBlock",name:s,connection:o,selectStr:i.join("")}}static async run({connections:e,preparedResult:t,sqlStruct:r,connection:i,options:s}){let o=r==null?void 0:r.structSource.sqlBlock;if(!i){if(!e)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");let a=(o==null?void 0:o.connection)||(t==null?void 0:t.connectionName);i=await e.lookupConnection(a)}if(r&&o){if(r.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let a=await i.runSQL(o.selectStr);return new _S({structs:[r],sql:o.selectStr,result:a.rows,totalRows:a.totalRows,lastStageName:o.name,malloy:"",connectionName:r.structRelationship.connectionName,sourceExplore:"",sourceFilters:[]},{name:"empty_model",exports:[],contents:{}})}else if(t){let a=await i.runSQL(t.sql,s);return new _S({...t._rawQuery,result:a.rows,totalRows:a.totalRows},t._modelDef)}else throw new Error("Internal error: sqlStruct or preparedResult must be provided.")}static async*runStream({connections:e,preparedResult:t,sqlStruct:r,connection:i,options:s}){let o=r==null?void 0:r.structSource.sqlBlock;if(o===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let a=(o==null?void 0:o.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(a)}if(!i.canStream())throw new Error(`Connection '${a}' cannot stream results.`);let l,f;if(r){if(r.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");f=new Nm(r),l=r.structSource.sqlBlock.selectStr}else if(t!==void 0)f=t.resultExplore,l=t.sql;else throw new Error("Internal error: sqlStruct or preparedResult must be provided.");let p=0;for await(let v of i.runSQLStream(l,s))yield new A5(v,p,f,void 0),p+=1}};Or.Malloy=fl;var Gre=class extends Error{constructor(e,t=[]){super(e);this.log=t}};Or.MalloyError=Gre;var kF=class{constructor(e,t,r,i=()=>{}){this.modelDef=e,this.queryList=t,this.sqlBlocks=r,this._referenceAt=i}getReference(e){return this._referenceAt(e)}getPreparedQueryByName(e){let t=this.modelDef.contents[e];if(t.type==="query")return new $x(t,this.modelDef,e);throw new Error("Given query name does not refer to a named query.")}getPreparedQueryByIndex(e){if(e<0)throw new Error(`Invalid index ${e}.`);if(e>=this.queryList.length)throw new Error(`Query index ${e} is out of bounds.`);return new $x(this.queryList[e],this.modelDef)}getSQLBlockByName(e){let t=this.sqlBlocks.find(r=>r.as===e);if(t===void 0)throw new Error(`No SQL Block named '${e}'`);return t}getSQLBlockByIndex(e){let t=this.sqlBlocks[e];if(t===void 0)throw new Error(`No SQL Block at index ${e}`);return t}get preparedQuery(){if(this.queryList.length===0)throw new Error("Model has no queries.");return new $x(this.queryList[this.queryList.length-1],this.modelDef)}getExploreByName(e){let t=this.modelDef.contents[e];if(t.type==="struct")return new Nm(t);throw new Error("'name' is not an explore")}get explores(){let e=[];for(let t in this.modelDef.contents){let r=this.modelDef.contents[t];r.type==="struct"&&e.push(new Nm(r))}return e}get exportedExplores(){return this.explores.filter(e=>this.modelDef.exports.includes(e.name))}get _modelDef(){return this.modelDef}};Or.Model=kF;var $x=class{constructor(e,t,r){this._query=e,this._modelDef=t,this.name=r}get preparedResult(){let t=new Ux.QueryModel(this._modelDef).compileQuery(this._query);return new wq({...t,queryName:this.name||t.queryName},this._modelDef)}get dialect(){let e=this._query.structRef,t=typeof e=="string"?this._modelDef.contents[e]:e;if(t.type!=="struct")throw new Error("Invalid source for query");return t.dialect}getFlattenedQuery(e){let t=this._query.structRef;typeof t!="string"&&(t=t.as||t.name);let r=(0,Ux.flattenQuery)(this._modelDef,{...this._query,type:"query",name:"as"in this._query?this._query.as||this._query.name:e});return new $x({...r,structRef:t,type:"query"},this._modelDef,this.name||r.as||r.name)}};Or.PreparedQuery=$x;function gAe(n){let e=n.match(/^([^:]*):(.*)$/);if(e){let[,t,r]=e;return{connectionName:t,tablePath:r}}else return{tablePath:n}}Or.parseTableURI=gAe;var Yre=class{constructor(e){this.translator=e}get highlights(){return(this.translator.metadata().highlights||[]).map(e=>new Kre(e))}get symbols(){return(this.translator.metadata().symbols||[]).map(e=>new IF(e))}get _translator(){return this.translator}completions(e){return(this.translator.completions(e).completions||[]).map(t=>new Jre(t))}helpContext(e){return this.translator.helpContext(e).helpContext}};Or.Parse=Yre;var Kre=class{constructor(e){this._range=new Cq(new xS(e.range.start.line,e.range.start.character),new xS(e.range.end.line,e.range.end.character)),this._type=e.type}get range(){return this._range}get type(){return this._type}};Or.DocumentHighlight=Kre;var Cq=class{constructor(e,t){this._start=e,this._end=t}get start(){return this._start}get end(){return this._end}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}};Or.DocumentRange=Cq;var xS=class{constructor(e,t){this._line=e,this._character=t}get line(){return this._line}get character(){return this._character}toJSON(){return{line:this.line,character:this.character}}};Or.DocumentPosition=xS;var IF=class{constructor(e){this._range=new Cq(new xS(e.range.start.line,e.range.start.character),new xS(e.range.end.line,e.range.end.character)),this._type=e.type,this._name=e.name,this._children=e.children.map(t=>new IF(t))}get range(){return this._range}get type(){return this._type}get name(){return this._name}get children(){return this._children}};Or.DocumentSymbol=IF;var Jre=class{constructor(e){this.type=e.type,this.text=e.text}};Or.DocumentCompletion=Jre;var wq=class{constructor(e,t){this.inner=e,this.modelDef=t}get connectionName(){return this.inner.connectionName}get _rawQuery(){return this.inner}get _modelDef(){return this.modelDef}get sql(){return this.inner.sql}get resultExplore(){if(this.inner.structs.length===0)throw new Error("Malformed query result.");let e=this.inner.structs[this.inner.structs.length-1],t={...e,name:this.inner.queryName||e.name};try{return new Nm(t,this.sourceExplore)}catch{return new Nm(t)}}get sourceExplore(){let e=this.inner.sourceExplore,t=this.modelDef.contents[e];if(t===void 0)throw new Error("Malformed query result.");if(t.type==="struct")return new Nm(t);throw new Error(`'${e} is not an explore`)}get _sourceExploreName(){return this.inner.sourceExplore}get _sourceFilters(){return this.inner.sourceFilters||[]}};Or.PreparedResult=wq;var Xre=class{async readURL(e){throw new Error("No files.")}};Or.EmptyURLReader=Xre;var yAe=class{constructor(e){this.files=e}async readURL(e){let t=this.files.get(e.toString());if(t!==void 0)return Promise.resolve(t);throw new Error(`File not found '${e}'`)}};Or.InMemoryURLReader=yAe;var gS=class{constructor(e,t){this.connections=e,this.defaultConnectionName=t}async getConnection(e){if(e===void 0)if(this.defaultConnectionName!==void 0)e=this.defaultConnectionName;else throw new Error("No default connection.");let t=this.connections.get(e);if(t!==void 0)return Promise.resolve(t);throw new Error(`No connection found with name ${e}.`)}async lookupConnection(e){return this.getConnection(e)}static fromArray(e){return new gS(new Map(e.map(t=>[t.name,t])))}};Or.FixedConnectionMap=gS;var O_;(function(n){n.Nested="nested",n.BaseTable="base_table",n.Cross="cross",n.One="one",n.Many="many",n.Inline="inline"})(O_=Or.SourceRelationship||(Or.SourceRelationship={}));var Aq=class{constructor(e,t,r){this._name=e,this._parent=t,this._source=r}get source(){return this.source}get name(){return this._name}get sourceClasses(){let e=[];return this.source&&e.push(this.source.name),e.push(this.name),e}hasParentExplore(){return this._parent!==void 0}isExplore(){return this instanceof Nm}isQuery(){return this instanceof Rq}},Nm=class extends Aq{constructor(e,t,r){super(e.as||e.name,t,r);this._structDef=e,this._parentExplore=t,this.sourceExplore=r}get source(){return this.sourceExplore}isIntrinsic(){return(0,Ux.FieldIsIntrinsic)(this._structDef)}get name(){return this.structDef.as||this.structDef.name}getQueryByName(e){let t={type:"query",structRef:this.structDef,pipeline:[{type:"reduce",fields:[e]}]};return new $x(t,this.modelDef,e)}get modelDef(){return{name:"generated_model",exports:[],contents:{[this.structDef.name]:this.structDef}}}getSingleExploreModel(){return new kF(this.modelDef,[],[])}get fieldMap(){var e;if(this._fieldMap===void 0){let t=((e=this.source)===null||e===void 0?void 0:e.fieldMap)||new Map;this._fieldMap=new Map(this.structDef.fields.map(r=>{let i=r.as||r.name,s=t.get(r.name);if(r.type==="struct")return[i,new Lq(r,this,s)];if(r.type==="turtle")return[i,new Rq(r,this,s)];if(r.type==="string")return[i,new Nq(r,this,s)];if(r.type==="number")return[i,new MF(r,this,s)];if(r.type==="date")return r.timeframe&&["day_of_month","day_of_week","day_of_year"].includes(r.timeframe)?[i,new MF({...r,type:"number"},this,s)]:[i,new Tq(r,this,s)];if(r.type==="timestamp")return[i,new Fq(r,this,s)];if(r.type==="boolean")return[i,new Dq(r,this,s)];if(r.type==="json")return[i,new Oq(r,this,s)]}))}return this._fieldMap}get allFields(){return[...this.fieldMap.values()]}get intrinsicFields(){return[...this.fieldMap.values()].filter(e=>e.isIntrinsic())}getFieldByName(e){let t=this.fieldMap.get(e);if(t===void 0)throw new Error(`No such field ${e}.`);return t}getFieldByNameIfExists(e){return this.fieldMap.get(e)}get primaryKey(){return this.structDef.primaryKey}get parentExplore(){return this._parentExplore}get sourceRelationship(){switch(this.structDef.structRelationship.type){case"many":return O_.Many;case"one":return O_.One;case"cross":return O_.Cross;case"inline":return O_.Inline;case"nested":return O_.Nested;case"basetable":return O_.BaseTable}}hasParentExplore(){return this instanceof Lq}get filters(){var e;return((e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.filterList)||[]}get limit(){var e;return(e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.limit}get structDef(){return this._structDef}};Or.Explore=Nm;var N_;(function(n){n.String="string",n.Number="number",n.Boolean="boolean",n.Date="date",n.Timestamp="timestamp",n.Json="json"})(N_=Or.AtomicFieldType||(Or.AtomicFieldType={}));var C5=class extends Aq{constructor(e,t,r){super(e.as||e.name,t,r);this.fieldTypeDef=e,this.parent=t}get type(){switch(this.fieldTypeDef.type){case"string":return N_.String;case"boolean":return N_.Boolean;case"date":return N_.Date;case"timestamp":return N_.Timestamp;case"number":return N_.Number;case"json":return N_.Json}}isIntrinsic(){return(0,Ux.FieldIsIntrinsic)(this.fieldTypeDef)}isQueryField(){return!1}isExploreField(){return!1}isAtomicField(){return!0}isCalculation(){return(0,Ux.expressionIsCalculation)(this.fieldTypeDef.expressionType)}get sourceField(){throw new Error}get sourceClasses(){let e=this.fieldTypeDef.name||this.fieldTypeDef.as;return e?[e]:[]}sourceWasMeasure(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"}sourceWasMeasureLike(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct"}sourceWasDimension(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension"}hasParentExplore(){return!0}isString(){return this instanceof Nq}isNumber(){return this instanceof MF}isDate(){return this instanceof Tq}isBoolean(){return this instanceof Dq}isJSON(){return this instanceof Oq}isTimestamp(){return this instanceof Fq}get parentExplore(){return this.parent}get expression(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.sourceExpression)||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.sourceField)||this.name}};Or.AtomicField=C5;var yS;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year"})(yS=Or.DateTimeframe||(Or.DateTimeframe={}));var zx;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year",n.Second="second",n.Hour="hour",n.Minute="minute"})(zx=Or.TimestampTimeframe||(Or.TimestampTimeframe={}));var Tq=class extends C5{constructor(e,t,r){super(e,t,r);this.fieldDateDef=e}get timeframe(){if(this.fieldDateDef.timeframe!==void 0)switch(this.fieldDateDef.timeframe){case"day":return yS.Day;case"week":return yS.Week;case"month":return yS.Month;case"quarter":return yS.Quarter;case"year":return yS.Year}}};Or.DateField=Tq;var Fq=class extends C5{constructor(e,t,r){super(e,t,r);this.fieldTimestampDef=e}get timeframe(){if(this.fieldTimestampDef.timeframe!==void 0)switch(this.fieldTimestampDef.timeframe){case"day":return zx.Day;case"week":return zx.Week;case"month":return zx.Month;case"quarter":return zx.Quarter;case"year":return zx.Year;case"second":return zx.Second;case"hour":return zx.Hour;case"minute":return zx.Minute}}};Or.TimestampField=Fq;var MF=class extends C5{constructor(e,t,r){super(e,t,r);this.fieldNumberDef=e}};Or.NumberField=MF;var Dq=class extends C5{constructor(e,t,r){super(e,t,r);this.fieldBooleanDef=e}};Or.BooleanField=Dq;var Oq=class extends C5{constructor(e,t,r){super(e,t,r);this.fieldJSONDef=e}};Or.JSONField=Oq;var Nq=class extends C5{constructor(e,t,r){super(e,t,r);this.fieldStringDef=e}};Or.StringField=Nq;var Zre=class extends Aq{constructor(e,t,r){super(e.as||e.name,t,r);this.turtleDef=e}get source(){return this.sourceQuery}isIntrinsic(){return!1}};Or.Query=Zre;var Rq=class extends Zre{constructor(e,t,r){super(e,t,r);this.parent=t}isQueryField(){return!0}isExploreField(){return!1}isAtomicField(){return!1}get sourceClasses(){let e=this.turtleDef.name||this.turtleDef.as;return e?[e]:[]}hasParentExplore(){return!0}get parentExplore(){return this.parent}get expression(){return this.name}};Or.QueryField=Rq;var PF;(function(n){n.OneToOne="one_to_one",n.OneToMany="one_to_many",n.ManyToOne="many_to_one"})(PF=Or.JoinRelationship||(Or.JoinRelationship={}));var Lq=class extends Nm{constructor(e,t,r){super(e,t,r);this._parentExplore=t}get joinRelationship(){switch(this.structDef.structRelationship.type){case"one":return PF.OneToMany;case"many":case"cross":return PF.ManyToOne;case"inline":return PF.OneToOne;case"nested":return PF.ManyToOne;default:throw new Error("An explore field must have a join relationship.")}}isQueryField(){return!1}isExploreField(){return!0}isAtomicField(){return!1}get parentExplore(){return this._parentExplore}get sourceClasses(){let e=this.structDef.name||this.structDef.as;return e?[e]:[]}};Or.ExploreField=Lq;var kq=class{constructor(...e){let t,r;for(let i of e)Abt(i)?t=i:Tbt(i)?r=i:r={lookupConnection:()=>Promise.resolve(i)};if(t===void 0&&(t=new Xre),r===void 0)throw new Error("A LookupConnection<Connection> or Connection is required.");this._urlReader=t,this._connections=r}get urlReader(){return this._urlReader}get connections(){return this._connections}loadModel(e){return new Iq(this,async()=>{let t=e instanceof URL?await fl.parse({url:e,urlReader:this.urlReader}):fl.parse({source:e});return fl.compile({urlReader:this.urlReader,connections:this.connections,parse:t})})}_loadModelFromModelDef(e){return new Iq(this,async function(){return new kF(e,[],[])})}loadQuery(e){return this.loadModel(e).loadFinalQuery()}loadQueryByIndex(e,t){return this.loadModel(e).loadQueryByIndex(t)}loadQueryByName(e,t){return this.loadModel(e).loadQueryByName(t)}loadSQLBlockByName(e,t){return this.loadModel(e).loadSQLBlockByName(t)}loadSQLBlockByIndex(e,t){return this.loadModel(e).loadSQLBlockByIndex(t)}getModel(e){return this.loadModel(e).getModel()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getQueryByIndex(e,t){return this.loadQueryByIndex(e,t).getPreparedQuery()}getQueryByName(e,t){return this.loadQueryByName(e,t).getPreparedQuery()}getSQLBlockByName(e,t){return this.loadSQLBlockByName(e,t).getSQLBlock()}getSQLBlockByIndex(e,t){return this.loadSQLBlockByIndex(e,t).getSQLBlock()}};Or.Runtime=kq;var vAe=class extends kq{constructor(e,t){if(t===void 0){let r=e;super(gS.fromArray(r));this.rawConnections=r}else{let r=t;super(e,gS.fromArray(r));this.rawConnections=r}}};Or.ConnectionRuntime=vAe;var _Ae=class extends kq{constructor(e,t){if(t===void 0){let r=e;super(r);this.connection=r}else{let r=t;super(e,r);this.connection=r}}};Or.SingleConnectionRuntime=_Ae;var vS=class{constructor(e,t){this.runtime=e,this._materialize=t}materialize(){return this.materialized===void 0?this.rematerialize():this.materialized}rematerialize(){return this.materialized=this._materialize(),this.materialized}makeQueryMaterializer(e){return new eie(this.runtime,e)}makeExploreMaterializer(e){return new rie(this.runtime,e)}makePreparedResultMaterializer(e){return new tie(this.runtime,e)}makeSQLBlockMaterializer(e){return new nie(this.runtime,e)}},Iq=class extends vS{loadFinalQuery(){return this.makeQueryMaterializer(async()=>(await this.materialize()).preparedQuery)}loadQueryByIndex(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByIndex(e))}loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByName(e))}loadQuery(e){return this.makeQueryMaterializer(async()=>{let t=this.runtime.urlReader,r=this.runtime.connections,i=e instanceof URL?await fl.parse({url:e,urlReader:t}):fl.parse({source:e}),s=await this.getModel();return(await fl.compile({urlReader:t,connections:r,parse:i,model:s})).preparedQuery})}async search(e,t,r=1e3,i=void 0){let s=await this.materialize(),o=new Ux.QueryModel(s._modelDef),a=s.getExploreByName(e).structDef;if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let l=a.structRelationship.connectionName,f=await this.runtime.connections.lookupConnection(l);return await o.searchIndex(f,e,t,r,i)}async searchValueMap(e,t=10){let i=(await this.materialize()).getExploreByName(e);if(i.structDef.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let s="{index: *}";i.getFieldByNameIfExists("search_index")&&(s="search_index");let o=`
      query: ${e}
        -> ${s}
        -> {
          where: fieldType = 'string'
          group_by: fieldName
          aggregate: cardinality is count(distinct fieldValue)
          nest: values is {
            project: fieldValue, weight
            order_by: weight desc
            limit: ${t}
          }
          limit: 1000
        }
    `;return(await this.loadQuery(o).run({rowLimit:1e3}))._queryResult.result}loadSQLBlockByName(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByName(e))}loadSQLBlockByIndex(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByIndex(e))}getFinalQuery(){return this.loadFinalQuery().getPreparedQuery()}getQueryByIndex(e){return this.loadQueryByIndex(e).getPreparedQuery()}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getSQLBlockByName(e){return this.loadSQLBlockByName(e).getSQLBlock()}getSQLBlockByIndex(e){return this.loadSQLBlockByIndex(e).getSQLBlock()}_loadQueryFromQueryDef(e){return this.makeQueryMaterializer(async()=>{let t=await this.materialize();return new $x(e,t._modelDef)})}loadExploreByName(e){return this.makeExploreMaterializer(async()=>(await this.materialize()).getExploreByName(e))}getExploreByName(e){return this.loadExploreByName(e).getExplore()}getModel(){return this.materialize()}};Or.ModelMaterializer=Iq;var eie=class extends vS{async run(e){let t=this.runtime.connections,r=await this.getPreparedResult();return fl.run({connections:t,preparedResult:r,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=fl.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}loadPreparedResult(){return this.makePreparedResultMaterializer(async()=>(await this.materialize()).preparedResult)}getPreparedResult(){return this.loadPreparedResult().getPreparedResult()}async getSQL(){return(await this.getPreparedResult()).sql}getPreparedQuery(){return this.materialize()}};Or.QueryMaterializer=eie;var tie=class extends vS{async run(e){let t=await this.getPreparedResult(),r=this.runtime.connections;return fl.run({connections:r,preparedResult:t,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=fl.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}getPreparedResult(){return this.materialize()}async getSQL(){return(await this.getPreparedResult()).sql}};Or.PreparedResultMaterializer=tie;var nie=class extends vS{async run(e){let t=await this.getSQLBlock(),r=this.runtime.connections;return fl.run({connections:r,sqlStruct:t,options:e})}async*runStream(e){let t=await this.getSQLBlock(),r=this.runtime.connections,i=fl.runStream({connections:r,sqlStruct:t,options:e});for await(let s of i)yield s}getSQLBlock(){return this.materialize()}async getSQL(){return(await this.getSQLBlock()).structSource.sqlBlock.selectStr}};Or.SQLBlockMaterializer=nie;var rie=class extends vS{loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getQueryByName(e))}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getExplore(){return this.materialize()}};Or.ExploreMaterializer=rie;var _S=class extends wq{constructor(e,t){super(e,t);this.inner=e}get _queryResult(){return this.inner}get data(){return new bS(this.inner.result,this.resultExplore,void 0)}get totalRows(){return this.inner.totalRows}toJSON(){return{queryResult:this.inner,modelDef:this._modelDef}}static fromJSON({queryResult:e,modelDef:t}){return new _S(e,t)}};Or.Result=_S;var BF=class{constructor(e){this._field=e}get field(){return this._field}isString(){return this instanceof iie}get string(){if(this.isString())return this;throw new Error("Not a string.")}isBoolean(){return this instanceof sie}get boolean(){if(this.isBoolean())return this;throw new Error("Not a boolean.")}isNumber(){return this instanceof oie}get number(){if(this.isNumber())return this;throw new Error("Not a number.")}isTimestamp(){return this instanceof aie}get timestamp(){if(this.isTimestamp())return this;throw new Error("Not a timestamp.")}isDate(){return this instanceof uie}get date(){if(this.isDate())return this;throw new Error("Not a date.")}isNull(){return this instanceof lie}isBytes(){return this instanceof EAe}get bytes(){if(this.isBytes())return this;throw new Error("Not bytes.")}isRecord(){return this instanceof A5}get record(){if(this.isRecord())return this;throw new Error("Not a record.")}isArray(){return this instanceof bS}get array(){if(this.isArray())return this;throw new Error("Not an array.")}isArrayOrRecord(){if(this instanceof bS||this instanceof A5)return this;throw new Error("No Array or Record")}},w5=class extends BF{constructor(e,t){super(t);this._value=e,this._field=t}get value(){return this._value}get field(){return this._field}},iie=class extends w5{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},sie=class extends w5{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},bAe=class extends w5{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},oie=class extends w5{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},aie=class extends w5{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value=="number"?new Date(this._value):typeof this._value!="string"?new Date(this._value.value):new Date(this._value)}get field(){return this._field}},uie=class extends w5{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value!="string"?new Date(this._value.value):new Date(this._value)}get field(){return this._field}},EAe=class extends w5{},lie=class extends BF{get value(){return null}},bS=class extends BF{constructor(e,t,r){super(t);this.parent=r,this.queryData=e,this._field=t}get field(){return this._field}toObject(){return this.queryData}path(...e){return SAe(this,e)}row(e){return new A5(this.queryData[e],e,this.field,this)}get rowCount(){return this.queryData.length}get value(){return this.toObject()}[Symbol.iterator](){let e=0,t=this.queryData,r=i=>this.row(i);return{next(){return e<t.length?{value:r(e++),done:!1}:{value:void 0,done:!0}}}}async*inMemoryStream(){for(let e=0;e<this.queryData.length;e++)yield this.row(e)}};Or.DataArray=bS;function SAe(n,e){for(let t of e)typeof t=="number"?n=n.array.row(t):n=n.record.cell(t);return n}var A5=class extends BF{constructor(e,t,r,i){super(r);this.parent=i,this.queryDataRow=e,this._field=r,this.index=t}toObject(){return this.queryDataRow}path(...e){return SAe(this,e)}cell(e){let t=typeof e=="string"?e:e.name,r=this._field.getFieldByName(t),i=this.queryDataRow[t];if(i===null)return new lie(r);if(r.isAtomicField()){if(r.isBoolean())return new sie(i,r);if(r.isDate())return new uie(i,r);if(r.isJSON())return new bAe(i,r);if(r.isTimestamp())return new aie(i,r);if(r.isNumber())return new oie(i,r);if(r.isString())return new iie(i,r)}else if(r.isExploreField())return Array.isArray(i)?new bS(i,r,this):new A5(i,void 0,r,this);throw new Error(`Internal Error: could not construct data column for field '${t}'.`)}get value(){throw new Error("Not implemented;")}get field(){return this._field}[Symbol.iterator](){let e=!1,t=()=>this;return{next(){return e?{value:void 0,done:!0}:(e=!0,{value:t(),done:!1})}}}};Or.DataRecord=A5;function Abt(n){return"readURL"in n}function Tbt(n){return"lookupConnection"in n}var Mq=class{constructor(e){this.stream=e}};Or.DataWriter=Mq;var CAe=class extends Mq{async process(e){this.stream.write(`[
`);for await(let t of e){t.index!==void 0&&t.index>0&&this.stream.write(`,
`);let i=JSON.stringify(t.toObject(),null,2).split(`
`);for(let s=0;s<i.length;s++){let o=i[s];this.stream.write(`  ${o}`),s<i.length-1&&this.stream.write(`
`)}}this.stream.write(`
]
`),this.stream.close()}};Or.JSONWriter=CAe;var wAe=class extends Mq{constructor(){super(...arguments);this.columnSeparator=",",this.rowSeparator=`
`,this.quoteCharacter='"',this.includeHeader=!0}escape(e){let t=e.includes(this.quoteCharacter),r=e.includes(this.columnSeparator),i=e.includes(this.rowSeparator),s=r||t||i;return t&&(e=e.replace(new RegExp(this.quoteCharacter,"g"),this.quoteCharacter+this.quoteCharacter)),s&&(e=this.quoteCharacter+e+this.quoteCharacter),e}stringify(e){return e.isNull()?"":e.isArray()||e.isRecord()||e.isBoolean()||e.isNumber()?JSON.stringify(e.value):e.isDate()||e.isTimestamp()?e.value.toISOString():e.isString()?e.value:`${e.value}`}async process(e){let t;for await(let r of e){if(t===void 0&&(t=r.field.allFields,this.includeHeader)){for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(s.name)),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(this.stringify(r.cell(s)))),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}this.stream.close()}};Or.CSVWriter=wAe});var TAe=G(Pq=>{"use strict";d();Object.defineProperty(Pq,"__esModule",{value:!0});Pq.toAsyncGenerator=void 0;async function*Fbt(n){let e=!1;function t(i){let s,o=new Promise(a=>{s=a});return i(a=>{s({done:!0,isError:!0,error:a})},a=>{s({done:!1,value:a,isError:!1,next:new Promise(l=>{s=l})})},()=>{s({done:!0,isError:!1})}),o}let r=t(n);for(;!e;){let i=await r;if(i.done){if(e=!0,i.isError)throw i.error;break}else r=i.next,yield i.value}}Pq.toAsyncGenerator=Fbt});var gf=G(Mi=>{"use strict";d();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.toAsyncGenerator=Mi.DataWriter=Mi.Parse=Mi.JSONWriter=Mi.CSVWriter=Mi.QueryMaterializer=Mi.parseTableURI=Mi.Result=Mi.TimestampTimeframe=Mi.DateTimeframe=Mi.SourceRelationship=Mi.JoinRelationship=Mi.MalloyError=Mi.FixedConnectionMap=Mi.InMemoryURLReader=Mi.EmptyURLReader=Mi.SingleConnectionRuntime=Mi.ConnectionRuntime=Mi.AtomicFieldType=Mi.Runtime=Mi.Malloy=Mi.MalloyTranslator=Mi.HighlightType=Mi.expressionIsCalculation=Mi.flattenQuery=Mi.isFilteredAliasedName=Mi.Segment=void 0;var Bq=AJ();Object.defineProperty(Mi,"Segment",{enumerable:!0,get:function(){return Bq.Segment}});Object.defineProperty(Mi,"isFilteredAliasedName",{enumerable:!0,get:function(){return Bq.isFilteredAliasedName}});Object.defineProperty(Mi,"flattenQuery",{enumerable:!0,get:function(){return Bq.flattenQuery}});Object.defineProperty(Mi,"expressionIsCalculation",{enumerable:!0,get:function(){return Bq.expressionIsCalculation}});var FAe=Qre();Object.defineProperty(Mi,"HighlightType",{enumerable:!0,get:function(){return FAe.HighlightType}});Object.defineProperty(Mi,"MalloyTranslator",{enumerable:!0,get:function(){return FAe.MalloyTranslator}});var dl=AAe();Object.defineProperty(Mi,"Malloy",{enumerable:!0,get:function(){return dl.Malloy}});Object.defineProperty(Mi,"Runtime",{enumerable:!0,get:function(){return dl.Runtime}});Object.defineProperty(Mi,"AtomicFieldType",{enumerable:!0,get:function(){return dl.AtomicFieldType}});Object.defineProperty(Mi,"ConnectionRuntime",{enumerable:!0,get:function(){return dl.ConnectionRuntime}});Object.defineProperty(Mi,"SingleConnectionRuntime",{enumerable:!0,get:function(){return dl.SingleConnectionRuntime}});Object.defineProperty(Mi,"EmptyURLReader",{enumerable:!0,get:function(){return dl.EmptyURLReader}});Object.defineProperty(Mi,"InMemoryURLReader",{enumerable:!0,get:function(){return dl.InMemoryURLReader}});Object.defineProperty(Mi,"FixedConnectionMap",{enumerable:!0,get:function(){return dl.FixedConnectionMap}});Object.defineProperty(Mi,"MalloyError",{enumerable:!0,get:function(){return dl.MalloyError}});Object.defineProperty(Mi,"JoinRelationship",{enumerable:!0,get:function(){return dl.JoinRelationship}});Object.defineProperty(Mi,"SourceRelationship",{enumerable:!0,get:function(){return dl.SourceRelationship}});Object.defineProperty(Mi,"DateTimeframe",{enumerable:!0,get:function(){return dl.DateTimeframe}});Object.defineProperty(Mi,"TimestampTimeframe",{enumerable:!0,get:function(){return dl.TimestampTimeframe}});Object.defineProperty(Mi,"Result",{enumerable:!0,get:function(){return dl.Result}});Object.defineProperty(Mi,"parseTableURI",{enumerable:!0,get:function(){return dl.parseTableURI}});Object.defineProperty(Mi,"QueryMaterializer",{enumerable:!0,get:function(){return dl.QueryMaterializer}});Object.defineProperty(Mi,"CSVWriter",{enumerable:!0,get:function(){return dl.CSVWriter}});Object.defineProperty(Mi,"JSONWriter",{enumerable:!0,get:function(){return dl.JSONWriter}});Object.defineProperty(Mi,"Parse",{enumerable:!0,get:function(){return dl.Parse}});Object.defineProperty(Mi,"DataWriter",{enumerable:!0,get:function(){return dl.DataWriter}});var Dbt=TAe();Object.defineProperty(Mi,"toAsyncGenerator",{enumerable:!0,get:function(){return Dbt.toAsyncGenerator}})});var DAe=G((jF,cie)=>{d();(function(n,e){typeof jF=="object"&&typeof cie=="object"?cie.exports=e():typeof define=="function"&&define.amd?define([],e):typeof jF=="object"?jF.onig=e():n.onig=e()})(jF,function(){return n={770:function(t,r,i){"use strict";var s=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(r,"__esModule",{value:!0}),r.setDefaultDebugCall=r.createOnigScanner=r.createOnigString=r.loadWASM=r.OnigScanner=r.OnigString=void 0;let o=s(i(418)),a=null,l=!1;class f{constructor(M){let q=M.length,N=f._utf8ByteLength(M),B=N!==q,I=B?new Uint32Array(q+1):null;B&&(I[q]=N);let z=B?new Uint32Array(N+1):null;B&&(z[N]=q);let ie=new Uint8Array(N),L=0;for(let Y=0;Y<q;Y++){let fe=M.charCodeAt(Y),me=fe,Be=!1;if(fe>=55296&&fe<=56319&&Y+1<q){let tt=M.charCodeAt(Y+1);tt>=56320&&tt<=57343&&(me=65536+(fe-55296<<10)|tt-56320,Be=!0)}B&&(I[Y]=L,Be&&(I[Y+1]=L),me<=127?z[L+0]=Y:me<=2047?(z[L+0]=Y,z[L+1]=Y):me<=65535?(z[L+0]=Y,z[L+1]=Y,z[L+2]=Y):(z[L+0]=Y,z[L+1]=Y,z[L+2]=Y,z[L+3]=Y)),me<=127?ie[L++]=me:me<=2047?(ie[L++]=192|(1984&me)>>>6,ie[L++]=128|(63&me)>>>0):me<=65535?(ie[L++]=224|(61440&me)>>>12,ie[L++]=128|(4032&me)>>>6,ie[L++]=128|(63&me)>>>0):(ie[L++]=240|(1835008&me)>>>18,ie[L++]=128|(258048&me)>>>12,ie[L++]=128|(4032&me)>>>6,ie[L++]=128|(63&me)>>>0),Be&&Y++}this.utf16Length=q,this.utf8Length=N,this.utf16Value=M,this.utf8Value=ie,this.utf16OffsetToUtf8=I,this.utf8OffsetToUtf16=z}static _utf8ByteLength(M){let q=0;for(let N=0,B=M.length;N<B;N++){let I=M.charCodeAt(N),z=I,ie=!1;if(I>=55296&&I<=56319&&N+1<B){let L=M.charCodeAt(N+1);L>=56320&&L<=57343&&(z=65536+(I-55296<<10)|L-56320,ie=!0)}q+=z<=127?1:z<=2047?2:z<=65535?3:4,ie&&N++}return q}createString(M){let q=M._omalloc(this.utf8Length);return M.HEAPU8.set(this.utf8Value,q),q}}class p{constructor(M){if(this.id=++p.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=M;let q=new f(M);this.utf16Length=q.utf16Length,this.utf8Length=q.utf8Length,this.utf16OffsetToUtf8=q.utf16OffsetToUtf8,this.utf8OffsetToUtf16=q.utf8OffsetToUtf16,this.utf8Length<1e4&&!p._sharedPtrInUse?(p._sharedPtr||(p._sharedPtr=a._omalloc(1e4)),p._sharedPtrInUse=!0,a.HEAPU8.set(q.utf8Value,p._sharedPtr),this.ptr=p._sharedPtr):this.ptr=q.createString(a)}convertUtf8OffsetToUtf16(M){return this.utf8OffsetToUtf16?M<0?0:M>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[M]:M}convertUtf16OffsetToUtf8(M){return this.utf16OffsetToUtf8?M<0?0:M>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[M]:M}dispose(){this.ptr===p._sharedPtr?p._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}r.OnigString=p,p.LAST_ID=0,p._sharedPtr=0,p._sharedPtrInUse=!1;class v{constructor(M){if(!a)throw new Error("Must invoke loadWASM first.");let q=[],N=[];for(let ie=0,L=M.length;ie<L;ie++){let Y=new f(M[ie]);q[ie]=Y.createString(a),N[ie]=Y.utf8Length}let B=a._omalloc(4*M.length);a.HEAPU32.set(q,B/4);let I=a._omalloc(4*M.length);a.HEAPU32.set(N,I/4);let z=a._createOnigScanner(B,I,M.length);for(let ie=0,L=M.length;ie<L;ie++)a._ofree(q[ie]);a._ofree(I),a._ofree(B),z===0&&function(ie){throw new Error(ie.UTF8ToString(ie._getLastOnigError()))}(a),this._onigBinding=a,this._ptr=z}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(M,q,N){let B=l,I=0;if(typeof N=="number"?(8&N&&(B=!0),I=N):typeof N=="boolean"&&(B=N),typeof M=="string"){M=new p(M);let z=this._findNextMatchSync(M,q,B,I);return M.dispose(),z}return this._findNextMatchSync(M,q,B,I)}_findNextMatchSync(M,q,N,B){let I=this._onigBinding,z;if(z=N?I._findNextOnigScannerMatchDbg(this._ptr,M.id,M.ptr,M.utf8Length,M.convertUtf16OffsetToUtf8(q),B):I._findNextOnigScannerMatch(this._ptr,M.id,M.ptr,M.utf8Length,M.convertUtf16OffsetToUtf8(q),B),z===0)return null;let ie=I.HEAPU32,L=z/4,Y=ie[L++],fe=ie[L++],me=[];for(let Be=0;Be<fe;Be++){let tt=M.convertUtf8OffsetToUtf16(ie[L++]),st=M.convertUtf8OffsetToUtf16(ie[L++]);me[Be]={start:tt,end:st,length:st-tt}}return{index:Y,captureIndices:me}}}r.OnigScanner=v;let b=!1,F=null;r.loadWASM=function(D){if(b)return F;let M,q,N,B;if(b=!0,function(I){return typeof I.instantiator=="function"}(D))M=D.instantiator,q=D.print;else{let I;(function(z){return z.data!==void 0})(D)?(I=D.data,q=D.print):I=D,M=function(z){return typeof Response!="undefined"&&z instanceof Response}(I)?typeof WebAssembly.instantiateStreaming=="function"?function(z){return ie=>WebAssembly.instantiateStreaming(z,ie)}(I):function(z){return async ie=>{let L=await z.arrayBuffer();return WebAssembly.instantiate(L,ie)}}(I):function(z){return ie=>WebAssembly.instantiate(z,ie)}(I)}return F=new Promise((I,z)=>{N=I,B=z}),function(I,z,ie,L){o.default({print:z,instantiateWasm:(Y,fe)=>{if(typeof performance=="undefined"){let me=()=>Date.now();Y.env.emscripten_get_now=me,Y.wasi_snapshot_preview1.emscripten_get_now=me}return I(Y).then(me=>fe(me.instance),L),{}}}).then(Y=>{a=Y,ie()})}(M,q,N,B),F},r.createOnigString=function(D){return new p(D)},r.createOnigScanner=function(D){return new v(D)},r.setDefaultDebugCall=function(D){l=D}},418:t=>{var r=(typeof document!="undefined"&&document.currentScript&&document.currentScript.src,function(i){var s,o,a=(i=i||{})!==void 0?i:{};a.ready=new Promise(function(Fe,qe){s=Fe,o=qe});var l,f={};for(l in a)a.hasOwnProperty(l)&&(f[l]=a[l]);var p,v=[],b=!1,F=!1,D=!0,M="";function q(Fe){return a.locateFile?a.locateFile(Fe,M):M+Fe}D&&(p=function(Fe){var qe;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Fe)):(Y(typeof(qe=read(Fe,"binary"))=="object"),qe)},typeof scriptArgs!="undefined"?v=scriptArgs:arguments!==void 0&&(v=arguments),typeof onig_print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr!="undefined"?printErr:onig_print));var N=a.print||console.log.bind(console),B=a.printErr||console.warn.bind(console);for(l in f)f.hasOwnProperty(l)&&(a[l]=f[l]);f=null,a.arguments&&(v=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var I,z,ie=function(Fe){};a.wasmBinary&&(I=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&ve("no native wasm support detected");var L=!1;function Y(Fe,qe){Fe||ve("Assertion failed: "+qe)}var fe,me,Be,tt=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function st(Fe,qe,Ce){for(var Dt=qe+Ce,lt=qe;Fe[lt]&&!(lt>=Dt);)++lt;if(lt-qe>16&&Fe.subarray&&tt)return tt.decode(Fe.subarray(qe,lt));for(var ct="";qe<lt;){var Yt=Fe[qe++];if(128&Yt){var qt=63&Fe[qe++];if((224&Yt)!=192){var gn=63&Fe[qe++];if((Yt=(240&Yt)==224?(15&Yt)<<12|qt<<6|gn:(7&Yt)<<18|qt<<12|gn<<6|63&Fe[qe++])<65536)ct+=String.fromCharCode(Yt);else{var kn=Yt-65536;ct+=String.fromCharCode(55296|kn>>10,56320|1023&kn)}}else ct+=String.fromCharCode((31&Yt)<<6|qt)}else ct+=String.fromCharCode(Yt)}return ct}function Qe(Fe,qe){return Fe?st(me,Fe,qe):""}function mt(Fe,qe){return Fe%qe>0&&(Fe+=qe-Fe%qe),Fe}function Lt(Fe){fe=Fe,a.HEAP8=new Int8Array(Fe),a.HEAP16=new Int16Array(Fe),a.HEAP32=Be=new Int32Array(Fe),a.HEAPU8=me=new Uint8Array(Fe),a.HEAPU16=new Uint16Array(Fe),a.HEAPU32=new Uint32Array(Fe),a.HEAPF32=new Float32Array(Fe),a.HEAPF64=new Float64Array(Fe)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),a.INITIAL_MEMORY;var je,Z=[],Ke=[],_e=[],De=[];function be(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Bt(a.preRun.shift());ot(Z)}function de(){ot(Ke)}function Ge(){ot(_e)}function rt(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)_t(a.postRun.shift());ot(De)}function Bt(Fe){Z.unshift(Fe)}function _t(Fe){De.unshift(Fe)}Ke.push({func:function(){$n()}});var un=0,Tt=null,Rt=null;function Gt(Fe){un++,a.monitorRunDependencies&&a.monitorRunDependencies(un)}function xt(Fe){if(un--,a.monitorRunDependencies&&a.monitorRunDependencies(un),un==0&&(Tt!==null&&(clearInterval(Tt),Tt=null),Rt)){var qe=Rt;Rt=null,qe()}}function ve(Fe){a.onAbort&&a.onAbort(Fe),B(Fe+=""),L=!0,Fe="abort("+Fe+"). Build with -s ASSERTIONS=1 for more info.";var qe=new WebAssembly.RuntimeError(Fe);throw o(qe),qe}function Oe(Fe,qe){return String.prototype.startsWith?Fe.startsWith(qe):Fe.indexOf(qe)===0}a.preloadedImages={},a.preloadedAudios={};var xe="data:application/octet-stream;base64,";function le(Fe){return Oe(Fe,xe)}var Ye,Ve="onig.wasm";function te(Fe){try{if(Fe==Ve&&I)return new Uint8Array(I);if(p)return p(Fe);throw"both async and sync fetching of the wasm failed"}catch(qe){ve(qe)}}function Ae(){return I||!b&&!F||typeof fetch!="function"?Promise.resolve().then(function(){return te(Ve)}):fetch(Ve,{credentials:"same-origin"}).then(function(Fe){if(!Fe.ok)throw"failed to load wasm binary file at '"+Ve+"'";return Fe.arrayBuffer()}).catch(function(){return te(Ve)})}function Xe(){var Fe={env:An,wasi_snapshot_preview1:An};function qe(lt,ct){var Yt=lt.exports;a.asm=Yt,Lt((z=a.asm.memory).buffer),je=a.asm.__indirect_function_table,xt()}function Ce(lt){qe(lt.instance)}function Dt(lt){return Ae().then(function(ct){return WebAssembly.instantiate(ct,Fe)}).then(lt,function(ct){B("failed to asynchronously prepare wasm: "+ct),ve(ct)})}if(Gt(),a.instantiateWasm)try{return a.instantiateWasm(Fe,qe)}catch(lt){return B("Module.instantiateWasm callback failed with error: "+lt),!1}return(I||typeof WebAssembly.instantiateStreaming!="function"||le(Ve)||typeof fetch!="function"?Dt(Ce):fetch(Ve,{credentials:"same-origin"}).then(function(lt){return WebAssembly.instantiateStreaming(lt,Fe).then(Ce,function(ct){return B("wasm streaming compile failed: "+ct),B("falling back to ArrayBuffer instantiation"),Dt(Ce)})})).catch(o),{}}function ot(Fe){for(;Fe.length>0;){var qe=Fe.shift();if(typeof qe!="function"){var Ce=qe.func;typeof Ce=="number"?qe.arg===void 0?je.get(Ce)():je.get(Ce)(qe.arg):Ce(qe.arg===void 0?null:qe.arg)}else qe(a)}}function Ct(Fe,qe,Ce){me.copyWithin(Fe,qe,qe+Ce)}function $t(){return me.length}function Ut(Fe){try{return z.grow(Fe-fe.byteLength+65535>>>16),Lt(z.buffer),1}catch{}}function sn(Fe){var qe=$t(),Ce=2147483648;if(Fe>Ce)return!1;for(var Dt=1;Dt<=4;Dt*=2){var lt=qe*(1+.2/Dt);if(lt=Math.min(lt,Fe+100663296),Ut(Math.min(Ce,mt(Math.max(Fe,lt),65536))))return!0}return!1}le(Ve)||(Ve=q(Ve)),Ye=typeof dateNow!="undefined"?dateNow:function(){return performance.now()};var ln={mappings:{},buffers:[null,[],[]],printChar:function(Fe,qe){var Ce=ln.buffers[Fe];qe===0||qe===10?((Fe===1?N:B)(st(Ce,0)),Ce.length=0):Ce.push(qe)},varargs:void 0,get:function(){return ln.varargs+=4,Be[ln.varargs-4>>2]},getStr:function(Fe){return Qe(Fe)},get64:function(Fe,qe){return Fe}};function cn(Fe,qe,Ce,Dt){for(var lt=0,ct=0;ct<Ce;ct++){for(var Yt=Be[qe+8*ct>>2],qt=Be[qe+(8*ct+4)>>2],gn=0;gn<qt;gn++)ln.printChar(Fe,me[Yt+gn]);lt+=qt}return Be[Dt>>2]=lt,0}function Ft(Fe){ie(0|Fe)}var nn,An={emscripten_get_now:Ye,emscripten_memcpy_big:Ct,emscripten_resize_heap:sn,fd_write:cn,setTempRet0:Ft},$n=(Xe(),a.___wasm_call_ctors=function(){return($n=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)});function Cn(Fe){function qe(){nn||(nn=!0,a.calledRun=!0,L||(de(),Ge(),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),rt()))}Fe=Fe||v,un>0||(be(),un>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),qe()},1)):qe()))}if(a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a._omalloc=function(){return(a._omalloc=a.asm.omalloc).apply(null,arguments)},a._ofree=function(){return(a._ofree=a.asm.ofree).apply(null,arguments)},a._getLastOnigError=function(){return(a._getLastOnigError=a.asm.getLastOnigError).apply(null,arguments)},a._createOnigScanner=function(){return(a._createOnigScanner=a.asm.createOnigScanner).apply(null,arguments)},a._freeOnigScanner=function(){return(a._freeOnigScanner=a.asm.freeOnigScanner).apply(null,arguments)},a._findNextOnigScannerMatch=function(){return(a._findNextOnigScannerMatch=a.asm.findNextOnigScannerMatch).apply(null,arguments)},a._findNextOnigScannerMatchDbg=function(){return(a._findNextOnigScannerMatchDbg=a.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.UTF8ToString=Qe,Rt=function Fe(){nn||Cn(),nn||(Rt=Fe)},a.run=Cn,a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Cn(),i.ready});t.exports=r}},e={},function t(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={exports:{}};return n[r].call(s.exports,s,s.exports,t),s.exports}(770);var n,e})});var OAe=G((qF,fie)=>{d();(function(n,e){typeof qF=="object"&&typeof fie=="object"?fie.exports=e():typeof define=="function"&&define.amd?define([],e):typeof qF=="object"?qF.vscodetextmate=e():n.vscodetextmate=e()})(qF,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)t.d(s,o,function(a){return r[a]}.bind(null,o));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),i=t(5),s=t(6),o=t(2),a=typeof performance=="undefined"?function(){return Date.now()}:function(){return performance.now()};e.createGrammar=function(je,Z,Ke,_e,De,be){return new I(je,Z,Ke,_e,De,be)};var l=function(je){this.scopeName=je};e.FullScopeDependency=l;var f=function(){function je(Z,Ke){this.scopeName=Z,this.include=Ke}return je.prototype.toKey=function(){return this.scopeName+"#"+this.include},je}();e.PartialScopeDependency=f;var p=function(){function je(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return je.prototype.add=function(Z){Z instanceof l?this._seenFull.has(Z.scopeName)||(this._seenFull.add(Z.scopeName),this.full.push(Z)):this._seenPartial.has(Z.toKey())||(this._seenPartial.add(Z.toKey()),this.partial.push(Z))},je}();function v(je,Z,Ke,_e,De){for(var be=0,de=_e;be<de.length;be++){var Ge=de[be];if(!je.visitedRule.has(Ge)){je.visitedRule.add(Ge);var rt=Ge.repository?r.mergeObjects({},De,Ge.repository):De;Array.isArray(Ge.patterns)&&v(je,Z,Ke,Ge.patterns,rt);var Bt=Ge.include;if(Bt)if(Bt==="$base"||Bt===Z.scopeName)F(je,Z,Z);else if(Bt==="$self"||Bt===Ke.scopeName)F(je,Z,Ke);else if(Bt.charAt(0)==="#")b(je,Z,Ke,Bt.substring(1),rt);else{var _t=Bt.indexOf("#");if(_t>=0){var un=Bt.substring(0,_t),Tt=Bt.substring(_t+1);un===Z.scopeName?b(je,Z,Z,Tt,rt):un===Ke.scopeName?b(je,Z,Ke,Tt,rt):je.add(new f(un,Bt.substring(_t+1)))}else je.add(new l(Bt))}}}}function b(je,Z,Ke,_e,De){De===void 0&&(De=Ke.repository),De&&De[_e]&&v(je,Z,Ke,[De[_e]],De)}function F(je,Z,Ke){if(Ke.patterns&&Array.isArray(Ke.patterns)&&v(je,Z,Ke,Ke.patterns,Ke.repository),Ke.injections){var _e=[];for(var De in Ke.injections)_e.push(Ke.injections[De]);v(je,Z,Ke,_e,Ke.repository)}}function D(je,Z){if(!je)return!1;if(je===Z)return!0;var Ke=Z.length;return je.length>Ke&&je.substr(0,Ke)===Z&&je[Ke]==="."}function M(je,Z){if(Z.length<je.length)return!1;var Ke=0;return je.every(function(_e){for(var De=Ke;De<Z.length;De++)if(D(Z[De],_e))return Ke=De+1,!0;return!1})}function q(je,Z,Ke,_e,De){for(var be=s.createMatchers(Z,M),de=i.RuleFactory.getCompiledRuleId(Ke,_e,De.repository),Ge=0,rt=be;Ge<rt.length;Ge++){var Bt=rt[Ge];je.push({matcher:Bt.matcher,ruleId:de,grammar:De,priority:Bt.priority})}}e.ScopeDependencyCollector=p,e.collectSpecificDependencies=b,e.collectDependencies=F;var N=function(je,Z,Ke,_e){this.scopeName=je,this.languageId=Z,this.tokenType=Ke,this.themeData=_e};e.ScopeMetadata=N;var B=function(){function je(Z,Ke,_e){if(this._initialLanguage=Z,this._themeProvider=Ke,this._cache=new Map,this._defaultMetaData=new N("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),_e)for(var De=Object.keys(_e),be=0,de=De.length;be<de;be++){var Ge=De[be],rt=_e[Ge];typeof rt=="number"&&rt!==0?this._embeddedLanguages[Ge]=rt:console.warn("Invalid embedded language found at scope "+Ge+": <<"+rt+">>")}var Bt=Object.keys(this._embeddedLanguages).map(function(_t){return je._escapeRegExpCharacters(_t)});Bt.length===0?this._embeddedLanguagesRegex=null:(Bt.sort(),Bt.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+Bt.join(")|(")+"))($|\\.)",""))}return je.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new N("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},je.prototype.getDefaultMetadata=function(){return this._defaultMetaData},je._escapeRegExpCharacters=function(Z){return Z.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},je.prototype.getMetadataForScope=function(Z){if(Z===null)return je._NULL_SCOPE_METADATA;var Ke=this._cache.get(Z);return Ke||(Ke=this._doGetMetadataForScope(Z),this._cache.set(Z,Ke),Ke)},je.prototype._doGetMetadataForScope=function(Z){var Ke=this._scopeToLanguage(Z),_e=this._toStandardTokenType(Z),De=this._themeProvider.themeMatch(Z);return new N(Z,Ke,_e,De)},je.prototype._scopeToLanguage=function(Z){if(!Z||!this._embeddedLanguagesRegex)return 0;var Ke=Z.match(this._embeddedLanguagesRegex);if(!Ke)return 0;var _e=this._embeddedLanguages[Ke[1]]||0;return _e||0},je.prototype._toStandardTokenType=function(Z){var Ke=Z.match(je.STANDARD_TOKEN_TYPE_REGEXP);if(!Ke)return 0;switch(Ke[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},je._NULL_SCOPE_METADATA=new N("",0,0,null),je.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,je}(),I=function(){function je(Z,Ke,_e,De,be,de){if(this._scopeMetadataProvider=new B(Ke,be,_e),this._onigLib=de,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=be,this._grammar=ie(Z,null),this._injections=null,this._tokenTypeMatchers=[],De)for(var Ge=0,rt=Object.keys(De);Ge<rt.length;Ge++)for(var Bt=rt[Ge],_t=0,un=s.createMatchers(Bt,M);_t<un.length;_t++){var Tt=un[_t];this._tokenTypeMatchers.push({matcher:Tt.matcher,type:De[Bt]})}}return je.prototype.dispose=function(){for(var Z=0,Ke=this._ruleId2desc;Z<Ke.length;Z++){var _e=Ke[Z];_e&&_e.dispose()}},je.prototype.createOnigScanner=function(Z){return this._onigLib.createOnigScanner(Z)},je.prototype.createOnigString=function(Z){return this._onigLib.createOnigString(Z)},je.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},je.prototype.getMetadataForScope=function(Z){return this._scopeMetadataProvider.getMetadataForScope(Z)},je.prototype.getInjections=function(){var Z=this;if(this._injections===null){this._injections=[];var Ke=this._grammar.injections;if(Ke)for(var _e in Ke)q(this._injections,_e,Ke[_e],this,this._grammar);if(this._grammarRepository){var De=this._grammarRepository.injections(this._grammar.scopeName);De&&De.forEach(function(be){var de=Z.getExternalGrammar(be);if(de){var Ge=de.injectionSelector;Ge&&q(Z._injections,Ge,de,Z,de)}})}this._injections.sort(function(be,de){return be.priority-de.priority})}return this._injections},je.prototype.registerRule=function(Z){var Ke=++this._lastRuleId,_e=Z(Ke);return this._ruleId2desc[Ke]=_e,_e},je.prototype.getRule=function(Z){return this._ruleId2desc[Z]},je.prototype.getExternalGrammar=function(Z,Ke){if(this._includedGrammars[Z])return this._includedGrammars[Z];if(this._grammarRepository){var _e=this._grammarRepository.lookup(Z);if(_e)return this._includedGrammars[Z]=ie(_e,Ke&&Ke.$base),this._includedGrammars[Z]}return null},je.prototype.tokenizeLine=function(Z,Ke){var _e=this._tokenize(Z,Ke,!1);return{tokens:_e.lineTokens.getResult(_e.ruleStack,_e.lineLength),ruleStack:_e.ruleStack}},je.prototype.tokenizeLine2=function(Z,Ke){var _e=this._tokenize(Z,Ke,!0);return{tokens:_e.lineTokens.getBinaryResult(_e.ruleStack,_e.lineLength),ruleStack:_e.ruleStack}},je.prototype._tokenize=function(Z,Ke,_e){var De;if(this._rootId===-1&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),Ke&&Ke!==st.NULL)De=!1,Ke.reset();else{De=!0;var be=this._scopeMetadataProvider.getDefaultMetadata(),de=be.themeData[0],Ge=Be.set(0,be.languageId,be.tokenType,de.fontStyle,de.foreground,de.background),rt=this.getRule(this._rootId).getName(null,null),Bt=this._scopeMetadataProvider.getMetadataForScope(rt),_t=tt.mergeMetadata(Ge,null,Bt),un=new tt(null,rt===null?"unknown":rt,_t);Ke=new st(null,this._rootId,-1,-1,!1,null,un,un)}Z+=`
`;var Tt=this.createOnigString(Z),Rt=Tt.content.length,Gt=new mt(_e,Z,this._tokenTypeMatchers),xt=me(this,Tt,De,0,Ke,Gt,!0);return z(Tt),{lineLength:Rt,lineTokens:Gt,ruleStack:xt}},je}();function z(je){typeof je.dispose=="function"&&je.dispose()}function ie(je,Z){return(je=r.clone(je)).repository=je.repository||{},je.repository.$self={$vscodeTextmateLocation:je.$vscodeTextmateLocation,patterns:je.patterns,name:je.scopeName},je.repository.$base=Z||je.repository.$self,je}function L(je,Z,Ke,_e,De,be,de){if(be.length!==0){for(var Ge=Z.content,rt=Math.min(be.length,de.length),Bt=[],_t=de[0].end,un=0;un<rt;un++){var Tt=be[un];if(Tt!==null){var Rt=de[un];if(Rt.length!==0){if(Rt.start>_t)break;for(;Bt.length>0&&Bt[Bt.length-1].endPos<=Rt.start;)De.produceFromScopes(Bt[Bt.length-1].scopes,Bt[Bt.length-1].endPos),Bt.pop();if(Bt.length>0?De.produceFromScopes(Bt[Bt.length-1].scopes,Rt.start):De.produce(_e,Rt.start),Tt.retokenizeCapturedWithRuleId){var Gt=Tt.getName(Ge,de),xt=_e.contentNameScopesList.push(je,Gt),ve=Tt.getContentName(Ge,de),Oe=xt.push(je,ve),xe=_e.push(Tt.retokenizeCapturedWithRuleId,Rt.start,-1,!1,null,xt,Oe),le=je.createOnigString(Ge.substring(0,Rt.end));me(je,le,Ke&&Rt.start===0,Rt.start,xe,De,!1),z(le)}else{var Ye=Tt.getName(Ge,de);if(Ye!==null){var Ve=(Bt.length>0?Bt[Bt.length-1].scopes:_e.contentNameScopesList).push(je,Ye);Bt.push(new Qe(Ve,Rt.end))}}}}}for(;Bt.length>0;)De.produceFromScopes(Bt[Bt.length-1].scopes,Bt[Bt.length-1].endPos),Bt.pop()}}function Y(je){for(var Z=[],Ke=0,_e=je.rules.length;Ke<_e;Ke++)Z.push("   - "+je.rules[Ke]+": "+je.debugRegExps[Ke]);return Z.join(`
`)}function fe(je,Z,Ke,_e,De,be){var de=function(un,Tt,Rt,Gt,xt,ve){var Oe=xt.getRule(un),xe=Oe.compile(un,xt.endRule,Rt,Gt===ve),le=0;o.DebugFlags.InDebugMode&&(le=a());var Ye=xe.scanner.findNextMatchSync(Tt,Gt);if(o.DebugFlags.InDebugMode){var Ve=a()-le;Ve>5&&console.warn("Rule "+Oe.debugName+" ("+Oe.id+") matching took "+Ve+" against '"+Tt+"'"),Ye&&console.log("matched rule id: "+xe.rules[Ye.index]+" from "+Ye.captureIndices[0].start+" to "+Ye.captureIndices[0].end)}return Ye?{captureIndices:Ye.captureIndices,matchedRuleId:xe.rules[Ye.index]}:null}(je,Z,Ke,_e,De,be),Ge=je.getInjections();if(Ge.length===0)return de;var rt=function(un,Tt,Rt,Gt,xt,ve,Oe){for(var xe,le=Number.MAX_VALUE,Ye=null,Ve=0,te=ve.contentNameScopesList.generateScopes(),Ae=0,Xe=un.length;Ae<Xe;Ae++){var ot=un[Ae];if(ot.matcher(te)){var Ct=Tt.getRule(ot.ruleId).compile(Tt,null,Gt,xt===Oe),$t=Ct.scanner.findNextMatchSync(Rt,xt);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(Y(Ct))),$t){var Ut=$t.captureIndices[0].start;if(!(Ut>=le)&&(le=Ut,Ye=$t.captureIndices,xe=Ct.rules[$t.index],Ve=ot.priority,le===xt))break}}}return Ye?{priorityMatch:Ve===-1,captureIndices:Ye,matchedRuleId:xe}:null}(Ge,je,Z,Ke,_e,De,be);if(!rt)return de;if(!de)return rt;var Bt=de.captureIndices[0].start,_t=rt.captureIndices[0].start;return _t<Bt||rt.priorityMatch&&_t===Bt?rt:de}function me(je,Z,Ke,_e,De,be,de){var Ge=Z.content.length,rt=!1,Bt=-1;if(de){var _t=function(Tt,Rt,Gt,xt,ve,Oe){for(var xe=ve.beginRuleCapturedEOL?0:-1,le=[],Ye=ve;Ye;Ye=Ye.pop()){var Ve=Ye.getRule(Tt);Ve instanceof i.BeginWhileRule&&le.push({rule:Ve,stack:Ye})}for(var te=le.pop();te;te=le.pop()){var Ae=te.rule.compileWhile(Tt,te.stack.endRule,Gt,xe===xt),Xe=Ae.scanner.findNextMatchSync(Rt,xt);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(Y(Ae))),!Xe){o.DebugFlags.InDebugMode&&console.log("  popping "+te.rule.debugName+" - "+te.rule.debugWhileRegExp),ve=te.stack.pop();break}if(Ae.rules[Xe.index]!==-2){ve=te.stack.pop();break}Xe.captureIndices&&Xe.captureIndices.length&&(Oe.produce(te.stack,Xe.captureIndices[0].start),L(Tt,Rt,Gt,te.stack,Oe,te.rule.whileCaptures,Xe.captureIndices),Oe.produce(te.stack,Xe.captureIndices[0].end),xe=Xe.captureIndices[0].end,Xe.captureIndices[0].end>xt&&(xt=Xe.captureIndices[0].end,Gt=!1))}return{stack:ve,linePos:xt,anchorPosition:xe,isFirstLine:Gt}}(je,Z,Ke,_e,De,be);De=_t.stack,_e=_t.linePos,Ke=_t.isFirstLine,Bt=_t.anchorPosition}for(;!rt;)un();function un(){o.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+_e+": |"+Z.content.substr(_e).replace(/\n$/,"\\n")+"|"));var Tt=fe(je,Z,Ke,_e,De,Bt);if(!Tt)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),be.produce(De,Ge),void(rt=!0);var Rt=Tt.captureIndices,Gt=Tt.matchedRuleId,xt=!!(Rt&&Rt.length>0)&&Rt[0].end>_e;if(Gt===-1){var ve=De.getRule(je);o.DebugFlags.InDebugMode&&console.log("  popping "+ve.debugName+" - "+ve.debugEndRegExp),be.produce(De,Rt[0].start),De=De.setContentNameScopesList(De.nameScopesList),L(je,Z,Ke,De,be,ve.endCaptures,Rt),be.produce(De,Rt[0].end);var Oe=De;if(De=De.pop(),Bt=Oe.getAnchorPos(),!xt&&Oe.getEnterPos()===_e)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),De=Oe,be.produce(De,Ge),void(rt=!0)}else{var xe=je.getRule(Gt);be.produce(De,Rt[0].start);var le=De,Ye=xe.getName(Z.content,Rt),Ve=De.contentNameScopesList.push(je,Ye);if(De=De.push(Gt,_e,Bt,Rt[0].end===Ge,null,Ve,Ve),xe instanceof i.BeginEndRule){var te=xe;o.DebugFlags.InDebugMode&&console.log("  pushing "+te.debugName+" - "+te.debugBeginRegExp),L(je,Z,Ke,De,be,te.beginCaptures,Rt),be.produce(De,Rt[0].end),Bt=Rt[0].end;var Ae=te.getContentName(Z.content,Rt),Xe=Ve.push(je,Ae);if(De=De.setContentNameScopesList(Xe),te.endHasBackReferences&&(De=De.setEndRule(te.getEndWithResolvedBackReferences(Z.content,Rt))),!xt&&le.hasSameRuleAs(De))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),De=De.pop(),be.produce(De,Ge),void(rt=!0)}else if(xe instanceof i.BeginWhileRule){if(te=xe,o.DebugFlags.InDebugMode&&console.log("  pushing "+te.debugName),L(je,Z,Ke,De,be,te.beginCaptures,Rt),be.produce(De,Rt[0].end),Bt=Rt[0].end,Ae=te.getContentName(Z.content,Rt),Xe=Ve.push(je,Ae),De=De.setContentNameScopesList(Xe),te.whileHasBackReferences&&(De=De.setEndRule(te.getWhileWithResolvedBackReferences(Z.content,Rt))),!xt&&le.hasSameRuleAs(De))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),De=De.pop(),be.produce(De,Ge),void(rt=!0)}else{var ot=xe;if(o.DebugFlags.InDebugMode&&console.log("  matched "+ot.debugName+" - "+ot.debugMatchRegExp),L(je,Z,Ke,De,be,ot.captures,Rt),be.produce(De,Rt[0].end),De=De.pop(),!xt)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),De=De.safePop(),be.produce(De,Ge),void(rt=!0)}}Rt[0].end>_e&&(_e=Rt[0].end,Ke=!1)}return De}e.Grammar=I;var Be=function(){function je(){}return je.toBinaryStr=function(Z){for(var Ke=Z.toString(2);Ke.length<32;)Ke="0"+Ke;return Ke},je.printMetadata=function(Z){var Ke=je.getLanguageId(Z),_e=je.getTokenType(Z),De=je.getFontStyle(Z),be=je.getForeground(Z),de=je.getBackground(Z);console.log({languageId:Ke,tokenType:_e,fontStyle:De,foreground:be,background:de})},je.getLanguageId=function(Z){return(255&Z)>>>0},je.getTokenType=function(Z){return(1792&Z)>>>8},je.getFontStyle=function(Z){return(14336&Z)>>>11},je.getForeground=function(Z){return(8372224&Z)>>>14},je.getBackground=function(Z){return(4286578688&Z)>>>23},je.set=function(Z,Ke,_e,De,be,de){var Ge=je.getLanguageId(Z),rt=je.getTokenType(Z),Bt=je.getFontStyle(Z),_t=je.getForeground(Z),un=je.getBackground(Z);return Ke!==0&&(Ge=Ke),_e!==0&&(rt=_e===8?0:_e),De!==-1&&(Bt=De),be!==0&&(_t=be),de!==0&&(un=de),(Ge<<0|rt<<8|Bt<<11|_t<<14|un<<23)>>>0},je}();e.StackElementMetadata=Be;var tt=function(){function je(Z,Ke,_e){this.parent=Z,this.scope=Ke,this.metadata=_e}return je._equals=function(Z,Ke){for(;;){if(Z===Ke||!Z&&!Ke)return!0;if(!Z||!Ke||Z.scope!==Ke.scope||Z.metadata!==Ke.metadata)return!1;Z=Z.parent,Ke=Ke.parent}},je.prototype.equals=function(Z){return je._equals(this,Z)},je._matchesScope=function(Z,Ke,_e){return Ke===Z||Z.substring(0,_e.length)===_e},je._matches=function(Z,Ke){if(Ke===null)return!0;for(var _e=Ke.length,De=0,be=Ke[De],de=be+".";Z;){if(this._matchesScope(Z.scope,be,de)){if(++De===_e)return!0;de=(be=Ke[De])+"."}Z=Z.parent}return!1},je.mergeMetadata=function(Z,Ke,_e){if(_e===null)return Z;var De=-1,be=0,de=0;if(_e.themeData!==null)for(var Ge=0,rt=_e.themeData.length;Ge<rt;Ge++){var Bt=_e.themeData[Ge];if(this._matches(Ke,Bt.parentScopes)){De=Bt.fontStyle,be=Bt.foreground,de=Bt.background;break}}return Be.set(Z,_e.languageId,_e.tokenType,De,be,de)},je._push=function(Z,Ke,_e){for(var De=0,be=_e.length;De<be;De++){var de=_e[De],Ge=Ke.getMetadataForScope(de),rt=je.mergeMetadata(Z.metadata,Z,Ge);Z=new je(Z,de,rt)}return Z},je.prototype.push=function(Z,Ke){return Ke===null?this:Ke.indexOf(" ")>=0?je._push(this,Z,Ke.split(/ /g)):je._push(this,Z,[Ke])},je._generateScopes=function(Z){for(var Ke=[],_e=0;Z;)Ke[_e++]=Z.scope,Z=Z.parent;return Ke.reverse(),Ke},je.prototype.generateScopes=function(){return je._generateScopes(this)},je}();e.ScopeListElement=tt;var st=function(){function je(Z,Ke,_e,De,be,de,Ge,rt){this.parent=Z,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=Ke,this._enterPos=_e,this._anchorPos=De,this.beginRuleCapturedEOL=be,this.endRule=de,this.nameScopesList=Ge,this.contentNameScopesList=rt}return je._structuralEquals=function(Z,Ke){for(;;){if(Z===Ke||!Z&&!Ke)return!0;if(!Z||!Ke||Z.depth!==Ke.depth||Z.ruleId!==Ke.ruleId||Z.endRule!==Ke.endRule)return!1;Z=Z.parent,Ke=Ke.parent}},je._equals=function(Z,Ke){return Z===Ke||!!this._structuralEquals(Z,Ke)&&Z.contentNameScopesList.equals(Ke.contentNameScopesList)},je.prototype.clone=function(){return this},je.prototype.equals=function(Z){return Z!==null&&je._equals(this,Z)},je._reset=function(Z){for(;Z;)Z._enterPos=-1,Z._anchorPos=-1,Z=Z.parent},je.prototype.reset=function(){je._reset(this)},je.prototype.pop=function(){return this.parent},je.prototype.safePop=function(){return this.parent?this.parent:this},je.prototype.push=function(Z,Ke,_e,De,be,de,Ge){return new je(this,Z,Ke,_e,De,be,de,Ge)},je.prototype.getEnterPos=function(){return this._enterPos},je.prototype.getAnchorPos=function(){return this._anchorPos},je.prototype.getRule=function(Z){return Z.getRule(this.ruleId)},je.prototype._writeString=function(Z,Ke){return this.parent&&(Ke=this.parent._writeString(Z,Ke)),Z[Ke++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",Ke},je.prototype.toString=function(){var Z=[];return this._writeString(Z,0),"["+Z.join(",")+"]"},je.prototype.setContentNameScopesList=function(Z){return this.contentNameScopesList===Z?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,Z)},je.prototype.setEndRule=function(Z){return this.endRule===Z?this:new je(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,Z,this.nameScopesList,this.contentNameScopesList)},je.prototype.hasSameRuleAs=function(Z){return this.ruleId===Z.ruleId},je.NULL=new je(null,0,0,0,!1,null,null,null),je}();e.StackElement=st;var Qe=function(je,Z){this.scopes=je,this.endPos=Z};e.LocalStackElement=Qe;var mt=function(){function je(Z,Ke,_e){this._emitBinaryTokens=Z,this._tokenTypeOverrides=_e,o.DebugFlags.InDebugMode?this._lineText=Ke:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return je.prototype.produce=function(Z,Ke){this.produceFromScopes(Z.contentNameScopesList,Ke)},je.prototype.produceFromScopes=function(Z,Ke){if(!(this._lastTokenEndIndex>=Ke)){if(this._emitBinaryTokens){for(var _e=Z.metadata,De=0,be=this._tokenTypeOverrides;De<be.length;De++){var de=be[De];de.matcher(Z.generateScopes())&&(_e=Be.set(_e,0,Lt(de.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===_e||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(_e)),void(this._lastTokenEndIndex=Ke)}var Ge=Z.generateScopes();if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,Ke).replace(/\n$/,"\\n")+"|");for(var rt=0;rt<Ge.length;rt++)console.log("      * "+Ge[rt])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:Ke,scopes:Ge}),this._lastTokenEndIndex=Ke}},je.prototype.getResult=function(Z,Ke){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===Ke-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(Z,Ke),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},je.prototype.getBinaryResult=function(Z,Ke){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===Ke-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(Z,Ke),this._binaryTokens[this._binaryTokens.length-2]=0);for(var _e=new Uint32Array(this._binaryTokens.length),De=0,be=this._binaryTokens.length;De<be;De++)_e[De]=this._binaryTokens[De];return _e},je}();function Lt(je){switch(je){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(n,e,t){"use strict";function r(o){return Array.isArray(o)?function(a){for(var l=[],f=0,p=a.length;f<p;f++)l[f]=r(a[f]);return l}(o):typeof o=="object"?function(a){var l={};for(var f in a)l[f]=r(a[f]);return l}(o):o}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=function(o){return r(o)},e.mergeObjects=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return a.forEach(function(f){for(var p in f)o[p]=f[p]}),o},e.basename=function o(a){var l=~a.lastIndexOf("/")||~a.lastIndexOf("\\");return l===0?a:~l==a.length-1?o(a.substring(0,a.length-1)):a.substr(1+~l)};var i=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,s=function(){function o(){}return o.hasCaptures=function(a){return a!==null&&i.test(a)},o.replaceCaptures=function(a,l,f){return a.replace(i,function(p,v,b,F){var D=f[parseInt(v||b,10)];if(!D)return p;for(var M=l.substring(D.start,D.end);M[0]===".";)M=M.substring(1);switch(F){case"downcase":return M.toLowerCase();case"upcase":return M.toUpperCase();default:return M}})},o}();e.RegexSource=s},function(n,e,t){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0}),e.DebugFlags={InDebugMode:r!==void 0&&!!r.env.VSCODE_TEXTMATE_DEBUG}}).call(this,t(7))},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(p,v,b,F){return new(b||(b=Promise))(function(D,M){function q(I){try{B(F.next(I))}catch(z){M(z)}}function N(I){try{B(F.throw(I))}catch(z){M(z)}}function B(I){var z;I.done?D(I.value):(z=I.value,z instanceof b?z:new b(function(ie){ie(z)})).then(q,N)}B((F=F.apply(p,v||[])).next())})},i=this&&this.__generator||function(p,v){var b,F,D,M,q={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return M={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function N(B){return function(I){return function(z){if(b)throw new TypeError("Generator is already executing.");for(;q;)try{if(b=1,F&&(D=2&z[0]?F.return:z[0]?F.throw||((D=F.return)&&D.call(F),0):F.next)&&!(D=D.call(F,z[1])).done)return D;switch(F=0,D&&(z=[2&z[0],D.value]),z[0]){case 0:case 1:D=z;break;case 4:return q.label++,{value:z[1],done:!1};case 5:q.label++,F=z[1],z=[0];continue;case 7:z=q.ops.pop(),q.trys.pop();continue;default:if(D=q.trys,!((D=D.length>0&&D[D.length-1])||z[0]!==6&&z[0]!==2)){q=0;continue}if(z[0]===3&&(!D||z[1]>D[0]&&z[1]<D[3])){q.label=z[1];break}if(z[0]===6&&q.label<D[1]){q.label=D[1],D=z;break}if(D&&q.label<D[2]){q.label=D[2],q.ops.push(z);break}D[2]&&q.ops.pop(),q.trys.pop();continue}z=v.call(p,q)}catch(ie){z=[6,ie],F=0}finally{b=D=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([B,I])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(4),o=t(8),a=t(11),l=t(0),f=function(){function p(v){this._options=v,this._syncRegistry=new s.SyncRegistry(a.Theme.createFromRawTheme(v.theme,v.colorMap),v.onigLib),this._ensureGrammarCache=new Map}return p.prototype.dispose=function(){this._syncRegistry.dispose()},p.prototype.setTheme=function(v,b){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(v,b))},p.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},p.prototype.loadGrammarWithEmbeddedLanguages=function(v,b,F){return this.loadGrammarWithConfiguration(v,b,{embeddedLanguages:F})},p.prototype.loadGrammarWithConfiguration=function(v,b,F){return this._loadGrammar(v,b,F.embeddedLanguages,F.tokenTypes)},p.prototype.loadGrammar=function(v){return this._loadGrammar(v,0,null,null)},p.prototype._doLoadSingleGrammar=function(v){return r(this,void 0,void 0,function(){var b,F;return i(this,function(D){switch(D.label){case 0:return[4,this._options.loadGrammar(v)];case 1:return(b=D.sent())&&(F=typeof this._options.getInjections=="function"?this._options.getInjections(v):void 0,this._syncRegistry.addGrammar(b,F)),[2]}})})},p.prototype._loadSingleGrammar=function(v){return r(this,void 0,void 0,function(){return i(this,function(b){return this._ensureGrammarCache.has(v)||this._ensureGrammarCache.set(v,this._doLoadSingleGrammar(v)),[2,this._ensureGrammarCache.get(v)]})})},p.prototype._collectDependenciesForDep=function(v,b,F){var D=this._syncRegistry.lookup(F.scopeName);if(D){F instanceof l.FullScopeDependency?l.collectDependencies(b,this._syncRegistry.lookup(v),D):l.collectSpecificDependencies(b,this._syncRegistry.lookup(v),D,F.include);var M=this._syncRegistry.injections(F.scopeName);if(M)for(var q=0,N=M;q<N.length;q++){var B=N[q];b.add(new l.FullScopeDependency(B))}}else if(F.scopeName===v)throw new Error("No grammar provided for <"+v+">")},p.prototype._loadGrammar=function(v,b,F,D){return r(this,void 0,void 0,function(){var M,q,N,B,I,z,ie,L,Y,fe,me,Be,tt=this;return i(this,function(st){switch(st.label){case 0:M=new Set,q=new Set,M.add(v),N=[new l.FullScopeDependency(v)],st.label=1;case 1:return N.length>0?(B=N,N=[],[4,Promise.all(B.map(function(Qe){return tt._loadSingleGrammar(Qe.scopeName)}))]):[3,3];case 2:for(st.sent(),I=new l.ScopeDependencyCollector,z=0,ie=B;z<ie.length;z++)Be=ie[z],this._collectDependenciesForDep(v,I,Be);for(L=0,Y=I.full;L<Y.length;L++)Be=Y[L],M.has(Be.scopeName)||(M.add(Be.scopeName),N.push(Be));for(fe=0,me=I.partial;fe<me.length;fe++)Be=me[fe],M.has(Be.scopeName)||q.has(Be.toKey())||(q.add(Be.toKey()),N.push(Be));return[3,1];case 3:return[2,this.grammarForScopeName(v,b,F,D)]}})})},p.prototype.addGrammar=function(v,b,F,D){return b===void 0&&(b=[]),F===void 0&&(F=0),D===void 0&&(D=null),r(this,void 0,void 0,function(){return i(this,function(M){switch(M.label){case 0:return this._syncRegistry.addGrammar(v,b),[4,this.grammarForScopeName(v.scopeName,F,D)];case 1:return[2,M.sent()]}})})},p.prototype.grammarForScopeName=function(v,b,F,D){return b===void 0&&(b=0),F===void 0&&(F=null),D===void 0&&(D=null),this._syncRegistry.grammarForScopeName(v,b,F,D)},p}();e.Registry=f,e.INITIAL=l.StackElement.NULL,e.parseRawGrammar=o.parseRawGrammar},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(a,l,f,p){return new(f||(f=Promise))(function(v,b){function F(q){try{M(p.next(q))}catch(N){b(N)}}function D(q){try{M(p.throw(q))}catch(N){b(N)}}function M(q){var N;q.done?v(q.value):(N=q.value,N instanceof f?N:new f(function(B){B(N)})).then(F,D)}M((p=p.apply(a,l||[])).next())})},i=this&&this.__generator||function(a,l){var f,p,v,b,F={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return b={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function D(M){return function(q){return function(N){if(f)throw new TypeError("Generator is already executing.");for(;F;)try{if(f=1,p&&(v=2&N[0]?p.return:N[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,N[1])).done)return v;switch(p=0,v&&(N=[2&N[0],v.value]),N[0]){case 0:case 1:v=N;break;case 4:return F.label++,{value:N[1],done:!1};case 5:F.label++,p=N[1],N=[0];continue;case 7:N=F.ops.pop(),F.trys.pop();continue;default:if(v=F.trys,!((v=v.length>0&&v[v.length-1])||N[0]!==6&&N[0]!==2)){F=0;continue}if(N[0]===3&&(!v||N[1]>v[0]&&N[1]<v[3])){F.label=N[1];break}if(N[0]===6&&F.label<v[1]){F.label=v[1],v=N;break}if(v&&F.label<v[2]){F.label=v[2],F.ops.push(N);break}v[2]&&F.ops.pop(),F.trys.pop();continue}N=l.call(a,F)}catch(B){N=[6,B],p=0}finally{f=v=0}if(5&N[0])throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}([M,q])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(0),o=function(){function a(l,f){this._theme=l,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=f}return a.prototype.dispose=function(){for(var l in this._grammars)this._grammars.hasOwnProperty(l)&&this._grammars[l].dispose()},a.prototype.setTheme=function(l){var f=this;this._theme=l,Object.keys(this._grammars).forEach(function(p){f._grammars[p].onDidChangeTheme()})},a.prototype.getColorMap=function(){return this._theme.getColorMap()},a.prototype.addGrammar=function(l,f){this._rawGrammars[l.scopeName]=l,f&&(this._injectionGrammars[l.scopeName]=f)},a.prototype.lookup=function(l){return this._rawGrammars[l]},a.prototype.injections=function(l){return this._injectionGrammars[l]},a.prototype.getDefaults=function(){return this._theme.getDefaults()},a.prototype.themeMatch=function(l){return this._theme.match(l)},a.prototype.grammarForScopeName=function(l,f,p,v){return r(this,void 0,void 0,function(){var b,F,D,M,q;return i(this,function(N){switch(N.label){case 0:return this._grammars[l]?[3,2]:(b=this._rawGrammars[l])?(F=this._grammars,D=l,M=s.createGrammar,q=[b,f,p,v,this],[4,this._onigLibPromise]):[2,null];case 1:F[D]=M.apply(void 0,q.concat([N.sent()])),N.label=2;case 2:return[2,this._grammars[l]]}})})},a}();e.SyncRegistry=o},function(n,e,t){"use strict";var r,i=this&&this.__extends||(r=function(B,I){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ie){z.__proto__=ie}||function(z,ie){for(var L in ie)ie.hasOwnProperty(L)&&(z[L]=ie[L])})(B,I)},function(B,I){function z(){this.constructor=B}r(B,I),B.prototype=I===null?Object.create(I):(z.prototype=I.prototype,new z)});Object.defineProperty(e,"__esModule",{value:!0});var s=t(1),o=/\\(\d+)/,a=/\\(\d+)/g,l=function(){function B(I,z,ie){this.debugRegExps=z,this.rules=ie,this.scanner=I.createOnigScanner(z)}return B.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},B}();e.CompiledRule=l;var f=function(){function B(I,z,ie,L){this.$location=I,this.id=z,this._name=ie||null,this._nameIsCapturing=s.RegexSource.hasCaptures(this._name),this._contentName=L||null,this._contentNameIsCapturing=s.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(B.prototype,"debugName",{get:function(){var I=this.$location?s.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+I},enumerable:!0,configurable:!0}),B.prototype.getName=function(I,z){return this._nameIsCapturing&&this._name!==null&&I!==null&&z!==null?s.RegexSource.replaceCaptures(this._name,I,z):this._name},B.prototype.getContentName=function(I,z){return this._contentNameIsCapturing&&this._contentName!==null?s.RegexSource.replaceCaptures(this._contentName,I,z):this._contentName},B}();e.Rule=f;var p=function(B){function I(z,ie,L,Y,fe){var me=B.call(this,z,ie,L,Y)||this;return me.retokenizeCapturedWithRuleId=fe,me}return i(I,B),I.prototype.dispose=function(){},I.prototype.collectPatternsRecursive=function(z,ie,L){throw new Error("Not supported!")},I.prototype.compile=function(z,ie,L,Y){throw new Error("Not supported!")},I}(f);e.CaptureRule=p;var v=function(){function B(I,z,ie){if(ie===void 0&&(ie=!0),ie)if(I){for(var L=I.length,Y=0,fe=[],me=!1,Be=0;Be<L;Be++)if(I.charAt(Be)==="\\"&&Be+1<L){var tt=I.charAt(Be+1);tt==="z"?(fe.push(I.substring(Y,Be)),fe.push("$(?!\\n)(?<!\\n)"),Y=Be+2):tt!=="A"&&tt!=="G"||(me=!0),Be++}this.hasAnchor=me,Y===0?this.source=I:(fe.push(I.substring(Y,L)),this.source=fe.join(""))}else this.hasAnchor=!1,this.source=I;else this.hasAnchor=!1,this.source=I;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=z,this.hasBackReferences=o.test(this.source)}return B.prototype.clone=function(){return new B(this.source,this.ruleId,!0)},B.prototype.setSource=function(I){this.source!==I&&(this.source=I,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},B.prototype.resolveBackReferences=function(I,z){var ie=z.map(function(L){return I.substring(L.start,L.end)});return a.lastIndex=0,this.source.replace(a,function(L,Y){return(ie[parseInt(Y,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},B.prototype._buildAnchorCache=function(){var I,z,ie,L,Y=[],fe=[],me=[],Be=[];for(I=0,z=this.source.length;I<z;I++)ie=this.source.charAt(I),Y[I]=ie,fe[I]=ie,me[I]=ie,Be[I]=ie,ie==="\\"&&I+1<z&&((L=this.source.charAt(I+1))==="A"?(Y[I+1]="\uFFFF",fe[I+1]="\uFFFF",me[I+1]="A",Be[I+1]="A"):L==="G"?(Y[I+1]="\uFFFF",fe[I+1]="G",me[I+1]="\uFFFF",Be[I+1]="G"):(Y[I+1]=L,fe[I+1]=L,me[I+1]=L,Be[I+1]=L),I++);return{A0_G0:Y.join(""),A0_G1:fe.join(""),A1_G0:me.join(""),A1_G1:Be.join("")}},B.prototype.resolveAnchors=function(I,z){return this.hasAnchor&&this._anchorCache?I?z?this._anchorCache.A1_G1:this._anchorCache.A1_G0:z?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},B}();e.RegExpSource=v;var b=function(){function B(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return B.prototype.dispose=function(){this._disposeCaches()},B.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},B.prototype.push=function(I){this._items.push(I),this._hasAnchors=this._hasAnchors||I.hasAnchor},B.prototype.unshift=function(I){this._items.unshift(I),this._hasAnchors=this._hasAnchors||I.hasAnchor},B.prototype.length=function(){return this._items.length},B.prototype.setSource=function(I,z){this._items[I].source!==z&&(this._disposeCaches(),this._items[I].setSource(z))},B.prototype.compile=function(I,z,ie){if(this._hasAnchors)return z?ie?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(I,z,ie)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(I,z,ie)),this._anchorCache.A1_G0):ie?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(I,z,ie)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(I,z,ie)),this._anchorCache.A0_G0);if(!this._cached){var L=this._items.map(function(Y){return Y.source});this._cached=new l(I,L,this._items.map(function(Y){return Y.ruleId}))}return this._cached},B.prototype._resolveAnchors=function(I,z,ie){var L=this._items.map(function(Y){return Y.resolveAnchors(z,ie)});return new l(I,L,this._items.map(function(Y){return Y.ruleId}))},B}();e.RegExpSourceList=b;var F=function(B){function I(z,ie,L,Y,fe){var me=B.call(this,z,ie,L,null)||this;return me._match=new v(Y,me.id),me.captures=fe,me._cachedCompiledPatterns=null,me}return i(I,B),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(I.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),I.prototype.collectPatternsRecursive=function(z,ie,L){ie.push(this._match)},I.prototype.compile=function(z,ie,L,Y){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(z,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(z,L,Y)},I}(f);e.MatchRule=F;var D=function(B){function I(z,ie,L,Y,fe){var me=B.call(this,z,ie,L,Y)||this;return me.patterns=fe.patterns,me.hasMissingPatterns=fe.hasMissingPatterns,me._cachedCompiledPatterns=null,me}return i(I,B),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},I.prototype.collectPatternsRecursive=function(z,ie,L){var Y,fe;for(Y=0,fe=this.patterns.length;Y<fe;Y++)z.getRule(this.patterns[Y]).collectPatternsRecursive(z,ie,!1)},I.prototype.compile=function(z,ie,L,Y){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(z,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(z,L,Y)},I}(f);e.IncludeOnlyRule=D;var M=function(B){function I(z,ie,L,Y,fe,me,Be,tt,st,Qe){var mt=B.call(this,z,ie,L,Y)||this;return mt._begin=new v(fe,mt.id),mt.beginCaptures=me,mt._end=new v(Be||"\uFFFF",-1),mt.endHasBackReferences=mt._end.hasBackReferences,mt.endCaptures=tt,mt.applyEndPatternLast=st||!1,mt.patterns=Qe.patterns,mt.hasMissingPatterns=Qe.hasMissingPatterns,mt._cachedCompiledPatterns=null,mt}return i(I,B),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(I.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),I.prototype.getEndWithResolvedBackReferences=function(z,ie){return this._end.resolveBackReferences(z,ie)},I.prototype.collectPatternsRecursive=function(z,ie,L){if(L){var Y,fe=void 0;for(fe=0,Y=this.patterns.length;fe<Y;fe++)z.getRule(this.patterns[fe]).collectPatternsRecursive(z,ie,!1)}else ie.push(this._begin)},I.prototype.compile=function(z,ie,L,Y){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(z,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,ie):this._cachedCompiledPatterns.setSource(0,ie)),this._cachedCompiledPatterns.compile(z,L,Y)},I}(f);e.BeginEndRule=M;var q=function(B){function I(z,ie,L,Y,fe,me,Be,tt,st){var Qe=B.call(this,z,ie,L,Y)||this;return Qe._begin=new v(fe,Qe.id),Qe.beginCaptures=me,Qe.whileCaptures=tt,Qe._while=new v(Be,-2),Qe.whileHasBackReferences=Qe._while.hasBackReferences,Qe.patterns=st.patterns,Qe.hasMissingPatterns=st.hasMissingPatterns,Qe._cachedCompiledPatterns=null,Qe._cachedCompiledWhilePatterns=null,Qe}return i(I,B),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(I.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),I.prototype.getWhileWithResolvedBackReferences=function(z,ie){return this._while.resolveBackReferences(z,ie)},I.prototype.collectPatternsRecursive=function(z,ie,L){if(L){var Y,fe=void 0;for(fe=0,Y=this.patterns.length;fe<Y;fe++)z.getRule(this.patterns[fe]).collectPatternsRecursive(z,ie,!1)}else ie.push(this._begin)},I.prototype.compile=function(z,ie,L,Y){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(z,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(z,L,Y)},I.prototype.compileWhile=function(z,ie,L,Y){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new b,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,ie||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(z,L,Y)},I}(f);e.BeginWhileRule=q;var N=function(){function B(){}return B.createCaptureRule=function(I,z,ie,L,Y){return I.registerRule(function(fe){return new p(z,fe,ie,L,Y)})},B.getCompiledRuleId=function(I,z,ie){return I.id||z.registerRule(function(L){if(I.id=L,I.match)return new F(I.$vscodeTextmateLocation,I.id,I.name,I.match,B._compileCaptures(I.captures,z,ie));if(I.begin===void 0){I.repository&&(ie=s.mergeObjects({},ie,I.repository));var Y=I.patterns;return Y===void 0&&I.include&&(Y=[{include:I.include}]),new D(I.$vscodeTextmateLocation,I.id,I.name,I.contentName,B._compilePatterns(Y,z,ie))}return I.while?new q(I.$vscodeTextmateLocation,I.id,I.name,I.contentName,I.begin,B._compileCaptures(I.beginCaptures||I.captures,z,ie),I.while,B._compileCaptures(I.whileCaptures||I.captures,z,ie),B._compilePatterns(I.patterns,z,ie)):new M(I.$vscodeTextmateLocation,I.id,I.name,I.contentName,I.begin,B._compileCaptures(I.beginCaptures||I.captures,z,ie),I.end,B._compileCaptures(I.endCaptures||I.captures,z,ie),I.applyEndPatternLast,B._compilePatterns(I.patterns,z,ie))}),I.id},B._compileCaptures=function(I,z,ie){var L=[];if(I){var Y=0;for(var fe in I)fe!=="$vscodeTextmateLocation"&&(Be=parseInt(fe,10))>Y&&(Y=Be);for(var me=0;me<=Y;me++)L[me]=null;for(var fe in I)if(fe!=="$vscodeTextmateLocation"){var Be=parseInt(fe,10),tt=0;I[fe].patterns&&(tt=B.getCompiledRuleId(I[fe],z,ie)),L[Be]=B.createCaptureRule(z,I[fe].$vscodeTextmateLocation,I[fe].name,I[fe].contentName,tt)}}return L},B._compilePatterns=function(I,z,ie){var L=[];if(I)for(var Y=0,fe=I.length;Y<fe;Y++){var me=I[Y],Be=-1;if(me.include)if(me.include.charAt(0)==="#"){var tt=ie[me.include.substr(1)];tt&&(Be=B.getCompiledRuleId(tt,z,ie))}else if(me.include==="$base"||me.include==="$self")Be=B.getCompiledRuleId(ie[me.include],z,ie);else{var st=null,Qe=null,mt=me.include.indexOf("#");mt>=0?(st=me.include.substring(0,mt),Qe=me.include.substring(mt+1)):st=me.include;var Lt=z.getExternalGrammar(st,ie);if(Lt)if(Qe){var je=Lt.repository[Qe];je&&(Be=B.getCompiledRuleId(je,z,Lt.repository))}else Be=B.getCompiledRuleId(Lt.repository.$self,z,Lt.repository)}else Be=B.getCompiledRuleId(me,z,ie);if(Be!==-1){var Z=z.getRule(Be),Ke=!1;if((Z instanceof D||Z instanceof M||Z instanceof q)&&Z.hasMissingPatterns&&Z.patterns.length===0&&(Ke=!0),Ke)continue;L.push(Be)}}return{patterns:L,hasMissingPatterns:(I?I.length:0)!==L.length}},B}();e.RuleFactory=N},function(n,e,t){"use strict";function r(i){return!!i&&!!i.match(/[\w\.:]+/)}Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchers=function(i,s){for(var o,a,l,f=[],p=(l=(a=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(o=i),{next:function(){if(!l)return null;var q=l[0];return l=a.exec(o),q}}),v=p.next();v!==null;){var b=0;if(v.length===2&&v.charAt(1)===":"){switch(v.charAt(0)){case"R":b=1;break;case"L":b=-1;break;default:console.log("Unknown priority "+v+" in scope selector")}v=p.next()}var F=M();if(f.push({matcher:F,priority:b}),v!==",")break;v=p.next()}return f;function D(){if(v==="-"){v=p.next();var q=D();return function(I){return!!q&&!q(I)}}if(v==="("){v=p.next();var N=function(){for(var I=[],z=M();z&&(I.push(z),v==="|"||v===",");){do v=p.next();while(v==="|"||v===",");z=M()}return function(ie){return I.some(function(L){return L(ie)})}}();return v===")"&&(v=p.next()),N}if(r(v)){var B=[];do B.push(v),v=p.next();while(r(v));return function(I){return s(B,I)}}return null}function M(){for(var q=[],N=D();N;)q.push(N),N=D();return function(B){return q.every(function(I){return I(B)})}}}},function(n,e){var t,r,i=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(q){if(t===setTimeout)return setTimeout(q,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(q,0);try{return t(q,0)}catch{try{return t.call(null,q,0)}catch{return t.call(this,q,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:s}catch{t=s}try{r=typeof clearTimeout=="function"?clearTimeout:o}catch{r=o}})();var l,f=[],p=!1,v=-1;function b(){p&&l&&(p=!1,l.length?f=l.concat(f):v=-1,f.length&&F())}function F(){if(!p){var q=a(b);p=!0;for(var N=f.length;N;){for(l=f,f=[];++v<N;)l&&l[v].run();v=-1,N=f.length}l=null,p=!1,function(B){if(r===clearTimeout)return clearTimeout(B);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(B);try{r(B)}catch{try{return r.call(null,B)}catch{return r.call(this,B)}}}(q)}}function D(q,N){this.fun=q,this.array=N}function M(){}i.nextTick=function(q){var N=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)N[B-1]=arguments[B];f.push(new D(q,N)),f.length!==1||p||a(F)},D.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=M,i.addListener=M,i.once=M,i.off=M,i.removeListener=M,i.removeAllListeners=M,i.emit=M,i.prependListener=M,i.prependOnceListener=M,i.listeners=function(q){return[]},i.binding=function(q){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(q){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(9),i=t(2),s=t(10);e.parseRawGrammar=function(o,a){return a===void 0&&(a=null),a!==null&&/\.json$/.test(a)?function(l,f){return i.DebugFlags.InDebugMode?s.parse(l,f,!0):JSON.parse(l)}(o,a):function(l,f){return i.DebugFlags.InDebugMode?r.parseWithLocation(l,f,"$vscodeTextmateLocation"):r.parse(l)}(o,a)}},function(n,e,t){"use strict";function r(i,s,o){var a=i.length,l=0,f=1,p=0;function v(Tt){if(o===null)l+=Tt;else for(;Tt>0;)i.charCodeAt(l)===10?(l++,f++,p=0):(l++,p++),Tt--}function b(Tt){o===null?l=Tt:v(Tt-l)}function F(){for(;l<a;){var Tt=i.charCodeAt(l);if(Tt!==32&&Tt!==9&&Tt!==13&&Tt!==10)break;v(1)}}function D(Tt){return i.substr(l,Tt.length)===Tt&&(v(Tt.length),!0)}function M(Tt){var Rt=i.indexOf(Tt,l);b(Rt!==-1?Rt+Tt.length:a)}function q(Tt){var Rt=i.indexOf(Tt,l);if(Rt!==-1){var Gt=i.substring(l,Rt);return b(Rt+Tt.length),Gt}return Gt=i.substr(l),b(a),Gt}a>0&&i.charCodeAt(0)===65279&&(l=1);var N=0,B=null,I=[],z=[],ie=null;function L(Tt,Rt){I.push(N),z.push(B),N=Tt,B=Rt}function Y(){if(I.length===0)return fe("illegal state stack");N=I.pop(),B=z.pop()}function fe(Tt){throw new Error("Near offset "+l+": "+Tt+" ~~~"+i.substr(l,50)+"~~~")}var me,Be,tt,st=function(){if(ie===null)return fe("missing <key>");var Tt={};o!==null&&(Tt[o]={filename:s,line:f,char:p}),B[ie]=Tt,ie=null,L(1,Tt)},Qe=function(){if(ie===null)return fe("missing <key>");var Tt=[];B[ie]=Tt,ie=null,L(2,Tt)},mt=function(){var Tt={};o!==null&&(Tt[o]={filename:s,line:f,char:p}),B.push(Tt),L(1,Tt)},Lt=function(){var Tt=[];B.push(Tt),L(2,Tt)};function je(){if(N!==1)return fe("unexpected </dict>");Y()}function Z(){return N===1||N!==2?fe("unexpected </array>"):void Y()}function Ke(Tt){if(N===1){if(ie===null)return fe("missing <key>");B[ie]=Tt,ie=null}else N===2?B.push(Tt):B=Tt}function _e(Tt){if(isNaN(Tt))return fe("cannot parse float");if(N===1){if(ie===null)return fe("missing <key>");B[ie]=Tt,ie=null}else N===2?B.push(Tt):B=Tt}function De(Tt){if(isNaN(Tt))return fe("cannot parse integer");if(N===1){if(ie===null)return fe("missing <key>");B[ie]=Tt,ie=null}else N===2?B.push(Tt):B=Tt}function be(Tt){if(N===1){if(ie===null)return fe("missing <key>");B[ie]=Tt,ie=null}else N===2?B.push(Tt):B=Tt}function de(Tt){if(N===1){if(ie===null)return fe("missing <key>");B[ie]=Tt,ie=null}else N===2?B.push(Tt):B=Tt}function Ge(Tt){if(N===1){if(ie===null)return fe("missing <key>");B[ie]=Tt,ie=null}else N===2?B.push(Tt):B=Tt}function rt(Tt){if(Tt.isClosed)return"";var Rt=q("</");return M(">"),Rt.replace(/&#([0-9]+);/g,function(Gt,xt){return String.fromCodePoint(parseInt(xt,10))}).replace(/&#x([0-9a-f]+);/g,function(Gt,xt){return String.fromCodePoint(parseInt(xt,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(Gt){switch(Gt){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return Gt})}for(;l<a&&(F(),!(l>=a));){var Bt=i.charCodeAt(l);if(v(1),Bt!==60)return fe("expected <");if(l>=a)return fe("unexpected end of input");var _t=i.charCodeAt(l);if(_t!==63)if(_t!==33){if(_t===47){if(v(1),F(),D("plist")){M(">");continue}if(D("dict")){M(">"),je();continue}if(D("array")){M(">"),Z();continue}return fe("unexpected closed tag")}var un=(Be=void 0,tt=void 0,Be=q(">"),tt=!1,Be.charCodeAt(Be.length-1)===47&&(tt=!0,Be=Be.substring(0,Be.length-1)),{name:Be.trim(),isClosed:tt});switch(un.name){case"dict":N===1?st():N===2?mt():(B={},o!==null&&(B[o]={filename:s,line:f,char:p}),L(1,B)),un.isClosed&&je();continue;case"array":N===1?Qe():N===2?Lt():L(2,B=[]),un.isClosed&&Z();continue;case"key":me=rt(un),N!==1?fe("unexpected <key>"):ie!==null?fe("too many <key>"):ie=me;continue;case"string":Ke(rt(un));continue;case"real":_e(parseFloat(rt(un)));continue;case"integer":De(parseInt(rt(un),10));continue;case"date":be(new Date(rt(un)));continue;case"data":de(rt(un));continue;case"true":rt(un),Ge(!0);continue;case"false":rt(un),Ge(!1);continue}if(!/^plist/.test(un.name))return fe("unexpected opened tag "+un.name)}else{if(v(1),D("--")){M("-->");continue}M(">")}else v(1),M("?>")}return B}Object.defineProperty(e,"__esModule",{value:!0}),e.parseWithLocation=function(i,s,o){return r(i,s,o)},e.parse=function(i){return r(i,null,null)}},function(n,e,t){"use strict";function r(a,l){throw new Error("Near offset "+a.pos+": "+l+" ~~~"+a.source.substr(a.pos,50)+"~~~")}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(a,l,f){var p=new i(a),v=new s,b=0,F=null,D=[],M=[];function q(){D.push(b),M.push(F)}function N(){b=D.pop(),F=M.pop()}function B(L){r(p,L)}for(;o(p,v);){if(b===0){if(F!==null&&B("too many constructs in root"),v.type===3){F={},f&&(F.$vscodeTextmateLocation=v.toLocation(l)),q(),b=1;continue}if(v.type===2){F=[],q(),b=4;continue}B("unexpected token in root")}if(b===2){if(v.type===5){N();continue}if(v.type===7){b=3;continue}B("expected , or }")}if(b===1||b===3){if(b===1&&v.type===5){N();continue}if(v.type===1){var I=v.value;if(o(p,v)&&v.type===6||B("expected colon"),o(p,v)||B("expected value"),b=2,v.type===1){F[I]=v.value;continue}if(v.type===8){F[I]=null;continue}if(v.type===9){F[I]=!0;continue}if(v.type===10){F[I]=!1;continue}if(v.type===11){F[I]=parseFloat(v.value);continue}if(v.type===2){var z=[];F[I]=z,q(),b=4,F=z;continue}if(v.type===3){var ie={};f&&(ie.$vscodeTextmateLocation=v.toLocation(l)),F[I]=ie,q(),b=1,F=ie;continue}}B("unexpected token in dict")}if(b===5){if(v.type===4){N();continue}if(v.type===7){b=6;continue}B("expected , or ]")}if(b===4||b===6){if(b===4&&v.type===4){N();continue}if(b=5,v.type===1){F.push(v.value);continue}if(v.type===8){F.push(null);continue}if(v.type===9){F.push(!0);continue}if(v.type===10){F.push(!1);continue}if(v.type===11){F.push(parseFloat(v.value));continue}if(v.type===2){z=[],F.push(z),q(),b=4,F=z;continue}if(v.type===3){ie={},f&&(ie.$vscodeTextmateLocation=v.toLocation(l)),F.push(ie),q(),b=1,F=ie;continue}B("unexpected token in array")}B("unknown state")}return M.length!==0&&B("unclosed constructs"),F};var i=function(a){this.source=a,this.pos=0,this.len=a.length,this.line=1,this.char=0},s=function(){function a(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return a.prototype.toLocation=function(l){return{filename:l,line:this.line,char:this.char}},a}();function o(a,l){l.value=null,l.type=0,l.offset=-1,l.len=-1,l.line=-1,l.char=-1;for(var f,p=a.source,v=a.pos,b=a.len,F=a.line,D=a.char;;){if(v>=b)return!1;if((f=p.charCodeAt(v))!==32&&f!==9&&f!==13){if(f!==10)break;v++,F++,D=0}else v++,D++}if(l.offset=v,l.line=F,l.char=D,f===34){for(l.type=1,v++,D++;;){if(v>=b)return!1;if(f=p.charCodeAt(v),v++,D++,f!==92){if(f===34)break}else v++,D++}l.value=p.substring(l.offset+1,v-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(M,q){return String.fromCodePoint(parseInt(q,16))}).replace(/\\(.)/g,function(M,q){switch(q){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:r(a,"invalid escape sequence")}throw new Error("unreachable")})}else if(f===91)l.type=2,v++,D++;else if(f===123)l.type=3,v++,D++;else if(f===93)l.type=4,v++,D++;else if(f===125)l.type=5,v++,D++;else if(f===58)l.type=6,v++,D++;else if(f===44)l.type=7,v++,D++;else if(f===110){if(l.type=8,v++,D++,(f=p.charCodeAt(v))!==117||(v++,D++,(f=p.charCodeAt(v))!==108)||(v++,D++,(f=p.charCodeAt(v))!==108))return!1;v++,D++}else if(f===116){if(l.type=9,v++,D++,(f=p.charCodeAt(v))!==114||(v++,D++,(f=p.charCodeAt(v))!==117)||(v++,D++,(f=p.charCodeAt(v))!==101))return!1;v++,D++}else if(f===102){if(l.type=10,v++,D++,(f=p.charCodeAt(v))!==97||(v++,D++,(f=p.charCodeAt(v))!==108)||(v++,D++,(f=p.charCodeAt(v))!==115)||(v++,D++,(f=p.charCodeAt(v))!==101))return!1;v++,D++}else for(l.type=11;;){if(v>=b)return!1;if(!((f=p.charCodeAt(v))===46||f>=48&&f<=57||f===101||f===69||f===45||f===43))break;v++,D++}return l.len=v-l.offset,l.value===null&&(l.value=p.substr(l.offset,l.len)),a.pos=v,a.line=F,a.char=D,!0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(F,D,M,q,N,B){this.scope=F,this.parentScopes=D,this.index=M,this.fontStyle=q,this.foreground=N,this.background=B};function i(F){return!!/^#[0-9a-f]{6}$/i.test(F)||!!/^#[0-9a-f]{8}$/i.test(F)||!!/^#[0-9a-f]{3}$/i.test(F)||!!/^#[0-9a-f]{4}$/i.test(F)}function s(F){if(!F)return[];if(!F.settings||!Array.isArray(F.settings))return[];for(var D=F.settings,M=[],q=0,N=0,B=D.length;N<B;N++){var I=D[N];if(I.settings){var z=void 0;typeof I.scope=="string"?z=I.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):z=Array.isArray(I.scope)?I.scope:[""];var ie=-1;if(typeof I.settings.fontStyle=="string"){ie=0;for(var L=0,Y=(Be=I.settings.fontStyle.split(" ")).length;L<Y;L++)switch(Be[L]){case"italic":ie|=1;break;case"bold":ie|=2;break;case"underline":ie|=4}}var fe=null;typeof I.settings.foreground=="string"&&i(I.settings.foreground)&&(fe=I.settings.foreground);var me=null;for(typeof I.settings.background=="string"&&i(I.settings.background)&&(me=I.settings.background),L=0,Y=z.length;L<Y;L++){var Be,tt=(Be=z[L].trim().split(" "))[Be.length-1],st=null;Be.length>1&&(st=Be.slice(0,Be.length-1)).reverse(),M[q++]=new r(tt,st,N,ie,fe,me)}}}return M}function o(F,D){F.sort(function(me,Be){var tt=f(me.scope,Be.scope);return tt!==0||(tt=p(me.parentScopes,Be.parentScopes))!==0?tt:me.index-Be.index});for(var M=0,q="#000000",N="#ffffff";F.length>=1&&F[0].scope==="";){var B=F.shift();B.fontStyle!==-1&&(M=B.fontStyle),B.foreground!==null&&(q=B.foreground),B.background!==null&&(N=B.background)}for(var I=new a(D),z=new v(0,null,M,I.getId(q),I.getId(N)),ie=new b(new v(0,null,-1,0,0),[]),L=0,Y=F.length;L<Y;L++){var fe=F[L];ie.insert(0,fe.scope,fe.parentScopes,fe.fontStyle,I.getId(fe.foreground),I.getId(fe.background))}return new l(I,z,ie)}e.ParsedThemeRule=r,e.parseTheme=s;var a=function(){function F(D){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(D)){this._isFrozen=!0;for(var M=0,q=D.length;M<q;M++)this._color2id[D[M]]=M,this._id2color[M]=D[M]}else this._isFrozen=!1}return F.prototype.getId=function(D){if(D===null)return 0;D=D.toUpperCase();var M=this._color2id[D];if(M)return M;if(this._isFrozen)throw new Error("Missing color in color map - "+D);return M=++this._lastColorId,this._color2id[D]=M,this._id2color[M]=D,M},F.prototype.getColorMap=function(){return this._id2color.slice(0)},F}();e.ColorMap=a;var l=function(){function F(D,M,q){this._colorMap=D,this._root=q,this._defaults=M,this._cache={}}return F.createFromRawTheme=function(D,M){return this.createFromParsedTheme(s(D),M)},F.createFromParsedTheme=function(D,M){return o(D,M)},F.prototype.getColorMap=function(){return this._colorMap.getColorMap()},F.prototype.getDefaults=function(){return this._defaults},F.prototype.match=function(D){return this._cache.hasOwnProperty(D)||(this._cache[D]=this._root.match(D)),this._cache[D]},F}();function f(F,D){return F<D?-1:F>D?1:0}function p(F,D){if(F===null&&D===null)return 0;if(!F)return-1;if(!D)return 1;var M=F.length,q=D.length;if(M===q){for(var N=0;N<M;N++){var B=f(F[N],D[N]);if(B!==0)return B}return 0}return M-q}e.Theme=l,e.strcmp=f,e.strArrCmp=p;var v=function(){function F(D,M,q,N,B){this.scopeDepth=D,this.parentScopes=M,this.fontStyle=q,this.foreground=N,this.background=B}return F.prototype.clone=function(){return new F(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},F.cloneArr=function(D){for(var M=[],q=0,N=D.length;q<N;q++)M[q]=D[q].clone();return M},F.prototype.acceptOverwrite=function(D,M,q,N){this.scopeDepth>D?console.log("how did this happen?"):this.scopeDepth=D,M!==-1&&(this.fontStyle=M),q!==0&&(this.foreground=q),N!==0&&(this.background=N)},F}();e.ThemeTrieElementRule=v;var b=function(){function F(D,M,q){M===void 0&&(M=[]),q===void 0&&(q={}),this._mainRule=D,this._rulesWithParentScopes=M,this._children=q}return F._sortBySpecificity=function(D){return D.length===1||D.sort(this._cmpBySpecificity),D},F._cmpBySpecificity=function(D,M){if(D.scopeDepth===M.scopeDepth){var q=D.parentScopes,N=M.parentScopes,B=q===null?0:q.length,I=N===null?0:N.length;if(B===I)for(var z=0;z<B;z++){var ie=q[z].length,L=N[z].length;if(ie!==L)return L-ie}return I-B}return M.scopeDepth-D.scopeDepth},F.prototype.match=function(D){if(D==="")return F._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var M,q,N=D.indexOf(".");return N===-1?(M=D,q=""):(M=D.substring(0,N),q=D.substring(N+1)),this._children.hasOwnProperty(M)?this._children[M].match(q):F._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},F.prototype.insert=function(D,M,q,N,B,I){if(M!==""){var z,ie,L,Y=M.indexOf(".");Y===-1?(z=M,ie=""):(z=M.substring(0,Y),ie=M.substring(Y+1)),this._children.hasOwnProperty(z)?L=this._children[z]:(L=new F(this._mainRule.clone(),v.cloneArr(this._rulesWithParentScopes)),this._children[z]=L),L.insert(D+1,ie,q,N,B,I)}else this._doInsertHere(D,q,N,B,I)},F.prototype._doInsertHere=function(D,M,q,N,B){if(M!==null){for(var I=0,z=this._rulesWithParentScopes.length;I<z;I++){var ie=this._rulesWithParentScopes[I];if(p(ie.parentScopes,M)===0)return void ie.acceptOverwrite(D,q,N,B)}q===-1&&(q=this._mainRule.fontStyle),N===0&&(N=this._mainRule.foreground),B===0&&(B=this._mainRule.background),this._rulesWithParentScopes.push(new v(D,M,q,N,B))}else this._mainRule.acceptOverwrite(D,q,N,B)},F}();e.ThemeTrieElement=b}])})});var die=G(()=>{d()});var hie=G(()=>{d()});var Pi=G((ktn,Qq)=>{d();var GAe,YAe,KAe,JAe,XAe,ZAe,eTe,tTe,nTe,Vq,Sie,rTe,iTe,sTe,CS,oTe,aTe,uTe,lTe,cTe,fTe,dTe,hTe,pTe,Wq;(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){n(t(e,t(r)))}):typeof Qq=="object"&&typeof Qq.exports=="object"?n(t(e,t(Qq.exports))):n(t(e));function t(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}})(function(n){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])};GAe=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},YAe=Object.assign||function(r){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},KAe=function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s},JAe=function(r,i,s,o){var a=arguments.length,l=a<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,s):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,i,s,o);else for(var p=r.length-1;p>=0;p--)(f=r[p])&&(l=(a<3?f(l):a>3?f(i,s,l):f(i,s))||l);return a>3&&l&&Object.defineProperty(i,s,l),l},XAe=function(r,i){return function(s,o){i(s,o,r)}},ZAe=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},eTe=function(r,i,s,o){function a(l){return l instanceof s?l:new s(function(f){f(l)})}return new(s||(s=Promise))(function(l,f){function p(F){try{b(o.next(F))}catch(D){f(D)}}function v(F){try{b(o.throw(F))}catch(D){f(D)}}function b(F){F.done?l(F.value):a(F.value).then(p,v)}b((o=o.apply(r,i||[])).next())})},tTe=function(r,i){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(b){return function(F){return v([b,F])}}function v(b){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(l=b[0]&2?a.return:b[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,b[1])).done)return l;switch(a=0,l&&(b=[b[0]&2,l.value]),b[0]){case 0:case 1:l=b;break;case 4:return s.label++,{value:b[1],done:!1};case 5:s.label++,a=b[1],b=[0];continue;case 7:b=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(b[0]===6||b[0]===2)){s=0;continue}if(b[0]===3&&(!l||b[1]>l[0]&&b[1]<l[3])){s.label=b[1];break}if(b[0]===6&&s.label<l[1]){s.label=l[1],l=b;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(b);break}l[2]&&s.ops.pop(),s.trys.pop();continue}b=i.call(r,s)}catch(F){b=[6,F],a=0}finally{o=l=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},nTe=function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&Wq(i,r,s)},Wq=Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]},Vq=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Sie=function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),a,l=[],f;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(p){f={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(f)throw f.error}}return l},rTe=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(Sie(arguments[i]));return r},iTe=function(){for(var r=0,i=0,s=arguments.length;i<s;i++)r+=arguments[i].length;for(var o=Array(r),a=0,i=0;i<s;i++)for(var l=arguments[i],f=0,p=l.length;f<p;f++,a++)o[a]=l[f];return o},sTe=function(r,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,l;o<a;o++)(l||!(o in i))&&(l||(l=Array.prototype.slice.call(i,0,o)),l[o]=i[o]);return r.concat(l||Array.prototype.slice.call(i))},CS=function(r){return this instanceof CS?(this.v=r,this):new CS(r)},oTe=function(r,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,i||[]),a,l=[];return a={},f("next"),f("throw"),f("return"),a[Symbol.asyncIterator]=function(){return this},a;function f(M){o[M]&&(a[M]=function(q){return new Promise(function(N,B){l.push([M,q,N,B])>1||p(M,q)})})}function p(M,q){try{v(o[M](q))}catch(N){D(l[0][3],N)}}function v(M){M.value instanceof CS?Promise.resolve(M.value.v).then(b,F):D(l[0][2],M)}function b(M){p("next",M)}function F(M){p("throw",M)}function D(M,q){M(q),l.shift(),l.length&&p(l[0][0],l[0][1])}},aTe=function(r){var i,s;return i={},o("next"),o("throw",function(a){throw a}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(a,l){i[a]=r[a]?function(f){return(s=!s)?{value:CS(r[a](f)),done:a==="return"}:l?l(f):f}:l}},uTe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],s;return i?i.call(r):(r=typeof Vq=="function"?Vq(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(l){s[l]=r[l]&&function(f){return new Promise(function(p,v){f=r[l](f),a(p,v,f.done,f.value)})}}function a(l,f,p,v){Promise.resolve(v).then(function(b){l({value:b,done:p})},f)}},lTe=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var t=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};cTe=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&Wq(i,r,s);return t(i,r),i},fTe=function(r){return r&&r.__esModule?r:{default:r}},dTe=function(r,i,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!o:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(r):o?o.value:i.get(r)},hTe=function(r,i,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,s):a?a.value=s:i.set(r,s),s},pTe=function(r,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?i===r:r.has(i)},n("__extends",GAe),n("__assign",YAe),n("__rest",KAe),n("__decorate",JAe),n("__param",XAe),n("__metadata",ZAe),n("__awaiter",eTe),n("__generator",tTe),n("__exportStar",nTe),n("__createBinding",Wq),n("__values",Vq),n("__read",Sie),n("__spread",rTe),n("__spreadArrays",iTe),n("__spreadArray",sTe),n("__await",CS),n("__asyncGenerator",oTe),n("__asyncDelegator",aTe),n("__asyncValues",uTe),n("__makeTemplateObject",lTe),n("__importStar",cTe),n("__importDefault",fTe),n("__classPrivateFieldGet",dTe),n("__classPrivateFieldSet",hTe),n("__classPrivateFieldIn",pTe)})});var L_=G(wS=>{"use strict";d();Object.defineProperty(wS,"__esModule",{value:!0});wS.encodeUtf8=wS.decodeUtf8=void 0;var oEt=new TextDecoder("utf-8"),aEt=n=>oEt.decode(n);wS.decodeUtf8=aEt;var uEt=new TextEncoder,lEt=n=>uEt.encode(n);wS.encodeUtf8=lEt});var Lm=G(yi=>{"use strict";d();Object.defineProperty(yi,"__esModule",{value:!0});yi.isFlatbuffersByteBuffer=yi.isReadableNodeStream=yi.isWritableNodeStream=yi.isReadableDOMStream=yi.isWritableDOMStream=yi.isFetchResponse=yi.isFSReadStream=yi.isFileHandle=yi.isUnderlyingSink=yi.isIteratorResult=yi.isArrayLike=yi.isArrowJSON=yi.isAsyncIterable=yi.isIterable=yi.isObservable=yi.isPromise=yi.isObject=yi.BigUint64ArrayAvailable=yi.BigUint64Array=yi.BigInt64ArrayAvailable=yi.BigInt64Array=yi.BigIntAvailable=yi.BigInt=void 0;var[cEt,fEt]=(()=>{let n=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw n()}return e.asIntN=()=>{throw n()},e.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();yi.BigInt=cEt;yi.BigIntAvailable=fEt;var[dEt,hEt]=(()=>{let n=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();yi.BigInt64Array=dEt;yi.BigInt64ArrayAvailable=hEt;var[pEt,mEt]=(()=>{let n=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();yi.BigUint64Array=pEt;yi.BigUint64ArrayAvailable=mEt;var Cie=n=>typeof n=="number",mTe=n=>typeof n=="boolean",Ya=n=>typeof n=="function",xEt=n=>n!=null&&Object(n)===n;yi.isObject=xEt;var gEt=n=>(0,yi.isObject)(n)&&Ya(n.then);yi.isPromise=gEt;var yEt=n=>(0,yi.isObject)(n)&&Ya(n.subscribe);yi.isObservable=yEt;var vEt=n=>(0,yi.isObject)(n)&&Ya(n[Symbol.iterator]);yi.isIterable=vEt;var _Et=n=>(0,yi.isObject)(n)&&Ya(n[Symbol.asyncIterator]);yi.isAsyncIterable=_Et;var bEt=n=>(0,yi.isObject)(n)&&(0,yi.isObject)(n.schema);yi.isArrowJSON=bEt;var EEt=n=>(0,yi.isObject)(n)&&Cie(n.length);yi.isArrayLike=EEt;var SEt=n=>(0,yi.isObject)(n)&&"done"in n&&"value"in n;yi.isIteratorResult=SEt;var CEt=n=>(0,yi.isObject)(n)&&Ya(n.abort)&&Ya(n.close)&&Ya(n.start)&&Ya(n.write);yi.isUnderlyingSink=CEt;var wEt=n=>(0,yi.isObject)(n)&&Ya(n.stat)&&Cie(n.fd);yi.isFileHandle=wEt;var AEt=n=>(0,yi.isReadableNodeStream)(n)&&Cie(n.bytesRead);yi.isFSReadStream=AEt;var TEt=n=>(0,yi.isObject)(n)&&(0,yi.isReadableDOMStream)(n.body);yi.isFetchResponse=TEt;var Gq=n=>"_getDOMStream"in n&&"_getNodeStream"in n,FEt=n=>(0,yi.isObject)(n)&&Ya(n.abort)&&Ya(n.getWriter)&&!Gq(n);yi.isWritableDOMStream=FEt;var DEt=n=>(0,yi.isObject)(n)&&Ya(n.cancel)&&Ya(n.getReader)&&!Gq(n);yi.isReadableDOMStream=DEt;var OEt=n=>(0,yi.isObject)(n)&&Ya(n.end)&&Ya(n.write)&&mTe(n.writable)&&!Gq(n);yi.isWritableNodeStream=OEt;var NEt=n=>(0,yi.isObject)(n)&&Ya(n.read)&&Ya(n.pipe)&&mTe(n.readable)&&!Gq(n);yi.isReadableNodeStream=NEt;var REt=n=>(0,yi.isObject)(n)&&Ya(n.clear)&&Ya(n.bytes)&&Ya(n.position)&&Ya(n.setPosition)&&Ya(n.capacity)&&Ya(n.getBufferIdentifier)&&Ya(n.createLong);yi.isFlatbuffersByteBuffer=REt});var Mc=G(ai=>{"use strict";d();Object.defineProperty(ai,"__esModule",{value:!0});ai.compareArrayLike=ai.rebaseValueOffsets=ai.toUint8ClampedArrayAsyncIterator=ai.toFloat64ArrayAsyncIterator=ai.toFloat32ArrayAsyncIterator=ai.toUint32ArrayAsyncIterator=ai.toUint16ArrayAsyncIterator=ai.toUint8ArrayAsyncIterator=ai.toInt32ArrayAsyncIterator=ai.toInt16ArrayAsyncIterator=ai.toInt8ArrayAsyncIterator=ai.toArrayBufferViewAsyncIterator=ai.toUint8ClampedArrayIterator=ai.toFloat64ArrayIterator=ai.toFloat32ArrayIterator=ai.toUint32ArrayIterator=ai.toUint16ArrayIterator=ai.toUint8ArrayIterator=ai.toInt32ArrayIterator=ai.toInt16ArrayIterator=ai.toInt8ArrayIterator=ai.toArrayBufferViewIterator=ai.toUint8ClampedArray=ai.toFloat64Array=ai.toFloat32Array=ai.toBigUint64Array=ai.toUint32Array=ai.toUint16Array=ai.toUint8Array=ai.toBigInt64Array=ai.toInt32Array=ai.toInt16Array=ai.toInt8Array=ai.toArrayBufferView=ai.joinUint8Arrays=ai.memcpy=void 0;var hl=Pi(),LEt=L_(),F5=Lm(),wie=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function kEt(n){let e=n[0]?[n[0]]:[],t,r,i,s;for(let o,a,l=0,f=0,p=n.length;++l<p;){if(o=e[f],a=n[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++f]=a);continue}if({byteOffset:t,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,t+i<r||r+s<t){a&&(e[++f]=a);continue}e[f]=new Uint8Array(o.buffer,t,r-t+s)}return e}function Aie(n,e,t=0,r=e.byteLength){let i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,t),n}ai.memcpy=Aie;function IEt(n,e){let t=kEt(n),r=t.reduce((p,v)=>p+v.byteLength,0),i,s,o,a=0,l=-1,f=Math.min(e||Number.POSITIVE_INFINITY,r);for(let p=t.length;++l<p;){if(i=t[l],s=i.subarray(0,Math.min(i.length,f-a)),f<=a+s.length){s.length<i.length?t[l]=i.subarray(s.length):s.length===i.length&&l++,o?Aie(o,s,a):o=s;break}Aie(o||(o=new Uint8Array(f)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(l),r-(o?o.byteLength:0)]}ai.joinUint8Arrays=IEt;function Gf(n,e){let t=(0,F5.isIteratorResult)(e)?e.value:e;return t instanceof n?n===Uint8Array?new n(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=(0,LEt.encodeUtf8)(t)),t instanceof ArrayBuffer?new n(t):t instanceof wie?new n(t):(0,F5.isFlatbuffersByteBuffer)(t)?Gf(n,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new n(0):new n(t.buffer,t.byteOffset,t.byteLength/n.BYTES_PER_ELEMENT):n.from(t)):new n(0)}ai.toArrayBufferView=Gf;var MEt=n=>Gf(Int8Array,n);ai.toInt8Array=MEt;var PEt=n=>Gf(Int16Array,n);ai.toInt16Array=PEt;var BEt=n=>Gf(Int32Array,n);ai.toInt32Array=BEt;var jEt=n=>Gf(F5.BigInt64Array,n);ai.toBigInt64Array=jEt;var qEt=n=>Gf(Uint8Array,n);ai.toUint8Array=qEt;var UEt=n=>Gf(Uint16Array,n);ai.toUint16Array=UEt;var $Et=n=>Gf(Uint32Array,n);ai.toUint32Array=$Et;var zEt=n=>Gf(F5.BigUint64Array,n);ai.toBigUint64Array=zEt;var HEt=n=>Gf(Float32Array,n);ai.toFloat32Array=HEt;var VEt=n=>Gf(Float64Array,n);ai.toFloat64Array=VEt;var WEt=n=>Gf(Uint8ClampedArray,n);ai.toUint8ClampedArray=WEt;var Tie=n=>(n.next(),n);function*km(n,e){let t=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof wie?t(e):(0,F5.isIterable)(e)?e:t(e);return yield*Tie(function*(i){let s=null;do s=i.next(yield Gf(n,s));while(!s.done)}(r[Symbol.iterator]())),new n}ai.toArrayBufferViewIterator=km;var QEt=n=>km(Int8Array,n);ai.toInt8ArrayIterator=QEt;var GEt=n=>km(Int16Array,n);ai.toInt16ArrayIterator=GEt;var YEt=n=>km(Int32Array,n);ai.toInt32ArrayIterator=YEt;var KEt=n=>km(Uint8Array,n);ai.toUint8ArrayIterator=KEt;var JEt=n=>km(Uint16Array,n);ai.toUint16ArrayIterator=JEt;var XEt=n=>km(Uint32Array,n);ai.toUint32ArrayIterator=XEt;var ZEt=n=>km(Float32Array,n);ai.toFloat32ArrayIterator=ZEt;var e8t=n=>km(Float64Array,n);ai.toFloat64ArrayIterator=e8t;var t8t=n=>km(Uint8ClampedArray,n);ai.toUint8ClampedArrayIterator=t8t;function Hp(n,e){return hl.__asyncGenerator(this,arguments,function*(){if((0,F5.isPromise)(e))return yield hl.__await(yield hl.__await(yield*hl.__asyncDelegator(hl.__asyncValues(Hp(n,yield hl.__await(e))))));let r=function(o){return hl.__asyncGenerator(this,arguments,function*(){yield yield hl.__await(yield hl.__await(o))})},i=function(o){return hl.__asyncGenerator(this,arguments,function*(){yield hl.__await(yield*hl.__asyncDelegator(hl.__asyncValues(Tie(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof wie?r(e):(0,F5.isIterable)(e)?i(e):(0,F5.isAsyncIterable)(e)?e:r(e);return yield hl.__await(yield*hl.__asyncDelegator(hl.__asyncValues(Tie(function(o){return hl.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield hl.__await(o.next(yield yield hl.__await(Gf(n,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield hl.__await(new n)})}ai.toArrayBufferViewAsyncIterator=Hp;var n8t=n=>Hp(Int8Array,n);ai.toInt8ArrayAsyncIterator=n8t;var r8t=n=>Hp(Int16Array,n);ai.toInt16ArrayAsyncIterator=r8t;var i8t=n=>Hp(Int32Array,n);ai.toInt32ArrayAsyncIterator=i8t;var s8t=n=>Hp(Uint8Array,n);ai.toUint8ArrayAsyncIterator=s8t;var o8t=n=>Hp(Uint16Array,n);ai.toUint16ArrayAsyncIterator=o8t;var a8t=n=>Hp(Uint32Array,n);ai.toUint32ArrayAsyncIterator=a8t;var u8t=n=>Hp(Float32Array,n);ai.toFloat32ArrayAsyncIterator=u8t;var l8t=n=>Hp(Float64Array,n);ai.toFloat64ArrayAsyncIterator=l8t;var c8t=n=>Hp(Uint8ClampedArray,n);ai.toUint8ClampedArrayAsyncIterator=c8t;function f8t(n,e,t){if(n!==0){t=t.slice(0,e+1);for(let r=-1;++r<=e;)t[r]+=n}return t}ai.rebaseValueOffsets=f8t;function d8t(n,e){let t=0,r=n.length;if(r!==e.length)return!1;if(r>0)do if(n[t]!==e[t])return!1;while(++t<r);return!0}ai.compareArrayLike=d8t});var HF=G(Die=>{"use strict";d();Object.defineProperty(Die,"__esModule",{value:!0});var Sa=Pi(),Yf=Mc();Die.default={fromIterable(n){return Yq(h8t(n))},fromAsyncIterable(n){return Yq(p8t(n))},fromDOMStream(n){return Yq(m8t(n))},fromNodeStream(n){return Yq(x8t(n))},toDOMStream(n,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,e){throw new Error('"toNodeStream" not available in this environment')}};var Yq=n=>(n.next(),n);function*h8t(n){let e,t=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?(0,Yf.joinUint8Arrays)(r,o)[0]:([i,r,a]=(0,Yf.joinUint8Arrays)(r,o),i)}({cmd:s,size:o}=yield null);let f=(0,Yf.toUint8ArrayIterator)(n)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?f.next():f.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(p){(t=!0)&&typeof f.throw=="function"&&f.throw(p)}finally{t===!1&&typeof f.return=="function"&&f.return(null)}return null}function p8t(n){return Sa.__asyncGenerator(this,arguments,function*(){let t,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,Yf.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,Yf.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield Sa.__await(null));let p=(0,Yf.toUint8ArrayAsyncIterator)(n)[Symbol.asyncIterator]();try{do if({done:t,value:s}=Number.isNaN(a-l)?yield Sa.__await(p.next()):yield Sa.__await(p.next(a-l)),!t&&s.byteLength>0&&(i.push(s),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield Sa.__await(f()));while(a<l);while(!t)}catch(v){(r=!0)&&typeof p.throw=="function"&&(yield Sa.__await(p.throw(v)))}finally{r===!1&&typeof p.return=="function"&&(yield Sa.__await(p.return(new Uint8Array(0))))}return yield Sa.__await(null)})}function m8t(n){return Sa.__asyncGenerator(this,arguments,function*(){let t=!1,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,Yf.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,Yf.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield Sa.__await(null));let p=new xTe(n);try{do if({done:t,value:s}=Number.isNaN(a-l)?yield Sa.__await(p.read()):yield Sa.__await(p.read(a-l)),!t&&s.byteLength>0&&(i.push((0,Yf.toUint8Array)(s)),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield Sa.__await(f()));while(a<l);while(!t)}catch(v){(r=!0)&&(yield Sa.__await(p.cancel(v)))}finally{r===!1?yield Sa.__await(p.cancel()):n.locked&&p.releaseLock()}return yield Sa.__await(null)})}var xTe=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return Sa.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return Sa.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=yield this.reader.read();return!t.done&&(t.value=(0,Yf.toUint8Array)(t)),t})}},Fie=(n,e)=>{let t=i=>r([e,i]),r;return[e,t,new Promise(i=>(r=i)&&n.once(e,t))]};function x8t(n){return Sa.__asyncGenerator(this,arguments,function*(){let t=[],r="error",i=!1,s=null,o,a,l=0,f=[],p;function v(){return o==="peek"?(0,Yf.joinUint8Arrays)(f,a)[0]:([p,f,l]=(0,Yf.joinUint8Arrays)(f,a),p)}if({cmd:o,size:a}=yield yield Sa.__await(null),n.isTTY)return yield yield Sa.__await(new Uint8Array(0)),yield Sa.__await(null);try{t[0]=Fie(n,"end"),t[1]=Fie(n,"error");do{if(t[2]=Fie(n,"readable"),[r,s]=yield Sa.__await(Promise.race(t.map(F=>F[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(p=(0,Yf.toUint8Array)(n.read(a-l)),p.byteLength<a-l&&(p=(0,Yf.toUint8Array)(n.read()))):p=(0,Yf.toUint8Array)(n.read()),p.byteLength>0&&(f.push(p),l+=p.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Sa.__await(v()));while(a<l)}while(!i)}finally{yield Sa.__await(b(t,r==="error"?s:null))}return yield Sa.__await(null);function b(F,D){return p=f=null,new Promise((M,q)=>{for(let[N,B]of F)n.off(N,B);try{let N=n.destroy;N&&N.call(n,D),D=void 0}catch(N){D=N||D}finally{D!=null?q(D):M()}})}})}});var Au=G($o=>{"use strict";d();Object.defineProperty($o,"__esModule",{value:!0});$o.BufferType=$o.Type=$o.MessageHeader=$o.IntervalUnit=$o.TimeUnit=$o.DateUnit=$o.Precision=$o.UnionMode=$o.MetadataVersion=void 0;var g8t;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(g8t=$o.MetadataVersion||($o.MetadataVersion={}));var y8t;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(y8t=$o.UnionMode||($o.UnionMode={}));var v8t;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(v8t=$o.Precision||($o.Precision={}));var _8t;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(_8t=$o.DateUnit||($o.DateUnit={}));var b8t;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(b8t=$o.TimeUnit||($o.TimeUnit={}));var E8t;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(E8t=$o.IntervalUnit||($o.IntervalUnit={}));var S8t;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(S8t=$o.MessageHeader||($o.MessageHeader={}));var C8t;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(C8t=$o.Type||($o.Type={}));var w8t;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(w8t=$o.BufferType||($o.BufferType={}))});var Jq=G(Kq=>{"use strict";d();Object.defineProperty(Kq,"__esModule",{value:!0});Kq.valueToString=void 0;var A8t=void 0;function gTe(n){if(n===null)return"null";if(n===A8t)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(e=>gTe(e))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(e,t)=>typeof t=="bigint"?`${t}`:t)}Kq.valueToString=gTe});var Zq=G(kl=>{"use strict";d();Object.defineProperty(kl,"__esModule",{value:!0});kl.BN=kl.bignumToBigInt=kl.bignumToString=kl.isArrowBigNumSymbol=void 0;var T8t=Mc(),AS=Lm();kl.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function Vp(n,...e){return e.length===0?Object.setPrototypeOf((0,T8t.toArrayBufferView)(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...e),this.constructor.prototype)}Vp.prototype[kl.isArrowBigNumSymbol]=!0;Vp.prototype.toJSON=function(){return`"${(0,kl.bignumToString)(this)}"`};Vp.prototype.valueOf=function(){return yTe(this)};Vp.prototype.toString=function(){return(0,kl.bignumToString)(this)};Vp.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return yTe(this);case"string":return(0,kl.bignumToString)(this);case"default":return(0,kl.bignumToBigInt)(this)}return(0,kl.bignumToString)(this)};function TS(...n){return Vp.apply(this,n)}function FS(...n){return Vp.apply(this,n)}function VF(...n){return Vp.apply(this,n)}Object.setPrototypeOf(TS.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(FS.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(VF.prototype,Object.create(Uint32Array.prototype));Object.assign(TS.prototype,Vp.prototype,{constructor:TS,signed:!0,TypedArray:Int32Array,BigIntArray:AS.BigInt64Array});Object.assign(FS.prototype,Vp.prototype,{constructor:FS,signed:!1,TypedArray:Uint32Array,BigIntArray:AS.BigUint64Array});Object.assign(VF.prototype,Vp.prototype,{constructor:VF,signed:!0,TypedArray:Uint32Array,BigIntArray:AS.BigUint64Array});function yTe(n){let{buffer:e,byteOffset:t,length:r,signed:i}=n,s=new AS.BigUint64Array(e,t,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63),a=BigInt(o?1:0),l=BigInt(0);if(o){for(let f of s)a+=~f*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(let f of s)a+=f*(BigInt(1)<<BigInt(32)*l++);return a}AS.BigIntAvailable?(kl.bignumToBigInt=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:Oie(n),kl.bignumToString=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:Oie(n)):(kl.bignumToString=Oie,kl.bignumToBigInt=kl.bignumToString);function Oie(n){let e="",t=new Uint32Array(2),r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(t[0]=r[s=0];s<o;)r[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+r[s];r[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var Xq=class{static new(e,t){switch(t){case!0:return new TS(e);case!1:return new FS(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case AS.BigInt64Array:return new TS(e)}return e.byteLength===16?new VF(e):new FS(e)}static signed(e){return new TS(e)}static unsigned(e){return new FS(e)}static decimal(e){return new VF(e)}constructor(e,t){return Xq.new(e,t)}};kl.BN=Xq});var Ca=G(Br=>{"use strict";d();var vTe,_Te,bTe,ETe,STe,CTe,wTe,ATe,TTe,FTe,DTe,OTe,NTe,RTe,LTe,kTe,ITe,MTe,PTe;Object.defineProperty(Br,"__esModule",{value:!0});Br.strideForType=Br.Dictionary=Br.Map_=Br.FixedSizeList=Br.FixedSizeBinary=Br.SparseUnion=Br.DenseUnion=Br.Union=Br.Struct=Br.List=Br.IntervalYearMonth=Br.IntervalDayTime=Br.Interval=Br.TimestampNanosecond=Br.TimestampMicrosecond=Br.TimestampMillisecond=Br.TimestampSecond=Br.Timestamp=Br.TimeNanosecond=Br.TimeMicrosecond=Br.TimeMillisecond=Br.TimeSecond=Br.Time=Br.DateMillisecond=Br.DateDay=Br.Date_=Br.Decimal=Br.Bool=Br.Utf8=Br.Binary=Br.Float64=Br.Float32=Br.Float16=Br.Float=Br.Uint64=Br.Uint32=Br.Uint16=Br.Uint8=Br.Int64=Br.Int32=Br.Int16=Br.Int8=Br.Int=Br.Null=Br.DataType=void 0;var di=Au(),Ra=class{static isNull(e){return(e==null?void 0:e.typeId)===di.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===di.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===di.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===di.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===di.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===di.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===di.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===di.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===di.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===di.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===di.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===di.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===di.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===di.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===di.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===di.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===di.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===di.Type.Dictionary}static isDenseUnion(e){return Ra.isUnion(e)&&e.mode===di.UnionMode.Dense}static isSparseUnion(e){return Ra.isUnion(e)&&e.mode===di.UnionMode.Sparse}get typeId(){return di.Type.NONE}};Br.DataType=Ra;vTe=Symbol.toStringTag;Ra[vTe]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(Ra.prototype);var eU=class extends Ra{toString(){return"Null"}get typeId(){return di.Type.Null}};Br.Null=eU;_Te=Symbol.toStringTag;eU[_Te]=(n=>n[Symbol.toStringTag]="Null")(eU.prototype);var wh=class extends Ra{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return di.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};Br.Int=wh;bTe=Symbol.toStringTag;wh[bTe]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(wh.prototype);var Nie=class extends wh{constructor(){super(!0,8)}get ArrayType(){return Int8Array}};Br.Int8=Nie;var Rie=class extends wh{constructor(){super(!0,16)}get ArrayType(){return Int16Array}};Br.Int16=Rie;var Lie=class extends wh{constructor(){super(!0,32)}get ArrayType(){return Int32Array}};Br.Int32=Lie;var kie=class extends wh{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};Br.Int64=kie;var Iie=class extends wh{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}};Br.Uint8=Iie;var Mie=class extends wh{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}};Br.Uint16=Mie;var Pie=class extends wh{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}};Br.Uint32=Pie;var Bie=class extends wh{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};Br.Uint64=Bie;Object.defineProperty(Nie.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Rie.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Lie.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(kie.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Iie.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Mie.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Pie.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Bie.prototype,"ArrayType",{value:BigUint64Array});var k_=class extends Ra{constructor(e){super();this.precision=e}get typeId(){return di.Type.Float}get ArrayType(){switch(this.precision){case di.Precision.HALF:return Uint16Array;case di.Precision.SINGLE:return Float32Array;case di.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};Br.Float=k_;ETe=Symbol.toStringTag;k_[ETe]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(k_.prototype);var jie=class extends k_{constructor(){super(di.Precision.HALF)}};Br.Float16=jie;var qie=class extends k_{constructor(){super(di.Precision.SINGLE)}};Br.Float32=qie;var Uie=class extends k_{constructor(){super(di.Precision.DOUBLE)}};Br.Float64=Uie;Object.defineProperty(jie.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(qie.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Uie.prototype,"ArrayType",{value:Float64Array});var tU=class extends Ra{constructor(){super()}get typeId(){return di.Type.Binary}toString(){return"Binary"}};Br.Binary=tU;STe=Symbol.toStringTag;tU[STe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(tU.prototype);var nU=class extends Ra{constructor(){super()}get typeId(){return di.Type.Utf8}toString(){return"Utf8"}};Br.Utf8=nU;CTe=Symbol.toStringTag;nU[CTe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(nU.prototype);var rU=class extends Ra{constructor(){super()}get typeId(){return di.Type.Bool}toString(){return"Bool"}};Br.Bool=rU;wTe=Symbol.toStringTag;rU[wTe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(rU.prototype);var iU=class extends Ra{constructor(e,t,r=128){super();this.scale=e,this.precision=t,this.bitWidth=r}get typeId(){return di.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Br.Decimal=iU;ATe=Symbol.toStringTag;iU[ATe]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(iU.prototype);var DS=class extends Ra{constructor(e){super();this.unit=e}get typeId(){return di.Type.Date}toString(){return`Date${(this.unit+1)*32}<${di.DateUnit[this.unit]}>`}};Br.Date_=DS;TTe=Symbol.toStringTag;DS[TTe]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(DS.prototype);var BTe=class extends DS{constructor(){super(di.DateUnit.DAY)}};Br.DateDay=BTe;var jTe=class extends DS{constructor(){super(di.DateUnit.MILLISECOND)}};Br.DateMillisecond=jTe;var D5=class extends Ra{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return di.Type.Time}toString(){return`Time${this.bitWidth}<${di.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};Br.Time=D5;FTe=Symbol.toStringTag;D5[FTe]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(D5.prototype);var qTe=class extends D5{constructor(){super(di.TimeUnit.SECOND,32)}};Br.TimeSecond=qTe;var UTe=class extends D5{constructor(){super(di.TimeUnit.MILLISECOND,32)}};Br.TimeMillisecond=UTe;var $Te=class extends D5{constructor(){super(di.TimeUnit.MICROSECOND,64)}};Br.TimeMicrosecond=$Te;var zTe=class extends D5{constructor(){super(di.TimeUnit.NANOSECOND,64)}};Br.TimeNanosecond=zTe;var O5=class extends Ra{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return di.Type.Timestamp}toString(){return`Timestamp<${di.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};Br.Timestamp=O5;DTe=Symbol.toStringTag;O5[DTe]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(O5.prototype);var HTe=class extends O5{constructor(e){super(di.TimeUnit.SECOND,e)}};Br.TimestampSecond=HTe;var VTe=class extends O5{constructor(e){super(di.TimeUnit.MILLISECOND,e)}};Br.TimestampMillisecond=VTe;var WTe=class extends O5{constructor(e){super(di.TimeUnit.MICROSECOND,e)}};Br.TimestampMicrosecond=WTe;var QTe=class extends O5{constructor(e){super(di.TimeUnit.NANOSECOND,e)}};Br.TimestampNanosecond=QTe;var OS=class extends Ra{constructor(e){super();this.unit=e}get typeId(){return di.Type.Interval}toString(){return`Interval<${di.IntervalUnit[this.unit]}>`}};Br.Interval=OS;OTe=Symbol.toStringTag;OS[OTe]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(OS.prototype);var GTe=class extends OS{constructor(){super(di.IntervalUnit.DAY_TIME)}};Br.IntervalDayTime=GTe;var YTe=class extends OS{constructor(){super(di.IntervalUnit.YEAR_MONTH)}};Br.IntervalYearMonth=YTe;var sU=class extends Ra{constructor(e){super();this.children=[e]}get typeId(){return di.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Br.List=sU;NTe=Symbol.toStringTag;sU[NTe]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(sU.prototype);var oU=class extends Ra{constructor(e){super();this.children=e}get typeId(){return di.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};Br.Struct=oU;RTe=Symbol.toStringTag;oU[RTe]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(oU.prototype);var NS=class extends Ra{constructor(e,t,r){super();this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return di.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};Br.Union=NS;LTe=Symbol.toStringTag;NS[LTe]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(NS.prototype);var KTe=class extends NS{constructor(e,t){super(di.UnionMode.Dense,e,t)}};Br.DenseUnion=KTe;var JTe=class extends NS{constructor(e,t){super(di.UnionMode.Sparse,e,t)}};Br.SparseUnion=JTe;var aU=class extends Ra{constructor(e){super();this.byteWidth=e}get typeId(){return di.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Br.FixedSizeBinary=aU;kTe=Symbol.toStringTag;aU[kTe]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(aU.prototype);var uU=class extends Ra{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return di.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Br.FixedSizeList=uU;ITe=Symbol.toStringTag;uU[ITe]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(uU.prototype);var lU=class extends Ra{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return di.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};Br.Map_=lU;MTe=Symbol.toStringTag;lU[MTe]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(lU.prototype);var F8t=(n=>()=>++n)(-1),cU=class extends Ra{constructor(e,t,r,i){super();this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?F8t():typeof r=="number"?r:r.low}get typeId(){return di.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};Br.Dictionary=cU;PTe=Symbol.toStringTag;cU[PTe]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(cU.prototype);function D8t(n){let e=n;switch(n.typeId){case di.Type.Decimal:return n.bitWidth/32;case di.Type.Timestamp:return 2;case di.Type.Date:return 1+e.unit;case di.Type.Interval:return 1+e.unit;case di.Type.FixedSizeList:return e.listSize;case di.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}Br.strideForType=D8t});var Kf=G(fU=>{"use strict";d();Object.defineProperty(fU,"__esModule",{value:!0});fU.Visitor=void 0;var ir=Au(),XTe=Ca(),oa=class{visitMany(e,...t){return e.map((r,i)=>this.visit(r,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return O8t(this,e,t)}getVisitFnByTypeId(e,t=!0){return RS(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};fU.Visitor=oa;function O8t(n,e,t=!0){return typeof e=="number"?RS(n,e,t):typeof e=="string"&&e in ir.Type?RS(n,ir.Type[e],t):e&&e instanceof XTe.DataType?RS(n,ZTe(e),t):(e==null?void 0:e.type)&&e.type instanceof XTe.DataType?RS(n,ZTe(e.type),t):RS(n,ir.Type.NONE,t)}function RS(n,e,t=!0){let r=null;switch(e){case ir.Type.Null:r=n.visitNull;break;case ir.Type.Bool:r=n.visitBool;break;case ir.Type.Int:r=n.visitInt;break;case ir.Type.Int8:r=n.visitInt8||n.visitInt;break;case ir.Type.Int16:r=n.visitInt16||n.visitInt;break;case ir.Type.Int32:r=n.visitInt32||n.visitInt;break;case ir.Type.Int64:r=n.visitInt64||n.visitInt;break;case ir.Type.Uint8:r=n.visitUint8||n.visitInt;break;case ir.Type.Uint16:r=n.visitUint16||n.visitInt;break;case ir.Type.Uint32:r=n.visitUint32||n.visitInt;break;case ir.Type.Uint64:r=n.visitUint64||n.visitInt;break;case ir.Type.Float:r=n.visitFloat;break;case ir.Type.Float16:r=n.visitFloat16||n.visitFloat;break;case ir.Type.Float32:r=n.visitFloat32||n.visitFloat;break;case ir.Type.Float64:r=n.visitFloat64||n.visitFloat;break;case ir.Type.Utf8:r=n.visitUtf8;break;case ir.Type.Binary:r=n.visitBinary;break;case ir.Type.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case ir.Type.Date:r=n.visitDate;break;case ir.Type.DateDay:r=n.visitDateDay||n.visitDate;break;case ir.Type.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case ir.Type.Timestamp:r=n.visitTimestamp;break;case ir.Type.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case ir.Type.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case ir.Type.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case ir.Type.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case ir.Type.Time:r=n.visitTime;break;case ir.Type.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case ir.Type.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case ir.Type.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case ir.Type.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case ir.Type.Decimal:r=n.visitDecimal;break;case ir.Type.List:r=n.visitList;break;case ir.Type.Struct:r=n.visitStruct;break;case ir.Type.Union:r=n.visitUnion;break;case ir.Type.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case ir.Type.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case ir.Type.Dictionary:r=n.visitDictionary;break;case ir.Type.Interval:r=n.visitInterval;break;case ir.Type.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case ir.Type.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case ir.Type.FixedSizeList:r=n.visitFixedSizeList;break;case ir.Type.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!t)return()=>null;throw new Error(`Unrecognized type '${ir.Type[e]}'`)}function ZTe(n){switch(n.typeId){case ir.Type.Null:return ir.Type.Null;case ir.Type.Int:{let{bitWidth:e,isSigned:t}=n;switch(e){case 8:return t?ir.Type.Int8:ir.Type.Uint8;case 16:return t?ir.Type.Int16:ir.Type.Uint16;case 32:return t?ir.Type.Int32:ir.Type.Uint32;case 64:return t?ir.Type.Int64:ir.Type.Uint64}return ir.Type.Int}case ir.Type.Float:switch(n.precision){case ir.Precision.HALF:return ir.Type.Float16;case ir.Precision.SINGLE:return ir.Type.Float32;case ir.Precision.DOUBLE:return ir.Type.Float64}return ir.Type.Float;case ir.Type.Binary:return ir.Type.Binary;case ir.Type.Utf8:return ir.Type.Utf8;case ir.Type.Bool:return ir.Type.Bool;case ir.Type.Decimal:return ir.Type.Decimal;case ir.Type.Time:switch(n.unit){case ir.TimeUnit.SECOND:return ir.Type.TimeSecond;case ir.TimeUnit.MILLISECOND:return ir.Type.TimeMillisecond;case ir.TimeUnit.MICROSECOND:return ir.Type.TimeMicrosecond;case ir.TimeUnit.NANOSECOND:return ir.Type.TimeNanosecond}return ir.Type.Time;case ir.Type.Timestamp:switch(n.unit){case ir.TimeUnit.SECOND:return ir.Type.TimestampSecond;case ir.TimeUnit.MILLISECOND:return ir.Type.TimestampMillisecond;case ir.TimeUnit.MICROSECOND:return ir.Type.TimestampMicrosecond;case ir.TimeUnit.NANOSECOND:return ir.Type.TimestampNanosecond}return ir.Type.Timestamp;case ir.Type.Date:switch(n.unit){case ir.DateUnit.DAY:return ir.Type.DateDay;case ir.DateUnit.MILLISECOND:return ir.Type.DateMillisecond}return ir.Type.Date;case ir.Type.Interval:switch(n.unit){case ir.IntervalUnit.DAY_TIME:return ir.Type.IntervalDayTime;case ir.IntervalUnit.YEAR_MONTH:return ir.Type.IntervalYearMonth}return ir.Type.Interval;case ir.Type.Map:return ir.Type.Map;case ir.Type.List:return ir.Type.List;case ir.Type.Struct:return ir.Type.Struct;case ir.Type.Union:switch(n.mode){case ir.UnionMode.Dense:return ir.Type.DenseUnion;case ir.UnionMode.Sparse:return ir.Type.SparseUnion}return ir.Type.Union;case ir.Type.FixedSizeBinary:return ir.Type.FixedSizeBinary;case ir.Type.FixedSizeList:return ir.Type.FixedSizeList;case ir.Type.Dictionary:return ir.Type.Dictionary}throw new Error(`Unrecognized type '${ir.Type[n.typeId]}'`)}oa.prototype.visitInt8=null;oa.prototype.visitInt16=null;oa.prototype.visitInt32=null;oa.prototype.visitInt64=null;oa.prototype.visitUint8=null;oa.prototype.visitUint16=null;oa.prototype.visitUint32=null;oa.prototype.visitUint64=null;oa.prototype.visitFloat16=null;oa.prototype.visitFloat32=null;oa.prototype.visitFloat64=null;oa.prototype.visitDateDay=null;oa.prototype.visitDateMillisecond=null;oa.prototype.visitTimestampSecond=null;oa.prototype.visitTimestampMillisecond=null;oa.prototype.visitTimestampMicrosecond=null;oa.prototype.visitTimestampNanosecond=null;oa.prototype.visitTimeSecond=null;oa.prototype.visitTimeMillisecond=null;oa.prototype.visitTimeMicrosecond=null;oa.prototype.visitTimeNanosecond=null;oa.prototype.visitDenseUnion=null;oa.prototype.visitSparseUnion=null;oa.prototype.visitIntervalDayTime=null;oa.prototype.visitIntervalYearMonth=null});var WF=G(kS=>{"use strict";d();Object.defineProperty(kS,"__esModule",{value:!0});kS.float64ToUint16=kS.uint16ToFloat64=void 0;var eFe=new Float64Array(1),LS=new Uint32Array(eFe.buffer);function N8t(n){let e=(n&31744)>>10,t=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(e){case 31:return r*(t?Number.NaN:1/0);case 0:return r*(t?6103515625e-14*t:0)}return r*Math.pow(2,e-15)*(1+t)}kS.uint16ToFloat64=N8t;function R8t(n){if(n!==n)return 32256;eFe[0]=n;let e=(LS[1]&2147483648)>>16&65535,t=LS[1]&2146435072,r=0;return t>=1089470464?LS[0]>0?t=31744:(t=(t&2080374784)>>16,r=(LS[1]&1048575)>>10):t<=1056964608?(r=1048576+(LS[1]&1048575),r=1048576+(r<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,r=(LS[1]&1048575)+512>>10),e|t|r&65535}kS.float64ToUint16=R8t});var Ah=G(lr=>{"use strict";d();Object.defineProperty(lr,"__esModule",{value:!0});lr.instance=lr.setIntervalYearMonth=lr.setIntervalDayTime=lr.setIntervalValue=lr.setDecimal=lr.setTime=lr.setTimeNanosecond=lr.setTimeMicrosecond=lr.setTimeMillisecond=lr.setTimeSecond=lr.setTimestamp=lr.setTimestampNanosecond=lr.setTimestampMicrosecond=lr.setTimestampMillisecond=lr.setTimestampSecond=lr.setDate=lr.setFixedSizeBinary=lr.setDateMillisecond=lr.setDateDay=lr.setAnyFloat=lr.setFloat16=lr.setFloat=lr.setInt=lr.setVariableWidthBytes=lr.setEpochMsToNanosecondsLong=lr.setEpochMsToMicrosecondsLong=lr.setEpochMsToMillisecondsLong=lr.setEpochMsToDays=lr.SetVisitor=void 0;var L8t=Jf(),k8t=Kf(),I8t=L_(),M8t=WF(),D0=Au(),gs=class extends k8t.Visitor{};lr.SetVisitor=gs;function Rs(n){return(e,t,r)=>{if(e.setValid(t,r!=null))return n(e,t,r)}}var P8t=(n,e,t)=>{n[e]=Math.trunc(t/864e5)};lr.setEpochMsToDays=P8t;var B8t=(n,e,t)=>{n[e]=Math.trunc(t%4294967296),n[e+1]=Math.trunc(t/4294967296)};lr.setEpochMsToMillisecondsLong=B8t;var j8t=(n,e,t)=>{n[e]=Math.trunc(t*1e3%4294967296),n[e+1]=Math.trunc(t*1e3/4294967296)};lr.setEpochMsToMicrosecondsLong=j8t;var q8t=(n,e,t)=>{n[e]=Math.trunc(t*1e6%4294967296),n[e+1]=Math.trunc(t*1e6/4294967296)};lr.setEpochMsToNanosecondsLong=q8t;var U8t=(n,e,t,r)=>{if(t+1<e.length){let{[t]:i,[t+1]:s}=e;n.set(r.subarray(0,s-i),i)}};lr.setVariableWidthBytes=U8t;var $8t=({offset:n,values:e},t,r)=>{let i=n+t;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},z8t=({values:n},e,t)=>{n[e]=t};lr.setInt=z8t;var H8t=({values:n},e,t)=>{n[e]=t};lr.setFloat=H8t;var V8t=({values:n},e,t)=>{n[e]=(0,M8t.float64ToUint16)(t)};lr.setFloat16=V8t;var W8t=(n,e,t)=>{switch(n.type.precision){case D0.Precision.HALF:return(0,lr.setFloat16)(n,e,t);case D0.Precision.SINGLE:case D0.Precision.DOUBLE:return(0,lr.setFloat)(n,e,t)}};lr.setAnyFloat=W8t;var Q8t=({values:n},e,t)=>{(0,lr.setEpochMsToDays)(n,e,t.valueOf())};lr.setDateDay=Q8t;var G8t=({values:n},e,t)=>{(0,lr.setEpochMsToMillisecondsLong)(n,e*2,t.valueOf())};lr.setDateMillisecond=G8t;var Y8t=({stride:n,values:e},t,r)=>{e.set(r.subarray(0,n),n*t)};lr.setFixedSizeBinary=Y8t;var K8t=({values:n,valueOffsets:e},t,r)=>(0,lr.setVariableWidthBytes)(n,e,t,r),J8t=({values:n,valueOffsets:e},t,r)=>{(0,lr.setVariableWidthBytes)(n,e,t,(0,I8t.encodeUtf8)(r))},X8t=(n,e,t)=>{n.type.unit===D0.DateUnit.DAY?(0,lr.setDateDay)(n,e,t):(0,lr.setDateMillisecond)(n,e,t)};lr.setDate=X8t;var Z8t=({values:n},e,t)=>(0,lr.setEpochMsToMillisecondsLong)(n,e*2,t/1e3);lr.setTimestampSecond=Z8t;var e7t=({values:n},e,t)=>(0,lr.setEpochMsToMillisecondsLong)(n,e*2,t);lr.setTimestampMillisecond=e7t;var t7t=({values:n},e,t)=>(0,lr.setEpochMsToMicrosecondsLong)(n,e*2,t);lr.setTimestampMicrosecond=t7t;var n7t=({values:n},e,t)=>(0,lr.setEpochMsToNanosecondsLong)(n,e*2,t);lr.setTimestampNanosecond=n7t;var r7t=(n,e,t)=>{switch(n.type.unit){case D0.TimeUnit.SECOND:return(0,lr.setTimestampSecond)(n,e,t);case D0.TimeUnit.MILLISECOND:return(0,lr.setTimestampMillisecond)(n,e,t);case D0.TimeUnit.MICROSECOND:return(0,lr.setTimestampMicrosecond)(n,e,t);case D0.TimeUnit.NANOSECOND:return(0,lr.setTimestampNanosecond)(n,e,t)}};lr.setTimestamp=r7t;var i7t=({values:n},e,t)=>{n[e]=t};lr.setTimeSecond=i7t;var s7t=({values:n},e,t)=>{n[e]=t};lr.setTimeMillisecond=s7t;var o7t=({values:n},e,t)=>{n[e]=t};lr.setTimeMicrosecond=o7t;var a7t=({values:n},e,t)=>{n[e]=t};lr.setTimeNanosecond=a7t;var u7t=(n,e,t)=>{switch(n.type.unit){case D0.TimeUnit.SECOND:return(0,lr.setTimeSecond)(n,e,t);case D0.TimeUnit.MILLISECOND:return(0,lr.setTimeMillisecond)(n,e,t);case D0.TimeUnit.MICROSECOND:return(0,lr.setTimeMicrosecond)(n,e,t);case D0.TimeUnit.NANOSECOND:return(0,lr.setTimeNanosecond)(n,e,t)}};lr.setTime=u7t;var l7t=({values:n,stride:e},t,r)=>{n.set(r.subarray(0,e),e*t)};lr.setDecimal=l7t;var c7t=(n,e,t)=>{let r=n.children[0],i=n.valueOffsets,s=lr.instance.getVisitFn(r);if(Array.isArray(t))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t.get(++o))},f7t=(n,e,t)=>{let r=n.children[0],{valueOffsets:i}=n,s=lr.instance.getVisitFn(r),{[e]:o,[e+1]:a}=i,l=t instanceof Map?t.entries():Object.entries(t);for(let f of l)if(s(r,o,f),++o>=a)break},d7t=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[s]),h7t=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(s)),p7t=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(i.name)),m7t=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[i.name]),x7t=(n,e,t)=>{let r=n.type.children.map(s=>lr.instance.getVisitFn(s.type)),i=t instanceof Map?p7t(e,t):t instanceof L8t.Vector?h7t(e,t):Array.isArray(t)?d7t(e,t):m7t(e,t);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},g7t=(n,e,t)=>{n.type.mode===D0.UnionMode.Dense?tFe(n,e,t):nFe(n,e,t)},tFe=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];lr.instance.visit(i,n.valueOffsets[e],t)},nFe=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];lr.instance.visit(i,e,t)},y7t=(n,e,t)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[e],t)},v7t=(n,e,t)=>{n.type.unit===D0.IntervalUnit.DAY_TIME?(0,lr.setIntervalDayTime)(n,e,t):(0,lr.setIntervalYearMonth)(n,e,t)};lr.setIntervalValue=v7t;var _7t=({values:n},e,t)=>{n.set(t.subarray(0,2),2*e)};lr.setIntervalDayTime=_7t;var b7t=({values:n},e,t)=>{n[e]=t[0]*12+t[1]%12};lr.setIntervalYearMonth=b7t;var E7t=(n,e,t)=>{let{stride:r}=n,i=n.children[0],s=lr.instance.getVisitFn(i);if(Array.isArray(t))for(let o=-1,a=e*r;++o<r;)s(i,a+o,t[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,t.get(o))};gs.prototype.visitBool=Rs($8t);gs.prototype.visitInt=Rs(lr.setInt);gs.prototype.visitInt8=Rs(lr.setInt);gs.prototype.visitInt16=Rs(lr.setInt);gs.prototype.visitInt32=Rs(lr.setInt);gs.prototype.visitInt64=Rs(lr.setInt);gs.prototype.visitUint8=Rs(lr.setInt);gs.prototype.visitUint16=Rs(lr.setInt);gs.prototype.visitUint32=Rs(lr.setInt);gs.prototype.visitUint64=Rs(lr.setInt);gs.prototype.visitFloat=Rs(lr.setAnyFloat);gs.prototype.visitFloat16=Rs(lr.setFloat16);gs.prototype.visitFloat32=Rs(lr.setFloat);gs.prototype.visitFloat64=Rs(lr.setFloat);gs.prototype.visitUtf8=Rs(J8t);gs.prototype.visitBinary=Rs(K8t);gs.prototype.visitFixedSizeBinary=Rs(lr.setFixedSizeBinary);gs.prototype.visitDate=Rs(lr.setDate);gs.prototype.visitDateDay=Rs(lr.setDateDay);gs.prototype.visitDateMillisecond=Rs(lr.setDateMillisecond);gs.prototype.visitTimestamp=Rs(lr.setTimestamp);gs.prototype.visitTimestampSecond=Rs(lr.setTimestampSecond);gs.prototype.visitTimestampMillisecond=Rs(lr.setTimestampMillisecond);gs.prototype.visitTimestampMicrosecond=Rs(lr.setTimestampMicrosecond);gs.prototype.visitTimestampNanosecond=Rs(lr.setTimestampNanosecond);gs.prototype.visitTime=Rs(lr.setTime);gs.prototype.visitTimeSecond=Rs(lr.setTimeSecond);gs.prototype.visitTimeMillisecond=Rs(lr.setTimeMillisecond);gs.prototype.visitTimeMicrosecond=Rs(lr.setTimeMicrosecond);gs.prototype.visitTimeNanosecond=Rs(lr.setTimeNanosecond);gs.prototype.visitDecimal=Rs(lr.setDecimal);gs.prototype.visitList=Rs(c7t);gs.prototype.visitStruct=Rs(x7t);gs.prototype.visitUnion=Rs(g7t);gs.prototype.visitDenseUnion=Rs(tFe);gs.prototype.visitSparseUnion=Rs(nFe);gs.prototype.visitDictionary=Rs(y7t);gs.prototype.visitInterval=Rs(lr.setIntervalValue);gs.prototype.visitIntervalDayTime=Rs(lr.setIntervalDayTime);gs.prototype.visitIntervalYearMonth=Rs(lr.setIntervalYearMonth);gs.prototype.visitFixedSizeList=Rs(E7t);gs.prototype.visitMap=Rs(f7t);lr.instance=new gs});var hU=G(dU=>{"use strict";d();Object.defineProperty(dU,"__esModule",{value:!0});dU.StructRow=void 0;var rFe=Jq(),$ie=I_(),S7t=Ah(),Wp=Symbol.for("parent"),IS=Symbol.for("rowIndex"),zie=class{constructor(e,t){return this[Wp]=e,this[IS]=t,new Proxy(this,new sFe)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[IS],t=this[Wp],r=t.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=$ie.instance.visit(t.children[s],e);return i}toString(){return`{${[...this].map(([e,t])=>`${(0,rFe.valueToString)(e)}: ${(0,rFe.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new iFe(this[Wp],this[IS])}};dU.StructRow=zie;var iFe=class{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,$ie.instance.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(zie.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Wp]:{writable:!0,enumerable:!1,configurable:!1,value:null},[IS]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var sFe=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Wp].type.children.map(t=>t.name)}has(e,t){return e[Wp].type.children.findIndex(r=>r.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[Wp].type.children.findIndex(r=>r.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[Wp].type.children.findIndex(i=>i.name===t);if(r!==-1){let i=$ie.instance.visit(e[Wp].children[r],e[IS]);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[Wp].type.children.findIndex(s=>s.name===t);return i!==-1?(S7t.instance.visit(e[Wp].children[i],e[IS],r),Reflect.set(e,t,r)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,r):!1}}});var I_=G(R5=>{"use strict";d();Object.defineProperty(R5,"__esModule",{value:!0});R5.instance=R5.GetVisitor=void 0;var C7t=Zq(),oFe=Jf(),w7t=Kf(),A7t=QF(),T7t=hU(),F7t=L_(),aFe=WF(),Th=Au(),cs=class extends w7t.Visitor{};R5.GetVisitor=cs;function As(n){return(e,t)=>e.getValid(t)?n(e,t):null}var D7t=(n,e)=>864e5*n[e],Hie=(n,e)=>4294967296*n[e+1]+(n[e]>>>0),O7t=(n,e)=>4294967296*(n[e+1]/1e3)+(n[e]>>>0)/1e3,N7t=(n,e)=>4294967296*(n[e+1]/1e6)+(n[e]>>>0)/1e6,uFe=n=>new Date(n),R7t=(n,e)=>uFe(D7t(n,e)),L7t=(n,e)=>uFe(Hie(n,e)),k7t=(n,e)=>null,lFe=(n,e,t)=>{if(t+1>=e.length)return null;let r=e[t],i=e[t+1];return n.subarray(r,i)},I7t=({offset:n,values:e},t)=>{let r=n+t;return(e[r>>3]&1<<r%8)!==0},cFe=({values:n},e)=>R7t(n,e),fFe=({values:n},e)=>L7t(n,e*2),N5=({stride:n,values:e},t)=>e[n*t],M7t=({stride:n,values:e},t)=>(0,aFe.uint16ToFloat64)(e[n*t]),dFe=({values:n},e)=>n[e],P7t=({stride:n,values:e},t)=>e.subarray(n*t,n*(t+1)),B7t=({values:n,valueOffsets:e},t)=>lFe(n,e,t),j7t=({values:n,valueOffsets:e},t)=>{let r=lFe(n,e,t);return r!==null?(0,F7t.decodeUtf8)(r):null},q7t=({values:n},e)=>n[e],U7t=({type:n,values:e},t)=>n.precision!==Th.Precision.HALF?e[t]:(0,aFe.uint16ToFloat64)(e[t]),$7t=(n,e)=>n.type.unit===Th.DateUnit.DAY?cFe(n,e):fFe(n,e),hFe=({values:n},e)=>1e3*Hie(n,e*2),pFe=({values:n},e)=>Hie(n,e*2),mFe=({values:n},e)=>O7t(n,e*2),xFe=({values:n},e)=>N7t(n,e*2),z7t=(n,e)=>{switch(n.type.unit){case Th.TimeUnit.SECOND:return hFe(n,e);case Th.TimeUnit.MILLISECOND:return pFe(n,e);case Th.TimeUnit.MICROSECOND:return mFe(n,e);case Th.TimeUnit.NANOSECOND:return xFe(n,e)}},gFe=({values:n},e)=>n[e],yFe=({values:n},e)=>n[e],vFe=({values:n},e)=>n[e],_Fe=({values:n},e)=>n[e],H7t=(n,e)=>{switch(n.type.unit){case Th.TimeUnit.SECOND:return gFe(n,e);case Th.TimeUnit.MILLISECOND:return yFe(n,e);case Th.TimeUnit.MICROSECOND:return vFe(n,e);case Th.TimeUnit.NANOSECOND:return _Fe(n,e)}},V7t=({values:n,stride:e},t)=>C7t.BN.decimal(n.subarray(e*t,e*(t+1))),W7t=(n,e)=>{let{valueOffsets:t,stride:r,children:i}=n,{[e*r]:s,[e*r+1]:o}=t,l=i[0].slice(s,o-s);return new oFe.Vector([l])},Q7t=(n,e)=>{let{valueOffsets:t,children:r}=n,{[e]:i,[e+1]:s}=t,o=r[0];return new A7t.MapRow(o.slice(i,s-i))},G7t=(n,e)=>new T7t.StructRow(n,e),Y7t=(n,e)=>n.type.mode===Th.UnionMode.Dense?bFe(n,e):EFe(n,e),bFe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return R5.instance.visit(r,n.valueOffsets[e])},EFe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return R5.instance.visit(r,e)},K7t=(n,e)=>{var t;return(t=n.dictionary)===null||t===void 0?void 0:t.get(n.values[e])},J7t=(n,e)=>n.type.unit===Th.IntervalUnit.DAY_TIME?SFe(n,e):CFe(n,e),SFe=({values:n},e)=>n.subarray(2*e,2*(e+1)),CFe=({values:n},e)=>{let t=n[e],r=new Int32Array(2);return r[0]=Math.trunc(t/12),r[1]=Math.trunc(t%12),r},X7t=(n,e)=>{let{stride:t,children:r}=n,s=r[0].slice(e*t,t);return new oFe.Vector([s])};cs.prototype.visitNull=As(k7t);cs.prototype.visitBool=As(I7t);cs.prototype.visitInt=As(q7t);cs.prototype.visitInt8=As(N5);cs.prototype.visitInt16=As(N5);cs.prototype.visitInt32=As(N5);cs.prototype.visitInt64=As(dFe);cs.prototype.visitUint8=As(N5);cs.prototype.visitUint16=As(N5);cs.prototype.visitUint32=As(N5);cs.prototype.visitUint64=As(dFe);cs.prototype.visitFloat=As(U7t);cs.prototype.visitFloat16=As(M7t);cs.prototype.visitFloat32=As(N5);cs.prototype.visitFloat64=As(N5);cs.prototype.visitUtf8=As(j7t);cs.prototype.visitBinary=As(B7t);cs.prototype.visitFixedSizeBinary=As(P7t);cs.prototype.visitDate=As($7t);cs.prototype.visitDateDay=As(cFe);cs.prototype.visitDateMillisecond=As(fFe);cs.prototype.visitTimestamp=As(z7t);cs.prototype.visitTimestampSecond=As(hFe);cs.prototype.visitTimestampMillisecond=As(pFe);cs.prototype.visitTimestampMicrosecond=As(mFe);cs.prototype.visitTimestampNanosecond=As(xFe);cs.prototype.visitTime=As(H7t);cs.prototype.visitTimeSecond=As(gFe);cs.prototype.visitTimeMillisecond=As(yFe);cs.prototype.visitTimeMicrosecond=As(vFe);cs.prototype.visitTimeNanosecond=As(_Fe);cs.prototype.visitDecimal=As(V7t);cs.prototype.visitList=As(W7t);cs.prototype.visitStruct=As(G7t);cs.prototype.visitUnion=As(Y7t);cs.prototype.visitDenseUnion=As(bFe);cs.prototype.visitSparseUnion=As(EFe);cs.prototype.visitDictionary=As(K7t);cs.prototype.visitInterval=As(J7t);cs.prototype.visitIntervalDayTime=As(SFe);cs.prototype.visitIntervalYearMonth=As(CFe);cs.prototype.visitFixedSizeList=As(X7t);cs.prototype.visitMap=As(Q7t);R5.instance=new cs});var QF=G(Ka=>{"use strict";d();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.MapRow=Ka.kVals=Ka.kKeys=void 0;var Z7t=Jf(),wFe=Jq(),Vie=I_(),eSt=Ah();Ka.kKeys=Symbol.for("keys");Ka.kVals=Symbol.for("vals");var Wie=class{constructor(e){return this[Ka.kKeys]=new Z7t.Vector([e.children[0]]).memoize(),this[Ka.kVals]=e.children[1],new Proxy(this,new TFe)}[Symbol.iterator](){return new AFe(this[Ka.kKeys],this[Ka.kVals])}get size(){return this[Ka.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[Ka.kKeys],t=this[Ka.kVals],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=Vie.instance.visit(t,i);return r}toString(){return`{${[...this].map(([e,t])=>`${(0,wFe.valueToString)(e)}: ${(0,wFe.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}};Ka.MapRow=Wie;var AFe=class{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),Vie.instance.visit(this.vals,e)]})}},TFe=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Ka.kKeys].toArray().map(String)}has(e,t){return e[Ka.kKeys].includes(t)}getOwnPropertyDescriptor(e,t){if(e[Ka.kKeys].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[Ka.kKeys].indexOf(t);if(r!==-1){let i=Vie.instance.visit(Reflect.get(e,Ka.kVals),r);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[Ka.kKeys].indexOf(t);return i!==-1?(eSt.instance.visit(Reflect.get(e,Ka.kVals),i,r),Reflect.set(e,t,r)):Reflect.has(e,t)?Reflect.set(e,t,r):!1}};Object.defineProperties(Wie.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ka.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ka.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var YF=G(L5=>{"use strict";d();Object.defineProperty(L5,"__esModule",{value:!0});L5.createElementComparator=L5.clampRange=L5.clampIndex=void 0;var FFe=Jf(),tSt=QF(),nSt=hU(),rSt=Mc();function iSt(n,e,t){let r=n.length,i=e>-1?e:r+e%r;return t?t(n,i):i}L5.clampIndex=iSt;var DFe;function sSt(n,e,t,r){let{length:i=0}=n,s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(DFe=s,s=o,o=DFe),o>i&&(o=i),r?r(n,s,o):[s,o]}L5.clampRange=sSt;var OFe=n=>n!==n;function GF(n){if(typeof n!=="object"||n===null)return OFe(n)?OFe:t=>t===n;if(n instanceof Date){let t=n.valueOf();return r=>r instanceof Date?r.valueOf()===t:!1}return ArrayBuffer.isView(n)?t=>t?(0,rSt.compareArrayLike)(n,t):!1:n instanceof Map?aSt(n):Array.isArray(n)?oSt(n):n instanceof FFe.Vector?uSt(n):lSt(n,!0)}L5.createElementComparator=GF;function oSt(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=GF(n[t]);return pU(e)}function aSt(n){let e=-1,t=[];for(let r of n.values())t[++e]=GF(r);return pU(t)}function uSt(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=GF(n.get(t));return pU(e)}function lSt(n,e=!1){let t=Object.keys(n);if(!e&&t.length===0)return()=>!1;let r=[];for(let i=-1,s=t.length;++i<s;)r[i]=GF(n[t[i]]);return pU(r,t)}function pU(n,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return cSt(n,t);case Map:return NFe(n,t,t.keys());case tSt.MapRow:case nSt.StructRow:case Object:case void 0:return NFe(n,t,e||Object.keys(t))}return t instanceof FFe.Vector?fSt(n,t):!1}}function cSt(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e[r]))return!1;return!0}function fSt(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e.get(r)))return!1;return!0}function NFe(n,e,t){let r=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=n.length,l=s.next(),f=r.next(),p=i.next();for(;o<a&&!f.done&&!p.done&&!l.done&&!(f.value!==p.value||!n[o](l.value));++o,f=r.next(),p=i.next(),l=s.next());return o===a&&f.done&&p.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}});var M_=G(pl=>{"use strict";d();Object.defineProperty(pl,"__esModule",{value:!0});pl.popcnt_uint32=pl.popcnt_array=pl.popcnt_bit_range=pl.BitIterator=pl.packBools=pl.truncateBitmap=pl.setBool=pl.getBit=pl.getBool=void 0;function RFe(n,e,t,r){return(t&1<<r)!==0}pl.getBool=RFe;function LFe(n,e,t,r){return(t&1<<r)>>r}pl.getBit=LFe;function dSt(n,e,t){return t?!!(n[e>>3]|=1<<e%8)||!0:!(n[e>>3]&=~(1<<e%8))&&!1}pl.setBool=dSt;function hSt(n,e,t){let r=t.byteLength+7&~7;if(n>0||t.byteLength<r){let i=new Uint8Array(r);return i.set(n%8===0?t.subarray(n>>3):kFe(new mU(t,n,e,null,RFe)).subarray(0,r)),i}return t}pl.truncateBitmap=hSt;function kFe(n){let e=[],t=0,r=0,i=0;for(let o of n)o&&(i|=1<<r),++r===8&&(e[t++]=i,i=r=0);(t===0||r>0)&&(e[t++]=i);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}pl.packBools=kFe;var mU=class{constructor(e,t,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};pl.BitIterator=mU;function Qie(n,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new mU(n,e,t-e,n,LFe))s+=o;return s}let r=t>>3<<3,i=e+(e%8===0?0:8-e%8);return Qie(n,e,i)+Qie(n,r,t)+IFe(n,i>>3,r-i>>3)}pl.popcnt_bit_range=Qie;function IFe(n,e,t){let r=0,i=Math.trunc(e),s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=t===void 0?n.byteLength:i+t;for(;o-i>=4;)r+=xU(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=xU(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=xU(s.getUint8(i)),i+=1;return r}pl.popcnt_array=IFe;function xU(n){let e=Math.trunc(n);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}pl.popcnt_uint32=xU});var Im=G(Vx=>{"use strict";d();Object.defineProperty(Vx,"__esModule",{value:!0});Vx.makeData=Vx.Data=Vx.kUnknownNullCount=void 0;var pSt=Jf(),k5=Au(),Hx=Ca(),MFe=M_();Vx.kUnknownNullCount=-1;var La=class{constructor(e,t,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof La?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=(0,Hx.strideForType)(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=Vx.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-(0,MFe.popcnt_bit_range)(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){let{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}let{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return t?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new La(e,t,r,i,s,o,this.dictionary)}slice(e,t){let{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===k5.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:r}=this,i=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&~7))-1,r>0&&i.set((0,MFe.truncateBitmap)(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[k5.BufferType.VALIDITY]=i,this.clone(this.type,0,e,r+(e-t),s)}_sliceBuffers(e,t,r,i){let s,{buffers:o}=this;return(s=o[k5.BufferType.TYPE])&&(o[k5.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[k5.BufferType.OFFSET])&&(o[k5.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[k5.BufferType.DATA])&&(o[k5.BufferType.DATA]=i===6?s:s.subarray(r*e,r*(e+t))),o}_sliceChildren(e,t,r){return e.map(i=>i.slice(t,r))}};Vx.Data=La;La.prototype.children=Object.freeze([]);var mSt=Kf(),po=Mc(),MS=class extends mSt.Visitor{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{["type"]:t,["offset"]:r=0,["length"]:i=0}=e;return new La(t,r,i,0)}visitBool(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitInt(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitFloat(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitUtf8(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.data),s=(0,po.toUint8Array)(e.nullBitmap),o=(0,po.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new La(t,r,a,l,[o,i,s])}visitBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.data),s=(0,po.toUint8Array)(e.nullBitmap),o=(0,po.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new La(t,r,a,l,[o,i,s])}visitFixedSizeBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Hx.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitDate(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Hx.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitTimestamp(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Hx.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitTime(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Hx.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitDecimal(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Hx.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitList(e){let{["type"]:t,["offset"]:r=0,["child"]:i}=e,s=(0,po.toUint8Array)(e.nullBitmap),o=(0,po.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new La(t,r,a,l,[o,void 0,s],[i])}visitStruct(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,po.toUint8Array)(e.nullBitmap),{length:o=i.reduce((l,{length:f})=>Math.max(l,f),0),nullCount:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,void 0,s],i)}visitUnion(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,po.toUint8Array)(e.nullBitmap),o=(0,po.toArrayBufferView)(t.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;if(Hx.DataType.isSparseUnion(t))return new La(t,r,a,l,[void 0,void 0,s,o],i);let f=(0,po.toInt32Array)(e.valueOffsets);return new La(t,r,a,l,[f,void 0,s,o],i)}visitDictionary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.indices.ArrayType,e.data),{["dictionary"]:o=new pSt.Vector([new MS().visit({type:t.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new La(t,r,a,l,[void 0,s,i],[],o)}visitInterval(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,po.toUint8Array)(e.nullBitmap),s=(0,po.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Hx.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,s,i])}visitFixedSizeList(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new MS().visit({type:t.valueType})}=e,s=(0,po.toUint8Array)(e.nullBitmap),{["length"]:o=i.length/(0,Hx.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new La(t,r,o,a,[void 0,void 0,s],[i])}visitMap(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new MS().visit({type:t.childType})}=e,s=(0,po.toUint8Array)(e.nullBitmap),o=(0,po.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new La(t,r,a,l,[o,void 0,s],[i])}};function xSt(n){return new MS().visit(n)}Vx.makeData=xSt});var yU=G(ml=>{"use strict";d();Object.defineProperty(ml,"__esModule",{value:!0});ml.wrapChunkedIndexOf=ml.wrapChunkedCall2=ml.wrapChunkedCall1=ml.isChunkedValid=ml.binarySearch=ml.sliceChunks=ml.computeChunkOffsets=ml.computeChunkNullCounts=ml.ChunkedIterator=void 0;var PFe=class{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};ml.ChunkedIterator=PFe;function gSt(n){return n.reduce((e,t)=>e+t.nullCount,0)}ml.computeChunkNullCounts=gSt;function ySt(n){return n.reduce((e,t,r)=>(e[r+1]=e[r]+t.length,e),new Uint32Array(n.length+1))}ml.computeChunkOffsets=ySt;function vSt(n,e,t,r){let i=[];for(let s=-1,o=n.length;++s<o;){let a=n[s],l=e[s],{length:f}=a;if(l>=r)break;if(t>=l+f)continue;if(l>=t&&l+f<=r){i.push(a);continue}let p=Math.max(0,t-l),v=Math.min(r-l,f);i.push(a.slice(p,v-p))}return i.length===0&&i.push(n[0].slice(0,0)),i}ml.sliceChunks=vSt;function gU(n,e,t,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return t<e[o]?r(n,i,t-e[i]):null;s=i+Math.trunc((o-i)*.5),t<e[s]?o=s:i=s}while(i<o)}ml.binarySearch=gU;function _St(n,e){return n.getValid(e)}ml.isChunkedValid=_St;function bSt(n){function e(t,r,i){return n(t[r],i)}return function(t){let r=this.data;return gU(r,this._offsets,t,e)}}ml.wrapChunkedCall1=bSt;function ESt(n){let e;function t(r,i,s){return n(r[i],s,e)}return function(r,i){let s=this.data;e=i;let o=gU(s,this._offsets,r,t);return e=void 0,o}}ml.wrapChunkedCall2=ESt;function SSt(n){let e;function t(r,i,s){let o=s,a=0,l=0;for(let f=i-1,p=r.length;++f<p;){let v=r[f];if(~(a=n(v,e,o)))return l+a;o=0,l+=v.length}return-1}return function(r,i){e=r;let s=this.data,o=typeof i!="number"?t(s,0,0):gU(s,this._offsets,i,t);return e=void 0,o}}ml.wrapChunkedIndexOf=SSt});var vU=G(PS=>{"use strict";d();Object.defineProperty(PS,"__esModule",{value:!0});PS.instance=PS.IndexOfVisitor=void 0;var CSt=Kf(),BFe=I_(),jFe=M_(),qFe=YF(),fs=class extends CSt.Visitor{};PS.IndexOfVisitor=fs;function wSt(n,e){return e===null&&n.length>0?0:-1}function ASt(n,e){let{nullBitmap:t}=n;if(!t||n.nullCount<=0)return-1;let r=0;for(let i of new jFe.BitIterator(t,n.offset+(e||0),n.length,t,jFe.getBool)){if(!i)return r;++r}return-1}function Us(n,e,t){if(e===void 0)return-1;if(e===null)return ASt(n,t);let r=BFe.instance.getVisitFn(n),i=(0,qFe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function UFe(n,e,t){let r=BFe.instance.getVisitFn(n),i=(0,qFe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}fs.prototype.visitNull=wSt;fs.prototype.visitBool=Us;fs.prototype.visitInt=Us;fs.prototype.visitInt8=Us;fs.prototype.visitInt16=Us;fs.prototype.visitInt32=Us;fs.prototype.visitInt64=Us;fs.prototype.visitUint8=Us;fs.prototype.visitUint16=Us;fs.prototype.visitUint32=Us;fs.prototype.visitUint64=Us;fs.prototype.visitFloat=Us;fs.prototype.visitFloat16=Us;fs.prototype.visitFloat32=Us;fs.prototype.visitFloat64=Us;fs.prototype.visitUtf8=Us;fs.prototype.visitBinary=Us;fs.prototype.visitFixedSizeBinary=Us;fs.prototype.visitDate=Us;fs.prototype.visitDateDay=Us;fs.prototype.visitDateMillisecond=Us;fs.prototype.visitTimestamp=Us;fs.prototype.visitTimestampSecond=Us;fs.prototype.visitTimestampMillisecond=Us;fs.prototype.visitTimestampMicrosecond=Us;fs.prototype.visitTimestampNanosecond=Us;fs.prototype.visitTime=Us;fs.prototype.visitTimeSecond=Us;fs.prototype.visitTimeMillisecond=Us;fs.prototype.visitTimeMicrosecond=Us;fs.prototype.visitTimeNanosecond=Us;fs.prototype.visitDecimal=Us;fs.prototype.visitList=Us;fs.prototype.visitStruct=Us;fs.prototype.visitUnion=Us;fs.prototype.visitDenseUnion=UFe;fs.prototype.visitSparseUnion=UFe;fs.prototype.visitDictionary=Us;fs.prototype.visitInterval=Us;fs.prototype.visitIntervalDayTime=Us;fs.prototype.visitIntervalYearMonth=Us;fs.prototype.visitFixedSizeList=Us;fs.prototype.visitMap=Us;PS.instance=new fs});var _U=G(BS=>{"use strict";d();Object.defineProperty(BS,"__esModule",{value:!0});BS.instance=BS.IteratorVisitor=void 0;var TSt=Kf(),$Fe=Au(),Gie=Ca(),zFe=yU(),ds=class extends TSt.Visitor{};BS.IteratorVisitor=ds;function Ts(n){let{type:e}=n;if(n.nullCount===0&&n.stride===1&&(e.typeId===$Fe.Type.Timestamp||e instanceof Gie.Int&&e.bitWidth!==64||e instanceof Gie.Time&&e.bitWidth!==64||e instanceof Gie.Float&&e.precision!==$Fe.Precision.HALF))return new zFe.ChunkedIterator(n.data.length,r=>{let i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let t=0;return new zFe.ChunkedIterator(n.data.length,r=>{let s=n.data[r].length,o=n.slice(t,t+s);return t+=s,new HFe(o)})}var HFe=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};ds.prototype.visitNull=Ts;ds.prototype.visitBool=Ts;ds.prototype.visitInt=Ts;ds.prototype.visitInt8=Ts;ds.prototype.visitInt16=Ts;ds.prototype.visitInt32=Ts;ds.prototype.visitInt64=Ts;ds.prototype.visitUint8=Ts;ds.prototype.visitUint16=Ts;ds.prototype.visitUint32=Ts;ds.prototype.visitUint64=Ts;ds.prototype.visitFloat=Ts;ds.prototype.visitFloat16=Ts;ds.prototype.visitFloat32=Ts;ds.prototype.visitFloat64=Ts;ds.prototype.visitUtf8=Ts;ds.prototype.visitBinary=Ts;ds.prototype.visitFixedSizeBinary=Ts;ds.prototype.visitDate=Ts;ds.prototype.visitDateDay=Ts;ds.prototype.visitDateMillisecond=Ts;ds.prototype.visitTimestamp=Ts;ds.prototype.visitTimestampSecond=Ts;ds.prototype.visitTimestampMillisecond=Ts;ds.prototype.visitTimestampMicrosecond=Ts;ds.prototype.visitTimestampNanosecond=Ts;ds.prototype.visitTime=Ts;ds.prototype.visitTimeSecond=Ts;ds.prototype.visitTimeMillisecond=Ts;ds.prototype.visitTimeMicrosecond=Ts;ds.prototype.visitTimeNanosecond=Ts;ds.prototype.visitDecimal=Ts;ds.prototype.visitList=Ts;ds.prototype.visitStruct=Ts;ds.prototype.visitUnion=Ts;ds.prototype.visitDenseUnion=Ts;ds.prototype.visitSparseUnion=Ts;ds.prototype.visitDictionary=Ts;ds.prototype.visitInterval=Ts;ds.prototype.visitIntervalDayTime=Ts;ds.prototype.visitIntervalYearMonth=Ts;ds.prototype.visitFixedSizeList=Ts;ds.prototype.visitMap=Ts;BS.instance=new ds});var bU=G(Fh=>{"use strict";d();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.instance=Fh.GetByteLengthVisitor=void 0;var FSt=Kf(),VFe=Au(),DSt=(n,e)=>n+e,Mm=class extends FSt.Visitor{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===VFe.TimeUnit.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((r,i)=>r+Fh.instance.visit(i,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((r,i)=>r+Fh.instance.visit(i,t),0)}visitDictionary(e,t){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[t]))||0)}};Fh.GetByteLengthVisitor=Mm;var OSt=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),NSt=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),RSt=({valueOffsets:n,stride:e,children:t},r)=>{let i=t[0],{[r*e]:s}=n,{[r*e+1]:o}=n,a=Fh.instance.getVisitFn(i.type),l=i.slice(s,o-s),f=8;for(let p=-1,v=o-s;++p<v;)f+=a(l,p);return f},LSt=({stride:n,children:e},t)=>{let r=e[0],i=r.slice(t*n,n),s=Fh.instance.getVisitFn(r.type),o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},kSt=(n,e)=>n.type.mode===VFe.UnionMode.Dense?WFe(n,e):QFe(n,e),WFe=({type:n,children:e,typeIds:t,valueOffsets:r},i)=>{let s=n.typeIdToChildIndex[t[i]];return 8+Fh.instance.visit(e[s],r[i])},QFe=({children:n},e)=>4+Fh.instance.visitMany(n,n.map(()=>e)).reduce(DSt,0);Mm.prototype.visitUtf8=OSt;Mm.prototype.visitBinary=NSt;Mm.prototype.visitList=RSt;Mm.prototype.visitFixedSizeList=LSt;Mm.prototype.visitUnion=kSt;Mm.prototype.visitDenseUnion=WFe;Mm.prototype.visitSparseUnion=QFe;Fh.instance=new Mm});var Jf=G(qS=>{"use strict";d();var GFe;Object.defineProperty(qS,"__esModule",{value:!0});qS.makeVector=qS.Vector=void 0;var ISt=Pi(),Wx=Au(),MSt=YF(),jS=Ca(),O0=Im(),Pm=yU(),YFe=I_(),KFe=Ah(),JFe=vU(),PSt=_U(),XFe=bU(),ZFe={},eDe={},zo=class{constructor(e){var t,r,i;let s=e[0]instanceof zo?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof O0.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");let o=(t=s[0])===null||t===void 0?void 0:t.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:l,indexOf:f,byteLength:p}=ZFe[o.typeId],v=s[0];this.isValid=b=>(0,Pm.isChunkedValid)(v,b),this.get=b=>a(v,b),this.set=(b,F)=>l(v,b,F),this.indexOf=b=>f(v,b),this.getByteLength=b=>p(v,b),this._offsets=[0,v.length];break}default:Object.setPrototypeOf(this,eDe[o.typeId]),this._offsets=(0,Pm.computeChunkOffsets)(s);break}this.data=s,this.type=o,this.stride=(0,jS.strideForType)(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,Pm.computeChunkNullCounts)(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Wx.Type[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return PSt.instance.visit(this)}concat(...e){return new zo(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new zo((0,MSt.clampRange)(this,e,t,({data:r,_offsets:i},s,o)=>(0,Pm.sliceChunks)(r,i,s,o)))}toJSON(){return[...this]}toArray(){let{type:e,data:t,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case Wx.Type.Int:case Wx.Type.Float:case Wx.Type.Decimal:case Wx.Type.Time:case Wx.Type.Timestamp:switch(t.length){case 0:return new s;case 1:return t[0].values.subarray(0,r*i);default:return t.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new zo(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return jS.DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(jS.DataType.isDictionary(this.type)){let e=new KF(this.data[0].dictionary),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new zo(t)}return new KF(this)}unmemoize(){if(jS.DataType.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize(),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new zo(t)}return this}};qS.Vector=zo;GFe=Symbol.toStringTag;zo[GFe]=(n=>{n.type=jS.DataType.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;let e=Object.keys(Wx.Type).map(t=>Wx.Type[t]).filter(t=>typeof t=="number"&&t!==Wx.Type.NONE);for(let t of e){let r=YFe.instance.getVisitFnByTypeId(t),i=KFe.instance.getVisitFnByTypeId(t),s=JFe.instance.getVisitFnByTypeId(t),o=XFe.instance.getVisitFnByTypeId(t);ZFe[t]={get:r,set:i,indexOf:s,byteLength:o},eDe[t]=Object.create(n,{isValid:{value:(0,Pm.wrapChunkedCall1)(Pm.isChunkedValid)},get:{value:(0,Pm.wrapChunkedCall1)(YFe.instance.getVisitFnByTypeId(t))},set:{value:(0,Pm.wrapChunkedCall2)(KFe.instance.getVisitFnByTypeId(t))},indexOf:{value:(0,Pm.wrapChunkedIndexOf)(JFe.instance.getVisitFnByTypeId(t))},getByteLength:{value:(0,Pm.wrapChunkedCall1)(XFe.instance.getVisitFnByTypeId(t))}})}return"Vector"})(zo.prototype);var KF=class extends zo{constructor(e){super(e.data);let t=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){let a=s[o];if(a!==void 0)return a;let l=t.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new KF(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new zo(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}},Bm=ISt.__importStar(Ca());function tDe(n){if(n){if(n instanceof O0.Data)return new zo([n]);if(n instanceof zo)return new zo(n.data);if(n.type instanceof jS.DataType)return new zo([(0,O0.makeData)(n)]);if(Array.isArray(n))return new zo(n.flatMap(e=>BSt(e)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));let e={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Int8}))]);if(n instanceof Int16Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Int16}))]);if(n instanceof Int32Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Int32}))]);if(n instanceof BigInt64Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Int64}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Uint8}))]);if(n instanceof Uint16Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Uint16}))]);if(n instanceof Uint32Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Uint32}))]);if(n instanceof BigUint64Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Uint64}))]);if(n instanceof Float32Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Float32}))]);if(n instanceof Float64Array)return new zo([(0,O0.makeData)(Object.assign(Object.assign({},e),{type:new Bm.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}qS.makeVector=tDe;function BSt(n){return n instanceof O0.Data?[n]:n instanceof zo?n.data:tDe(n).data}});var nDe=G(EU=>{"use strict";d();Object.defineProperty(EU,"__esModule",{value:!0});EU.createIsValidFunction=void 0;var Yie=Jq(),jSt=Lm();function qSt(n){if(!n||n.length<=0)return function(i){return!0};let e="",t=n.filter(r=>r===r);return t.length>0&&(e=`
    switch (x) {${t.map(r=>`
        case ${USt(r)}:`).join("")}
            return false;
    }`),n.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}EU.createIsValidFunction=qSt;function USt(n){return typeof n!="bigint"?(0,Yie.valueToString)(n):jSt.BigIntAvailable?`${(0,Yie.valueToString)(n)}n`:`"${(0,Yie.valueToString)(n)}"`}});var P_=G(jm=>{"use strict";d();Object.defineProperty(jm,"__esModule",{value:!0});jm.OffsetsBufferBuilder=jm.BitmapBufferBuilder=jm.DataBufferBuilder=jm.BufferBuilder=void 0;var rDe=Mc(),Kie=(n,e)=>(n*e+63&~63||64)/e,$St=(n,e=0)=>n.length>=e?n.subarray(0,e):(0,rDe.memcpy)(new n.constructor(e),n,0),SU=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.trunc(e.length/t))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(i===0?Kie(r*1,this.BYTES_PER_ELEMENT):Kie(r*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=Kie(e*this.stride,this.BYTES_PER_ELEMENT);let t=$St(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=(0,rDe.memcpy)(new this.ArrayType(e),this.buffer)}};jm.BufferBuilder=SU;SU.prototype.offset=0;var CU=class extends SU{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};jm.DataBufferBuilder=CU;var iDe=class extends CU{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=r[i]>>s&1;return t?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};jm.BitmapBufferBuilder=iDe;var sDe=class extends CU{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};jm.OffsetsBufferBuilder=sDe});var Hu=G(I5=>{"use strict";d();Object.defineProperty(I5,"__esModule",{value:!0});I5.VariableWidthBuilder=I5.FixedWidthBuilder=I5.Builder=void 0;var zSt=Jf(),HSt=Im(),oDe=QF(),VSt=Ca(),WSt=nDe(),Jie=P_(),qm=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=(0,VSt.strideForType)(e),this._nulls=new Jie.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=(0,WSt.createIsValidFunction)(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new zSt.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:t,_values:r,_nulls:i,_typeIds:s,children:o}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,r)=>t+r.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,r,i,{type:s,length:o,nullCount:a,_typeIds:l,_offsets:f,_values:p,_nulls:v}=this;(t=l==null?void 0:l.flush(o))?i=f==null?void 0:f.flush(o):(i=f==null?void 0:f.flush(o))?e=p==null?void 0:p.flush(f.last()):e=p==null?void 0:p.flush(o),a>0&&(r=v==null?void 0:v.flush(o));let b=this.children.map(F=>F.flush());return this.clear(),(0,HSt.makeData)({type:s,length:o,nullCount:a,children:b,child:b[0],data:e,typeIds:t,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(let e of this.children)e.finish();return this}clear(){var e,t,r,i;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(t=this._values)===null||t===void 0||t.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(let s of this.children)s.clear();return this}};I5.Builder=qm;qm.prototype.length=1;qm.prototype.stride=1;qm.prototype.children=null;qm.prototype.finished=!1;qm.prototype.nullValues=null;qm.prototype._isValid=()=>!0;var aDe=class extends qm{constructor(e){super(e);this._values=new Jie.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}};I5.FixedWidthBuilder=aDe;var uDe=class extends qm{constructor(e){super(e);this._pendingLength=0,this._offsets=new Jie.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t instanceof oDe.MapRow?t[oDe.kKeys].length:t.length,r.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};I5.VariableWidthBuilder=uDe});var Xie=G(wU=>{"use strict";d();Object.defineProperty(wU,"__esModule",{value:!0});wU.Block=void 0;var lDe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};wU.Block=lDe});var B_=G(Um=>{"use strict";d();Object.defineProperty(Um,"__esModule",{value:!0});Um.SIZE_PREFIX_LENGTH=Um.FILE_IDENTIFIER_LENGTH=Um.SIZEOF_INT=Um.SIZEOF_SHORT=void 0;Um.SIZEOF_SHORT=2;Um.SIZEOF_INT=4;Um.FILE_IDENTIFIER_LENGTH=4;Um.SIZE_PREFIX_LENGTH=4});var Zie=G(Dh=>{"use strict";d();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.isLittleEndian=Dh.float64=Dh.float32=Dh.int32=void 0;Dh.int32=new Int32Array(2);Dh.float32=new Float32Array(Dh.int32.buffer);Dh.float64=new Float64Array(Dh.int32.buffer);Dh.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var AU=G(US=>{"use strict";d();Object.defineProperty(US,"__esModule",{value:!0});US.Long=US.createLong=void 0;function QSt(n,e){return cDe.create(n,e)}US.createLong=QSt;var cDe=function(){function n(e,t){this.low=e|0,this.high=t|0}return n.create=function(e,t){return e==0&&t==0?n.ZERO:new n(e,t)},n.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},n.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.ZERO=new n(0,0),n}();US.Long=cDe});var ese=G(JF=>{"use strict";d();Object.defineProperty(JF,"__esModule",{value:!0});JF.Encoding=void 0;var GSt;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(GSt=JF.Encoding||(JF.Encoding={}))});var nse=G(TU=>{"use strict";d();Object.defineProperty(TU,"__esModule",{value:!0});TU.ByteBuffer=void 0;var $m=B_(),tse=AU(),N0=Zie(),YSt=ese(),KSt=function(){function n(e){this.bytes_=e,this.position_=0}return n.allocate=function(e){return new n(new Uint8Array(e))},n.prototype.clear=function(){this.position_=0},n.prototype.bytes=function(){return this.bytes_},n.prototype.position=function(){return this.position_},n.prototype.setPosition=function(e){this.position_=e},n.prototype.capacity=function(){return this.bytes_.length},n.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.prototype.readUint8=function(e){return this.bytes_[e]},n.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.prototype.readInt64=function(e){return new tse.Long(this.readInt32(e),this.readInt32(e+4))},n.prototype.readUint64=function(e){return new tse.Long(this.readUint32(e),this.readUint32(e+4))},n.prototype.readFloat32=function(e){return N0.int32[0]=this.readInt32(e),N0.float32[0]},n.prototype.readFloat64=function(e){return N0.int32[N0.isLittleEndian?0:1]=this.readInt32(e),N0.int32[N0.isLittleEndian?1:0]=this.readInt32(e+4),N0.float64[0]},n.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.prototype.writeFloat32=function(e,t){N0.float32[0]=t,this.writeInt32(e,N0.int32[0])},n.prototype.writeFloat64=function(e,t){N0.float64[0]=t,this.writeInt32(e,N0.int32[N0.isLittleEndian?0:1]),this.writeInt32(e+4,N0.int32[N0.isLittleEndian?1:0])},n.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+$m.SIZEOF_INT+$m.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<$m.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+$m.SIZEOF_INT+t));return e},n.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},n.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),i="",s=0;if(e+=$m.SIZEOF_INT,t===YSt.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;s<r;){var o=void 0,a=this.readUint8(e+s++);if(a<192)o=a;else{var l=this.readUint8(e+s++);if(a<224)o=(a&31)<<6|l&63;else{var f=this.readUint8(e+s++);if(a<240)o=(a&15)<<12|(l&63)<<6|f&63;else{var p=this.readUint8(e+s++);o=(a&7)<<18|(l&63)<<12|(f&63)<<6|p&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return i},n.prototype.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},n.prototype.__indirect=function(e){return e+this.readInt32(e)},n.prototype.__vector=function(e){return e+this.readInt32(e)+$m.SIZEOF_INT},n.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.prototype.__has_identifier=function(e){if(e.length!=$m.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+$m.FILE_IDENTIFIER_LENGTH);for(var t=0;t<$m.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+$m.SIZEOF_INT+t))return!1;return!0},n.prototype.createLong=function(e,t){return tse.Long.create(e,t)},n.prototype.createScalarList=function(e,t){for(var r=[],i=0;i<t;++i)e(i)!==null&&r.push(e(i));return r},n.prototype.createObjList=function(e,t){for(var r=[],i=0;i<t;++i){var s=e(i);s!==null&&r.push(s.unpack())}return r},n}();TU.ByteBuffer=KSt});var dDe=G(FU=>{"use strict";d();Object.defineProperty(FU,"__esModule",{value:!0});FU.Builder=void 0;var fDe=nse(),bd=B_(),JSt=AU(),XSt=function(){function n(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;var t;e?t=e:t=1024,this.bb=fDe.ByteBuffer.allocate(t),this.space=t}return n.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},n.prototype.forceDefaults=function(e){this.force_defaults=e},n.prototype.dataBuffer=function(){return this.bb},n.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var i=this.bb.capacity();this.bb=n.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},n.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},n.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},n.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},n.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},n.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},n.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},n.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},n.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.prototype.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},n.prototype.offset=function(){return this.bb.capacity()-this.space},n.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,i=fDe.ByteBuffer.allocate(r);return i.setPosition(r-t),i.bytes().set(e.bytes(),r-t),i},n.prototype.addOffset=function(e){this.prep(bd.SIZEOF_INT,0),this.writeInt32(this.offset()-e+bd.SIZEOF_INT)},n.prototype.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var i=2;this.addInt16(e-this.object_start);var s=(r+i)*bd.SIZEOF_SHORT;this.addInt16(s);var o=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var l=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(l)){for(var f=bd.SIZEOF_SHORT;f<s;f+=bd.SIZEOF_SHORT)if(this.bb.readInt16(a+f)!=this.bb.readInt16(l+f))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.prototype.finish=function(e,t,r){var i=r?bd.SIZE_PREFIX_LENGTH:0;if(t){var s=t;if(this.prep(this.minalign,bd.SIZEOF_INT+bd.FILE_IDENTIFIER_LENGTH+i),s.length!=bd.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+bd.FILE_IDENTIFIER_LENGTH);for(var o=bd.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,bd.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},n.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r),s=this.bb.readInt16(i+t)!=0;if(!s)throw new Error("FlatBuffers: field "+t+" must be set")},n.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(bd.SIZEOF_INT,e*t),this.prep(r,e*t)},n.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.prototype.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},n.prototype.createString=function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var r=0;r<e.length;){var i=void 0,s=e.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{var o=e.charCodeAt(r++);i=(s<<10)+o+(65536-(55296<<10)-56320)}i<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(i&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var r=0,a=this.space,l=this.bb.bytes();r<t.length;r++)l[a++]=t[r];return this.endVector()},n.prototype.createLong=function(e,t){return JSt.Long.create(e,t)},n.prototype.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},n.prototype.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(i!==null)t.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},n.prototype.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()},n}();FU.Builder=XSt});var qs=G(Zo=>{"use strict";d();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.ByteBuffer=Zo.Builder=Zo.Encoding=Zo.createLong=Zo.Long=Zo.isLittleEndian=Zo.float64=Zo.float32=Zo.int32=Zo.SIZE_PREFIX_LENGTH=Zo.FILE_IDENTIFIER_LENGTH=Zo.SIZEOF_INT=Zo.SIZEOF_SHORT=void 0;var ZSt=B_();Object.defineProperty(Zo,"SIZEOF_SHORT",{enumerable:!0,get:function(){return ZSt.SIZEOF_SHORT}});var eCt=B_();Object.defineProperty(Zo,"SIZEOF_INT",{enumerable:!0,get:function(){return eCt.SIZEOF_INT}});var tCt=B_();Object.defineProperty(Zo,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return tCt.FILE_IDENTIFIER_LENGTH}});var nCt=B_();Object.defineProperty(Zo,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return nCt.SIZE_PREFIX_LENGTH}});var DU=Zie();Object.defineProperty(Zo,"int32",{enumerable:!0,get:function(){return DU.int32}});Object.defineProperty(Zo,"float32",{enumerable:!0,get:function(){return DU.float32}});Object.defineProperty(Zo,"float64",{enumerable:!0,get:function(){return DU.float64}});Object.defineProperty(Zo,"isLittleEndian",{enumerable:!0,get:function(){return DU.isLittleEndian}});var hDe=AU();Object.defineProperty(Zo,"Long",{enumerable:!0,get:function(){return hDe.Long}});Object.defineProperty(Zo,"createLong",{enumerable:!0,get:function(){return hDe.createLong}});var rCt=ese();Object.defineProperty(Zo,"Encoding",{enumerable:!0,get:function(){return rCt.Encoding}});var iCt=dDe();Object.defineProperty(Zo,"Builder",{enumerable:!0,get:function(){return iCt.Builder}});var sCt=nse();Object.defineProperty(Zo,"ByteBuffer",{enumerable:!0,get:function(){return sCt.ByteBuffer}})});var $S=G(OU=>{"use strict";d();Object.defineProperty(OU,"__esModule",{value:!0});OU.KeyValue=void 0;var oCt=Pi(),aCt=oCt.__importStar(qs()),Qx=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new Qx).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+aCt.SIZE_PREFIX_LENGTH),(t||new Qx).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return Qx.startKeyValue(e),Qx.addKey(e,t),Qx.addValue(e,r),Qx.endKeyValue(e)}};OU.KeyValue=Qx});var rse=G(XF=>{"use strict";d();Object.defineProperty(XF,"__esModule",{value:!0});XF.MetadataVersion=void 0;var uCt;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(uCt=XF.MetadataVersion||(XF.MetadataVersion={}))});var ise=G(ZF=>{"use strict";d();Object.defineProperty(ZF,"__esModule",{value:!0});ZF.Endianness=void 0;var lCt;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(lCt=ZF.Endianness||(ZF.Endianness={}))});var pDe=G(eD=>{"use strict";d();Object.defineProperty(eD,"__esModule",{value:!0});eD.DictionaryKind=void 0;var cCt;(function(n){n[n.DenseArray=0]="DenseArray"})(cCt=eD.DictionaryKind||(eD.DictionaryKind={}))});var M5=G(NU=>{"use strict";d();Object.defineProperty(NU,"__esModule",{value:!0});NU.Int=void 0;var fCt=Pi(),dCt=fCt.__importStar(qs()),Gx=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new Gx).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+dCt.SIZE_PREFIX_LENGTH),(t||new Gx).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return Gx.startInt(e),Gx.addBitWidth(e,t),Gx.addIsSigned(e,r),Gx.endInt(e)}};NU.Int=Gx});var sse=G(RU=>{"use strict";d();Object.defineProperty(RU,"__esModule",{value:!0});RU.DictionaryEncoding=void 0;var hCt=Pi(),pCt=hCt.__importStar(qs()),mDe=pDe(),mCt=M5(),tD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new tD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+pCt.SIZE_PREFIX_LENGTH),(t||new tD).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new mCt.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):mDe.DictionaryKind.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,mDe.DictionaryKind.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}};RU.DictionaryEncoding=tD});var ose=G(LU=>{"use strict";d();Object.defineProperty(LU,"__esModule",{value:!0});LU.Binary=void 0;var xCt=Pi(),gCt=xCt.__importStar(qs()),j_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new j_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+gCt.SIZE_PREFIX_LENGTH),(t||new j_).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return j_.startBinary(e),j_.endBinary(e)}};LU.Binary=j_});var ase=G(kU=>{"use strict";d();Object.defineProperty(kU,"__esModule",{value:!0});kU.Bool=void 0;var yCt=Pi(),vCt=yCt.__importStar(qs()),q_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new q_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+vCt.SIZE_PREFIX_LENGTH),(t||new q_).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return q_.startBool(e),q_.endBool(e)}};kU.Bool=q_});var xDe=G(nD=>{"use strict";d();Object.defineProperty(nD,"__esModule",{value:!0});nD.DateUnit=void 0;var _Ct;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(_Ct=nD.DateUnit||(nD.DateUnit={}))});var MU=G(IU=>{"use strict";d();Object.defineProperty(IU,"__esModule",{value:!0});IU.Date=void 0;var bCt=Pi(),ECt=bCt.__importStar(qs()),gDe=xDe(),P5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new P5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+ECt.SIZE_PREFIX_LENGTH),(t||new P5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):gDe.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,gDe.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return P5.startDate(e),P5.addUnit(e,t),P5.endDate(e)}};IU.Date=P5});var BU=G(PU=>{"use strict";d();Object.defineProperty(PU,"__esModule",{value:!0});PU.Decimal=void 0;var SCt=Pi(),CCt=SCt.__importStar(qs()),zm=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new zm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+CCt.SIZE_PREFIX_LENGTH),(t||new zm).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return zm.startDecimal(e),zm.addPrecision(e,t),zm.addScale(e,r),zm.addBitWidth(e,i),zm.endDecimal(e)}};PU.Decimal=zm});var jU=G(rD=>{"use strict";d();Object.defineProperty(rD,"__esModule",{value:!0});rD.TimeUnit=void 0;var wCt;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(wCt=rD.TimeUnit||(rD.TimeUnit={}))});var vDe=G(qU=>{"use strict";d();Object.defineProperty(qU,"__esModule",{value:!0});qU.Duration=void 0;var ACt=Pi(),TCt=ACt.__importStar(qs()),yDe=jU(),B5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new B5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+TCt.SIZE_PREFIX_LENGTH),(t||new B5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):yDe.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,yDe.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return B5.startDuration(e),B5.addUnit(e,t),B5.endDuration(e)}};qU.Duration=B5});var $U=G(UU=>{"use strict";d();Object.defineProperty(UU,"__esModule",{value:!0});UU.FixedSizeBinary=void 0;var FCt=Pi(),DCt=FCt.__importStar(qs()),j5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new j5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+DCt.SIZE_PREFIX_LENGTH),(t||new j5).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return j5.startFixedSizeBinary(e),j5.addByteWidth(e,t),j5.endFixedSizeBinary(e)}};UU.FixedSizeBinary=j5});var HU=G(zU=>{"use strict";d();Object.defineProperty(zU,"__esModule",{value:!0});zU.FixedSizeList=void 0;var OCt=Pi(),NCt=OCt.__importStar(qs()),q5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new q5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+NCt.SIZE_PREFIX_LENGTH),(t||new q5).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return q5.startFixedSizeList(e),q5.addListSize(e,t),q5.endFixedSizeList(e)}};zU.FixedSizeList=q5});var _De=G(iD=>{"use strict";d();Object.defineProperty(iD,"__esModule",{value:!0});iD.Precision=void 0;var RCt;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(RCt=iD.Precision||(iD.Precision={}))});var WU=G(VU=>{"use strict";d();Object.defineProperty(VU,"__esModule",{value:!0});VU.FloatingPoint=void 0;var LCt=Pi(),kCt=LCt.__importStar(qs()),bDe=_De(),U5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new U5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+kCt.SIZE_PREFIX_LENGTH),(t||new U5).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):bDe.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,bDe.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return U5.startFloatingPoint(e),U5.addPrecision(e,t),U5.endFloatingPoint(e)}};VU.FloatingPoint=U5});var EDe=G(sD=>{"use strict";d();Object.defineProperty(sD,"__esModule",{value:!0});sD.IntervalUnit=void 0;var ICt;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ICt=sD.IntervalUnit||(sD.IntervalUnit={}))});var GU=G(QU=>{"use strict";d();Object.defineProperty(QU,"__esModule",{value:!0});QU.Interval=void 0;var MCt=Pi(),PCt=MCt.__importStar(qs()),SDe=EDe(),$5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new $5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+PCt.SIZE_PREFIX_LENGTH),(t||new $5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):SDe.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,SDe.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return $5.startInterval(e),$5.addUnit(e,t),$5.endInterval(e)}};QU.Interval=$5});var CDe=G(YU=>{"use strict";d();Object.defineProperty(YU,"__esModule",{value:!0});YU.LargeBinary=void 0;var BCt=Pi(),jCt=BCt.__importStar(qs()),U_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new U_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+jCt.SIZE_PREFIX_LENGTH),(t||new U_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return U_.startLargeBinary(e),U_.endLargeBinary(e)}};YU.LargeBinary=U_});var wDe=G(KU=>{"use strict";d();Object.defineProperty(KU,"__esModule",{value:!0});KU.LargeList=void 0;var qCt=Pi(),UCt=qCt.__importStar(qs()),$_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new $_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+UCt.SIZE_PREFIX_LENGTH),(t||new $_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return $_.startLargeList(e),$_.endLargeList(e)}};KU.LargeList=$_});var ADe=G(JU=>{"use strict";d();Object.defineProperty(JU,"__esModule",{value:!0});JU.LargeUtf8=void 0;var $Ct=Pi(),zCt=$Ct.__importStar(qs()),z_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new z_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+zCt.SIZE_PREFIX_LENGTH),(t||new z_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return z_.startLargeUtf8(e),z_.endLargeUtf8(e)}};JU.LargeUtf8=z_});var use=G(XU=>{"use strict";d();Object.defineProperty(XU,"__esModule",{value:!0});XU.List=void 0;var HCt=Pi(),VCt=HCt.__importStar(qs()),H_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new H_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+VCt.SIZE_PREFIX_LENGTH),(t||new H_).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return H_.startList(e),H_.endList(e)}};XU.List=H_});var e$=G(ZU=>{"use strict";d();Object.defineProperty(ZU,"__esModule",{value:!0});ZU.Map=void 0;var WCt=Pi(),QCt=WCt.__importStar(qs()),z5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new z5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+QCt.SIZE_PREFIX_LENGTH),(t||new z5).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return z5.startMap(e),z5.addKeysSorted(e,t),z5.endMap(e)}};ZU.Map=z5});var lse=G(t$=>{"use strict";d();Object.defineProperty(t$,"__esModule",{value:!0});t$.Null=void 0;var GCt=Pi(),YCt=GCt.__importStar(qs()),V_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new V_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+YCt.SIZE_PREFIX_LENGTH),(t||new V_).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return V_.startNull(e),V_.endNull(e)}};t$.Null=V_});var cse=G(n$=>{"use strict";d();Object.defineProperty(n$,"__esModule",{value:!0});n$.Struct_=void 0;var KCt=Pi(),JCt=KCt.__importStar(qs()),W_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new W_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+JCt.SIZE_PREFIX_LENGTH),(t||new W_).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return W_.startStruct_(e),W_.endStruct_(e)}};n$.Struct_=W_});var i$=G(r$=>{"use strict";d();Object.defineProperty(r$,"__esModule",{value:!0});r$.Time=void 0;var XCt=Pi(),ZCt=XCt.__importStar(qs()),TDe=jU(),Yx=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new Yx).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+ZCt.SIZE_PREFIX_LENGTH),(t||new Yx).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):TDe.TimeUnit.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,TDe.TimeUnit.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return Yx.startTime(e),Yx.addUnit(e,t),Yx.addBitWidth(e,r),Yx.endTime(e)}};r$.Time=Yx});var o$=G(s$=>{"use strict";d();Object.defineProperty(s$,"__esModule",{value:!0});s$.Timestamp=void 0;var e9t=Pi(),t9t=e9t.__importStar(qs()),FDe=jU(),Kx=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new Kx).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+t9t.SIZE_PREFIX_LENGTH),(t||new Kx).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):FDe.TimeUnit.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,FDe.TimeUnit.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return Kx.startTimestamp(e),Kx.addUnit(e,t),Kx.addTimezone(e,r),Kx.endTimestamp(e)}};s$.Timestamp=Kx});var DDe=G(oD=>{"use strict";d();Object.defineProperty(oD,"__esModule",{value:!0});oD.UnionMode=void 0;var n9t;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(n9t=oD.UnionMode||(oD.UnionMode={}))});var u$=G(a$=>{"use strict";d();Object.defineProperty(a$,"__esModule",{value:!0});a$.Union=void 0;var r9t=Pi(),i9t=r9t.__importStar(qs()),ODe=DDe(),Jx=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new Jx).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+i9t.SIZE_PREFIX_LENGTH),(t||new Jx).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ODe.UnionMode.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,ODe.UnionMode.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return Jx.startUnion(e),Jx.addMode(e,t),Jx.addTypeIds(e,r),Jx.endUnion(e)}};a$.Union=Jx});var fse=G(l$=>{"use strict";d();Object.defineProperty(l$,"__esModule",{value:!0});l$.Utf8=void 0;var s9t=Pi(),o9t=s9t.__importStar(qs()),Q_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new Q_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+o9t.SIZE_PREFIX_LENGTH),(t||new Q_).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Q_.startUtf8(e),Q_.endUtf8(e)}};l$.Utf8=Q_});var zS=G(Xx=>{"use strict";d();Object.defineProperty(Xx,"__esModule",{value:!0});Xx.unionListToType=Xx.unionToType=Xx.Type=void 0;var NDe=ose(),RDe=ase(),LDe=MU(),kDe=BU(),IDe=vDe(),MDe=$U(),PDe=HU(),BDe=WU(),jDe=M5(),qDe=GU(),UDe=CDe(),$De=wDe(),zDe=ADe(),HDe=use(),VDe=e$(),WDe=lse(),QDe=cse(),GDe=i$(),YDe=o$(),KDe=u$(),JDe=fse(),dse;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(dse=Xx.Type||(Xx.Type={}));function a9t(n,e){switch(dse[n]){case"NONE":return null;case"Null":return e(new WDe.Null);case"Int":return e(new jDe.Int);case"FloatingPoint":return e(new BDe.FloatingPoint);case"Binary":return e(new NDe.Binary);case"Utf8":return e(new JDe.Utf8);case"Bool":return e(new RDe.Bool);case"Decimal":return e(new kDe.Decimal);case"Date":return e(new LDe.Date);case"Time":return e(new GDe.Time);case"Timestamp":return e(new YDe.Timestamp);case"Interval":return e(new qDe.Interval);case"List":return e(new HDe.List);case"Struct_":return e(new QDe.Struct_);case"Union":return e(new KDe.Union);case"FixedSizeBinary":return e(new MDe.FixedSizeBinary);case"FixedSizeList":return e(new PDe.FixedSizeList);case"Map":return e(new VDe.Map);case"Duration":return e(new IDe.Duration);case"LargeBinary":return e(new UDe.LargeBinary);case"LargeUtf8":return e(new zDe.LargeUtf8);case"LargeList":return e(new $De.LargeList);default:return null}}Xx.unionToType=a9t;function u9t(n,e,t){switch(dse[n]){case"NONE":return null;case"Null":return e(t,new WDe.Null);case"Int":return e(t,new jDe.Int);case"FloatingPoint":return e(t,new BDe.FloatingPoint);case"Binary":return e(t,new NDe.Binary);case"Utf8":return e(t,new JDe.Utf8);case"Bool":return e(t,new RDe.Bool);case"Decimal":return e(t,new kDe.Decimal);case"Date":return e(t,new LDe.Date);case"Time":return e(t,new GDe.Time);case"Timestamp":return e(t,new YDe.Timestamp);case"Interval":return e(t,new qDe.Interval);case"List":return e(t,new HDe.List);case"Struct_":return e(t,new QDe.Struct_);case"Union":return e(t,new KDe.Union);case"FixedSizeBinary":return e(t,new MDe.FixedSizeBinary);case"FixedSizeList":return e(t,new PDe.FixedSizeList);case"Map":return e(t,new VDe.Map);case"Duration":return e(t,new IDe.Duration);case"LargeBinary":return e(t,new UDe.LargeBinary);case"LargeUtf8":return e(t,new zDe.LargeUtf8);case"LargeList":return e(t,new $De.LargeList);default:return null}}Xx.unionListToType=u9t});var hse=G(c$=>{"use strict";d();Object.defineProperty(c$,"__esModule",{value:!0});c$.Field=void 0;var l9t=Pi(),c9t=l9t.__importStar(qs()),f9t=sse(),d9t=$S(),XDe=zS(),HS=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new HS).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+c9t.SIZE_PREFIX_LENGTH),(t||new HS).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):XDe.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new f9t.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new HS).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new d9t.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,XDe.Type.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}};c$.Field=HS});var d$=G(f$=>{"use strict";d();Object.defineProperty(f$,"__esModule",{value:!0});f$.Schema=void 0;var h9t=Pi(),p9t=h9t.__importStar(qs()),ZDe=ise(),m9t=hse(),x9t=$S(),Qp=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new Qp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+p9t.SIZE_PREFIX_LENGTH),(t||new Qp).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ZDe.Endianness.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new m9t.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new x9t.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,ZDe.Endianness.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,s){return Qp.startSchema(e),Qp.addEndianness(e,t),Qp.addFields(e,r),Qp.addCustomMetadata(e,i),Qp.addFeatures(e,s),Qp.endSchema(e)}};f$.Schema=Qp});var nOe=G(h$=>{"use strict";d();Object.defineProperty(h$,"__esModule",{value:!0});h$.Footer=void 0;var g9t=Pi(),y9t=g9t.__importStar(qs()),eOe=Xie(),v9t=$S(),tOe=rse(),_9t=d$(),aD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new aD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+y9t.SIZE_PREFIX_LENGTH),(t||new aD).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tOe.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new _9t.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new eOe.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new eOe.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new v9t.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,tOe.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}};h$.Footer=aD});var R0=G(VS=>{"use strict";d();Object.defineProperty(VS,"__esModule",{value:!0});VS.Field=VS.Schema=void 0;var b9t=Ca(),Oh=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=pse(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){let t=new Set(e),r=this.fields.filter(i=>t.has(i.name));return new Oh(r,this.metadata)}selectAt(e){let t=e.map(r=>this.fields[r]).filter(Boolean);return new Oh(t,this.metadata)}assign(...e){let t=e[0]instanceof Oh?e[0]:Array.isArray(e[0])?new Oh(e[0]):new Oh(e),r=[...this.fields],i=p$(p$(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let l=r.findIndex(f=>f.name===a.name);return~l?(r[l]=a.clone({metadata:p$(p$(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=pse(s,new Map);return new Oh([...r,...s],i,new Map([...this.dictionaries,...o]))}};VS.Schema=Oh;Oh.prototype.fields=null;Oh.prototype.metadata=null;Oh.prototype.dictionaries=null;var Zx=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Zx(`${t}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],Zx.new(t,r,i,s)}};VS.Field=Zx;Zx.prototype.type=null;Zx.prototype.name=null;Zx.prototype.nullable=null;Zx.prototype.metadata=null;function p$(n,e){return new Map([...n||new Map,...e||new Map])}function pse(n,e=new Map){for(let t=-1,r=n.length;++t<r;){let s=n[t].type;if(b9t.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&pse(s.children,e)}return e}});var gse=G(WS=>{"use strict";d();Object.defineProperty(WS,"__esModule",{value:!0});WS.FileBlock=WS.Footer=void 0;var E9t=Pi(),S9t=Xie(),Hm=nOe(),mse=E9t.__importStar(qs()),rOe=mse.Long,C9t=mse.Builder,w9t=mse.ByteBuffer,iOe=R0(),sOe=Au(),A9t=Mc(),xse=class{constructor(e,t=sOe.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new w9t((0,A9t.toUint8Array)(e));let t=Hm.Footer.getRootAsFooter(e),r=iOe.Schema.decode(t.schema());return new oOe(r,t)}static encode(e){let t=new C9t,r=iOe.Schema.encode(t,e.schema);Hm.Footer.startRecordBatchesVector(t,e.numRecordBatches);for(let o of[...e.recordBatches()].slice().reverse())H5.encode(t,o);let i=t.endVector();Hm.Footer.startDictionariesVector(t,e.numDictionaries);for(let o of[...e.dictionaryBatches()].slice().reverse())H5.encode(t,o);let s=t.endVector();return Hm.Footer.startFooter(t),Hm.Footer.addSchema(t,r),Hm.Footer.addVersion(t,sOe.MetadataVersion.V4),Hm.Footer.addRecordBatches(t,i),Hm.Footer.addDictionaries(t,s),Hm.Footer.finishFooterBuffer(t,Hm.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};WS.Footer=xse;var oOe=class extends xse{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return H5.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return H5.decode(t)}return null}},H5=class{constructor(e,t,r){this.metaDataLength=e,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new H5(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:r}=t,i=new rOe(t.offset,0),s=new rOe(t.bodyLength,0);return S9t.Block.createBlock(e,i,r,s)}};WS.FileBlock=H5});var uD=G(L0=>{"use strict";d();Object.defineProperty(L0,"__esModule",{value:!0});L0.AsyncQueue=L0.ReadableInterop=L0.ArrowJSON=L0.ITERATOR_DONE=void 0;var QS=Pi(),aOe=QS.__importDefault(HF());L0.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var uOe=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};L0.ArrowJSON=uOe;var yse=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};L0.ReadableInterop=yse;var lOe=class extends yse{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return QS.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(L0.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return aOe.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return aOe.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return QS.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),L0.ITERATOR_DONE})}return(e){return QS.__awaiter(this,void 0,void 0,function*(){return yield this.close(),L0.ITERATOR_DONE})}read(e){return QS.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return QS.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,r)=>{this.resolvers.push({resolve:t,reject:r})}):Promise.resolve(L0.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};L0.AsyncQueue=lOe});var G5=G(Q5=>{"use strict";d();Object.defineProperty(Q5,"__esModule",{value:!0});Q5.AsyncByteStream=Q5.ByteStream=Q5.AsyncByteQueue=void 0;var eg=Pi(),V5=eg.__importDefault(HF()),cOe=L_(),lD=uD(),vse=Mc(),GS=Lm(),_se=class extends lD.AsyncQueue{write(e){if((e=(0,vse.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,cOe.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(cOe.decodeUtf8)}toUint8Array(e=!1){return e?(0,vse.joinUint8Arrays)(this._values)[0]:(()=>eg.__awaiter(this,void 0,void 0,function*(){var t,r;let i=[],s=0;try{for(var o=eg.__asyncValues(this),a;a=yield o.next(),!a.done;){let l=a.value;i.push(l),s+=l.byteLength}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return(0,vse.joinUint8Arrays)(i,s)[0]}))()}};Q5.AsyncByteQueue=_se;var fOe=class{constructor(e){e&&(this.source=new dOe(V5.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Q5.ByteStream=fOe;var m$=class{constructor(e){e instanceof m$?this.source=e.source:e instanceof _se?this.source=new W5(V5.default.fromAsyncIterable(e)):(0,GS.isReadableNodeStream)(e)?this.source=new W5(V5.default.fromNodeStream(e)):(0,GS.isReadableDOMStream)(e)?this.source=new W5(V5.default.fromDOMStream(e)):(0,GS.isFetchResponse)(e)?this.source=new W5(V5.default.fromDOMStream(e.body)):(0,GS.isIterable)(e)?this.source=new W5(V5.default.fromIterable(e)):(0,GS.isPromise)(e)?this.source=new W5(V5.default.fromAsyncIterable(e)):(0,GS.isAsyncIterable)(e)&&(this.source=new W5(V5.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Q5.AsyncByteStream=m$;var dOe=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||lD.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||lD.ITERATOR_DONE)}},W5=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return eg.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return eg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return eg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return eg.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return eg.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||lD.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return eg.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||lD.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var bse=G(YS=>{"use strict";d();Object.defineProperty(YS,"__esModule",{value:!0});YS.AsyncRandomAccessFile=YS.RandomAccessFile=void 0;var Y5=Pi(),hOe=G5(),T9t=Mc(),pOe=class extends hOe.ByteStream{constructor(e,t){super();this.position=0,this.buffer=(0,T9t.toUint8Array)(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};YS.RandomAccessFile=pOe;var mOe=class extends hOe.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>Y5.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return Y5.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)})}seek(e){return Y5.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return Y5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0,l=Math.min(r,s+Math.min(r-s,e)),f=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<f.byteLength;)({bytesRead:a}=yield t.read(f,o,f.byteLength-o,s));return f}return null})}readAt(e,t){return Y5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:r,size:i}=this;if(r&&e+t<i){let s=Math.min(i,e+t),o=new Uint8Array(s-e);return(yield r.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return Y5.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return Y5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return Y5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};YS.AsyncRandomAccessFile=mOe});var Sse=G(Vm=>{"use strict";d();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.Int128=Vm.Int64=Vm.Uint64=Vm.BaseInt64=void 0;var F9t=1<<16;function KS(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}var JS=8,Ese=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],x$=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=t[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=t[2]*r[3],s+=i,i=t[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?F9t:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${KS(this.buffer[1])} ${KS(this.buffer[0])}`}};Vm.BaseInt64=x$;var Do=class extends x${times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return Do.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Do.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.length,i=new Do(t);for(let s=0;s<r;){let o=JS<r-s?JS:r-s,a=new Do(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new Do(new Uint32Array([Ese[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Do.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new Do(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Do(new Uint32Array(e.buffer)).plus(t)}};Vm.Uint64=Do;var Ed=class extends x${negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Ed.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Ed.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.startsWith("-"),i=e.length,s=new Ed(t);for(let o=r?1:0;o<i;){let a=JS<i-o?JS:i-o,l=new Ed(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),f=new Ed(new Uint32Array([Ese[a],0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Ed.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new Ed(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Ed(new Uint32Array(e.buffer)).plus(t)}};Vm.Int64=Ed;var Gp=class{constructor(e){this.buffer=e}high(){return new Ed(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Ed(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new Do(new Uint32Array([this.buffer[3],0])),r=new Do(new Uint32Array([this.buffer[2],0])),i=new Do(new Uint32Array([this.buffer[1],0])),s=new Do(new Uint32Array([this.buffer[0],0])),o=new Do(new Uint32Array([e.buffer[3],0])),a=new Do(new Uint32Array([e.buffer[2],0])),l=new Do(new Uint32Array([e.buffer[1],0])),f=new Do(new Uint32Array([e.buffer[0],0])),p=Do.multiply(s,f);this.buffer[0]=p.low();let v=new Do(new Uint32Array([p.high(),0]));return p=Do.multiply(i,f),v.plus(p),p=Do.multiply(s,l),v.plus(p),this.buffer[1]=v.low(),this.buffer[3]=v.lessThan(p)?1:0,this.buffer[2]=v.high(),new Do(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Do.multiply(r,f)).plus(Do.multiply(i,l)).plus(Do.multiply(s,a)),this.buffer[3]+=Do.multiply(t,f).plus(Do.multiply(r,l)).plus(Do.multiply(i,a)).plus(Do.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${KS(this.buffer[3])} ${KS(this.buffer[2])} ${KS(this.buffer[1])} ${KS(this.buffer[0])}`}static multiply(e,t){return new Gp(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Gp(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return Gp.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return Gp.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let r=e.startsWith("-"),i=e.length,s=new Gp(t);for(let o=r?1:0;o<i;){let a=JS<i-o?JS:i-o,l=new Gp(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),f=new Gp(new Uint32Array([Ese[a],0,0,0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)Gp.from(e[r],new Uint32Array(t.buffer,t.byteOffset+4*4*r,4));return t}};Vm.Int128=Gp});var vOe=G(XS=>{"use strict";d();Object.defineProperty(XS,"__esModule",{value:!0});XS.JSONVectorLoader=XS.VectorLoader=void 0;var Il=Im(),D9t=R0(),tg=Ca(),O9t=Kf(),xOe=M_(),N9t=L_(),g$=Sse(),gOe=Au(),Wm=Mc(),Cse=class extends O9t.Visitor{constructor(e,t,r,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof D9t.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t})}visitBool(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===gOe.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Il.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};XS.VectorLoader=Cse;var yOe=class extends Cse{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i);this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):(0,xOe.packBools)(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return(0,Wm.toArrayBufferView)(Uint8Array,(0,Wm.toArrayBufferView)(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return(0,Wm.toArrayBufferView)(Uint8Array,(0,Wm.toArrayBufferView)(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return tg.DataType.isTimestamp(e)||(tg.DataType.isInt(e)||tg.DataType.isTime(e))&&e.bitWidth===64||tg.DataType.isDate(e)&&e.unit===gOe.DateUnit.MILLISECOND?(0,Wm.toArrayBufferView)(Uint8Array,g$.Int64.convertArray(r[t])):tg.DataType.isDecimal(e)?(0,Wm.toArrayBufferView)(Uint8Array,g$.Int128.convertArray(r[t])):tg.DataType.isBinary(e)||tg.DataType.isFixedSizeBinary(e)?R9t(r[t]):tg.DataType.isBool(e)?(0,xOe.packBools)(r[t]):tg.DataType.isUtf8(e)?(0,N9t.encodeUtf8)(r[t].join("")):(0,Wm.toArrayBufferView)(Uint8Array,(0,Wm.toArrayBufferView)(e.ArrayType,r[t].map(i=>+i)))}};XS.JSONVectorLoader=yOe;function R9t(n){let e=n.join(""),t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r>>1]=Number.parseInt(e.slice(r,r+2),16);return t}});var v$=G(y$=>{"use strict";d();Object.defineProperty(y$,"__esModule",{value:!0});y$.BinaryBuilder=void 0;var L9t=Mc(),k9t=P_(),I9t=Hu(),_Oe=class extends I9t.VariableWidthBuilder{constructor(e){super(e);this._values=new k9t.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,L9t.toUint8Array)(t))}_flushPending(e,t){let r=this._offsets,i=this._values.reserve(t).buffer,s=0;for(let[o,a]of e)if(a===void 0)r.set(o,0);else{let l=a.length;i.set(a,s),r.set(o,l),s+=l}}};y$.BinaryBuilder=_Oe});var wse=G(_$=>{"use strict";d();Object.defineProperty(_$,"__esModule",{value:!0});_$.BoolBuilder=void 0;var M9t=P_(),P9t=Hu(),bOe=class extends P9t.Builder{constructor(e){super(e);this._values=new M9t.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};_$.BoolBuilder=bOe});var Dse=G(K5=>{"use strict";d();Object.defineProperty(K5,"__esModule",{value:!0});K5.DateMillisecondBuilder=K5.DateDayBuilder=K5.DateBuilder=void 0;var B9t=Hu(),Ase=Ah(),cD=class extends B9t.FixedWidthBuilder{};K5.DateBuilder=cD;cD.prototype._setValue=Ase.setDate;var Tse=class extends cD{};K5.DateDayBuilder=Tse;Tse.prototype._setValue=Ase.setDateDay;var Fse=class extends cD{};K5.DateMillisecondBuilder=Fse;Fse.prototype._setValue=Ase.setDateMillisecond});var Nse=G(b$=>{"use strict";d();Object.defineProperty(b$,"__esModule",{value:!0});b$.DecimalBuilder=void 0;var j9t=Hu(),q9t=Ah(),Ose=class extends j9t.FixedWidthBuilder{};b$.DecimalBuilder=Ose;Ose.prototype._setValue=q9t.setDecimal});var Rse=G(E$=>{"use strict";d();Object.defineProperty(E$,"__esModule",{value:!0});E$.DictionaryBuilder=void 0;var U9t=Ca(),$9t=Hu(),EOe=fD(),SOe=class extends $9t.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:r}){super({type:new U9t.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,EOe.makeBuilder)({type:this.type.indices,nullValues:t}),this.dictionary=(0,EOe.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};E$.DictionaryBuilder=SOe});var kse=G(S$=>{"use strict";d();Object.defineProperty(S$,"__esModule",{value:!0});S$.FixedSizeBinaryBuilder=void 0;var z9t=Hu(),H9t=Ah(),Lse=class extends z9t.FixedWidthBuilder{};S$.FixedSizeBinaryBuilder=Lse;Lse.prototype._setValue=H9t.setFixedSizeBinary});var Ise=G(C$=>{"use strict";d();Object.defineProperty(C$,"__esModule",{value:!0});C$.FixedSizeListBuilder=void 0;var V9t=R0(),W9t=Hu(),Q9t=Ca(),COe=class extends W9t.Builder{setValue(e,t){let[r]=this.children,i=e*this.stride;for(let s=-1,o=t.length;++s<o;)r.set(i+s,t[s])}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let r=this.children.push(e);return this.type=new Q9t.FixedSizeList(this.type.listSize,new V9t.Field(t,e.type,!0)),r}};C$.FixedSizeListBuilder=COe});var Mse=G(Qm=>{"use strict";d();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.Float64Builder=Qm.Float32Builder=Qm.Float16Builder=Qm.FloatBuilder=void 0;var G9t=WF(),Y9t=Hu(),dD=class extends Y9t.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};Qm.FloatBuilder=dD;var wOe=class extends dD{setValue(e,t){super.setValue(e,(0,G9t.float64ToUint16)(t))}};Qm.Float16Builder=wOe;var AOe=class extends dD{};Qm.Float32Builder=AOe;var TOe=class extends dD{};Qm.Float64Builder=TOe});var qse=G(J5=>{"use strict";d();Object.defineProperty(J5,"__esModule",{value:!0});J5.IntervalYearMonthBuilder=J5.IntervalDayTimeBuilder=J5.IntervalBuilder=void 0;var K9t=Hu(),Pse=Ah(),hD=class extends K9t.FixedWidthBuilder{};J5.IntervalBuilder=hD;hD.prototype._setValue=Pse.setIntervalValue;var Bse=class extends hD{};J5.IntervalDayTimeBuilder=Bse;Bse.prototype._setValue=Pse.setIntervalDayTime;var jse=class extends hD{};J5.IntervalYearMonthBuilder=jse;jse.prototype._setValue=Pse.setIntervalYearMonth});var Use=G(xl=>{"use strict";d();Object.defineProperty(xl,"__esModule",{value:!0});xl.Uint64Builder=xl.Uint32Builder=xl.Uint16Builder=xl.Uint8Builder=xl.Int64Builder=xl.Int32Builder=xl.Int16Builder=xl.Int8Builder=xl.IntBuilder=void 0;var J9t=Hu(),Gm=class extends J9t.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};xl.IntBuilder=Gm;var FOe=class extends Gm{};xl.Int8Builder=FOe;var DOe=class extends Gm{};xl.Int16Builder=DOe;var OOe=class extends Gm{};xl.Int32Builder=OOe;var NOe=class extends Gm{};xl.Int64Builder=NOe;var ROe=class extends Gm{};xl.Uint8Builder=ROe;var LOe=class extends Gm{};xl.Uint16Builder=LOe;var kOe=class extends Gm{};xl.Uint32Builder=kOe;var IOe=class extends Gm{};xl.Uint64Builder=IOe});var $se=G(w$=>{"use strict";d();Object.defineProperty(w$,"__esModule",{value:!0});w$.ListBuilder=void 0;var X9t=R0(),Z9t=Ca(),ewt=P_(),twt=Hu(),MOe=class extends twt.VariableWidthBuilder{constructor(e){super(e);this._offsets=new ewt.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new Z9t.List(new X9t.Field(t,e.type,!0)),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let o=s.length,a=t.set(i,o).buffer[i];for(let l=-1;++l<o;)r.set(a+l,s[l])}}};w$.ListBuilder=MOe});var zse=G(A$=>{"use strict";d();Object.defineProperty(A$,"__esModule",{value:!0});A$.MapBuilder=void 0;var nwt=R0(),rwt=Ca(),iwt=Hu(),POe=class extends iwt.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){let r=t instanceof Map?t:new Map(Object.entries(t)),i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(e,r)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new rwt.Map_(new nwt.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let{[i]:o,[i+1]:a}=t.set(i,s.size).buffer;for(let l of s.entries())if(r.set(o,l),++o>=a)break}}};A$.MapBuilder=POe});var Hse=G(T$=>{"use strict";d();Object.defineProperty(T$,"__esModule",{value:!0});T$.NullBuilder=void 0;var swt=Hu(),BOe=class extends swt.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};T$.NullBuilder=BOe});var Vse=G(F$=>{"use strict";d();Object.defineProperty(F$,"__esModule",{value:!0});F$.StructBuilder=void 0;var owt=R0(),awt=Hu(),uwt=Ca(),jOe=class extends awt.Builder{setValue(e,t){let{children:r,type:i}=this;switch(Array.isArray(t)||t.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(e,t[o]));case Map:return i.children.forEach((s,o)=>r[o].set(e,t.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(e,t[s.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(r=>r.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){let r=this.children.push(e);return this.type=new uwt.Struct([...this.type.children,new owt.Field(t,e.type,!0)]),r}};F$.StructBuilder=jOe});var Kse=G(Nh=>{"use strict";d();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.TimestampNanosecondBuilder=Nh.TimestampMicrosecondBuilder=Nh.TimestampMillisecondBuilder=Nh.TimestampSecondBuilder=Nh.TimestampBuilder=void 0;var lwt=Hu(),pD=Ah(),G_=class extends lwt.FixedWidthBuilder{};Nh.TimestampBuilder=G_;G_.prototype._setValue=pD.setTimestamp;var Wse=class extends G_{};Nh.TimestampSecondBuilder=Wse;Wse.prototype._setValue=pD.setTimestampSecond;var Qse=class extends G_{};Nh.TimestampMillisecondBuilder=Qse;Qse.prototype._setValue=pD.setTimestampMillisecond;var Gse=class extends G_{};Nh.TimestampMicrosecondBuilder=Gse;Gse.prototype._setValue=pD.setTimestampMicrosecond;var Yse=class extends G_{};Nh.TimestampNanosecondBuilder=Yse;Yse.prototype._setValue=pD.setTimestampNanosecond});var toe=G(Rh=>{"use strict";d();Object.defineProperty(Rh,"__esModule",{value:!0});Rh.TimeNanosecondBuilder=Rh.TimeMicrosecondBuilder=Rh.TimeMillisecondBuilder=Rh.TimeSecondBuilder=Rh.TimeBuilder=void 0;var cwt=Hu(),mD=Ah(),Y_=class extends cwt.FixedWidthBuilder{};Rh.TimeBuilder=Y_;Y_.prototype._setValue=mD.setTime;var Jse=class extends Y_{};Rh.TimeSecondBuilder=Jse;Jse.prototype._setValue=mD.setTimeSecond;var Xse=class extends Y_{};Rh.TimeMillisecondBuilder=Xse;Xse.prototype._setValue=mD.setTimeMillisecond;var Zse=class extends Y_{};Rh.TimeMicrosecondBuilder=Zse;Zse.prototype._setValue=mD.setTimeMicrosecond;var eoe=class extends Y_{};Rh.TimeNanosecondBuilder=eoe;eoe.prototype._setValue=mD.setTimeNanosecond});var noe=G(X5=>{"use strict";d();Object.defineProperty(X5,"__esModule",{value:!0});X5.DenseUnionBuilder=X5.SparseUnionBuilder=X5.UnionBuilder=void 0;var fwt=R0(),qOe=P_(),dwt=Hu(),hwt=Ca(),D$=class extends dwt.Builder{constructor(e){super(e);this._typeIds=new qOe.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return r===void 0&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r);let i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(e,t)}addChild(e,t=`${this.children.length}`){let r=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new fwt.Field(t,e.type)];return this.type=new hwt.Union(s,[...o,r],a),r}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};X5.UnionBuilder=D$;var UOe=class extends D${};X5.SparseUnionBuilder=UOe;var $Oe=class extends D${constructor(e){super(e);this._offsets=new qOe.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this._typeIds.set(e,r).buffer[e],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(e,s.length).buffer[e];s==null||s.set(o,t)}};X5.DenseUnionBuilder=$Oe});var ioe=G(O$=>{"use strict";d();Object.defineProperty(O$,"__esModule",{value:!0});O$.Utf8Builder=void 0;var pwt=L_(),mwt=v$(),xwt=P_(),gwt=Hu(),roe=class extends gwt.VariableWidthBuilder{constructor(e){super(e);this._values=new xwt.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,pwt.encodeUtf8)(t))}_flushPending(e,t){}};O$.Utf8Builder=roe;roe.prototype._flushPending=mwt.BinaryBuilder.prototype._flushPending});var zOe=G(ZS=>{"use strict";d();Object.defineProperty(ZS,"__esModule",{value:!0});ZS.instance=ZS.GetBuilderCtor=void 0;var ywt=Kf(),vwt=v$(),_wt=wse(),soe=Dse(),bwt=Nse(),Ewt=Rse(),Swt=kse(),Cwt=Ise(),N$=Mse(),ooe=qse(),ng=Use(),wwt=$se(),Awt=zse(),Twt=Hse(),Fwt=Vse(),xD=Kse(),gD=toe(),aoe=noe(),Dwt=ioe(),uoe=class extends ywt.Visitor{visitNull(){return Twt.NullBuilder}visitBool(){return _wt.BoolBuilder}visitInt(){return ng.IntBuilder}visitInt8(){return ng.Int8Builder}visitInt16(){return ng.Int16Builder}visitInt32(){return ng.Int32Builder}visitInt64(){return ng.Int64Builder}visitUint8(){return ng.Uint8Builder}visitUint16(){return ng.Uint16Builder}visitUint32(){return ng.Uint32Builder}visitUint64(){return ng.Uint64Builder}visitFloat(){return N$.FloatBuilder}visitFloat16(){return N$.Float16Builder}visitFloat32(){return N$.Float32Builder}visitFloat64(){return N$.Float64Builder}visitUtf8(){return Dwt.Utf8Builder}visitBinary(){return vwt.BinaryBuilder}visitFixedSizeBinary(){return Swt.FixedSizeBinaryBuilder}visitDate(){return soe.DateBuilder}visitDateDay(){return soe.DateDayBuilder}visitDateMillisecond(){return soe.DateMillisecondBuilder}visitTimestamp(){return xD.TimestampBuilder}visitTimestampSecond(){return xD.TimestampSecondBuilder}visitTimestampMillisecond(){return xD.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return xD.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return xD.TimestampNanosecondBuilder}visitTime(){return gD.TimeBuilder}visitTimeSecond(){return gD.TimeSecondBuilder}visitTimeMillisecond(){return gD.TimeMillisecondBuilder}visitTimeMicrosecond(){return gD.TimeMicrosecondBuilder}visitTimeNanosecond(){return gD.TimeNanosecondBuilder}visitDecimal(){return bwt.DecimalBuilder}visitList(){return wwt.ListBuilder}visitStruct(){return Fwt.StructBuilder}visitUnion(){return aoe.UnionBuilder}visitDenseUnion(){return aoe.DenseUnionBuilder}visitSparseUnion(){return aoe.SparseUnionBuilder}visitDictionary(){return Ewt.DictionaryBuilder}visitInterval(){return ooe.IntervalBuilder}visitIntervalDayTime(){return ooe.IntervalDayTimeBuilder}visitIntervalYearMonth(){return ooe.IntervalYearMonthBuilder}visitFixedSizeList(){return Cwt.FixedSizeListBuilder}visitMap(){return Awt.MapBuilder}};ZS.GetBuilderCtor=uoe;ZS.instance=new uoe});var bD=G(Tu=>{"use strict";d();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.compareTypes=Tu.compareFields=Tu.compareSchemas=Tu.instance=Tu.TypeComparator=void 0;var Owt=Kf(),hs=class extends Owt.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,i)=>this.compareFields(r,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Tu.TypeComparator=hs;function k0(n,e){return e instanceof n.constructor}function yD(n,e){return n===e||k0(n,e)}function rg(n,e){return n===e||k0(n,e)&&n.bitWidth===e.bitWidth&&n.isSigned===e.isSigned}function R$(n,e){return n===e||k0(n,e)&&n.precision===e.precision}function Nwt(n,e){return n===e||k0(n,e)&&n.byteWidth===e.byteWidth}function loe(n,e){return n===e||k0(n,e)&&n.unit===e.unit}function vD(n,e){return n===e||k0(n,e)&&n.unit===e.unit&&n.timezone===e.timezone}function _D(n,e){return n===e||k0(n,e)&&n.unit===e.unit&&n.bitWidth===e.bitWidth}function Rwt(n,e){return n===e||k0(n,e)&&n.children.length===e.children.length&&Tu.instance.compareManyFields(n.children,e.children)}function Lwt(n,e){return n===e||k0(n,e)&&n.children.length===e.children.length&&Tu.instance.compareManyFields(n.children,e.children)}function coe(n,e){return n===e||k0(n,e)&&n.mode===e.mode&&n.typeIds.every((t,r)=>t===e.typeIds[r])&&Tu.instance.compareManyFields(n.children,e.children)}function kwt(n,e){return n===e||k0(n,e)&&n.id===e.id&&n.isOrdered===e.isOrdered&&Tu.instance.visit(n.indices,e.indices)&&Tu.instance.visit(n.dictionary,e.dictionary)}function foe(n,e){return n===e||k0(n,e)&&n.unit===e.unit}function Iwt(n,e){return n===e||k0(n,e)&&n.listSize===e.listSize&&n.children.length===e.children.length&&Tu.instance.compareManyFields(n.children,e.children)}function Mwt(n,e){return n===e||k0(n,e)&&n.keysSorted===e.keysSorted&&n.children.length===e.children.length&&Tu.instance.compareManyFields(n.children,e.children)}hs.prototype.visitNull=yD;hs.prototype.visitBool=yD;hs.prototype.visitInt=rg;hs.prototype.visitInt8=rg;hs.prototype.visitInt16=rg;hs.prototype.visitInt32=rg;hs.prototype.visitInt64=rg;hs.prototype.visitUint8=rg;hs.prototype.visitUint16=rg;hs.prototype.visitUint32=rg;hs.prototype.visitUint64=rg;hs.prototype.visitFloat=R$;hs.prototype.visitFloat16=R$;hs.prototype.visitFloat32=R$;hs.prototype.visitFloat64=R$;hs.prototype.visitUtf8=yD;hs.prototype.visitBinary=yD;hs.prototype.visitFixedSizeBinary=Nwt;hs.prototype.visitDate=loe;hs.prototype.visitDateDay=loe;hs.prototype.visitDateMillisecond=loe;hs.prototype.visitTimestamp=vD;hs.prototype.visitTimestampSecond=vD;hs.prototype.visitTimestampMillisecond=vD;hs.prototype.visitTimestampMicrosecond=vD;hs.prototype.visitTimestampNanosecond=vD;hs.prototype.visitTime=_D;hs.prototype.visitTimeSecond=_D;hs.prototype.visitTimeMillisecond=_D;hs.prototype.visitTimeMicrosecond=_D;hs.prototype.visitTimeNanosecond=_D;hs.prototype.visitDecimal=yD;hs.prototype.visitList=Rwt;hs.prototype.visitStruct=Lwt;hs.prototype.visitUnion=coe;hs.prototype.visitDenseUnion=coe;hs.prototype.visitSparseUnion=coe;hs.prototype.visitDictionary=kwt;hs.prototype.visitInterval=foe;hs.prototype.visitIntervalDayTime=foe;hs.prototype.visitIntervalYearMonth=foe;hs.prototype.visitFixedSizeList=Iwt;hs.prototype.visitMap=Mwt;Tu.instance=new hs;function Pwt(n,e){return Tu.instance.compareSchemas(n,e)}Tu.compareSchemas=Pwt;function Bwt(n,e){return Tu.instance.compareFields(n,e)}Tu.compareFields=Bwt;function jwt(n,e){return Tu.instance.visit(n,e)}Tu.compareTypes=jwt});var fD=G(kh=>{"use strict";d();Object.defineProperty(kh,"__esModule",{value:!0});kh.builderThroughAsyncIterable=kh.builderThroughIterable=kh.tableFromJSON=kh.vectorFromArray=kh.makeBuilder=void 0;var K_=Pi(),doe=R0(),Lh=K_.__importStar(Ca()),qwt=Im(),HOe=Jf(),Uwt=zOe(),$wt=eC(),zwt=Z5(),Hwt=bD();function L$(n){let e=n.type,t=new(Uwt.instance.getVisitFn(e)())(n);if(e.children&&e.children.length>0){let r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(let[o,a]of e.children.entries()){let{type:l}=a,f=s(a,o);t.children.push(L$(Object.assign(Object.assign({},f),{type:l})))}}return t}kh.makeBuilder=L$;function VOe(n,e){if(n instanceof qwt.Data||n instanceof HOe.Vector||n.type instanceof Lh.DataType||ArrayBuffer.isView(n))return(0,HOe.makeVector)(n);let t={type:e??k$(n),nullValues:[null]},r=[...WOe(t)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return Lh.DataType.isDictionary(i.type)?i.memoize():i}kh.vectorFromArray=VOe;function Vwt(n){let e=VOe(n),t=new zwt.RecordBatch(new doe.Schema(e.type.children),e.data[0]);return new $wt.Table(t)}kh.tableFromJSON=Vwt;function k$(n){if(n.length===0)return new Lh.Null;let e=0,t=0,r=0,i=0,s=0,o=0,a=0,l=0;for(let f of n){if(f==null){++e;continue}switch(typeof f){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(f)?++t:Object.prototype.toString.call(f)==="[object Date]"?++l:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+e===n.length)return new Lh.Float64;if(s+e===n.length)return new Lh.Dictionary(new Lh.Utf8,new Lh.Int32);if(o+e===n.length)return new Lh.Int64;if(a+e===n.length)return new Lh.Bool;if(l+e===n.length)return new Lh.DateMillisecond;if(t+e===n.length){let f=n,p=k$(f[f.findIndex(v=>v!=null)]);if(f.every(v=>v==null||(0,Hwt.compareTypes)(p,k$(v))))return new Lh.List(new doe.Field("",p,!0))}else if(r+e===n.length){let f=new Map;for(let p of n)for(let v of Object.keys(p))!f.has(v)&&p[v]!=null&&f.set(v,new doe.Field(v,k$([p[v]]),!0));return new Lh.Struct([...f.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function WOe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function*(i){let s=0,o=L$(n);for(let a of i)o.append(a)[r]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}kh.builderThroughIterable=WOe;function Wwt(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function(i){return K_.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,l=L$(n);try{for(var f=K_.__asyncValues(i),p;p=yield K_.__await(f.next()),!p.done;){let v=p.value;l.append(v)[r]>=t&&++a&&(yield yield K_.__await(l.toVector()))}}catch(v){s={error:v}}finally{try{p&&!p.done&&(o=f.return)&&(yield K_.__await(o.call(f)))}finally{if(s)throw s.error}}(l.finish().length>0||a===0)&&(yield yield K_.__await(l.toVector()))})}}kh.builderThroughAsyncIterable=Wwt});var GOe=G(I$=>{"use strict";d();Object.defineProperty(I$,"__esModule",{value:!0});I$.distributeVectorsIntoRecordBatches=void 0;var QOe=Im(),Qwt=Ca(),Gwt=Z5();function Ywt(n,e){return Kwt(n,e.map(t=>t.data.concat()))}I$.distributeVectorsIntoRecordBatches=Ywt;function Kwt(n,e){let t=[...n.fields],r=[],i={numBatches:e.reduce((v,b)=>Math.max(v,b.length),0)},s=0,o=0,a=-1,l=e.length,f,p=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)p[a]=f=e[a].shift(),o=Math.min(o,f?f.length:o);Number.isFinite(o)&&(p=Jwt(t,o,p,e,i),o>0&&(r[s++]=(0,QOe.makeData)({type:new Qwt.Struct(t),length:o,nullCount:0,children:p.slice()})))}return[n=n.assign(t),r.map(v=>new Gwt.RecordBatch(n,v))]}function Jwt(n,e,t,r,i){var s;let o=(e+63&~63)>>3;for(let a=-1,l=r.length;++a<l;){let f=t[a],p=f==null?void 0:f.length;if(p>=e)p===e?t[a]=f:(t[a]=f.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(f.slice(e,p-e))));else{let v=n[a];n[a]=v.clone({nullable:!0}),t[a]=(s=f==null?void 0:f._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:(0,QOe.makeData)({type:v.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return t}});var eC=G(e4=>{"use strict";d();var YOe;Object.defineProperty(e4,"__esModule",{value:!0});e4.tableFromArrays=e4.makeTable=e4.Table=void 0;var M$=Au(),hoe=Im(),Xwt=fD(),ED=Jf(),J_=R0(),KOe=Ca(),Zwt=bD(),poe=GOe(),ig=yU(),eAt=I_(),tAt=Ah(),nAt=vU(),rAt=_U(),iAt=bU(),sAt=YF(),tC=Z5(),Sd=class{constructor(...e){var t,r;if(e.length===0)return this.batches=[],this.schema=new J_.Schema([]),this._offsets=[0],this;let i,s;e[0]instanceof J_.Schema&&(i=e.shift()),e[e.length-1]instanceof Uint32Array&&(s=e.pop());let o=l=>{if(l){if(l instanceof tC.RecordBatch)return[l];if(l instanceof Sd)return l.batches;if(l instanceof hoe.Data){if(l.type instanceof KOe.Struct)return[new tC.RecordBatch(new J_.Schema(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(f=>o(f));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(f=>o(f));if(typeof l=="object"){let f=Object.keys(l),p=f.map(F=>new ED.Vector([l[F]])),v=new J_.Schema(f.map((F,D)=>new J_.Field(String(F),p[D].type))),[,b]=(0,poe.distributeVectorsIntoRecordBatches)(v,p);return b.length===0?[new tC.RecordBatch(l)]:b}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((t=a[0])===null||t===void 0?void 0:t.schema))!==null&&r!==void 0?r:new J_.Schema([]),!(i instanceof J_.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let l of a){if(!(l instanceof tC.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,Zwt.compareSchemas)(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??(0,ig.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,ig.computeChunkNullCounts)(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?rAt.instance.visit(new ED.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){let t=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new Sd(t,r.map(i=>new tC.RecordBatch(t,i)))}slice(e,t){let r=this.schema;[e,t]=(0,sAt.clampRange)({length:this.numRows},e,t);let i=(0,ig.sliceChunks)(this.data,this._offsets,e,t);return new Sd(r,i.map(s=>new tC.RecordBatch(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let t=this.data.map(r=>r.children[e]);if(t.length===0){let{type:r}=this.schema.fields[e],i=(0,hoe.makeData)({type:r,length:0,nullCount:0});t.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new ED.Vector(t)}return null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new ED.Vector([(0,hoe.makeData)({type:new KOe.Null,length:this.numRows})]));let s=r.fields.slice(),o=s[e].clone({type:t.type}),a=this.schema.fields.map((l,f)=>this.getChildAt(f));[s[e],a[e]]=[o,t],[r,i]=(0,poe.distributeVectorsIntoRecordBatches)(r,a)}return new Sd(r,i)}select(e){let t=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>t.get(r)).filter(r=>r>-1))}selectAt(e){let t=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new Sd(t,r)}assign(e){let t=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,f)=>{let[p,v]=a,b=t.findIndex(F=>F.name===l.name);return~b?v[b]=f:p.push(f),a},[[],[]]),s=this.schema.assign(e.schema),o=[...t.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new Sd(...(0,poe.distributeVectorsIntoRecordBatches)(s,o))}};e4.Table=Sd;YOe=Symbol.toStringTag;Sd[YOe]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=(0,ig.wrapChunkedCall1)(ig.isChunkedValid),n.get=(0,ig.wrapChunkedCall1)(eAt.instance.getVisitFn(M$.Type.Struct)),n.set=(0,ig.wrapChunkedCall2)(tAt.instance.getVisitFn(M$.Type.Struct)),n.indexOf=(0,ig.wrapChunkedIndexOf)(nAt.instance.getVisitFn(M$.Type.Struct)),n.getByteLength=(0,ig.wrapChunkedCall1)(iAt.instance.getVisitFn(M$.Type.Struct)),"Table"))(Sd.prototype);function oAt(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,ED.makeVector)(i);return new Sd(e)}e4.makeTable=oAt;function aAt(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,Xwt.vectorFromArray)(i);return new Sd(e)}e4.tableFromArrays=aAt});var Z5=G(nC=>{"use strict";d();var JOe;Object.defineProperty(nC,"__esModule",{value:!0});nC._InternalEmptyPlaceholderRecordBatch=nC.RecordBatch=void 0;var Ih=Im(),uAt=eC(),P$=Jf(),B$=R0(),sg=Ca(),lAt=I_(),cAt=Ah(),fAt=vU(),dAt=_U(),hAt=bU(),Ym=class{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof B$.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,Ih.makeData)({nullCount:0,type:new sg.Struct(this.schema.fields),children:this.schema.fields.map(t=>(0,Ih.makeData)({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Ih.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=XOe(this.schema,this.data.children);break}case 1:{let[t]=e,{fields:r,children:i,length:s}=Object.keys(t).reduce((l,f,p)=>(l.children[p]=t[f],l.length=Math.max(l.length,t[f].length),l.fields[p]=B$.Field.new({name:f,type:t[f].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new B$.Schema(r),a=(0,Ih.makeData)({type:new sg.Struct(r),length:s,children:i,nullCount:0});[this.schema,this.data]=XOe(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=ZOe(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return lAt.instance.visit(this.data,e)}set(e,t){return cAt.instance.visit(this.data,e,t)}indexOf(e,t){return fAt.instance.visit(this.data,e,t)}getByteLength(e){return hAt.instance.visit(this.data,e)}[Symbol.iterator](){return dAt.instance.visit(new P$.Vector([this.data]))}toArray(){return[...this]}concat(...e){return new uAt.Table(this.schema,[this,...e])}slice(e,t){let[r]=new P$.Vector([this.data]).slice(e,t).data;return new Ym(this.schema,r)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new P$.Vector([this.data.children[e]]):null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new P$.Vector([(0,Ih.makeData)({type:new sg.Null,length:this.numRows})]));let s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:t.type});[s[e],o[e]]=[a,t.data[0]],r=new B$.Schema(s,new Map(this.schema.metadata)),i=(0,Ih.makeData)({type:new sg.Struct(s),children:o})}return new Ym(r,i)}select(e){let t=this.schema.select(e),r=new sg.Struct(t.fields),i=[];for(let s of e){let o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Ym(t,(0,Ih.makeData)({type:r,length:this.numRows,children:i}))}selectAt(e){let t=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=(0,Ih.makeData)({type:new sg.Struct(t.fields),length:this.numRows,children:r});return new Ym(t,i)}};nC.RecordBatch=Ym;JOe=Symbol.toStringTag;Ym[JOe]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Ym.prototype);function XOe(n,e,t=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;let i=[...n.fields],s=[...e],o=(t+63&~63)>>3;for(let[a,l]of n.fields.entries()){let f=e[a];(!f||f.length!==t)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=f==null?void 0:f._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:(0,Ih.makeData)({type:l.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),(0,Ih.makeData)({type:new sg.Struct(i),length:t,children:s})]}function ZOe(n,e,t=new Map){for(let r=-1,i=n.length;++r<i;){let o=n[r].type,a=e[r];if(sg.DataType.isDictionary(o)){if(!t.has(o.id))a.dictionary&&t.set(o.id,a.dictionary);else if(t.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&ZOe(o.children,a.children,t)}return t}var eNe=class extends Ym{constructor(e){let t=e.fields.map(i=>(0,Ih.makeData)({type:i.type})),r=(0,Ih.makeData)({type:new sg.Struct(e.fields),nullCount:0,children:t});super(e,r)}};nC._InternalEmptyPlaceholderRecordBatch=eNe});var tNe=G(SD=>{"use strict";d();Object.defineProperty(SD,"__esModule",{value:!0});SD.BodyCompressionMethod=void 0;var pAt;(function(n){n[n.BUFFER=0]="BUFFER"})(pAt=SD.BodyCompressionMethod||(SD.BodyCompressionMethod={}))});var nNe=G(CD=>{"use strict";d();Object.defineProperty(CD,"__esModule",{value:!0});CD.CompressionType=void 0;var mAt;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(mAt=CD.CompressionType||(CD.CompressionType={}))});var sNe=G(j$=>{"use strict";d();Object.defineProperty(j$,"__esModule",{value:!0});j$.BodyCompression=void 0;var xAt=Pi(),gAt=xAt.__importStar(qs()),rNe=tNe(),iNe=nNe(),og=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new og).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+gAt.SIZE_PREFIX_LENGTH),(t||new og).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):iNe.CompressionType.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):rNe.BodyCompressionMethod.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,iNe.CompressionType.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,rNe.BodyCompressionMethod.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return og.startBodyCompression(e),og.addCodec(e,t),og.addMethod(e,r),og.endBodyCompression(e)}};j$.BodyCompression=og});var t4=G(q$=>{"use strict";d();Object.defineProperty(q$,"__esModule",{value:!0});q$.Buffer=void 0;var oNe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};q$.Buffer=oNe});var moe=G(U$=>{"use strict";d();Object.defineProperty(U$,"__esModule",{value:!0});U$.FieldNode=void 0;var aNe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};U$.FieldNode=aNe});var z$=G($$=>{"use strict";d();Object.defineProperty($$,"__esModule",{value:!0});$$.RecordBatch=void 0;var yAt=Pi(),vAt=yAt.__importStar(qs()),_At=sNe(),bAt=t4(),EAt=moe(),wD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new wD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+vAt.SIZE_PREFIX_LENGTH),(t||new wD).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new EAt.FieldNode).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new bAt.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new _At.BodyCompression).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}};$$.RecordBatch=wD});var xoe=G(H$=>{"use strict";d();Object.defineProperty(H$,"__esModule",{value:!0});H$.DictionaryBatch=void 0;var SAt=Pi(),CAt=SAt.__importStar(qs()),wAt=z$(),AD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new AD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+CAt.SIZE_PREFIX_LENGTH),(t||new AD).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new wAt.RecordBatch).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};H$.DictionaryBatch=AD});var uNe=G(TD=>{"use strict";d();Object.defineProperty(TD,"__esModule",{value:!0});TD.SparseMatrixCompressedAxis=void 0;var AAt;(function(n){n[n.Row=0]="Row",n[n.Column=1]="Column"})(AAt=TD.SparseMatrixCompressedAxis||(TD.SparseMatrixCompressedAxis={}))});var dNe=G(V$=>{"use strict";d();Object.defineProperty(V$,"__esModule",{value:!0});V$.SparseMatrixIndexCSX=void 0;var TAt=Pi(),FAt=TAt.__importStar(qs()),lNe=t4(),cNe=M5(),fNe=uNe(),FD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseMatrixIndexCSX(e,t){return(t||new FD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,t){return e.setPosition(e.position()+FAt.SIZE_PREFIX_LENGTH),(t||new FD).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):fNe.SparseMatrixCompressedAxis.Row}indptrType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new cNe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new lNe.Buffer).__init(this.bb_pos+t,this.bb):null}indicesType(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new cNe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new lNe.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseMatrixIndexCSX(e){e.startObject(5)}static addCompressedAxis(e,t){e.addFieldInt16(0,t,fNe.SparseMatrixCompressedAxis.Row)}static addIndptrType(e,t){e.addFieldOffset(1,t,0)}static addIndptrBuffer(e,t){e.addFieldStruct(2,t,0)}static addIndicesType(e,t){e.addFieldOffset(3,t,0)}static addIndicesBuffer(e,t){e.addFieldStruct(4,t,0)}static endSparseMatrixIndexCSX(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};V$.SparseMatrixIndexCSX=FD});var hNe=G(W$=>{"use strict";d();Object.defineProperty(W$,"__esModule",{value:!0});W$.SparseTensorIndexCOO=void 0;var DAt=Pi(),OAt=DAt.__importStar(qs()),NAt=t4(),RAt=M5(),DD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCOO(e,t){return(t||new DD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,t){return e.setPosition(e.position()+OAt.SIZE_PREFIX_LENGTH),(t||new DD).__init(e.readInt32(e.position())+e.position(),e)}indicesType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new RAt.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesStrides(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}indicesStridesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new NAt.Buffer).__init(this.bb_pos+t,this.bb):null}isCanonical(){let e=this.bb.__offset(this.bb_pos,10);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startSparseTensorIndexCOO(e){e.startObject(4)}static addIndicesType(e,t){e.addFieldOffset(0,t,0)}static addIndicesStrides(e,t){e.addFieldOffset(1,t,0)}static createIndicesStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startIndicesStridesVector(e,t){e.startVector(8,t,8)}static addIndicesBuffer(e,t){e.addFieldStruct(2,t,0)}static addIsCanonical(e,t){e.addFieldInt8(3,+t,0)}static endSparseTensorIndexCOO(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,8),t}};W$.SparseTensorIndexCOO=DD});var xNe=G(Q$=>{"use strict";d();Object.defineProperty(Q$,"__esModule",{value:!0});Q$.SparseTensorIndexCSF=void 0;var LAt=Pi(),kAt=LAt.__importStar(qs()),pNe=t4(),mNe=M5(),OD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCSF(e,t){return(t||new OD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,t){return e.setPosition(e.position()+kAt.SIZE_PREFIX_LENGTH),(t||new OD).__init(e.readInt32(e.position())+e.position(),e)}indptrType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new mNe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffers(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new pNe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indptrBuffersLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesType(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new mNe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffers(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new pNe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indicesBuffersLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrder(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}axisOrderLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrderArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startSparseTensorIndexCSF(e){e.startObject(5)}static addIndptrType(e,t){e.addFieldOffset(0,t,0)}static addIndptrBuffers(e,t){e.addFieldOffset(1,t,0)}static startIndptrBuffersVector(e,t){e.startVector(16,t,8)}static addIndicesType(e,t){e.addFieldOffset(2,t,0)}static addIndicesBuffers(e,t){e.addFieldOffset(3,t,0)}static startIndicesBuffersVector(e,t){e.startVector(16,t,8)}static addAxisOrder(e,t){e.addFieldOffset(4,t,0)}static createAxisOrderVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startAxisOrderVector(e,t){e.startVector(4,t,4)}static endSparseTensorIndexCSF(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};Q$.SparseTensorIndexCSF=OD});var _Ne=G(ag=>{"use strict";d();Object.defineProperty(ag,"__esModule",{value:!0});ag.unionListToSparseTensorIndex=ag.unionToSparseTensorIndex=ag.SparseTensorIndex=void 0;var gNe=dNe(),yNe=hNe(),vNe=xNe(),goe;(function(n){n[n.NONE=0]="NONE",n[n.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",n[n.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",n[n.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(goe=ag.SparseTensorIndex||(ag.SparseTensorIndex={}));function IAt(n,e){switch(goe[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(new yNe.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(new gNe.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(new vNe.SparseTensorIndexCSF);default:return null}}ag.unionToSparseTensorIndex=IAt;function MAt(n,e,t){switch(goe[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(t,new yNe.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(t,new gNe.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(t,new vNe.SparseTensorIndexCSF);default:return null}}ag.unionListToSparseTensorIndex=MAt});var yoe=G(G$=>{"use strict";d();Object.defineProperty(G$,"__esModule",{value:!0});G$.TensorDim=void 0;var PAt=Pi(),BAt=PAt.__importStar(qs()),ug=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorDim(e,t){return(t||new ug).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorDim(e,t){return e.setPosition(e.position()+BAt.SIZE_PREFIX_LENGTH),(t||new ug).__init(e.readInt32(e.position())+e.position(),e)}size(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}name(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTensorDim(e){e.startObject(2)}static addSize(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addName(e,t){e.addFieldOffset(1,t,0)}static endTensorDim(e){return e.endObject()}static createTensorDim(e,t,r){return ug.startTensorDim(e),ug.addSize(e,t),ug.addName(e,r),ug.endTensorDim(e)}};G$.TensorDim=ug});var SNe=G(Y$=>{"use strict";d();Object.defineProperty(Y$,"__esModule",{value:!0});Y$.SparseTensor=void 0;var jAt=Pi(),qAt=jAt.__importStar(qs()),UAt=t4(),bNe=_Ne(),$At=yoe(),ENe=zS(),ND=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new ND).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+qAt.SIZE_PREFIX_LENGTH),(t||new ND).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):ENe.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new $At.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}nonZeroLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}sparseIndexType(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb_pos+e):bNe.SparseTensorIndex.NONE}sparseIndex(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__union(e,this.bb_pos+t):null}data(e){let t=this.bb.__offset(this.bb_pos,16);return t?(e||new UAt.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseTensor(e){e.startObject(7)}static addTypeType(e,t){e.addFieldInt8(0,t,ENe.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addNonZeroLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addSparseIndexType(e,t){e.addFieldInt8(4,t,bNe.SparseTensorIndex.NONE)}static addSparseIndex(e,t){e.addFieldOffset(5,t,0)}static addData(e,t){e.addFieldStruct(6,t,0)}static endSparseTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,14),e.requiredField(t,16),t}static finishSparseTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedSparseTensorBuffer(e,t){e.finish(t,void 0,!0)}};Y$.SparseTensor=ND});var wNe=G(K$=>{"use strict";d();Object.defineProperty(K$,"__esModule",{value:!0});K$.Tensor=void 0;var zAt=Pi(),HAt=zAt.__importStar(qs()),VAt=t4(),WAt=yoe(),CNe=zS(),RD=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new RD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+HAt.SIZE_PREFIX_LENGTH),(t||new RD).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):CNe.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new WAt.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}strides(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}stridesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}data(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new VAt.Buffer).__init(this.bb_pos+t,this.bb):null}static startTensor(e){e.startObject(5)}static addTypeType(e,t){e.addFieldInt8(0,t,CNe.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addStrides(e,t){e.addFieldOffset(3,t,0)}static createStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startStridesVector(e,t){e.startVector(8,t,8)}static addData(e,t){e.addFieldStruct(4,t,0)}static endTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,12),t}static finishTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedTensorBuffer(e,t){e.finish(t,void 0,!0)}};K$.Tensor=RD});var _oe=G(lg=>{"use strict";d();Object.defineProperty(lg,"__esModule",{value:!0});lg.unionListToMessageHeader=lg.unionToMessageHeader=lg.MessageHeader=void 0;var ANe=xoe(),TNe=z$(),FNe=d$(),DNe=SNe(),ONe=wNe(),voe;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(voe=lg.MessageHeader||(lg.MessageHeader={}));function QAt(n,e){switch(voe[n]){case"NONE":return null;case"Schema":return e(new FNe.Schema);case"DictionaryBatch":return e(new ANe.DictionaryBatch);case"RecordBatch":return e(new TNe.RecordBatch);case"Tensor":return e(new ONe.Tensor);case"SparseTensor":return e(new DNe.SparseTensor);default:return null}}lg.unionToMessageHeader=QAt;function GAt(n,e,t){switch(voe[n]){case"NONE":return null;case"Schema":return e(t,new FNe.Schema);case"DictionaryBatch":return e(t,new ANe.DictionaryBatch);case"RecordBatch":return e(t,new TNe.RecordBatch);case"Tensor":return e(t,new ONe.Tensor);case"SparseTensor":return e(t,new DNe.SparseTensor);default:return null}}lg.unionListToMessageHeader=GAt});var LNe=G(J$=>{"use strict";d();Object.defineProperty(J$,"__esModule",{value:!0});J$.Message=void 0;var YAt=Pi(),KAt=YAt.__importStar(qs()),JAt=$S(),NNe=_oe(),RNe=rse(),Mh=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Mh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+KAt.SIZE_PREFIX_LENGTH),(t||new Mh).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):RNe.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):NNe.MessageHeader.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new JAt.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,RNe.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,NNe.MessageHeader.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,s,o){return Mh.startMessage(e),Mh.addVersion(e,t),Mh.addHeaderType(e,r),Mh.addHeader(e,i),Mh.addBodyLength(e,s),Mh.addCustomMetadata(e,o),Mh.endMessage(e)}};J$.Message=Mh});var qNe=G(iC=>{"use strict";d();Object.defineProperty(iC,"__esModule",{value:!0});iC.instance=iC.TypeAssembler=void 0;var XAt=Pi(),ZAt=XAt.__importStar(qs()),eTt=ZAt.Long,tTt=Kf(),kNe=lse(),X$=M5(),boe=WU(),INe=ose(),MNe=ase(),PNe=fse(),LD=BU(),Eoe=MU(),Z$=i$(),ez=o$(),Soe=GU(),BNe=use(),jNe=cse(),rC=u$(),kD=sse(),Coe=$U(),woe=HU(),Aoe=e$(),Toe=class extends tTt.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return kNe.Null.startNull(t),kNe.Null.endNull(t)}visitInt(e,t){return X$.Int.startInt(t),X$.Int.addBitWidth(t,e.bitWidth),X$.Int.addIsSigned(t,e.isSigned),X$.Int.endInt(t)}visitFloat(e,t){return boe.FloatingPoint.startFloatingPoint(t),boe.FloatingPoint.addPrecision(t,e.precision),boe.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return INe.Binary.startBinary(t),INe.Binary.endBinary(t)}visitBool(e,t){return MNe.Bool.startBool(t),MNe.Bool.endBool(t)}visitUtf8(e,t){return PNe.Utf8.startUtf8(t),PNe.Utf8.endUtf8(t)}visitDecimal(e,t){return LD.Decimal.startDecimal(t),LD.Decimal.addScale(t,e.scale),LD.Decimal.addPrecision(t,e.precision),LD.Decimal.addBitWidth(t,e.bitWidth),LD.Decimal.endDecimal(t)}visitDate(e,t){return Eoe.Date.startDate(t),Eoe.Date.addUnit(t,e.unit),Eoe.Date.endDate(t)}visitTime(e,t){return Z$.Time.startTime(t),Z$.Time.addUnit(t,e.unit),Z$.Time.addBitWidth(t,e.bitWidth),Z$.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return ez.Timestamp.startTimestamp(t),ez.Timestamp.addUnit(t,e.unit),r!==void 0&&ez.Timestamp.addTimezone(t,r),ez.Timestamp.endTimestamp(t)}visitInterval(e,t){return Soe.Interval.startInterval(t),Soe.Interval.addUnit(t,e.unit),Soe.Interval.endInterval(t)}visitList(e,t){return BNe.List.startList(t),BNe.List.endList(t)}visitStruct(e,t){return jNe.Struct_.startStruct_(t),jNe.Struct_.endStruct_(t)}visitUnion(e,t){rC.Union.startTypeIdsVector(t,e.typeIds.length);let r=rC.Union.createTypeIdsVector(t,e.typeIds);return rC.Union.startUnion(t),rC.Union.addMode(t,e.mode),rC.Union.addTypeIds(t,r),rC.Union.endUnion(t)}visitDictionary(e,t){let r=this.visit(e.indices,t);return kD.DictionaryEncoding.startDictionaryEncoding(t),kD.DictionaryEncoding.addId(t,new eTt(e.id,0)),kD.DictionaryEncoding.addIsOrdered(t,e.isOrdered),r!==void 0&&kD.DictionaryEncoding.addIndexType(t,r),kD.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return Coe.FixedSizeBinary.startFixedSizeBinary(t),Coe.FixedSizeBinary.addByteWidth(t,e.byteWidth),Coe.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return woe.FixedSizeList.startFixedSizeList(t),woe.FixedSizeList.addListSize(t,e.listSize),woe.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return Aoe.Map.startMap(t),Aoe.Map.addKeysSorted(t,e.keysSorted),Aoe.Map.endMap(t)}};iC.TypeAssembler=Toe;iC.instance=new Toe});var QNe=G(Km=>{"use strict";d();Object.defineProperty(Km,"__esModule",{value:!0});Km.fieldFromJSON=Km.dictionaryBatchFromJSON=Km.recordBatchFromJSON=Km.schemaFromJSON=void 0;var sC=R0(),Ja=Ca(),X_=Z_(),oC=Au();function nTt(n,e=new Map){return new sC.Schema(iTt(n,e),tz(n.customMetadata),e)}Km.schemaFromJSON=nTt;function UNe(n){return new X_.RecordBatch(n.count,zNe(n.columns),HNe(n.columns))}Km.recordBatchFromJSON=UNe;function rTt(n){return new X_.DictionaryBatch(UNe(n.data),n.id,n.isDelta)}Km.dictionaryBatchFromJSON=rTt;function iTt(n,e){return(n.fields||[]).filter(Boolean).map(t=>sC.Field.fromJSON(t,e))}function $Ne(n,e){return(n.children||[]).filter(Boolean).map(t=>sC.Field.fromJSON(t,e))}function zNe(n){return(n||[]).reduce((e,t)=>[...e,new X_.FieldNode(t.count,sTt(t.VALIDITY)),...zNe(t.children)],[])}function HNe(n,e=[]){for(let t=-1,r=(n||[]).length;++t<r;){let i=n[t];i.VALIDITY&&e.push(new X_.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new X_.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new X_.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new X_.BufferRegion(e.length,i.DATA.length)),e=HNe(i.children,e)}return e}function sTt(n){return(n||[]).reduce((e,t)=>e+ +(t===0),0)}function oTt(n,e){let t,r,i,s,o,a;return!e||!(s=n.dictionary)?(o=WNe(n,$Ne(n,e)),i=new sC.Field(n.name,o,n.nullable,tz(n.customMetadata))):e.has(t=s.id)?(r=(r=s.indexType)?VNe(r):new Ja.Int32,a=new Ja.Dictionary(e.get(t),r,t,s.isOrdered),i=new sC.Field(n.name,a,n.nullable,tz(n.customMetadata))):(r=(r=s.indexType)?VNe(r):new Ja.Int32,e.set(t,o=WNe(n,$Ne(n,e))),a=new Ja.Dictionary(o,r,t,s.isOrdered),i=new sC.Field(n.name,a,n.nullable,tz(n.customMetadata))),i||null}Km.fieldFromJSON=oTt;function tz(n){return new Map(Object.entries(n||{}))}function VNe(n){return new Ja.Int(n.isSigned,n.bitWidth)}function WNe(n,e){let t=n.type.name;switch(t){case"NONE":return new Ja.Null;case"null":return new Ja.Null;case"binary":return new Ja.Binary;case"utf8":return new Ja.Utf8;case"bool":return new Ja.Bool;case"list":return new Ja.List((e||[])[0]);case"struct":return new Ja.Struct(e||[]);case"struct_":return new Ja.Struct(e||[])}switch(t){case"int":{let r=n.type;return new Ja.Int(r.isSigned,r.bitWidth)}case"floatingpoint":{let r=n.type;return new Ja.Float(oC.Precision[r.precision])}case"decimal":{let r=n.type;return new Ja.Decimal(r.scale,r.precision,r.bitWidth)}case"date":{let r=n.type;return new Ja.Date_(oC.DateUnit[r.unit])}case"time":{let r=n.type;return new Ja.Time(oC.TimeUnit[r.unit],r.bitWidth)}case"timestamp":{let r=n.type;return new Ja.Timestamp(oC.TimeUnit[r.unit],r.timezone)}case"interval":{let r=n.type;return new Ja.Interval(oC.IntervalUnit[r.unit])}case"union":{let r=n.type;return new Ja.Union(oC.UnionMode[r.mode],r.typeIds||[],e||[])}case"fixedsizebinary":{let r=n.type;return new Ja.FixedSizeBinary(r.byteWidth)}case"fixedsizelist":{let r=n.type;return new Ja.FixedSizeList(r.listSize,(e||[])[0])}case"map":{let r=n.type;return new Ja.Map_((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var Z_=G(Bh=>{"use strict";d();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.FieldNode=Bh.BufferRegion=Bh.DictionaryBatch=Bh.RecordBatch=Bh.Message=void 0;var aTt=Pi(),Foe=aTt.__importStar(qs()),cg=d$(),uTt=M5(),n4=z$(),aC=xoe(),lTt=t4(),Yp=hse(),cTt=moe(),Ml=zS(),r4=$S(),GNe=ise(),fTt=WU(),dTt=BU(),hTt=MU(),pTt=i$(),mTt=o$(),xTt=GU(),gTt=u$(),yTt=$U(),vTt=HU(),_Tt=e$(),i4=LNe(),lc=R0(),bTt=Mc(),Fu=Au(),Doe=qNe(),nz=QNe(),e6=Foe.Long,ETt=Foe.Builder,STt=Foe.ByteBuffer,Xa=Ca(),s4=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let r=new s4(0,Fu.MetadataVersion.V4,t);return r._createHeader=CTt(e,t),r}static decode(e){e=new STt((0,bTt.toUint8Array)(e));let t=i4.Message.getRootAsMessage(e),r=t.bodyLength(),i=t.version(),s=t.headerType(),o=new s4(r,i,s);return o._createHeader=wTt(t,s),o}static encode(e){let t=new ETt,r=-1;return e.isSchema()?r=lc.Schema.encode(t,e.header()):e.isRecordBatch()?r=Ph.encode(t,e.header()):e.isDictionaryBatch()&&(r=Jm.encode(t,e.header())),i4.Message.startMessage(t),i4.Message.addVersion(t,Fu.MetadataVersion.V4),i4.Message.addHeader(t,r),i4.Message.addHeaderType(t,e.headerType),i4.Message.addBodyLength(t,new e6(e.bodyLength,0)),i4.Message.finishMessageBuffer(t,i4.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof lc.Schema)return new s4(0,Fu.MetadataVersion.V4,Fu.MessageHeader.Schema,e);if(e instanceof Ph)return new s4(t,Fu.MetadataVersion.V4,Fu.MessageHeader.RecordBatch,e);if(e instanceof Jm)return new s4(t,Fu.MetadataVersion.V4,Fu.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Fu.MessageHeader.Schema}isRecordBatch(){return this.headerType===Fu.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Fu.MessageHeader.DictionaryBatch}};Bh.Message=s4;var Ph=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};Bh.RecordBatch=Ph;var Jm=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};Bh.DictionaryBatch=Jm;var t6=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};Bh.BufferRegion=t6;var n6=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};Bh.FieldNode=n6;function CTt(n,e){return()=>{switch(e){case Fu.MessageHeader.Schema:return lc.Schema.fromJSON(n);case Fu.MessageHeader.RecordBatch:return Ph.fromJSON(n);case Fu.MessageHeader.DictionaryBatch:return Jm.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${Fu.MessageHeader[e]}, type: ${e} }`)}}function wTt(n,e){return()=>{switch(e){case Fu.MessageHeader.Schema:return lc.Schema.decode(n.header(new cg.Schema));case Fu.MessageHeader.RecordBatch:return Ph.decode(n.header(new n4.RecordBatch),n.version());case Fu.MessageHeader.DictionaryBatch:return Jm.decode(n.header(new aC.DictionaryBatch),n.version())}throw new Error(`Unrecognized Message type: { name: ${Fu.MessageHeader[e]}, type: ${e} }`)}}lc.Field.encode=MTt;lc.Field.decode=kTt;lc.Field.fromJSON=nz.fieldFromJSON;lc.Schema.encode=ITt;lc.Schema.decode=ATt;lc.Schema.fromJSON=nz.schemaFromJSON;Ph.encode=PTt;Ph.decode=TTt;Ph.fromJSON=nz.recordBatchFromJSON;Jm.encode=BTt;Jm.decode=FTt;Jm.fromJSON=nz.dictionaryBatchFromJSON;n6.encode=jTt;n6.decode=OTt;t6.encode=qTt;t6.decode=DTt;function ATt(n,e=new Map){let t=LTt(n,e);return new lc.Schema(t,rz(n),e)}function TTt(n,e=Fu.MetadataVersion.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new Ph(n.length(),NTt(n),RTt(n,e))}function FTt(n,e=Fu.MetadataVersion.V4){return new Jm(Ph.decode(n.data(),e),n.id(),n.isDelta())}function DTt(n){return new t6(n.offset(),n.length())}function OTt(n){return new n6(n.length(),n.nullCount())}function NTt(n){let e=[];for(let t,r=-1,i=-1,s=n.nodesLength();++r<s;)(t=n.nodes(r))&&(e[++i]=n6.decode(t));return e}function RTt(n,e){let t=[];for(let r,i=-1,s=-1,o=n.buffersLength();++i<o;)(r=n.buffers(i))&&(e<Fu.MetadataVersion.V4&&(r.bb_pos+=8*(i+1)),t[++s]=t6.decode(r));return t}function LTt(n,e){let t=[];for(let r,i=-1,s=-1,o=n.fieldsLength();++i<o;)(r=n.fields(i))&&(t[++s]=lc.Field.decode(r,e));return t}function YNe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.childrenLength();++i<o;)(r=n.children(i))&&(t[++s]=lc.Field.decode(r,e));return t}function kTt(n,e){let t,r,i,s,o,a;return!e||!(a=n.dictionary())?(i=JNe(n,YNe(n,e)),r=new lc.Field(n.name(),i,n.nullable(),rz(n))):e.has(t=a.id().low)?(s=(s=a.indexType())?KNe(s):new Xa.Int32,o=new Xa.Dictionary(e.get(t),s,t,a.isOrdered()),r=new lc.Field(n.name(),o,n.nullable(),rz(n))):(s=(s=a.indexType())?KNe(s):new Xa.Int32,e.set(t,i=JNe(n,YNe(n,e))),o=new Xa.Dictionary(i,s,t,a.isOrdered()),r=new lc.Field(n.name(),o,n.nullable(),rz(n))),r||null}function rz(n){let e=new Map;if(n)for(let t,r,i=-1,s=Math.trunc(n.customMetadataLength());++i<s;)(t=n.customMetadata(i))&&(r=t.key())!=null&&e.set(r,t.value());return e}function KNe(n){return new Xa.Int(n.isSigned(),n.bitWidth())}function JNe(n,e){let t=n.typeType();switch(t){case Ml.Type.NONE:return new Xa.Null;case Ml.Type.Null:return new Xa.Null;case Ml.Type.Binary:return new Xa.Binary;case Ml.Type.Utf8:return new Xa.Utf8;case Ml.Type.Bool:return new Xa.Bool;case Ml.Type.List:return new Xa.List((e||[])[0]);case Ml.Type.Struct_:return new Xa.Struct(e||[])}switch(t){case Ml.Type.Int:{let r=n.type(new uTt.Int);return new Xa.Int(r.isSigned(),r.bitWidth())}case Ml.Type.FloatingPoint:{let r=n.type(new fTt.FloatingPoint);return new Xa.Float(r.precision())}case Ml.Type.Decimal:{let r=n.type(new dTt.Decimal);return new Xa.Decimal(r.scale(),r.precision(),r.bitWidth())}case Ml.Type.Date:{let r=n.type(new hTt.Date);return new Xa.Date_(r.unit())}case Ml.Type.Time:{let r=n.type(new pTt.Time);return new Xa.Time(r.unit(),r.bitWidth())}case Ml.Type.Timestamp:{let r=n.type(new mTt.Timestamp);return new Xa.Timestamp(r.unit(),r.timezone())}case Ml.Type.Interval:{let r=n.type(new xTt.Interval);return new Xa.Interval(r.unit())}case Ml.Type.Union:{let r=n.type(new gTt.Union);return new Xa.Union(r.mode(),r.typeIdsArray()||[],e||[])}case Ml.Type.FixedSizeBinary:{let r=n.type(new yTt.FixedSizeBinary);return new Xa.FixedSizeBinary(r.byteWidth())}case Ml.Type.FixedSizeList:{let r=n.type(new vTt.FixedSizeList);return new Xa.FixedSizeList(r.listSize(),(e||[])[0])}case Ml.Type.Map:{let r=n.type(new _Tt.Map);return new Xa.Map_((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Ml.Type[t]}" (${t})`)}function ITt(n,e){let t=e.fields.map(s=>lc.Field.encode(n,s));cg.Schema.startFieldsVector(n,t.length);let r=cg.Schema.createFieldsVector(n,t),i=e.metadata&&e.metadata.size>0?cg.Schema.createCustomMetadataVector(n,[...e.metadata].map(([s,o])=>{let a=n.createString(`${s}`),l=n.createString(`${o}`);return r4.KeyValue.startKeyValue(n),r4.KeyValue.addKey(n,a),r4.KeyValue.addValue(n,l),r4.KeyValue.endKeyValue(n)})):-1;return cg.Schema.startSchema(n),cg.Schema.addFields(n,r),cg.Schema.addEndianness(n,UTt?GNe.Endianness.Little:GNe.Endianness.Big),i!==-1&&cg.Schema.addCustomMetadata(n,i),cg.Schema.endSchema(n)}function MTt(n,e){let t=-1,r=-1,i=-1,s=e.type,o=e.typeId;Xa.DataType.isDictionary(s)?(o=s.dictionary.typeId,i=Doe.instance.visit(s,n),r=Doe.instance.visit(s.dictionary,n)):r=Doe.instance.visit(s,n);let a=(s.children||[]).map(p=>lc.Field.encode(n,p)),l=Yp.Field.createChildrenVector(n,a),f=e.metadata&&e.metadata.size>0?Yp.Field.createCustomMetadataVector(n,[...e.metadata].map(([p,v])=>{let b=n.createString(`${p}`),F=n.createString(`${v}`);return r4.KeyValue.startKeyValue(n),r4.KeyValue.addKey(n,b),r4.KeyValue.addValue(n,F),r4.KeyValue.endKeyValue(n)})):-1;return e.name&&(t=n.createString(e.name)),Yp.Field.startField(n),Yp.Field.addType(n,r),Yp.Field.addTypeType(n,o),Yp.Field.addChildren(n,l),Yp.Field.addNullable(n,!!e.nullable),t!==-1&&Yp.Field.addName(n,t),i!==-1&&Yp.Field.addDictionary(n,i),f!==-1&&Yp.Field.addCustomMetadata(n,f),Yp.Field.endField(n)}function PTt(n,e){let t=e.nodes||[],r=e.buffers||[];n4.RecordBatch.startNodesVector(n,t.length);for(let o of t.slice().reverse())n6.encode(n,o);let i=n.endVector();n4.RecordBatch.startBuffersVector(n,r.length);for(let o of r.slice().reverse())t6.encode(n,o);let s=n.endVector();return n4.RecordBatch.startRecordBatch(n),n4.RecordBatch.addLength(n,new e6(e.length,0)),n4.RecordBatch.addNodes(n,i),n4.RecordBatch.addBuffers(n,s),n4.RecordBatch.endRecordBatch(n)}function BTt(n,e){let t=Ph.encode(n,e.data);return aC.DictionaryBatch.startDictionaryBatch(n),aC.DictionaryBatch.addId(n,new e6(e.id,0)),aC.DictionaryBatch.addIsDelta(n,e.isDelta),aC.DictionaryBatch.addData(n,t),aC.DictionaryBatch.endDictionaryBatch(n)}function jTt(n,e){return cTt.FieldNode.createFieldNode(n,new e6(e.length,0),new e6(e.nullCount,0))}function qTt(n,e){return lTt.Buffer.createBuffer(n,new e6(e.offset,0),new e6(e.length,0))}var UTt=(()=>{let n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})()});var sz=G(mo=>{"use strict";d();Object.defineProperty(mo,"__esModule",{value:!0});mo.magicX2AndPadding=mo.magicAndPadding=mo.magicLength=mo.checkForMagicArrowString=mo.MAGIC=mo.MAGIC_STR=mo.PADDING=mo.JSONMessageReader=mo.AsyncMessageReader=mo.MessageReader=void 0;var o4=Pi(),a4=Au(),XNe=qs(),ID=Z_(),$Tt=Lm(),zTt=bse(),ZNe=Mc(),iz=G5(),Kp=uD(),Ooe=n=>`Expected ${a4.MessageHeader[n]} Message in stream, but was null or length 0.`,Noe=n=>`Header pointer of flatbuffer-encoded ${a4.MessageHeader[n]} Message is null or length 0.`,eRe=(n,e)=>`Expected to read ${n} metadata bytes, but only read ${e}.`,tRe=(n,e)=>`Expected to read ${n} bytes for message body, but only read ${e}.`,Roe=class{constructor(e){this.source=e instanceof iz.ByteStream?e:new iz.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Kp.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Ooe(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=(0,ZNe.toUint8Array)(this.source.read(e));if(t.byteLength<e)throw new Error(tRe(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=a4.MessageHeader.Schema,r=this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(Noe(t));return i}readMetadataLength(){let e=this.source.read(mo.PADDING),t=e&&new XNe.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){let t=this.source.read(e);if(!t)return Kp.ITERATOR_DONE;if(t.byteLength<e)throw new Error(eRe(e,t.byteLength));return{done:!1,value:ID.Message.decode(t)}}};mo.MessageReader=Roe;var nRe=class{constructor(e,t){this.source=e instanceof iz.AsyncByteStream?e:(0,$Tt.isFileHandle)(e)?new zTt.AsyncRandomAccessFile(e,t):new iz.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return o4.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Kp.ITERATOR_DONE:e})}throw(e){return o4.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return o4.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return o4.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Ooe(e));return t.value})}readMessageBody(e){return o4.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=(0,ZNe.toUint8Array)(yield this.source.read(e));if(t.byteLength<e)throw new Error(tRe(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return o4.__awaiter(this,void 0,void 0,function*(){let t=a4.MessageHeader.Schema,r=yield this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(Noe(t));return i})}readMetadataLength(){return o4.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(mo.PADDING),t=e&&new XNe.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return o4.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return Kp.ITERATOR_DONE;if(t.byteLength<e)throw new Error(eRe(e,t.byteLength));return{done:!1,value:ID.Message.decode(t)}})}};mo.AsyncMessageReader=nRe;var rRe=class extends Roe{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof Kp.ArrowJSON?e:new Kp.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=ID.Message.fromJSON(e.schema,a4.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let r=ID.Message.fromJSON(t,a4.MessageHeader.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let r=ID.Message.fromJSON(t,a4.MessageHeader.RecordBatch);return{done:!1,value:r}}return this._body=[],Kp.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Ooe(e));return t.value}readSchema(){let e=a4.MessageHeader.Schema,t=this.readMessage(e),r=t==null?void 0:t.header();if(!t||!r)throw new Error(Noe(e));return r}};mo.JSONMessageReader=rRe;mo.PADDING=4;mo.MAGIC_STR="ARROW1";mo.MAGIC=new Uint8Array(mo.MAGIC_STR.length);for(let n=0;n<mo.MAGIC_STR.length;n+=1)mo.MAGIC[n]=mo.MAGIC_STR.codePointAt(n);function HTt(n,e=0){for(let t=-1,r=mo.MAGIC.length;++t<r;)if(mo.MAGIC[t]!==n[e+t])return!1;return!0}mo.checkForMagicArrowString=HTt;mo.magicLength=mo.MAGIC.length;mo.magicAndPadding=mo.magicLength+mo.PADDING;mo.magicX2AndPadding=mo.magicLength*2+mo.PADDING});var jD=G(Uh=>{"use strict";d();Object.defineProperty(Uh,"__esModule",{value:!0});Uh.AsyncRecordBatchFileReader=Uh.RecordBatchFileReader=Uh.AsyncRecordBatchStreamReader=Uh.RecordBatchStreamReader=Uh.RecordBatchReader=void 0;var ea=Pi(),VTt=Im(),iRe=Jf(),WTt=Ca(),oz=Au(),sRe=gse(),oRe=ea.__importDefault(HF()),aRe=G5(),MD=bse(),uRe=vOe(),Loe=Z5(),r6=uD(),jh=sz(),qh=Lm(),Xm=class extends r6.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return(0,qh.isPromise)(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return oRe.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return oRe.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Xm?e:(0,qh.isArrowJSON)(e)?QTt(e):(0,qh.isFileHandle)(e)?KTt(e):(0,qh.isPromise)(e)?(()=>ea.__awaiter(this,void 0,void 0,function*(){return yield Xm.from(yield e)}))():(0,qh.isFetchResponse)(e)||(0,qh.isReadableDOMStream)(e)||(0,qh.isReadableNodeStream)(e)||(0,qh.isAsyncIterable)(e)?YTt(new aRe.AsyncByteStream(e)):GTt(new aRe.ByteStream(e))}static readAll(e){return e instanceof Xm?e.isSync()?dRe(e):hRe(e):(0,qh.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,qh.isIterable)(e)||(0,qh.isIteratorResult)(e)?dRe(e):hRe(e)}};Uh.RecordBatchReader=Xm;var uC=class extends Xm{constructor(e){super(e);this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return ea.__asyncGenerator(this,arguments,function*(){yield ea.__await(yield*ea.__asyncDelegator(ea.__asyncValues(this[Symbol.iterator]())))})}};Uh.RecordBatchStreamReader=uC;var lC=class extends Xm{constructor(e){super(e);this._impl=e}readAll(){var e,t;return ea.__awaiter(this,void 0,void 0,function*(){let r=new Array;try{for(var i=ea.__asyncValues(this),s;s=yield i.next(),!s.done;){let o=s.value;r.push(o)}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};Uh.AsyncRecordBatchStreamReader=lC;var az=class extends uC{constructor(e){super(e);this._impl=e}};Uh.RecordBatchFileReader=az;var koe=class extends lC{constructor(e){super(e);this._impl=e}};Uh.AsyncRecordBatchFileReader=koe;var Ioe=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){let r=this._loadVectors(e,t,this.schema.fields),i=(0,VTt.makeData)({type:new WTt.Struct(this.schema.fields),length:e.length,children:r});return new Loe.RecordBatch(this.schema,i)}_loadDictionaryBatch(e,t){let{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r);if(i||!a){let l=o.dictionaries.get(r),f=this._loadVectors(e.data,t,[l]);return(a&&i?a.concat(new iRe.Vector(f)):new iRe.Vector(f)).memoize()}return a.memoize()}_loadVectors(e,t,r){return new uRe.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},PD=class extends Ioe{constructor(e,t){super(t);this._reader=(0,qh.isArrowJSON)(e)?new jh.JSONMessageReader(this._handle=e):new jh.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=fRe(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):r6.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):r6.ITERATOR_DONE}next(){if(this.closed)return r6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Loe._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},BD=class extends Ioe{constructor(e,t){super(t);this._reader=new jh.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ea.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return ea.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=fRe(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return ea.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):r6.ITERATOR_DONE})}return(e){return ea.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):r6.ITERATOR_DONE})}next(){return ea.__awaiter(this,void 0,void 0,function*(){if(this.closed)return r6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Loe._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return ea.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},Moe=class extends PD{constructor(e,t){super(e instanceof MD.RandomAccessFile?e:new MD.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(oz.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var t;let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(oz.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){let{_handle:e}=this,t=e.size-jh.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return sRe.Footer.decode(i)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}},lRe=class extends BD{constructor(e,...t){let r=typeof t[0]!="number"?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof MD.AsyncRandomAccessFile?e:new MD.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return ea.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return ea.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(oz.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){var t;return ea.__awaiter(this,void 0,void 0,function*(){let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(oz.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return ea.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-jh.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return sRe.Footer.decode(i)})}_readNextMessageAndValidate(e){return ea.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},cRe=class extends PD{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new uRe.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function fRe(n,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:n.autoDestroy}function*dRe(n){let e=Xm.from(n);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function hRe(n){return ea.__asyncGenerator(this,arguments,function*(){let t=yield ea.__await(Xm.from(n));try{if(!(yield ea.__await(t.open({autoDestroy:!1}))).closed)do yield yield ea.__await(t);while(!(yield ea.__await(t.reset().open())).closed)}finally{yield ea.__await(t.cancel())}})}function QTt(n){return new uC(new cRe(n))}function GTt(n){let e=n.peek(jh.magicLength+7&~7);return e&&e.byteLength>=4?(0,jh.checkForMagicArrowString)(e)?new az(new Moe(n.read())):new uC(new PD(n)):new uC(new PD(function*(){}()))}function YTt(n){return ea.__awaiter(this,void 0,void 0,function*(){let e=yield n.peek(jh.magicLength+7&~7);return e&&e.byteLength>=4?(0,jh.checkForMagicArrowString)(e)?new az(new Moe(yield n.read())):new lC(new BD(n)):new lC(new BD(function(){return ea.__asyncGenerator(this,arguments,function*(){})}()))})}function KTt(n){return ea.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield n.stat(),t=new MD.AsyncRandomAccessFile(n,e);return e>=jh.magicX2AndPadding&&(0,jh.checkForMagicArrowString)(yield t.readAt(0,jh.magicLength+7&~7))?new koe(new lRe(t)):new lC(new BD(t))})}});var yRe=G(uz=>{"use strict";d();Object.defineProperty(uz,"__esModule",{value:!0});uz.VectorAssembler=void 0;var JTt=Jf(),XTt=Kf(),pRe=Au(),ZTt=Z5(),Poe=Mc(),Boe=M_(),mRe=Z_(),xRe=Ca(),gl=class extends XTt.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=i=>i.flatMap(s=>Array.isArray(s)?t(s):s instanceof ZTt.RecordBatch?s.data.children:s.data),r=new gl;return r.visitMany(t(e)),r}visit(e){if(e instanceof JTt.Vector)return this.visitMany(e.data),this;let{type:t}=e;if(!xRe.DataType.isDictionary(t)){let{length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");xRe.DataType.isNull(t)||Jp.call(this,i<=0?new Uint8Array(0):(0,Boe.truncateBitmap)(e.offset,r,e.nullBitmap)),this.nodes.push(new mRe.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};uz.VectorAssembler=gl;function Jp(n){let e=n.byteLength+7&~7;return this.buffers.push(n),this.bufferRegions.push(new mRe.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function eFt(n){let{type:e,length:t,typeIds:r,valueOffsets:i}=n;if(Jp.call(this,r),e.mode===pRe.UnionMode.Sparse)return qoe.call(this,n);if(e.mode===pRe.UnionMode.Dense){if(n.offset<=0)return Jp.call(this,i),qoe.call(this,n);{let s=r.reduce((p,v)=>Math.max(p,v),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(t),f=(0,Poe.rebaseValueOffsets)(-i[0],t,i);for(let p,v,b=-1;++b<t;)(v=a[p=r[b]])===-1&&(v=a[p]=f[p]),l[b]=f[b]-v,++o[p];Jp.call(this,l);for(let p,v=-1,b=e.children.length;++v<b;)if(p=n.children[v]){let F=e.typeIds[v],D=Math.min(t,o[F]);this.visit(p.slice(a[F],D))}}}return this}function tFt(n){let e;return n.nullCount>=n.length?Jp.call(this,new Uint8Array(0)):(e=n.values)instanceof Uint8Array?Jp.call(this,(0,Boe.truncateBitmap)(n.offset,n.length,e)):Jp.call(this,(0,Boe.packBools)(n.values))}function u4(n){return Jp.call(this,n.values.subarray(0,n.length*n.stride))}function gRe(n){let{length:e,values:t,valueOffsets:r}=n,i=r[0],s=r[e],o=Math.min(s-i,t.byteLength-i);return Jp.call(this,(0,Poe.rebaseValueOffsets)(-r[0],e,r)),Jp.call(this,t.subarray(i,i+o)),this}function joe(n){let{length:e,valueOffsets:t}=n;return t&&Jp.call(this,(0,Poe.rebaseValueOffsets)(t[0],e,t)),this.visit(n.children[0])}function qoe(n){return this.visitMany(n.type.children.map((e,t)=>n.children[t]).filter(Boolean))[0]}gl.prototype.visitBool=tFt;gl.prototype.visitInt=u4;gl.prototype.visitFloat=u4;gl.prototype.visitUtf8=gRe;gl.prototype.visitBinary=gRe;gl.prototype.visitFixedSizeBinary=u4;gl.prototype.visitDate=u4;gl.prototype.visitTimestamp=u4;gl.prototype.visitTime=u4;gl.prototype.visitDecimal=u4;gl.prototype.visitList=joe;gl.prototype.visitStruct=qoe;gl.prototype.visitUnion=eFt;gl.prototype.visitInterval=u4;gl.prototype.visitFixedSizeList=joe;gl.prototype.visitMap=joe});var _Re=G(lz=>{"use strict";d();Object.defineProperty(lz,"__esModule",{value:!0});lz.JSONTypeAssembler=void 0;var nFt=Kf(),Pc=zS(),cC=Au(),vRe=class extends nFt.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Pc.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:r}){return{name:Pc.Type[e].toLowerCase(),bitWidth:t,isSigned:r}}visitFloat({typeId:e,precision:t}){return{name:Pc.Type[e].toLowerCase(),precision:cC.Precision[t]}}visitBinary({typeId:e}){return{name:Pc.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:Pc.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Pc.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:r,bitWidth:i}){return{name:Pc.Type[e].toLowerCase(),scale:t,precision:r,bitWidth:i}}visitDate({typeId:e,unit:t}){return{name:Pc.Type[e].toLowerCase(),unit:cC.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:r}){return{name:Pc.Type[e].toLowerCase(),unit:cC.TimeUnit[t],bitWidth:r}}visitTimestamp({typeId:e,timezone:t,unit:r}){return{name:Pc.Type[e].toLowerCase(),unit:cC.TimeUnit[r],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:Pc.Type[e].toLowerCase(),unit:cC.IntervalUnit[t]}}visitList({typeId:e}){return{name:Pc.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Pc.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:r}){return{name:Pc.Type[e].toLowerCase(),mode:cC.UnionMode[t],typeIds:[...r]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:Pc.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:Pc.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:Pc.Type[e].toLowerCase(),keysSorted:t}}};lz.JSONTypeAssembler=vRe});var SRe=G(dz=>{"use strict";d();Object.defineProperty(dz,"__esModule",{value:!0});dz.JSONVectorAssembler=void 0;var rFt=Zq(),Uoe=Jf(),iFt=Kf(),sFt=Au(),$oe=Au(),cz=M_(),bRe=Ca(),fz=class extends iFt.Visitor{static assemble(...e){let t=new fz;return e.map(({schema:r,data:i})=>t.visitMany(r.fields,i.children))}visit({name:e},t){let{length:r}=t,{offset:i,nullCount:s,nullBitmap:o}=t,a=bRe.DataType.isDictionary(t.type)?t.type.indices:t.type,l=Object.assign([],t.buffers,{[sFt.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:r,VALIDITY:bRe.DataType.isNull(a)?void 0:s<=0?Array.from({length:r},()=>1):[...new cz.BitIterator(o,i,r,null,cz.getBit)]},super.visit(t.clone(a,i,r,0,l)))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new cz.BitIterator(e,t,r,null,cz.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...qD(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new Uoe.Vector([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...ERe(new Uoe.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...ERe(new Uoe.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===$oe.DateUnit.DAY?[...e.values]:[...qD(e.values,2)]}}visitTimestamp(e){return{DATA:[...qD(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<$oe.TimeUnit.MICROSECOND?[...e.values]:[...qD(e.values,2)]}}visitDecimal(e){return{DATA:[...qD(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===$oe.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}};dz.JSONVectorAssembler=fz;function*ERe(n){for(let e of n)yield e.reduce((t,r)=>`${t}${("0"+(r&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*qD(n,e){let t=new Uint32Array(n.buffer);for(let r=-1,i=t.length/e;++r<i;)yield`${rFt.BN.new(t.subarray((r+0)*e,(r+1)*e),!1)}`}});var yz=G(e2=>{"use strict";d();Object.defineProperty(e2,"__esModule",{value:!0});e2.RecordBatchJSONWriter=e2.RecordBatchFileWriter=e2.RecordBatchStreamWriter=e2.RecordBatchWriter=void 0;var zoe=Pi(),Hoe=eC(),oFt=sz(),aFt=Jf(),uFt=Ca(),hz=Z_(),Voe=zoe.__importStar(Z_()),fC=gse(),Woe=Au(),CRe=bD(),Qoe=G5(),wRe=yRe(),lFt=_Re(),ARe=SRe(),cFt=Mc(),pz=Z5(),fFt=uD(),Zm=Lm(),UD=class extends fFt.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new Qoe.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,Zm.isObject)(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return(0,Zm.isPromise)(e)?e.then(t=>this.writeAll(t)):(0,Zm.isAsyncIterable)(e)?Yoe(this,e):Goe(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof Qoe.AsyncByteQueue?this._sink=e:(this._sink=new Qoe.AsyncByteQueue,e&&(0,Zm.isWritableDOMStream)(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&(0,Zm.isWritableNodeStream)(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!(0,CRe.compareSchemas)(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Hoe.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof pz.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!(0,CRe.compareSchemas)(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof pz.RecordBatch?e instanceof pz._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof Hoe.Table?this.writeAll(e.batches):(0,Zm.isIterable)(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=hz.Message.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===Woe.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new fC.FileBlock(a,e.bodyLength,this._position)):e.headerType===Woe.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new fC.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){let t=(0,cFt.toUint8Array)(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(hz.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(oFt.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:s}=wRe.VectorAssembler.assemble(e),o=new Voe.RecordBatch(e.numRows,r,i),a=hz.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=wRe.VectorAssembler.assemble(new aFt.Vector([e])),l=new Voe.RecordBatch(e.length,s,o),f=new Voe.DictionaryBatch(l,t,r),p=hz.Message.from(f,i);return this._writeMessage(p)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&~7)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(t)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(let s of r.data)this._writeDictionaryBatch(s,t,i>0),i+=s.length}return this}};e2.RecordBatchWriter=UD;var mz=class extends UD{static writeAll(e,t){let r=new mz(t);return(0,Zm.isPromise)(e)?e.then(i=>r.writeAll(i)):(0,Zm.isAsyncIterable)(e)?Yoe(r,e):Goe(r,e)}};e2.RecordBatchStreamWriter=mz;var xz=class extends UD{static writeAll(e){let t=new xz;return(0,Zm.isPromise)(e)?e.then(r=>t.writeAll(r)):(0,Zm.isAsyncIterable)(e)?Yoe(t,e):Goe(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=fC.Footer.encode(new fC.Footer(e,Woe.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};e2.RecordBatchFileWriter=xz;var gz=class extends UD{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new gz().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(t=>TRe(t))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${dFt(e,t,r)}`),this._dictionaryBlocks.push(new fC.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${hFt(this._recordBatches[e])}`),this._recordBatchBlocks.push(new fC.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};e2.RecordBatchJSONWriter=gz;function Goe(n,e){let t=e;e instanceof Hoe.Table&&(t=e.batches,n.reset(void 0,e.schema));for(let r of t)n.write(r);return n.finish()}function Yoe(n,e){var t,r,i,s;return zoe.__awaiter(this,void 0,void 0,function*(){try{for(t=zoe.__asyncValues(e);r=yield t.next(),!r.done;){let o=r.value;n.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return n.finish()})}function TRe({name:n,type:e,nullable:t}){let r=new lFt.JSONTypeAssembler;return{name:n,nullable:t,type:r.visit(e),children:(e.children||[]).map(i=>TRe(i)),dictionary:uFt.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:r.visit(e.indices)}:void 0}}function dFt(n,e,t=!1){let[r]=ARe.JSONVectorAssembler.assemble(new pz.RecordBatch({[e]:n}));return JSON.stringify({id:e,isDelta:t,data:{count:n.length,columns:r}},null,2)}function hFt(n){let[e]=ARe.JSONVectorAssembler.assemble(n);return JSON.stringify({count:n.numRows,columns:e},null,2)}});var ORe=G(_z=>{"use strict";d();Object.defineProperty(_z,"__esModule",{value:!0});_z.toDOMStream=void 0;var vz=Pi(),FRe=Mc(),DRe=Lm();function pFt(n,e){if((0,DRe.isAsyncIterable)(n))return xFt(n,e);if((0,DRe.isIterable)(n))return mFt(n,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}_z.toDOMStream=pFt;function mFt(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=n[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){let l,f=null,p=o.desiredSize||null;for(;!(f=a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,FRe.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()}}function xFt(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return vz.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=n[Symbol.asyncIterator]()))})},pull(o){return vz.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return vz.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){return vz.__awaiter(this,void 0,void 0,function*(){let l,f=null,p=o.desiredSize||null;for(;!(f=yield a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,FRe.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()})}}});var LRe=G(dC=>{"use strict";d();Object.defineProperty(dC,"__esModule",{value:!0});dC.BuilderTransform=dC.builderThroughDOMStream=void 0;var gFt=Pi(),yFt=fD();function vFt(n){return new Koe(n)}dC.builderThroughDOMStream=vFt;var Koe=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:r,["queueingStrategy"]:i="count"}=e,s=gFt.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,yFt.makeBuilder)(s),this._getSize=i!=="bytes"?NRe:RRe;let{["highWaterMark"]:o=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},r);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:l=>{this._maybeFlush(this._builder,this._controller=l)},start:l=>{this._maybeFlush(this._builder,this._controller=l)}},{highWaterMark:o,size:i!=="bytes"?NRe:RRe}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:l=>this._writeValueAndReturnChunkSize(l)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!=null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t==null?e.close():e.enqueue(t)}};dC.BuilderTransform=Koe;var NRe=n=>{var e;return(e=n==null?void 0:n.length)!==null&&e!==void 0?e:0},RRe=n=>{var e;return(e=n==null?void 0:n.byteLength)!==null&&e!==void 0?e:0}});var kRe=G(bz=>{"use strict";d();Object.defineProperty(bz,"__esModule",{value:!0});bz.recordBatchReaderThroughDOMStream=void 0;var $D=Pi(),_Ft=G5(),bFt=jD();function EFt(n,e){let t=new _Ft.AsyncByteQueue,r=null,i=new ReadableStream({cancel(){return $D.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return $D.__awaiter(this,void 0,void 0,function*(){yield o(a,r||(r=yield s()))})},pull(a){return $D.__awaiter(this,void 0,void 0,function*(){r?yield o(a,r):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},n)),readable:i};function s(){return $D.__awaiter(this,void 0,void 0,function*(){return yield(yield bFt.RecordBatchReader.from(t)).open(e)})}function o(a,l){return $D.__awaiter(this,void 0,void 0,function*(){let f=a.desiredSize,p=null;for(;!(p=yield l.next()).done;)if(a.enqueue(p.value),f!=null&&--f<=0)return;a.close()})}}bz.recordBatchReaderThroughDOMStream=EFt});var IRe=G(Sz=>{"use strict";d();Object.defineProperty(Sz,"__esModule",{value:!0});Sz.recordBatchWriterThroughDOMStream=void 0;var Ez=Pi(),SFt=G5();function CFt(n,e){let t=new this(n),r=new SFt.AsyncByteStream(t),i=new ReadableStream({cancel(){return Ez.__awaiter(this,void 0,void 0,function*(){yield r.cancel()})},pull(o){return Ez.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return Ez.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,n),readable:i};function s(o){return Ez.__awaiter(this,void 0,void 0,function*(){let a=null,l=o.desiredSize;for(;a=yield r.read(l||null);)if(o.enqueue(a),l!=null&&(l-=a.byteLength)<=0)return;o.close()})}}Sz.recordBatchWriterThroughDOMStream=CFt});var jRe=G(hC=>{"use strict";d();Object.defineProperty(hC,"__esModule",{value:!0});hC.tableToIPC=hC.tableFromIPC=void 0;var MRe=eC(),wFt=Lm(),AFt=jD(),PRe=yz();function BRe(n){let e=AFt.RecordBatchReader.from(n);return(0,wFt.isPromise)(e)?e.then(t=>BRe(t)):e.isAsync()?e.readAll().then(t=>new MRe.Table(t)):new MRe.Table(e.readAll())}hC.tableFromIPC=BRe;function TFt(n,e="stream"){return(e==="stream"?PRe.RecordBatchStreamWriter:PRe.RecordBatchFileWriter).writeAll(n).toUint8Array(!0)}hC.tableToIPC=TFt});var iae=G(Zt=>{"use strict";d();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.Dictionary=Zt.SparseUnion=Zt.DenseUnion=Zt.Union=Zt.Struct=Zt.List=Zt.Decimal=Zt.TimeNanosecond=Zt.TimeMicrosecond=Zt.TimeMillisecond=Zt.TimeSecond=Zt.Time=Zt.TimestampNanosecond=Zt.TimestampMicrosecond=Zt.TimestampMillisecond=Zt.TimestampSecond=Zt.Timestamp=Zt.DateMillisecond=Zt.DateDay=Zt.Date_=Zt.FixedSizeBinary=Zt.Binary=Zt.Utf8=Zt.Float64=Zt.Float32=Zt.Float16=Zt.Float=Zt.Uint64=Zt.Uint32=Zt.Uint16=Zt.Uint8=Zt.Int64=Zt.Int32=Zt.Int16=Zt.Int8=Zt.Int=Zt.Bool=Zt.Null=Zt.DataType=Zt.makeData=Zt.Data=Zt.MetadataVersion=Zt.IntervalUnit=Zt.UnionMode=Zt.Precision=Zt.TimeUnit=Zt.DateUnit=Zt.BufferType=Zt.Type=Zt.MessageHeader=void 0;Zt.TimestampMillisecondBuilder=Zt.TimestampSecondBuilder=Zt.TimestampBuilder=Zt.TimeNanosecondBuilder=Zt.TimeMicrosecondBuilder=Zt.TimeMillisecondBuilder=Zt.TimeSecondBuilder=Zt.TimeBuilder=Zt.Uint64Builder=Zt.Uint32Builder=Zt.Uint16Builder=Zt.Uint8Builder=Zt.Int64Builder=Zt.Int32Builder=Zt.Int16Builder=Zt.Int8Builder=Zt.IntBuilder=Zt.Float64Builder=Zt.Float32Builder=Zt.Float16Builder=Zt.FloatBuilder=Zt.FixedSizeBinaryBuilder=Zt.DictionaryBuilder=Zt.DecimalBuilder=Zt.DateMillisecondBuilder=Zt.DateDayBuilder=Zt.DateBuilder=Zt.NullBuilder=Zt.BoolBuilder=Zt.builderThroughAsyncIterable=Zt.builderThroughIterable=Zt.tableFromJSON=Zt.vectorFromArray=Zt.makeBuilder=Zt.Builder=Zt.StructRow=Zt.MapRow=Zt.Field=Zt.Schema=Zt.Visitor=Zt.makeVector=Zt.Vector=Zt.tableFromArrays=Zt.makeTable=Zt.Table=Zt.Map_=Zt.FixedSizeList=Zt.IntervalYearMonth=Zt.IntervalDayTime=Zt.Interval=void 0;Zt.util=Zt.RecordBatch=Zt.Message=Zt.JSONMessageReader=Zt.AsyncMessageReader=Zt.MessageReader=Zt.tableFromIPC=Zt.tableToIPC=Zt.RecordBatchJSONWriter=Zt.RecordBatchStreamWriter=Zt.RecordBatchFileWriter=Zt.RecordBatchWriter=Zt.AsyncRecordBatchStreamReader=Zt.AsyncRecordBatchFileReader=Zt.RecordBatchStreamReader=Zt.RecordBatchFileReader=Zt.RecordBatchReader=Zt.AsyncByteQueue=Zt.AsyncByteStream=Zt.ByteStream=Zt.DenseUnionBuilder=Zt.SparseUnionBuilder=Zt.UnionBuilder=Zt.StructBuilder=Zt.MapBuilder=Zt.FixedSizeListBuilder=Zt.ListBuilder=Zt.BinaryBuilder=Zt.Utf8Builder=Zt.IntervalYearMonthBuilder=Zt.IntervalDayTimeBuilder=Zt.IntervalBuilder=Zt.TimestampNanosecondBuilder=Zt.TimestampMicrosecondBuilder=void 0;var pC=Pi(),FFt=_oe();Object.defineProperty(Zt,"MessageHeader",{enumerable:!0,get:function(){return FFt.MessageHeader}});var l4=Au();Object.defineProperty(Zt,"Type",{enumerable:!0,get:function(){return l4.Type}});Object.defineProperty(Zt,"BufferType",{enumerable:!0,get:function(){return l4.BufferType}});Object.defineProperty(Zt,"DateUnit",{enumerable:!0,get:function(){return l4.DateUnit}});Object.defineProperty(Zt,"TimeUnit",{enumerable:!0,get:function(){return l4.TimeUnit}});Object.defineProperty(Zt,"Precision",{enumerable:!0,get:function(){return l4.Precision}});Object.defineProperty(Zt,"UnionMode",{enumerable:!0,get:function(){return l4.UnionMode}});Object.defineProperty(Zt,"IntervalUnit",{enumerable:!0,get:function(){return l4.IntervalUnit}});Object.defineProperty(Zt,"MetadataVersion",{enumerable:!0,get:function(){return l4.MetadataVersion}});var qRe=Im();Object.defineProperty(Zt,"Data",{enumerable:!0,get:function(){return qRe.Data}});Object.defineProperty(Zt,"makeData",{enumerable:!0,get:function(){return qRe.makeData}});var bs=Ca();Object.defineProperty(Zt,"DataType",{enumerable:!0,get:function(){return bs.DataType}});Object.defineProperty(Zt,"Null",{enumerable:!0,get:function(){return bs.Null}});Object.defineProperty(Zt,"Bool",{enumerable:!0,get:function(){return bs.Bool}});Object.defineProperty(Zt,"Int",{enumerable:!0,get:function(){return bs.Int}});Object.defineProperty(Zt,"Int8",{enumerable:!0,get:function(){return bs.Int8}});Object.defineProperty(Zt,"Int16",{enumerable:!0,get:function(){return bs.Int16}});Object.defineProperty(Zt,"Int32",{enumerable:!0,get:function(){return bs.Int32}});Object.defineProperty(Zt,"Int64",{enumerable:!0,get:function(){return bs.Int64}});Object.defineProperty(Zt,"Uint8",{enumerable:!0,get:function(){return bs.Uint8}});Object.defineProperty(Zt,"Uint16",{enumerable:!0,get:function(){return bs.Uint16}});Object.defineProperty(Zt,"Uint32",{enumerable:!0,get:function(){return bs.Uint32}});Object.defineProperty(Zt,"Uint64",{enumerable:!0,get:function(){return bs.Uint64}});Object.defineProperty(Zt,"Float",{enumerable:!0,get:function(){return bs.Float}});Object.defineProperty(Zt,"Float16",{enumerable:!0,get:function(){return bs.Float16}});Object.defineProperty(Zt,"Float32",{enumerable:!0,get:function(){return bs.Float32}});Object.defineProperty(Zt,"Float64",{enumerable:!0,get:function(){return bs.Float64}});Object.defineProperty(Zt,"Utf8",{enumerable:!0,get:function(){return bs.Utf8}});Object.defineProperty(Zt,"Binary",{enumerable:!0,get:function(){return bs.Binary}});Object.defineProperty(Zt,"FixedSizeBinary",{enumerable:!0,get:function(){return bs.FixedSizeBinary}});Object.defineProperty(Zt,"Date_",{enumerable:!0,get:function(){return bs.Date_}});Object.defineProperty(Zt,"DateDay",{enumerable:!0,get:function(){return bs.DateDay}});Object.defineProperty(Zt,"DateMillisecond",{enumerable:!0,get:function(){return bs.DateMillisecond}});Object.defineProperty(Zt,"Timestamp",{enumerable:!0,get:function(){return bs.Timestamp}});Object.defineProperty(Zt,"TimestampSecond",{enumerable:!0,get:function(){return bs.TimestampSecond}});Object.defineProperty(Zt,"TimestampMillisecond",{enumerable:!0,get:function(){return bs.TimestampMillisecond}});Object.defineProperty(Zt,"TimestampMicrosecond",{enumerable:!0,get:function(){return bs.TimestampMicrosecond}});Object.defineProperty(Zt,"TimestampNanosecond",{enumerable:!0,get:function(){return bs.TimestampNanosecond}});Object.defineProperty(Zt,"Time",{enumerable:!0,get:function(){return bs.Time}});Object.defineProperty(Zt,"TimeSecond",{enumerable:!0,get:function(){return bs.TimeSecond}});Object.defineProperty(Zt,"TimeMillisecond",{enumerable:!0,get:function(){return bs.TimeMillisecond}});Object.defineProperty(Zt,"TimeMicrosecond",{enumerable:!0,get:function(){return bs.TimeMicrosecond}});Object.defineProperty(Zt,"TimeNanosecond",{enumerable:!0,get:function(){return bs.TimeNanosecond}});Object.defineProperty(Zt,"Decimal",{enumerable:!0,get:function(){return bs.Decimal}});Object.defineProperty(Zt,"List",{enumerable:!0,get:function(){return bs.List}});Object.defineProperty(Zt,"Struct",{enumerable:!0,get:function(){return bs.Struct}});Object.defineProperty(Zt,"Union",{enumerable:!0,get:function(){return bs.Union}});Object.defineProperty(Zt,"DenseUnion",{enumerable:!0,get:function(){return bs.DenseUnion}});Object.defineProperty(Zt,"SparseUnion",{enumerable:!0,get:function(){return bs.SparseUnion}});Object.defineProperty(Zt,"Dictionary",{enumerable:!0,get:function(){return bs.Dictionary}});Object.defineProperty(Zt,"Interval",{enumerable:!0,get:function(){return bs.Interval}});Object.defineProperty(Zt,"IntervalDayTime",{enumerable:!0,get:function(){return bs.IntervalDayTime}});Object.defineProperty(Zt,"IntervalYearMonth",{enumerable:!0,get:function(){return bs.IntervalYearMonth}});Object.defineProperty(Zt,"FixedSizeList",{enumerable:!0,get:function(){return bs.FixedSizeList}});Object.defineProperty(Zt,"Map_",{enumerable:!0,get:function(){return bs.Map_}});var Joe=eC();Object.defineProperty(Zt,"Table",{enumerable:!0,get:function(){return Joe.Table}});Object.defineProperty(Zt,"makeTable",{enumerable:!0,get:function(){return Joe.makeTable}});Object.defineProperty(Zt,"tableFromArrays",{enumerable:!0,get:function(){return Joe.tableFromArrays}});var URe=Jf();Object.defineProperty(Zt,"Vector",{enumerable:!0,get:function(){return URe.Vector}});Object.defineProperty(Zt,"makeVector",{enumerable:!0,get:function(){return URe.makeVector}});var DFt=Kf();Object.defineProperty(Zt,"Visitor",{enumerable:!0,get:function(){return DFt.Visitor}});var $Re=R0();Object.defineProperty(Zt,"Schema",{enumerable:!0,get:function(){return $Re.Schema}});Object.defineProperty(Zt,"Field",{enumerable:!0,get:function(){return $Re.Field}});var OFt=QF();Object.defineProperty(Zt,"MapRow",{enumerable:!0,get:function(){return OFt.MapRow}});var NFt=hU();Object.defineProperty(Zt,"StructRow",{enumerable:!0,get:function(){return NFt.StructRow}});var RFt=Hu();Object.defineProperty(Zt,"Builder",{enumerable:!0,get:function(){return RFt.Builder}});var zD=fD();Object.defineProperty(Zt,"makeBuilder",{enumerable:!0,get:function(){return zD.makeBuilder}});Object.defineProperty(Zt,"vectorFromArray",{enumerable:!0,get:function(){return zD.vectorFromArray}});Object.defineProperty(Zt,"tableFromJSON",{enumerable:!0,get:function(){return zD.tableFromJSON}});Object.defineProperty(Zt,"builderThroughIterable",{enumerable:!0,get:function(){return zD.builderThroughIterable}});Object.defineProperty(Zt,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return zD.builderThroughAsyncIterable}});var LFt=wse();Object.defineProperty(Zt,"BoolBuilder",{enumerable:!0,get:function(){return LFt.BoolBuilder}});var kFt=Hse();Object.defineProperty(Zt,"NullBuilder",{enumerable:!0,get:function(){return kFt.NullBuilder}});var Xoe=Dse();Object.defineProperty(Zt,"DateBuilder",{enumerable:!0,get:function(){return Xoe.DateBuilder}});Object.defineProperty(Zt,"DateDayBuilder",{enumerable:!0,get:function(){return Xoe.DateDayBuilder}});Object.defineProperty(Zt,"DateMillisecondBuilder",{enumerable:!0,get:function(){return Xoe.DateMillisecondBuilder}});var IFt=Nse();Object.defineProperty(Zt,"DecimalBuilder",{enumerable:!0,get:function(){return IFt.DecimalBuilder}});var MFt=Rse();Object.defineProperty(Zt,"DictionaryBuilder",{enumerable:!0,get:function(){return MFt.DictionaryBuilder}});var PFt=kse();Object.defineProperty(Zt,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return PFt.FixedSizeBinaryBuilder}});var Cz=Mse();Object.defineProperty(Zt,"FloatBuilder",{enumerable:!0,get:function(){return Cz.FloatBuilder}});Object.defineProperty(Zt,"Float16Builder",{enumerable:!0,get:function(){return Cz.Float16Builder}});Object.defineProperty(Zt,"Float32Builder",{enumerable:!0,get:function(){return Cz.Float32Builder}});Object.defineProperty(Zt,"Float64Builder",{enumerable:!0,get:function(){return Cz.Float64Builder}});var fg=Use();Object.defineProperty(Zt,"IntBuilder",{enumerable:!0,get:function(){return fg.IntBuilder}});Object.defineProperty(Zt,"Int8Builder",{enumerable:!0,get:function(){return fg.Int8Builder}});Object.defineProperty(Zt,"Int16Builder",{enumerable:!0,get:function(){return fg.Int16Builder}});Object.defineProperty(Zt,"Int32Builder",{enumerable:!0,get:function(){return fg.Int32Builder}});Object.defineProperty(Zt,"Int64Builder",{enumerable:!0,get:function(){return fg.Int64Builder}});Object.defineProperty(Zt,"Uint8Builder",{enumerable:!0,get:function(){return fg.Uint8Builder}});Object.defineProperty(Zt,"Uint16Builder",{enumerable:!0,get:function(){return fg.Uint16Builder}});Object.defineProperty(Zt,"Uint32Builder",{enumerable:!0,get:function(){return fg.Uint32Builder}});Object.defineProperty(Zt,"Uint64Builder",{enumerable:!0,get:function(){return fg.Uint64Builder}});var HD=toe();Object.defineProperty(Zt,"TimeBuilder",{enumerable:!0,get:function(){return HD.TimeBuilder}});Object.defineProperty(Zt,"TimeSecondBuilder",{enumerable:!0,get:function(){return HD.TimeSecondBuilder}});Object.defineProperty(Zt,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return HD.TimeMillisecondBuilder}});Object.defineProperty(Zt,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return HD.TimeMicrosecondBuilder}});Object.defineProperty(Zt,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return HD.TimeNanosecondBuilder}});var VD=Kse();Object.defineProperty(Zt,"TimestampBuilder",{enumerable:!0,get:function(){return VD.TimestampBuilder}});Object.defineProperty(Zt,"TimestampSecondBuilder",{enumerable:!0,get:function(){return VD.TimestampSecondBuilder}});Object.defineProperty(Zt,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return VD.TimestampMillisecondBuilder}});Object.defineProperty(Zt,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return VD.TimestampMicrosecondBuilder}});Object.defineProperty(Zt,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return VD.TimestampNanosecondBuilder}});var Zoe=qse();Object.defineProperty(Zt,"IntervalBuilder",{enumerable:!0,get:function(){return Zoe.IntervalBuilder}});Object.defineProperty(Zt,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return Zoe.IntervalDayTimeBuilder}});Object.defineProperty(Zt,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return Zoe.IntervalYearMonthBuilder}});var BFt=ioe();Object.defineProperty(Zt,"Utf8Builder",{enumerable:!0,get:function(){return BFt.Utf8Builder}});var jFt=v$();Object.defineProperty(Zt,"BinaryBuilder",{enumerable:!0,get:function(){return jFt.BinaryBuilder}});var qFt=$se();Object.defineProperty(Zt,"ListBuilder",{enumerable:!0,get:function(){return qFt.ListBuilder}});var UFt=Ise();Object.defineProperty(Zt,"FixedSizeListBuilder",{enumerable:!0,get:function(){return UFt.FixedSizeListBuilder}});var $Ft=zse();Object.defineProperty(Zt,"MapBuilder",{enumerable:!0,get:function(){return $Ft.MapBuilder}});var zFt=Vse();Object.defineProperty(Zt,"StructBuilder",{enumerable:!0,get:function(){return zFt.StructBuilder}});var eae=noe();Object.defineProperty(Zt,"UnionBuilder",{enumerable:!0,get:function(){return eae.UnionBuilder}});Object.defineProperty(Zt,"SparseUnionBuilder",{enumerable:!0,get:function(){return eae.SparseUnionBuilder}});Object.defineProperty(Zt,"DenseUnionBuilder",{enumerable:!0,get:function(){return eae.DenseUnionBuilder}});var tae=G5();Object.defineProperty(Zt,"ByteStream",{enumerable:!0,get:function(){return tae.ByteStream}});Object.defineProperty(Zt,"AsyncByteStream",{enumerable:!0,get:function(){return tae.AsyncByteStream}});Object.defineProperty(Zt,"AsyncByteQueue",{enumerable:!0,get:function(){return tae.AsyncByteQueue}});var WD=jD();Object.defineProperty(Zt,"RecordBatchReader",{enumerable:!0,get:function(){return WD.RecordBatchReader}});Object.defineProperty(Zt,"RecordBatchFileReader",{enumerable:!0,get:function(){return WD.RecordBatchFileReader}});Object.defineProperty(Zt,"RecordBatchStreamReader",{enumerable:!0,get:function(){return WD.RecordBatchStreamReader}});Object.defineProperty(Zt,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return WD.AsyncRecordBatchFileReader}});Object.defineProperty(Zt,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return WD.AsyncRecordBatchStreamReader}});var wz=yz();Object.defineProperty(Zt,"RecordBatchWriter",{enumerable:!0,get:function(){return wz.RecordBatchWriter}});Object.defineProperty(Zt,"RecordBatchFileWriter",{enumerable:!0,get:function(){return wz.RecordBatchFileWriter}});Object.defineProperty(Zt,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return wz.RecordBatchStreamWriter}});Object.defineProperty(Zt,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return wz.RecordBatchJSONWriter}});var zRe=jRe();Object.defineProperty(Zt,"tableToIPC",{enumerable:!0,get:function(){return zRe.tableToIPC}});Object.defineProperty(Zt,"tableFromIPC",{enumerable:!0,get:function(){return zRe.tableFromIPC}});var nae=sz();Object.defineProperty(Zt,"MessageReader",{enumerable:!0,get:function(){return nae.MessageReader}});Object.defineProperty(Zt,"AsyncMessageReader",{enumerable:!0,get:function(){return nae.AsyncMessageReader}});Object.defineProperty(Zt,"JSONMessageReader",{enumerable:!0,get:function(){return nae.JSONMessageReader}});var HFt=Z_();Object.defineProperty(Zt,"Message",{enumerable:!0,get:function(){return HFt.Message}});var VFt=Z5();Object.defineProperty(Zt,"RecordBatch",{enumerable:!0,get:function(){return VFt.RecordBatch}});var WFt=pC.__importStar(Zq()),QFt=pC.__importStar(Sse()),GFt=pC.__importStar(M_()),YFt=pC.__importStar(WF()),KFt=pC.__importStar(Mc()),JFt=pC.__importStar(YF()),rae=bD();Zt.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WFt),QFt),GFt),YFt),KFt),JFt),{compareSchemas:rae.compareSchemas,compareFields:rae.compareFields,compareTypes:rae.compareTypes})});var Az=G(en=>{"use strict";d();Object.defineProperty(en,"__esModule",{value:!0});en.SparseUnion=en.DenseUnion=en.Union=en.StructRow=en.Struct=en.List=en.Decimal=en.TimeNanosecond=en.TimeMicrosecond=en.TimeMillisecond=en.TimeSecond=en.Time=en.TimestampNanosecond=en.TimestampMicrosecond=en.TimestampMillisecond=en.TimestampSecond=en.Timestamp=en.DateMillisecond=en.DateDay=en.Date_=en.FixedSizeBinary=en.Binary=en.Utf8=en.Float64=en.Float32=en.Float16=en.Float=en.Uint64=en.Uint32=en.Uint16=en.Uint8=en.Int64=en.Int32=en.Int16=en.Int8=en.Int=en.Bool=en.Null=en.DataType=en.makeData=en.Data=en.BufferType=en.UnionMode=en.Type=en.TimeUnit=en.Precision=en.MetadataVersion=en.MessageHeader=en.IntervalUnit=en.DateUnit=void 0;en.FixedSizeListBuilder=en.FixedSizeBinaryBuilder=en.DictionaryBuilder=en.DecimalBuilder=en.DateMillisecondBuilder=en.DateDayBuilder=en.DateBuilder=en.BoolBuilder=en.BinaryBuilder=en.builderThroughAsyncIterable=en.builderThroughIterable=en.makeBuilder=en.Builder=en.util=en.RecordBatch=en.Message=en.JSONMessageReader=en.AsyncMessageReader=en.MessageReader=en.tableToIPC=en.tableFromIPC=en.RecordBatchJSONWriter=en.RecordBatchStreamWriter=en.RecordBatchFileWriter=en.RecordBatchWriter=en.AsyncRecordBatchStreamReader=en.AsyncRecordBatchFileReader=en.RecordBatchStreamReader=en.RecordBatchFileReader=en.RecordBatchReader=en.AsyncByteQueue=en.AsyncByteStream=en.ByteStream=en.tableFromJSON=en.vectorFromArray=en.makeVector=en.Vector=en.Visitor=en.Field=en.Schema=en.tableFromArrays=en.makeTable=en.Table=en.MapRow=en.Map_=en.FixedSizeList=en.IntervalYearMonth=en.IntervalDayTime=en.Interval=en.Dictionary=void 0;en.Utf8Builder=en.SparseUnionBuilder=en.DenseUnionBuilder=en.UnionBuilder=en.TimeNanosecondBuilder=en.TimeMicrosecondBuilder=en.TimeMillisecondBuilder=en.TimeSecondBuilder=en.TimeBuilder=en.TimestampNanosecondBuilder=en.TimestampMicrosecondBuilder=en.TimestampMillisecondBuilder=en.TimestampSecondBuilder=en.TimestampBuilder=en.StructBuilder=en.NullBuilder=en.MapBuilder=en.ListBuilder=en.Uint64Builder=en.Uint32Builder=en.Uint16Builder=en.Uint8Builder=en.Int64Builder=en.Int32Builder=en.Int16Builder=en.Int8Builder=en.IntBuilder=en.IntervalYearMonthBuilder=en.IntervalDayTimeBuilder=en.IntervalBuilder=en.Float64Builder=en.Float32Builder=en.Float16Builder=en.FloatBuilder=void 0;var XFt=Pi(),ZFt=XFt.__importDefault(HF()),eDt=Hu(),sae=jD(),oae=yz(),tDt=ORe(),nDt=LRe(),aae=kRe(),uae=IRe();ZFt.default.toDOMStream=tDt.toDOMStream;eDt.Builder.throughDOM=nDt.builderThroughDOMStream;sae.RecordBatchReader.throughDOM=aae.recordBatchReaderThroughDOMStream;sae.RecordBatchFileReader.throughDOM=aae.recordBatchReaderThroughDOMStream;sae.RecordBatchStreamReader.throughDOM=aae.recordBatchReaderThroughDOMStream;oae.RecordBatchWriter.throughDOM=uae.recordBatchWriterThroughDOMStream;oae.RecordBatchFileWriter.throughDOM=uae.recordBatchWriterThroughDOMStream;oae.RecordBatchStreamWriter.throughDOM=uae.recordBatchWriterThroughDOMStream;var jr=iae();Object.defineProperty(en,"DateUnit",{enumerable:!0,get:function(){return jr.DateUnit}});Object.defineProperty(en,"IntervalUnit",{enumerable:!0,get:function(){return jr.IntervalUnit}});Object.defineProperty(en,"MessageHeader",{enumerable:!0,get:function(){return jr.MessageHeader}});Object.defineProperty(en,"MetadataVersion",{enumerable:!0,get:function(){return jr.MetadataVersion}});Object.defineProperty(en,"Precision",{enumerable:!0,get:function(){return jr.Precision}});Object.defineProperty(en,"TimeUnit",{enumerable:!0,get:function(){return jr.TimeUnit}});Object.defineProperty(en,"Type",{enumerable:!0,get:function(){return jr.Type}});Object.defineProperty(en,"UnionMode",{enumerable:!0,get:function(){return jr.UnionMode}});Object.defineProperty(en,"BufferType",{enumerable:!0,get:function(){return jr.BufferType}});Object.defineProperty(en,"Data",{enumerable:!0,get:function(){return jr.Data}});Object.defineProperty(en,"makeData",{enumerable:!0,get:function(){return jr.makeData}});Object.defineProperty(en,"DataType",{enumerable:!0,get:function(){return jr.DataType}});Object.defineProperty(en,"Null",{enumerable:!0,get:function(){return jr.Null}});Object.defineProperty(en,"Bool",{enumerable:!0,get:function(){return jr.Bool}});Object.defineProperty(en,"Int",{enumerable:!0,get:function(){return jr.Int}});Object.defineProperty(en,"Int8",{enumerable:!0,get:function(){return jr.Int8}});Object.defineProperty(en,"Int16",{enumerable:!0,get:function(){return jr.Int16}});Object.defineProperty(en,"Int32",{enumerable:!0,get:function(){return jr.Int32}});Object.defineProperty(en,"Int64",{enumerable:!0,get:function(){return jr.Int64}});Object.defineProperty(en,"Uint8",{enumerable:!0,get:function(){return jr.Uint8}});Object.defineProperty(en,"Uint16",{enumerable:!0,get:function(){return jr.Uint16}});Object.defineProperty(en,"Uint32",{enumerable:!0,get:function(){return jr.Uint32}});Object.defineProperty(en,"Uint64",{enumerable:!0,get:function(){return jr.Uint64}});Object.defineProperty(en,"Float",{enumerable:!0,get:function(){return jr.Float}});Object.defineProperty(en,"Float16",{enumerable:!0,get:function(){return jr.Float16}});Object.defineProperty(en,"Float32",{enumerable:!0,get:function(){return jr.Float32}});Object.defineProperty(en,"Float64",{enumerable:!0,get:function(){return jr.Float64}});Object.defineProperty(en,"Utf8",{enumerable:!0,get:function(){return jr.Utf8}});Object.defineProperty(en,"Binary",{enumerable:!0,get:function(){return jr.Binary}});Object.defineProperty(en,"FixedSizeBinary",{enumerable:!0,get:function(){return jr.FixedSizeBinary}});Object.defineProperty(en,"Date_",{enumerable:!0,get:function(){return jr.Date_}});Object.defineProperty(en,"DateDay",{enumerable:!0,get:function(){return jr.DateDay}});Object.defineProperty(en,"DateMillisecond",{enumerable:!0,get:function(){return jr.DateMillisecond}});Object.defineProperty(en,"Timestamp",{enumerable:!0,get:function(){return jr.Timestamp}});Object.defineProperty(en,"TimestampSecond",{enumerable:!0,get:function(){return jr.TimestampSecond}});Object.defineProperty(en,"TimestampMillisecond",{enumerable:!0,get:function(){return jr.TimestampMillisecond}});Object.defineProperty(en,"TimestampMicrosecond",{enumerable:!0,get:function(){return jr.TimestampMicrosecond}});Object.defineProperty(en,"TimestampNanosecond",{enumerable:!0,get:function(){return jr.TimestampNanosecond}});Object.defineProperty(en,"Time",{enumerable:!0,get:function(){return jr.Time}});Object.defineProperty(en,"TimeSecond",{enumerable:!0,get:function(){return jr.TimeSecond}});Object.defineProperty(en,"TimeMillisecond",{enumerable:!0,get:function(){return jr.TimeMillisecond}});Object.defineProperty(en,"TimeMicrosecond",{enumerable:!0,get:function(){return jr.TimeMicrosecond}});Object.defineProperty(en,"TimeNanosecond",{enumerable:!0,get:function(){return jr.TimeNanosecond}});Object.defineProperty(en,"Decimal",{enumerable:!0,get:function(){return jr.Decimal}});Object.defineProperty(en,"List",{enumerable:!0,get:function(){return jr.List}});Object.defineProperty(en,"Struct",{enumerable:!0,get:function(){return jr.Struct}});Object.defineProperty(en,"StructRow",{enumerable:!0,get:function(){return jr.StructRow}});Object.defineProperty(en,"Union",{enumerable:!0,get:function(){return jr.Union}});Object.defineProperty(en,"DenseUnion",{enumerable:!0,get:function(){return jr.DenseUnion}});Object.defineProperty(en,"SparseUnion",{enumerable:!0,get:function(){return jr.SparseUnion}});Object.defineProperty(en,"Dictionary",{enumerable:!0,get:function(){return jr.Dictionary}});Object.defineProperty(en,"Interval",{enumerable:!0,get:function(){return jr.Interval}});Object.defineProperty(en,"IntervalDayTime",{enumerable:!0,get:function(){return jr.IntervalDayTime}});Object.defineProperty(en,"IntervalYearMonth",{enumerable:!0,get:function(){return jr.IntervalYearMonth}});Object.defineProperty(en,"FixedSizeList",{enumerable:!0,get:function(){return jr.FixedSizeList}});Object.defineProperty(en,"Map_",{enumerable:!0,get:function(){return jr.Map_}});Object.defineProperty(en,"MapRow",{enumerable:!0,get:function(){return jr.MapRow}});Object.defineProperty(en,"Table",{enumerable:!0,get:function(){return jr.Table}});Object.defineProperty(en,"makeTable",{enumerable:!0,get:function(){return jr.makeTable}});Object.defineProperty(en,"tableFromArrays",{enumerable:!0,get:function(){return jr.tableFromArrays}});Object.defineProperty(en,"Schema",{enumerable:!0,get:function(){return jr.Schema}});Object.defineProperty(en,"Field",{enumerable:!0,get:function(){return jr.Field}});Object.defineProperty(en,"Visitor",{enumerable:!0,get:function(){return jr.Visitor}});Object.defineProperty(en,"Vector",{enumerable:!0,get:function(){return jr.Vector}});Object.defineProperty(en,"makeVector",{enumerable:!0,get:function(){return jr.makeVector}});Object.defineProperty(en,"vectorFromArray",{enumerable:!0,get:function(){return jr.vectorFromArray}});Object.defineProperty(en,"tableFromJSON",{enumerable:!0,get:function(){return jr.tableFromJSON}});Object.defineProperty(en,"ByteStream",{enumerable:!0,get:function(){return jr.ByteStream}});Object.defineProperty(en,"AsyncByteStream",{enumerable:!0,get:function(){return jr.AsyncByteStream}});Object.defineProperty(en,"AsyncByteQueue",{enumerable:!0,get:function(){return jr.AsyncByteQueue}});Object.defineProperty(en,"RecordBatchReader",{enumerable:!0,get:function(){return jr.RecordBatchReader}});Object.defineProperty(en,"RecordBatchFileReader",{enumerable:!0,get:function(){return jr.RecordBatchFileReader}});Object.defineProperty(en,"RecordBatchStreamReader",{enumerable:!0,get:function(){return jr.RecordBatchStreamReader}});Object.defineProperty(en,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return jr.AsyncRecordBatchFileReader}});Object.defineProperty(en,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return jr.AsyncRecordBatchStreamReader}});Object.defineProperty(en,"RecordBatchWriter",{enumerable:!0,get:function(){return jr.RecordBatchWriter}});Object.defineProperty(en,"RecordBatchFileWriter",{enumerable:!0,get:function(){return jr.RecordBatchFileWriter}});Object.defineProperty(en,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return jr.RecordBatchStreamWriter}});Object.defineProperty(en,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return jr.RecordBatchJSONWriter}});Object.defineProperty(en,"tableFromIPC",{enumerable:!0,get:function(){return jr.tableFromIPC}});Object.defineProperty(en,"tableToIPC",{enumerable:!0,get:function(){return jr.tableToIPC}});Object.defineProperty(en,"MessageReader",{enumerable:!0,get:function(){return jr.MessageReader}});Object.defineProperty(en,"AsyncMessageReader",{enumerable:!0,get:function(){return jr.AsyncMessageReader}});Object.defineProperty(en,"JSONMessageReader",{enumerable:!0,get:function(){return jr.JSONMessageReader}});Object.defineProperty(en,"Message",{enumerable:!0,get:function(){return jr.Message}});Object.defineProperty(en,"RecordBatch",{enumerable:!0,get:function(){return jr.RecordBatch}});Object.defineProperty(en,"util",{enumerable:!0,get:function(){return jr.util}});Object.defineProperty(en,"Builder",{enumerable:!0,get:function(){return jr.Builder}});Object.defineProperty(en,"makeBuilder",{enumerable:!0,get:function(){return jr.makeBuilder}});Object.defineProperty(en,"builderThroughIterable",{enumerable:!0,get:function(){return jr.builderThroughIterable}});Object.defineProperty(en,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return jr.builderThroughAsyncIterable}});var Fs=iae();Object.defineProperty(en,"BinaryBuilder",{enumerable:!0,get:function(){return Fs.BinaryBuilder}});Object.defineProperty(en,"BoolBuilder",{enumerable:!0,get:function(){return Fs.BoolBuilder}});Object.defineProperty(en,"DateBuilder",{enumerable:!0,get:function(){return Fs.DateBuilder}});Object.defineProperty(en,"DateDayBuilder",{enumerable:!0,get:function(){return Fs.DateDayBuilder}});Object.defineProperty(en,"DateMillisecondBuilder",{enumerable:!0,get:function(){return Fs.DateMillisecondBuilder}});Object.defineProperty(en,"DecimalBuilder",{enumerable:!0,get:function(){return Fs.DecimalBuilder}});Object.defineProperty(en,"DictionaryBuilder",{enumerable:!0,get:function(){return Fs.DictionaryBuilder}});Object.defineProperty(en,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return Fs.FixedSizeBinaryBuilder}});Object.defineProperty(en,"FixedSizeListBuilder",{enumerable:!0,get:function(){return Fs.FixedSizeListBuilder}});Object.defineProperty(en,"FloatBuilder",{enumerable:!0,get:function(){return Fs.FloatBuilder}});Object.defineProperty(en,"Float16Builder",{enumerable:!0,get:function(){return Fs.Float16Builder}});Object.defineProperty(en,"Float32Builder",{enumerable:!0,get:function(){return Fs.Float32Builder}});Object.defineProperty(en,"Float64Builder",{enumerable:!0,get:function(){return Fs.Float64Builder}});Object.defineProperty(en,"IntervalBuilder",{enumerable:!0,get:function(){return Fs.IntervalBuilder}});Object.defineProperty(en,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return Fs.IntervalDayTimeBuilder}});Object.defineProperty(en,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return Fs.IntervalYearMonthBuilder}});Object.defineProperty(en,"IntBuilder",{enumerable:!0,get:function(){return Fs.IntBuilder}});Object.defineProperty(en,"Int8Builder",{enumerable:!0,get:function(){return Fs.Int8Builder}});Object.defineProperty(en,"Int16Builder",{enumerable:!0,get:function(){return Fs.Int16Builder}});Object.defineProperty(en,"Int32Builder",{enumerable:!0,get:function(){return Fs.Int32Builder}});Object.defineProperty(en,"Int64Builder",{enumerable:!0,get:function(){return Fs.Int64Builder}});Object.defineProperty(en,"Uint8Builder",{enumerable:!0,get:function(){return Fs.Uint8Builder}});Object.defineProperty(en,"Uint16Builder",{enumerable:!0,get:function(){return Fs.Uint16Builder}});Object.defineProperty(en,"Uint32Builder",{enumerable:!0,get:function(){return Fs.Uint32Builder}});Object.defineProperty(en,"Uint64Builder",{enumerable:!0,get:function(){return Fs.Uint64Builder}});Object.defineProperty(en,"ListBuilder",{enumerable:!0,get:function(){return Fs.ListBuilder}});Object.defineProperty(en,"MapBuilder",{enumerable:!0,get:function(){return Fs.MapBuilder}});Object.defineProperty(en,"NullBuilder",{enumerable:!0,get:function(){return Fs.NullBuilder}});Object.defineProperty(en,"StructBuilder",{enumerable:!0,get:function(){return Fs.StructBuilder}});Object.defineProperty(en,"TimestampBuilder",{enumerable:!0,get:function(){return Fs.TimestampBuilder}});Object.defineProperty(en,"TimestampSecondBuilder",{enumerable:!0,get:function(){return Fs.TimestampSecondBuilder}});Object.defineProperty(en,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return Fs.TimestampMillisecondBuilder}});Object.defineProperty(en,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return Fs.TimestampMicrosecondBuilder}});Object.defineProperty(en,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return Fs.TimestampNanosecondBuilder}});Object.defineProperty(en,"TimeBuilder",{enumerable:!0,get:function(){return Fs.TimeBuilder}});Object.defineProperty(en,"TimeSecondBuilder",{enumerable:!0,get:function(){return Fs.TimeSecondBuilder}});Object.defineProperty(en,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return Fs.TimeMillisecondBuilder}});Object.defineProperty(en,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return Fs.TimeMicrosecondBuilder}});Object.defineProperty(en,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return Fs.TimeNanosecondBuilder}});Object.defineProperty(en,"UnionBuilder",{enumerable:!0,get:function(){return Fs.UnionBuilder}});Object.defineProperty(en,"DenseUnionBuilder",{enumerable:!0,get:function(){return Fs.DenseUnionBuilder}});Object.defineProperty(en,"SparseUnionBuilder",{enumerable:!0,get:function(){return Fs.SparseUnionBuilder}});Object.defineProperty(en,"Utf8Builder",{enumerable:!0,get:function(){return Fs.Utf8Builder}})});var _ae=G((oin,oLe)=>{"use strict";d();var rDt=Object.create,Tz=Object.defineProperty,iDt=Object.getOwnPropertyDescriptor,sDt=Object.getOwnPropertyNames,oDt=Object.getPrototypeOf,aDt=Object.prototype.hasOwnProperty,uDt=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),lDt=(n,e)=>{for(var t in e)Tz(n,t,{get:e[t],enumerable:!0})},HRe=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sDt(e))!aDt.call(n,i)&&i!==t&&Tz(n,i,{get:()=>e[i],enumerable:!(r=iDt(e,i))||r.enumerable});return n},lae=(n,e,t)=>(t=n!=null?rDt(oDt(n)):{},HRe(e||!n||!n.__esModule?Tz(t,"default",{value:n,enumerable:!0}):t,n)),cDt=n=>HRe(Tz({},"__esModule",{value:!0}),n),fDt=uDt((n,e)=>{e.exports=Worker}),VRe={};lDt(VRe,{AsyncDuckDB:()=>vDt,AsyncDuckDBConnection:()=>JRe,AsyncDuckDBDispatcher:()=>_Dt,AsyncPreparedStatement:()=>XRe,AsyncResultStreamIterator:()=>cae,ConsoleLogger:()=>hDt,DuckDBDataProtocol:()=>sLe,LogEvent:()=>GRe,LogLevel:()=>WRe,LogOrigin:()=>YRe,LogTopic:()=>QRe,PACKAGE_NAME:()=>tLe,PACKAGE_VERSION:()=>nLe,PACKAGE_VERSION_MAJOR:()=>wDt,PACKAGE_VERSION_MINOR:()=>ADt,PACKAGE_VERSION_PATCH:()=>TDt,StatusCode:()=>KRe,VoidLogger:()=>dDt,WorkerRequestType:()=>ZRe,WorkerResponseType:()=>eLe,WorkerTask:()=>xo,createWorker:()=>LDt,getJsDelivrBundles:()=>ODt,getLogEventLabel:()=>mDt,getLogLevelLabel:()=>pDt,getLogOriginLabel:()=>gDt,getLogTopicLabel:()=>xDt,getPlatformFeatures:()=>iLe,isFirefox:()=>FDt,isNode:()=>pae,isSafari:()=>DDt,selectBundle:()=>NDt});oLe.exports=cDt(VRe);var WRe=(n=>(n[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n))(WRe||{}),QRe=(n=>(n[n.NONE=0]="NONE",n[n.CONNECT=1]="CONNECT",n[n.DISCONNECT=2]="DISCONNECT",n[n.OPEN=3]="OPEN",n[n.QUERY=4]="QUERY",n[n.INSTANTIATE=5]="INSTANTIATE",n))(QRe||{}),GRe=(n=>(n[n.NONE=0]="NONE",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n[n.START=3]="START",n[n.RUN=4]="RUN",n[n.CAPTURE=5]="CAPTURE",n))(GRe||{}),YRe=(n=>(n[n.NONE=0]="NONE",n[n.WEB_WORKER=1]="WEB_WORKER",n[n.NODE_WORKER=2]="NODE_WORKER",n[n.BINDINGS=3]="BINDINGS",n[n.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",n))(YRe||{}),dDt=class{log(n){}},hDt=class{constructor(n=2){this.level=n}log(n){n.level>=this.level&&console.log(n)}};function pDt(n){switch(n){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function mDt(n){switch(n){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function xDt(n){switch(n){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function gDt(n){switch(n){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var KRe=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(KRe||{}),i6=lae(Az()),JRe=class{constructor(n,e){this._bindings=n,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(n){return n(this._bindings,this._conn)}async query(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.runQuery(this._conn,n),t=i6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new i6.Table(t)}async send(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.startPendingQuery(this._conn,n);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let t=new cae(this._bindings,this._conn,e),r=await i6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(n){return await this._bindings.getTableNames(this._conn,n)}async prepare(n){let e=await this._bindings.createPrepared(this._conn,n);return new XRe(this._bindings,this._conn,e)}async insertArrowTable(n,e){let t=i6.tableToIPC(n,"stream");await this.insertArrowFromIPCStream(t,e)}async insertArrowFromIPCStream(n,e){await this._bindings.insertArrowFromIPCStream(this._conn,n,e)}async insertCSVFromPath(n,e){await this._bindings.insertCSVFromPath(this._conn,n,e)}async insertJSONFromPath(n,e){await this._bindings.insertJSONFromPath(this._conn,n,e)}},cae=class{constructor(n,e,t){this.db=n,this.conn=e,this.header=t,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n;return this._inFlight!=null?(n=await this._inFlight,this._inFlight=null):n=await this.db.fetchQueryResults(this.conn),this._depleted=n.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:n}}[Symbol.asyncIterator](){return this}},XRe=class{constructor(n,e,t){this.bindings=n,this.connectionId=e,this.statementId=t}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...n){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,n),t=i6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new i6.Table(t)}async send(...n){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,n),t=new cae(this.bindings,this.connectionId,e),r=await i6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},ZRe=(n=>(n.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",n.CLOSE_PREPARED="CLOSE_PREPARED",n.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",n.CONNECT="CONNECT",n.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",n.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",n.CREATE_PREPARED="CREATE_PREPARED",n.DISCONNECT="DISCONNECT",n.DROP_FILE="DROP_FILE",n.DROP_FILES="DROP_FILES",n.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",n.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",n.FLUSH_FILES="FLUSH_FILES",n.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",n.GET_TABLE_NAMES="GET_TABLE_NAMES",n.GET_VERSION="GET_VERSION",n.GLOB_FILE_INFOS="GLOB_FILE_INFOS",n.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",n.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",n.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",n.INSTANTIATE="INSTANTIATE",n.OPEN="OPEN",n.PING="PING",n.POLL_PENDING_QUERY="POLL_PENDING_QUERY",n.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",n.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",n.REGISTER_FILE_URL="REGISTER_FILE_URL",n.RESET="RESET",n.RUN_PREPARED="RUN_PREPARED",n.RUN_QUERY="RUN_QUERY",n.SEND_PREPARED="SEND_PREPARED",n.START_PENDING_QUERY="START_PENDING_QUERY",n.TOKENIZE="TOKENIZE",n))(ZRe||{}),eLe=(n=>(n.CONNECTION_INFO="CONNECTION_INFO",n.ERROR="ERROR",n.FEATURE_FLAGS="FEATURE_FLAGS",n.FILE_BUFFER="FILE_BUFFER",n.FILE_INFOS="FILE_INFOS",n.FILE_SIZE="FILE_SIZE",n.FILE_STATISTICS="FILE_STATISTICS",n.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",n.LOG="LOG",n.OK="OK",n.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",n.QUERY_PLAN="QUERY_PLAN",n.QUERY_RESULT="QUERY_RESULT",n.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",n.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",n.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",n.REGISTERED_FILE="REGISTERED_FILE",n.SCRIPT_TOKENS="SCRIPT_TOKENS",n.SUCCESS="SUCCESS",n.TABLE_NAMES="TABLE_NAMES",n.VERSION_STRING="VERSION_STRING",n))(eLe||{}),xo=class{constructor(n,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=n,this.data=e,this.promise=new Promise((t,r)=>{this.promiseResolver=t,this.promiseRejecter=r})}},oo=lae(Az());function Fz(n){switch(n.typeId){case oo.Type.Binary:return{sqlType:"binary"};case oo.Type.Bool:return{sqlType:"bool"};case oo.Type.Date:return{sqlType:"date"};case oo.Type.DateDay:return{sqlType:"date32[d]"};case oo.Type.DateMillisecond:return{sqlType:"date64[ms]"};case oo.Type.Decimal:{let e=n;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case oo.Type.Float:return{sqlType:"float"};case oo.Type.Float16:return{sqlType:"float16"};case oo.Type.Float32:return{sqlType:"float32"};case oo.Type.Float64:return{sqlType:"float64"};case oo.Type.Int:return{sqlType:"int32"};case oo.Type.Int16:return{sqlType:"int16"};case oo.Type.Int32:return{sqlType:"int32"};case oo.Type.Int64:return{sqlType:"int64"};case oo.Type.Uint16:return{sqlType:"uint16"};case oo.Type.Uint32:return{sqlType:"uint32"};case oo.Type.Uint64:return{sqlType:"uint64"};case oo.Type.Uint8:return{sqlType:"uint8"};case oo.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case oo.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case oo.Type.List:return{sqlType:"list",valueType:Fz(n.valueType)};case oo.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case oo.Type.Null:return{sqlType:"null"};case oo.Type.Utf8:return{sqlType:"utf8"};case oo.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>fae(e.name,e.type))};case oo.Type.Map:{let e=n;return{sqlType:"map",keyType:Fz(e.keyType),valueType:Fz(e.valueType)}}case oo.Type.Time:return{sqlType:"time[s]"};case oo.Type.TimeMicrosecond:return{sqlType:"time[us]"};case oo.Type.TimeMillisecond:return{sqlType:"time[ms]"};case oo.Type.TimeNanosecond:return{sqlType:"time[ns]"};case oo.Type.TimeSecond:return{sqlType:"time[s]"};case oo.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case oo.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case oo.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case oo.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case oo.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function fae(n,e){let t=Fz(e);return t.name=n,t}var yDt=new TextEncoder,vDt=class{constructor(n,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=n,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(n){this._worker=n,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,t)=>{this._workerShutdownResolver=e})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(n,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let t=this._nextMessageId++;return this._pendingRequests.set(t,n),this._worker.postMessage({messageId:t,type:n.type,data:n.data},e),await n.promise}onMessage(n){let e=n.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(e.data);return}}let t=this._pendingRequests.get(e.requestId);if(!t){console.warn(`unassociated response: [${e.requestId}, ${e.type.toString()}]`);return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let r=new Error(e.data.message);r.name=e.data.name,r.stack=e.data.stack,t.promiseRejecter(r);return}switch(t.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){t.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){t.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){t.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){t.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){t.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){t.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){t.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){t.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){t.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){t.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){t.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){t.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){t.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){t.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){t.promiseResolver(e.data);return}break}t.promiseRejecter(new Error(`unexpected response type: ${e.type.toString()}`))}onError(n){console.error(n),console.error(`error in duckdb worker: ${n.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let n=new xo("RESET",null);return await this.postTask(n)}async ping(){let n=new xo("PING",null);await this.postTask(n)}async dropFile(n){let e=new xo("DROP_FILE",n);return await this.postTask(e)}async dropFiles(){let n=new xo("DROP_FILES",null);return await this.postTask(n)}async flushFiles(){let n=new xo("FLUSH_FILES",null);return await this.postTask(n)}async instantiate(n,e=null,t=r=>{}){this._onInstantiationProgress.push(t);let r=new xo("INSTANTIATE",[n,e]);return await this.postTask(r)}async getVersion(){let n=new xo("GET_VERSION",null);return await this.postTask(n)}async getFeatureFlags(){let n=new xo("GET_FEATURE_FLAGS",null);return await this.postTask(n)}async open(n){let e=new xo("OPEN",n);await this.postTask(e)}async tokenize(n){let e=new xo("TOKENIZE",n);return await this.postTask(e)}async connectInternal(){let n=new xo("CONNECT",null);return await this.postTask(n)}async connect(){let n=await this.connectInternal();return new JRe(this,n)}async disconnect(n){let e=new xo("DISCONNECT",n);await this.postTask(e)}async runQuery(n,e){let t=new xo("RUN_QUERY",[n,e]);return await this.postTask(t)}async startPendingQuery(n,e){let t=new xo("START_PENDING_QUERY",[n,e]);return await this.postTask(t)}async pollPendingQuery(n){let e=new xo("POLL_PENDING_QUERY",n);return await this.postTask(e)}async cancelPendingQuery(n){let e=new xo("CANCEL_PENDING_QUERY",n);return await this.postTask(e)}async fetchQueryResults(n){let e=new xo("FETCH_QUERY_RESULTS",n);return await this.postTask(e)}async getTableNames(n,e){let t=new xo("GET_TABLE_NAMES",[n,e]);return await this.postTask(t)}async createPrepared(n,e){let t=new xo("CREATE_PREPARED",[n,e]);return await this.postTask(t)}async closePrepared(n,e){let t=new xo("CLOSE_PREPARED",[n,e]);await this.postTask(t)}async runPrepared(n,e,t){let r=new xo("RUN_PREPARED",[n,e,t]);return await this.postTask(r)}async sendPrepared(n,e,t){let r=new xo("SEND_PREPARED",[n,e,t]);return await this.postTask(r)}async globFiles(n){let e=new xo("GLOB_FILE_INFOS",n);return await this.postTask(e)}async registerFileText(n,e){let t=yDt.encode(e);await this.registerFileBuffer(n,t)}async registerFileURL(n,e,t,r){e===void 0&&(e=n);let i=new xo("REGISTER_FILE_URL",[n,e,t,r]);await this.postTask(i)}async registerEmptyFileBuffer(n){let e=new xo("REGISTER_FILE_BUFFER",[n,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(n,e){let t=new xo("REGISTER_FILE_BUFFER",[n,e]);await this.postTask(t,[e.buffer])}async registerFileHandle(n,e,t,r){let i=new xo("REGISTER_FILE_HANDLE",[n,e,t,r]);await this.postTask(i,[])}async collectFileStatistics(n,e){let t=new xo("COLLECT_FILE_STATISTICS",[n,e]);await this.postTask(t,[])}async exportFileStatistics(n){let e=new xo("EXPORT_FILE_STATISTICS",n);return await this.postTask(e,[])}async copyFileToBuffer(n){let e=new xo("COPY_FILE_TO_BUFFER",n);return await this.postTask(e)}async copyFileToPath(n,e){let t=new xo("COPY_FILE_TO_PATH",[n,e]);await this.postTask(t)}async insertArrowFromIPCStream(n,e,t){if(e.length==0)return;let r=new xo("INSERT_ARROW_FROM_IPC_STREAM",[n,e,t]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(fae(s,o))}t.columnsFlat=i,delete t.columns}let r=new xo("IMPORT_CSV_FROM_PATH",[n,e,t]);await this.postTask(r)}async insertJSONFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(fae(s,o))}t.columnsFlat=i,delete t.columns}let r=new xo("IMPORT_JSON_FROM_PATH",[n,e,t]);await this.postTask(r)}},_Dt=class{constructor(){this._bindings=null,this._nextMessageId=0}log(n){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:n},[])}sendOK(n){this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"OK",data:null},[])}failWith(n,e){let t={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"ERROR",data:t},[])}async onMessage(n){switch(n.type){case"PING":this.sendOK(n);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(n,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(n.data[0],n.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(n)}catch(e){this._bindings=null,this.failWith(n,e)}return;default:break}if(!this._bindings)return this.failWith(n,new Error("duckdb is not initialized"));try{switch(n.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(n);break;case"OPEN":this._bindings.open(n.data),this.sendOK(n);break;case"DROP_FILE":this._bindings.dropFile(n.data),this.sendOK(n);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(n);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(n);break;case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((t,r)=>r)},[]);break}case"DISCONNECT":this._bindings.disconnect(n.data),this.sendOK(n);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(n.data[0],n.data[1]),this.sendOK(n);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(n.data[0],n.data[1]),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(n.data),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(n.data[0],n.data[1],n.data[2],n.data[3]),this.sendOK(n);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(n.data[0],n.data[1],n.data[2],n.data[3]),this.sendOK(n);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(n.data[0],n.data[1]),this.sendOK(n);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(n.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"TOKENIZE":{let e=this._bindings.tokenize(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return this.failWith(n,e)}}},bDt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),EDt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),SDt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),CDt=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),dae={name:"@duckdb/duckdb-wasm",version:"1.20.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^9.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.0","@typescript-eslint/eslint-plugin":"^5.40.1","@typescript-eslint/parser":"^5.40.0",esbuild:"^0.15.12",eslint:"^8.26.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.10","fast-glob":"^3.2.12",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.1","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^19.2.0",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.20",typescript:"^4.8.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},tLe=dae.name,nLe=dae.version,hae=dae.version.split("."),wDt=hae[0],ADt=hae[1],TDt=hae[2],pae=()=>typeof navigator>"u",rLe=()=>pae()?"node":navigator.userAgent,FDt=()=>rLe().includes("Firefox"),DDt=()=>/^((?!chrome|android).)*safari/i.test(rLe());function ODt(){let n=`https://cdn.jsdelivr.net/npm/${tLe}@${nLe}/dist/`;return{mvp:{mainModule:`${n}duckdb-mvp.wasm`,mainWorker:`${n}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${n}duckdb-eh.wasm`,mainWorker:`${n}duckdb-browser-eh.worker.js`}}}var mae=null,xae=null,gae=null,yae=null,vae=null;async function iLe(){return mae==null&&(mae=typeof BigInt64Array<"u"),xae==null&&(xae=await EDt()),gae==null&&(gae=await CDt()),yae==null&&(yae=await SDt()),vae==null&&(vae=await bDt()),{bigInt64Array:mae,crossOriginIsolated:pae()||globalThis.crossOriginIsolated||!1,wasmExceptions:xae,wasmSIMD:yae,wasmThreads:gae,wasmBulkMemory:vae}}async function NDt(n){let e=await iLe();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&n.coi)return{mainModule:n.coi.mainModule,mainWorker:n.coi.mainWorker,pthreadWorker:n.coi.pthreadWorker};if(n.eh)return{mainModule:n.eh.mainModule,mainWorker:n.eh.mainWorker,pthreadWorker:null}}return{mainModule:n.mvp.mainModule,mainWorker:n.mvp.mainWorker,pthreadWorker:null}}var RDt=lae(fDt());async function LDt(n){let e=new Request(n),t=await fetch(e),r=URL.createObjectURL(await t.blob());return new RDt.default(r)}function kDt(){let n=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),n.decode(e))}var sin=kDt(),sLe=(n=>(n[n.BUFFER=0]="BUFFER",n[n.NODE_FS=1]="NODE_FS",n[n.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",n[n.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",n[n.HTTP=4]="HTTP",n[n.S3=5]="S3",n))(sLe||{})});var uLe=G((ain,aLe)=>{d();aLe.exports=Worker});var cLe=G(Dz=>{"use strict";d();Object.defineProperty(Dz,"__esModule",{value:!0});Dz.DuckDBCommon=void 0;var IDt=gf(),lLe={BIGINT:"number",DOUBLE:"number",VARCHAR:"string",DATE:"date",TIMESTAMP:"timestamp",TIME:"string",DECIMAL:"number",BOOLEAN:"boolean",INTEGER:"number"},QD=class{constructor(e){this.queryOptions=e,this.schemaCache=new Map,this.sqlSchemaCache=new Map,this.name="duckdb_common"}get dialectName(){return"duckdb"}readQueryOptions(){let e=QD.DEFAULT_QUERY_OPTIONS;return this.queryOptions?this.queryOptions instanceof Function?{...e,...this.queryOptions()}:{...e,...this.queryOptions}:e}isPool(){return!1}canPersist(){return!0}async runRawSQL(e){return await this.setup(),this.runDuckDBQuery(e)}async runSQL(e,t={}){var r;let i=this.readQueryOptions(),s=(r=t.rowLimit)!==null&&r!==void 0?r:i.rowLimit,o=e.split("-- hack: split on this");for(;o.length>1;)await this.runRawSQL(o[0]),o.shift();let l=(await this.runRawSQL(o[0])).rows;return l.length>s&&(l=l.slice(0,s)),{rows:l,totalRows:l.length}}async getSQLBlockSchema(e){let t={type:"struct",dialect:"duckdb",name:e.name,structSource:{type:"sql",method:"subquery",sqlBlock:e},structRelationship:{type:"basetable",connectionName:this.name},fields:[]};return await this.schemaFromQuery(`DESCRIBE SELECT * FROM (${e.selectStr})`,t),t}splitColumns(e){let t=[],r=0,i="",s=!0;for(let o=0;o<e.length;o++){let a=e.charAt(o);s&&a===" "||(s=!1,!r&&a===","?(t.push(i),i="",s=!0):i+=a,a==="("?r+=1:a===")"&&(r-=1))}return t.push(i),t}stringToTypeMap(e){let t={},r=this.splitColumns(e);for(let i of r){let s=i.match(/^(?<name>[^\s]+) (?<type>.*)$/);if(s&&s.groups)t[s.groups.name]=s.groups.type;else throw new Error(`Badly form Structure definition ${e}`)}return t}fillStructDefFromTypeMap(e,t){for(let r in t){let i=t[r];i=i.replace(/^DECIMAL\(\d+,\d+\)/g,"DECIMAL");let s=lLe[i],o=i.match(/(?<duckDBType>.*)\[\]$/);o&&o.groups&&(i=o.groups.duckDBType);let a=i.match(/^STRUCT\((?<fields>.*)\)$/);if(a&&a.groups){let l=this.stringToTypeMap(a.groups.fields),f={type:"struct",name:r,dialect:this.dialectName,structSource:{type:o?"nested":"inline"},structRelationship:{type:o?"nested":"inline",field:r,isArray:!1},fields:[]};this.fillStructDefFromTypeMap(f,l),e.fields.push(f)}else if(o){s=lLe[i];let l={type:"struct",name:r,dialect:this.dialectName,structSource:{type:"nested"},structRelationship:{type:"nested",field:r,isArray:!0},fields:[{type:s,name:"value"}]};e.fields.push(l)}else s!==void 0?e.fields.push({type:s,name:r}):e.fields.push({name:r,type:"string",e:[`'DuckDB type "${i}" not supported by Malloy'`]})}}async schemaFromQuery(e,t){let r={},i=await this.runRawSQL(e);for(let s of i.rows)r[s.column_name]=s.column_type;this.fillStructDefFromTypeMap(t,r)}async fetchSchemaForSQLBlock(e){let t=e.name,r=this.sqlSchemaCache.get(t);if(!r){try{r={structDef:await this.getSQLBlockSchema(e)}}catch(i){r={error:i.message}}this.sqlSchemaCache.set(t,r)}return r}async fetchSchemaForTables(e){let t={},r={};for(let i of e){let s=this.schemaCache.get(i);if(!s)try{s={schema:await this.getTableSchema(i)},this.schemaCache.set(i,s)}catch(o){s={error:o.message}}s.schema!==void 0?t[i]=s.schema:r[i]=s.error}return{schemas:t,errors:r}}async getTableSchema(e){let{tablePath:t}=(0,IDt.parseTableURI)(e),r={type:"struct",name:t,dialect:"duckdb",structSource:{type:"table",tablePath:t},structRelationship:{type:"basetable",connectionName:this.name},fields:[]},s=`DESCRIBE SELECT * FROM ${t.match(/[:*/]/)?`'${t}'`:t}`;return await this.schemaFromQuery(s,r),r}canStream(){return!0}async test(){await this.runRawSQL("SELECT 1")}async manifestTemporaryTable(e){let r=`tt${await this.createHash(e)}`,i=`CREATE TEMPORARY TABLE IF NOT EXISTS ${r} AS (${e});`;return await this.runRawSQL(i),r}};Dz.DuckDBCommon=QD;QD.DEFAULT_QUERY_OPTIONS={rowLimit:10}});var hLe=G($h=>{"use strict";d();var MDt=$h&&$h.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),PDt=$h&&$h.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),BDt=$h&&$h.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&MDt(e,n,t);return PDt(e,n),e},jDt=$h&&$h.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($h,"__esModule",{value:!0});$h.DuckDBWASMConnection=void 0;var Oz=BDt(_ae()),qDt=jDt(uLe()),UDt=gf(),$Dt=Az(),zDt=cLe(),Nz=n=>{if(n===null)return n;if(n instanceof $Dt.Vector)return[...n].map(Nz);if(n instanceof Date)return n;if(typeof n=="bigint")return Number(n);if(typeof n=="object"){let e=n;if(e[Symbol.toPrimitive])return Number(e[Symbol.toPrimitive]());if(Array.isArray(n))return n.map(Nz);{let t={};for(let r in e)t[r]=Nz(e[r]);return t}}return n},fLe=n=>Nz(n.toJSON()),HDt=n=>n.toArray().map(fLe),VDt=()=>typeof navigator=="undefined",dLe=class extends zDt.DuckDBCommon{constructor(e,t=null,r="/",i){super(i);this.name=e,this.databasePath=t,this.workingDirectory=r,this._connection=null,this._database=null,this.isSetup=!1,this.worker=null,this.remoteFileCallbacks=[],this.remoteFileStatus={},this.connecting=this.init()}async init(){let e=await Oz.selectBundle(this.getBundles());if(e.mainWorker){let t=VDt()?e.mainWorker:URL.createObjectURL(new Blob([`importScripts("${e.mainWorker}");`],{type:"text/javascript"}));this.worker=new qDt.default(t);let r=new Oz.VoidLogger;this._database=new Oz.AsyncDuckDB(r,this.worker),await this._database.instantiate(e.mainModule,e.pthreadWorker),this.databasePath&&await this._database.open({path:this.databasePath}),URL.revokeObjectURL(t),this._connection=await this._database.connect()}else throw new Error("Unable to instantiate duckdb-wasm")}get connection(){return this._connection}get database(){return this._database}async setup(){await this.connecting}async runDuckDBQuery(e){var t;let r=await((t=this.connection)===null||t===void 0?void 0:t.query(e));if((r==null?void 0:r.numRows)!=null)return{rows:HDt(r),totalRows:r.numRows};throw new Error("Boom")}async*runSQLStream(e,t={}){if(!this.connection)throw new Error("duckdb-wasm not connected");await this.setup();let r=e.split("-- hack: split on this");for(;r.length>1;)await this.runDuckDBQuery(r[0]),r.shift();for await(let i of await this.connection.send(r[0]))for(let s of i.toArray())yield fLe(s)}async fetchSchemaForTables(e){var t;await this.setup();for(let r of e){let{tablePath:i}=(0,UDt.parseTableURI)(r);if(!i.match(/^https?:\/\//)&&!this.remoteFileStatus[i])for(let s of this.remoteFileCallbacks){this.remoteFileStatus[i]=!0;let o=await s(i);if(o){await((t=this.database)===null||t===void 0?void 0:t.registerFileBuffer(i,o));break}}}return super.fetchSchemaForTables(e)}async close(){this._connection&&(await this._connection.close(),this._connection=null),this._database&&(await this._database.terminate(),this._database=null),this.worker&&(this.worker.terminate(),this.worker=null)}registerRemoteTableCallback(e){this.remoteFileCallbacks.push(e)}async registerRemoteTable(e,t){var r;(r=this.database)===null||r===void 0||r.registerFileURL(e,t,Oz.DuckDBDataProtocol.HTTP,!0)}};$h.DuckDBWASMConnection=dLe});var mLe=G(t2=>{"use strict";d();var WDt=t2&&t2.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),QDt=t2&&t2.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),GDt=t2&&t2.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&WDt(e,n,t);return QDt(e,n),e};Object.defineProperty(t2,"__esModule",{value:!0});t2.DuckDBWASMConnection=void 0;var YDt=GDt(_ae()),KDt=hLe(),pLe=class extends KDt.DuckDBWASMConnection{getBundles(){return YDt.getJsDelivrBundles()}async createHash(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}};t2.DuckDBWASMConnection=pLe});var BLe=G((osn,PLe)=>{"use strict";d();var rOt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";PLe.exports=rOt});var $Le=G((asn,ULe)=>{"use strict";d();var iOt=BLe();function jLe(){}function qLe(){}qLe.resetWarningCache=jLe;ULe.exports=function(){function n(r,i,s,o,a,l){if(l!==iOt){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qLe,resetWarningCache:jLe};return t.PropTypes=t,t}});var HLe=G((csn,zLe)=>{d();zLe.exports=$Le()();var usn,lsn});var bke={};DQ(bke,{GlobalHotKeys:()=>VOt,HotKeys:()=>yke,IgnoreKeys:()=>QOt,ObserveKeys:()=>YOt,configure:()=>XOt,getApplicationKeyMap:()=>ZOt,recordKeyCombination:()=>eNt,withHotKeys:()=>gke,withIgnoreKeys:()=>KOt,withObserveKeys:()=>JOt});function qz(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qz=function(e){return typeof e}:qz=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qz(n)}function ua(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function VLe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function la(n,e,t){return e&&VLe(n.prototype,e),t&&VLe(n,t),n}function cc(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uz(){return Uz=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uz.apply(this,arguments)}function Vh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){cc(n,i,t[i])})}return n}function n2(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&JD(n,e)}function _l(n){return _l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_l(n)}function JD(n,e){return JD=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},JD(n,e)}function sOt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $z(n,e,t){return sOt()?$z=Reflect.construct:$z=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&JD(f,o.prototype),f},$z.apply(null,arguments)}function oOt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Tae(n){var e=typeof Map=="function"?new Map:void 0;return Tae=function(r){if(r===null||!oOt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return $z(r,arguments,_l(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),JD(i,r)},Tae(n)}function aOt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function XD(n,e){if(n==null)return{};var t=aOt(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Bl(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function r2(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:Bl(n)}function uOt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=_l(n),n!==null););return n}function hg(n,e,t){return typeof Reflect!="undefined"&&Reflect.get?hg=Reflect.get:hg=function(i,s,o){var a=uOt(i,s);if(!!a){var l=Object.getOwnPropertyDescriptor(a,s);return l.get?l.get.call(o):l.value}},hg(n,e,t||n)}function Xf(n){return lOt(n)||cOt(n)||fOt()}function lOt(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function cOt(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function fOt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function wC(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return n.reduce(function(t,r){return t[r]=e||{value:r},t},{})}function Dae(n){return QLe[n]||[n.length===1?n.toUpperCase():n]}function Wh(n,e){return n.hasOwnProperty(e)}function zz(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(n).reduce(function(t,r){var i=n[r];return i.forEach(function(s){Wh(t,s)||(t[s]=[]),t[s].push(r)}),e.includeOriginal&&(!Wh(t,r)&&(t[r]=[]),t[r]=[].concat(Xf(t[r]),Xf(i))),t},{})}function Hz(n){return dOt[n]||[n.length===1?n.toLowerCase():n]}function YLe(n){return typeof n=="string"}function pOt(n){return YLe(n)?n.trim().replace(/\s+/g," "):n}function KLe(n){var e=n.toLowerCase();return mOt[e]||xOt[e]||(n.match(/^f\d+$/)?n.toUpperCase():n)}function XLe(n){return!!gOt[n]}function yOt(n){return ca.option("_customKeyNamesDict")[n]}function ZLe(n){return XLe(n)||String.fromCharCode(n.charCodeAt(0))===n||yOt(n)}function tke(n){return n.sort().join("+")}function rke(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return n.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce(function(t,r){var i=KLe(r);if(e.ensureValidKeys&&!ZLe(i))throw new eke;return t[i]=!0,t},{})}function Oae(n){return vOt[n]||[n]}function Nae(n){return ike[n]||[n]}function Rae(n){return _Ot[n]||Hz(n)}function Lae(n){return ske[n]||[n]}function bOt(n){return GLe[n]||[n]}function EOt(n){if(n.Shift)return n.Alt?[Lae,Rae]:[Dae,Hz];if(n.Alt)return[Nae,Oae];var e=function(t){return[t]};return[e,e]}function Qh(n){return typeof n=="undefined"}function f4(n){return!Array.isArray(n)&&qz(n)==="object"&&n!==null}function eO(n){return f4(n)?Object.keys(n).length===0:!n||n.length===0}function ake(n){return f4(n)?Object.keys(n).length:n.length}function SOt(n){return Object.keys(n).reduce(function(e,t){return bOt(t).forEach(function(r){EOt(n).forEach(function(i){i(r).forEach(function(s){(s!==t||t!==r)&&(e[s]=t)})})}),e},{})}function tO(n){return Array.isArray(n)?n:n?[n]:[]}function wOt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=wC(tO(e));return Array.isArray(n)?n.reduce(function(i,s){return r[s]&&(t.stringifyFirst||r[s].value===s)||i.push(s),i},[]):f4(n)?Object.keys(n).reduce(function(i,s){return r[s]||(i[s]=n[s]),i},{}):n}function TOt(n,e){return[].concat(Xf(n.slice(0,e)),Xf(n.slice(e+1)))}function OOt(n,e){if(f4(n)){var t=n.sequence,r=n.action;return{keySequence:t,keyEventType:Qh(r)?Es[e.defaultKeyEvent]:Es[r]}}return{keySequence:n,keyEventType:Es[e.defaultKeyEvent]}}function lke(n,e){return n[n.length-(e+1)]}function cke(n){return n.length===1||Wh(kae,n)}function ROt(n,e){var t=ake(e.keyDictionary);return ca.option("allowCombinationSubmatches")||LOt(n)?n.getNumberOfKeys()>=t:n.getNumberOfKeys()===t}function LOt(n){return!!n.isKeyStillPressed("Meta")&&n.some(function(e){return cke(e)})}function Gz(n,e,t){return t.forEach(function(r){Wh(n,r)&&(e[r]=n[r])}),e}function fke(n){switch(parseInt(n,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function MOt(n){return!XLe(n)}function a6(n){return n.simulated?pg.simulated:pg.seen}function POt(n){var e,t=n.keyCode;return"charCode"in n?(e=n.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jOt(n){if(n.key){var e=BOt[n.key]||n.key;if(e!=="Unidentified")return e}if(n.type==="keypress"){var t=POt(n);return t===13?"Enter":String.fromCharCode(t)}return n.type==="keydown"||n.type==="keyup"?JLe[n.keyCode]||"Unidentified":""}function AC(n){var e=function(){var t=ca.option("customKeyCodes"),r=n.keyCode||n.charCode;return Wh(t,r)?t[r]:n.nativeEvent?n.key:jOt(n)}();return e==="+"?"plus":e}function Yz(n){return n==="Meta"}function Kz(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return Array.isArray(n)||YLe(n)?t.stringifyFirst?!Qh(n.find(function(r){return r.toString()===e.toString()})):n.indexOf(e)!==-1:f4(n)?Wh(n,e):t.stringifyFirst?n.toString()===e.toString():n===e}function mke(n){return n.replace(/\b\w/g,function(e){return e.toUpperCase()})}function $Ot(n){return"".concat(mke(n.slice(0,3))).concat(mke(n.slice(3)))}function Iae(n){return!Qh(n)}function xke(n,e){var t=e.deprecatedAPI,r=t.contextTypes,i=t.childContextTypes,s=e.newAPI.contextType;if(typeof Bc.default.createContext=="undefined")n.contextTypes=r,n.childContextTypes=i,n.prototype.getChildContext=function(){return this._childContext};else{var o=Bc.default.createContext(s);n.contextType=o,n.prototype._originalRender=n.prototype.render,n.prototype.render=function(){var a=this._originalRender();return a?Bc.default.createElement(o.Provider,{value:this._childContext},a):null}}return n}function gke(n){function e(o,a){return Vh({},i[o]||{},a[o]||{})}function t(o){return e("handlers",o)}function r(o){return e("keyMap",o)}var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=function(o){function a(l){var f;return ua(this,a),f=r2(this,_l(a).call(this,l)),f._handleFocus=f._handleFocus.bind(Bl(Bl(f))),f._handleBlur=f._handleBlur.bind(Bl(Bl(f))),f._handleKeyDown=f._handleKeyDown.bind(Bl(Bl(f))),f._handleKeyPress=f._handleKeyPress.bind(Bl(Bl(f))),f._handleKeyUp=f._handleKeyUp.bind(Bl(Bl(f))),f._componentIsFocused=f._componentIsFocused.bind(Bl(Bl(f))),f._id=bf.getInstance().registerKeyMap(l.keyMap),f._childContext={hotKeysParentId:f._id},f}return n2(a,o),la(a,[{key:"render",value:function(){var f=this.props,p=f.keyMap,v=f.handlers,b=f.allowChanges,F=f.root,D=XD(f,["keyMap","handlers","allowChanges","root"]),M={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:ca.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(M.onKeyDown=this._handleKeyDown,M.onKeyPress=this._handleKeyPress,M.onKeyUp=this._handleKeyUp),Bc.default.createElement(n,Uz({hotKeys:M},D))}},{key:"_shouldBindKeyListeners",value:function(){var f=r(this.props);return!eO(f)||this.props.root||ca.option("enableHardSequences")&&this._handlersIncludeHardSequences(f,t(this.props))}},{key:"_handlersIncludeHardSequences",value:function(f,p){return Object.keys(p).some(function(v){return!f[v]&&Vz.isValidKeySerialization(v)})}},{key:"_wrapFunction",value:function(f,p){var v=this;return typeof this.props[f]=="function"?function(b){v.props[f](b),p(b)}:p}},{key:"_focusTreeIdsPush",value:function(f){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(f)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var f=bf.getInstance();if(f.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!ca.option("ignoreKeymapAndHandlerChangesByDefault"))){var p=this.props,v=p.keyMap,b=p.handlers;f.updateEnabledHotKeys(this._getFocusTreeId(),this._id,v,b,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return this._focused===!0}},{key:"componentDidMount",value:function(){var f=bf.getInstance(),p=this.context.hotKeysParentId;f.registerComponentMount(this._id,p)}},{key:"_handleFocus",value:function(){if(this.props.onFocus){var f;(f=this.props).onFocus.apply(f,arguments)}var p=bf.getInstance().enableHotKeys(this._id,r(this.props),t(this.props),this._getComponentOptions());Qh(p)||this._focusTreeIdsPush(p),this._focused=!0}},{key:"componentWillUnmount",value:function(){var f=bf.getInstance();f.deregisterKeyMap(this._id),f.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){if(this.props.onBlur){var f;(f=this.props).onBlur.apply(f,arguments)}var p=bf.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);p||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(f){var p=bf.getInstance().handleKeydown(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(f){var p=bf.getInstance().handleKeyPress(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(f){var p=bf.getInstance().handleKeyUp(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:ca.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:ca.option("ignoreEventsCondition")}}}]),a}(Bc.PureComponent);return cc(s,"propTypes",{keyMap:ka.default.object,handlers:ka.default.object,onFocus:ka.default.func,onBlur:ka.default.func,allowChanges:ka.default.bool,root:ka.default.bool}),xke(s,{deprecatedAPI:{contextTypes:{hotKeysParentId:ka.default.number},childContextTypes:{hotKeysParentId:ka.default.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}function Jz(n){var e,t,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]},i=2<arguments.length?arguments[2]:void 0;return t=e=function(s){function o(a){var l;return ua(this,o),l=r2(this,_l(o).call(this,a)),l._handleKeyEvent=l._handleKeyEvent.bind(Bl(Bl(l))),l._reloadDictionaries=l._reloadDictionaries.bind(Bl(Bl(l))),l}return n2(o,s),la(o,[{key:"render",value:function(){var l=this.props,f=l.only,p=l.except,v=XD(l,["only","except"]),b={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return Bc.default.createElement(n,Uz({hotKeys:b},v))}},{key:"_reloadDictionaries",value:function(){var l=this.props,f=l.only,p=l.except;this._onlyDict=_ke(f),this._exceptDict=_ke(p)}},{key:"_shouldIgnoreEvent",value:function(l){var f=l.key;return eO(this._onlyDict)?!!eO(this._exceptDict)||!Wh(this._exceptDict,f):eO(this._exceptDict)?Wh(this._onlyDict,f):Wh(this._onlyDict,f)&&!Wh(this._exceptDict,f)}},{key:"_handleKeyEvent",value:function(l){this._shouldIgnoreEvent(l)&&bf.getInstance()[i](l)}}]),o}(Bc.PureComponent),cc(e,"propTypes",{only:ka.default.oneOfType([ka.default.string,ka.default.arrayOf(ka.default.string)]),except:ka.default.oneOfType([ka.default.string,ka.default.arrayOf(ka.default.string)])}),cc(e,"defaultProps",r),t}function _ke(n){return tO(n).reduce(function(e,t){var r=KLe(t);if(!ZLe(r))throw new eke(t);return[Lae,Rae,Dae,Hz,Nae,Oae].forEach(function(i){e[i(r)]=!0}),e},{})}function KOt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return Jz(n,e,"ignoreEvent")}function JOt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return Jz(n,e,"observeIgnoredEvents")}function XOt(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};ca.init(n)}function ZOt(){return bf.getInstance().getApplicationKeyMap()}function eNt(n){var e=bf.getInstance();return e.addKeyCombinationListener(n)}var ka,Bc,WLe,ZD,ca,Zp,Es,Fae,QLe,dOt,hOt,GLe,mOt,xOt,JLe,gOt,eke,nke,ike,vOt,ske,_Ot,Vz,oke,pg,c4,Wz,uke,COt,AOt,FOt,DOt,kae,Qz,NOt,kOt,IOt,dke,hke,pke,nO,BOt,Za,qOt,UOt,zOt,bf,HOt,yke,vke,VOt,WOt,QOt,GOt,YOt,Eke=FQ(()=>{d();ka=Jn(HLe()),Bc=Jn(ur());WLe={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var r=t.tagName.toLowerCase();return ca.option("_ignoreTagsDict")[r]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},ZD=Vh({},WLe);ZD._ignoreTagsDict=wC(ZD.ignoreTags,!0);ca=function(){function n(){ua(this,n)}return la(n,null,[{key:"init",value:function(t){var r=this,i=t.ignoreTags,s=t.customKeyCodes;i&&(t._ignoreTagsDict=wC(t.ignoreTags)),s&&(t._customKeyNamesDict=wC(Object.values(t.customKeyCodes))),["verbose","debug","info"].indexOf(t.logLevel)!==-1&&console.warn("React HotKeys: You have requested log level '".concat(t.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(t).forEach(function(o){r.set(o,t[o])})}},{key:"set",value:function(t,r){ZD[t]=r}},{key:"reset",value:function(t){ZD[t]=WLe[t]}},{key:"option",value:function(t){return ZD[t]}}]),n}(),Zp=function(){function n(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"warn";if(ua(this,n),cc(this,"verbose",this.noop),cc(this,"debug",this.noop),cc(this,"info",this.noop),cc(this,"warn",this.noop),cc(this,"error",this.noop),this.logLevel=this.constructor.levels[t],this.logLevel>=this.constructor.levels.error)this.error=console.error;else return;if(this.logLevel>=this.constructor.levels.warn)this.warn=console.warn;else return;["info","debug","verbose"].some(function(r){return!(e.logLevel>=e.constructor.levels[r])||(e[r]=console.log,!1)})}return la(n,[{key:"noop",value:function(){}}]),n}();cc(Zp,"logIcons",["\u{1F4D5}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}"]),cc(Zp,"componentIcons",["\u{1F53A}","\u2B50\uFE0F","\u{1F537}","\u{1F536}","\u2B1B\uFE0F"]),cc(Zp,"eventIcons",["\u2764\uFE0F","\u{1F49A}","\u{1F499}","\u{1F49B}","\u{1F49C}","\u{1F9E1}"]),cc(Zp,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});Es={keydown:0,keypress:1,keyup:2},Fae={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},QLe={"`":["~"],1:["!"],2:["@",'"'],3:["#","\xA3"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};dOt=zz(QLe);hOt={},GLe=zz(hOt,{includeOriginal:!0});mOt={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},xOt={cmd:"Meta"};JLe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gOt=wC(Object.values(JLe),!0);eke=function(n){function e(){var t,r;ua(this,e);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=r2(this,(t=_l(e)).call.apply(t,[this].concat(s))),cc(Bl(Bl(r)),"name","InvalidKeyNameError"),r}return n2(e,n),e}(Tae(Error));nke=function(){function n(){ua(this,n)}return la(n,null,[{key:"parse",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=pOt(t),s=i.split(" ");try{var o=s.slice(0,s.length-1),a=s[s.length-1],l=o.map(function(b){var F=rke(b,r);return tke(Object.keys(F))}).join(" "),f=rke(a,r),p=tke(Object.keys(f)),v={id:p,keyDictionary:f,keyEventType:r.keyEventType,size:Object.keys(f).length};return{sequence:{prefix:l,size:o.length+1},combination:v}}catch{return{sequence:null,combination:null}}}}]),n}();ike={"`":["`"],1:["\xA1"],2:["\u2122"],3:["\xA3"],4:["\xA2"],5:["\u221E"],6:["\xA7"],7:["\xB6"],8:["\u2022"],9:["\xAA"],0:["\xBA"],"-":["\u2013"],"=":["\u2260"],a:["\xE5"],b:["\u222B"],c:["\xE7"],d:["\u2202"],e:["\xB4"],f:["\u0192"],g:["\xA9"],h:["\u02D9"],i:["\u02C6"],j:["\u2206"],k:["\u02DA"],l:["\xAC"],m:["\xB5"],n:["\u02DC"],o:["\xF8"],p:["\u03C0"],q:["\u0153"],r:["\xAE"],s:["\xDF"],t:["\u2020"],u:["\xA8"],v:["\u221A"],w:["\u2211"],x:["\u2248"],y:["\xA5"],z:["\u03A9"],"[":["\u201C"],"]":["\u2018"],"\\":["\xAB"],"'":["\xE6"],";":["\u2026"],",":["\u2264"],".":["\u2265"],"/":["\xF7"]},vOt=zz(ike);ske={"`":["`"],1:["\u2044"],2:["\u20AC"],3:["\u2039"],4:["\u203A"],5:["\uFB01"],6:["\uFB02"],7:["\u2021"],8:["\xB0"],9:["\xB7"],0:["\u201A"],"-":["\u2014"],"=":["\xB1"],a:["\xC5"],b:["\u0131"],c:["\xC7"],d:["\xCE"],e:["\xB4"],f:["\xCF"],g:["\u02DD"],h:["\xD3"],i:["\u02C6"],j:["\xD4"],k:["\uF8FF"],l:["\xD2"],m:["\xC2"],n:["\u02DC"],o:["\xD8"],p:["\u03C0"],q:["\u0152"],r:["\u2030"],s:["\xCD"],t:["\xCE"],u:["\xA8"],v:["\u25CA"],w:["\u201E"],x:["\u02DB"],y:["\xC1"],z:["\xB8"],"[":["\u201D"],"]":["\u2019"],"\\":["\xBB"],"'":["\xC6"],";":["\xDA"],",":["\xAF"],".":["\u02D8"]},_Ot=zz(ske);Vz=function(){function n(){ua(this,n)}return la(n,null,[{key:"serialize",value:function(t){var r=t.Shift,i=t.Alt,s={},o=Object.keys(t).sort();return o.forEach(function(a){var l=[];if(r)if(i){var f=Rae(a),p=Lae(a);l=[].concat(Xf(l),[a],Xf(f),Xf(p))}else{var v=Hz(a),b=Dae(a);l=[].concat(Xf(l),[a],Xf(v),Xf(b))}else if(i){var F=Oae(a),D=Nae(a);l=[].concat(Xf(l),[a],Xf(F),Xf(D))}else{l.push(a);var M=GLe[a];M&&(l=[].concat(Xf(l),Xf(M)))}var q=Object.keys(s);0<q.length?q.forEach(function(N){l.forEach(function(B){s[N+"+".concat(B)]=Vh({},s[N],cc({},B,!0))}),delete s[N]}):l.forEach(function(N){s[N]=cc({},N,!0)})}),Object.values(s).map(function(a){return Object.keys(a).sort().join("+")})}},{key:"isValidKeySerialization",value:function(t){return 0<t.length&&!!nke.parse(t,{ensureValidKeys:!0}).combination}}]),n}(),oke={previous:0,current:1};pg={unseen:0,seen:1,simulated:2},c4=function(){function n(){ua(this,n)}return la(n,null,[{key:"newRecord",value:function(t,r){var i=[pg.unseen,pg.unseen,pg.unseen];if(!Qh(t))for(var s=0;s<=t;s++)i[s]=r;return i}},{key:"setBit",value:function(t,r,i){return t[r]=i,t}},{key:"clone",value:function(t){for(var r=this.newRecord(),i=0;i<t.length;i++)r[i]=t[i];return r}}]),n}();Wz=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};ua(this,n),this._keys=e,this._includesKeyUp=!1,this._update()}return la(n,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(t){var r=this._keys[t];if(r)return t;var i=this._keyAliases[t];return i||t}},{key:"getNumberOfKeys",value:function(){return ake(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return eO(this.keysStillPressedDict())}},{key:"addKey",value:function(t,r){this._setKeyState(t,[c4.newRecord(),c4.newRecord(Es.keydown,r)])}},{key:"setKeyState",value:function(t,r,i){var s=this._getKeyState(t);if(this.isKeyIncluded(t)){var o=c4.clone(s[1]),a=c4.clone(o);c4.setBit(a,r,i),this._setKeyState(t,[o,a])}else this.addKey(t,i);r===Es.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(t){return Object.keys(this._keys).forEach(t)}},{key:"some",value:function(t){return Object.keys(this._keys).some(t)}},{key:"getKeyDictionary",value:function(){return wC(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var t=this;return Object.keys(this._keys).reduce(function(r,i){return t.isKeyStillPressed(i)&&(r[i]=t._getKeyState(i)),r},{})}},{key:"isKeyIncluded",value:function(t){return!!this._getKeyState(t)}},{key:"isKeyStillPressed",value:function(t){return this.isEventTriggered(t,Es.keypress)&&!this.isKeyReleased(t)}},{key:"isKeyReleased",value:function(t){return this.isEventTriggered(t,Es.keyup)}},{key:"isEventTriggered",value:function(t,r){return this._getKeyStateType(t,oke.current,r)}},{key:"wasEventPreviouslyTriggered",value:function(t,r){return this._getKeyStateType(t,oke.previous,r)}},{key:"isKeyPressSimulated",value:function(t){return this._isKeyEventSimulated(t,Es.keypress)}},{key:"isKeyUpSimulated",value:function(t){return this._isKeyEventSimulated(t,Es.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(t,r,i){var s=this._getKeyState(t);return s&&s[r][i]}},{key:"_update",value:function(){this._ids=Vz.serialize(this._keys),this._keyAliases=SOt(this._keys)}},{key:"_isKeyEventSimulated",value:function(t,r){return this.isEventTriggered(t,r)===pg.simulated}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(t){var r=this._keys[t];if(r)return r;var i=this._keyAliases[t];if(i)return this._keys[i]}},{key:"_setKeyState",value:function(t,r){var i=this.getNormalizedKeyName(t);this._keys[i]=r,this._update()}}]),n}();uke=function(){function n(e){var t=e.maxLength,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;ua(this,n),this._records=[],this._maxLength=t,r?this._push(r):this._push(new Wz)}return la(n,[{key:"getMostRecentCombinations",value:function(t){return this._records.slice(-t,-1)}},{key:"any",value:function(){return this._records.some(function(t){return t.any()})}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(t,r,i){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(t,r,i)}},{key:"setMaxLength",value:function(t){this._maxLength=t,this._trimHistory()}},{key:"startNewKeyCombination",value:function(t,r){this._ensureInitialKeyCombination();var i=new Wz(this.getCurrentCombination().keysStillPressedDict());i.addKey(t,r),this._push(i)}},{key:"toJSON",value:function(){return this._records.map(function(t){return t.toJSON()})}},{key:"_ensureInitialKeyCombination",value:function(){this.getLength()===0&&this._push(new Wz)}},{key:"_push",value:function(t){this._trimHistory(),this._records.push(t)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),n}(),COt=function(){function n(){ua(this,n),this._registry={}}return la(n,[{key:"get",value:function(t){return this._registry[t]}},{key:"set",value:function(t,r){this._registry[t]=r}},{key:"remove",value:function(t){delete this._registry[t]}},{key:"toJSON",value:function(){return this._registry}}]),n}();AOt=function(n){function e(){return ua(this,e),r2(this,_l(e).apply(this,arguments))}return n2(e,n),la(e,[{key:"add",value:function(r,i){hg(_l(e.prototype),"set",this).call(this,r,{childIds:[],parentId:null,keyMap:i})}},{key:"update",value:function(r,i){var s=hg(_l(e.prototype),"get",this).call(this,r);hg(_l(e.prototype),"set",this).call(this,r,Vh({},s,{keyMap:i}))}},{key:"setParent",value:function(r,i){this.get(r).parentId=i,this._addChildId(i,r)}},{key:"remove",value:function(r){var i=this._getParentId(r);this._removeChildId(i,r),hg(_l(e.prototype),"remove",this).call(this,r)}},{key:"_getParentId",value:function(r){var i=this.get(r);return i&&i.parentId}},{key:"_addChildId",value:function(r,i){this.get(r).childIds.push(i)}},{key:"_removeChildId",value:function(r,i){var s=this.get(r);s&&(s.childIds=wOt(s.childIds,i))}}]),e}(COt);FOt=function(){function n(e){ua(this,n),this._list=e,this._position=-1}return la(n,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),n}(),DOt=function(){function n(){ua(this,n),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=c4.newRecord()}return la(n,[{key:"getNewIterator",value:function(){return new FOt(this)}},{key:"add",value:function(t,r,i,s){if(this.containsId(t))return this.update(t,r,i,s);var o=this._build(t,r,i,s);this._list.push(o);var a=this._getLastIndex();return this._idToIndex[t]=a}},{key:"containsId",value:function(t){return!!this.get(t)}},{key:"get",value:function(t){return this.getAtPosition(this.getIndexById(t))}},{key:"getIndexById",value:function(t){return this._idToIndex[t]}},{key:"update",value:function(t,r,i,s){var o=this._isUpdatingComponentWithLongestSequence(t),a=this.getLongestSequence(),l=this._build(t,r,i,s);o&&l.sequenceLength!==a&&(l.sequenceLength>a?this._longestSequence=l.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(t)]=l}},{key:"remove",value:function(t){var r=this._isUpdatingComponentWithLongestSequence(t);this.removeAtPosition(this.getIndexById(t)),r&&this._recalculateLongestSequence()}},{key:"any",value:function(){return this.getLength()!==0}},{key:"isRoot",value:function(t){return this.getIndexById(t)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(t){return!!this._keyMapEventRecord[t]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(t){return this._list[t]}},{key:"removeAtPosition",value:function(t){this._list=TOt(this._list,t);for(var r=t;r<this.getLength();)this._idToIndex[this.getAtPosition(r).componentId]=r,r++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(t,r,i,s){var o=this._applyHardSequences(r,i),a=o.keyMap,l=o.handlers,f=this._buildActionDictionary(Vh({},r,a),s,t);return{actions:f,handlers:l,componentId:t,options:s}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(t){return t===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var t=this.getNewIterator();t.next();){var r=t.getComponent(),i=r.longestSequence,s=r.componentId;i>this.getLongestSequence()&&(this._longestSequenceComponentId=s,this._longestSequence=i)}}},{key:"_applyHardSequences",value:function(t,r){return ca.option("enableHardSequences")?Object.keys(r).reduce(function(i,s){var o=!!t[s];return!o&&Vz.isValidKeySerialization(s)&&(i.keyMap[s]=s),i.handlers[s]=r[s],i},{keyMap:{},handlers:{}}):{keyMap:t,handlers:r}}},{key:"_buildActionDictionary",value:function(t,r,i){var s=this;return Object.keys(t).reduce(function(o,a){var l=t[a],f=function(){return f4(l)&&Wh(l,"sequences")?tO(l.sequences):tO(l)}();return f.forEach(function(p){var v=OOt(p,r),b=v.keySequence,F=v.keyEventType;s._addActionOptions(o,i,a,b,F)}),o},{})}},{key:"_addActionOptions",value:function(t,r,i,s,o){var a=nke.parse(s,{keyEventType:o}),l=a.sequence,f=a.combination;l.size>this.getLongestSequence()&&(this._longestSequence=l.size,this._longestSequenceComponentId=r),this._keyMapEventRecord[o]=pg.seen,t[i]||(t[i]=[]),t[i].push(Vh({prefix:l.prefix,actionName:i,sequenceLength:l.size},f))}}]),n}();for(kae={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},Qz=1;13>Qz;Qz++)kae["F".concat(Qz)]=!0;NOt=function(){function n(){ua(this,n),this._actionConfigs={},this._order=null}return la(n,[{key:"addMatch",value:function(t,r){if(this._includesMatcherForCombination(t.id)){var i=t.keyEventType,s=t.actionName,o=t.id;this._addHandlerToActionConfig(o,{keyEventType:i,actionName:s,handler:r})}else this._addNewActionConfig(t,r)}},{key:"findMatch",value:function(t,r,i){this._order||this._setOrder();var s=!0,o=!1,a=void 0;try{for(var l,f=this._order[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value,v=this._actionConfigs[p];if(this._matchesActionConfig(t,r,i,v))return v}}catch(b){o=!0,a=b}finally{try{s||f.return==null||f.return()}finally{if(o)throw a}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(t,r,i,s){if(!ROt(t,s))return!1;var o=s.events[i];if(!o)return!1;var a=!1,l=Object.keys(s.keyDictionary).every(function(f){return!!t.isEventTriggered(f,i)&&(r&&r===t.getNormalizedKeyName(f)&&(a=!t.wasEventPreviouslyTriggered(f,i)),!0)});return l&&a}},{key:"_setOrder",value:function(){var t=Object.values(this._actionConfigs).reduce(function(r,i){var s=i.id,o=i.size;return r[o]||(r[o]=[]),r[o].push(s),r},{});this._order=Object.keys(t).sort(function(r,i){return i-r}).reduce(function(r,i){return r.concat(t[i])},[])}},{key:"_addNewActionConfig",value:function(t,r){var i=t.prefix,s=t.sequenceLength,o=t.id,a=t.keyDictionary,l=t.size,f=t.keyEventType,p=t.actionName;this._setCombinationMatcher(o,{prefix:i,sequenceLength:s,id:o,keyDictionary:a,size:l,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:f,actionName:p,handler:r})}},{key:"_addHandlerToActionConfig",value:function(t,r){var i=r.keyEventType,s=r.actionName,o=r.handler,a=this._getCombinationMatcher(t);this._setCombinationMatcher(t,Vh({},a,{events:Vh({},a.events,cc({},i,{actionName:s,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(t,r){this._actionConfigs[t]=r}},{key:"_getCombinationMatcher",value:function(t){return this._actionConfigs[t]}},{key:"_includesMatcherForCombination",value:function(t){return!!this._getCombinationMatcher(t)}}]),n}();kOt=function(){function n(){ua(this,n),this._combinationMatchers={},this._eventRecord=c4.newRecord()}return la(n,[{key:"addMatch",value:function(t,r){var i=this._getOrCreateCombinationMatcher(t.prefix);i.addMatch(t,r),c4.setBit(this._eventRecord,t.keyEventType,pg.seen),(!this._longestSequence||this._longestSequence<t.sequenceLength)&&(this._longestSequence=t.sequenceLength)}},{key:"findMatch",value:function(t,r,i){var s=this._findCombinationMatcher(t);return s?s.findMatch(t.getCurrentCombination(),t.getCurrentCombination().getNormalizedKeyName(r),i):null}},{key:"hasMatchesForEventType",value:function(t){return!!this._eventRecord[t]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var t=this;return Object.keys(this._combinationMatchers).reduce(function(r,i){var s=t._combinationMatchers[i];return r[i]=s.toJSON(),r},{})}},{key:"_getOrCreateCombinationMatcher",value:function(t){return this._combinationMatchers[t]||(this._combinationMatchers[t]=new NOt),this._combinationMatchers[t]}},{key:"_findCombinationMatcher",value:function(t){var r=t.getMostRecentCombinations(this.getLongestSequence());if(r.length===0)return this._combinationMatchers[""];for(var i=r.map(function(D){return D.getIds()}),s=i.map(function(D){return D.length}),o=Array(i.length).fill(0),a=!1;!a;){var l=o.map(function(D,M){return i[M][D]}),f=l.join(" ");if(this._combinationMatchers[f])return this._combinationMatchers[f];for(var p=0,v=!0;v&&p<o.length;){var b=lke(o,p),F=(b+1)%(lke(s,p)||1);o[o.length-(p+1)]=F,v=F==0,v&&p++}a=p===o.length}}}]),n}(),IOt=function(){function n(e){ua(this,n),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var t=e.getNewIterator();t.next();){var r=t.getComponent(),i=r.handlers;this._unmatchedHandlerStatus.push([Object.keys(i).length,{}]),this._keyMapMatchers.push(new kOt)}this._componentList=e,this._componentListIterator=e.getNewIterator()}return la(n,[{key:"getKeyHistoryMatcher",value:function(t){if(this._componentHasUnmatchedHandlers(t))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(t)}},{key:"componentHasActionsBoundToEventType",value:function(t,r){return this.getKeyHistoryMatcher(t).hasMatchesForEventType(r)}},{key:"findMatchingKeySequenceInComponent",value:function(t,r,i,s){return this.componentHasActionsBoundToEventType(t,s)?this.getKeyHistoryMatcher(t).findMatch(r,i,s):null}},{key:"_getKeyHistoryMatcher",value:function(t){return this._keyMapMatchers[t]}},{key:"_addActionsFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.actions;Object.keys(i).forEach(function(s){var o=t._getHandlers(s);if(o){var a=o[0],l=t._componentList.getAtPosition(a).handlers[s],f=t._getKeyHistoryMatcher(a),p=i[s];p.forEach(function(v){var b=[v.prefix,v.id].join(" ");t._isClosestHandlerFound(b,v)||(f.addMatch(v,l),t._addKeySequence(b,[a,v.keyEventType]))}),o.forEach(function(v){var b=t._getUnmatchedHandlerStatus(v);b[1][s]||(b[1][s]=!0,b[0]--)})}})}},{key:"_getHandlers",value:function(t){return this._handlersDictionary[t]}},{key:"_addHandlersFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.handlers;Object.keys(i).forEach(function(s){t._addHandler(s)})}},{key:"_addHandler",value:function(t){this._handlersDictionary[t]||(this._handlersDictionary[t]=[]),this._handlersDictionary[t].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(t,r){this._keySequencesDictionary[t]||(this._keySequencesDictionary[t]=[]),this._keySequencesDictionary[t].push(r)}},{key:"_componentHasUnmatchedHandlers",value:function(t){return 0<this._getUnmatchedHandlerStatus(t)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(t){return this._unmatchedHandlerStatus[t]}},{key:"_isClosestHandlerFound",value:function(t,r){return this._keySequencesDictionary[t]&&this._keySequencesDictionary[t].some(function(i){return i[1]===r.keyEventType})}}]),n}();dke=["sequence","action"],hke=["name","description","group"],pke=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;ua(this,n),this.logger=e.logger||new Zp("warn"),this.componentId=-1,this.keyEventManager=t,this._componentTree=new AOt,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return la(n,[{key:"_reset",value:function(){this.componentList=new DOt,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new uke({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!t.force?new uke({maxLength:this.componentList.getLongestSequence()},new Wz(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return this.rootComponentId===null?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(t,r){var i=this;return t.forEach(function(s){var o=i._componentTree.get(s),a=o.childIds,l=o.keyMap;l&&Object.keys(l).forEach(function(f){var p=l[f];r[f]={},f4(p)?Wh(p,"sequences")?(Gz(p,r[f],hke),r[f].sequences=i._createSequenceFromConfig(p.sequences)):(Gz(p,r[f],hke),r[f].sequences=[Gz(p,{},dke)]):r[f].sequences=i._createSequenceFromConfig(p)}),i._buildApplicationKeyMap(a,r)}),r}},{key:"_createSequenceFromConfig",value:function(t){return tO(t).map(function(r){return f4(r)?Gz(r,{},dke):{sequence:r}})}},{key:"registerKeyMap",value:function(t){return this.componentId+=1,this._componentTree.add(this.componentId,t),this.componentId}},{key:"reregisterKeyMap",value:function(t,r){this._componentTree.update(t,r)}},{key:"registerComponentMount",value:function(t,r){Qh(r)?this.rootComponentId=t:this._componentTree.setParent(t,r)}},{key:"deregisterKeyMap",value:function(t){this._componentTree.remove(t),t===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;this.componentList.add(t,r,i,s),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(t,r){var i=MOt(r),s=this.getCurrentCombination();return t===Es.keypress?!i||i&&s.isKeyStillPressed("Meta"):t===Es.keyup&&cke(r)&&s.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(t,r){var i=Object.keys(Fae).reduce(function(s,o){return s[o]=t[o],s},{});return Vh({},i,r)}},{key:"_callClosestMatchingHandler",value:function(t,r,i,s,o){for(this._actionResolver||(this._actionResolver=new IOt(this.componentList));o<=s;){var a=this._actionResolver.getKeyHistoryMatcher(o),l=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),r,i),f=this.getCurrentCombination();if(l){var p=l.events[i];if(ca.option("allowCombinationSubmatches"))var v=Vz.serialize(l.keyDictionary);return p.handler(t),this._stopEventPropagationAfterHandlingIfEnabled(t,o),!0}this._actionResolver.componentHasActionsBoundToEventType(o,i),o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(t,r){return!!ca.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(t,r),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(t,r,i){var s=this;Object.keys(Fae).forEach(function(o){if(r!==o||i!==Es.keyup){var a=s.getCurrentCombination(),l=a.isKeyStillPressed(o);Fae[o].forEach(function(f){t[f]===!1&&l&&a.setKeyState(o,Es.keyup,a6(t))})}})}},{key:"_logPrefix",value:function(){}}]),n}(),nO=function(){function n(){ua(this,n)}return la(n,null,[{key:"getId",value:function(){return Qh(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),n}();BOt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};Za={unseen:0,ignored:1,seen:2,recorded:3,handled:4},qOt=function(){function n(e,t){var r=t.logger,i=t.logPrefix;ua(this,n),this._componentList=e,this._previousPropagation=null,this.logger=r,this._logPrefix=i,this._reset()}return la(n,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var t=this.getPreviousPosition();return t===-1||t>=this._position}},{key:"isForKey",value:function(t){return this._key===t}},{key:"isForEventType",value:function(t){return this._type===t}},{key:"startNewPropagationStep",value:function(t,r,i,s){return this._position=this._componentList.getIndexById(t),this._componentId=t,this.isFirstPropagationStep()&&(nO.incrementId(),this._key=r.key,this._type=s),!(r.repeat&&ca.option("ignoreRepeatedEventsWhenKeyHeldDown"))||(this.ignoreEvent(r),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(t){return this.setIgnoreEvent(!0),!!(this.isIgnoringEvent()&&ca.option("stopEventPropagationAfterIgnoring"))&&(this.stop(t),this.finishPropagationStep(),!0)}},{key:"setIgnoreEvent",value:function(t){this._ignoreEvent=t}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(t){return!this.isStopped()&&(this._stopping=!0,t.simulated||t.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var t=this.getPreviousPosition();return t!==-1&&t+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=t.copyState,i=new n(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(r===void 0||r)&&Object.assign(i,this),i}}]),n}(),UOt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return ua(this,e),t=r2(this,_l(e).call(this,r,i)),t.focusTreeId=0,t}return n2(e,n),la(e,[{key:"_reset",value:function(){hg(_l(e.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new qOt(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(r))return this._addComponent(r,i,s,o),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(r,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=4<arguments.length?arguments[4]:void 0;r===this.focusTreeId&&this.componentList.containsId(i)&&(this.componentList.update(i,s,o,a),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(r,i){this.resetOnNextFocus||(this.resetOnNextFocus=!0);var s=this.eventPropagator.isPendingPropagation();return s}},{key:"handleKeydown",value:function(r,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=AC(r);if(i!==this.focusTreeId)return this.eventPropagator.ignoreEvent(r),!0;var l=this.eventPropagator.startNewPropagationStep(s,r,a,Es.keydown);if(l){var f=this._howToHandleKeyEvent(r,i,s,a,o,Es.keydown);if(f===Za.handled){var p=a6(r),v=this.getCurrentCombination();v.isKeyIncluded(a)||v.isEnding()?this._startAndLogNewKeyCombination(a,i,s,p):this._addToAndLogCurrentKeyCombination(a,Es.keydown,i,s,p),this._callHandlerIfActionNotHandled(r,a,Es.keydown,s,i)}return this._simulateKeyPressForNonPrintableKeys(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(r,i,s,o,a,l){if(this.eventPropagator.isFirstPropagationStep()){if(a.ignoreEventsCondition(r)&&this.eventPropagator.ignoreEvent(r))return this._eventIsToBeIgnored(r,s,o,l);this._checkForModifierFlagDiscrepancies(r,o,l)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(r,s,o,l);return Za.handled}},{key:"_eventIsToBeIgnored",value:function(r,i,s,o){return Za.ignored}},{key:"handleKeyPress",value:function(r,i,s,o){var a=AC(r),l=this.getCurrentCombination();if(l.isKeyPressSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,Es.keypress);if(f){var p=i!==this.focusTreeId,v=this._howToHandleKeyEvent(r,i,s,a,o,Es.keypress);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,Es.keypress,i,s,a6(r)),v===Za.handled&&this._callHandlerIfActionNotHandled(r,a,Es.keypress,s,i),this.eventPropagator.finishPropagationStep(),p}}},{key:"handleKeyUp",value:function(r,i,s,o){var a=AC(r),l=this.getCurrentCombination();if(l.isKeyUpSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,Es.keyup);if(f){var p=i!==this.focusTreeId,v=this._howToHandleKeyEvent(r,i,s,a,o,Es.keyup);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,Es.keyup,i,s,a6(r)),v===Za.handled&&this._callHandlerIfActionNotHandled(r,a,Es.keyup,s,i),this._simulateKeyUpEventsHiddenByCmd(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),p}}},{key:"closeHangingKeyCombination",value:function(r,i){var s=this.getCurrentCombination();s.isKeyIncluded(r)&&!s.isEventTriggered(r,i)&&s.setKeyState(r,i,pg.simulated)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i,s,o,a){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(Es.keypress,i),{event:r,key:i,focusTreeId:s,componentId:o,options:a})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i,s,o,a){var l=this;Yz(i)&&this.getCurrentCombination().forEachKey(function(f){Yz(f)||l._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",l._shouldSimulate(Es.keyup,f),{event:r,key:f,focusTreeId:s,componentId:o,options:a})})}},{key:"_stopEventPropagation",value:function(r,i){this.eventPropagator.stop(r)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(r,i,s,o){this.getKeyHistory().startNewKeyCombination(r,o)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s,o,a){this.getKeyHistory().addKeyToCurrentCombination(r,i,a)}},{key:"_handleEventSimulation",value:function(r,i,s,o){var a=o.event,l=o.key,f=o.focusTreeId,p=o.componentId,v=o.options;if(s&&ca.option("simulateMissingKeyPressEvents")){var b=this._cloneAndMergeEvent(a,{key:l,simulated:!0});this[r].push({event:b,focusTreeId:f,componentId:p,options:v})}(this.componentList.isRoot(p)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[i]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(r,i){var s=this;0<this[r].length&&nO.incrementId(),this[r].forEach(function(o){var a=o.event,l=o.focusTreeId,f=o.componentId,p=o.options;s[i](a,l,f,p)}),this[r]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(r,i,s,o,a){var l=this.getCurrentCombination().describe();if(!!this.componentList.anyActionsForEventType(s)&&!this.eventPropagator.isHandled()){var f=this.eventPropagator.getPreviousPosition(),p=this.componentList.getIndexById(o),v=this._callClosestMatchingHandler(r,i,s,p,f===-1?0:f);v&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=Zp.logIcons,o=Zp.eventIcons,a=Zp.componentIcons,l="HotKeys (";if(i.focusTreeId!==!1){var f=Qh(i.focusTreeId)?this.focusTreeId:i.focusTreeId;l+="F".concat(f).concat(s[f%s.length],"-")}if(i.eventId!==!1){var p=Qh(i.eventId)?nO.getId():i.eventId;l+="E".concat(p).concat(o[p%o.length],"-")}l+="C".concat(r).concat(a[r%a.length]);var v=this.componentList.getIndexById(r);return Qh(v)||(l+="-P".concat(v).concat(a[v%a.length],":")),"".concat(l,")")}}]),e}(pke);zOt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return ua(this,e),t=r2(this,_l(e).call(this,r,i)),t.listenersBound=!1,t.eventOptions={ignoreEventsCondition:ca.option("ignoreEventsCondition")},t.listeners={},t}return n2(e,n),la(e,[{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this._addComponent(r,i,s,o),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this.componentList.update(r,i,s,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(r){this.componentList.remove(r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var r=this,i=this._listenersShouldBeBound();!this.listenersBound&&i?(Object.values(Es).forEach(function(s){var o=fke(s);document["on".concat(o)]=function(a){r.keyEventManager["handleGlobal".concat($Ot(o))](a)}}),this.listenersBound=!0):this.listenersBound&&!i&&(Object.values(Es).forEach(function(s){var o=fke(s);delete document["on".concat(o)]}),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(r){var i=AC(r);if(r.repeat&&ca.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(r,i,Es.keydown);var s=this._howReactAppRespondedTo(r,i,Es.keydown);if(!(s===Za.unseen&&this.eventOptions.ignoreEventsCondition(r))){if(s!==Za.ignored){var o=a6(r),a=this.getCurrentCombination();a.isKeyIncluded(i)||a.isEnding()?this._startAndLogNewKeyCombination(i,o):this._addToAndLogCurrentKeyCombination(i,Es.keydown,o)}Kz([Za.ignored,Za.handled],s)||this._callHandlerIfExists(r,i,Es.keydown),this._simulateKeyPressForNonPrintableKeys(r,i)}}},{key:"_howReactAppRespondedTo",value:function(r,i,s){var o=this.keyEventManager.reactAppHistoryWithEvent(i,s);return o===Za.handled||o===Za.ignored||o===Za.seen||nO.incrementId(),o}},{key:"handleKeyPress",value:function(r){var i=AC(r);if(r.repeat&&ca.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var s=this.getCurrentCombination();if(s.isKeyPressSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,Es.keypress);return s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,Es.keypress,a6(r)),o===Za.unseen&&(this.keyEventManager.closeHangingKeyCombination(i,Es.keypress),this.eventOptions.ignoreEventsCondition(r))?void 0:void(!Kz([Za.ignored,Za.handled],o)&&this._callHandlerIfExists(r,i,Es.keypress))}},{key:"handleKeyUp",value:function(r){var i=AC(r),s=this.getCurrentCombination();if(s.isKeyUpSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,Es.keyup);s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,Es.keyup,a6(r)),o===Za.unseen?(this.keyEventManager.closeHangingKeyCombination(i,Es.keyup),this.eventOptions.ignoreEventsCondition(r)||!Kz([Za.ignored,Za.handled],o)&&this._callHandlerIfExists(r,i,Es.keyup)):!Kz([Za.ignored,Za.handled],o)&&this._callHandlerIfExists(r,i,Es.keyup),this._simulateKeyUpEventsHiddenByCmd(r,i),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:s.getKeyDictionary(),id:s.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(Es.keypress,i),{event:r,key:i})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i){var s=this;Yz(i)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey(function(o){Yz(o)||s._handleEventSimulation("handleKeyUp",s._shouldSimulate(Es.keyup,o),{event:r,key:o})}))}},{key:"_startAndLogNewKeyCombination",value:function(r,i){this.getKeyHistory().startNewKeyCombination(r,i)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s){this.getKeyHistory().addKeyToCurrentCombination(r,i,s)}},{key:"_handleEventSimulation",value:function(r,i,s){var o=s.event,a=s.key;if(i&&ca.option("simulateMissingKeyPressEvents")){var l=this._cloneAndMergeEvent(o,{key:a,simulated:!0});this[r](l)}}},{key:"_callHandlerIfExists",value:function(r,i,s){var o=this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(s)?void this._callClosestMatchingHandler(r,i,s):void 0}},{key:"_callClosestMatchingHandler",value:function(r,i,s){for(var o,a=this.componentList.getNewIterator();a.next();)if(o=hg(_l(e.prototype),"_callClosestMatchingHandler",this).call(this,r,i,s,a.getPosition(),0),o)return}},{key:"_stopEventPropagation",value:function(r,i){r.simulated||r.stopPropagation()}},{key:"addKeyCombinationListener",value:function(r){var i=this,s=function(){delete i.listeners.keyCombination};return this.listeners.keyCombination=function(o){r(o),s()},this._updateDocumentHandlers(),s}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=Zp.eventIcons,o=Zp.componentIcons,a="HotKeys (GLOBAL";if(i.eventId!==!1){var l=Qh(i.eventId)?nO.getId():i.eventId;a="".concat(a,"-E").concat(l).concat(s[l%s.length])}return Qh(r)?"".concat(a,"):"):"".concat(a,"-C").concat(r).concat(o[r%o.length],"):")}}]),e}(pke);bf=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};ua(this,n),this.logger=e.logger||new Zp(ca.option("logLevel")),this._focusOnlyEventStrategy=new UOt({configuration:e,logger:this.logger},this),this._globalEventStrategy=new zOt({configuration:e,logger:this.logger},this),this.mountedComponentsCount=0}return la(n,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.instance||(this.instance=new n(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),la(n,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(t)}},{key:"reregisterKeyMap",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterKeyMap",value:function(t){this._focusOnlyEventStrategy.deregisterKeyMap(t)}},{key:"registerComponentMount",value:function(t,r){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(t,r)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var t=this,r=this.mountedComponentsCount;this.mountedComponentsCount+=1,r===0&&this.mountedComponentsCount===1&&(window.onblur=function(){return t._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var t=this.mountedComponentsCount;this.mountedComponentsCount-=1,t===1&&this.mountedComponentsCount===0&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(t)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(t,r){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(t,r)}},{key:"reregisterGlobalKeyMap",value:function(t,r){this._globalEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterGlobalKeyMap",value:function(t){this._globalEventStrategy.deregisterKeyMap(t)}},{key:"addKeyCombinationListener",value:function(t){return this._globalEventStrategy.addKeyCombinationListener(t)}},{key:"enableHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(t,r,i,s)}},{key:"updateEnabledHotKeys",value:function(t,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableHotKeys",value:function(t,r){return this._focusOnlyEventStrategy.disableHotKeys(t,r)}},{key:"handleKeydown",value:function(t,r,i,s){if(Iae(r))return this._focusOnlyEventStrategy.handleKeydown(t,r,i,s)}},{key:"handleKeyPress",value:function(t,r,i,s){if(Iae(r))return this._focusOnlyEventStrategy.handleKeyPress(t,r,i,s)}},{key:"handleKeyUp",value:function(t,r,i,s){if(Iae(r))return this._focusOnlyEventStrategy.handleKeyUp(t,r,i,s)}},{key:"enableGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(t,r,i,s,o)}},{key:"updateEnabledGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableGlobalHotKeys",value:function(t){return this._globalEventStrategy.disableHotKeys(t)}},{key:"handleGlobalKeyDown",value:function(t){return this._globalEventStrategy.handleKeydown(t)}},{key:"handleGlobalKeyPress",value:function(t){return this._globalEventStrategy.handleKeyPress(t)}},{key:"handleGlobalKeyUp",value:function(t){return this._globalEventStrategy.handleKeyUp(t)}},{key:"ignoreEvent",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(t)}},{key:"observeIgnoredEvents",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(t)}},{key:"closeHangingKeyCombination",value:function(t,r){this._focusOnlyEventStrategy.closeHangingKeyCombination(t,r)}},{key:"reactAppHistoryWithEvent",value:function(t,r){var i=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return i.isForKey(t)&&i.isForEventType(r)?i.isHandled()?Za.handled:i.isIgnoringEvent()?Za.ignored:Za.seen:Za.unseen}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),n}();HOt=function(n){function e(){return ua(this,e),r2(this,_l(e).apply(this,arguments))}return n2(e,n),la(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=r.innerRef,o=r.component,a=XD(r,["hotKeys","innerRef","component"]),l=o||ca.option("defaultComponent");return Bc.default.createElement(l,Vh({},i,{ref:s},a))}}]),e}(Bc.Component),yke=gke(HOt);yke.propTypes={innerRef:ka.default.oneOfType([ka.default.object,ka.default.func])};vke=function(n){function e(t){var r;return ua(this,e),r=r2(this,_l(e).call(this,t)),r._id=bf.getInstance().registerGlobalKeyMap(t.keyMap),r._childContext={globalHotKeysParentId:r._id},r}return n2(e,n),la(e,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var r=bf.getInstance();if(r.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!ca.option("ignoreKeymapAndHandlerChangesByDefault")){var i=this.props,s=i.keyMap,o=i.handlers;r.updateEnabledGlobalHotKeys(this._id,s,o,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var r=this.props,i=r.keyMap,s=r.handlers,o=this.context.globalHotKeysParentId,a=bf.getInstance();a.registerGlobalComponentMount(this._id,o),a.enableGlobalHotKeys(this._id,i,s,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var r=bf.getInstance();r.deregisterGlobalKeyMap(this._id),r.disableGlobalHotKeys(this._id),r.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:ca.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:ca.option("ignoreEventsCondition")}}}]),e}(Bc.Component);cc(vke,"propTypes",{keyMap:ka.default.object,handlers:ka.default.object,allowChanges:ka.default.bool});VOt=xke(vke,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:ka.default.number},childContextTypes:{globalHotKeysParentId:ka.default.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});WOt=function(n){function e(){return ua(this,e),r2(this,_l(e).apply(this,arguments))}return n2(e,n),la(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=XD(r,["hotKeys"]),o=s.component||ca.option("defaultComponent");return Bc.default.createElement(o,Vh({},i,s))}}]),e}(Bc.Component),QOt=Jz(WOt,{},"ignoreEvent"),GOt=function(n){function e(){return ua(this,e),r2(this,_l(e).apply(this,arguments))}return n2(e,n),la(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=XD(r,["hotKeys"]),o=s.component||ca.option("defaultComponent");return Bc.default.createElement(o,Vh({},i,s))}}]),e}(Bc.Component),YOt=Jz(GOt,{},"observeIgnoredEvents")});var Cke=G((fsn,Ske)=>{"use strict";d();Ske.exports=(Eke(),AYe(bke))});var PIe=G((Jcn,MIe)=>{d();var SRt=typeof Element!="undefined",CRt=typeof Map=="function",wRt=typeof Set=="function",ARt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function pH(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!pH(n[r],e[r]))return!1;return!0}var s;if(CRt&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!pH(r.value[1],e.get(r.value[0])))return!1;return!0}if(wRt&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(ARt&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(SRt&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!pH(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}MIe.exports=function(e,t){try{return pH(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}});var vue=G((yue,QC)=>{d();(function(n,e){typeof yue=="object"&&typeof QC!="undefined"?QC.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(yue,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(C){n=C}function r(C){return C instanceof Array||Object.prototype.toString.call(C)==="[object Array]"}function i(C){return C!=null&&Object.prototype.toString.call(C)==="[object Object]"}function s(C,H){return Object.prototype.hasOwnProperty.call(C,H)}function o(C){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(C).length===0;var H;for(H in C)if(s(C,H))return!1;return!0}function a(C){return C===void 0}function l(C){return typeof C=="number"||Object.prototype.toString.call(C)==="[object Number]"}function f(C){return C instanceof Date||Object.prototype.toString.call(C)==="[object Date]"}function p(C,H){var ce=[],Le,yt=C.length;for(Le=0;Le<yt;++Le)ce.push(H(C[Le],Le));return ce}function v(C,H){for(var ce in H)s(H,ce)&&(C[ce]=H[ce]);return s(H,"toString")&&(C.toString=H.toString),s(H,"valueOf")&&(C.valueOf=H.valueOf),C}function b(C,H,ce,Le){return on(C,H,ce,Le,!0).utc()}function F(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function D(C){return C._pf==null&&(C._pf=F()),C._pf}var M;Array.prototype.some?M=Array.prototype.some:M=function(C){var H=Object(this),ce=H.length>>>0,Le;for(Le=0;Le<ce;Le++)if(Le in H&&C.call(this,H[Le],Le,H))return!0;return!1};function q(C){if(C._isValid==null){var H=D(C),ce=M.call(H.parsedDateParts,function(yt){return yt!=null}),Le=!isNaN(C._d.getTime())&&H.overflow<0&&!H.empty&&!H.invalidEra&&!H.invalidMonth&&!H.invalidWeekday&&!H.weekdayMismatch&&!H.nullInput&&!H.invalidFormat&&!H.userInvalidated&&(!H.meridiem||H.meridiem&&ce);if(C._strict&&(Le=Le&&H.charsLeftOver===0&&H.unusedTokens.length===0&&H.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(C))C._isValid=Le;else return Le}return C._isValid}function N(C){var H=b(NaN);return C!=null?v(D(H),C):D(H).userInvalidated=!0,H}var B=e.momentProperties=[],I=!1;function z(C,H){var ce,Le,yt,yn=B.length;if(a(H._isAMomentObject)||(C._isAMomentObject=H._isAMomentObject),a(H._i)||(C._i=H._i),a(H._f)||(C._f=H._f),a(H._l)||(C._l=H._l),a(H._strict)||(C._strict=H._strict),a(H._tzm)||(C._tzm=H._tzm),a(H._isUTC)||(C._isUTC=H._isUTC),a(H._offset)||(C._offset=H._offset),a(H._pf)||(C._pf=D(H)),a(H._locale)||(C._locale=H._locale),yn>0)for(ce=0;ce<yn;ce++)Le=B[ce],yt=H[Le],a(yt)||(C[Le]=yt);return C}function ie(C){z(this,C),this._d=new Date(C._d!=null?C._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),I===!1&&(I=!0,e.updateOffset(this),I=!1)}function L(C){return C instanceof ie||C!=null&&C._isAMomentObject!=null}function Y(C){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+C)}function fe(C,H){var ce=!0;return v(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,C),ce){var Le=[],yt,yn,Kn,wi=arguments.length;for(yn=0;yn<wi;yn++){if(yt="",typeof arguments[yn]=="object"){yt+=`
[`+yn+"] ";for(Kn in arguments[0])s(arguments[0],Kn)&&(yt+=Kn+": "+arguments[0][Kn]+", ");yt=yt.slice(0,-2)}else yt=arguments[yn];Le.push(yt)}Y(C+`
Arguments: `+Array.prototype.slice.call(Le).join("")+`
`+new Error().stack),ce=!1}return H.apply(this,arguments)},H)}var me={};function Be(C,H){e.deprecationHandler!=null&&e.deprecationHandler(C,H),me[C]||(Y(H),me[C]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function tt(C){return typeof Function!="undefined"&&C instanceof Function||Object.prototype.toString.call(C)==="[object Function]"}function st(C){var H,ce;for(ce in C)s(C,ce)&&(H=C[ce],tt(H)?this[ce]=H:this["_"+ce]=H);this._config=C,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Qe(C,H){var ce=v({},C),Le;for(Le in H)s(H,Le)&&(i(C[Le])&&i(H[Le])?(ce[Le]={},v(ce[Le],C[Le]),v(ce[Le],H[Le])):H[Le]!=null?ce[Le]=H[Le]:delete ce[Le]);for(Le in C)s(C,Le)&&!s(H,Le)&&i(C[Le])&&(ce[Le]=v({},ce[Le]));return ce}function mt(C){C!=null&&this.set(C)}var Lt;Object.keys?Lt=Object.keys:Lt=function(C){var H,ce=[];for(H in C)s(C,H)&&ce.push(H);return ce};var je={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Z(C,H,ce){var Le=this._calendar[C]||this._calendar.sameElse;return tt(Le)?Le.call(H,ce):Le}function Ke(C,H,ce){var Le=""+Math.abs(C),yt=H-Le.length,yn=C>=0;return(yn?ce?"+":"":"-")+Math.pow(10,Math.max(0,yt)).toString().substr(1)+Le}var _e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,De=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,be={},de={};function Ge(C,H,ce,Le){var yt=Le;typeof Le=="string"&&(yt=function(){return this[Le]()}),C&&(de[C]=yt),H&&(de[H[0]]=function(){return Ke(yt.apply(this,arguments),H[1],H[2])}),ce&&(de[ce]=function(){return this.localeData().ordinal(yt.apply(this,arguments),C)})}function rt(C){return C.match(/\[[\s\S]/)?C.replace(/^\[|\]$/g,""):C.replace(/\\/g,"")}function Bt(C){var H=C.match(_e),ce,Le;for(ce=0,Le=H.length;ce<Le;ce++)de[H[ce]]?H[ce]=de[H[ce]]:H[ce]=rt(H[ce]);return function(yt){var yn="",Kn;for(Kn=0;Kn<Le;Kn++)yn+=tt(H[Kn])?H[Kn].call(yt,C):H[Kn];return yn}}function _t(C,H){return C.isValid()?(H=un(H,C.localeData()),be[H]=be[H]||Bt(H),be[H](C)):C.localeData().invalidDate()}function un(C,H){var ce=5;function Le(yt){return H.longDateFormat(yt)||yt}for(De.lastIndex=0;ce>=0&&De.test(C);)C=C.replace(De,Le),De.lastIndex=0,ce-=1;return C}var Tt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Rt(C){var H=this._longDateFormat[C],ce=this._longDateFormat[C.toUpperCase()];return H||!ce?H:(this._longDateFormat[C]=ce.match(_e).map(function(Le){return Le==="MMMM"||Le==="MM"||Le==="DD"||Le==="dddd"?Le.slice(1):Le}).join(""),this._longDateFormat[C])}var Gt="Invalid date";function xt(){return this._invalidDate}var ve="%d",Oe=/\d{1,2}/;function xe(C){return this._ordinal.replace("%d",C)}var le={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ye(C,H,ce,Le){var yt=this._relativeTime[ce];return tt(yt)?yt(C,H,ce,Le):yt.replace(/%d/i,C)}function Ve(C,H){var ce=this._relativeTime[C>0?"future":"past"];return tt(ce)?ce(H):ce.replace(/%s/i,H)}var te={};function Ae(C,H){var ce=C.toLowerCase();te[ce]=te[ce+"s"]=te[H]=C}function Xe(C){return typeof C=="string"?te[C]||te[C.toLowerCase()]:void 0}function ot(C){var H={},ce,Le;for(Le in C)s(C,Le)&&(ce=Xe(Le),ce&&(H[ce]=C[Le]));return H}var Ct={};function $t(C,H){Ct[C]=H}function Ut(C){var H=[],ce;for(ce in C)s(C,ce)&&H.push({unit:ce,priority:Ct[ce]});return H.sort(function(Le,yt){return Le.priority-yt.priority}),H}function sn(C){return C%4===0&&C%100!==0||C%400===0}function ln(C){return C<0?Math.ceil(C)||0:Math.floor(C)}function cn(C){var H=+C,ce=0;return H!==0&&isFinite(H)&&(ce=ln(H)),ce}function Ft(C,H){return function(ce){return ce!=null?(An(this,C,ce),e.updateOffset(this,H),this):nn(this,C)}}function nn(C,H){return C.isValid()?C._d["get"+(C._isUTC?"UTC":"")+H]():NaN}function An(C,H,ce){C.isValid()&&!isNaN(ce)&&(H==="FullYear"&&sn(C.year())&&C.month()===1&&C.date()===29?(ce=cn(ce),C._d["set"+(C._isUTC?"UTC":"")+H](ce,C.month(),Rn(ce,C.month()))):C._d["set"+(C._isUTC?"UTC":"")+H](ce))}function $n(C){return C=Xe(C),tt(this[C])?this[C]():this}function Cn(C,H){if(typeof C=="object"){C=ot(C);var ce=Ut(C),Le,yt=ce.length;for(Le=0;Le<yt;Le++)this[ce[Le].unit](C[ce[Le].unit])}else if(C=Xe(C),tt(this[C]))return this[C](H);return this}var Fe=/\d/,qe=/\d\d/,Ce=/\d{3}/,Dt=/\d{4}/,lt=/[+-]?\d{6}/,ct=/\d\d?/,Yt=/\d\d\d\d?/,qt=/\d\d\d\d\d\d?/,gn=/\d{1,3}/,kn=/\d{1,4}/,qn=/[+-]?\d{1,6}/,bn=/\d+/,zn=/[+-]?\d+/,He=/Z|[+-]\d\d:?\d\d/gi,ht=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[+-]?\d+(\.\d{1,3})?/,Ie=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ze;Ze={};function St(C,H,ce){Ze[C]=tt(H)?H:function(Le,yt){return Le&&ce?ce:H}}function rn(C,H){return s(Ze,C)?Ze[C](H._strict,H._locale):new RegExp(Xt(C))}function Xt(C){return at(C.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(H,ce,Le,yt,yn){return ce||Le||yt||yn}))}function at(C){return C.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ne={};function Se(C,H){var ce,Le=H,yt;for(typeof C=="string"&&(C=[C]),l(H)&&(Le=function(yn,Kn){Kn[H]=cn(yn)}),yt=C.length,ce=0;ce<yt;ce++)ne[C[ce]]=Le}function Me(C,H){Se(C,function(ce,Le,yt,yn){yt._w=yt._w||{},H(ce,yt._w,yt,yn)})}function ft(C,H,ce){H!=null&&s(ne,C)&&ne[C](H,ce._a,ce,C)}var gt=0,wt=1,ee=2,Ee=3,$e=4,et=5,It=6,Kt=7,mn=8;function fn(C,H){return(C%H+H)%H}var dn;Array.prototype.indexOf?dn=Array.prototype.indexOf:dn=function(C){var H;for(H=0;H<this.length;++H)if(this[H]===C)return H;return-1};function Rn(C,H){if(isNaN(C)||isNaN(H))return NaN;var ce=fn(H,12);return C+=(H-ce)/12,ce===1?sn(C)?29:28:31-ce%7%2}Ge("M",["MM",2],"Mo",function(){return this.month()+1}),Ge("MMM",0,0,function(C){return this.localeData().monthsShort(this,C)}),Ge("MMMM",0,0,function(C){return this.localeData().months(this,C)}),Ae("month","M"),$t("month",8),St("M",ct),St("MM",ct,qe),St("MMM",function(C,H){return H.monthsShortRegex(C)}),St("MMMM",function(C,H){return H.monthsRegex(C)}),Se(["M","MM"],function(C,H){H[wt]=cn(C)-1}),Se(["MMM","MMMM"],function(C,H,ce,Le){var yt=ce._locale.monthsParse(C,Le,ce._strict);yt!=null?H[wt]=yt:D(ce).invalidMonth=C});var we="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Pe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,O=Ie,$=Ie;function ge(C,H){return C?r(this._months)?this._months[C.month()]:this._months[(this._months.isFormat||Et).test(H)?"format":"standalone"][C.month()]:r(this._months)?this._months:this._months.standalone}function he(C,H){return C?r(this._monthsShort)?this._monthsShort[C.month()]:this._monthsShort[Et.test(H)?"format":"standalone"][C.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Q(C,H,ce){var Le,yt,yn,Kn=C.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Le=0;Le<12;++Le)yn=b([2e3,Le]),this._shortMonthsParse[Le]=this.monthsShort(yn,"").toLocaleLowerCase(),this._longMonthsParse[Le]=this.months(yn,"").toLocaleLowerCase();return ce?H==="MMM"?(yt=dn.call(this._shortMonthsParse,Kn),yt!==-1?yt:null):(yt=dn.call(this._longMonthsParse,Kn),yt!==-1?yt:null):H==="MMM"?(yt=dn.call(this._shortMonthsParse,Kn),yt!==-1?yt:(yt=dn.call(this._longMonthsParse,Kn),yt!==-1?yt:null)):(yt=dn.call(this._longMonthsParse,Kn),yt!==-1?yt:(yt=dn.call(this._shortMonthsParse,Kn),yt!==-1?yt:null))}function oe(C,H,ce){var Le,yt,yn;if(this._monthsParseExact)return Q.call(this,C,H,ce);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Le=0;Le<12;Le++){if(yt=b([2e3,Le]),ce&&!this._longMonthsParse[Le]&&(this._longMonthsParse[Le]=new RegExp("^"+this.months(yt,"").replace(".","")+"$","i"),this._shortMonthsParse[Le]=new RegExp("^"+this.monthsShort(yt,"").replace(".","")+"$","i")),!ce&&!this._monthsParse[Le]&&(yn="^"+this.months(yt,"")+"|^"+this.monthsShort(yt,""),this._monthsParse[Le]=new RegExp(yn.replace(".",""),"i")),ce&&H==="MMMM"&&this._longMonthsParse[Le].test(C))return Le;if(ce&&H==="MMM"&&this._shortMonthsParse[Le].test(C))return Le;if(!ce&&this._monthsParse[Le].test(C))return Le}}function ae(C,H){var ce;if(!C.isValid())return C;if(typeof H=="string"){if(/^\d+$/.test(H))H=cn(H);else if(H=C.localeData().monthsParse(H),!l(H))return C}return ce=Math.min(C.date(),Rn(C.year(),H)),C._d["set"+(C._isUTC?"UTC":"")+"Month"](H,ce),C}function ze(C){return C!=null?(ae(this,C),e.updateOffset(this,!0),this):nn(this,"Month")}function Ot(){return Rn(this.year(),this.month())}function vt(C){return this._monthsParseExact?(s(this,"_monthsRegex")||E.call(this),C?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=O),this._monthsShortStrictRegex&&C?this._monthsShortStrictRegex:this._monthsShortRegex)}function tn(C){return this._monthsParseExact?(s(this,"_monthsRegex")||E.call(this),C?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=$),this._monthsStrictRegex&&C?this._monthsStrictRegex:this._monthsRegex)}function E(){function C(Kn,wi){return wi.length-Kn.length}var H=[],ce=[],Le=[],yt,yn;for(yt=0;yt<12;yt++)yn=b([2e3,yt]),H.push(this.monthsShort(yn,"")),ce.push(this.months(yn,"")),Le.push(this.months(yn,"")),Le.push(this.monthsShort(yn,""));for(H.sort(C),ce.sort(C),Le.sort(C),yt=0;yt<12;yt++)H[yt]=at(H[yt]),ce[yt]=at(ce[yt]);for(yt=0;yt<24;yt++)Le[yt]=at(Le[yt]);this._monthsRegex=new RegExp("^("+Le.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ce.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+H.join("|")+")","i")}Ge("Y",0,0,function(){var C=this.year();return C<=9999?Ke(C,4):"+"+C}),Ge(0,["YY",2],0,function(){return this.year()%100}),Ge(0,["YYYY",4],0,"year"),Ge(0,["YYYYY",5],0,"year"),Ge(0,["YYYYYY",6,!0],0,"year"),Ae("year","y"),$t("year",1),St("Y",zn),St("YY",ct,qe),St("YYYY",kn,Dt),St("YYYYY",qn,lt),St("YYYYYY",qn,lt),Se(["YYYYY","YYYYYY"],gt),Se("YYYY",function(C,H){H[gt]=C.length===2?e.parseTwoDigitYear(C):cn(C)}),Se("YY",function(C,H){H[gt]=e.parseTwoDigitYear(C)}),Se("Y",function(C,H){H[gt]=parseInt(C,10)});function P(C){return sn(C)?366:365}e.parseTwoDigitYear=function(C){return cn(C)+(cn(C)>68?1900:2e3)};var X=Ft("FullYear",!0);function ye(){return sn(this.year())}function ut(C,H,ce,Le,yt,yn,Kn){var wi;return C<100&&C>=0?(wi=new Date(C+400,H,ce,Le,yt,yn,Kn),isFinite(wi.getFullYear())&&wi.setFullYear(C)):wi=new Date(C,H,ce,Le,yt,yn,Kn),wi}function bt(C){var H,ce;return C<100&&C>=0?(ce=Array.prototype.slice.call(arguments),ce[0]=C+400,H=new Date(Date.UTC.apply(null,ce)),isFinite(H.getUTCFullYear())&&H.setUTCFullYear(C)):H=new Date(Date.UTC.apply(null,arguments)),H}function Vt(C,H,ce){var Le=7+H-ce,yt=(7+bt(C,0,Le).getUTCDay()-H)%7;return-yt+Le-1}function zt(C,H,ce,Le,yt){var yn=(7+ce-Le)%7,Kn=Vt(C,Le,yt),wi=1+7*(H-1)+yn+Kn,vi,Ys;return wi<=0?(vi=C-1,Ys=P(vi)+wi):wi>P(C)?(vi=C+1,Ys=wi-P(C)):(vi=C,Ys=wi),{year:vi,dayOfYear:Ys}}function an(C,H,ce){var Le=Vt(C.year(),H,ce),yt=Math.floor((C.dayOfYear()-Le-1)/7)+1,yn,Kn;return yt<1?(Kn=C.year()-1,yn=yt+Dn(Kn,H,ce)):yt>Dn(C.year(),H,ce)?(yn=yt-Dn(C.year(),H,ce),Kn=C.year()+1):(Kn=C.year(),yn=yt),{week:yn,year:Kn}}function Dn(C,H,ce){var Le=Vt(C,H,ce),yt=Vt(C+1,H,ce);return(P(C)-Le+yt)/7}Ge("w",["ww",2],"wo","week"),Ge("W",["WW",2],"Wo","isoWeek"),Ae("week","w"),Ae("isoWeek","W"),$t("week",5),$t("isoWeek",5),St("w",ct),St("ww",ct,qe),St("W",ct),St("WW",ct,qe),Me(["w","ww","W","WW"],function(C,H,ce,Le){H[Le.substr(0,1)]=cn(C)});function On(C){return an(C,this._week.dow,this._week.doy).week}var In={dow:0,doy:6};function Mr(){return this._week.dow}function Dr(){return this._week.doy}function rr(C){var H=this.localeData().week(this);return C==null?H:this.add((C-H)*7,"d")}function br(C){var H=an(this,1,4).week;return C==null?H:this.add((C-H)*7,"d")}Ge("d",0,"do","day"),Ge("dd",0,0,function(C){return this.localeData().weekdaysMin(this,C)}),Ge("ddd",0,0,function(C){return this.localeData().weekdaysShort(this,C)}),Ge("dddd",0,0,function(C){return this.localeData().weekdays(this,C)}),Ge("e",0,0,"weekday"),Ge("E",0,0,"isoWeekday"),Ae("day","d"),Ae("weekday","e"),Ae("isoWeekday","E"),$t("day",11),$t("weekday",11),$t("isoWeekday",11),St("d",ct),St("e",ct),St("E",ct),St("dd",function(C,H){return H.weekdaysMinRegex(C)}),St("ddd",function(C,H){return H.weekdaysShortRegex(C)}),St("dddd",function(C,H){return H.weekdaysRegex(C)}),Me(["dd","ddd","dddd"],function(C,H,ce,Le){var yt=ce._locale.weekdaysParse(C,Le,ce._strict);yt!=null?H.d=yt:D(ce).invalidWeekday=C}),Me(["d","e","E"],function(C,H,ce,Le){H[Le]=cn(C)});function Zr(C,H){return typeof C!="string"?C:isNaN(C)?(C=H.weekdaysParse(C),typeof C=="number"?C:null):parseInt(C,10)}function Wr(C,H){return typeof C=="string"?H.weekdaysParse(C)%7||7:isNaN(C)?null:C}function Ti(C,H){return C.slice(H,7).concat(C.slice(0,H))}var Ki="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ni="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ta="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),na=Ie,Gu=Ie,hc=Ie;function eu(C,H){var ce=r(this._weekdays)?this._weekdays:this._weekdays[C&&C!==!0&&this._weekdays.isFormat.test(H)?"format":"standalone"];return C===!0?Ti(ce,this._week.dow):C?ce[C.day()]:ce}function tu(C){return C===!0?Ti(this._weekdaysShort,this._week.dow):C?this._weekdaysShort[C.day()]:this._weekdaysShort}function Sl(C){return C===!0?Ti(this._weekdaysMin,this._week.dow):C?this._weekdaysMin[C.day()]:this._weekdaysMin}function gu(C,H,ce){var Le,yt,yn,Kn=C.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Le=0;Le<7;++Le)yn=b([2e3,1]).day(Le),this._minWeekdaysParse[Le]=this.weekdaysMin(yn,"").toLocaleLowerCase(),this._shortWeekdaysParse[Le]=this.weekdaysShort(yn,"").toLocaleLowerCase(),this._weekdaysParse[Le]=this.weekdays(yn,"").toLocaleLowerCase();return ce?H==="dddd"?(yt=dn.call(this._weekdaysParse,Kn),yt!==-1?yt:null):H==="ddd"?(yt=dn.call(this._shortWeekdaysParse,Kn),yt!==-1?yt:null):(yt=dn.call(this._minWeekdaysParse,Kn),yt!==-1?yt:null):H==="dddd"?(yt=dn.call(this._weekdaysParse,Kn),yt!==-1||(yt=dn.call(this._shortWeekdaysParse,Kn),yt!==-1)?yt:(yt=dn.call(this._minWeekdaysParse,Kn),yt!==-1?yt:null)):H==="ddd"?(yt=dn.call(this._shortWeekdaysParse,Kn),yt!==-1||(yt=dn.call(this._weekdaysParse,Kn),yt!==-1)?yt:(yt=dn.call(this._minWeekdaysParse,Kn),yt!==-1?yt:null)):(yt=dn.call(this._minWeekdaysParse,Kn),yt!==-1||(yt=dn.call(this._weekdaysParse,Kn),yt!==-1)?yt:(yt=dn.call(this._shortWeekdaysParse,Kn),yt!==-1?yt:null))}function pc(C,H,ce){var Le,yt,yn;if(this._weekdaysParseExact)return gu.call(this,C,H,ce);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Le=0;Le<7;Le++){if(yt=b([2e3,1]).day(Le),ce&&!this._fullWeekdaysParse[Le]&&(this._fullWeekdaysParse[Le]=new RegExp("^"+this.weekdays(yt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Le]=new RegExp("^"+this.weekdaysShort(yt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Le]=new RegExp("^"+this.weekdaysMin(yt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Le]||(yn="^"+this.weekdays(yt,"")+"|^"+this.weekdaysShort(yt,"")+"|^"+this.weekdaysMin(yt,""),this._weekdaysParse[Le]=new RegExp(yn.replace(".",""),"i")),ce&&H==="dddd"&&this._fullWeekdaysParse[Le].test(C))return Le;if(ce&&H==="ddd"&&this._shortWeekdaysParse[Le].test(C))return Le;if(ce&&H==="dd"&&this._minWeekdaysParse[Le].test(C))return Le;if(!ce&&this._weekdaysParse[Le].test(C))return Le}}function To(C){if(!this.isValid())return C!=null?this:NaN;var H=this._isUTC?this._d.getUTCDay():this._d.getDay();return C!=null?(C=Zr(C,this.localeData()),this.add(C-H,"d")):H}function Ru(C){if(!this.isValid())return C!=null?this:NaN;var H=(this.day()+7-this.localeData()._week.dow)%7;return C==null?H:this.add(C-H,"d")}function zc(C){if(!this.isValid())return C!=null?this:NaN;if(C!=null){var H=Wr(C,this.localeData());return this.day(this.day()%7?H:H-7)}else return this.day()||7}function Je(C){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Pn.call(this),C?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=na),this._weekdaysStrictRegex&&C?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qt(C){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Pn.call(this),C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gu),this._weekdaysShortStrictRegex&&C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Tn(C){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Pn.call(this),C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hc),this._weekdaysMinStrictRegex&&C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Pn(){function C(su,Kc){return Kc.length-su.length}var H=[],ce=[],Le=[],yt=[],yn,Kn,wi,vi,Ys;for(yn=0;yn<7;yn++)Kn=b([2e3,1]).day(yn),wi=at(this.weekdaysMin(Kn,"")),vi=at(this.weekdaysShort(Kn,"")),Ys=at(this.weekdays(Kn,"")),H.push(wi),ce.push(vi),Le.push(Ys),yt.push(wi),yt.push(vi),yt.push(Ys);H.sort(C),ce.sort(C),Le.sort(C),yt.sort(C),this._weekdaysRegex=new RegExp("^("+yt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Le.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+ce.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+H.join("|")+")","i")}function Ur(){return this.hours()%12||12}function wr(){return this.hours()||24}Ge("H",["HH",2],0,"hour"),Ge("h",["hh",2],0,Ur),Ge("k",["kk",2],0,wr),Ge("hmm",0,0,function(){return""+Ur.apply(this)+Ke(this.minutes(),2)}),Ge("hmmss",0,0,function(){return""+Ur.apply(this)+Ke(this.minutes(),2)+Ke(this.seconds(),2)}),Ge("Hmm",0,0,function(){return""+this.hours()+Ke(this.minutes(),2)}),Ge("Hmmss",0,0,function(){return""+this.hours()+Ke(this.minutes(),2)+Ke(this.seconds(),2)});function kr(C,H){Ge(C,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),H)})}kr("a",!0),kr("A",!1),Ae("hour","h"),$t("hour",13);function es(C,H){return H._meridiemParse}St("a",es),St("A",es),St("H",ct),St("h",ct),St("k",ct),St("HH",ct,qe),St("hh",ct,qe),St("kk",ct,qe),St("hmm",Yt),St("hmmss",qt),St("Hmm",Yt),St("Hmmss",qt),Se(["H","HH"],Ee),Se(["k","kk"],function(C,H,ce){var Le=cn(C);H[Ee]=Le===24?0:Le}),Se(["a","A"],function(C,H,ce){ce._isPm=ce._locale.isPM(C),ce._meridiem=C}),Se(["h","hh"],function(C,H,ce){H[Ee]=cn(C),D(ce).bigHour=!0}),Se("hmm",function(C,H,ce){var Le=C.length-2;H[Ee]=cn(C.substr(0,Le)),H[$e]=cn(C.substr(Le)),D(ce).bigHour=!0}),Se("hmmss",function(C,H,ce){var Le=C.length-4,yt=C.length-2;H[Ee]=cn(C.substr(0,Le)),H[$e]=cn(C.substr(Le,2)),H[et]=cn(C.substr(yt)),D(ce).bigHour=!0}),Se("Hmm",function(C,H,ce){var Le=C.length-2;H[Ee]=cn(C.substr(0,Le)),H[$e]=cn(C.substr(Le))}),Se("Hmmss",function(C,H,ce){var Le=C.length-4,yt=C.length-2;H[Ee]=cn(C.substr(0,Le)),H[$e]=cn(C.substr(Le,2)),H[et]=cn(C.substr(yt))});function $s(C){return(C+"").toLowerCase().charAt(0)==="p"}var Ls=/[ap]\.?m?\.?/i,Js=Ft("Hours",!0);function zs(C,H,ce){return C>11?ce?"pm":"PM":ce?"am":"AM"}var go={calendar:je,longDateFormat:Tt,invalidDate:Gt,ordinal:ve,dayOfMonthOrdinalParse:Oe,relativeTime:le,months:we,monthsShort:Pe,week:In,weekdays:Ki,weekdaysMin:ta,weekdaysShort:Ni,meridiemParse:Ls},Xr={},si={},Vi;function Fo(C,H){var ce,Le=Math.min(C.length,H.length);for(ce=0;ce<Le;ce+=1)if(C[ce]!==H[ce])return ce;return Le}function Vo(C){return C&&C.toLowerCase().replace("_","-")}function Wo(C){for(var H=0,ce,Le,yt,yn;H<C.length;){for(yn=Vo(C[H]).split("-"),ce=yn.length,Le=Vo(C[H+1]),Le=Le?Le.split("-"):null;ce>0;){if(yt=qi(yn.slice(0,ce).join("-")),yt)return yt;if(Le&&Le.length>=ce&&Fo(yn,Le)>=ce-1)break;ce--}H++}return Vi}function Hs(C){return C.match("^[^/\\\\]*$")!=null}function qi(C){var H=null,ce;if(Xr[C]===void 0&&typeof QC!="undefined"&&QC&&QC.exports&&Hs(C))try{H=Vi._abbr,ce=UN,ce("./locale/"+C),$i(H)}catch{Xr[C]=null}return Xr[C]}function $i(C,H){var ce;return C&&(a(H)?ce=Eo(C):ce=ts(C,H),ce?Vi=ce:typeof console!="undefined"&&console.warn&&console.warn("Locale "+C+" not found. Did you forget to load it?")),Vi._abbr}function ts(C,H){if(H!==null){var ce,Le=go;if(H.abbr=C,Xr[C]!=null)Be("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Le=Xr[C]._config;else if(H.parentLocale!=null)if(Xr[H.parentLocale]!=null)Le=Xr[H.parentLocale]._config;else if(ce=qi(H.parentLocale),ce!=null)Le=ce._config;else return si[H.parentLocale]||(si[H.parentLocale]=[]),si[H.parentLocale].push({name:C,config:H}),null;return Xr[C]=new mt(Qe(Le,H)),si[C]&&si[C].forEach(function(yt){ts(yt.name,yt.config)}),$i(C),Xr[C]}else return delete Xr[C],null}function nu(C,H){if(H!=null){var ce,Le,yt=go;Xr[C]!=null&&Xr[C].parentLocale!=null?Xr[C].set(Qe(Xr[C]._config,H)):(Le=qi(C),Le!=null&&(yt=Le._config),H=Qe(yt,H),Le==null&&(H.abbr=C),ce=new mt(H),ce.parentLocale=Xr[C],Xr[C]=ce),$i(C)}else Xr[C]!=null&&(Xr[C].parentLocale!=null?(Xr[C]=Xr[C].parentLocale,C===$i()&&$i(C)):Xr[C]!=null&&delete Xr[C]);return Xr[C]}function Eo(C){var H;if(C&&C._locale&&C._locale._abbr&&(C=C._locale._abbr),!C)return Vi;if(!r(C)){if(H=qi(C),H)return H;C=[C]}return Wo(C)}function Qo(){return Lt(Xr)}function Mo(C){var H,ce=C._a;return ce&&D(C).overflow===-2&&(H=ce[wt]<0||ce[wt]>11?wt:ce[ee]<1||ce[ee]>Rn(ce[gt],ce[wt])?ee:ce[Ee]<0||ce[Ee]>24||ce[Ee]===24&&(ce[$e]!==0||ce[et]!==0||ce[It]!==0)?Ee:ce[$e]<0||ce[$e]>59?$e:ce[et]<0||ce[et]>59?et:ce[It]<0||ce[It]>999?It:-1,D(C)._overflowDayOfYear&&(H<gt||H>ee)&&(H=ee),D(C)._overflowWeeks&&H===-1&&(H=Kt),D(C)._overflowWeekday&&H===-1&&(H=mn),D(C).overflow=H),C}var Ei=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,No=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ns=/Z|[+-]\d\d(?::?\d\d)?/,ys=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ro=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ba=/^\/?Date\((-?\d+)/i,ja=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,lo={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Gs(C){var H,ce,Le=C._i,yt=Ei.exec(Le)||No.exec(Le),yn,Kn,wi,vi,Ys=ys.length,su=Ro.length;if(yt){for(D(C).iso=!0,H=0,ce=Ys;H<ce;H++)if(ys[H][1].exec(yt[1])){Kn=ys[H][0],yn=ys[H][2]!==!1;break}if(Kn==null){C._isValid=!1;return}if(yt[3]){for(H=0,ce=su;H<ce;H++)if(Ro[H][1].exec(yt[3])){wi=(yt[2]||" ")+Ro[H][0];break}if(wi==null){C._isValid=!1;return}}if(!yn&&wi!=null){C._isValid=!1;return}if(yt[4])if(ns.exec(yt[4]))vi="Z";else{C._isValid=!1;return}C._f=Kn+(wi||"")+(vi||""),ji(C)}else C._isValid=!1}function wa(C,H,ce,Le,yt,yn){var Kn=[ru(C),Pe.indexOf(H),parseInt(ce,10),parseInt(Le,10),parseInt(yt,10)];return yn&&Kn.push(parseInt(yn,10)),Kn}function ru(C){var H=parseInt(C,10);return H<=49?2e3+H:H<=999?1900+H:H}function qa(C){return C.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ra(C,H,ce){if(C){var Le=Ni.indexOf(C),yt=new Date(H[0],H[1],H[2]).getDay();if(Le!==yt)return D(ce).weekdayMismatch=!0,ce._isValid=!1,!1}return!0}function Aa(C,H,ce){if(C)return lo[C];if(H)return 0;var Le=parseInt(ce,10),yt=Le%100,yn=(Le-yt)/100;return yn*60+yt}function Yu(C){var H=ja.exec(qa(C._i)),ce;if(H){if(ce=wa(H[4],H[3],H[2],H[5],H[6],H[7]),!ra(H[1],ce,C))return;C._a=ce,C._tzm=Aa(H[8],H[9],H[10]),C._d=bt.apply(null,C._a),C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),D(C).rfc2822=!0}else C._isValid=!1}function $l(C){var H=Ba.exec(C._i);if(H!==null){C._d=new Date(+H[1]);return}if(Gs(C),C._isValid===!1)delete C._isValid;else return;if(Yu(C),C._isValid===!1)delete C._isValid;else return;C._strict?C._isValid=!1:e.createFromInputFallback(C)}e.createFromInputFallback=fe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(C){C._d=new Date(C._i+(C._useUTC?" UTC":""))});function Lo(C,H,ce){return C??H??ce}function Cl(C){var H=new Date(e.now());return C._useUTC?[H.getUTCFullYear(),H.getUTCMonth(),H.getUTCDate()]:[H.getFullYear(),H.getMonth(),H.getDate()]}function Gr(C){var H,ce,Le=[],yt,yn,Kn;if(!C._d){for(yt=Cl(C),C._w&&C._a[ee]==null&&C._a[wt]==null&&Ii(C),C._dayOfYear!=null&&(Kn=Lo(C._a[gt],yt[gt]),(C._dayOfYear>P(Kn)||C._dayOfYear===0)&&(D(C)._overflowDayOfYear=!0),ce=bt(Kn,0,C._dayOfYear),C._a[wt]=ce.getUTCMonth(),C._a[ee]=ce.getUTCDate()),H=0;H<3&&C._a[H]==null;++H)C._a[H]=Le[H]=yt[H];for(;H<7;H++)C._a[H]=Le[H]=C._a[H]==null?H===2?1:0:C._a[H];C._a[Ee]===24&&C._a[$e]===0&&C._a[et]===0&&C._a[It]===0&&(C._nextDay=!0,C._a[Ee]=0),C._d=(C._useUTC?bt:ut).apply(null,Le),yn=C._useUTC?C._d.getUTCDay():C._d.getDay(),C._tzm!=null&&C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),C._nextDay&&(C._a[Ee]=24),C._w&&typeof C._w.d!="undefined"&&C._w.d!==yn&&(D(C).weekdayMismatch=!0)}}function Ii(C){var H,ce,Le,yt,yn,Kn,wi,vi,Ys;H=C._w,H.GG!=null||H.W!=null||H.E!=null?(yn=1,Kn=4,ce=Lo(H.GG,C._a[gt],an(wn(),1,4).year),Le=Lo(H.W,1),yt=Lo(H.E,1),(yt<1||yt>7)&&(vi=!0)):(yn=C._locale._week.dow,Kn=C._locale._week.doy,Ys=an(wn(),yn,Kn),ce=Lo(H.gg,C._a[gt],Ys.year),Le=Lo(H.w,Ys.week),H.d!=null?(yt=H.d,(yt<0||yt>6)&&(vi=!0)):H.e!=null?(yt=H.e+yn,(H.e<0||H.e>6)&&(vi=!0)):yt=yn),Le<1||Le>Dn(ce,yn,Kn)?D(C)._overflowWeeks=!0:vi!=null?D(C)._overflowWeekday=!0:(wi=zt(ce,Le,yt,yn,Kn),C._a[gt]=wi.year,C._dayOfYear=wi.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function ji(C){if(C._f===e.ISO_8601){Gs(C);return}if(C._f===e.RFC_2822){Yu(C);return}C._a=[],D(C).empty=!0;var H=""+C._i,ce,Le,yt,yn,Kn,wi=H.length,vi=0,Ys,su;for(yt=un(C._f,C._locale).match(_e)||[],su=yt.length,ce=0;ce<su;ce++)yn=yt[ce],Le=(H.match(rn(yn,C))||[])[0],Le&&(Kn=H.substr(0,H.indexOf(Le)),Kn.length>0&&D(C).unusedInput.push(Kn),H=H.slice(H.indexOf(Le)+Le.length),vi+=Le.length),de[yn]?(Le?D(C).empty=!1:D(C).unusedTokens.push(yn),ft(yn,Le,C)):C._strict&&!Le&&D(C).unusedTokens.push(yn);D(C).charsLeftOver=wi-vi,H.length>0&&D(C).unusedInput.push(H),C._a[Ee]<=12&&D(C).bigHour===!0&&C._a[Ee]>0&&(D(C).bigHour=void 0),D(C).parsedDateParts=C._a.slice(0),D(C).meridiem=C._meridiem,C._a[Ee]=tr(C._locale,C._a[Ee],C._meridiem),Ys=D(C).era,Ys!==null&&(C._a[gt]=C._locale.erasConvertYear(Ys,C._a[gt])),Gr(C),Mo(C)}function tr(C,H,ce){var Le;return ce==null?H:C.meridiemHour!=null?C.meridiemHour(H,ce):(C.isPM!=null&&(Le=C.isPM(ce),Le&&H<12&&(H+=12),!Le&&H===12&&(H=0)),H)}function Bi(C){var H,ce,Le,yt,yn,Kn,wi=!1,vi=C._f.length;if(vi===0){D(C).invalidFormat=!0,C._d=new Date(NaN);return}for(yt=0;yt<vi;yt++)yn=0,Kn=!1,H=z({},C),C._useUTC!=null&&(H._useUTC=C._useUTC),H._f=C._f[yt],ji(H),q(H)&&(Kn=!0),yn+=D(H).charsLeftOver,yn+=D(H).unusedTokens.length*10,D(H).score=yn,wi?yn<Le&&(Le=yn,ce=H):(Le==null||yn<Le||Kn)&&(Le=yn,ce=H,Kn&&(wi=!0));v(C,ce||H)}function Ne(C){if(!C._d){var H=ot(C._i),ce=H.day===void 0?H.date:H.day;C._a=p([H.year,H.month,ce,H.hour,H.minute,H.second,H.millisecond],function(Le){return Le&&parseInt(Le,10)}),Gr(C)}}function dt(C){var H=new ie(Mo(Ht(C)));return H._nextDay&&(H.add(1,"d"),H._nextDay=void 0),H}function Ht(C){var H=C._i,ce=C._f;return C._locale=C._locale||Eo(C._l),H===null||ce===void 0&&H===""?N({nullInput:!0}):(typeof H=="string"&&(C._i=H=C._locale.preparse(H)),L(H)?new ie(Mo(H)):(f(H)?C._d=H:r(ce)?Bi(C):ce?ji(C):Mt(C),q(C)||(C._d=null),C))}function Mt(C){var H=C._i;a(H)?C._d=new Date(e.now()):f(H)?C._d=new Date(H.valueOf()):typeof H=="string"?$l(C):r(H)?(C._a=p(H.slice(0),function(ce){return parseInt(ce,10)}),Gr(C)):i(H)?Ne(C):l(H)?C._d=new Date(H):e.createFromInputFallback(C)}function on(C,H,ce,Le,yt){var yn={};return(H===!0||H===!1)&&(Le=H,H=void 0),(ce===!0||ce===!1)&&(Le=ce,ce=void 0),(i(C)&&o(C)||r(C)&&C.length===0)&&(C=void 0),yn._isAMomentObject=!0,yn._useUTC=yn._isUTC=yt,yn._l=ce,yn._i=C,yn._f=H,yn._strict=Le,dt(yn)}function wn(C,H,ce,Le){return on(C,H,ce,Le,!1)}var Bn=fe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=wn.apply(null,arguments);return this.isValid()&&C.isValid()?C<this?this:C:N()}),Nn=fe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=wn.apply(null,arguments);return this.isValid()&&C.isValid()?C>this?this:C:N()});function or(C,H){var ce,Le;if(H.length===1&&r(H[0])&&(H=H[0]),!H.length)return wn();for(ce=H[0],Le=1;Le<H.length;++Le)(!H[Le].isValid()||H[Le][C](ce))&&(ce=H[Le]);return ce}function fr(){var C=[].slice.call(arguments,0);return or("isBefore",C)}function Mn(){var C=[].slice.call(arguments,0);return or("isAfter",C)}var Gn=function(){return Date.now?Date.now():+new Date},Hn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(C){var H,ce=!1,Le,yt=Hn.length;for(H in C)if(s(C,H)&&!(dn.call(Hn,H)!==-1&&(C[H]==null||!isNaN(C[H]))))return!1;for(Le=0;Le<yt;++Le)if(C[Hn[Le]]){if(ce)return!1;parseFloat(C[Hn[Le]])!==cn(C[Hn[Le]])&&(ce=!0)}return!0}function hr(){return this._isValid}function Kr(){return Zs(NaN)}function $r(C){var H=ot(C),ce=H.year||0,Le=H.quarter||0,yt=H.month||0,yn=H.week||H.isoWeek||0,Kn=H.day||0,wi=H.hour||0,vi=H.minute||0,Ys=H.second||0,su=H.millisecond||0;this._isValid=nr(H),this._milliseconds=+su+Ys*1e3+vi*6e4+wi*1e3*60*60,this._days=+Kn+yn*7,this._months=+yt+Le*3+ce*12,this._data={},this._locale=Eo(),this._bubble()}function ui(C){return C instanceof $r}function Vr(C){return C<0?Math.round(-1*C)*-1:Math.round(C)}function Tr(C,H,ce){var Le=Math.min(C.length,H.length),yt=Math.abs(C.length-H.length),yn=0,Kn;for(Kn=0;Kn<Le;Kn++)(ce&&C[Kn]!==H[Kn]||!ce&&cn(C[Kn])!==cn(H[Kn]))&&yn++;return yn+yt}function vr(C,H){Ge(C,0,0,function(){var ce=this.utcOffset(),Le="+";return ce<0&&(ce=-ce,Le="-"),Le+Ke(~~(ce/60),2)+H+Ke(~~ce%60,2)})}vr("Z",":"),vr("ZZ",""),St("Z",ht),St("ZZ",ht),Se(["Z","ZZ"],function(C,H,ce){ce._useUTC=!0,ce._tzm=oi(ht,C)});var ei=/([\+\-]|\d\d)/gi;function oi(C,H){var ce=(H||"").match(C),Le,yt,yn;return ce===null?null:(Le=ce[ce.length-1]||[],yt=(Le+"").match(ei)||["-",0,0],yn=+(yt[1]*60)+cn(yt[2]),yn===0?0:yt[0]==="+"?yn:-yn)}function ss(C,H){var ce,Le;return H._isUTC?(ce=H.clone(),Le=(L(C)||f(C)?C.valueOf():wn(C).valueOf())-ce.valueOf(),ce._d.setTime(ce._d.valueOf()+Le),e.updateOffset(ce,!1),ce):wn(C).local()}function Qi(C){return-Math.round(C._d.getTimezoneOffset())}e.updateOffset=function(){};function ti(C,H,ce){var Le=this._offset||0,yt;if(!this.isValid())return C!=null?this:NaN;if(C!=null){if(typeof C=="string"){if(C=oi(ht,C),C===null)return this}else Math.abs(C)<16&&!ce&&(C=C*60);return!this._isUTC&&H&&(yt=Qi(this)),this._offset=C,this._isUTC=!0,yt!=null&&this.add(yt,"m"),Le!==C&&(!H||this._changeInProgress?Wt(this,Zs(C-Le,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Le:Qi(this)}function vs(C,H){return C!=null?(typeof C!="string"&&(C=-C),this.utcOffset(C,H),this):-this.utcOffset()}function Li(C){return this.utcOffset(0,C)}function Go(C){return this._isUTC&&(this.utcOffset(0,C),this._isUTC=!1,C&&this.subtract(Qi(this),"m")),this}function Xs(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var C=oi(He,this._i);C!=null?this.utcOffset(C):this.utcOffset(0,!0)}return this}function ks(C){return this.isValid()?(C=C?wn(C).utcOffset():0,(this.utcOffset()-C)%60===0):!1}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zi(){if(!a(this._isDSTShifted))return this._isDSTShifted;var C={},H;return z(C,this),C=Ht(C),C._a?(H=C._isUTC?b(C._a):wn(C._a),this._isDSTShifted=this.isValid()&&Tr(C._a,H.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return this.isValid()?!this._isUTC:!1}function Po(){return this.isValid()?this._isUTC:!1}function Bo(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Yo=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,co=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zs(C,H){var ce=C,Le=null,yt,yn,Kn;return ui(C)?ce={ms:C._milliseconds,d:C._days,M:C._months}:l(C)||!isNaN(+C)?(ce={},H?ce[H]=+C:ce.milliseconds=+C):(Le=Yo.exec(C))?(yt=Le[1]==="-"?-1:1,ce={y:0,d:cn(Le[ee])*yt,h:cn(Le[Ee])*yt,m:cn(Le[$e])*yt,s:cn(Le[et])*yt,ms:cn(Vr(Le[It]*1e3))*yt}):(Le=co.exec(C))?(yt=Le[1]==="-"?-1:1,ce={y:Hi(Le[2],yt),M:Hi(Le[3],yt),w:Hi(Le[4],yt),d:Hi(Le[5],yt),h:Hi(Le[6],yt),m:Hi(Le[7],yt),s:Hi(Le[8],yt)}):ce==null?ce={}:typeof ce=="object"&&("from"in ce||"to"in ce)&&(Kn=ue(wn(ce.from),wn(ce.to)),ce={},ce.ms=Kn.milliseconds,ce.M=Kn.months),yn=new $r(ce),ui(C)&&s(C,"_locale")&&(yn._locale=C._locale),ui(C)&&s(C,"_isValid")&&(yn._isValid=C._isValid),yn}Zs.fn=$r.prototype,Zs.invalid=Kr;function Hi(C,H){var ce=C&&parseFloat(C.replace(",","."));return(isNaN(ce)?0:ce)*H}function iu(C,H){var ce={};return ce.months=H.month()-C.month()+(H.year()-C.year())*12,C.clone().add(ce.months,"M").isAfter(H)&&--ce.months,ce.milliseconds=+H-+C.clone().add(ce.months,"M"),ce}function ue(C,H){var ce;return C.isValid()&&H.isValid()?(H=ss(H,C),C.isBefore(H)?ce=iu(C,H):(ce=iu(H,C),ce.milliseconds=-ce.milliseconds,ce.months=-ce.months),ce):{milliseconds:0,months:0}}function nt(C,H){return function(ce,Le){var yt,yn;return Le!==null&&!isNaN(+Le)&&(Be(H,"moment()."+H+"(period, number) is deprecated. Please use moment()."+H+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),yn=ce,ce=Le,Le=yn),yt=Zs(ce,Le),Wt(this,yt,C),this}}function Wt(C,H,ce,Le){var yt=H._milliseconds,yn=Vr(H._days),Kn=Vr(H._months);!C.isValid()||(Le=Le??!0,Kn&&ae(C,nn(C,"Month")+Kn*ce),yn&&An(C,"Date",nn(C,"Date")+yn*ce),yt&&C._d.setTime(C._d.valueOf()+yt*ce),Le&&e.updateOffset(C,yn||Kn))}var vn=nt(1,"add"),Vn=nt(-1,"subtract");function sr(C){return typeof C=="string"||C instanceof String}function mr(C){return L(C)||f(C)||sr(C)||l(C)||Ji(C)||Fi(C)||C===null||C===void 0}function Fi(C){var H=i(C)&&!o(C),ce=!1,Le=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],yt,yn,Kn=Le.length;for(yt=0;yt<Kn;yt+=1)yn=Le[yt],ce=ce||s(C,yn);return H&&ce}function Ji(C){var H=r(C),ce=!1;return H&&(ce=C.filter(function(Le){return!l(Le)&&sr(C)}).length===0),H&&ce}function Cs(C){var H=i(C)&&!o(C),ce=!1,Le=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],yt,yn;for(yt=0;yt<Le.length;yt+=1)yn=Le[yt],ce=ce||s(C,yn);return H&&ce}function Is(C,H){var ce=C.diff(H,"days",!0);return ce<-6?"sameElse":ce<-1?"lastWeek":ce<0?"lastDay":ce<1?"sameDay":ce<2?"nextDay":ce<7?"nextWeek":"sameElse"}function Ua(C,H){arguments.length===1&&(arguments[0]?mr(arguments[0])?(C=arguments[0],H=void 0):Cs(arguments[0])&&(H=arguments[0],C=void 0):(C=void 0,H=void 0));var ce=C||wn(),Le=ss(ce,this).startOf("day"),yt=e.calendarFormat(this,Le)||"sameElse",yn=H&&(tt(H[yt])?H[yt].call(this,ce):H[yt]);return this.format(yn||this.localeData().calendar(yt,this,wn(ce)))}function zl(){return new ie(this)}function q0(C,H){var ce=L(C)?C:wn(C);return this.isValid()&&ce.isValid()?(H=Xe(H)||"millisecond",H==="millisecond"?this.valueOf()>ce.valueOf():ce.valueOf()<this.clone().startOf(H).valueOf()):!1}function f1(C,H){var ce=L(C)?C:wn(C);return this.isValid()&&ce.isValid()?(H=Xe(H)||"millisecond",H==="millisecond"?this.valueOf()<ce.valueOf():this.clone().endOf(H).valueOf()<ce.valueOf()):!1}function ip(C,H,ce,Le){var yt=L(C)?C:wn(C),yn=L(H)?H:wn(H);return this.isValid()&&yt.isValid()&&yn.isValid()?(Le=Le||"()",(Le[0]==="("?this.isAfter(yt,ce):!this.isBefore(yt,ce))&&(Le[1]===")"?this.isBefore(yn,ce):!this.isAfter(yn,ce))):!1}function Od(C,H){var ce=L(C)?C:wn(C),Le;return this.isValid()&&ce.isValid()?(H=Xe(H)||"millisecond",H==="millisecond"?this.valueOf()===ce.valueOf():(Le=ce.valueOf(),this.clone().startOf(H).valueOf()<=Le&&Le<=this.clone().endOf(H).valueOf())):!1}function Cf(C,H){return this.isSame(C,H)||this.isAfter(C,H)}function wf(C,H){return this.isSame(C,H)||this.isBefore(C,H)}function U0(C,H,ce){var Le,yt,yn;if(!this.isValid())return NaN;if(Le=ss(C,this),!Le.isValid())return NaN;switch(yt=(Le.utcOffset()-this.utcOffset())*6e4,H=Xe(H),H){case"year":yn=mc(this,Le)/12;break;case"month":yn=mc(this,Le);break;case"quarter":yn=mc(this,Le)/3;break;case"second":yn=(this-Le)/1e3;break;case"minute":yn=(this-Le)/6e4;break;case"hour":yn=(this-Le)/36e5;break;case"day":yn=(this-Le-yt)/864e5;break;case"week":yn=(this-Le-yt)/6048e5;break;default:yn=this-Le}return ce?yn:ln(yn)}function mc(C,H){if(C.date()<H.date())return-mc(H,C);var ce=(H.year()-C.year())*12+(H.month()-C.month()),Le=C.clone().add(ce,"months"),yt,yn;return H-Le<0?(yt=C.clone().add(ce-1,"months"),yn=(H-Le)/(Le-yt)):(yt=C.clone().add(ce+1,"months"),yn=(H-Le)/(yt-Le)),-(ce+yn)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Hc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function d1(C){if(!this.isValid())return null;var H=C!==!0,ce=H?this.clone().utc():this;return ce.year()<0||ce.year()>9999?_t(ce,H?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):tt(Date.prototype.toISOString)?H?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_t(ce,"Z")):_t(ce,H?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Nd(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var C="moment",H="",ce,Le,yt,yn;return this.isLocal()||(C=this.utcOffset()===0?"moment.utc":"moment.parseZone",H="Z"),ce="["+C+'("]',Le=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",yt="-MM-DD[T]HH:mm:ss.SSS",yn=H+'[")]',this.format(ce+Le+yt+yn)}function Vc(C){C||(C=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var H=_t(this,C);return this.localeData().postformat(H)}function $0(C,H){return this.isValid()&&(L(C)&&C.isValid()||wn(C).isValid())?Zs({to:this,from:C}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()}function sp(C){return this.from(wn(),C)}function z0(C,H){return this.isValid()&&(L(C)&&C.isValid()||wn(C).isValid())?Zs({from:this,to:C}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()}function h1(C){return this.to(wn(),C)}function H0(C){var H;return C===void 0?this._locale._abbr:(H=Eo(C),H!=null&&(this._locale=H),this)}var op=fe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(C){return C===void 0?this.localeData():this.locale(C)});function xc(){return this._locale}var V0=1e3,i0=60*V0,s0=60*i0,Wc=(365*400+97)*24*s0;function gc(C,H){return(C%H+H)%H}function o0(C,H,ce){return C<100&&C>=0?new Date(C+400,H,ce)-Wc:new Date(C,H,ce).valueOf()}function Ku(C,H,ce){return C<100&&C>=0?Date.UTC(C+400,H,ce)-Wc:Date.UTC(C,H,ce)}function Af(C){var H,ce;if(C=Xe(C),C===void 0||C==="millisecond"||!this.isValid())return this;switch(ce=this._isUTC?Ku:o0,C){case"year":H=ce(this.year(),0,1);break;case"quarter":H=ce(this.year(),this.month()-this.month()%3,1);break;case"month":H=ce(this.year(),this.month(),1);break;case"week":H=ce(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":H=ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":H=ce(this.year(),this.month(),this.date());break;case"hour":H=this._d.valueOf(),H-=gc(H+(this._isUTC?0:this.utcOffset()*i0),s0);break;case"minute":H=this._d.valueOf(),H-=gc(H,i0);break;case"second":H=this._d.valueOf(),H-=gc(H,V0);break}return this._d.setTime(H),e.updateOffset(this,!0),this}function Rd(C){var H,ce;if(C=Xe(C),C===void 0||C==="millisecond"||!this.isValid())return this;switch(ce=this._isUTC?Ku:o0,C){case"year":H=ce(this.year()+1,0,1)-1;break;case"quarter":H=ce(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":H=ce(this.year(),this.month()+1,1)-1;break;case"week":H=ce(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":H=ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":H=ce(this.year(),this.month(),this.date()+1)-1;break;case"hour":H=this._d.valueOf(),H+=s0-gc(H+(this._isUTC?0:this.utcOffset()*i0),s0)-1;break;case"minute":H=this._d.valueOf(),H+=i0-gc(H,i0)-1;break;case"second":H=this._d.valueOf(),H+=V0-gc(H,V0)-1;break}return this._d.setTime(H),e.updateOffset(this,!0),this}function Ju(){return this._d.valueOf()-(this._offset||0)*6e4}function fo(){return Math.floor(this.valueOf()/1e3)}function v2(){return new Date(this.valueOf())}function Tf(){var C=this;return[C.year(),C.month(),C.date(),C.hour(),C.minute(),C.second(),C.millisecond()]}function Ms(){var C=this;return{years:C.year(),months:C.month(),date:C.date(),hours:C.hours(),minutes:C.minutes(),seconds:C.seconds(),milliseconds:C.milliseconds()}}function Qc(){return this.isValid()?this.toISOString():null}function R(){return q(this)}function J(){return v({},D(this))}function ke(){return D(this).overflow}function At(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ge("N",0,0,"eraAbbr"),Ge("NN",0,0,"eraAbbr"),Ge("NNN",0,0,"eraAbbr"),Ge("NNNN",0,0,"eraName"),Ge("NNNNN",0,0,"eraNarrow"),Ge("y",["y",1],"yo","eraYear"),Ge("y",["yy",2],0,"eraYear"),Ge("y",["yyy",3],0,"eraYear"),Ge("y",["yyyy",4],0,"eraYear"),St("N",Ai),St("NN",Ai),St("NNN",Ai),St("NNNN",ws),St("NNNNN",yo),Se(["N","NN","NNN","NNNN","NNNNN"],function(C,H,ce,Le){var yt=ce._locale.erasParse(C,Le,ce._strict);yt?D(ce).era=yt:D(ce).invalidEra=C}),St("y",bn),St("yy",bn),St("yyy",bn),St("yyyy",bn),St("yo",Ko),Se(["y","yy","yyy","yyyy"],gt),Se(["yo"],function(C,H,ce,Le){var yt;ce._locale._eraYearOrdinalRegex&&(yt=C.match(ce._locale._eraYearOrdinalRegex)),ce._locale.eraYearOrdinalParse?H[gt]=ce._locale.eraYearOrdinalParse(C,yt):H[gt]=parseInt(C,10)});function jt(C,H){var ce,Le,yt,yn=this._eras||Eo("en")._eras;for(ce=0,Le=yn.length;ce<Le;++ce){switch(typeof yn[ce].since){case"string":yt=e(yn[ce].since).startOf("day"),yn[ce].since=yt.valueOf();break}switch(typeof yn[ce].until){case"undefined":yn[ce].until=1/0;break;case"string":yt=e(yn[ce].until).startOf("day").valueOf(),yn[ce].until=yt.valueOf();break}}return yn}function xn(C,H,ce){var Le,yt,yn=this.eras(),Kn,wi,vi;for(C=C.toUpperCase(),Le=0,yt=yn.length;Le<yt;++Le)if(Kn=yn[Le].name.toUpperCase(),wi=yn[Le].abbr.toUpperCase(),vi=yn[Le].narrow.toUpperCase(),ce)switch(H){case"N":case"NN":case"NNN":if(wi===C)return yn[Le];break;case"NNNN":if(Kn===C)return yn[Le];break;case"NNNNN":if(vi===C)return yn[Le];break}else if([Kn,wi,vi].indexOf(C)>=0)return yn[Le]}function Sn(C,H){var ce=C.since<=C.until?1:-1;return H===void 0?e(C.since).year():e(C.since).year()+(H-C.offset)*ce}function Qn(){var C,H,ce,Le=this.localeData().eras();for(C=0,H=Le.length;C<H;++C)if(ce=this.clone().startOf("day").valueOf(),Le[C].since<=ce&&ce<=Le[C].until||Le[C].until<=ce&&ce<=Le[C].since)return Le[C].name;return""}function er(){var C,H,ce,Le=this.localeData().eras();for(C=0,H=Le.length;C<H;++C)if(ce=this.clone().startOf("day").valueOf(),Le[C].since<=ce&&ce<=Le[C].until||Le[C].until<=ce&&ce<=Le[C].since)return Le[C].narrow;return""}function gr(){var C,H,ce,Le=this.localeData().eras();for(C=0,H=Le.length;C<H;++C)if(ce=this.clone().startOf("day").valueOf(),Le[C].since<=ce&&ce<=Le[C].until||Le[C].until<=ce&&ce<=Le[C].since)return Le[C].abbr;return""}function Nr(){var C,H,ce,Le,yt=this.localeData().eras();for(C=0,H=yt.length;C<H;++C)if(ce=yt[C].since<=yt[C].until?1:-1,Le=this.clone().startOf("day").valueOf(),yt[C].since<=Le&&Le<=yt[C].until||yt[C].until<=Le&&Le<=yt[C].since)return(this.year()-e(yt[C].since).year())*ce+yt[C].offset;return this.year()}function xi(C){return s(this,"_erasNameRegex")||vo.call(this),C?this._erasNameRegex:this._erasRegex}function Di(C){return s(this,"_erasAbbrRegex")||vo.call(this),C?this._erasAbbrRegex:this._erasRegex}function ki(C){return s(this,"_erasNarrowRegex")||vo.call(this),C?this._erasNarrowRegex:this._erasRegex}function Ai(C,H){return H.erasAbbrRegex(C)}function ws(C,H){return H.erasNameRegex(C)}function yo(C,H){return H.erasNarrowRegex(C)}function Ko(C,H){return H._eraYearOrdinalRegex||bn}function vo(){var C=[],H=[],ce=[],Le=[],yt,yn,Kn=this.eras();for(yt=0,yn=Kn.length;yt<yn;++yt)H.push(at(Kn[yt].name)),C.push(at(Kn[yt].abbr)),ce.push(at(Kn[yt].narrow)),Le.push(at(Kn[yt].name)),Le.push(at(Kn[yt].abbr)),Le.push(at(Kn[yt].narrow));this._erasRegex=new RegExp("^("+Le.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+H.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+C.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ce.join("|")+")","i")}Ge(0,["gg",2],0,function(){return this.weekYear()%100}),Ge(0,["GG",2],0,function(){return this.isoWeekYear()%100});function da(C,H){Ge(0,[C,C.length],0,H)}da("gggg","weekYear"),da("ggggg","weekYear"),da("GGGG","isoWeekYear"),da("GGGGG","isoWeekYear"),Ae("weekYear","gg"),Ae("isoWeekYear","GG"),$t("weekYear",1),$t("isoWeekYear",1),St("G",zn),St("g",zn),St("GG",ct,qe),St("gg",ct,qe),St("GGGG",kn,Dt),St("gggg",kn,Dt),St("GGGGG",qn,lt),St("ggggg",qn,lt),Me(["gggg","ggggg","GGGG","GGGGG"],function(C,H,ce,Le){H[Le.substr(0,2)]=cn(C)}),Me(["gg","GG"],function(C,H,ce,Le){H[Le]=e.parseTwoDigitYear(C)});function Hl(C){return Yc.call(this,C,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function wl(C){return Yc.call(this,C,this.isoWeek(),this.isoWeekday(),1,4)}function ha(){return Dn(this.year(),1,4)}function Vl(){return Dn(this.isoWeekYear(),1,4)}function Xu(){var C=this.localeData()._week;return Dn(this.year(),C.dow,C.doy)}function Gc(){var C=this.localeData()._week;return Dn(this.weekYear(),C.dow,C.doy)}function Yc(C,H,ce,Le,yt){var yn;return C==null?an(this,Le,yt).year:(yn=Dn(C,Le,yt),H>yn&&(H=yn),Lu.call(this,C,H,ce,Le,yt))}function Lu(C,H,ce,Le,yt){var yn=zt(C,H,ce,Le,yt),Kn=bt(yn.year,0,yn.dayOfYear);return this.year(Kn.getUTCFullYear()),this.month(Kn.getUTCMonth()),this.date(Kn.getUTCDate()),this}Ge("Q",0,"Qo","quarter"),Ae("quarter","Q"),$t("quarter",7),St("Q",Fe),Se("Q",function(C,H){H[wt]=(cn(C)-1)*3});function Wl(C){return C==null?Math.ceil((this.month()+1)/3):this.month((C-1)*3+this.month()%3)}Ge("D",["DD",2],"Do","date"),Ae("date","D"),$t("date",9),St("D",ct),St("DD",ct,qe),St("Do",function(C,H){return C?H._dayOfMonthOrdinalParse||H._ordinalParse:H._dayOfMonthOrdinalParseLenient}),Se(["D","DD"],ee),Se("Do",function(C,H){H[ee]=cn(C.match(ct)[0])});var _2=Ft("Date",!0);Ge("DDD",["DDDD",3],"DDDo","dayOfYear"),Ae("dayOfYear","DDD"),$t("dayOfYear",4),St("DDD",gn),St("DDDD",Ce),Se(["DDD","DDDD"],function(C,H,ce){ce._dayOfYear=cn(C)});function b2(C){var H=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return C==null?H:this.add(C-H,"d")}Ge("m",["mm",2],0,"minute"),Ae("minute","m"),$t("minute",14),St("m",ct),St("mm",ct,qe),Se(["m","mm"],$e);var Bg=Ft("Minutes",!1);Ge("s",["ss",2],0,"second"),Ae("second","s"),$t("second",15),St("s",ct),St("ss",ct,qe),Se(["s","ss"],et);var Al=Ft("Seconds",!1);Ge("S",0,0,function(){return~~(this.millisecond()/100)}),Ge(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ge(0,["SSS",3],0,"millisecond"),Ge(0,["SSSS",4],0,function(){return this.millisecond()*10}),Ge(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Ge(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Ge(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Ge(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Ge(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ae("millisecond","ms"),$t("millisecond",16),St("S",gn,Fe),St("SS",gn,qe),St("SSS",gn,Ce);var Ff,yc;for(Ff="SSSS";Ff.length<=9;Ff+="S")St(Ff,bn);function Ar(C,H){H[It]=cn(("0."+C)*1e3)}for(Ff="S";Ff.length<=9;Ff+="S")Se(Ff,Ar);yc=Ft("Milliseconds",!1),Ge("z",0,0,"zoneAbbr"),Ge("zz",0,0,"zoneName");function D4(){return this._isUTC?"UTC":""}function W0(){return this._isUTC?"Coordinated Universal Time":""}var Fr=ie.prototype;Fr.add=vn,Fr.calendar=Ua,Fr.clone=zl,Fr.diff=U0,Fr.endOf=Rd,Fr.format=Vc,Fr.from=$0,Fr.fromNow=sp,Fr.to=z0,Fr.toNow=h1,Fr.get=$n,Fr.invalidAt=ke,Fr.isAfter=q0,Fr.isBefore=f1,Fr.isBetween=ip,Fr.isSame=Od,Fr.isSameOrAfter=Cf,Fr.isSameOrBefore=wf,Fr.isValid=R,Fr.lang=op,Fr.locale=H0,Fr.localeData=xc,Fr.max=Nn,Fr.min=Bn,Fr.parsingFlags=J,Fr.set=Cn,Fr.startOf=Af,Fr.subtract=Vn,Fr.toArray=Tf,Fr.toObject=Ms,Fr.toDate=v2,Fr.toISOString=d1,Fr.inspect=Nd,typeof Symbol!="undefined"&&Symbol.for!=null&&(Fr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Fr.toJSON=Qc,Fr.toString=Hc,Fr.unix=fo,Fr.valueOf=Ju,Fr.creationData=At,Fr.eraName=Qn,Fr.eraNarrow=er,Fr.eraAbbr=gr,Fr.eraYear=Nr,Fr.year=X,Fr.isLeapYear=ye,Fr.weekYear=Hl,Fr.isoWeekYear=wl,Fr.quarter=Fr.quarters=Wl,Fr.month=ze,Fr.daysInMonth=Ot,Fr.week=Fr.weeks=rr,Fr.isoWeek=Fr.isoWeeks=br,Fr.weeksInYear=Xu,Fr.weeksInWeekYear=Gc,Fr.isoWeeksInYear=ha,Fr.isoWeeksInISOWeekYear=Vl,Fr.date=_2,Fr.day=Fr.days=To,Fr.weekday=Ru,Fr.isoWeekday=zc,Fr.dayOfYear=b2,Fr.hour=Fr.hours=Js,Fr.minute=Fr.minutes=Bg,Fr.second=Fr.seconds=Al,Fr.millisecond=Fr.milliseconds=yc,Fr.utcOffset=ti,Fr.utc=Li,Fr.local=Go,Fr.parseZone=Xs,Fr.hasAlignedHourOffset=ks,Fr.isDST=xr,Fr.isLocal=_r,Fr.isUtcOffset=Po,Fr.isUtc=Bo,Fr.isUTC=Bo,Fr.zoneAbbr=D4,Fr.zoneName=W0,Fr.dates=fe("dates accessor is deprecated. Use date instead.",_2),Fr.months=fe("months accessor is deprecated. Use month instead",ze),Fr.years=fe("years accessor is deprecated. Use year instead",X),Fr.zone=fe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vs),Fr.isDSTShifted=fe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zi);function p1(C){return wn(C*1e3)}function E2(){return wn.apply(null,arguments).parseZone()}function m1(C){return C}var Vs=mt.prototype;Vs.calendar=Z,Vs.longDateFormat=Rt,Vs.invalidDate=xt,Vs.ordinal=xe,Vs.preparse=m1,Vs.postformat=m1,Vs.relativeTime=Ye,Vs.pastFuture=Ve,Vs.set=st,Vs.eras=jt,Vs.erasParse=xn,Vs.erasConvertYear=Sn,Vs.erasAbbrRegex=Di,Vs.erasNameRegex=xi,Vs.erasNarrowRegex=ki,Vs.months=ge,Vs.monthsShort=he,Vs.monthsParse=oe,Vs.monthsRegex=tn,Vs.monthsShortRegex=vt,Vs.week=On,Vs.firstDayOfYear=Dr,Vs.firstDayOfWeek=Mr,Vs.weekdays=eu,Vs.weekdaysMin=Sl,Vs.weekdaysShort=tu,Vs.weekdaysParse=pc,Vs.weekdaysRegex=Je,Vs.weekdaysShortRegex=Qt,Vs.weekdaysMinRegex=Tn,Vs.isPM=$s,Vs.meridiem=zs;function Q0(C,H,ce,Le){var yt=Eo(),yn=b().set(Le,H);return yt[ce](yn,C)}function Ld(C,H,ce){if(l(C)&&(H=C,C=void 0),C=C||"",H!=null)return Q0(C,H,ce,"month");var Le,yt=[];for(Le=0;Le<12;Le++)yt[Le]=Q0(C,Le,ce,"month");return yt}function kd(C,H,ce,Le){typeof C=="boolean"?(l(H)&&(ce=H,H=void 0),H=H||""):(H=C,ce=H,C=!1,l(H)&&(ce=H,H=void 0),H=H||"");var yt=Eo(),yn=C?yt._week.dow:0,Kn,wi=[];if(ce!=null)return Q0(H,(ce+yn)%7,Le,"day");for(Kn=0;Kn<7;Kn++)wi[Kn]=Q0(H,(Kn+yn)%7,Le,"day");return wi}function Df(C,H){return Ld(C,H,"months")}function O4(C,H){return Ld(C,H,"monthsShort")}function N4(C,H,ce){return kd(C,H,ce,"weekdays")}function S2(C,H,ce){return kd(C,H,ce,"weekdaysShort")}function Id(C,H,ce){return kd(C,H,ce,"weekdaysMin")}$i("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(C){var H=C%10,ce=cn(C%100/10)===1?"th":H===1?"st":H===2?"nd":H===3?"rd":"th";return C+ce}}),e.lang=fe("moment.lang is deprecated. Use moment.locale instead.",$i),e.langData=fe("moment.langData is deprecated. Use moment.localeData instead.",Eo);var Ql=Math.abs;function Md(){var C=this._data;return this._milliseconds=Ql(this._milliseconds),this._days=Ql(this._days),this._months=Ql(this._months),C.milliseconds=Ql(C.milliseconds),C.seconds=Ql(C.seconds),C.minutes=Ql(C.minutes),C.hours=Ql(C.hours),C.months=Ql(C.months),C.years=Ql(C.years),this}function C2(C,H,ce,Le){var yt=Zs(H,ce);return C._milliseconds+=Le*yt._milliseconds,C._days+=Le*yt._days,C._months+=Le*yt._months,C._bubble()}function w2(C,H){return C2(this,C,H,1)}function G0(C,H){return C2(this,C,H,-1)}function ap(C){return C<0?Math.floor(C):Math.ceil(C)}function A2(){var C=this._milliseconds,H=this._days,ce=this._months,Le=this._data,yt,yn,Kn,wi,vi;return C>=0&&H>=0&&ce>=0||C<=0&&H<=0&&ce<=0||(C+=ap(x1(ce)+H)*864e5,H=0,ce=0),Le.milliseconds=C%1e3,yt=ln(C/1e3),Le.seconds=yt%60,yn=ln(yt/60),Le.minutes=yn%60,Kn=ln(yn/60),Le.hours=Kn%24,H+=ln(Kn/24),vi=ln(T2(H)),ce+=vi,H-=ap(x1(vi)),wi=ln(ce/12),ce%=12,Le.days=H,Le.months=ce,Le.years=wi,this}function T2(C){return C*4800/146097}function x1(C){return C*146097/4800}function yu(C){if(!this.isValid())return NaN;var H,ce,Le=this._milliseconds;if(C=Xe(C),C==="month"||C==="quarter"||C==="year")switch(H=this._days+Le/864e5,ce=this._months+T2(H),C){case"month":return ce;case"quarter":return ce/3;case"year":return ce/12}else switch(H=this._days+Math.round(x1(this._months)),C){case"week":return H/7+Le/6048e5;case"day":return H+Le/864e5;case"hour":return H*24+Le/36e5;case"minute":return H*1440+Le/6e4;case"second":return H*86400+Le/1e3;case"millisecond":return Math.floor(H*864e5)+Le;default:throw new Error("Unknown unit "+C)}}function jg(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+cn(this._months/12)*31536e6:NaN}function vc(C){return function(){return this.as(C)}}var g1=vc("ms"),y1=vc("s"),Pd=vc("m"),Y0=vc("h"),up=vc("d"),F2=vc("w"),D2=vc("M"),O2=vc("Q"),Bd=vc("y");function _c(){return Zs(this)}function N2(C){return C=Xe(C),this.isValid()?this[C+"s"]():NaN}function Tl(C){return function(){return this.isValid()?this._data[C]:NaN}}var Gl=Tl("milliseconds"),v1=Tl("seconds"),a0=Tl("minutes"),R2=Tl("hours"),_1=Tl("days"),u0=Tl("months"),K0=Tl("years");function l0(){return ln(this.days()/7)}var Fl=Math.round,Yl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function L2(C,H,ce,Le,yt){return yt.relativeTime(H||1,!!ce,C,Le)}function ku(C,H,ce,Le){var yt=Zs(C).abs(),yn=Fl(yt.as("s")),Kn=Fl(yt.as("m")),wi=Fl(yt.as("h")),vi=Fl(yt.as("d")),Ys=Fl(yt.as("M")),su=Fl(yt.as("w")),Kc=Fl(yt.as("y")),c0=yn<=ce.ss&&["s",yn]||yn<ce.s&&["ss",yn]||Kn<=1&&["m"]||Kn<ce.m&&["mm",Kn]||wi<=1&&["h"]||wi<ce.h&&["hh",wi]||vi<=1&&["d"]||vi<ce.d&&["dd",vi];return ce.w!=null&&(c0=c0||su<=1&&["w"]||su<ce.w&&["ww",su]),c0=c0||Ys<=1&&["M"]||Ys<ce.M&&["MM",Ys]||Kc<=1&&["y"]||["yy",Kc],c0[2]=H,c0[3]=+C>0,c0[4]=Le,L2.apply(null,c0)}function lp(C){return C===void 0?Fl:typeof C=="function"?(Fl=C,!0):!1}function qg(C,H){return Yl[C]===void 0?!1:H===void 0?Yl[C]:(Yl[C]=H,C==="s"&&(Yl.ss=H-1),!0)}function Ug(C,H){if(!this.isValid())return this.localeData().invalidDate();var ce=!1,Le=Yl,yt,yn;return typeof C=="object"&&(H=C,C=!1),typeof C=="boolean"&&(ce=C),typeof H=="object"&&(Le=Object.assign({},Yl,H),H.s!=null&&H.ss==null&&(Le.ss=H.s-1)),yt=this.localeData(),yn=ku(this,!ce,Le,yt),ce&&(yn=yt.pastFuture(+this,yn)),yt.postformat(yn)}var b1=Math.abs;function J0(C){return(C>0)-(C<0)||+C}function jd(){if(!this.isValid())return this.localeData().invalidDate();var C=b1(this._milliseconds)/1e3,H=b1(this._days),ce=b1(this._months),Le,yt,yn,Kn,wi=this.asSeconds(),vi,Ys,su,Kc;return wi?(Le=ln(C/60),yt=ln(Le/60),C%=60,Le%=60,yn=ln(ce/12),ce%=12,Kn=C?C.toFixed(3).replace(/\.?0+$/,""):"",vi=wi<0?"-":"",Ys=J0(this._months)!==J0(wi)?"-":"",su=J0(this._days)!==J0(wi)?"-":"",Kc=J0(this._milliseconds)!==J0(wi)?"-":"",vi+"P"+(yn?Ys+yn+"Y":"")+(ce?Ys+ce+"M":"")+(H?su+H+"D":"")+(yt||Le||C?"T":"")+(yt?Kc+yt+"H":"")+(Le?Kc+Le+"M":"")+(C?Kc+Kn+"S":"")):"P0D"}var Ds=$r.prototype;Ds.isValid=hr,Ds.abs=Md,Ds.add=w2,Ds.subtract=G0,Ds.as=yu,Ds.asMilliseconds=g1,Ds.asSeconds=y1,Ds.asMinutes=Pd,Ds.asHours=Y0,Ds.asDays=up,Ds.asWeeks=F2,Ds.asMonths=D2,Ds.asQuarters=O2,Ds.asYears=Bd,Ds.valueOf=jg,Ds._bubble=A2,Ds.clone=_c,Ds.get=N2,Ds.milliseconds=Gl,Ds.seconds=v1,Ds.minutes=a0,Ds.hours=R2,Ds.days=_1,Ds.weeks=l0,Ds.months=u0,Ds.years=K0,Ds.humanize=Ug,Ds.toISOString=jd,Ds.toString=jd,Ds.toJSON=jd,Ds.locale=H0,Ds.localeData=xc,Ds.toIsoString=fe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jd),Ds.lang=op,Ge("X",0,0,"unix"),Ge("x",0,0,"valueOf"),St("x",zn),St("X",se),Se("X",function(C,H,ce){ce._d=new Date(parseFloat(C)*1e3)}),Se("x",function(C,H,ce){ce._d=new Date(cn(C))});return e.version="2.29.4",t(wn),e.fn=Fr,e.min=fr,e.max=Mn,e.now=Gn,e.utc=b,e.unix=p1,e.months=Df,e.isDate=f,e.locale=$i,e.invalid=N,e.duration=Zs,e.isMoment=L,e.weekdays=N4,e.parseZone=E2,e.localeData=Eo,e.isDuration=ui,e.monthsShort=O4,e.weekdaysMin=Id,e.defineLocale=ts,e.updateLocale=nu,e.locales=Qo,e.weekdaysShort=S2,e.normalizeUnits=Xe,e.relativeTimeRounding=lp,e.relativeTimeThreshold=qg,e.calendarFormat=Is,e.prototype=Fr,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Ma=G((kH,ePe)=>{d();(function(n,e){typeof kH=="object"&&typeof ePe!="undefined"?e(kH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(kH,function(n){"use strict";function e(ne,Se,Me){return ne.fields=Se||[],ne.fname=Me,ne}function t(ne){return ne==null?null:ne.fname}function r(ne){return ne==null?null:ne.fields}function i(ne){return ne.length===1?s(ne[0]):o(ne)}let s=ne=>function(Se){return Se[ne]},o=ne=>{let Se=ne.length;return function(Me){for(let ft=0;ft<Se;++ft)Me=Me[ne[ft]];return Me}};function a(ne){throw Error(ne)}function l(ne){let Se=[],Me=ne.length,ft=null,gt=0,wt="",ee,Ee,$e;ne=ne+"";function et(){Se.push(wt+ne.substring(ee,Ee)),wt="",ee=Ee+1}for(ee=Ee=0;Ee<Me;++Ee)if($e=ne[Ee],$e==="\\")wt+=ne.substring(ee,Ee),wt+=ne.substring(++Ee,++Ee),ee=Ee;else if($e===ft)et(),ft=null,gt=-1;else{if(ft)continue;ee===gt&&$e==='"'||ee===gt&&$e==="'"?(ee=Ee+1,ft=$e):$e==="."&&!gt?Ee>ee?et():ee=Ee+1:$e==="["?(Ee>ee&&et(),gt=ee=Ee+1):$e==="]"&&(gt||a("Access path missing open bracket: "+ne),gt>0&&et(),gt=0,ee=Ee+1)}return gt&&a("Access path missing closing bracket: "+ne),ft&&a("Access path missing closing quote: "+ne),Ee>ee&&(Ee++,et()),Se}function f(ne,Se,Me){let ft=l(ne);return ne=ft.length===1?ft[0]:ne,e((Me&&Me.get||i)(ft),[ne],Se||ne)}let p=f("id"),v=e(ne=>ne,[],"identity"),b=e(()=>0,[],"zero"),F=e(()=>1,[],"one"),D=e(()=>!0,[],"true"),M=e(()=>!1,[],"false");function q(ne,Se,Me){let ft=[Se].concat([].slice.call(Me));console[ne].apply(console,ft)}let N=0,B=1,I=2,z=3,ie=4;function L(ne,Se,Me=q){let ft=ne||N;return{level(gt){return arguments.length?(ft=+gt,this):ft},error(){return ft>=B&&Me(Se||"error","ERROR",arguments),this},warn(){return ft>=I&&Me(Se||"warn","WARN",arguments),this},info(){return ft>=z&&Me(Se||"log","INFO",arguments),this},debug(){return ft>=ie&&Me(Se||"log","DEBUG",arguments),this}}}var Y=Array.isArray;function fe(ne){return ne===Object(ne)}let me=ne=>ne!=="__proto__";function Be(...ne){return ne.reduce((Se,Me)=>{for(let ft in Me)if(ft==="signals")Se.signals=st(Se.signals,Me.signals);else{let gt=ft==="legend"?{layout:1}:ft==="style"?!0:null;tt(Se,ft,Me[ft],gt)}return Se},{})}function tt(ne,Se,Me,ft){if(!me(Se))return;let gt,wt;if(fe(Me)&&!Y(Me)){wt=fe(ne[Se])?ne[Se]:ne[Se]={};for(gt in Me)ft&&(ft===!0||ft[gt])?tt(wt,gt,Me[gt]):me(gt)&&(wt[gt]=Me[gt])}else ne[Se]=Me}function st(ne,Se){if(ne==null)return Se;let Me={},ft=[];function gt(wt){Me[wt.name]||(Me[wt.name]=1,ft.push(wt))}return Se.forEach(gt),ne.forEach(gt),ft}function Qe(ne){return ne[ne.length-1]}function mt(ne){return ne==null||ne===""?null:+ne}let Lt=ne=>Se=>ne*Math.exp(Se),je=ne=>Se=>Math.log(ne*Se),Z=ne=>Se=>Math.sign(Se)*Math.log1p(Math.abs(Se/ne)),Ke=ne=>Se=>Math.sign(Se)*Math.expm1(Math.abs(Se))*ne,_e=ne=>Se=>Se<0?-Math.pow(-Se,ne):Math.pow(Se,ne);function De(ne,Se,Me,ft){let gt=Me(ne[0]),wt=Me(Qe(ne)),ee=(wt-gt)*Se;return[ft(gt-ee),ft(wt-ee)]}function be(ne,Se){return De(ne,Se,mt,v)}function de(ne,Se){var Me=Math.sign(ne[0]);return De(ne,Se,je(Me),Lt(Me))}function Ge(ne,Se,Me){return De(ne,Se,_e(Me),_e(1/Me))}function rt(ne,Se,Me){return De(ne,Se,Z(Me),Ke(Me))}function Bt(ne,Se,Me,ft,gt){let wt=ft(ne[0]),ee=ft(Qe(ne)),Ee=Se!=null?ft(Se):(wt+ee)/2;return[gt(Ee+(wt-Ee)*Me),gt(Ee+(ee-Ee)*Me)]}function _t(ne,Se,Me){return Bt(ne,Se,Me,mt,v)}function un(ne,Se,Me){let ft=Math.sign(ne[0]);return Bt(ne,Se,Me,je(ft),Lt(ft))}function Tt(ne,Se,Me,ft){return Bt(ne,Se,Me,_e(ft),_e(1/ft))}function Rt(ne,Se,Me,ft){return Bt(ne,Se,Me,Z(ft),Ke(ft))}function Gt(ne){return 1+~~(new Date(ne).getMonth()/3)}function xt(ne){return 1+~~(new Date(ne).getUTCMonth()/3)}function ve(ne){return ne!=null?Y(ne)?ne:[ne]:[]}function Oe(ne,Se,Me){let ft=ne[0],gt=ne[1],wt;return gt<ft&&(wt=gt,gt=ft,ft=wt),wt=gt-ft,wt>=Me-Se?[Se,Me]:[ft=Math.min(Math.max(ft,Se),Me-wt),ft+wt]}function xe(ne){return typeof ne=="function"}let le="descending";function Ye(ne,Se,Me){Me=Me||{},Se=ve(Se)||[];let ft=[],gt=[],wt={},ee=Me.comparator||te;return ve(ne).forEach((Ee,$e)=>{Ee!=null&&(ft.push(Se[$e]===le?-1:1),gt.push(Ee=xe(Ee)?Ee:f(Ee,null,Me)),(r(Ee)||[]).forEach(et=>wt[et]=1))}),gt.length===0?null:e(ee(gt,ft),Object.keys(wt))}let Ve=(ne,Se)=>(ne<Se||ne==null)&&Se!=null?-1:(ne>Se||Se==null)&&ne!=null?1:(Se=Se instanceof Date?+Se:Se,(ne=ne instanceof Date?+ne:ne)!==ne&&Se===Se?-1:Se!==Se&&ne===ne?1:0),te=(ne,Se)=>ne.length===1?Ae(ne[0],Se[0]):Xe(ne,Se,ne.length),Ae=(ne,Se)=>function(Me,ft){return Ve(ne(Me),ne(ft))*Se},Xe=(ne,Se,Me)=>(Se.push(0),function(ft,gt){let wt,ee=0,Ee=-1;for(;ee===0&&++Ee<Me;)wt=ne[Ee],ee=Ve(wt(ft),wt(gt));return ee*Se[Ee]});function ot(ne){return xe(ne)?ne:()=>ne}function Ct(ne,Se){let Me;return ft=>{Me&&clearTimeout(Me),Me=setTimeout(()=>(Se(ft),Me=null),ne)}}function $t(ne){for(let Se,Me,ft=1,gt=arguments.length;ft<gt;++ft){Se=arguments[ft];for(Me in Se)ne[Me]=Se[Me]}return ne}function Ut(ne,Se){let Me=0,ft,gt,wt,ee;if(ne&&(ft=ne.length))if(Se==null){for(gt=ne[Me];Me<ft&&(gt==null||gt!==gt);gt=ne[++Me]);for(wt=ee=gt;Me<ft;++Me)gt=ne[Me],gt!=null&&(gt<wt&&(wt=gt),gt>ee&&(ee=gt))}else{for(gt=Se(ne[Me]);Me<ft&&(gt==null||gt!==gt);gt=Se(ne[++Me]));for(wt=ee=gt;Me<ft;++Me)gt=Se(ne[Me]),gt!=null&&(gt<wt&&(wt=gt),gt>ee&&(ee=gt))}return[wt,ee]}function sn(ne,Se){let Me=ne.length,ft=-1,gt,wt,ee,Ee,$e;if(Se==null){for(;++ft<Me;)if(wt=ne[ft],wt!=null&&wt>=wt){gt=ee=wt;break}if(ft===Me)return[-1,-1];for(Ee=$e=ft;++ft<Me;)wt=ne[ft],wt!=null&&(gt>wt&&(gt=wt,Ee=ft),ee<wt&&(ee=wt,$e=ft))}else{for(;++ft<Me;)if(wt=Se(ne[ft],ft,ne),wt!=null&&wt>=wt){gt=ee=wt;break}if(ft===Me)return[-1,-1];for(Ee=$e=ft;++ft<Me;)wt=Se(ne[ft],ft,ne),wt!=null&&(gt>wt&&(gt=wt,Ee=ft),ee<wt&&(ee=wt,$e=ft))}return[Ee,$e]}let ln=Object.prototype.hasOwnProperty;function cn(ne,Se){return ln.call(ne,Se)}let Ft={};function nn(ne){let Se={},Me;function ft(wt){return cn(Se,wt)&&Se[wt]!==Ft}let gt={size:0,empty:0,object:Se,has:ft,get(wt){return ft(wt)?Se[wt]:void 0},set(wt,ee){return ft(wt)||(++gt.size,Se[wt]===Ft&&--gt.empty),Se[wt]=ee,this},delete(wt){return ft(wt)&&(--gt.size,++gt.empty,Se[wt]=Ft),this},clear(){gt.size=gt.empty=0,gt.object=Se={}},test(wt){return arguments.length?(Me=wt,gt):Me},clean(){let wt={},ee=0;for(let Ee in Se){let $e=Se[Ee];$e!==Ft&&(!Me||!Me($e))&&(wt[Ee]=$e,++ee)}gt.size=ee,gt.empty=0,gt.object=Se=wt}};return ne&&Object.keys(ne).forEach(wt=>{gt.set(wt,ne[wt])}),gt}function An(ne,Se,Me,ft,gt,wt){if(!Me&&Me!==0)return wt;let ee=+Me,Ee=ne[0],$e=Qe(ne),et;$e<Ee&&(et=Ee,Ee=$e,$e=et),et=Math.abs(Se-Ee);let It=Math.abs($e-Se);return et<It&&et<=ee?ft:It<=ee?gt:wt}function $n(ne,Se,Me){let ft=ne.prototype=Object.create(Se.prototype);return Object.defineProperty(ft,"constructor",{value:ne,writable:!0,enumerable:!0,configurable:!0}),$t(ft,Me)}function Cn(ne,Se,Me,ft){let gt=Se[0],wt=Se[Se.length-1],ee;return gt>wt&&(ee=gt,gt=wt,wt=ee),Me=Me===void 0||Me,ft=ft===void 0||ft,(Me?gt<=ne:gt<ne)&&(ft?ne<=wt:ne<wt)}function Fe(ne){return typeof ne=="boolean"}function qe(ne){return Object.prototype.toString.call(ne)==="[object Date]"}function Ce(ne){return ne&&xe(ne[Symbol.iterator])}function Dt(ne){return typeof ne=="number"}function lt(ne){return Object.prototype.toString.call(ne)==="[object RegExp]"}function ct(ne){return typeof ne=="string"}function Yt(ne,Se,Me){ne&&(ne=Se?ve(ne).map(Ee=>Ee.replace(/\\(.)/g,"$1")):ve(ne));let ft=ne&&ne.length,gt=Me&&Me.get||i,wt=Ee=>gt(Se?[Ee]:l(Ee)),ee;if(!ft)ee=function(){return""};else if(ft===1){let Ee=wt(ne[0]);ee=function($e){return""+Ee($e)}}else{let Ee=ne.map(wt);ee=function($e){let et=""+Ee[0]($e),It=0;for(;++It<ft;)et+="|"+Ee[It]($e);return et}}return e(ee,ne,"key")}function qt(ne,Se){let Me=ne[0],ft=Qe(ne),gt=+Se;return gt?gt===1?ft:Me+gt*(ft-Me):Me}let gn=1e4;function kn(ne){ne=+ne||gn;let Se,Me,ft,gt=()=>{Se={},Me={},ft=0},wt=(ee,Ee)=>(++ft>ne&&(Me=Se,Se={},ft=1),Se[ee]=Ee);return gt(),{clear:gt,has:ee=>cn(Se,ee)||cn(Me,ee),get:ee=>cn(Se,ee)?Se[ee]:cn(Me,ee)?wt(ee,Me[ee]):void 0,set:(ee,Ee)=>cn(Se,ee)?Se[ee]=Ee:wt(ee,Ee)}}function qn(ne,Se,Me,ft){let gt=Se.length,wt=Me.length;if(!wt)return Se;if(!gt)return Me;let ee=ft||new Se.constructor(gt+wt),Ee=0,$e=0,et=0;for(;Ee<gt&&$e<wt;++et)ee[et]=ne(Se[Ee],Me[$e])>0?Me[$e++]:Se[Ee++];for(;Ee<gt;++Ee,++et)ee[et]=Se[Ee];for(;$e<wt;++$e,++et)ee[et]=Me[$e];return ee}function bn(ne,Se){let Me="";for(;--Se>=0;)Me+=ne;return Me}function zn(ne,Se,Me,ft){let gt=Me||" ",wt=ne+"",ee=Se-wt.length;return ee<=0?wt:ft==="left"?bn(gt,ee)+wt:ft==="center"?bn(gt,~~(ee/2))+wt+bn(gt,Math.ceil(ee/2)):wt+bn(gt,ee)}function He(ne){return ne&&Qe(ne)-ne[0]||0}function ht(ne){return Y(ne)?"["+ne.map(ht)+"]":fe(ne)||ct(ne)?JSON.stringify(ne).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ne}function se(ne){return ne==null||ne===""?null:!ne||ne==="false"||ne==="0"?!1:!!ne}let Ie=ne=>Dt(ne)||qe(ne)?ne:Date.parse(ne);function Ze(ne,Se){return Se=Se||Ie,ne==null||ne===""?null:Se(ne)}function St(ne){return ne==null||ne===""?null:ne+""}function rn(ne){let Se={},Me=ne.length;for(let ft=0;ft<Me;++ft)Se[ne[ft]]=!0;return Se}function Xt(ne,Se,Me,ft){let gt=ft??"\u2026",wt=ne+"",ee=wt.length,Ee=Math.max(0,Se-gt.length);return ee<=Se?wt:Me==="left"?gt+wt.slice(ee-Ee):Me==="center"?wt.slice(0,Math.ceil(Ee/2))+gt+wt.slice(ee-~~(Ee/2)):wt.slice(0,Ee)+gt}function at(ne,Se,Me){if(ne)if(Se){let ft=ne.length;for(let gt=0;gt<ft;++gt){let wt=Se(ne[gt]);wt&&Me(wt,gt,ne)}}else ne.forEach(Me)}n.Debug=ie,n.Error=B,n.Info=z,n.None=N,n.Warn=I,n.accessor=e,n.accessorFields=r,n.accessorName=t,n.array=ve,n.ascending=Ve,n.clampRange=Oe,n.compare=Ye,n.constant=ot,n.debounce=Ct,n.error=a,n.extend=$t,n.extent=Ut,n.extentIndex=sn,n.falsy=M,n.fastmap=nn,n.field=f,n.flush=An,n.hasOwnProperty=cn,n.id=p,n.identity=v,n.inherits=$n,n.inrange=Cn,n.isArray=Y,n.isBoolean=Fe,n.isDate=qe,n.isFunction=xe,n.isIterable=Ce,n.isNumber=Dt,n.isObject=fe,n.isRegExp=lt,n.isString=ct,n.key=Yt,n.lerp=qt,n.logger=L,n.lruCache=kn,n.merge=qn,n.mergeConfig=Be,n.one=F,n.pad=zn,n.panLinear=be,n.panLog=de,n.panPow=Ge,n.panSymlog=rt,n.peek=Qe,n.quarter=Gt,n.repeat=bn,n.span=He,n.splitAccessPath=l,n.stringValue=ht,n.toBoolean=se,n.toDate=Ze,n.toNumber=mt,n.toSet=rn,n.toString=St,n.truncate=Xt,n.truthy=D,n.utcquarter=xt,n.visitArray=at,n.writeConfig=tt,n.zero=b,n.zoomLinear=_t,n.zoomLog=un,n.zoomPow=Tt,n.zoomSymlog=Rt,Object.defineProperty(n,"__esModule",{value:!0})})});var nPe=G((IH,tPe)=>{d();(function(n,e){typeof IH=="object"&&typeof tPe!="undefined"?e(IH):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.topojson=n.topojson||{}))})(IH,function(n){"use strict";function e(I){return I}function t(I){if(I==null)return e;var z,ie,L=I.scale[0],Y=I.scale[1],fe=I.translate[0],me=I.translate[1];return function(Be,tt){tt||(z=ie=0);var st=2,Qe=Be.length,mt=new Array(Qe);for(mt[0]=(z+=Be[0])*L+fe,mt[1]=(ie+=Be[1])*Y+me;st<Qe;)mt[st]=Be[st],++st;return mt}}function r(I){var z=t(I.transform),ie,L=1/0,Y=L,fe=-L,me=-L;function Be(st){st=z(st),st[0]<L&&(L=st[0]),st[0]>fe&&(fe=st[0]),st[1]<Y&&(Y=st[1]),st[1]>me&&(me=st[1])}function tt(st){switch(st.type){case"GeometryCollection":st.geometries.forEach(tt);break;case"Point":Be(st.coordinates);break;case"MultiPoint":st.coordinates.forEach(Be);break}}I.arcs.forEach(function(st){for(var Qe=-1,mt=st.length,Lt;++Qe<mt;)Lt=z(st[Qe],Qe),Lt[0]<L&&(L=Lt[0]),Lt[0]>fe&&(fe=Lt[0]),Lt[1]<Y&&(Y=Lt[1]),Lt[1]>me&&(me=Lt[1])});for(ie in I.objects)tt(I.objects[ie]);return[L,Y,fe,me]}function i(I,z){for(var ie,L=I.length,Y=L-z;Y<--L;)ie=I[Y],I[Y++]=I[L],I[L]=ie}function s(I,z){return typeof z=="string"&&(z=I.objects[z]),z.type==="GeometryCollection"?{type:"FeatureCollection",features:z.geometries.map(function(ie){return o(I,ie)})}:o(I,z)}function o(I,z){var ie=z.id,L=z.bbox,Y=z.properties==null?{}:z.properties,fe=a(I,z);return ie==null&&L==null?{type:"Feature",properties:Y,geometry:fe}:L==null?{type:"Feature",id:ie,properties:Y,geometry:fe}:{type:"Feature",id:ie,bbox:L,properties:Y,geometry:fe}}function a(I,z){var ie=t(I.transform),L=I.arcs;function Y(Qe,mt){mt.length&&mt.pop();for(var Lt=L[Qe<0?~Qe:Qe],je=0,Z=Lt.length;je<Z;++je)mt.push(ie(Lt[je],je));Qe<0&&i(mt,Z)}function fe(Qe){return ie(Qe)}function me(Qe){for(var mt=[],Lt=0,je=Qe.length;Lt<je;++Lt)Y(Qe[Lt],mt);return mt.length<2&&mt.push(mt[0]),mt}function Be(Qe){for(var mt=me(Qe);mt.length<4;)mt.push(mt[0]);return mt}function tt(Qe){return Qe.map(Be)}function st(Qe){var mt=Qe.type,Lt;switch(mt){case"GeometryCollection":return{type:mt,geometries:Qe.geometries.map(st)};case"Point":Lt=fe(Qe.coordinates);break;case"MultiPoint":Lt=Qe.coordinates.map(fe);break;case"LineString":Lt=me(Qe.arcs);break;case"MultiLineString":Lt=Qe.arcs.map(me);break;case"Polygon":Lt=tt(Qe.arcs);break;case"MultiPolygon":Lt=Qe.arcs.map(tt);break;default:return null}return{type:mt,coordinates:Lt}}return st(z)}function l(I,z){var ie={},L={},Y={},fe=[],me=-1;z.forEach(function(st,Qe){var mt=I.arcs[st<0?~st:st],Lt;mt.length<3&&!mt[1][0]&&!mt[1][1]&&(Lt=z[++me],z[me]=st,z[Qe]=Lt)}),z.forEach(function(st){var Qe=Be(st),mt=Qe[0],Lt=Qe[1],je,Z;if(je=Y[mt])if(delete Y[je.end],je.push(st),je.end=Lt,Z=L[Lt]){delete L[Z.start];var Ke=Z===je?je:je.concat(Z);L[Ke.start=je.start]=Y[Ke.end=Z.end]=Ke}else L[je.start]=Y[je.end]=je;else if(je=L[Lt])if(delete L[je.start],je.unshift(st),je.start=mt,Z=Y[mt]){delete Y[Z.end];var _e=Z===je?je:Z.concat(je);L[_e.start=Z.start]=Y[_e.end=je.end]=_e}else L[je.start]=Y[je.end]=je;else je=[st],L[je.start=mt]=Y[je.end=Lt]=je});function Be(st){var Qe=I.arcs[st<0?~st:st],mt=Qe[0],Lt;return I.transform?(Lt=[0,0],Qe.forEach(function(je){Lt[0]+=je[0],Lt[1]+=je[1]})):Lt=Qe[Qe.length-1],st<0?[Lt,mt]:[mt,Lt]}function tt(st,Qe){for(var mt in st){var Lt=st[mt];delete Qe[Lt.start],delete Lt.start,delete Lt.end,Lt.forEach(function(je){ie[je<0?~je:je]=1}),fe.push(Lt)}}return tt(Y,L),tt(L,Y),z.forEach(function(st){ie[st<0?~st:st]||fe.push([st])}),fe}function f(I){return a(I,p.apply(this,arguments))}function p(I,z,ie){var L,Y,fe;if(arguments.length>1)L=v(I,z,ie);else for(Y=0,L=new Array(fe=I.arcs.length);Y<fe;++Y)L[Y]=Y;return{type:"MultiLineString",arcs:l(I,L)}}function v(I,z,ie){var L=[],Y=[],fe;function me(mt){var Lt=mt<0?~mt:mt;(Y[Lt]||(Y[Lt]=[])).push({i:mt,g:fe})}function Be(mt){mt.forEach(me)}function tt(mt){mt.forEach(Be)}function st(mt){mt.forEach(tt)}function Qe(mt){switch(fe=mt,mt.type){case"GeometryCollection":mt.geometries.forEach(Qe);break;case"LineString":Be(mt.arcs);break;case"MultiLineString":case"Polygon":tt(mt.arcs);break;case"MultiPolygon":st(mt.arcs);break}}return Qe(z),Y.forEach(ie==null?function(mt){L.push(mt[0].i)}:function(mt){ie(mt[0].g,mt[mt.length-1].g)&&L.push(mt[0].i)}),L}function b(I){for(var z=-1,ie=I.length,L,Y=I[ie-1],fe=0;++z<ie;)L=Y,Y=I[z],fe+=L[0]*Y[1]-L[1]*Y[0];return Math.abs(fe)}function F(I){return a(I,D.apply(this,arguments))}function D(I,z){var ie={},L=[],Y=[];z.forEach(fe);function fe(tt){switch(tt.type){case"GeometryCollection":tt.geometries.forEach(fe);break;case"Polygon":me(tt.arcs);break;case"MultiPolygon":tt.arcs.forEach(me);break}}function me(tt){tt.forEach(function(st){st.forEach(function(Qe){(ie[Qe=Qe<0?~Qe:Qe]||(ie[Qe]=[])).push(tt)})}),L.push(tt)}function Be(tt){return b(a(I,{type:"Polygon",arcs:[tt]}).coordinates[0])}return L.forEach(function(tt){if(!tt._){var st=[],Qe=[tt];for(tt._=1,Y.push(st);tt=Qe.pop();)st.push(tt),tt.forEach(function(mt){mt.forEach(function(Lt){ie[Lt<0?~Lt:Lt].forEach(function(je){je._||(je._=1,Qe.push(je))})})})}}),L.forEach(function(tt){delete tt._}),{type:"MultiPolygon",arcs:Y.map(function(tt){var st=[],Qe;if(tt.forEach(function(Ke){Ke.forEach(function(_e){_e.forEach(function(De){ie[De<0?~De:De].length<2&&st.push(De)})})}),st=l(I,st),(Qe=st.length)>1)for(var mt=1,Lt=Be(st[0]),je,Z;mt<Qe;++mt)(je=Be(st[mt]))>Lt&&(Z=st[0],st[0]=st[mt],st[mt]=Z,Lt=je);return st}).filter(function(tt){return tt.length>0})}}function M(I,z){for(var ie=0,L=I.length;ie<L;){var Y=ie+L>>>1;I[Y]<z?ie=Y+1:L=Y}return ie}function q(I){var z={},ie=I.map(function(){return[]});function L(Ke,_e){Ke.forEach(function(De){De<0&&(De=~De);var be=z[De];be?be.push(_e):z[De]=[_e]})}function Y(Ke,_e){Ke.forEach(function(De){L(De,_e)})}function fe(Ke,_e){Ke.type==="GeometryCollection"?Ke.geometries.forEach(function(De){fe(De,_e)}):Ke.type in me&&me[Ke.type](Ke.arcs,_e)}var me={LineString:L,MultiLineString:Y,Polygon:Y,MultiPolygon:function(Ke,_e){Ke.forEach(function(De){Y(De,_e)})}};I.forEach(fe);for(var Be in z)for(var tt=z[Be],st=tt.length,Qe=0;Qe<st;++Qe)for(var mt=Qe+1;mt<st;++mt){var Lt=tt[Qe],je=tt[mt],Z;(Z=ie[Lt])[Be=M(Z,je)]!==je&&Z.splice(Be,0,je),(Z=ie[je])[Be=M(Z,Lt)]!==Lt&&Z.splice(Be,0,Lt)}return ie}function N(I){if(I==null)return e;var z,ie,L=I.scale[0],Y=I.scale[1],fe=I.translate[0],me=I.translate[1];return function(Be,tt){tt||(z=ie=0);var st=2,Qe=Be.length,mt=new Array(Qe),Lt=Math.round((Be[0]-fe)/L),je=Math.round((Be[1]-me)/Y);for(mt[0]=Lt-z,z=Lt,mt[1]=je-ie,ie=je;st<Qe;)mt[st]=Be[st],++st;return mt}}function B(I,z){if(I.transform)throw new Error("already quantized");if(!z||!z.scale){if(!((me=Math.floor(z))>=2))throw new Error("n must be \u22652");tt=I.bbox||r(I);var ie=tt[0],L=tt[1],Y=tt[2],fe=tt[3],me;z={scale:[Y-ie?(Y-ie)/(me-1):1,fe-L?(fe-L)/(me-1):1],translate:[ie,L]}}else tt=I.bbox;var Be=N(z),tt,st,Qe=I.objects,mt={};function Lt(Ke){return Be(Ke)}function je(Ke){var _e;switch(Ke.type){case"GeometryCollection":_e={type:"GeometryCollection",geometries:Ke.geometries.map(je)};break;case"Point":_e={type:"Point",coordinates:Lt(Ke.coordinates)};break;case"MultiPoint":_e={type:"MultiPoint",coordinates:Ke.coordinates.map(Lt)};break;default:return Ke}return Ke.id!=null&&(_e.id=Ke.id),Ke.bbox!=null&&(_e.bbox=Ke.bbox),Ke.properties!=null&&(_e.properties=Ke.properties),_e}function Z(Ke){var _e=0,De=1,be=Ke.length,de,Ge=new Array(be);for(Ge[0]=Be(Ke[0],0);++_e<be;)((de=Be(Ke[_e],_e))[0]||de[1])&&(Ge[De++]=de);return De===1&&(Ge[De++]=[0,0]),Ge.length=De,Ge}for(st in Qe)mt[st]=je(Qe[st]);return{type:"Topology",bbox:tt,transform:z,objects:mt,arcs:I.arcs.map(Z)}}n.bbox=r,n.feature=s,n.merge=F,n.mergeArcs=D,n.mesh=f,n.meshArcs=p,n.neighbors=q,n.quantize=B,n.transform=t,n.untransform=N,Object.defineProperty(n,"__esModule",{value:!0})})});var e9=G((MH,rPe)=>{d();(function(n,e){typeof MH=="object"&&typeof rPe!="undefined"?e(MH,Ma()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(MH,function(n,e){"use strict";let t="year",r="quarter",i="month",s="week",o="date",a="day",l="dayofyear",f="hours",p="minutes",v="seconds",b="milliseconds",F=[t,r,i,s,o,a,l,f,p,v,b],D=F.reduce((O,$,ge)=>(O[$]=1+ge,O),{});function M(O){let $=e.array(O).slice(),ge={};return $.length||e.error("Missing time unit."),$.forEach(Q=>{e.hasOwnProperty(D,Q)?ge[Q]=1:e.error(`Invalid time unit: ${Q}.`)}),(ge[s]||ge[a]?1:0)+(ge[r]||ge[i]||ge[o]?1:0)+(ge[l]?1:0)>1&&e.error(`Incompatible time units: ${O}`),$.sort((Q,oe)=>D[Q]-D[oe]),$}let q={[t]:"%Y ",[r]:"Q%q ",[i]:"%b ",[o]:"%d ",[s]:"W%U ",[a]:"%a ",[l]:"%j ",[f]:"%H:00",[p]:"00:%M",[v]:":%S",[b]:".%L",[`${t}-${i}`]:"%Y-%m ",[`${t}-${i}-${o}`]:"%Y-%m-%d ",[`${f}-${p}`]:"%H:%M"};function N(O,$){let ge=e.extend({},q,$),he=M(O),Q=he.length,oe="",ae=0,ze,Ot;for(ae=0;ae<Q;)for(ze=he.length;ze>ae;--ze)if(Ot=he.slice(ae,ze).join("-"),ge[Ot]!=null){oe+=ge[Ot],ae=ze;break}return oe.trim()}var B=new Date,I=new Date;function z(O,$,ge,he){function Q(oe){return O(oe=arguments.length===0?new Date:new Date(+oe)),oe}return Q.floor=function(oe){return O(oe=new Date(+oe)),oe},Q.ceil=function(oe){return O(oe=new Date(oe-1)),$(oe,1),O(oe),oe},Q.round=function(oe){var ae=Q(oe),ze=Q.ceil(oe);return oe-ae<ze-oe?ae:ze},Q.offset=function(oe,ae){return $(oe=new Date(+oe),ae==null?1:Math.floor(ae)),oe},Q.range=function(oe,ae,ze){var Ot=[],vt;if(oe=Q.ceil(oe),ze=ze==null?1:Math.floor(ze),!(oe<ae)||!(ze>0))return Ot;do Ot.push(vt=new Date(+oe)),$(oe,ze),O(oe);while(vt<oe&&oe<ae);return Ot},Q.filter=function(oe){return z(function(ae){if(ae>=ae)for(;O(ae),!oe(ae);)ae.setTime(ae-1)},function(ae,ze){if(ae>=ae)if(ze<0)for(;++ze<=0;)for(;$(ae,-1),!oe(ae););else for(;--ze>=0;)for(;$(ae,1),!oe(ae););})},ge&&(Q.count=function(oe,ae){return B.setTime(+oe),I.setTime(+ae),O(B),O(I),Math.floor(ge(B,I))},Q.every=function(oe){return oe=Math.floor(oe),!isFinite(oe)||!(oe>0)?null:oe>1?Q.filter(he?function(ae){return he(ae)%oe===0}:function(ae){return Q.count(0,ae)%oe===0}):Q}),Q}var ie=z(function(){},function(O,$){O.setTime(+O+$)},function(O,$){return $-O});ie.every=function(O){return O=Math.floor(O),!isFinite(O)||!(O>0)?null:O>1?z(function($){$.setTime(Math.floor($/O)*O)},function($,ge){$.setTime(+$+ge*O)},function($,ge){return(ge-$)/O}):ie};var L=ie;let Y=1e3,fe=Y*60,me=fe*60,Be=me*24,tt=Be*7;var st=z(function(O){O.setTime(O-O.getMilliseconds())},function(O,$){O.setTime(+O+$*Y)},function(O,$){return($-O)/Y},function(O){return O.getUTCSeconds()}),Qe=st,mt=z(function(O){O.setTime(O-O.getMilliseconds()-O.getSeconds()*Y)},function(O,$){O.setTime(+O+$*fe)},function(O,$){return($-O)/fe},function(O){return O.getMinutes()}),Lt=mt,je=z(function(O){O.setTime(O-O.getMilliseconds()-O.getSeconds()*Y-O.getMinutes()*fe)},function(O,$){O.setTime(+O+$*me)},function(O,$){return($-O)/me},function(O){return O.getHours()}),Z=je,Ke=z(O=>O.setHours(0,0,0,0),(O,$)=>O.setDate(O.getDate()+$),(O,$)=>($-O-($.getTimezoneOffset()-O.getTimezoneOffset())*fe)/Be,O=>O.getDate()-1),_e=Ke;function De(O){return z(function($){$.setDate($.getDate()-($.getDay()+7-O)%7),$.setHours(0,0,0,0)},function($,ge){$.setDate($.getDate()+ge*7)},function($,ge){return(ge-$-(ge.getTimezoneOffset()-$.getTimezoneOffset())*fe)/tt})}var be=De(0);De(1),De(2),De(3),De(4),De(5),De(6);var de=z(function(O){O.setDate(1),O.setHours(0,0,0,0)},function(O,$){O.setMonth(O.getMonth()+$)},function(O,$){return $.getMonth()-O.getMonth()+($.getFullYear()-O.getFullYear())*12},function(O){return O.getMonth()}),Ge=de,rt=z(function(O){O.setMonth(0,1),O.setHours(0,0,0,0)},function(O,$){O.setFullYear(O.getFullYear()+$)},function(O,$){return $.getFullYear()-O.getFullYear()},function(O){return O.getFullYear()});rt.every=function(O){return!isFinite(O=Math.floor(O))||!(O>0)?null:z(function($){$.setFullYear(Math.floor($.getFullYear()/O)*O),$.setMonth(0,1),$.setHours(0,0,0,0)},function($,ge){$.setFullYear($.getFullYear()+ge*O)})};var Bt=rt,_t=z(function(O){O.setUTCSeconds(0,0)},function(O,$){O.setTime(+O+$*fe)},function(O,$){return($-O)/fe},function(O){return O.getUTCMinutes()}),un=_t,Tt=z(function(O){O.setUTCMinutes(0,0,0)},function(O,$){O.setTime(+O+$*me)},function(O,$){return($-O)/me},function(O){return O.getUTCHours()}),Rt=Tt,Gt=z(function(O){O.setUTCHours(0,0,0,0)},function(O,$){O.setUTCDate(O.getUTCDate()+$)},function(O,$){return($-O)/Be},function(O){return O.getUTCDate()-1}),xt=Gt;function ve(O){return z(function($){$.setUTCDate($.getUTCDate()-($.getUTCDay()+7-O)%7),$.setUTCHours(0,0,0,0)},function($,ge){$.setUTCDate($.getUTCDate()+ge*7)},function($,ge){return(ge-$)/tt})}var Oe=ve(0);ve(1),ve(2),ve(3),ve(4),ve(5),ve(6);var xe=z(function(O){O.setUTCDate(1),O.setUTCHours(0,0,0,0)},function(O,$){O.setUTCMonth(O.getUTCMonth()+$)},function(O,$){return $.getUTCMonth()-O.getUTCMonth()+($.getUTCFullYear()-O.getUTCFullYear())*12},function(O){return O.getUTCMonth()}),le=xe,Ye=z(function(O){O.setUTCMonth(0,1),O.setUTCHours(0,0,0,0)},function(O,$){O.setUTCFullYear(O.getUTCFullYear()+$)},function(O,$){return $.getUTCFullYear()-O.getUTCFullYear()},function(O){return O.getUTCFullYear()});Ye.every=function(O){return!isFinite(O=Math.floor(O))||!(O>0)?null:z(function($){$.setUTCFullYear(Math.floor($.getUTCFullYear()/O)*O),$.setUTCMonth(0,1),$.setUTCHours(0,0,0,0)},function($,ge){$.setUTCFullYear($.getUTCFullYear()+ge*O)})};var Ve=Ye;function te(O,$){return O==null||$==null?NaN:O<$?-1:O>$?1:O>=$?0:NaN}function Ae(O){let $=O,ge=O,he=O;O.length!==2&&($=(ze,Ot)=>O(ze)-Ot,ge=te,he=(ze,Ot)=>te(O(ze),Ot));function Q(ze,Ot,vt=0,tn=ze.length){if(vt<tn){if(ge(Ot,Ot)!==0)return tn;do{let E=vt+tn>>>1;he(ze[E],Ot)<0?vt=E+1:tn=E}while(vt<tn)}return vt}function oe(ze,Ot,vt=0,tn=ze.length){if(vt<tn){if(ge(Ot,Ot)!==0)return tn;do{let E=vt+tn>>>1;he(ze[E],Ot)<=0?vt=E+1:tn=E}while(vt<tn)}return vt}function ae(ze,Ot,vt=0,tn=ze.length){let E=Q(ze,Ot,vt,tn-1);return E>vt&&$(ze[E-1],Ot)>-$(ze[E],Ot)?E-1:E}return{left:Q,center:ae,right:oe}}var Xe=Math.sqrt(50),ot=Math.sqrt(10),Ct=Math.sqrt(2);function $t(O,$,ge){var he=Math.abs($-O)/Math.max(0,ge),Q=Math.pow(10,Math.floor(Math.log(he)/Math.LN10)),oe=he/Q;return oe>=Xe?Q*=10:oe>=ot?Q*=5:oe>=Ct&&(Q*=2),$<O?-Q:Q}let Ut=new Date;function sn(O){return Ut.setFullYear(O),Ut.setMonth(0),Ut.setDate(1),Ut.setHours(0,0,0,0),Ut}function ln(O){return Ft(new Date(O))}function cn(O){return nn(new Date(O))}function Ft(O){return _e.count(sn(O.getFullYear())-1,O)}function nn(O){return be.count(sn(O.getFullYear())-1,O)}function An(O){return sn(O).getDay()}function $n(O,$,ge,he,Q,oe,ae){if(0<=O&&O<100){let ze=new Date(-1,$,ge,he,Q,oe,ae);return ze.setFullYear(O),ze}return new Date(O,$,ge,he,Q,oe,ae)}function Cn(O){return qe(new Date(O))}function Fe(O){return Ce(new Date(O))}function qe(O){let $=Date.UTC(O.getUTCFullYear(),0,1);return xt.count($-1,O)}function Ce(O){let $=Date.UTC(O.getUTCFullYear(),0,1);return Oe.count($-1,O)}function Dt(O){return Ut.setTime(Date.UTC(O,0,1)),Ut.getUTCDay()}function lt(O,$,ge,he,Q,oe,ae){if(0<=O&&O<100){let ze=new Date(Date.UTC(-1,$,ge,he,Q,oe,ae));return ze.setUTCFullYear(ge.y),ze}return new Date(Date.UTC(O,$,ge,he,Q,oe,ae))}function ct(O,$,ge,he,Q){let oe=$||1,ae=e.peek(O),ze=(Vt,zt,an)=>(an=an||Vt,Yt(ge[an],he[an],Vt===ae&&oe,zt)),Ot=new Date,vt=e.toSet(O),tn=vt[t]?ze(t):e.constant(2012),E=vt[i]?ze(i):vt[r]?ze(r):e.zero,P=vt[s]&&vt[a]?ze(a,1,s+a):vt[s]?ze(s,1):vt[a]?ze(a,1):vt[o]?ze(o,1):vt[l]?ze(l,1):e.one,X=vt[f]?ze(f):e.zero,ye=vt[p]?ze(p):e.zero,ut=vt[v]?ze(v):e.zero,bt=vt[b]?ze(b):e.zero;return function(Vt){Ot.setTime(+Vt);let zt=tn(Ot);return Q(zt,E(Ot),P(Ot,zt),X(Ot),ye(Ot),ut(Ot),bt(Ot))}}function Yt(O,$,ge,he){let Q=ge<=1?O:he?(oe,ae)=>he+ge*Math.floor((O(oe,ae)-he)/ge):(oe,ae)=>ge*Math.floor(O(oe,ae)/ge);return $?(oe,ae)=>$(Q(oe,ae),ae):Q}function qt(O,$,ge){return $+O*7-(ge+6)%7}let gn={[t]:O=>O.getFullYear(),[r]:O=>Math.floor(O.getMonth()/3),[i]:O=>O.getMonth(),[o]:O=>O.getDate(),[f]:O=>O.getHours(),[p]:O=>O.getMinutes(),[v]:O=>O.getSeconds(),[b]:O=>O.getMilliseconds(),[l]:O=>Ft(O),[s]:O=>nn(O),[s+a]:(O,$)=>qt(nn(O),O.getDay(),An($)),[a]:(O,$)=>qt(1,O.getDay(),An($))},kn={[r]:O=>3*O,[s]:(O,$)=>qt(O,0,An($))};function qn(O,$){return ct(O,$||1,gn,kn,$n)}let bn={[t]:O=>O.getUTCFullYear(),[r]:O=>Math.floor(O.getUTCMonth()/3),[i]:O=>O.getUTCMonth(),[o]:O=>O.getUTCDate(),[f]:O=>O.getUTCHours(),[p]:O=>O.getUTCMinutes(),[v]:O=>O.getUTCSeconds(),[b]:O=>O.getUTCMilliseconds(),[l]:O=>qe(O),[s]:O=>Ce(O),[a]:(O,$)=>qt(1,O.getUTCDay(),Dt($)),[s+a]:(O,$)=>qt(Ce(O),O.getUTCDay(),Dt($))},zn={[r]:O=>3*O,[s]:(O,$)=>qt(O,0,Dt($))};function He(O,$){return ct(O,$||1,bn,zn,lt)}let ht={[t]:Bt,[r]:Ge.every(3),[i]:Ge,[s]:be,[o]:_e,[a]:_e,[l]:_e,[f]:Z,[p]:Lt,[v]:Qe,[b]:L},se={[t]:Ve,[r]:le.every(3),[i]:le,[s]:Oe,[o]:xt,[a]:xt,[l]:xt,[f]:Rt,[p]:un,[v]:Qe,[b]:L};function Ie(O){return ht[O]}function Ze(O){return se[O]}function St(O,$,ge){return O?O.offset($,ge):void 0}function rn(O,$,ge){return St(Ie(O),$,ge)}function Xt(O,$,ge){return St(Ze(O),$,ge)}function at(O,$,ge,he){return O?O.range($,ge,he):void 0}function ne(O,$,ge,he){return at(Ie(O),$,ge,he)}function Se(O,$,ge,he){return at(Ze(O),$,ge,he)}let Me=1e3,ft=Me*60,gt=ft*60,wt=gt*24,ee=wt*7,Ee=wt*30,$e=wt*365,et=[t,i,o,f,p,v,b],It=et.slice(0,-1),Kt=It.slice(0,-1),mn=Kt.slice(0,-1),fn=mn.slice(0,-1),dn=[t,s],Rn=[t,i],we=[t],Pe=[[It,1,Me],[It,5,5*Me],[It,15,15*Me],[It,30,30*Me],[Kt,1,ft],[Kt,5,5*ft],[Kt,15,15*ft],[Kt,30,30*ft],[mn,1,gt],[mn,3,3*gt],[mn,6,6*gt],[mn,12,12*gt],[fn,1,wt],[dn,1,ee],[Rn,1,Ee],[Rn,3,3*Ee],[we,1,$e]];function Et(O){let $=O.extent,ge=O.maxbins||40,he=Math.abs(e.span($))/ge,Q=Ae(ze=>ze[2]).right(Pe,he),oe,ae;return Q===Pe.length?(oe=we,ae=$t($[0]/$e,$[1]/$e,ge)):Q?(Q=Pe[he/Pe[Q-1][2]<Pe[Q][2]/he?Q-1:Q],oe=Q[0],ae=Q[1]):(oe=et,ae=Math.max($t($[0],$[1],ge),1)),{units:oe,step:ae}}n.DATE=o,n.DAY=a,n.DAYOFYEAR=l,n.HOURS=f,n.MILLISECONDS=b,n.MINUTES=p,n.MONTH=i,n.QUARTER=r,n.SECONDS=v,n.TIME_UNITS=F,n.WEEK=s,n.YEAR=t,n.dayofyear=ln,n.timeBin=Et,n.timeFloor=qn,n.timeInterval=Ie,n.timeOffset=rn,n.timeSequence=ne,n.timeUnitSpecifier=N,n.timeUnits=M,n.utcFloor=He,n.utcInterval=Ze,n.utcOffset=Xt,n.utcSequence=Se,n.utcdayofyear=Cn,n.utcweek=Fe,n.week=cn,Object.defineProperty(n,"__esModule",{value:!0})})});var LO=G((PH,iPe)=>{d();(function(n,e){typeof PH=="object"&&typeof iPe!="undefined"?e(PH,e9(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-time","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(PH,function(n,e,t){"use strict";function r(Je){let Qt={};return Tn=>Qt[Tn]||(Qt[Tn]=Je(Tn))}var i=Math.sqrt(50),s=Math.sqrt(10),o=Math.sqrt(2);function a(Je,Qt,Tn){var Pn=Math.abs(Qt-Je)/Math.max(0,Tn),Ur=Math.pow(10,Math.floor(Math.log(Pn)/Math.LN10)),wr=Pn/Ur;return wr>=i?Ur*=10:wr>=s?Ur*=5:wr>=o&&(Ur*=2),Qt<Je?-Ur:Ur}function l(Je){return Math.abs(Je=Math.round(Je))>=1e21?Je.toLocaleString("en").replace(/,/g,""):Je.toString(10)}function f(Je,Qt){if((Tn=(Je=Qt?Je.toExponential(Qt-1):Je.toExponential()).indexOf("e"))<0)return null;var Tn,Pn=Je.slice(0,Tn);return[Pn.length>1?Pn[0]+Pn.slice(2):Pn,+Je.slice(Tn+1)]}function p(Je){return Je=f(Math.abs(Je)),Je?Je[1]:NaN}function v(Je,Qt){return function(Tn,Pn){for(var Ur=Tn.length,wr=[],kr=0,es=Je[0],$s=0;Ur>0&&es>0&&($s+es+1>Pn&&(es=Math.max(1,Pn-$s)),wr.push(Tn.substring(Ur-=es,Ur+es)),!(($s+=es+1)>Pn));)es=Je[kr=(kr+1)%Je.length];return wr.reverse().join(Qt)}}function b(Je){return function(Qt){return Qt.replace(/[0-9]/g,function(Tn){return Je[+Tn]})}}var F=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function D(Je){if(!(Qt=F.exec(Je)))throw new Error("invalid format: "+Je);var Qt;return new M({fill:Qt[1],align:Qt[2],sign:Qt[3],symbol:Qt[4],zero:Qt[5],width:Qt[6],comma:Qt[7],precision:Qt[8]&&Qt[8].slice(1),trim:Qt[9],type:Qt[10]})}D.prototype=M.prototype;function M(Je){this.fill=Je.fill===void 0?" ":Je.fill+"",this.align=Je.align===void 0?">":Je.align+"",this.sign=Je.sign===void 0?"-":Je.sign+"",this.symbol=Je.symbol===void 0?"":Je.symbol+"",this.zero=!!Je.zero,this.width=Je.width===void 0?void 0:+Je.width,this.comma=!!Je.comma,this.precision=Je.precision===void 0?void 0:+Je.precision,this.trim=!!Je.trim,this.type=Je.type===void 0?"":Je.type+""}M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q(Je){e:for(var Qt=Je.length,Tn=1,Pn=-1,Ur;Tn<Qt;++Tn)switch(Je[Tn]){case".":Pn=Ur=Tn;break;case"0":Pn===0&&(Pn=Tn),Ur=Tn;break;default:if(!+Je[Tn])break e;Pn>0&&(Pn=0);break}return Pn>0?Je.slice(0,Pn)+Je.slice(Ur+1):Je}var N;function B(Je,Qt){var Tn=f(Je,Qt);if(!Tn)return Je+"";var Pn=Tn[0],Ur=Tn[1],wr=Ur-(N=Math.max(-8,Math.min(8,Math.floor(Ur/3)))*3)+1,kr=Pn.length;return wr===kr?Pn:wr>kr?Pn+new Array(wr-kr+1).join("0"):wr>0?Pn.slice(0,wr)+"."+Pn.slice(wr):"0."+new Array(1-wr).join("0")+f(Je,Math.max(0,Qt+wr-1))[0]}function I(Je,Qt){var Tn=f(Je,Qt);if(!Tn)return Je+"";var Pn=Tn[0],Ur=Tn[1];return Ur<0?"0."+new Array(-Ur).join("0")+Pn:Pn.length>Ur+1?Pn.slice(0,Ur+1)+"."+Pn.slice(Ur+1):Pn+new Array(Ur-Pn.length+2).join("0")}var z={"%":(Je,Qt)=>(Je*100).toFixed(Qt),b:Je=>Math.round(Je).toString(2),c:Je=>Je+"",d:l,e:(Je,Qt)=>Je.toExponential(Qt),f:(Je,Qt)=>Je.toFixed(Qt),g:(Je,Qt)=>Je.toPrecision(Qt),o:Je=>Math.round(Je).toString(8),p:(Je,Qt)=>I(Je*100,Qt),r:I,s:B,X:Je=>Math.round(Je).toString(16).toUpperCase(),x:Je=>Math.round(Je).toString(16)};function ie(Je){return Je}var L=Array.prototype.map,Y=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function fe(Je){var Qt=Je.grouping===void 0||Je.thousands===void 0?ie:v(L.call(Je.grouping,Number),Je.thousands+""),Tn=Je.currency===void 0?"":Je.currency[0]+"",Pn=Je.currency===void 0?"":Je.currency[1]+"",Ur=Je.decimal===void 0?".":Je.decimal+"",wr=Je.numerals===void 0?ie:b(L.call(Je.numerals,String)),kr=Je.percent===void 0?"%":Je.percent+"",es=Je.minus===void 0?"\u2212":Je.minus+"",$s=Je.nan===void 0?"NaN":Je.nan+"";function Ls(zs){zs=D(zs);var go=zs.fill,Xr=zs.align,si=zs.sign,Vi=zs.symbol,Fo=zs.zero,Vo=zs.width,Wo=zs.comma,Hs=zs.precision,qi=zs.trim,$i=zs.type;$i==="n"?(Wo=!0,$i="g"):z[$i]||(Hs===void 0&&(Hs=12),qi=!0,$i="g"),(Fo||go==="0"&&Xr==="=")&&(Fo=!0,go="0",Xr="=");var ts=Vi==="$"?Tn:Vi==="#"&&/[boxX]/.test($i)?"0"+$i.toLowerCase():"",nu=Vi==="$"?Pn:/[%p]/.test($i)?kr:"",Eo=z[$i],Qo=/[defgprs%]/.test($i);Hs=Hs===void 0?6:/[gprs]/.test($i)?Math.max(1,Math.min(21,Hs)):Math.max(0,Math.min(20,Hs));function Mo(Ei){var No=ts,ns=nu,ys,Ro,Ba;if($i==="c")ns=Eo(Ei)+ns,Ei="";else{Ei=+Ei;var ja=Ei<0||1/Ei<0;if(Ei=isNaN(Ei)?$s:Eo(Math.abs(Ei),Hs),qi&&(Ei=q(Ei)),ja&&+Ei==0&&si!=="+"&&(ja=!1),No=(ja?si==="("?si:es:si==="-"||si==="("?"":si)+No,ns=($i==="s"?Y[8+N/3]:"")+ns+(ja&&si==="("?")":""),Qo){for(ys=-1,Ro=Ei.length;++ys<Ro;)if(Ba=Ei.charCodeAt(ys),48>Ba||Ba>57){ns=(Ba===46?Ur+Ei.slice(ys+1):Ei.slice(ys))+ns,Ei=Ei.slice(0,ys);break}}}Wo&&!Fo&&(Ei=Qt(Ei,1/0));var lo=No.length+Ei.length+ns.length,Gs=lo<Vo?new Array(Vo-lo+1).join(go):"";switch(Wo&&Fo&&(Ei=Qt(Gs+Ei,Gs.length?Vo-ns.length:1/0),Gs=""),Xr){case"<":Ei=No+Ei+ns+Gs;break;case"=":Ei=No+Gs+Ei+ns;break;case"^":Ei=Gs.slice(0,lo=Gs.length>>1)+No+Ei+ns+Gs.slice(lo);break;default:Ei=Gs+No+Ei+ns;break}return wr(Ei)}return Mo.toString=function(){return zs+""},Mo}function Js(zs,go){var Xr=Ls((zs=D(zs),zs.type="f",zs)),si=Math.max(-8,Math.min(8,Math.floor(p(go)/3)))*3,Vi=Math.pow(10,-si),Fo=Y[8+si/3];return function(Vo){return Xr(Vi*Vo)+Fo}}return{format:Ls,formatPrefix:Js}}var me,Be,tt;st({thousands:",",grouping:[3],currency:["$",""]});function st(Je){return me=fe(Je),Be=me.format,tt=me.formatPrefix,me}function Qe(Je){return Math.max(0,-p(Math.abs(Je)))}function mt(Je,Qt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(p(Qt)/3)))*3-p(Math.abs(Je)))}function Lt(Je,Qt){return Je=Math.abs(Je),Qt=Math.abs(Qt)-Je,Math.max(0,p(Qt)-p(Je))+1}function je(Je,Qt){return Tn=>{let Pn=Je(Tn),Ur=Pn.indexOf(Qt);if(Ur<0)return Pn;let wr=Z(Pn,Ur),kr=wr<Pn.length?Pn.slice(wr):"";for(;--wr>Ur;)if(Pn[wr]!=="0"){++wr;break}return Pn.slice(0,wr)+kr}}function Z(Je,Qt){let Tn=Je.lastIndexOf("e"),Pn;if(Tn>0)return Tn;for(Tn=Je.length;--Tn>Qt;)if(Pn=Je.charCodeAt(Tn),Pn>=48&&Pn<=57)return Tn+1}function Ke(Je){let Qt=r(Je.format),Tn=Je.formatPrefix;return{format:Qt,formatPrefix:Tn,formatFloat(Pn){let Ur=D(Pn||",");if(Ur.precision==null){switch(Ur.precision=12,Ur.type){case"%":Ur.precision-=2;break;case"e":Ur.precision-=1;break}return je(Qt(Ur),Qt(".1f")(1)[1])}else return Qt(Ur)},formatSpan(Pn,Ur,wr,kr){kr=D(kr??",f");let es=a(Pn,Ur,wr),$s=Math.max(Math.abs(Pn),Math.abs(Ur)),Ls;if(kr.precision==null)switch(kr.type){case"s":return isNaN(Ls=mt(es,$s))||(kr.precision=Ls),Tn(kr,$s);case"":case"e":case"g":case"p":case"r":{isNaN(Ls=Lt(es,$s))||(kr.precision=Ls-(kr.type==="e"));break}case"f":case"%":{isNaN(Ls=Qe(es))||(kr.precision=Ls-(kr.type==="%")*2);break}}return Qt(kr)}}}let _e;De();function De(){return _e=Ke({format:Be,formatPrefix:tt})}function be(Je){return Ke(fe(Je))}function de(Je){return arguments.length?_e=be(Je):_e}var Ge=new Date,rt=new Date;function Bt(Je,Qt,Tn,Pn){function Ur(wr){return Je(wr=arguments.length===0?new Date:new Date(+wr)),wr}return Ur.floor=function(wr){return Je(wr=new Date(+wr)),wr},Ur.ceil=function(wr){return Je(wr=new Date(wr-1)),Qt(wr,1),Je(wr),wr},Ur.round=function(wr){var kr=Ur(wr),es=Ur.ceil(wr);return wr-kr<es-wr?kr:es},Ur.offset=function(wr,kr){return Qt(wr=new Date(+wr),kr==null?1:Math.floor(kr)),wr},Ur.range=function(wr,kr,es){var $s=[],Ls;if(wr=Ur.ceil(wr),es=es==null?1:Math.floor(es),!(wr<kr)||!(es>0))return $s;do $s.push(Ls=new Date(+wr)),Qt(wr,es),Je(wr);while(Ls<wr&&wr<kr);return $s},Ur.filter=function(wr){return Bt(function(kr){if(kr>=kr)for(;Je(kr),!wr(kr);)kr.setTime(kr-1)},function(kr,es){if(kr>=kr)if(es<0)for(;++es<=0;)for(;Qt(kr,-1),!wr(kr););else for(;--es>=0;)for(;Qt(kr,1),!wr(kr););})},Tn&&(Ur.count=function(wr,kr){return Ge.setTime(+wr),rt.setTime(+kr),Je(Ge),Je(rt),Math.floor(Tn(Ge,rt))},Ur.every=function(wr){return wr=Math.floor(wr),!isFinite(wr)||!(wr>0)?null:wr>1?Ur.filter(Pn?function(kr){return Pn(kr)%wr===0}:function(kr){return Ur.count(0,kr)%wr===0}):Ur}),Ur}let un=1e3*60,Rt=un*60*24,Gt=Rt*7;var xt=Bt(Je=>Je.setHours(0,0,0,0),(Je,Qt)=>Je.setDate(Je.getDate()+Qt),(Je,Qt)=>(Qt-Je-(Qt.getTimezoneOffset()-Je.getTimezoneOffset())*un)/Rt,Je=>Je.getDate()-1),ve=xt;function Oe(Je){return Bt(function(Qt){Qt.setDate(Qt.getDate()-(Qt.getDay()+7-Je)%7),Qt.setHours(0,0,0,0)},function(Qt,Tn){Qt.setDate(Qt.getDate()+Tn*7)},function(Qt,Tn){return(Tn-Qt-(Tn.getTimezoneOffset()-Qt.getTimezoneOffset())*un)/Gt})}var xe=Oe(0),le=Oe(1);Oe(2),Oe(3);var Ye=Oe(4);Oe(5),Oe(6);var Ve=Bt(function(Je){Je.setMonth(0,1),Je.setHours(0,0,0,0)},function(Je,Qt){Je.setFullYear(Je.getFullYear()+Qt)},function(Je,Qt){return Qt.getFullYear()-Je.getFullYear()},function(Je){return Je.getFullYear()});Ve.every=function(Je){return!isFinite(Je=Math.floor(Je))||!(Je>0)?null:Bt(function(Qt){Qt.setFullYear(Math.floor(Qt.getFullYear()/Je)*Je),Qt.setMonth(0,1),Qt.setHours(0,0,0,0)},function(Qt,Tn){Qt.setFullYear(Qt.getFullYear()+Tn*Je)})};var te=Ve,Ae=Bt(function(Je){Je.setUTCHours(0,0,0,0)},function(Je,Qt){Je.setUTCDate(Je.getUTCDate()+Qt)},function(Je,Qt){return(Qt-Je)/Rt},function(Je){return Je.getUTCDate()-1}),Xe=Ae;function ot(Je){return Bt(function(Qt){Qt.setUTCDate(Qt.getUTCDate()-(Qt.getUTCDay()+7-Je)%7),Qt.setUTCHours(0,0,0,0)},function(Qt,Tn){Qt.setUTCDate(Qt.getUTCDate()+Tn*7)},function(Qt,Tn){return(Tn-Qt)/Gt})}var Ct=ot(0),$t=ot(1);ot(2),ot(3);var Ut=ot(4);ot(5),ot(6);var sn=Bt(function(Je){Je.setUTCMonth(0,1),Je.setUTCHours(0,0,0,0)},function(Je,Qt){Je.setUTCFullYear(Je.getUTCFullYear()+Qt)},function(Je,Qt){return Qt.getUTCFullYear()-Je.getUTCFullYear()},function(Je){return Je.getUTCFullYear()});sn.every=function(Je){return!isFinite(Je=Math.floor(Je))||!(Je>0)?null:Bt(function(Qt){Qt.setUTCFullYear(Math.floor(Qt.getUTCFullYear()/Je)*Je),Qt.setUTCMonth(0,1),Qt.setUTCHours(0,0,0,0)},function(Qt,Tn){Qt.setUTCFullYear(Qt.getUTCFullYear()+Tn*Je)})};var ln=sn;function cn(Je){if(0<=Je.y&&Je.y<100){var Qt=new Date(-1,Je.m,Je.d,Je.H,Je.M,Je.S,Je.L);return Qt.setFullYear(Je.y),Qt}return new Date(Je.y,Je.m,Je.d,Je.H,Je.M,Je.S,Je.L)}function Ft(Je){if(0<=Je.y&&Je.y<100){var Qt=new Date(Date.UTC(-1,Je.m,Je.d,Je.H,Je.M,Je.S,Je.L));return Qt.setUTCFullYear(Je.y),Qt}return new Date(Date.UTC(Je.y,Je.m,Je.d,Je.H,Je.M,Je.S,Je.L))}function nn(Je,Qt,Tn){return{y:Je,m:Qt,d:Tn,H:0,M:0,S:0,L:0}}function An(Je){var Qt=Je.dateTime,Tn=Je.date,Pn=Je.time,Ur=Je.periods,wr=Je.days,kr=Je.shortDays,es=Je.months,$s=Je.shortMonths,Ls=lt(Ur),Js=ct(Ur),zs=lt(wr),go=ct(wr),Xr=lt(kr),si=ct(kr),Vi=lt(es),Fo=ct(es),Vo=lt($s),Wo=ct($s),Hs={a:ja,A:lo,b:Gs,B:wa,c:null,d:gt,e:gt,f:et,g:$,G:he,H:wt,I:ee,j:Ee,L:$e,m:It,M:Kt,p:ru,q:qa,Q:br,s:Zr,S:mn,u:fn,U:dn,V:we,w:Pe,W:Et,x:null,X:null,y:O,Y:ge,Z:Q,"%":rr},qi={a:ra,A:Aa,b:Yu,B:$l,c:null,d:oe,e:oe,f:tn,g:On,G:Mr,H:ae,I:ze,j:Ot,L:vt,m:E,M:P,p:Lo,q:Cl,Q:br,s:Zr,S:X,u:ye,U:ut,V:Vt,w:zt,W:an,x:null,X:null,y:Dn,Y:In,Z:Dr,"%":rr},$i={a:Mo,A:Ei,b:No,B:ns,c:ys,d:Ie,e:Ie,f:ne,g:zn,G:bn,H:St,I:St,j:Ze,L:at,m:se,M:rn,p:Qo,q:ht,Q:Me,s:ft,S:Xt,u:qt,U:gn,V:kn,w:Yt,W:qn,x:Ro,X:Ba,y:zn,Y:bn,Z:He,"%":Se};Hs.x=ts(Tn,Hs),Hs.X=ts(Pn,Hs),Hs.c=ts(Qt,Hs),qi.x=ts(Tn,qi),qi.X=ts(Pn,qi),qi.c=ts(Qt,qi);function ts(Gr,Ii){return function(ji){var tr=[],Bi=-1,Ne=0,dt=Gr.length,Ht,Mt,on;for(ji instanceof Date||(ji=new Date(+ji));++Bi<dt;)Gr.charCodeAt(Bi)===37&&(tr.push(Gr.slice(Ne,Bi)),(Mt=$n[Ht=Gr.charAt(++Bi)])!=null?Ht=Gr.charAt(++Bi):Mt=Ht==="e"?" ":"0",(on=Ii[Ht])&&(Ht=on(ji,Mt)),tr.push(Ht),Ne=Bi+1);return tr.push(Gr.slice(Ne,Bi)),tr.join("")}}function nu(Gr,Ii){return function(ji){var tr=nn(1900,void 0,1),Bi=Eo(tr,Gr,ji+="",0),Ne,dt;if(Bi!=ji.length)return null;if("Q"in tr)return new Date(tr.Q);if("s"in tr)return new Date(tr.s*1e3+("L"in tr?tr.L:0));if(Ii&&!("Z"in tr)&&(tr.Z=0),"p"in tr&&(tr.H=tr.H%12+tr.p*12),tr.m===void 0&&(tr.m="q"in tr?tr.q:0),"V"in tr){if(tr.V<1||tr.V>53)return null;"w"in tr||(tr.w=1),"Z"in tr?(Ne=Ft(nn(tr.y,0,1)),dt=Ne.getUTCDay(),Ne=dt>4||dt===0?$t.ceil(Ne):$t(Ne),Ne=Xe.offset(Ne,(tr.V-1)*7),tr.y=Ne.getUTCFullYear(),tr.m=Ne.getUTCMonth(),tr.d=Ne.getUTCDate()+(tr.w+6)%7):(Ne=cn(nn(tr.y,0,1)),dt=Ne.getDay(),Ne=dt>4||dt===0?le.ceil(Ne):le(Ne),Ne=ve.offset(Ne,(tr.V-1)*7),tr.y=Ne.getFullYear(),tr.m=Ne.getMonth(),tr.d=Ne.getDate()+(tr.w+6)%7)}else("W"in tr||"U"in tr)&&("w"in tr||(tr.w="u"in tr?tr.u%7:"W"in tr?1:0),dt="Z"in tr?Ft(nn(tr.y,0,1)).getUTCDay():cn(nn(tr.y,0,1)).getDay(),tr.m=0,tr.d="W"in tr?(tr.w+6)%7+tr.W*7-(dt+5)%7:tr.w+tr.U*7-(dt+6)%7);return"Z"in tr?(tr.H+=tr.Z/100|0,tr.M+=tr.Z%100,Ft(tr)):cn(tr)}}function Eo(Gr,Ii,ji,tr){for(var Bi=0,Ne=Ii.length,dt=ji.length,Ht,Mt;Bi<Ne;){if(tr>=dt)return-1;if(Ht=Ii.charCodeAt(Bi++),Ht===37){if(Ht=Ii.charAt(Bi++),Mt=$i[Ht in $n?Ii.charAt(Bi++):Ht],!Mt||(tr=Mt(Gr,ji,tr))<0)return-1}else if(Ht!=ji.charCodeAt(tr++))return-1}return tr}function Qo(Gr,Ii,ji){var tr=Ls.exec(Ii.slice(ji));return tr?(Gr.p=Js.get(tr[0].toLowerCase()),ji+tr[0].length):-1}function Mo(Gr,Ii,ji){var tr=Xr.exec(Ii.slice(ji));return tr?(Gr.w=si.get(tr[0].toLowerCase()),ji+tr[0].length):-1}function Ei(Gr,Ii,ji){var tr=zs.exec(Ii.slice(ji));return tr?(Gr.w=go.get(tr[0].toLowerCase()),ji+tr[0].length):-1}function No(Gr,Ii,ji){var tr=Vo.exec(Ii.slice(ji));return tr?(Gr.m=Wo.get(tr[0].toLowerCase()),ji+tr[0].length):-1}function ns(Gr,Ii,ji){var tr=Vi.exec(Ii.slice(ji));return tr?(Gr.m=Fo.get(tr[0].toLowerCase()),ji+tr[0].length):-1}function ys(Gr,Ii,ji){return Eo(Gr,Qt,Ii,ji)}function Ro(Gr,Ii,ji){return Eo(Gr,Tn,Ii,ji)}function Ba(Gr,Ii,ji){return Eo(Gr,Pn,Ii,ji)}function ja(Gr){return kr[Gr.getDay()]}function lo(Gr){return wr[Gr.getDay()]}function Gs(Gr){return $s[Gr.getMonth()]}function wa(Gr){return es[Gr.getMonth()]}function ru(Gr){return Ur[+(Gr.getHours()>=12)]}function qa(Gr){return 1+~~(Gr.getMonth()/3)}function ra(Gr){return kr[Gr.getUTCDay()]}function Aa(Gr){return wr[Gr.getUTCDay()]}function Yu(Gr){return $s[Gr.getUTCMonth()]}function $l(Gr){return es[Gr.getUTCMonth()]}function Lo(Gr){return Ur[+(Gr.getUTCHours()>=12)]}function Cl(Gr){return 1+~~(Gr.getUTCMonth()/3)}return{format:function(Gr){var Ii=ts(Gr+="",Hs);return Ii.toString=function(){return Gr},Ii},parse:function(Gr){var Ii=nu(Gr+="",!1);return Ii.toString=function(){return Gr},Ii},utcFormat:function(Gr){var Ii=ts(Gr+="",qi);return Ii.toString=function(){return Gr},Ii},utcParse:function(Gr){var Ii=nu(Gr+="",!0);return Ii.toString=function(){return Gr},Ii}}}var $n={"-":"",_:" ","0":"0"},Cn=/^\s*\d+/,Fe=/^%/,qe=/[\\^$*+?|[\]().{}]/g;function Ce(Je,Qt,Tn){var Pn=Je<0?"-":"",Ur=(Pn?-Je:Je)+"",wr=Ur.length;return Pn+(wr<Tn?new Array(Tn-wr+1).join(Qt)+Ur:Ur)}function Dt(Je){return Je.replace(qe,"\\$&")}function lt(Je){return new RegExp("^(?:"+Je.map(Dt).join("|")+")","i")}function ct(Je){return new Map(Je.map((Qt,Tn)=>[Qt.toLowerCase(),Tn]))}function Yt(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+1));return Pn?(Je.w=+Pn[0],Tn+Pn[0].length):-1}function qt(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+1));return Pn?(Je.u=+Pn[0],Tn+Pn[0].length):-1}function gn(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.U=+Pn[0],Tn+Pn[0].length):-1}function kn(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.V=+Pn[0],Tn+Pn[0].length):-1}function qn(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.W=+Pn[0],Tn+Pn[0].length):-1}function bn(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+4));return Pn?(Je.y=+Pn[0],Tn+Pn[0].length):-1}function zn(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.y=+Pn[0]+(+Pn[0]>68?1900:2e3),Tn+Pn[0].length):-1}function He(Je,Qt,Tn){var Pn=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Qt.slice(Tn,Tn+6));return Pn?(Je.Z=Pn[1]?0:-(Pn[2]+(Pn[3]||"00")),Tn+Pn[0].length):-1}function ht(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+1));return Pn?(Je.q=Pn[0]*3-3,Tn+Pn[0].length):-1}function se(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.m=Pn[0]-1,Tn+Pn[0].length):-1}function Ie(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.d=+Pn[0],Tn+Pn[0].length):-1}function Ze(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+3));return Pn?(Je.m=0,Je.d=+Pn[0],Tn+Pn[0].length):-1}function St(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.H=+Pn[0],Tn+Pn[0].length):-1}function rn(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.M=+Pn[0],Tn+Pn[0].length):-1}function Xt(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+2));return Pn?(Je.S=+Pn[0],Tn+Pn[0].length):-1}function at(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+3));return Pn?(Je.L=+Pn[0],Tn+Pn[0].length):-1}function ne(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn,Tn+6));return Pn?(Je.L=Math.floor(Pn[0]/1e3),Tn+Pn[0].length):-1}function Se(Je,Qt,Tn){var Pn=Fe.exec(Qt.slice(Tn,Tn+1));return Pn?Tn+Pn[0].length:-1}function Me(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn));return Pn?(Je.Q=+Pn[0],Tn+Pn[0].length):-1}function ft(Je,Qt,Tn){var Pn=Cn.exec(Qt.slice(Tn));return Pn?(Je.s=+Pn[0],Tn+Pn[0].length):-1}function gt(Je,Qt){return Ce(Je.getDate(),Qt,2)}function wt(Je,Qt){return Ce(Je.getHours(),Qt,2)}function ee(Je,Qt){return Ce(Je.getHours()%12||12,Qt,2)}function Ee(Je,Qt){return Ce(1+ve.count(te(Je),Je),Qt,3)}function $e(Je,Qt){return Ce(Je.getMilliseconds(),Qt,3)}function et(Je,Qt){return $e(Je,Qt)+"000"}function It(Je,Qt){return Ce(Je.getMonth()+1,Qt,2)}function Kt(Je,Qt){return Ce(Je.getMinutes(),Qt,2)}function mn(Je,Qt){return Ce(Je.getSeconds(),Qt,2)}function fn(Je){var Qt=Je.getDay();return Qt===0?7:Qt}function dn(Je,Qt){return Ce(xe.count(te(Je)-1,Je),Qt,2)}function Rn(Je){var Qt=Je.getDay();return Qt>=4||Qt===0?Ye(Je):Ye.ceil(Je)}function we(Je,Qt){return Je=Rn(Je),Ce(Ye.count(te(Je),Je)+(te(Je).getDay()===4),Qt,2)}function Pe(Je){return Je.getDay()}function Et(Je,Qt){return Ce(le.count(te(Je)-1,Je),Qt,2)}function O(Je,Qt){return Ce(Je.getFullYear()%100,Qt,2)}function $(Je,Qt){return Je=Rn(Je),Ce(Je.getFullYear()%100,Qt,2)}function ge(Je,Qt){return Ce(Je.getFullYear()%1e4,Qt,4)}function he(Je,Qt){var Tn=Je.getDay();return Je=Tn>=4||Tn===0?Ye(Je):Ye.ceil(Je),Ce(Je.getFullYear()%1e4,Qt,4)}function Q(Je){var Qt=Je.getTimezoneOffset();return(Qt>0?"-":(Qt*=-1,"+"))+Ce(Qt/60|0,"0",2)+Ce(Qt%60,"0",2)}function oe(Je,Qt){return Ce(Je.getUTCDate(),Qt,2)}function ae(Je,Qt){return Ce(Je.getUTCHours(),Qt,2)}function ze(Je,Qt){return Ce(Je.getUTCHours()%12||12,Qt,2)}function Ot(Je,Qt){return Ce(1+Xe.count(ln(Je),Je),Qt,3)}function vt(Je,Qt){return Ce(Je.getUTCMilliseconds(),Qt,3)}function tn(Je,Qt){return vt(Je,Qt)+"000"}function E(Je,Qt){return Ce(Je.getUTCMonth()+1,Qt,2)}function P(Je,Qt){return Ce(Je.getUTCMinutes(),Qt,2)}function X(Je,Qt){return Ce(Je.getUTCSeconds(),Qt,2)}function ye(Je){var Qt=Je.getUTCDay();return Qt===0?7:Qt}function ut(Je,Qt){return Ce(Ct.count(ln(Je)-1,Je),Qt,2)}function bt(Je){var Qt=Je.getUTCDay();return Qt>=4||Qt===0?Ut(Je):Ut.ceil(Je)}function Vt(Je,Qt){return Je=bt(Je),Ce(Ut.count(ln(Je),Je)+(ln(Je).getUTCDay()===4),Qt,2)}function zt(Je){return Je.getUTCDay()}function an(Je,Qt){return Ce($t.count(ln(Je)-1,Je),Qt,2)}function Dn(Je,Qt){return Ce(Je.getUTCFullYear()%100,Qt,2)}function On(Je,Qt){return Je=bt(Je),Ce(Je.getUTCFullYear()%100,Qt,2)}function In(Je,Qt){return Ce(Je.getUTCFullYear()%1e4,Qt,4)}function Mr(Je,Qt){var Tn=Je.getUTCDay();return Je=Tn>=4||Tn===0?Ut(Je):Ut.ceil(Je),Ce(Je.getUTCFullYear()%1e4,Qt,4)}function Dr(){return"+0000"}function rr(){return"%"}function br(Je){return+Je}function Zr(Je){return Math.floor(+Je/1e3)}var Wr,Ti,Ki,Ni,ta;na({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function na(Je){return Wr=An(Je),Ti=Wr.format,Ki=Wr.parse,Ni=Wr.utcFormat,ta=Wr.utcParse,Wr}function Gu(Je,Qt,Tn){Tn=Tn||{},t.isObject(Tn)||t.error(`Invalid time multi-format specifier: ${Tn}`);let Pn=Qt(e.SECONDS),Ur=Qt(e.MINUTES),wr=Qt(e.HOURS),kr=Qt(e.DATE),es=Qt(e.WEEK),$s=Qt(e.MONTH),Ls=Qt(e.QUARTER),Js=Qt(e.YEAR),zs=Je(Tn[e.MILLISECONDS]||".%L"),go=Je(Tn[e.SECONDS]||":%S"),Xr=Je(Tn[e.MINUTES]||"%I:%M"),si=Je(Tn[e.HOURS]||"%I %p"),Vi=Je(Tn[e.DATE]||Tn[e.DAY]||"%a %d"),Fo=Je(Tn[e.WEEK]||"%b %d"),Vo=Je(Tn[e.MONTH]||"%B"),Wo=Je(Tn[e.QUARTER]||"%B"),Hs=Je(Tn[e.YEAR]||"%Y");return qi=>(Pn(qi)<qi?zs:Ur(qi)<qi?go:wr(qi)<qi?Xr:kr(qi)<qi?si:$s(qi)<qi?es(qi)<qi?Vi:Fo:Js(qi)<qi?Ls(qi)<qi?Vo:Wo:Hs)(qi)}function hc(Je){let Qt=r(Je.format),Tn=r(Je.utcFormat);return{timeFormat:Pn=>t.isString(Pn)?Qt(Pn):Gu(Qt,e.timeInterval,Pn),utcFormat:Pn=>t.isString(Pn)?Tn(Pn):Gu(Tn,e.utcInterval,Pn),timeParse:r(Je.parse),utcParse:r(Je.utcParse)}}let eu;tu();function tu(){return eu=hc({format:Ti,parse:Ki,utcFormat:Ni,utcParse:ta})}function Sl(Je){return hc(An(Je))}function gu(Je){return arguments.length?eu=Sl(Je):eu}let pc=(Je,Qt)=>t.extend({},Je,Qt);function To(Je,Qt){let Tn=Je?be(Je):de(),Pn=Qt?Sl(Qt):gu();return pc(Tn,Pn)}function Ru(Je,Qt){let Tn=arguments.length;return Tn&&Tn!==2&&t.error("defaultLocale expects either zero or two arguments."),Tn?pc(de(Je),gu(Qt)):pc(de(),gu())}function zc(){return De(),tu(),Ru()}n.defaultLocale=Ru,n.locale=To,n.numberFormatDefaultLocale=de,n.numberFormatLocale=be,n.resetDefaultLocale=zc,n.resetNumberFormatDefaultLocale=De,n.resetTimeFormatDefaultLocale=tu,n.timeFormatDefaultLocale=gu,n.timeFormatLocale=Sl,Object.defineProperty(n,"__esModule",{value:!0})})});var jH=G((BH,sPe)=>{d();(function(n,e){typeof BH=="object"&&typeof sPe!="undefined"?e(BH,Ma(),nPe(),LO()):typeof define=="function"&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.topojson,n.vega))})(BH,function(n,e,t,r){"use strict";let i=/^(data:|([A-Za-z]+:)?\/\/)/,s=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,a="file://";function l(xe,le){return Ye=>({options:Ye||{},sanitize:p,load:f,fileAccess:!!le,file:v(le),http:F(xe)})}async function f(xe,le){let Ye=await this.sanitize(xe,le),Ve=Ye.href;return Ye.localFile?this.file(Ve):this.http(Ve,le)}async function p(xe,le){le=e.extend({},this.options,le);let Ye=this.fileAccess,Ve={href:null},te,Ae,Xe,ot=s.test(xe.replace(o,""));(xe==null||typeof xe!="string"||!ot)&&e.error("Sanitize failure, invalid URI: "+e.stringValue(xe));let Ct=i.test(xe);return(Xe=le.baseURL)&&!Ct&&(!xe.startsWith("/")&&!Xe.endsWith("/")&&(xe="/"+xe),xe=Xe+xe),Ae=(te=xe.startsWith(a))||le.mode==="file"||le.mode!=="http"&&!Ct&&Ye,te?xe=xe.slice(a.length):xe.startsWith("//")&&(le.defaultProtocol==="file"?(xe=xe.slice(2),Ae=!0):xe=(le.defaultProtocol||"http")+":"+xe),Object.defineProperty(Ve,"localFile",{value:!!Ae}),Ve.href=xe,le.target&&(Ve.target=le.target+""),le.rel&&(Ve.rel=le.rel+""),le.context==="image"&&le.crossOrigin&&(Ve.crossOrigin=le.crossOrigin+""),Ve}function v(xe){return xe?le=>new Promise((Ye,Ve)=>{xe.readFile(le,(te,Ae)=>{te?Ve(te):Ye(Ae)})}):b}async function b(){e.error("No file system access.")}function F(xe){return xe?async function(le,Ye){let Ve=e.extend({},this.options.http,Ye),te=Ye&&Ye.response,Ae=await xe(le,Ve);return Ae.ok?e.isFunction(Ae[te])?Ae[te]():Ae.text():e.error(Ae.status+""+Ae.statusText)}:D}async function D(){e.error("No HTTP fetch method available.")}let M=xe=>xe!=null&&xe===xe,q=xe=>xe==="true"||xe==="false"||xe===!0||xe===!1,N=xe=>!Number.isNaN(Date.parse(xe)),B=xe=>!Number.isNaN(+xe)&&!(xe instanceof Date),I=xe=>B(xe)&&Number.isInteger(+xe),z={boolean:e.toBoolean,integer:e.toNumber,number:e.toNumber,date:e.toDate,string:e.toString,unknown:e.identity},ie=[q,I,B,N],L=["boolean","integer","number","date"];function Y(xe,le){if(!xe||!xe.length)return"unknown";let Ye=xe.length,Ve=ie.length,te=ie.map((Ae,Xe)=>Xe+1);for(let Ae=0,Xe=0,ot,Ct;Ae<Ye;++Ae)for(Ct=le?xe[Ae][le]:xe[Ae],ot=0;ot<Ve;++ot)if(te[ot]&&M(Ct)&&!ie[ot](Ct)&&(te[ot]=0,++Xe,Xe===ie.length))return"string";return L[te.reduce((Ae,Xe)=>Ae===0?Xe:Ae,0)-1]}function fe(xe,le){return le.reduce((Ye,Ve)=>(Ye[Ve]=Y(xe,Ve),Ye),{})}var me={},Be={},tt=34,st=10,Qe=13;function mt(xe){return new Function("d","return {"+xe.map(function(le,Ye){return JSON.stringify(le)+": d["+Ye+'] || ""'}).join(",")+"}")}function Lt(xe,le){var Ye=mt(xe);return function(Ve,te){return le(Ye(Ve),te,xe)}}function je(xe){var le=Object.create(null),Ye=[];return xe.forEach(function(Ve){for(var te in Ve)te in le||Ye.push(le[te]=te)}),Ye}function Z(xe,le){var Ye=xe+"",Ve=Ye.length;return Ve<le?new Array(le-Ve+1).join(0)+Ye:Ye}function Ke(xe){return xe<0?"-"+Z(-xe,6):xe>9999?"+"+Z(xe,6):Z(xe,4)}function _e(xe){var le=xe.getUTCHours(),Ye=xe.getUTCMinutes(),Ve=xe.getUTCSeconds(),te=xe.getUTCMilliseconds();return isNaN(xe)?"Invalid Date":Ke(xe.getUTCFullYear())+"-"+Z(xe.getUTCMonth()+1,2)+"-"+Z(xe.getUTCDate(),2)+(te?"T"+Z(le,2)+":"+Z(Ye,2)+":"+Z(Ve,2)+"."+Z(te,3)+"Z":Ve?"T"+Z(le,2)+":"+Z(Ye,2)+":"+Z(Ve,2)+"Z":Ye||le?"T"+Z(le,2)+":"+Z(Ye,2)+"Z":"")}function De(xe){var le=new RegExp('["'+xe+`
\r]`),Ye=xe.charCodeAt(0);function Ve(sn,ln){var cn,Ft,nn=te(sn,function(An,$n){if(cn)return cn(An,$n-1);Ft=An,cn=ln?Lt(An,ln):mt(An)});return nn.columns=Ft||[],nn}function te(sn,ln){var cn=[],Ft=sn.length,nn=0,An=0,$n,Cn=Ft<=0,Fe=!1;sn.charCodeAt(Ft-1)===st&&--Ft,sn.charCodeAt(Ft-1)===Qe&&--Ft;function qe(){if(Cn)return Be;if(Fe)return Fe=!1,me;var Dt,lt=nn,ct;if(sn.charCodeAt(lt)===tt){for(;nn++<Ft&&sn.charCodeAt(nn)!==tt||sn.charCodeAt(++nn)===tt;);return(Dt=nn)>=Ft?Cn=!0:(ct=sn.charCodeAt(nn++))===st?Fe=!0:ct===Qe&&(Fe=!0,sn.charCodeAt(nn)===st&&++nn),sn.slice(lt+1,Dt-1).replace(/""/g,'"')}for(;nn<Ft;){if((ct=sn.charCodeAt(Dt=nn++))===st)Fe=!0;else if(ct===Qe)Fe=!0,sn.charCodeAt(nn)===st&&++nn;else if(ct!==Ye)continue;return sn.slice(lt,Dt)}return Cn=!0,sn.slice(lt,Ft)}for(;($n=qe())!==Be;){for(var Ce=[];$n!==me&&$n!==Be;)Ce.push($n),$n=qe();ln&&(Ce=ln(Ce,An++))==null||cn.push(Ce)}return cn}function Ae(sn,ln){return sn.map(function(cn){return ln.map(function(Ft){return Ut(cn[Ft])}).join(xe)})}function Xe(sn,ln){return ln==null&&(ln=je(sn)),[ln.map(Ut).join(xe)].concat(Ae(sn,ln)).join(`
`)}function ot(sn,ln){return ln==null&&(ln=je(sn)),Ae(sn,ln).join(`
`)}function Ct(sn){return sn.map($t).join(`
`)}function $t(sn){return sn.map(Ut).join(xe)}function Ut(sn){return sn==null?"":sn instanceof Date?_e(sn):le.test(sn+="")?'"'+sn.replace(/"/g,'""')+'"':sn}return{parse:Ve,parseRows:te,format:Xe,formatBody:ot,formatRows:Ct,formatRow:$t,formatValue:Ut}}function be(xe){let le=function(Ye,Ve){let te={delimiter:xe};return de(Ye,Ve?e.extend(Ve,te):te)};return le.responseType="text",le}function de(xe,le){return le.header&&(xe=le.header.map(e.stringValue).join(le.delimiter)+`
`+xe),De(le.delimiter).parse(xe+"")}de.responseType="text";function Ge(xe){return typeof Buffer=="function"&&e.isFunction(Buffer.isBuffer)?Buffer.isBuffer(xe):!1}function rt(xe,le){let Ye=le&&le.property?e.field(le.property):e.identity;return e.isObject(xe)&&!Ge(xe)?Bt(Ye(xe),le):Ye(JSON.parse(xe))}rt.responseType="json";function Bt(xe,le){return!e.isArray(xe)&&e.isIterable(xe)&&(xe=[...xe]),le&&le.copy?JSON.parse(JSON.stringify(xe)):xe}let _t={interior:(xe,le)=>xe!==le,exterior:(xe,le)=>xe===le};function un(xe,le){let Ye,Ve,te,Ae;return xe=rt(xe,le),le&&le.feature?(Ye=t.feature,te=le.feature):le&&le.mesh?(Ye=t.mesh,te=le.mesh,Ae=_t[le.filter]):e.error("Missing TopoJSON feature or mesh parameter."),Ve=(Ve=xe.objects[te])?Ye(xe,Ve,Ae):e.error("Invalid TopoJSON object: "+te),Ve&&Ve.features||[Ve]}un.responseType="json";let Tt={dsv:de,csv:be(","),tsv:be("	"),json:rt,topojson:un};function Rt(xe,le){return arguments.length>1?(Tt[xe]=le,this):e.hasOwnProperty(Tt,xe)?Tt[xe]:null}function Gt(xe){let le=Rt(xe);return le&&le.responseType||"text"}function xt(xe,le,Ye,Ve){le=le||{};let te=Rt(le.type||"json");return te||e.error("Unknown data format type: "+le.type),xe=te(xe,le),le.parse&&ve(xe,le.parse,Ye,Ve),e.hasOwnProperty(xe,"columns")&&delete xe.columns,xe}function ve(xe,le,Ye,Ve){if(!xe.length)return;let te=r.timeFormatDefaultLocale();Ye=Ye||te.timeParse,Ve=Ve||te.utcParse;let Ae=xe.columns||Object.keys(xe[0]),Xe,ot,Ct,$t,Ut,sn;le==="auto"&&(le=fe(xe,Ae)),Ae=Object.keys(le);let ln=Ae.map(cn=>{let Ft=le[cn],nn,An;if(Ft&&(Ft.startsWith("date:")||Ft.startsWith("utc:")))return nn=Ft.split(/:(.+)?/,2),An=nn[1],(An[0]==="'"&&An[An.length-1]==="'"||An[0]==='"'&&An[An.length-1]==='"')&&(An=An.slice(1,-1)),(nn[0]==="utc"?Ve:Ye)(An);if(!z[Ft])throw Error("Illegal format pattern: "+cn+":"+Ft);return z[Ft]});for(Ct=0,Ut=xe.length,sn=Ae.length;Ct<Ut;++Ct)for(Xe=xe[Ct],$t=0;$t<sn;++$t)ot=Ae[$t],Xe[ot]=ln[$t](Xe[ot])}let Oe=l(typeof fetch!="undefined"&&fetch,null);n.format=Tt,n.formats=Rt,n.inferType=Y,n.inferTypes=fe,n.loader=Oe,n.read=xt,n.responseType=Gt,n.typeParsers=z,Object.defineProperty(n,"__esModule",{value:!0})})});var qc=G((qH,oPe)=>{d();(function(n,e){typeof qH=="object"&&typeof oPe!="undefined"?e(qH,Ma(),jH(),LO()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(qH,function(n,e,t,r){"use strict";function i(He){let ht=He||e.identity,se=[],Ie={};return se.add=Ze=>{let St=ht(Ze);return Ie[St]||(Ie[St]=1,se.push(Ze)),se},se.remove=Ze=>{let St=ht(Ze);if(Ie[St]){Ie[St]=0;let rn=se.indexOf(Ze);rn>=0&&se.splice(rn,1)}return se},se}async function s(He,ht){try{await ht(He)}catch(se){He.error(se)}}let o=Symbol("vega_id"),a=1;function l(He){return!!(He&&f(He))}function f(He){return He[o]}function p(He,ht){return He[o]=ht,He}function v(He){let ht=He===Object(He)?He:{data:He};return f(ht)?ht:p(ht,a++)}function b(He){return F(He,v({}))}function F(He,ht){for(let se in He)ht[se]=He[se];return ht}function D(He,ht){return p(ht,f(He))}function M(He,ht){return He?ht?(se,Ie)=>He(se,Ie)||f(ht(se))-f(ht(Ie)):(se,Ie)=>He(se,Ie)||f(se)-f(Ie):null}function q(He){return He&&He.constructor===N}function N(){let He=[],ht=[],se=[],Ie=[],Ze=[],St=null,rn=!1;return{constructor:N,insert(Xt){let at=e.array(Xt),ne=at.length;for(let Se=0;Se<ne;++Se)He.push(at[Se]);return this},remove(Xt){let at=e.isFunction(Xt)?Ie:ht,ne=e.array(Xt),Se=ne.length;for(let Me=0;Me<Se;++Me)at.push(ne[Me]);return this},modify(Xt,at,ne){let Se={field:at,value:e.constant(ne)};return e.isFunction(Xt)?(Se.filter=Xt,Ze.push(Se)):(Se.tuple=Xt,se.push(Se)),this},encode(Xt,at){return e.isFunction(Xt)?Ze.push({filter:Xt,field:at}):se.push({tuple:Xt,field:at}),this},clean(Xt){return St=Xt,this},reflow(){return rn=!0,this},pulse(Xt,at){let ne={},Se={},Me,ft,gt,wt,ee,Ee;for(Me=0,ft=at.length;Me<ft;++Me)ne[f(at[Me])]=1;for(Me=0,ft=ht.length;Me<ft;++Me)ee=ht[Me],ne[f(ee)]=-1;for(Me=0,ft=Ie.length;Me<ft;++Me)wt=Ie[Me],at.forEach(et=>{wt(et)&&(ne[f(et)]=-1)});for(Me=0,ft=He.length;Me<ft;++Me)ee=He[Me],Ee=f(ee),ne[Ee]?ne[Ee]=1:Xt.add.push(v(He[Me]));for(Me=0,ft=at.length;Me<ft;++Me)ee=at[Me],ne[f(ee)]<0&&Xt.rem.push(ee);function $e(et,It,Kt){Kt?et[It]=Kt(et):Xt.encode=It,rn||(Se[f(et)]=et)}for(Me=0,ft=se.length;Me<ft;++Me)gt=se[Me],ee=gt.tuple,wt=gt.field,Ee=ne[f(ee)],Ee>0&&($e(ee,wt,gt.value),Xt.modifies(wt));for(Me=0,ft=Ze.length;Me<ft;++Me)gt=Ze[Me],wt=gt.filter,at.forEach(et=>{wt(et)&&ne[f(et)]>0&&$e(et,gt.field,gt.value)}),Xt.modifies(gt.field);if(rn)Xt.mod=ht.length||Ie.length?at.filter(et=>ne[f(et)]>0):at.slice();else for(Ee in Se)Xt.mod.push(Se[Ee]);return(St||St==null&&(ht.length||Ie.length))&&Xt.clean(!0),Xt}}}let B="_:mod:_";function I(){Object.defineProperty(this,B,{writable:!0,value:{}})}I.prototype={set(He,ht,se,Ie){let Ze=this,St=Ze[He],rn=Ze[B];return ht!=null&&ht>=0?(St[ht]!==se||Ie)&&(St[ht]=se,rn[ht+":"+He]=-1,rn[He]=-1):(St!==se||Ie)&&(Ze[He]=se,rn[He]=e.isArray(se)?1+se.length:-1),Ze},modified(He,ht){let se=this[B];if(arguments.length){if(e.isArray(He)){for(let Ie=0;Ie<He.length;++Ie)if(se[He[Ie]])return!0;return!1}}else{for(let Ie in se)if(se[Ie])return!0;return!1}return ht!=null&&ht>=0?ht+1<se[He]||!!se[ht+":"+He]:!!se[He]},clear(){return this[B]={},this}};let z=0,ie="pulse",L=new I,Y=1,fe=2;function me(He,ht,se,Ie){this.id=++z,this.value=He,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,ht&&(this._update=ht),se&&this.parameters(se,Ie)}function Be(He){return function(ht){let se=this.flags;return arguments.length===0?!!(se&He):(this.flags=ht?se|He:se&~He,this)}}me.prototype={targets(){return this._targets||(this._targets=i(e.id))},set(He){return this.value!==He?(this.value=He,1):0},skip:Be(Y),modified:Be(fe),parameters(He,ht,se){ht=ht!==!1;let Ie=this._argval=this._argval||new I,Ze=this._argops=this._argops||[],St=[],rn,Xt,at,ne,Se=(Me,ft,gt)=>{gt instanceof me?(gt!==this&&(ht&&gt.targets().add(this),St.push(gt)),Ze.push({op:gt,name:Me,index:ft})):Ie.set(Me,ft,gt)};for(rn in He)if(Xt=He[rn],rn===ie)e.array(Xt).forEach(Me=>{Me instanceof me?Me!==this&&(Me.targets().add(this),St.push(Me)):e.error("Pulse parameters must be operator instances.")}),this.source=Xt;else if(e.isArray(Xt))for(Ie.set(rn,-1,Array(at=Xt.length)),ne=0;ne<at;++ne)Se(rn,ne,Xt[ne]);else Se(rn,-1,Xt);return this.marshall().clear(),se&&(Ze.initonly=!0),St},marshall(He){let ht=this._argval||L,se=this._argops,Ie,Ze,St,rn;if(se){let Xt=se.length;for(Ze=0;Ze<Xt;++Ze)Ie=se[Ze],St=Ie.op,rn=St.modified()&&St.stamp===He,ht.set(Ie.name,Ie.index,St.value,rn);if(se.initonly){for(Ze=0;Ze<Xt;++Ze)Ie=se[Ze],Ie.op.targets().remove(this);this._argops=null,this._update=null}}return ht},detach(){let He=this._argops,ht,se,Ie,Ze;if(He)for(ht=0,se=He.length;ht<se;++ht)Ie=He[ht],Ze=Ie.op,Ze._targets&&Ze._targets.remove(this);this.pulse=null,this.source=null},evaluate(He){let ht=this._update;if(ht){let se=this.marshall(He.stamp),Ie=ht.call(this,se,He);if(se.clear(),Ie!==this.value)this.value=Ie;else if(!this.modified())return He.StopPropagation}},run(He){if(He.stamp<this.stamp)return He.StopPropagation;let ht;return this.skip()?(this.skip(!1),ht=0):ht=this.evaluate(He),this.pulse=ht||He}};function tt(He,ht,se,Ie){let Ze=1,St;return He instanceof me?St=He:He&&He.prototype instanceof me?St=new He:e.isFunction(He)?St=new me(null,He):(Ze=0,St=new me(He,ht)),this.rank(St),Ze&&(Ie=se,se=ht),se&&this.connect(St,St.parameters(se,Ie)),this.touch(St),St}function st(He,ht){let se=He.rank,Ie=ht.length;for(let Ze=0;Ze<Ie;++Ze)if(se<ht[Ze].rank){this.rerank(He);return}}let Qe=0;function mt(He,ht,se){this.id=++Qe,this.value=null,se&&(this.receive=se),He&&(this._filter=He),ht&&(this._apply=ht)}function Lt(He,ht,se){return new mt(He,ht,se)}mt.prototype={_filter:e.truthy,_apply:e.identity,targets(){return this._targets||(this._targets=i(e.id))},consume(He){return arguments.length?(this._consume=!!He,this):!!this._consume},receive(He){if(this._filter(He)){let ht=this.value=this._apply(He),se=this._targets,Ie=se?se.length:0;for(let Ze=0;Ze<Ie;++Ze)se[Ze].receive(ht);this._consume&&(He.preventDefault(),He.stopPropagation())}},filter(He){let ht=Lt(He);return this.targets().add(ht),ht},apply(He){let ht=Lt(null,He);return this.targets().add(ht),ht},merge(){let He=Lt();this.targets().add(He);for(let ht=0,se=arguments.length;ht<se;++ht)arguments[ht].targets().add(He);return He},throttle(He){let ht=-1;return this.filter(()=>{let se=Date.now();return se-ht>He?(ht=se,1):0})},debounce(He){let ht=Lt();return this.targets().add(Lt(null,null,e.debounce(He,se=>{let Ie=se.dataflow;ht.receive(se),Ie&&Ie.run&&Ie.run()}))),ht},between(He,ht){let se=!1;return He.targets().add(Lt(null,null,()=>se=!0)),ht.targets().add(Lt(null,null,()=>se=!1)),this.filter(()=>se)},detach(){this._filter=e.truthy,this._targets=null}};function je(He,ht,se,Ie){let Ze=this,St=Lt(se,Ie),rn=function(ne){ne.dataflow=Ze;try{St.receive(ne)}catch(Se){Ze.error(Se)}finally{Ze.run()}},Xt;typeof He=="string"&&typeof document!="undefined"?Xt=document.querySelectorAll(He):Xt=e.array(He);let at=Xt.length;for(let ne=0;ne<at;++ne)Xt[ne].addEventListener(ht,rn);return St}function Z(He,ht){let se=this.locale();return t.read(He,ht,se.timeParse,se.utcParse)}function Ke(He,ht,se){return ht=this.parse(ht,se),this.pulse(He,this.changeset().insert(ht))}async function _e(He,ht){let se=this,Ie=0,Ze;try{Ze=await se.loader().load(He,{context:"dataflow",response:t.responseType(ht&&ht.type)});try{Ze=se.parse(Ze,ht)}catch(St){Ie=-2,se.warn("Data ingestion failed",He,St)}}catch(St){Ie=-1,se.warn("Loading failed",He,St)}return{data:Ze,status:Ie}}async function De(He,ht,se){let Ie=this,Ze=Ie._pending||be(Ie);Ze.requests+=1;let St=await Ie.request(ht,se);return Ie.pulse(He,Ie.changeset().remove(e.truthy).insert(St.data||[])),Ze.done(),St}function be(He){let ht,se=new Promise(Ie=>ht=Ie);return se.requests=0,se.done=()=>{--se.requests===0&&(He._pending=null,ht(He))},He._pending=se}let de={skip:!0};function Ge(He,ht,se,Ie,Ze){return(He instanceof me?Bt:rt)(this,He,ht,se,Ie,Ze),this}function rt(He,ht,se,Ie,Ze,St){let rn=e.extend({},St,de),Xt,at;e.isFunction(se)||(se=e.constant(se)),Ie===void 0?Xt=ne=>He.touch(se(ne)):e.isFunction(Ie)?(at=new me(null,Ie,Ze,!1),Xt=ne=>{at.evaluate(ne);let Se=se(ne),Me=at.value;q(Me)?He.pulse(Se,Me,St):He.update(Se,Me,rn)}):Xt=ne=>He.update(se(ne),Ie,rn),ht.apply(Xt)}function Bt(He,ht,se,Ie,Ze,St){if(Ie===void 0)ht.targets().add(se);else{let rn=St||{},Xt=new me(null,_t(se,Ie),Ze,!1);Xt.modified(rn.force),Xt.rank=ht.rank,ht.targets().add(Xt),se&&(Xt.skip(!0),Xt.value=se.value,Xt.targets().add(se),He.connect(se,[Xt]))}}function _t(He,ht){return ht=e.isFunction(ht)?ht:e.constant(ht),He?function(se,Ie){let Ze=ht(se,Ie);return He.skip()||(He.skip(Ze!==this.value).value=Ze),Ze}:ht}function un(He){He.rank=++this._rank}function Tt(He){let ht=[He],se,Ie,Ze;for(;ht.length;)if(this.rank(se=ht.pop()),Ie=se._targets)for(Ze=Ie.length;--Ze>=0;)ht.push(se=Ie[Ze]),se===He&&e.error("Cycle detected in dataflow graph.")}let Rt={},Gt=1<<0,xt=1<<1,ve=1<<2,Oe=Gt|xt,xe=Gt|ve,le=Gt|xt|ve,Ye=1<<3,Ve=1<<4,te=1<<5,Ae=1<<6;function Xe(He,ht,se){this.dataflow=He,this.stamp=ht??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=se||null}function ot(He,ht){let se=[];return e.visitArray(He,ht,Ie=>se.push(Ie)),se}function Ct(He,ht){let se={};return He.visit(ht,Ie=>{se[f(Ie)]=1}),Ie=>se[f(Ie)]?null:Ie}function $t(He,ht){return He?(se,Ie)=>He(se,Ie)&&ht(se,Ie):ht}Xe.prototype={StopPropagation:Rt,ADD:Gt,REM:xt,MOD:ve,ADD_REM:Oe,ADD_MOD:xe,ALL:le,REFLOW:Ye,SOURCE:Ve,NO_SOURCE:te,NO_FIELDS:Ae,fork(He){return new Xe(this.dataflow).init(this,He)},clone(){let He=this.fork(le);return He.add=He.add.slice(),He.rem=He.rem.slice(),He.mod=He.mod.slice(),He.source&&(He.source=He.source.slice()),He.materialize(le|Ve)},addAll(){let He=this;return!He.source||He.add===He.rem||!He.rem.length&&He.source.length===He.add.length||(He=new Xe(this.dataflow).init(this),He.add=He.source,He.rem=[]),He},init(He,ht){let se=this;return se.stamp=He.stamp,se.encode=He.encode,He.fields&&!(ht&Ae)&&(se.fields=He.fields),ht&Gt?(se.addF=He.addF,se.add=He.add):(se.addF=null,se.add=[]),ht&xt?(se.remF=He.remF,se.rem=He.rem):(se.remF=null,se.rem=[]),ht&ve?(se.modF=He.modF,se.mod=He.mod):(se.modF=null,se.mod=[]),ht&te?(se.srcF=null,se.source=null):(se.srcF=He.srcF,se.source=He.source,He.cleans&&(se.cleans=He.cleans)),se},runAfter(He){this.dataflow.runAfter(He)},changed(He){let ht=He||le;return ht&Gt&&this.add.length||ht&xt&&this.rem.length||ht&ve&&this.mod.length},reflow(He){if(He)return this.fork(le).reflow();let ht=this.add.length,se=this.source&&this.source.length;return se&&se!==ht&&(this.mod=this.source,ht&&this.filter(ve,Ct(this,Gt))),this},clean(He){return arguments.length?(this.cleans=!!He,this):this.cleans},modifies(He){let ht=this.fields||(this.fields={});return e.isArray(He)?He.forEach(se=>ht[se]=!0):ht[He]=!0,this},modified(He,ht){let se=this.fields;return(ht||this.mod.length)&&se?arguments.length?e.isArray(He)?He.some(Ie=>se[Ie]):se[He]:!!se:!1},filter(He,ht){let se=this;return He&Gt&&(se.addF=$t(se.addF,ht)),He&xt&&(se.remF=$t(se.remF,ht)),He&ve&&(se.modF=$t(se.modF,ht)),He&Ve&&(se.srcF=$t(se.srcF,ht)),se},materialize(He){He=He||le;let ht=this;return He&Gt&&ht.addF&&(ht.add=ot(ht.add,ht.addF),ht.addF=null),He&xt&&ht.remF&&(ht.rem=ot(ht.rem,ht.remF),ht.remF=null),He&ve&&ht.modF&&(ht.mod=ot(ht.mod,ht.modF),ht.modF=null),He&Ve&&ht.srcF&&(ht.source=ht.source.filter(ht.srcF),ht.srcF=null),ht},visit(He,ht){let se=this,Ie=ht;if(He&Ve)return e.visitArray(se.source,se.srcF,Ie),se;He&Gt&&e.visitArray(se.add,se.addF,Ie),He&xt&&e.visitArray(se.rem,se.remF,Ie),He&ve&&e.visitArray(se.mod,se.modF,Ie);let Ze=se.source;if(He&Ye&&Ze){let St=se.add.length+se.mod.length;St===Ze.length||(St?e.visitArray(Ze,Ct(se,xe),Ie):e.visitArray(Ze,se.srcF,Ie))}return se}};function Ut(He,ht,se,Ie){let Ze=this,St=se.length,rn=0;this.dataflow=He,this.stamp=ht,this.fields=null,this.encode=Ie||null,this.pulses=se;for(let Xt=0;Xt<St;++Xt){let at=se[Xt];if(at.stamp===ht){if(at.fields){let ne=Ze.fields||(Ze.fields={});for(let Se in at.fields)ne[Se]=1}at.changed(Ze.ADD)&&(rn|=Ze.ADD),at.changed(Ze.REM)&&(rn|=Ze.REM),at.changed(Ze.MOD)&&(rn|=Ze.MOD)}}this.changes=rn}e.inherits(Ut,Xe,{fork(He){let ht=new Xe(this.dataflow).init(this,He&this.NO_FIELDS);return He!==void 0&&(He&ht.ADD&&this.visit(ht.ADD,se=>ht.add.push(se)),He&ht.REM&&this.visit(ht.REM,se=>ht.rem.push(se)),He&ht.MOD&&this.visit(ht.MOD,se=>ht.mod.push(se))),ht},changed(He){return this.changes&He},modified(He){let ht=this,se=ht.fields;return se&&ht.changes&ht.MOD?e.isArray(He)?He.some(Ie=>se[Ie]):se[He]:0},filter(){e.error("MultiPulse does not support filtering.")},materialize(){e.error("MultiPulse does not support materialization.")},visit(He,ht){let se=this,Ie=se.pulses,Ze=Ie.length,St=0;if(He&se.SOURCE)for(;St<Ze;++St)Ie[St].visit(He,ht);else for(;St<Ze;++St)Ie[St].stamp===se.stamp&&Ie[St].visit(He,ht);return se}});async function sn(He,ht,se){let Ie=this,Ze=[];if(Ie._pulse)return nn(Ie);if(Ie._pending&&await Ie._pending,ht&&await s(Ie,ht),!Ie._touched.length)return Ie.debug("Dataflow invoked, but nothing to do."),Ie;let St=++Ie._clock;Ie._pulse=new Xe(Ie,St,He),Ie._touched.forEach(Se=>Ie._enqueue(Se,!0)),Ie._touched=i(e.id);let rn=0,Xt,at,ne;try{for(;Ie._heap.size()>0;){if(Xt=Ie._heap.pop(),Xt.rank!==Xt.qrank){Ie._enqueue(Xt,!0);continue}at=Xt.run(Ie._getPulse(Xt,He)),at.then?at=await at:at.async&&(Ze.push(at.async),at=Rt),at!==Rt&&Xt._targets&&Xt._targets.forEach(Se=>Ie._enqueue(Se)),++rn}}catch(Se){Ie._heap.clear(),ne=Se}if(Ie._input={},Ie._pulse=null,Ie.debug(`Pulse ${St}: ${rn} operators`),ne&&(Ie._postrun=[],Ie.error(ne)),Ie._postrun.length){let Se=Ie._postrun.sort((Me,ft)=>ft.priority-Me.priority);Ie._postrun=[];for(let Me=0;Me<Se.length;++Me)await s(Ie,Se[Me].callback)}return se&&await s(Ie,se),Ze.length&&Promise.all(Ze).then(Se=>Ie.runAsync(null,()=>{Se.forEach(Me=>{try{Me(Ie)}catch(ft){Ie.error(ft)}})})),Ie}async function ln(He,ht,se){for(;this._running;)await this._running;let Ie=()=>this._running=null;return(this._running=this.evaluate(He,ht,se)).then(Ie,Ie),this._running}function cn(He,ht,se){return this._pulse?nn(this):(this.evaluate(He,ht,se),this)}function Ft(He,ht,se){if(this._pulse||ht)this._postrun.push({priority:se||0,callback:He});else try{He(this)}catch(Ie){this.error(Ie)}}function nn(He){return He.error("Dataflow already running. Use runAsync() to chain invocations."),He}function An(He,ht){let se=He.stamp<this._clock;se&&(He.stamp=this._clock),(se||ht)&&(He.qrank=He.rank,this._heap.push(He))}function $n(He,ht){let se=He.source,Ie=this._clock;return se&&e.isArray(se)?new Ut(this,Ie,se.map(Ze=>Ze.pulse),ht):this._input[He.id]||Cn(this._pulse,se&&se.pulse)}function Cn(He,ht){return ht&&ht.stamp===He.stamp?ht:(He=He.fork(),ht&&ht!==Rt&&(He.source=ht.source),He)}let Fe={skip:!1,force:!1};function qe(He,ht){let se=ht||Fe;return this._pulse?this._enqueue(He):this._touched.add(He),se.skip&&He.skip(!0),this}function Ce(He,ht,se){let Ie=se||Fe;return(He.set(ht)||Ie.force)&&this.touch(He,Ie),this}function Dt(He,ht,se){this.touch(He,se||Fe);let Ie=new Xe(this,this._clock+(this._pulse?0:1)),Ze=He.pulse&&He.pulse.source||[];return Ie.target=He,this._input[He.id]=ht.pulse(Ie,Ze),this}function lt(He){let ht=[];return{clear:()=>ht=[],size:()=>ht.length,peek:()=>ht[0],push:se=>(ht.push(se),ct(ht,0,ht.length-1,He)),pop:()=>{let se=ht.pop(),Ie;return ht.length?(Ie=ht[0],ht[0]=se,Yt(ht,0,He)):Ie=se,Ie}}}function ct(He,ht,se,Ie){let Ze,St,rn=He[se];for(;se>ht;){if(St=se-1>>1,Ze=He[St],Ie(rn,Ze)<0){He[se]=Ze,se=St;continue}break}return He[se]=rn}function Yt(He,ht,se){let Ie=ht,Ze=He.length,St=He[ht],rn=(ht<<1)+1,Xt;for(;rn<Ze;)Xt=rn+1,Xt<Ze&&se(He[rn],He[Xt])>=0&&(rn=Xt),He[ht]=He[rn],ht=rn,rn=(ht<<1)+1;return He[ht]=St,ct(He,Ie,ht,se)}function qt(){this.logger(e.logger()),this.logLevel(e.Error),this._clock=0,this._rank=0,this._locale=r.defaultLocale();try{this._loader=t.loader()}catch{}this._touched=i(e.id),this._input={},this._pulse=null,this._heap=lt((He,ht)=>He.qrank-ht.qrank),this._postrun=[]}function gn(He){return function(){return this._log[He].apply(this,arguments)}}qt.prototype={stamp(){return this._clock},loader(He){return arguments.length?(this._loader=He,this):this._loader},locale(He){return arguments.length?(this._locale=He,this):this._locale},logger(He){return arguments.length?(this._log=He,this):this._log},error:gn("error"),warn:gn("warn"),info:gn("info"),debug:gn("debug"),logLevel:gn("level"),cleanThreshold:1e4,add:tt,connect:st,rank:un,rerank:Tt,pulse:Dt,touch:qe,update:Ce,changeset:N,ingest:Ke,parse:Z,preload:De,request:_e,events:je,on:Ge,evaluate:sn,run:cn,runAsync:ln,runAfter:Ft,_enqueue:An,_getPulse:$n};function kn(He,ht){me.call(this,He,null,ht)}e.inherits(kn,me,{run(He){if(He.stamp<this.stamp)return He.StopPropagation;let ht;return this.skip()?this.skip(!1):ht=this.evaluate(He),ht=ht||He,ht.then?ht=ht.then(se=>this.pulse=se):ht!==He.StopPropagation&&(this.pulse=ht),ht},evaluate(He){let ht=this.marshall(He.stamp),se=this.transform(ht,He);return ht.clear(),se},transform(){}});let qn={};function bn(He){let ht=zn(He);return ht&&ht.Definition||null}function zn(He){return He=He&&He.toLowerCase(),e.hasOwnProperty(qn,He)?qn[He]:null}n.Dataflow=qt,n.EventStream=mt,n.MultiPulse=Ut,n.Operator=me,n.Parameters=I,n.Pulse=Xe,n.Transform=kn,n.UniqueList=i,n.asyncCallback=s,n.changeset=N,n.definition=bn,n.derive=b,n.ingest=v,n.isChangeSet=q,n.isTuple=l,n.rederive=F,n.replace=D,n.stableCompare=M,n.transform=zn,n.transforms=qn,n.tupleid=f,Object.defineProperty(n,"__esModule",{value:!0})})});var q6=G((UH,aPe)=>{d();(function(n,e){typeof UH=="object"&&typeof aPe!="undefined"?e(UH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(UH,function(n){"use strict";function*e(Fe,qe){if(qe==null)for(let Ce of Fe)Ce!=null&&Ce!==""&&(Ce=+Ce)>=Ce&&(yield Ce);else{let Ce=-1;for(let Dt of Fe)Dt=qe(Dt,++Ce,Fe),Dt!=null&&Dt!==""&&(Dt=+Dt)>=Dt&&(yield Dt)}}function t(Fe,qe){return Fe==null||qe==null?NaN:Fe<qe?-1:Fe>qe?1:Fe>=qe?0:NaN}function r(Fe){return Fe===null?NaN:+Fe}function*i(Fe,qe){if(qe===void 0)for(let Ce of Fe)Ce!=null&&(Ce=+Ce)>=Ce&&(yield Ce);else{let Ce=-1;for(let Dt of Fe)(Dt=qe(Dt,++Ce,Fe))!=null&&(Dt=+Dt)>=Dt&&(yield Dt)}}function s(Fe,qe){let Ce=0,Dt,lt=0,ct=0;if(qe===void 0)for(let Yt of Fe)Yt!=null&&(Yt=+Yt)>=Yt&&(Dt=Yt-lt,lt+=Dt/++Ce,ct+=Dt*(Yt-lt));else{let Yt=-1;for(let qt of Fe)(qt=qe(qt,++Yt,Fe))!=null&&(qt=+qt)>=qt&&(Dt=qt-lt,lt+=Dt/++Ce,ct+=Dt*(qt-lt))}if(Ce>1)return ct/(Ce-1)}function o(Fe,qe){let Ce=s(Fe,qe);return Ce&&Math.sqrt(Ce)}function a(Fe=t){if(Fe===t)return l;if(typeof Fe!="function")throw new TypeError("compare is not a function");return(qe,Ce)=>{let Dt=Fe(qe,Ce);return Dt||Dt===0?Dt:(Fe(Ce,Ce)===0)-(Fe(qe,qe)===0)}}function l(Fe,qe){return(Fe==null||!(Fe>=Fe))-(qe==null||!(qe>=qe))||(Fe<qe?-1:Fe>qe?1:0)}function f(Fe,qe){let Ce;if(qe===void 0)for(let Dt of Fe)Dt!=null&&(Ce<Dt||Ce===void 0&&Dt>=Dt)&&(Ce=Dt);else{let Dt=-1;for(let lt of Fe)(lt=qe(lt,++Dt,Fe))!=null&&(Ce<lt||Ce===void 0&&lt>=lt)&&(Ce=lt)}return Ce}function p(Fe,qe){let Ce;if(qe===void 0)for(let Dt of Fe)Dt!=null&&(Ce>Dt||Ce===void 0&&Dt>=Dt)&&(Ce=Dt);else{let Dt=-1;for(let lt of Fe)(lt=qe(lt,++Dt,Fe))!=null&&(Ce>lt||Ce===void 0&&lt>=lt)&&(Ce=lt)}return Ce}function v(Fe,qe,Ce=0,Dt=Fe.length-1,lt){for(lt=lt===void 0?l:a(lt);Dt>Ce;){if(Dt-Ce>600){let gn=Dt-Ce+1,kn=qe-Ce+1,qn=Math.log(gn),bn=.5*Math.exp(2*qn/3),zn=.5*Math.sqrt(qn*bn*(gn-bn)/gn)*(kn-gn/2<0?-1:1),He=Math.max(Ce,Math.floor(qe-kn*bn/gn+zn)),ht=Math.min(Dt,Math.floor(qe+(gn-kn)*bn/gn+zn));v(Fe,qe,He,ht,lt)}let ct=Fe[qe],Yt=Ce,qt=Dt;for(b(Fe,Ce,qe),lt(Fe[Dt],ct)>0&&b(Fe,Ce,Dt);Yt<qt;){for(b(Fe,Yt,qt),++Yt,--qt;lt(Fe[Yt],ct)<0;)++Yt;for(;lt(Fe[qt],ct)>0;)--qt}lt(Fe[Ce],ct)===0?b(Fe,Ce,qt):(++qt,b(Fe,qt,Dt)),qt<=qe&&(Ce=qt+1),qe<=qt&&(Dt=qt-1)}return Fe}function b(Fe,qe,Ce){let Dt=Fe[qe];Fe[qe]=Fe[Ce],Fe[Ce]=Dt}function F(Fe,qe,Ce){if(Fe=Float64Array.from(i(Fe,Ce)),!!(Dt=Fe.length)){if((qe=+qe)<=0||Dt<2)return p(Fe);if(qe>=1)return f(Fe);var Dt,lt=(Dt-1)*qe,ct=Math.floor(lt),Yt=f(v(Fe,ct).subarray(0,ct+1)),qt=p(Fe.subarray(ct+1));return Yt+(qt-Yt)*(lt-ct)}}function D(Fe,qe,Ce=r){if(!!(Dt=Fe.length)){if((qe=+qe)<=0||Dt<2)return+Ce(Fe[0],0,Fe);if(qe>=1)return+Ce(Fe[Dt-1],Dt-1,Fe);var Dt,lt=(Dt-1)*qe,ct=Math.floor(lt),Yt=+Ce(Fe[ct],ct,Fe),qt=+Ce(Fe[ct+1],ct+1,Fe);return Yt+(qt-Yt)*(lt-ct)}}function M(Fe,qe){return F(Fe,.5,qe)}function q(Fe,qe,Ce){let Dt=Float64Array.from(e(Fe,Ce));return Dt.sort(t),qe.map(lt=>D(Dt,lt))}function N(Fe,qe){return q(Fe,[.25,.5,.75],qe)}function B(Fe,qe){let Ce=Fe.length,Dt=o(Fe,qe),lt=N(Fe,qe),ct=(lt[2]-lt[0])/1.34,Yt=Math.min(Dt,ct)||Dt||Math.abs(lt[0])||1;return 1.06*Yt*Math.pow(Ce,-.2)}function I(Fe){let qe=Fe.maxbins||20,Ce=Fe.base||10,Dt=Math.log(Ce),lt=Fe.divide||[5,2],ct=Fe.extent[0],Yt=Fe.extent[1],qt,gn,kn,qn,bn,zn,He=Fe.span||Yt-ct||Math.abs(ct)||1;if(Fe.step)qt=Fe.step;else if(Fe.steps){for(qn=He/qe,bn=0,zn=Fe.steps.length;bn<zn&&Fe.steps[bn]<qn;++bn);qt=Fe.steps[Math.max(0,bn-1)]}else{for(gn=Math.ceil(Math.log(qe)/Dt),kn=Fe.minstep||0,qt=Math.max(kn,Math.pow(Ce,Math.round(Math.log(He)/Dt)-gn));Math.ceil(He/qt)>qe;)qt*=Ce;for(bn=0,zn=lt.length;bn<zn;++bn)qn=qt/lt[bn],qn>=kn&&He/qn<=qe&&(qt=qn)}qn=Math.log(qt);let ht=qn>=0?0:~~(-qn/Dt)+1,se=Math.pow(Ce,-ht-1);return(Fe.nice||Fe.nice===void 0)&&(qn=Math.floor(ct/qt+se)*qt,ct=ct<qn?qn-qt:qn,Yt=Math.ceil(Yt/qt)*qt),{start:ct,stop:Yt===ct?ct+qt:Yt,step:qt}}n.random=Math.random;function z(Fe){n.random=Fe}function ie(Fe,qe,Ce,Dt){if(!Fe.length)return[void 0,void 0];let lt=Float64Array.from(e(Fe,Dt)),ct=lt.length,Yt=qe,qt,gn,kn,qn;for(kn=0,qn=Array(Yt);kn<Yt;++kn){for(qt=0,gn=0;gn<ct;++gn)qt+=lt[~~(n.random()*ct)];qn[kn]=qt/ct}return qn.sort(t),[F(qn,Ce/2),F(qn,1-Ce/2)]}function L(Fe,qe,Ce,Dt){Dt=Dt||(zn=>zn);let lt=Fe.length,ct=new Float64Array(lt),Yt=0,qt=1,gn=Dt(Fe[0]),kn=gn,qn=gn+qe,bn;for(;qt<lt;++qt){if(bn=Dt(Fe[qt]),bn>=qn){for(kn=(gn+kn)/2;Yt<qt;++Yt)ct[Yt]=kn;qn=bn+qe,gn=bn}kn=bn}for(kn=(gn+kn)/2;Yt<qt;++Yt)ct[Yt]=kn;return Ce?Y(ct,qe+qe/4):ct}function Y(Fe,qe){let Ce=Fe.length,Dt=0,lt=1,ct,Yt;for(;Fe[Dt]===Fe[lt];)++lt;for(;lt<Ce;){for(ct=lt+1;Fe[lt]===Fe[ct];)++ct;if(Fe[lt]-Fe[lt-1]<qe){for(Yt=lt+(Dt+ct-lt-lt>>1);Yt<lt;)Fe[Yt++]=Fe[lt];for(;Yt>lt;)Fe[Yt--]=Fe[Dt]}Dt=lt,lt=ct}return Fe}function fe(Fe){return function(){return Fe=(1103515245*Fe+12345)%2147483647,Fe/2147483647}}function me(Fe,qe){qe==null&&(qe=Fe,Fe=0);let Ce,Dt,lt,ct={min(Yt){return arguments.length?(Ce=Yt||0,lt=Dt-Ce,ct):Ce},max(Yt){return arguments.length?(Dt=Yt||0,lt=Dt-Ce,ct):Dt},sample(){return Ce+Math.floor(lt*n.random())},pdf(Yt){return Yt===Math.floor(Yt)&&Yt>=Ce&&Yt<Dt?1/lt:0},cdf(Yt){let qt=Math.floor(Yt);return qt<Ce?0:qt>=Dt?1:(qt-Ce+1)/lt},icdf(Yt){return Yt>=0&&Yt<=1?Ce-1+Math.floor(Yt*lt):NaN}};return ct.min(Fe).max(qe)}let Be=Math.sqrt(2*Math.PI),tt=Math.SQRT2,st=NaN;function Qe(Fe,qe){Fe=Fe||0,qe=qe??1;let Ce=0,Dt=0,lt,ct;if(st===st)Ce=st,st=NaN;else{do Ce=n.random()*2-1,Dt=n.random()*2-1,lt=Ce*Ce+Dt*Dt;while(lt===0||lt>1);ct=Math.sqrt(-2*Math.log(lt)/lt),Ce*=ct,st=Dt*ct}return Fe+Ce*qe}function mt(Fe,qe,Ce){Ce=Ce??1;let Dt=(Fe-(qe||0))/Ce;return Math.exp(-.5*Dt*Dt)/(Ce*Be)}function Lt(Fe,qe,Ce){qe=qe||0,Ce=Ce??1;let Dt=(Fe-qe)/Ce,lt=Math.abs(Dt),ct;if(lt>37)ct=0;else{let Yt=Math.exp(-lt*lt/2),qt;lt<7.07106781186547?(qt=.0352624965998911*lt+.700383064443688,qt=qt*lt+6.37396220353165,qt=qt*lt+33.912866078383,qt=qt*lt+112.079291497871,qt=qt*lt+221.213596169931,qt=qt*lt+220.206867912376,ct=Yt*qt,qt=.0883883476483184*lt+1.75566716318264,qt=qt*lt+16.064177579207,qt=qt*lt+86.7807322029461,qt=qt*lt+296.564248779674,qt=qt*lt+637.333633378831,qt=qt*lt+793.826512519948,qt=qt*lt+440.413735824752,ct=ct/qt):(qt=lt+.65,qt=lt+4/qt,qt=lt+3/qt,qt=lt+2/qt,qt=lt+1/qt,ct=Yt/qt/2.506628274631)}return Dt>0?1-ct:ct}function je(Fe,qe,Ce){return Fe<0||Fe>1?NaN:(qe||0)+(Ce??1)*tt*Z(2*Fe-1)}function Z(Fe){let qe=-Math.log((1-Fe)*(1+Fe)),Ce;return qe<6.25?(qe-=3.125,Ce=-364441206401782e-35,Ce=-16850591381820166e-35+Ce*qe,Ce=128584807152564e-32+Ce*qe,Ce=11157877678025181e-33+Ce*qe,Ce=-1333171662854621e-31+Ce*qe,Ce=20972767875968562e-33+Ce*qe,Ce=6637638134358324e-30+Ce*qe,Ce=-4054566272975207e-29+Ce*qe,Ce=-8151934197605472e-29+Ce*qe,Ce=26335093153082323e-28+Ce*qe,Ce=-12975133253453532e-27+Ce*qe,Ce=-5415412054294628e-26+Ce*qe,Ce=10512122733215323e-25+Ce*qe,Ce=-4112633980346984e-24+Ce*qe,Ce=-29070369957882005e-24+Ce*qe,Ce=42347877827932404e-23+Ce*qe,Ce=-13654692000834679e-22+Ce*qe,Ce=-13882523362786469e-21+Ce*qe,Ce=.00018673420803405714+Ce*qe,Ce=-.000740702534166267+Ce*qe,Ce=-.006033670871430149+Ce*qe,Ce=.24015818242558962+Ce*qe,Ce=1.6536545626831027+Ce*qe):qe<16?(qe=Math.sqrt(qe)-3.25,Ce=22137376921775787e-25,Ce=9075656193888539e-23+Ce*qe,Ce=-27517406297064545e-23+Ce*qe,Ce=18239629214389228e-24+Ce*qe,Ce=15027403968909828e-22+Ce*qe,Ce=-4013867526981546e-21+Ce*qe,Ce=29234449089955446e-22+Ce*qe,Ce=12475304481671779e-21+Ce*qe,Ce=-47318229009055734e-21+Ce*qe,Ce=6828485145957318e-20+Ce*qe,Ce=24031110387097894e-21+Ce*qe,Ce=-.0003550375203628475+Ce*qe,Ce=.0009532893797373805+Ce*qe,Ce=-.0016882755560235047+Ce*qe,Ce=.002491442096107851+Ce*qe,Ce=-.003751208507569241+Ce*qe,Ce=.005370914553590064+Ce*qe,Ce=1.0052589676941592+Ce*qe,Ce=3.0838856104922208+Ce*qe):Number.isFinite(qe)?(qe=Math.sqrt(qe)-5,Ce=-27109920616438573e-27,Ce=-2555641816996525e-25+Ce*qe,Ce=15076572693500548e-25+Ce*qe,Ce=-3789465440126737e-24+Ce*qe,Ce=761570120807834e-23+Ce*qe,Ce=-1496002662714924e-23+Ce*qe,Ce=2914795345090108e-23+Ce*qe,Ce=-6771199775845234e-23+Ce*qe,Ce=22900482228026655e-23+Ce*qe,Ce=-99298272942317e-20+Ce*qe,Ce=4526062597223154e-21+Ce*qe,Ce=-1968177810553167e-20+Ce*qe,Ce=7599527703001776e-20+Ce*qe,Ce=-.00021503011930044477+Ce*qe,Ce=-.00013871931833623122+Ce*qe,Ce=1.0103004648645344+Ce*qe,Ce=4.849906401408584+Ce*qe):Ce=1/0,Ce*Fe}function Ke(Fe,qe){let Ce,Dt,lt={mean(ct){return arguments.length?(Ce=ct||0,lt):Ce},stdev(ct){return arguments.length?(Dt=ct??1,lt):Dt},sample:()=>Qe(Ce,Dt),pdf:ct=>mt(ct,Ce,Dt),cdf:ct=>Lt(ct,Ce,Dt),icdf:ct=>je(ct,Ce,Dt)};return lt.mean(Fe).stdev(qe)}function _e(Fe,qe){let Ce=Ke(),Dt=0,lt={data(ct){return arguments.length?(Fe=ct,Dt=ct?ct.length:0,lt.bandwidth(qe)):Fe},bandwidth(ct){return arguments.length?(qe=ct,!qe&&Fe&&(qe=B(Fe)),lt):qe},sample(){return Fe[~~(n.random()*Dt)]+qe*Ce.sample()},pdf(ct){let Yt=0,qt=0;for(;qt<Dt;++qt)Yt+=Ce.pdf((ct-Fe[qt])/qe);return Yt/qe/Dt},cdf(ct){let Yt=0,qt=0;for(;qt<Dt;++qt)Yt+=Ce.cdf((ct-Fe[qt])/qe);return Yt/Dt},icdf(){throw Error("KDE icdf not supported.")}};return lt.data(Fe)}function De(Fe,qe){return Fe=Fe||0,qe=qe??1,Math.exp(Fe+Qe()*qe)}function be(Fe,qe,Ce){if(Fe<=0)return 0;qe=qe||0,Ce=Ce??1;let Dt=(Math.log(Fe)-qe)/Ce;return Math.exp(-.5*Dt*Dt)/(Ce*Be*Fe)}function de(Fe,qe,Ce){return Lt(Math.log(Fe),qe,Ce)}function Ge(Fe,qe,Ce){return Math.exp(je(Fe,qe,Ce))}function rt(Fe,qe){let Ce,Dt,lt={mean(ct){return arguments.length?(Ce=ct||0,lt):Ce},stdev(ct){return arguments.length?(Dt=ct??1,lt):Dt},sample:()=>De(Ce,Dt),pdf:ct=>be(ct,Ce,Dt),cdf:ct=>de(ct,Ce,Dt),icdf:ct=>Ge(ct,Ce,Dt)};return lt.mean(Fe).stdev(qe)}function Bt(Fe,qe){let Ce=0,Dt;function lt(Yt){let qt=[],gn=0,kn;for(kn=0;kn<Ce;++kn)gn+=qt[kn]=Yt[kn]==null?1:+Yt[kn];for(kn=0;kn<Ce;++kn)qt[kn]/=gn;return qt}let ct={weights(Yt){return arguments.length?(Dt=lt(qe=Yt||[]),ct):qe},distributions(Yt){return arguments.length?(Yt?(Ce=Yt.length,Fe=Yt):(Ce=0,Fe=[]),ct.weights(qe)):Fe},sample(){let Yt=n.random(),qt=Fe[Ce-1],gn=Dt[0],kn=0;for(;kn<Ce-1;gn+=Dt[++kn])if(Yt<gn){qt=Fe[kn];break}return qt.sample()},pdf(Yt){let qt=0,gn=0;for(;gn<Ce;++gn)qt+=Dt[gn]*Fe[gn].pdf(Yt);return qt},cdf(Yt){let qt=0,gn=0;for(;gn<Ce;++gn)qt+=Dt[gn]*Fe[gn].cdf(Yt);return qt},icdf(){throw Error("Mixture icdf not supported.")}};return ct.distributions(Fe).weights(qe)}function _t(Fe,qe){return qe==null&&(qe=Fe??1,Fe=0),Fe+(qe-Fe)*n.random()}function un(Fe,qe,Ce){return Ce==null&&(Ce=qe??1,qe=0),Fe>=qe&&Fe<=Ce?1/(Ce-qe):0}function Tt(Fe,qe,Ce){return Ce==null&&(Ce=qe??1,qe=0),Fe<qe?0:Fe>Ce?1:(Fe-qe)/(Ce-qe)}function Rt(Fe,qe,Ce){return Ce==null&&(Ce=qe??1,qe=0),Fe>=0&&Fe<=1?qe+Fe*(Ce-qe):NaN}function Gt(Fe,qe){let Ce,Dt,lt={min(ct){return arguments.length?(Ce=ct||0,lt):Ce},max(ct){return arguments.length?(Dt=ct??1,lt):Dt},sample:()=>_t(Ce,Dt),pdf:ct=>un(ct,Ce,Dt),cdf:ct=>Tt(ct,Ce,Dt),icdf:ct=>Rt(ct,Ce,Dt)};return qe==null&&(qe=Fe??1,Fe=0),lt.min(Fe).max(qe)}function xt(Fe,qe,Ce,Dt){let lt=Dt-Fe*Fe,ct=Math.abs(lt)<1e-24?0:(Ce-Fe*qe)/lt;return[qe-ct*Fe,ct]}function ve(Fe,qe,Ce,Dt){Fe=Fe.filter(He=>{let ht=qe(He),se=Ce(He);return ht!=null&&(ht=+ht)>=ht&&se!=null&&(se=+se)>=se}),Dt&&Fe.sort((He,ht)=>qe(He)-qe(ht));let lt=Fe.length,ct=new Float64Array(lt),Yt=new Float64Array(lt),qt=0,gn=0,kn=0,qn,bn,zn;for(zn of Fe)ct[qt]=qn=+qe(zn),Yt[qt]=bn=+Ce(zn),++qt,gn+=(qn-gn)/qt,kn+=(bn-kn)/qt;for(qt=0;qt<lt;++qt)ct[qt]-=gn,Yt[qt]-=kn;return[ct,Yt,gn,kn]}function Oe(Fe,qe,Ce,Dt){let lt=-1,ct,Yt;for(let qt of Fe)ct=qe(qt),Yt=Ce(qt),ct!=null&&(ct=+ct)>=ct&&Yt!=null&&(Yt=+Yt)>=Yt&&Dt(ct,Yt,++lt)}function xe(Fe,qe,Ce,Dt,lt){let ct=0,Yt=0;return Oe(Fe,qe,Ce,(qt,gn)=>{let kn=gn-lt(qt),qn=gn-Dt;ct+=kn*kn,Yt+=qn*qn}),1-ct/Yt}function le(Fe,qe,Ce){let Dt=0,lt=0,ct=0,Yt=0,qt=0;Oe(Fe,qe,Ce,(qn,bn)=>{++qt,Dt+=(qn-Dt)/qt,lt+=(bn-lt)/qt,ct+=(qn*bn-ct)/qt,Yt+=(qn*qn-Yt)/qt});let gn=xt(Dt,lt,ct,Yt),kn=qn=>gn[0]+gn[1]*qn;return{coef:gn,predict:kn,rSquared:xe(Fe,qe,Ce,lt,kn)}}function Ye(Fe,qe,Ce){let Dt=0,lt=0,ct=0,Yt=0,qt=0;Oe(Fe,qe,Ce,(qn,bn)=>{++qt,qn=Math.log(qn),Dt+=(qn-Dt)/qt,lt+=(bn-lt)/qt,ct+=(qn*bn-ct)/qt,Yt+=(qn*qn-Yt)/qt});let gn=xt(Dt,lt,ct,Yt),kn=qn=>gn[0]+gn[1]*Math.log(qn);return{coef:gn,predict:kn,rSquared:xe(Fe,qe,Ce,lt,kn)}}function Ve(Fe,qe,Ce){let[Dt,lt,ct,Yt]=ve(Fe,qe,Ce),qt=0,gn=0,kn=0,qn=0,bn=0,zn,He,ht;Oe(Fe,qe,Ce,(St,rn)=>{zn=Dt[bn++],He=Math.log(rn),ht=zn*rn,qt+=(rn*He-qt)/bn,gn+=(ht-gn)/bn,kn+=(ht*He-kn)/bn,qn+=(zn*ht-qn)/bn});let[se,Ie]=xt(gn/Yt,qt/Yt,kn/Yt,qn/Yt),Ze=St=>Math.exp(se+Ie*(St-ct));return{coef:[Math.exp(se-Ie*ct),Ie],predict:Ze,rSquared:xe(Fe,qe,Ce,Yt,Ze)}}function te(Fe,qe,Ce){let Dt=0,lt=0,ct=0,Yt=0,qt=0,gn=0;Oe(Fe,qe,Ce,(bn,zn)=>{let He=Math.log(bn),ht=Math.log(zn);++gn,Dt+=(He-Dt)/gn,lt+=(ht-lt)/gn,ct+=(He*ht-ct)/gn,Yt+=(He*He-Yt)/gn,qt+=(zn-qt)/gn});let kn=xt(Dt,lt,ct,Yt),qn=bn=>kn[0]*Math.pow(bn,kn[1]);return kn[0]=Math.exp(kn[0]),{coef:kn,predict:qn,rSquared:xe(Fe,qe,Ce,qt,qn)}}function Ae(Fe,qe,Ce){let[Dt,lt,ct,Yt]=ve(Fe,qe,Ce),qt=Dt.length,gn=0,kn=0,qn=0,bn=0,zn=0,He,ht,se,Ie;for(He=0;He<qt;)ht=Dt[He],se=lt[He++],Ie=ht*ht,gn+=(Ie-gn)/He,kn+=(Ie*ht-kn)/He,qn+=(Ie*Ie-qn)/He,bn+=(ht*se-bn)/He,zn+=(Ie*se-zn)/He;let Ze=qn-gn*gn,St=gn*Ze-kn*kn,rn=(zn*gn-bn*kn)/St,Xt=(bn*Ze-zn*kn)/St,at=-rn*gn,ne=Se=>(Se=Se-ct,rn*Se*Se+Xt*Se+at+Yt);return{coef:[at-Xt*ct+rn*ct*ct+Yt,Xt-2*rn*ct,rn],predict:ne,rSquared:xe(Fe,qe,Ce,Yt,ne)}}function Xe(Fe,qe,Ce,Dt){if(Dt===1)return le(Fe,qe,Ce);if(Dt===2)return Ae(Fe,qe,Ce);let[lt,ct,Yt,qt]=ve(Fe,qe,Ce),gn=lt.length,kn=[],qn=[],bn=Dt+1,zn,He,ht,se,Ie;for(zn=0;zn<bn;++zn){for(ht=0,se=0;ht<gn;++ht)se+=Math.pow(lt[ht],zn)*ct[ht];for(kn.push(se),Ie=new Float64Array(bn),He=0;He<bn;++He){for(ht=0,se=0;ht<gn;++ht)se+=Math.pow(lt[ht],zn+He);Ie[He]=se}qn.push(Ie)}qn.push(kn);let Ze=Ct(qn),St=rn=>{rn-=Yt;let Xt=qt+Ze[0]+Ze[1]*rn+Ze[2]*rn*rn;for(zn=3;zn<bn;++zn)Xt+=Ze[zn]*Math.pow(rn,zn);return Xt};return{coef:ot(bn,Ze,-Yt,qt),predict:St,rSquared:xe(Fe,qe,Ce,qt,St)}}function ot(Fe,qe,Ce,Dt){let lt=Array(Fe),ct,Yt,qt,gn;for(ct=0;ct<Fe;++ct)lt[ct]=0;for(ct=Fe-1;ct>=0;--ct)for(qt=qe[ct],gn=1,lt[ct]+=qt,Yt=1;Yt<=ct;++Yt)gn*=(ct+1-Yt)/Yt,lt[ct-Yt]+=qt*Math.pow(Ce,Yt)*gn;return lt[0]+=Dt,lt}function Ct(Fe){let qe=Fe.length-1,Ce=[],Dt,lt,ct,Yt,qt;for(Dt=0;Dt<qe;++Dt){for(Yt=Dt,lt=Dt+1;lt<qe;++lt)Math.abs(Fe[Dt][lt])>Math.abs(Fe[Dt][Yt])&&(Yt=lt);for(ct=Dt;ct<qe+1;++ct)qt=Fe[ct][Dt],Fe[ct][Dt]=Fe[ct][Yt],Fe[ct][Yt]=qt;for(lt=Dt+1;lt<qe;++lt)for(ct=qe;ct>=Dt;ct--)Fe[ct][lt]-=Fe[ct][Dt]*Fe[Dt][lt]/Fe[Dt][Dt]}for(lt=qe-1;lt>=0;--lt){for(qt=0,ct=lt+1;ct<qe;++ct)qt+=Fe[ct][lt]*Ce[ct];Ce[lt]=(Fe[qe][lt]-qt)/Fe[lt][lt]}return Ce}let $t=2,Ut=1e-12;function sn(Fe,qe,Ce,Dt){let[lt,ct,Yt,qt]=ve(Fe,qe,Ce,!0),gn=lt.length,kn=Math.max(2,~~(Dt*gn)),qn=new Float64Array(gn),bn=new Float64Array(gn),zn=new Float64Array(gn).fill(1);for(let He=-1;++He<=$t;){let ht=[0,kn-1];for(let Ie=0;Ie<gn;++Ie){let Ze=lt[Ie],St=ht[0],rn=ht[1],Xt=Ze-lt[St]>lt[rn]-Ze?St:rn,at=0,ne=0,Se=0,Me=0,ft=0,gt=1/Math.abs(lt[Xt]-Ze||1);for(let Ee=St;Ee<=rn;++Ee){let $e=lt[Ee],et=ct[Ee],It=ln(Math.abs(Ze-$e)*gt)*zn[Ee],Kt=$e*It;at+=It,ne+=Kt,Se+=et*It,Me+=et*Kt,ft+=$e*Kt}let[wt,ee]=xt(ne/at,Se/at,Me/at,ft/at);qn[Ie]=wt+ee*Ze,bn[Ie]=Math.abs(ct[Ie]-qn[Ie]),cn(lt,Ie+1,ht)}if(He===$t)break;let se=M(bn);if(Math.abs(se)<Ut)break;for(let Ie=0,Ze,St;Ie<gn;++Ie)Ze=bn[Ie]/(6*se),zn[Ie]=Ze>=1?Ut:(St=1-Ze*Ze)*St}return Ft(lt,qn,Yt,qt)}function ln(Fe){return(Fe=1-Fe*Fe*Fe)*Fe*Fe}function cn(Fe,qe,Ce){let Dt=Fe[qe],lt=Ce[0],ct=Ce[1]+1;if(!(ct>=Fe.length))for(;qe>lt&&Fe[ct]-Dt<=Dt-Fe[lt];)Ce[0]=++lt,Ce[1]=ct,++ct}function Ft(Fe,qe,Ce,Dt){let lt=Fe.length,ct=[],Yt=0,qt=0,gn=[],kn;for(;Yt<lt;++Yt)kn=Fe[Yt]+Ce,gn[0]===kn?gn[1]+=(qe[Yt]-gn[1])/++qt:(qt=0,gn[1]+=Dt,gn=[kn,qe[Yt]],ct.push(gn));return gn[1]+=Dt,ct}let nn=.5*Math.PI/180;function An(Fe,qe,Ce,Dt){Ce=Ce||25,Dt=Math.max(Ce,Dt||200);let lt=se=>[se,Fe(se)],ct=qe[0],Yt=qe[1],qt=Yt-ct,gn=qt/Dt,kn=[lt(ct)],qn=[];if(Ce===Dt){for(let se=1;se<Dt;++se)kn.push(lt(ct+se/Ce*qt));return kn.push(lt(Yt)),kn}else{qn.push(lt(Yt));for(let se=Ce;--se>0;)qn.push(lt(ct+se/Ce*qt))}let bn=kn[0],zn=qn[qn.length-1],He=1/qt,ht=$n(bn[1],qn);for(;zn;){let se=lt((bn[0]+zn[0])/2);se[0]-bn[0]>=gn&&Cn(bn,se,zn,He,ht)>nn?qn.push(se):(bn=zn,kn.push(zn),qn.pop()),zn=qn[qn.length-1]}return kn}function $n(Fe,qe){let Ce=Fe,Dt=Fe,lt=qe.length;for(let ct=0;ct<lt;++ct){let Yt=qe[ct][1];Yt<Ce&&(Ce=Yt),Yt>Dt&&(Dt=Yt)}return 1/(Dt-Ce)}function Cn(Fe,qe,Ce,Dt,lt){let ct=Math.atan2(lt*(Ce[1]-Fe[1]),Dt*(Ce[0]-Fe[0])),Yt=Math.atan2(lt*(qe[1]-Fe[1]),Dt*(qe[0]-Fe[0]));return Math.abs(ct-Yt)}n.bandwidthNRD=B,n.bin=I,n.bootstrapCI=ie,n.cumulativeLogNormal=de,n.cumulativeNormal=Lt,n.cumulativeUniform=Tt,n.densityLogNormal=be,n.densityNormal=mt,n.densityUniform=un,n.dotbin=L,n.quantileLogNormal=Ge,n.quantileNormal=je,n.quantileUniform=Rt,n.quantiles=q,n.quartiles=N,n.randomInteger=me,n.randomKDE=_e,n.randomLCG=fe,n.randomLogNormal=rt,n.randomMixture=Bt,n.randomNormal=Ke,n.randomUniform=Gt,n.regressionExp=Ve,n.regressionLinear=le,n.regressionLoess=sn,n.regressionLog=Ye,n.regressionPoly=Xe,n.regressionPow=te,n.regressionQuad=Ae,n.sampleCurve=An,n.sampleLogNormal=De,n.sampleNormal=Qe,n.sampleUniform=_t,n.setRandom=z,Object.defineProperty(n,"__esModule",{value:!0})})});var lPe=G(($H,uPe)=>{d();(function(n,e){typeof $H=="object"&&typeof uPe!="undefined"?e($H,Ma(),qc(),q6(),e9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})($H,function(n,e,t,r,i){"use strict";function s(E){return P=>{let X=E.length,ye=1,ut=String(E[0](P));for(;ye<X;++ye)ut+="|"+E[ye](P);return ut}}function o(E){return!E||!E.length?function(){return""}:E.length===1?E[0]:s(E)}function a(E,P,X){return X||E+(P?"_"+P:"")}let l=()=>{},f={init:l,add:l,rem:l,idx:0},p={values:{init:E=>E.cell.store=!0,value:E=>E.cell.data.values(),idx:-1},count:{value:E=>E.cell.num},__count__:{value:E=>E.missing+E.valid},missing:{value:E=>E.missing},valid:{value:E=>E.valid},sum:{init:E=>E.sum=0,value:E=>E.sum,add:(E,P)=>E.sum+=+P,rem:(E,P)=>E.sum-=P},product:{init:E=>E.product=1,value:E=>E.valid?E.product:void 0,add:(E,P)=>E.product*=P,rem:(E,P)=>E.product/=P},mean:{init:E=>E.mean=0,value:E=>E.valid?E.mean:void 0,add:(E,P)=>(E.mean_d=P-E.mean,E.mean+=E.mean_d/E.valid),rem:(E,P)=>(E.mean_d=P-E.mean,E.mean-=E.valid?E.mean_d/E.valid:E.mean)},average:{value:E=>E.valid?E.mean:void 0,req:["mean"],idx:1},variance:{init:E=>E.dev=0,value:E=>E.valid>1?E.dev/(E.valid-1):void 0,add:(E,P)=>E.dev+=E.mean_d*(P-E.mean),rem:(E,P)=>E.dev-=E.mean_d*(P-E.mean),req:["mean"],idx:1},variancep:{value:E=>E.valid>1?E.dev/E.valid:void 0,req:["variance"],idx:2},stdev:{value:E=>E.valid>1?Math.sqrt(E.dev/(E.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:E=>E.valid>1?Math.sqrt(E.dev/E.valid):void 0,req:["variance"],idx:2},stderr:{value:E=>E.valid>1?Math.sqrt(E.dev/(E.valid*(E.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:E=>E.cell.data.distinct(E.get),req:["values"],idx:3},ci0:{value:E=>E.cell.data.ci0(E.get),req:["values"],idx:3},ci1:{value:E=>E.cell.data.ci1(E.get),req:["values"],idx:3},median:{value:E=>E.cell.data.q2(E.get),req:["values"],idx:3},q1:{value:E=>E.cell.data.q1(E.get),req:["values"],idx:3},q3:{value:E=>E.cell.data.q3(E.get),req:["values"],idx:3},min:{init:E=>E.min=void 0,value:E=>E.min=Number.isNaN(E.min)?E.cell.data.min(E.get):E.min,add:(E,P)=>{(P<E.min||E.min===void 0)&&(E.min=P)},rem:(E,P)=>{P<=E.min&&(E.min=NaN)},req:["values"],idx:4},max:{init:E=>E.max=void 0,value:E=>E.max=Number.isNaN(E.max)?E.cell.data.max(E.get):E.max,add:(E,P)=>{(P>E.max||E.max===void 0)&&(E.max=P)},rem:(E,P)=>{P>=E.max&&(E.max=NaN)},req:["values"],idx:4},argmin:{init:E=>E.argmin=void 0,value:E=>E.argmin||E.cell.data.argmin(E.get),add:(E,P,X)=>{P<E.min&&(E.argmin=X)},rem:(E,P)=>{P<=E.min&&(E.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:E=>E.argmax=void 0,value:E=>E.argmax||E.cell.data.argmax(E.get),add:(E,P,X)=>{P>E.max&&(E.argmax=X)},rem:(E,P)=>{P>=E.max&&(E.argmax=void 0)},req:["max","values"],idx:3}},v=Object.keys(p);function b(E,P){return X=>e.extend({name:E,out:X||E},f,P)}v.forEach(E=>{p[E]=b(E,p[E])});function F(E,P){return p[E](P)}function D(E,P){return E.idx-P.idx}function M(E){let P={};E.forEach(ye=>P[ye.name]=ye);let X=ye=>{!ye.req||ye.req.forEach(ut=>{P[ut]||X(P[ut]=p[ut]())})};return E.forEach(X),Object.values(P).sort(D)}function q(){this.valid=0,this.missing=0,this._ops.forEach(E=>E.init(this))}function N(E,P){if(E==null||E===""){++this.missing;return}E===E&&(++this.valid,this._ops.forEach(X=>X.add(this,E,P)))}function B(E,P){if(E==null||E===""){--this.missing;return}E===E&&(--this.valid,this._ops.forEach(X=>X.rem(this,E,P)))}function I(E){return this._out.forEach(P=>E[P.out]=P.value(this)),E}function z(E,P){let X=P||e.identity,ye=M(E),ut=E.slice().sort(D);function bt(Vt){this._ops=ye,this._out=ut,this.cell=Vt,this.init()}return bt.prototype.init=q,bt.prototype.add=N,bt.prototype.rem=B,bt.prototype.set=I,bt.prototype.get=X,bt.fields=E.map(Vt=>Vt.out),bt}function ie(E){this._key=E?e.field(E):t.tupleid,this.reset()}let L=ie.prototype;L.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},L.add=function(E){this._add.push(E)},L.rem=function(E){this._rem.push(E)},L.values=function(){if(this._get=null,this._rem.length===0)return this._add;let E=this._add,P=this._rem,X=this._key,ye=E.length,ut=P.length,bt=Array(ye-ut),Vt={},zt,an,Dn;for(zt=0;zt<ut;++zt)Vt[X(P[zt])]=1;for(zt=0,an=0;zt<ye;++zt)Vt[X(Dn=E[zt])]?Vt[X(Dn)]=0:bt[an++]=Dn;return this._rem=[],this._add=bt},L.distinct=function(E){let P=this.values(),X={},ye=P.length,ut=0,bt;for(;--ye>=0;)bt=E(P[ye])+"",e.hasOwnProperty(X,bt)||(X[bt]=1,++ut);return ut},L.extent=function(E){if(this._get!==E||!this._ext){let P=this.values(),X=e.extentIndex(P,E);this._ext=[P[X[0]],P[X[1]]],this._get=E}return this._ext},L.argmin=function(E){return this.extent(E)[0]||{}},L.argmax=function(E){return this.extent(E)[1]||{}},L.min=function(E){let P=this.extent(E)[0];return P!=null?E(P):void 0},L.max=function(E){let P=this.extent(E)[1];return P!=null?E(P):void 0},L.quartile=function(E){return(this._get!==E||!this._q)&&(this._q=r.quartiles(this.values(),E),this._get=E),this._q},L.q1=function(E){return this.quartile(E)[0]},L.q2=function(E){return this.quartile(E)[1]},L.q3=function(E){return this.quartile(E)[2]},L.ci=function(E){return(this._get!==E||!this._ci)&&(this._ci=r.bootstrapCI(this.values(),1e3,.05,E),this._get=E),this._ci},L.ci0=function(E){return this.ci(E)[0]},L.ci1=function(E){return this.ci(E)[1]};function Y(E){t.Transform.call(this,null,E),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Y.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:v},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},e.inherits(Y,t.Transform,{transform(E,P){let X=this,ye=P.fork(P.NO_SOURCE|P.NO_FIELDS),ut=E.modified();return X.stamp=ye.stamp,X.value&&(ut||P.modified(X._inputs,!0))?(X._prev=X.value,X.value=ut?X.init(E):{},P.visit(P.SOURCE,bt=>X.add(bt))):(X.value=X.value||X.init(E),P.visit(P.REM,bt=>X.rem(bt)),P.visit(P.ADD,bt=>X.add(bt))),ye.modifies(X._outputs),X._drop=E.drop!==!1,E.cross&&X._dims.length>1&&(X._drop=!1,X.cross()),P.clean()&&X._drop&&ye.clean(!0).runAfter(()=>this.clean()),X.changes(ye)},cross(){let E=this,P=E.value,X=E._dnames,ye=X.map(()=>({})),ut=X.length;function bt(zt){let an,Dn,On,In;for(an in zt)for(On=zt[an].tuple,Dn=0;Dn<ut;++Dn)ye[Dn][In=On[X[Dn]]]=In}bt(E._prev),bt(P);function Vt(zt,an,Dn){let On=X[Dn],In=ye[Dn++];for(let Mr in In){let Dr=zt?zt+"|"+Mr:Mr;an[On]=In[Mr],Dn<ut?Vt(Dr,an,Dn):P[Dr]||E.cell(Dr,an)}}Vt("",{},0)},init(E){let P=this._inputs=[],X=this._outputs=[],ye={};function ut(Zr){let Wr=e.array(e.accessorFields(Zr)),Ti=Wr.length,Ki=0,Ni;for(;Ki<Ti;++Ki)ye[Ni=Wr[Ki]]||(ye[Ni]=1,P.push(Ni))}this._dims=e.array(E.groupby),this._dnames=this._dims.map(Zr=>{let Wr=e.accessorName(Zr);return ut(Zr),X.push(Wr),Wr}),this.cellkey=E.key?E.key:o(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let bt=E.fields||[null],Vt=E.ops||["count"],zt=E.as||[],an=bt.length,Dn={},On,In,Mr,Dr,rr,br;for(an!==Vt.length&&e.error("Unmatched number of fields and aggregate ops."),br=0;br<an;++br){if(On=bt[br],In=Vt[br],On==null&&In!=="count"&&e.error("Null aggregate field specified."),Dr=e.accessorName(On),rr=a(In,Dr,zt[br]),X.push(rr),In==="count"){this._counts.push(rr);continue}Mr=Dn[Dr],Mr||(ut(On),Mr=Dn[Dr]=[],Mr.field=On,this._measures.push(Mr)),In!=="count"&&(this._countOnly=!1),Mr.push(F(In,rr))}return this._measures=this._measures.map(Zr=>z(Zr,Zr.field)),{}},cellkey:o(),cell(E,P){let X=this.value[E];return X?X.num===0&&this._drop&&X.stamp<this.stamp?(X.stamp=this.stamp,this._adds[this._alen++]=X):X.stamp<this.stamp&&(X.stamp=this.stamp,this._mods[this._mlen++]=X):(X=this.value[E]=this.newcell(E,P),this._adds[this._alen++]=X),X},newcell(E,P){let X={key:E,num:0,agg:null,tuple:this.newtuple(P,this._prev&&this._prev[E]),stamp:this.stamp,store:!1};if(!this._countOnly){let ye=this._measures,ut=ye.length;X.agg=Array(ut);for(let bt=0;bt<ut;++bt)X.agg[bt]=new ye[bt](X)}return X.store&&(X.data=new ie),X},newtuple(E,P){let X=this._dnames,ye=this._dims,ut=ye.length,bt={};for(let Vt=0;Vt<ut;++Vt)bt[X[Vt]]=ye[Vt](E);return P?t.replace(P.tuple,bt):t.ingest(bt)},clean(){let E=this.value;for(let P in E)E[P].num===0&&delete E[P]},add(E){let P=this.cellkey(E),X=this.cell(P,E);if(X.num+=1,this._countOnly)return;X.store&&X.data.add(E);let ye=X.agg;for(let ut=0,bt=ye.length;ut<bt;++ut)ye[ut].add(ye[ut].get(E),E)},rem(E){let P=this.cellkey(E),X=this.cell(P,E);if(X.num-=1,this._countOnly)return;X.store&&X.data.rem(E);let ye=X.agg;for(let ut=0,bt=ye.length;ut<bt;++ut)ye[ut].rem(ye[ut].get(E),E)},celltuple(E){let P=E.tuple,X=this._counts;E.store&&E.data.values();for(let ye=0,ut=X.length;ye<ut;++ye)P[X[ye]]=E.num;if(!this._countOnly){let ye=E.agg;for(let ut=0,bt=ye.length;ut<bt;++ut)ye[ut].set(P)}return P},changes(E){let P=this._adds,X=this._mods,ye=this._prev,ut=this._drop,bt=E.add,Vt=E.rem,zt=E.mod,an,Dn,On,In;if(ye)for(Dn in ye)an=ye[Dn],(!ut||an.num)&&Vt.push(an.tuple);for(On=0,In=this._alen;On<In;++On)bt.push(this.celltuple(P[On])),P[On]=null;for(On=0,In=this._mlen;On<In;++On)an=X[On],(an.num===0&&ut?Vt:zt).push(this.celltuple(an)),X[On]=null;return this._alen=this._mlen=0,this._prev=null,E}});let fe=1e-14;function me(E){t.Transform.call(this,null,E)}me.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},e.inherits(me,t.Transform,{transform(E,P){let X=E.interval!==!1,ye=this._bins(E),ut=ye.start,bt=ye.step,Vt=E.as||["bin0","bin1"],zt=Vt[0],an=Vt[1],Dn;return E.modified()?(P=P.reflow(!0),Dn=P.SOURCE):Dn=P.modified(e.accessorFields(E.field))?P.ADD_MOD:P.ADD,P.visit(Dn,X?On=>{let In=ye(On);On[zt]=In,On[an]=In==null?null:ut+bt*(1+(In-ut)/bt)}:On=>On[zt]=ye(On)),P.modifies(X?Vt:zt)},_bins(E){if(this.value&&!E.modified())return this.value;let P=E.field,X=r.bin(E),ye=X.step,ut=X.start,bt=ut+Math.ceil((X.stop-ut)/ye)*ye,Vt,zt;(Vt=E.anchor)!=null&&(zt=Vt-(ut+ye*Math.floor((Vt-ut)/ye)),ut+=zt,bt+=zt);let an=function(Dn){let On=e.toNumber(P(Dn));return On==null?null:On<ut?-1/0:On>bt?1/0:(On=Math.max(ut,Math.min(On,bt-ye)),ut+ye*Math.floor(fe+(On-ut)/ye))};return an.start=ut,an.stop=X.stop,an.step=ye,this.value=e.accessor(an,e.accessorFields(P),E.name||"bin_"+e.accessorName(P))}});function Be(E,P,X){let ye=E,ut=P||[],bt=X||[],Vt={},zt=0;return{add:an=>bt.push(an),remove:an=>Vt[ye(an)]=++zt,size:()=>ut.length,data:(an,Dn)=>(zt&&(ut=ut.filter(On=>!Vt[ye(On)]),Vt={},zt=0),Dn&&an&&ut.sort(an),bt.length&&(ut=an?e.merge(an,ut,bt.sort(an)):ut.concat(bt),bt=[]),ut)}}function tt(E){t.Transform.call(this,[],E)}tt.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},e.inherits(tt,t.Transform,{transform(E,P){let X=P.fork(P.ALL),ye=Be(t.tupleid,this.value,X.materialize(X.ADD).add),ut=E.sort,bt=P.changed()||ut&&(E.modified("sort")||P.modified(ut.fields));return X.visit(X.REM,ye.remove),this.modified(bt),this.value=X.source=ye.data(t.stableCompare(ut),bt),P.source&&P.source.root&&(this.value.root=P.source.root),X}});function st(E){t.Operator.call(this,null,Qe,E)}e.inherits(st,t.Operator);function Qe(E){return this.value&&!E.modified()?this.value:e.compare(E.fields,E.orders)}function mt(E){t.Transform.call(this,null,E)}mt.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Lt(E,P,X){switch(P){case"upper":E=E.toUpperCase();break;case"lower":E=E.toLowerCase();break}return E.match(X)}e.inherits(mt,t.Transform,{transform(E,P){let X=In=>Mr=>{for(var Dr=Lt(zt(Mr),E.case,bt)||[],rr,br=0,Zr=Dr.length;br<Zr;++br)Vt.test(rr=Dr[br])||In(rr)},ye=this._parameterCheck(E,P),ut=this._counts,bt=this._match,Vt=this._stop,zt=E.field,an=E.as||["text","count"],Dn=X(In=>ut[In]=1+(ut[In]||0)),On=X(In=>ut[In]-=1);return ye?P.visit(P.SOURCE,Dn):(P.visit(P.ADD,Dn),P.visit(P.REM,On)),this._finish(P,an)},_parameterCheck(E,P){let X=!1;return(E.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(E.stopwords||"")+"$","i"),X=!0),(E.modified("pattern")||!this._match)&&(this._match=new RegExp(E.pattern||"[\\w']+","g"),X=!0),(E.modified("field")||P.modified(E.field.fields))&&(X=!0),X&&(this._counts={}),X},_finish(E,P){let X=this._counts,ye=this._tuples||(this._tuples={}),ut=P[0],bt=P[1],Vt=E.fork(E.NO_SOURCE|E.NO_FIELDS),zt,an,Dn;for(zt in X)an=ye[zt],Dn=X[zt]||0,!an&&Dn?(ye[zt]=an=t.ingest({}),an[ut]=zt,an[bt]=Dn,Vt.add.push(an)):Dn===0?(an&&Vt.rem.push(an),X[zt]=null,ye[zt]=null):an[bt]!==Dn&&(an[bt]=Dn,Vt.mod.push(an));return Vt.modifies(P)}});function je(E){t.Transform.call(this,null,E)}je.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},e.inherits(je,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE),ye=E.as||["a","b"],ut=ye[0],bt=ye[1],Vt=!this.value||P.changed(P.ADD_REM)||E.modified("as")||E.modified("filter"),zt=this.value;return Vt?(zt&&(X.rem=zt),zt=P.materialize(P.SOURCE).source,X.add=this.value=Z(zt,ut,bt,E.filter||e.truthy)):X.mod=zt,X.source=this.value,X.modifies(ye)}});function Z(E,P,X,ye){for(var ut=[],bt={},Vt=E.length,zt=0,an,Dn;zt<Vt;++zt)for(bt[P]=Dn=E[zt],an=0;an<Vt;++an)bt[X]=E[an],ye(bt)&&(ut.push(t.ingest(bt)),bt={},bt[P]=Dn);return ut}let Ke={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,lognormal:r.randomLogNormal,uniform:r.randomUniform},_e="distributions",De="function",be="field";function de(E,P){let X=E[De];e.hasOwnProperty(Ke,X)||e.error("Unknown distribution function: "+X);let ye=Ke[X]();for(let ut in E)ut===be?ye.data((E.from||P()).map(E[ut])):ut===_e?ye[ut](E[ut].map(bt=>de(bt,P))):typeof ye[ut]===De&&ye[ut](E[ut]);return ye}function Ge(E){t.Transform.call(this,null,E)}let rt=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Bt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:rt},{name:"weights",type:"number",array:!0}]};Ge.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:rt.concat(Bt)},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Ge,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE|P.NO_FIELDS);if(!this.value||P.changed()||E.modified()){let ye=de(E.distribution,_t(P)),ut=E.steps||E.minsteps||25,bt=E.steps||E.maxsteps||200,Vt=E.method||"pdf";Vt!=="pdf"&&Vt!=="cdf"&&e.error("Invalid density method: "+Vt),!E.extent&&!ye.data&&e.error("Missing density extent parameter."),Vt=ye[Vt];let zt=E.as||["value","density"],an=E.extent||e.extent(ye.data()),Dn=r.sampleCurve(Vt,an,ut,bt).map(On=>{let In={};return In[zt[0]]=On[0],In[zt[1]]=On[1],t.ingest(In)});this.value&&(X.rem=this.value),this.value=X.add=X.source=Dn}return X}});function _t(E){return()=>E.materialize(E.SOURCE).source}function un(E,P){return E?E.map((X,ye)=>P[ye]||e.accessorName(X)):null}function Tt(E,P,X){let ye=[],ut=In=>In(an),bt,Vt,zt,an,Dn,On;if(P==null)ye.push(E.map(X));else for(bt={},Vt=0,zt=E.length;Vt<zt;++Vt)an=E[Vt],Dn=P.map(ut),On=bt[Dn],On||(bt[Dn]=On=[],On.dims=Dn,ye.push(On)),On.push(X(an));return ye}let Rt="bin";function Gt(E){t.Transform.call(this,null,E)}Gt.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Rt}]};let xt=(E,P)=>e.span(e.extent(E,P))/30;e.inherits(Gt,t.Transform,{transform(E,P){if(this.value&&!(E.modified()||P.changed()))return P;let X=P.materialize(P.SOURCE).source,ye=Tt(P.source,E.groupby,e.identity),ut=E.smooth||!1,bt=E.field,Vt=E.step||xt(X,bt),zt=t.stableCompare((rr,br)=>bt(rr)-bt(br)),an=E.as||Rt,Dn=ye.length,On=1/0,In=-1/0,Mr=0,Dr;for(;Mr<Dn;++Mr){let rr=ye[Mr].sort(zt);Dr=-1;for(let br of r.dotbin(rr,Vt,ut,bt))br<On&&(On=br),br>In&&(In=br),rr[++Dr][an]=br}return this.value={start:On,stop:In,step:Vt},P.reflow(!0).modifies(an)}});function ve(E){t.Operator.call(this,null,Oe,E),this.modified(!0)}e.inherits(ve,t.Operator);function Oe(E){let P=E.expr;return this.value&&!E.modified("expr")?this.value:e.accessor(X=>P(X,E),e.accessorFields(P),e.accessorName(P))}function xe(E){t.Transform.call(this,[void 0,void 0],E)}xe.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},e.inherits(xe,t.Transform,{transform(E,P){let X=this.value,ye=E.field,ut=P.changed()||P.modified(ye.fields)||E.modified("field"),bt=X[0],Vt=X[1];if((ut||bt==null)&&(bt=1/0,Vt=-1/0),P.visit(ut?P.SOURCE:P.ADD,zt=>{let an=e.toNumber(ye(zt));an!=null&&(an<bt&&(bt=an),an>Vt&&(Vt=an))}),!Number.isFinite(bt)||!Number.isFinite(Vt)){let zt=e.accessorName(ye);zt&&(zt=` for field "${zt}"`),P.dataflow.warn(`Infinite extent${zt}: [${bt}, ${Vt}]`),bt=Vt=void 0}this.value=[bt,Vt]}});function le(E,P){t.Operator.call(this,E),this.parent=P,this.count=0}e.inherits(le,t.Operator,{connect(E){return this.detachSubflow=E.detachSubflow,this.targets().add(E),E.source=this},add(E){this.count+=1,this.value.add.push(E)},rem(E){this.count-=1,this.value.rem.push(E)},mod(E){this.value.mod.push(E)},init(E){this.value.init(E,E.NO_SOURCE)},evaluate(){return this.value}});function Ye(E){t.Transform.call(this,{},E),this._keys=e.fastmap();let P=this._targets=[];P.active=0,P.forEach=X=>{for(let ye=0,ut=P.active;ye<ut;++ye)X(P[ye],ye,P)}}e.inherits(Ye,t.Transform,{activate(E){this._targets[this._targets.active++]=E},subflow(E,P,X,ye){let ut=this.value,bt=e.hasOwnProperty(ut,E)&&ut[E],Vt,zt;return bt?bt.value.stamp<X.stamp&&(bt.init(X),this.activate(bt)):(zt=ye||(zt=this._group[E])&&zt.tuple,Vt=X.dataflow,bt=new le(X.fork(X.NO_SOURCE),this),Vt.add(bt).connect(P(Vt,E,zt)),ut[E]=bt,this.activate(bt)),bt},clean(){let E=this.value,P=0;for(let X in E)if(E[X].count===0){let ye=E[X].detachSubflow;ye&&ye(),delete E[X],++P}if(P){let X=this._targets.filter(ye=>ye&&ye.count>0);this.initTargets(X)}},initTargets(E){let P=this._targets,X=P.length,ye=E?E.length:0,ut=0;for(;ut<ye;++ut)P[ut]=E[ut];for(;ut<X&&P[ut]!=null;++ut)P[ut]=null;P.active=ye},transform(E,P){let X=P.dataflow,ye=E.key,ut=E.subflow,bt=this._keys,Vt=E.modified("key"),zt=an=>this.subflow(an,ut,P);return this._group=E.group||{},this.initTargets(),P.visit(P.REM,an=>{let Dn=t.tupleid(an),On=bt.get(Dn);On!==void 0&&(bt.delete(Dn),zt(On).rem(an))}),P.visit(P.ADD,an=>{let Dn=ye(an);bt.set(t.tupleid(an),Dn),zt(Dn).add(an)}),Vt||P.modified(ye.fields)?P.visit(P.MOD,an=>{let Dn=t.tupleid(an),On=bt.get(Dn),In=ye(an);On===In?zt(In).mod(an):(bt.set(Dn,In),zt(On).rem(an),zt(In).add(an))}):P.changed(P.MOD)&&P.visit(P.MOD,an=>{zt(bt.get(t.tupleid(an))).mod(an)}),Vt&&P.visit(P.REFLOW,an=>{let Dn=t.tupleid(an),On=bt.get(Dn),In=ye(an);On!==In&&(bt.set(Dn,In),zt(On).rem(an),zt(In).add(an))}),P.clean()?X.runAfter(()=>{this.clean(),bt.clean()}):bt.empty>X.cleanThreshold&&X.runAfter(bt.clean),P}});function Ve(E){t.Operator.call(this,null,te,E)}e.inherits(Ve,t.Operator);function te(E){return this.value&&!E.modified()?this.value:e.isArray(E.name)?e.array(E.name).map(P=>e.field(P)):e.field(E.name,E.as)}function Ae(E){t.Transform.call(this,e.fastmap(),E)}Ae.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},e.inherits(Ae,t.Transform,{transform(E,P){let X=P.dataflow,ye=this.value,ut=P.fork(),bt=ut.add,Vt=ut.rem,zt=ut.mod,an=E.expr,Dn=!0;P.visit(P.REM,In=>{let Mr=t.tupleid(In);ye.has(Mr)?ye.delete(Mr):Vt.push(In)}),P.visit(P.ADD,In=>{an(In,E)?bt.push(In):ye.set(t.tupleid(In),1)});function On(In){let Mr=t.tupleid(In),Dr=an(In,E),rr=ye.get(Mr);Dr&&rr?(ye.delete(Mr),bt.push(In)):!Dr&&!rr?(ye.set(Mr,1),Vt.push(In)):Dn&&Dr&&!rr&&zt.push(In)}return P.visit(P.MOD,On),E.modified()&&(Dn=!1,P.visit(P.REFLOW,On)),ye.empty>X.cleanThreshold&&X.runAfter(ye.clean),ut}});function Xe(E){t.Transform.call(this,[],E)}Xe.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},e.inherits(Xe,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE),ye=E.fields,ut=un(ye,E.as||[]),bt=E.index||null,Vt=ut.length;return X.rem=this.value,P.visit(P.SOURCE,zt=>{let an=ye.map(rr=>rr(zt)),Dn=an.reduce((rr,br)=>Math.max(rr,br.length),0),On=0,In,Mr,Dr;for(;On<Dn;++On){for(Mr=t.derive(zt),In=0;In<Vt;++In)Mr[ut[In]]=(Dr=an[In][On])==null?null:Dr;bt&&(Mr[bt]=On),X.add.push(Mr)}}),this.value=X.source=X.add,bt&&X.modifies(bt),X.modifies(ut)}});function ot(E){t.Transform.call(this,[],E)}ot.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},e.inherits(ot,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE),ye=E.fields,ut=ye.map(e.accessorName),bt=E.as||["key","value"],Vt=bt[0],zt=bt[1],an=ye.length;return X.rem=this.value,P.visit(P.SOURCE,Dn=>{for(let On=0,In;On<an;++On)In=t.derive(Dn),In[Vt]=ut[On],In[zt]=ye[On](Dn),X.add.push(In)}),this.value=X.source=X.add,X.modifies(bt)}});function Ct(E){t.Transform.call(this,null,E)}Ct.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},e.inherits(Ct,t.Transform,{transform(E,P){let X=E.expr,ye=E.as,ut=E.modified(),bt=E.initonly?P.ADD:ut?P.SOURCE:P.modified(X.fields)||P.modified(ye)?P.ADD_MOD:P.ADD;return ut&&(P=P.materialize().reflow(!0)),E.initonly||P.modifies(ye),P.visit(bt,Vt=>Vt[ye]=X(Vt,E))}});function $t(E){t.Transform.call(this,[],E)}e.inherits($t,t.Transform,{transform(E,P){let X=P.fork(P.ALL),ye=E.generator,ut=this.value,bt=E.size-ut.length,Vt,zt,an;if(bt>0){for(Vt=[];--bt>=0;)Vt.push(an=t.ingest(ye(E))),ut.push(an);X.add=X.add.length?X.materialize(X.ADD).add.concat(Vt):Vt}else zt=ut.slice(0,-bt),X.rem=X.rem.length?X.materialize(X.REM).rem.concat(zt):zt,ut=ut.slice(-bt);return X.source=this.value=ut,X}});function Ut(E,P){return E==null||P==null?NaN:E<P?-1:E>P?1:E>=P?0:NaN}function sn(E){let P=E,X=E,ye=E;E.length!==2&&(P=(zt,an)=>E(zt)-an,X=Ut,ye=(zt,an)=>Ut(E(zt),an));function ut(zt,an,Dn=0,On=zt.length){if(Dn<On){if(X(an,an)!==0)return On;do{let In=Dn+On>>>1;ye(zt[In],an)<0?Dn=In+1:On=In}while(Dn<On)}return Dn}function bt(zt,an,Dn=0,On=zt.length){if(Dn<On){if(X(an,an)!==0)return On;do{let In=Dn+On>>>1;ye(zt[In],an)<=0?Dn=In+1:On=In}while(Dn<On)}return Dn}function Vt(zt,an,Dn=0,On=zt.length){let In=ut(zt,an,Dn,On-1);return In>Dn&&P(zt[In-1],an)>-P(zt[In],an)?In-1:In}return{left:ut,center:Vt,right:bt}}function*ln(E,P){if(P===void 0)for(let X of E)X!=null&&(X=+X)>=X&&(yield X);else{let X=-1;for(let ye of E)(ye=P(ye,++X,E))!=null&&(ye=+ye)>=ye&&(yield ye)}}function cn(E=Ut){if(E===Ut)return Ft;if(typeof E!="function")throw new TypeError("compare is not a function");return(P,X)=>{let ye=E(P,X);return ye||ye===0?ye:(E(X,X)===0)-(E(P,P)===0)}}function Ft(E,P){return(E==null||!(E>=E))-(P==null||!(P>=P))||(E<P?-1:E>P?1:0)}function nn(E,P){let X;if(P===void 0)for(let ye of E)ye!=null&&(X<ye||X===void 0&&ye>=ye)&&(X=ye);else{let ye=-1;for(let ut of E)(ut=P(ut,++ye,E))!=null&&(X<ut||X===void 0&&ut>=ut)&&(X=ut)}return X}function An(E,P){let X;if(P===void 0)for(let ye of E)ye!=null&&(X>ye||X===void 0&&ye>=ye)&&(X=ye);else{let ye=-1;for(let ut of E)(ut=P(ut,++ye,E))!=null&&(X>ut||X===void 0&&ut>=ut)&&(X=ut)}return X}function $n(E,P,X=0,ye=E.length-1,ut){for(ut=ut===void 0?Ft:cn(ut);ye>X;){if(ye-X>600){let an=ye-X+1,Dn=P-X+1,On=Math.log(an),In=.5*Math.exp(2*On/3),Mr=.5*Math.sqrt(On*In*(an-In)/an)*(Dn-an/2<0?-1:1),Dr=Math.max(X,Math.floor(P-Dn*In/an+Mr)),rr=Math.min(ye,Math.floor(P+(an-Dn)*In/an+Mr));$n(E,P,Dr,rr,ut)}let bt=E[P],Vt=X,zt=ye;for(Cn(E,X,P),ut(E[ye],bt)>0&&Cn(E,X,ye);Vt<zt;){for(Cn(E,Vt,zt),++Vt,--zt;ut(E[Vt],bt)<0;)++Vt;for(;ut(E[zt],bt)>0;)--zt}ut(E[X],bt)===0?Cn(E,X,zt):(++zt,Cn(E,zt,ye)),zt<=P&&(X=zt+1),P<=zt&&(ye=zt-1)}return E}function Cn(E,P,X){let ye=E[P];E[P]=E[X],E[X]=ye}function Fe(E,P,X){if(E=Float64Array.from(ln(E,X)),!!(ye=E.length)){if((P=+P)<=0||ye<2)return An(E);if(P>=1)return nn(E);var ye,ut=(ye-1)*P,bt=Math.floor(ut),Vt=nn($n(E,bt).subarray(0,bt+1)),zt=An(E.subarray(bt+1));return Vt+(zt-Vt)*(ut-bt)}}function qe(E,P){let X=0,ye=0;if(P===void 0)for(let ut of E)ut!=null&&(ut=+ut)>=ut&&(++X,ye+=ut);else{let ut=-1;for(let bt of E)(bt=P(bt,++ut,E))!=null&&(bt=+bt)>=bt&&(++X,ye+=bt)}if(X)return ye/X}function Ce(E,P){return Fe(E,.5,P)}function Dt(E,P,X){E=+E,P=+P,X=(ut=arguments.length)<2?(P=E,E=0,1):ut<3?1:+X;for(var ye=-1,ut=Math.max(0,Math.ceil((P-E)/X))|0,bt=new Array(ut);++ye<ut;)bt[ye]=E+ye*X;return bt}let lt={value:"value",median:Ce,mean:qe,min:An,max:nn},ct=[];function Yt(E){t.Transform.call(this,[],E)}Yt.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function qt(E){var P=E.method||lt.value,X;if(lt[P]==null)e.error("Unrecognized imputation method: "+P);else return P===lt.value?(X=E.value!==void 0?E.value:0,()=>X):lt[P]}function gn(E){let P=E.field;return X=>X?P(X):NaN}e.inherits(Yt,t.Transform,{transform(E,P){var X=P.fork(P.ALL),ye=qt(E),ut=gn(E),bt=e.accessorName(E.field),Vt=e.accessorName(E.key),zt=(E.groupby||[]).map(e.accessorName),an=kn(P.source,E.groupby,E.key,E.keyvals),Dn=[],On=this.value,In=an.domain.length,Mr,Dr,rr,br,Zr,Wr,Ti,Ki,Ni,ta;for(Zr=0,Ki=an.length;Zr<Ki;++Zr)for(Mr=an[Zr],rr=Mr.values,Dr=NaN,Ti=0;Ti<In;++Ti)if(Mr[Ti]==null){for(br=an.domain[Ti],ta={_impute:!0},Wr=0,Ni=rr.length;Wr<Ni;++Wr)ta[zt[Wr]]=rr[Wr];ta[Vt]=br,ta[bt]=Number.isNaN(Dr)?Dr=ye(Mr,ut):Dr,Dn.push(t.ingest(ta))}return Dn.length&&(X.add=X.materialize(X.ADD).add.concat(Dn)),On.length&&(X.rem=X.materialize(X.REM).rem.concat(On)),this.value=Dn,X}});function kn(E,P,X,ye){var ut=Wr=>Wr(Zr),bt=[],Vt=ye?ye.slice():[],zt={},an={},Dn,On,In,Mr,Dr,rr,br,Zr;for(Vt.forEach((Wr,Ti)=>zt[Wr]=Ti+1),Mr=0,br=E.length;Mr<br;++Mr)Zr=E[Mr],rr=X(Zr),Dr=zt[rr]||(zt[rr]=Vt.push(rr)),On=(Dn=P?P.map(ut):ct)+"",(In=an[On])||(In=an[On]=[],bt.push(In),In.values=Dn),In[Dr-1]=Zr;return bt.domain=Vt,bt}function qn(E){Y.call(this,E)}qn.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:v},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},e.inherits(qn,Y,{transform(E,P){let X=this,ye=E.modified(),ut;return X.value&&(ye||P.modified(X._inputs,!0))?(ut=X.value=ye?X.init(E):{},P.visit(P.SOURCE,bt=>X.add(bt))):(ut=X.value=X.value||this.init(E),P.visit(P.REM,bt=>X.rem(bt)),P.visit(P.ADD,bt=>X.add(bt))),X.changes(),P.visit(P.SOURCE,bt=>{e.extend(bt,ut[X.cellkey(bt)].tuple)}),P.reflow(ye).modifies(this._outputs)},changes(){let E=this._adds,P=this._mods,X,ye;for(X=0,ye=this._alen;X<ye;++X)this.celltuple(E[X]),E[X]=null;for(X=0,ye=this._mlen;X<ye;++X)this.celltuple(P[X]),P[X]=null;this._alen=this._mlen=0}});function bn(E){t.Transform.call(this,null,E)}bn.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(bn,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE|P.NO_FIELDS);if(!this.value||P.changed()||E.modified()){let ye=P.materialize(P.SOURCE).source,ut=Tt(ye,E.groupby,E.field),bt=(E.groupby||[]).map(e.accessorName),Vt=E.bandwidth,zt=E.cumulative?"cdf":"pdf",an=E.as||["value","density"],Dn=[],On=E.extent,In=E.steps||E.minsteps||25,Mr=E.steps||E.maxsteps||200;zt!=="pdf"&&zt!=="cdf"&&e.error("Invalid density method: "+zt),E.resolve==="shared"&&(On||(On=e.extent(ye,E.field)),In=Mr=E.steps||Mr),ut.forEach(Dr=>{let rr=r.randomKDE(Dr,Vt)[zt],br=E.counts?Dr.length:1,Zr=On||e.extent(Dr);r.sampleCurve(rr,Zr,In,Mr).forEach(Wr=>{let Ti={};for(let Ki=0;Ki<bt.length;++Ki)Ti[bt[Ki]]=Dr.dims[Ki];Ti[an[0]]=Wr[0],Ti[an[1]]=Wr[1]*br,Dn.push(t.ingest(Ti))})}),this.value&&(X.rem=this.value),this.value=X.add=X.source=Dn}return X}});function zn(E){t.Operator.call(this,null,He,E)}e.inherits(zn,t.Operator);function He(E){return this.value&&!E.modified()?this.value:e.key(E.fields,E.flat)}function ht(E){t.Transform.call(this,[],E),this._pending=null}e.inherits(ht,t.Transform,{transform(E,P){let X=P.dataflow;return this._pending?Ie(this,P,this._pending):se(E)?P.StopPropagation:E.values?Ie(this,P,X.parse(E.values,E.format)):E.async?{async:X.request(E.url,E.format).then(ut=>(this._pending=e.array(ut.data),bt=>bt.touch(this)))}:X.request(E.url,E.format).then(ye=>Ie(this,P,e.array(ye.data)))}});function se(E){return E.modified("async")&&!(E.modified("values")||E.modified("url")||E.modified("format"))}function Ie(E,P,X){X.forEach(t.ingest);let ye=P.fork(P.NO_FIELDS&P.NO_SOURCE);return ye.rem=E.value,E.value=ye.source=ye.add=X,E._pending=null,ye.rem.length&&ye.clean(!0),ye}function Ze(E){t.Transform.call(this,{},E)}Ze.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},e.inherits(Ze,t.Transform,{transform(E,P){let X=E.fields,ye=E.index,ut=E.values,bt=E.default==null?null:E.default,Vt=E.modified(),zt=X.length,an=Vt?P.SOURCE:P.ADD,Dn=P,On=E.as,In,Mr,Dr;return ut?(Mr=ut.length,zt>1&&!On&&e.error('Multi-field lookup requires explicit "as" parameter.'),On&&On.length!==zt*Mr&&e.error('The "as" parameter has too few output field names.'),On=On||ut.map(e.accessorName),In=function(rr){for(var br=0,Zr=0,Wr,Ti;br<zt;++br)if(Ti=ye.get(X[br](rr)),Ti==null)for(Wr=0;Wr<Mr;++Wr,++Zr)rr[On[Zr]]=bt;else for(Wr=0;Wr<Mr;++Wr,++Zr)rr[On[Zr]]=ut[Wr](Ti)}):(On||e.error("Missing output field names."),In=function(rr){for(var br=0,Zr;br<zt;++br)Zr=ye.get(X[br](rr)),rr[On[br]]=Zr??bt}),Vt?Dn=P.reflow(!0):(Dr=X.some(rr=>P.modified(rr.fields)),an|=Dr?P.MOD:0),P.visit(an,In),Dn.modifies(On)}});function St(E){t.Operator.call(this,null,rn,E)}e.inherits(St,t.Operator);function rn(E){if(this.value&&!E.modified())return this.value;let P=E.extents,X=P.length,ye=1/0,ut=-1/0,bt,Vt;for(bt=0;bt<X;++bt)Vt=P[bt],Vt[0]<ye&&(ye=Vt[0]),Vt[1]>ut&&(ut=Vt[1]);return[ye,ut]}function Xt(E){t.Operator.call(this,null,at,E)}e.inherits(Xt,t.Operator);function at(E){return this.value&&!E.modified()?this.value:E.values.reduce((P,X)=>P.concat(X),[])}function ne(E){t.Transform.call(this,null,E)}e.inherits(ne,t.Transform,{transform(E,P){return this.modified(E.modified()),this.value=E,P.fork(P.NO_SOURCE|P.NO_FIELDS)}});function Se(E){Y.call(this,E)}Se.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:v,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},e.inherits(Se,Y,{_transform:Y.prototype.transform,transform(E,P){return this._transform(Me(E,P),P)}});function Me(E,P){let X=E.field,ye=E.value,ut=(E.op==="count"?"__count__":E.op)||"sum",bt=e.accessorFields(X).concat(e.accessorFields(ye)),Vt=gt(X,E.limit||0,P);return P.changed()&&E.set("__pivot__",null,null,!0),{key:E.key,groupby:E.groupby,ops:Vt.map(()=>ut),fields:Vt.map(zt=>ft(zt,X,ye,bt)),as:Vt.map(zt=>zt+""),modified:E.modified.bind(E)}}function ft(E,P,X,ye){return e.accessor(ut=>P(ut)===E?X(ut):NaN,ye,E+"")}function gt(E,P,X){let ye={},ut=[];return X.visit(X.SOURCE,bt=>{let Vt=E(bt);ye[Vt]||(ye[Vt]=1,ut.push(Vt))}),ut.sort(e.ascending),P?ut.slice(0,P):ut}function wt(E){Ye.call(this,E)}e.inherits(wt,Ye,{transform(E,P){let X=E.subflow,ye=E.field,ut=bt=>this.subflow(t.tupleid(bt),X,P,bt);return(E.modified("field")||ye&&P.modified(e.accessorFields(ye)))&&e.error("PreFacet does not support field modification."),this.initTargets(),ye?(P.visit(P.MOD,bt=>{let Vt=ut(bt);ye(bt).forEach(zt=>Vt.mod(zt))}),P.visit(P.ADD,bt=>{let Vt=ut(bt);ye(bt).forEach(zt=>Vt.add(t.ingest(zt)))}),P.visit(P.REM,bt=>{let Vt=ut(bt);ye(bt).forEach(zt=>Vt.rem(zt))})):(P.visit(P.MOD,bt=>ut(bt).mod(bt)),P.visit(P.ADD,bt=>ut(bt).add(bt)),P.visit(P.REM,bt=>ut(bt).rem(bt))),P.clean()&&P.runAfter(()=>this.clean()),P}});function ee(E){t.Transform.call(this,null,E)}ee.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},e.inherits(ee,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE),ye=E.fields,ut=un(E.fields,E.as||[]),bt=ye?(zt,an)=>Ee(zt,an,ye,ut):t.rederive,Vt;return this.value?Vt=this.value:(P=P.addAll(),Vt=this.value={}),P.visit(P.REM,zt=>{let an=t.tupleid(zt);X.rem.push(Vt[an]),Vt[an]=null}),P.visit(P.ADD,zt=>{let an=bt(zt,t.ingest({}));Vt[t.tupleid(zt)]=an,X.add.push(an)}),P.visit(P.MOD,zt=>{X.mod.push(bt(zt,Vt[t.tupleid(zt)]))}),X}});function Ee(E,P,X,ye){for(let ut=0,bt=X.length;ut<bt;++ut)P[ye[ut]]=X[ut](E);return P}function $e(E){t.Transform.call(this,null,E)}e.inherits($e,t.Transform,{transform(E,P){return this.value=E.value,E.modified("value")?P.fork(P.NO_SOURCE|P.NO_FIELDS):P.StopPropagation}});function et(E){t.Transform.call(this,null,E)}et.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};let It=1e-14;e.inherits(et,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE|P.NO_FIELDS),ye=E.as||["prob","value"];if(this.value&&!E.modified()&&!P.changed())return X.source=this.value,X;let ut=P.materialize(P.SOURCE).source,bt=Tt(ut,E.groupby,E.field),Vt=(E.groupby||[]).map(e.accessorName),zt=[],an=E.step||.01,Dn=E.probs||Dt(an/2,1-It,an),On=Dn.length;return bt.forEach(In=>{let Mr=r.quantiles(In,Dn);for(let Dr=0;Dr<On;++Dr){let rr={};for(let br=0;br<Vt.length;++br)rr[Vt[br]]=In.dims[br];rr[ye[0]]=Dn[Dr],rr[ye[1]]=Mr[Dr],zt.push(t.ingest(rr))}}),this.value&&(X.rem=this.value),this.value=X.add=X.source=zt,X}});function Kt(E){t.Transform.call(this,null,E)}e.inherits(Kt,t.Transform,{transform(E,P){let X,ye;return this.value?ye=this.value:(X=P=P.addAll(),ye=this.value={}),E.derive&&(X=P.fork(P.NO_SOURCE),P.visit(P.REM,ut=>{let bt=t.tupleid(ut);X.rem.push(ye[bt]),ye[bt]=null}),P.visit(P.ADD,ut=>{let bt=t.derive(ut);ye[t.tupleid(ut)]=bt,X.add.push(bt)}),P.visit(P.MOD,ut=>{let bt=ye[t.tupleid(ut)];for(let Vt in ut)bt[Vt]=ut[Vt],X.modifies(Vt);X.mod.push(bt)})),X}});function mn(E){t.Transform.call(this,[],E),this.count=0}mn.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},e.inherits(mn,t.Transform,{transform(E,P){let X=P.fork(P.NO_SOURCE),ye=E.modified("size"),ut=E.size,bt=this.value.reduce((On,In)=>(On[t.tupleid(In)]=1,On),{}),Vt=this.value,zt=this.count,an=0;function Dn(On){let In,Mr;Vt.length<ut?Vt.push(On):(Mr=~~((zt+1)*r.random()),Mr<Vt.length&&Mr>=an&&(In=Vt[Mr],bt[t.tupleid(In)]&&X.rem.push(In),Vt[Mr]=On)),++zt}if(P.rem.length&&(P.visit(P.REM,On=>{let In=t.tupleid(On);bt[In]&&(bt[In]=-1,X.rem.push(On)),--zt}),Vt=Vt.filter(On=>bt[t.tupleid(On)]!==-1)),(P.rem.length||ye)&&Vt.length<ut&&P.source&&(an=zt=Vt.length,P.visit(P.SOURCE,On=>{bt[t.tupleid(On)]||Dn(On)}),an=-1),ye&&Vt.length>ut){let On=Vt.length-ut;for(let In=0;In<On;++In)bt[t.tupleid(Vt[In])]=-1,X.rem.push(Vt[In]);Vt=Vt.slice(On)}return P.mod.length&&P.visit(P.MOD,On=>{bt[t.tupleid(On)]&&X.mod.push(On)}),P.add.length&&P.visit(P.ADD,Dn),(P.add.length||an<0)&&(X.add=Vt.filter(On=>!bt[t.tupleid(On)])),this.count=zt,this.value=X.source=Vt,X}});function fn(E){t.Transform.call(this,null,E)}fn.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},e.inherits(fn,t.Transform,{transform(E,P){if(this.value&&!E.modified())return;let X=P.materialize().fork(P.MOD),ye=E.as||"data";return X.rem=this.value?P.rem.concat(this.value):P.rem,this.value=Dt(E.start,E.stop,E.step||1).map(ut=>{let bt={};return bt[ye]=ut,t.ingest(bt)}),X.add=P.add.concat(this.value),X}});function dn(E){t.Transform.call(this,null,E),this.modified(!0)}e.inherits(dn,t.Transform,{transform(E,P){return this.value=P.source,P.changed()?P.fork(P.NO_SOURCE|P.NO_FIELDS):P.StopPropagation}});function Rn(E){t.Transform.call(this,null,E)}let we=["unit0","unit1"];Rn.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:we}]},e.inherits(Rn,t.Transform,{transform(E,P){let X=E.field,ye=E.interval!==!1,ut=E.timezone==="utc",bt=this._floor(E,P),Vt=(ut?i.utcInterval:i.timeInterval)(bt.unit).offset,zt=E.as||we,an=zt[0],Dn=zt[1],On=bt.step,In=bt.start||1/0,Mr=bt.stop||-1/0,Dr=P.ADD;return(E.modified()||P.changed(P.REM)||P.modified(e.accessorFields(X)))&&(P=P.reflow(!0),Dr=P.SOURCE,In=1/0,Mr=-1/0),P.visit(Dr,rr=>{let br=X(rr),Zr,Wr;br==null?(rr[an]=null,ye&&(rr[Dn]=null)):(rr[an]=Zr=Wr=bt(br),ye&&(rr[Dn]=Wr=Vt(Zr,On)),Zr<In&&(In=Zr),Wr>Mr&&(Mr=Wr))}),bt.start=In,bt.stop=Mr,P.modifies(ye?zt:an)},_floor(E,P){let X=E.timezone==="utc",{units:ye,step:ut}=E.units?{units:E.units,step:E.step||1}:i.timeBin({extent:E.extent||e.extent(P.materialize(P.SOURCE).source,E.field),maxbins:E.maxbins}),bt=i.timeUnits(ye),Vt=this.value||{},zt=(X?i.utcFloor:i.timeFloor)(bt,ut);return zt.unit=e.peek(bt),zt.units=bt,zt.step=ut,zt.start=Vt.start,zt.stop=Vt.stop,this.value=zt}});function Pe(E){t.Transform.call(this,e.fastmap(),E)}e.inherits(Pe,t.Transform,{transform(E,P){let X=P.dataflow,ye=E.field,ut=this.value,bt=zt=>ut.set(ye(zt),zt),Vt=!0;return E.modified("field")||P.modified(ye.fields)?(ut.clear(),P.visit(P.SOURCE,bt)):P.changed()?(P.visit(P.REM,zt=>ut.delete(ye(zt))),P.visit(P.ADD,bt)):Vt=!1,this.modified(Vt),ut.empty>X.cleanThreshold&&X.runAfter(ut.clean),P.fork()}});function Et(E){t.Transform.call(this,null,E)}e.inherits(Et,t.Transform,{transform(E,P){(!this.value||E.modified("field")||E.modified("sort")||P.changed()||E.sort&&P.modified(E.sort.fields))&&(this.value=(E.sort?P.source.slice().sort(t.stableCompare(E.sort)):P.source).map(E.field))}});function O(E,P,X,ye){let ut=$[E](P,X);return{init:ut.init||e.zero,update:function(bt,Vt){Vt[ye]=ut.next(bt)}}}let $={row_number:function(){return{next:E=>E.index+1}},rank:function(){let E;return{init:()=>E=1,next:P=>{let X=P.index,ye=P.data;return X&&P.compare(ye[X-1],ye[X])?E=X+1:E}}},dense_rank:function(){let E;return{init:()=>E=1,next:P=>{let X=P.index,ye=P.data;return X&&P.compare(ye[X-1],ye[X])?++E:E}}},percent_rank:function(){let E=$.rank(),P=E.next;return{init:E.init,next:X=>(P(X)-1)/(X.data.length-1)}},cume_dist:function(){let E;return{init:()=>E=0,next:P=>{let X=P.data,ye=P.compare,ut=P.index;if(E<ut){for(;ut+1<X.length&&!ye(X[ut],X[ut+1]);)++ut;E=ut}return(1+E)/X.length}}},ntile:function(E,P){P=+P,P>0||e.error("ntile num must be greater than zero.");let X=$.cume_dist(),ye=X.next;return{init:X.init,next:ut=>Math.ceil(P*ye(ut))}},lag:function(E,P){return P=+P||1,{next:X=>{let ye=X.index-P;return ye>=0?E(X.data[ye]):null}}},lead:function(E,P){return P=+P||1,{next:X=>{let ye=X.index+P,ut=X.data;return ye<ut.length?E(ut[ye]):null}}},first_value:function(E){return{next:P=>E(P.data[P.i0])}},last_value:function(E){return{next:P=>E(P.data[P.i1-1])}},nth_value:function(E,P){return P=+P,P>0||e.error("nth_value nth must be greater than zero."),{next:X=>{let ye=X.i0+(P-1);return ye<X.i1?E(X.data[ye]):null}}},prev_value:function(E){let P;return{init:()=>P=null,next:X=>{let ye=E(X.data[X.index]);return ye!=null?P=ye:P}}},next_value:function(E){let P,X;return{init:()=>(P=null,X=-1),next:ye=>{let ut=ye.data;return ye.index<=X?P:(X=ge(E,ut,ye.index))<0?(X=ut.length,P=null):P=E(ut[X])}}}};function ge(E,P,X){for(let ye=P.length;X<ye;++X)if(E(P[X])!=null)return X;return-1}let he=Object.keys($);function Q(E){let P=e.array(E.ops),X=e.array(E.fields),ye=e.array(E.params),ut=e.array(E.as),bt=this.outputs=[],Vt=this.windows=[],zt={},an={},Dn=[],On=[],In=!0;function Mr(Dr){e.array(e.accessorFields(Dr)).forEach(rr=>zt[rr]=1)}Mr(E.sort),P.forEach((Dr,rr)=>{let br=X[rr],Zr=e.accessorName(br),Wr=a(Dr,Zr,ut[rr]);if(Mr(br),bt.push(Wr),e.hasOwnProperty($,Dr))Vt.push(O(Dr,X[rr],ye[rr],Wr));else{if(br==null&&Dr!=="count"&&e.error("Null aggregate field specified."),Dr==="count"){Dn.push(Wr);return}In=!1;let Ti=an[Zr];Ti||(Ti=an[Zr]=[],Ti.field=br,On.push(Ti)),Ti.push(F(Dr,Wr))}}),(Dn.length||On.length)&&(this.cell=ae(On,Dn,In)),this.inputs=Object.keys(zt)}let oe=Q.prototype;oe.init=function(){this.windows.forEach(E=>E.init()),this.cell&&this.cell.init()},oe.update=function(E,P){let X=this.cell,ye=this.windows,ut=E.data,bt=ye&&ye.length,Vt;if(X){for(Vt=E.p0;Vt<E.i0;++Vt)X.rem(ut[Vt]);for(Vt=E.p1;Vt<E.i1;++Vt)X.add(ut[Vt]);X.set(P)}for(Vt=0;Vt<bt;++Vt)ye[Vt].update(E,P)};function ae(E,P,X){E=E.map(an=>z(an,an.field));let ye={num:0,agg:null,store:!1,count:P};if(!X)for(var ut=E.length,bt=ye.agg=Array(ut),Vt=0;Vt<ut;++Vt)bt[Vt]=new E[Vt](ye);if(ye.store)var zt=ye.data=new ie;return ye.add=function(an){if(ye.num+=1,!X){zt&&zt.add(an);for(let Dn=0;Dn<ut;++Dn)bt[Dn].add(bt[Dn].get(an),an)}},ye.rem=function(an){if(ye.num-=1,!X){zt&&zt.rem(an);for(let Dn=0;Dn<ut;++Dn)bt[Dn].rem(bt[Dn].get(an),an)}},ye.set=function(an){let Dn,On;for(zt&&zt.values(),Dn=0,On=P.length;Dn<On;++Dn)an[P[Dn]]=ye.num;if(!X)for(Dn=0,On=bt.length;Dn<On;++Dn)bt[Dn].set(an)},ye.init=function(){ye.num=0,zt&&zt.reset();for(let an=0;an<ut;++an)bt[an].init()},ye}function ze(E){t.Transform.call(this,{},E),this._mlen=0,this._mods=[]}ze.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:he.concat(v)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},e.inherits(ze,t.Transform,{transform(E,P){this.stamp=P.stamp;let X=E.modified(),ye=t.stableCompare(E.sort),ut=o(E.groupby),bt=zt=>this.group(ut(zt)),Vt=this.state;(!Vt||X)&&(Vt=this.state=new Q(E)),X||P.modified(Vt.inputs)?(this.value={},P.visit(P.SOURCE,zt=>bt(zt).add(zt))):(P.visit(P.REM,zt=>bt(zt).remove(zt)),P.visit(P.ADD,zt=>bt(zt).add(zt)));for(let zt=0,an=this._mlen;zt<an;++zt)Ot(this._mods[zt],Vt,ye,E);return this._mlen=0,this._mods=[],P.reflow(X).modifies(Vt.outputs)},group(E){let P=this.value[E];return P||(P=this.value[E]=Be(t.tupleid),P.stamp=-1),P.stamp<this.stamp&&(P.stamp=this.stamp,this._mods[this._mlen++]=P),P}});function Ot(E,P,X,ye){let ut=ye.sort,bt=ut&&!ye.ignorePeers,Vt=ye.frame||[null,0],zt=E.data(X),an=zt.length,Dn=bt?sn(ut):null,On={i0:0,i1:0,p0:0,p1:0,index:0,data:zt,compare:ut||e.constant(-1)};P.init();for(let In=0;In<an;++In)vt(On,Vt,In,an),bt&&tn(On,Dn),P.update(On,zt[In])}function vt(E,P,X,ye){E.p0=E.i0,E.p1=E.i1,E.i0=P[0]==null?0:Math.max(0,X-Math.abs(P[0])),E.i1=P[1]==null?ye:Math.min(ye,X+Math.abs(P[1])+1),E.index=X}function tn(E,P){let X=E.i0,ye=E.i1-1,ut=E.compare,bt=E.data,Vt=bt.length-1;X>0&&!ut(bt[X],bt[X-1])&&(E.i0=P.left(bt,bt[X])),ye<Vt&&!ut(bt[ye],bt[ye+1])&&(E.i1=P.right(bt,bt[ye]))}n.aggregate=Y,n.bin=me,n.collect=tt,n.compare=st,n.countpattern=mt,n.cross=je,n.density=Ge,n.dotbin=Gt,n.expression=ve,n.extent=xe,n.facet=Ye,n.field=Ve,n.filter=Ae,n.flatten=Xe,n.fold=ot,n.formula=Ct,n.generate=$t,n.impute=Yt,n.joinaggregate=qn,n.kde=bn,n.key=zn,n.load=ht,n.lookup=Ze,n.multiextent=St,n.multivalues=Xt,n.params=ne,n.pivot=Se,n.prefacet=wt,n.project=ee,n.proxy=$e,n.quantile=et,n.relay=Kt,n.sample=mn,n.sequence=fn,n.sieve=dn,n.subflow=le,n.timeunit=Rn,n.tupleindex=Pe,n.values=Et,n.window=ze,Object.defineProperty(n,"__esModule",{value:!0})})});var kO=G((zH,cPe)=>{d();(function(n,e){typeof zH=="object"&&typeof cPe!="undefined"?e(zH):typeof define=="function"&&define.amd?define(["exports"],e):e((n=typeof globalThis!="undefined"?globalThis:n||self).vega={})})(zH,function(n){"use strict";function e(t,r){if(typeof document!="undefined"&&document.createElement){let i=document.createElement("canvas");if(i&&i.getContext)return i.width=t,i.height=r,i}return null}n.canvas=e,n.domCanvas=e,n.image=()=>typeof Image!="undefined"?Image:null,Object.defineProperty(n,"__esModule",{value:!0})})});var U6=G((HH,fPe)=>{d();(function(n,e){typeof HH=="object"&&typeof fPe!="undefined"?e(HH,Ma(),e9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(HH,function(n,e,t){"use strict";function r(x,w,j){let K=x-w+j*2;return x?K>0?K:1:0}let i="identity",s="linear",o="log",a="pow",l="sqrt",f="symlog",p="time",v="utc",b="sequential",F="diverging",D="quantile",M="quantize",q="threshold",N="ordinal",B="point",I="band",z="bin-ordinal",ie="continuous",L="discrete",Y="discretizing",fe="interpolating",me="temporal";function Be(x){return function(w){let j=w[0],K=w[1],pe;return K<j&&(pe=j,j=K,K=pe),[x.invert(j),x.invert(K)]}}function tt(x){return function(w){let j=x.range(),K=w[0],pe=w[1],Te=-1,it,Pt,pn,hn;for(pe<K&&(Pt=K,K=pe,pe=Pt),pn=0,hn=j.length;pn<hn;++pn)j[pn]>=K&&j[pn]<=pe&&(Te<0&&(Te=pn),it=pn);if(!(Te<0))return K=x.invertExtent(j[Te]),pe=x.invertExtent(j[it]),[K[0]===void 0?K[1]:K[0],pe[1]===void 0?pe[0]:pe[1]]}}function st(x,w){return x==null||w==null?NaN:x<w?-1:x>w?1:x>=w?0:NaN}function Qe(x){let w=x,j=x,K=x;x.length!==2&&(w=(Pt,pn)=>x(Pt)-pn,j=st,K=(Pt,pn)=>st(x(Pt),pn));function pe(Pt,pn,hn=0,Fn=Pt.length){if(hn<Fn){if(j(pn,pn)!==0)return Fn;do{let Ln=hn+Fn>>>1;K(Pt[Ln],pn)<0?hn=Ln+1:Fn=Ln}while(hn<Fn)}return hn}function Te(Pt,pn,hn=0,Fn=Pt.length){if(hn<Fn){if(j(pn,pn)!==0)return Fn;do{let Ln=hn+Fn>>>1;K(Pt[Ln],pn)<=0?hn=Ln+1:Fn=Ln}while(hn<Fn)}return hn}function it(Pt,pn,hn=0,Fn=Pt.length){let Ln=pe(Pt,pn,hn,Fn-1);return Ln>hn&&w(Pt[Ln-1],pn)>-w(Pt[Ln],pn)?Ln-1:Ln}return{left:pe,center:it,right:Te}}function mt(x){return x===null?NaN:+x}let je=Qe(st).right;Qe(mt).center;var Z=je;class Ke extends Map{constructor(w,j=de){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:j}}),w!=null)for(let[K,pe]of w)this.set(K,pe)}get(w){return super.get(_e(this,w))}has(w){return super.has(_e(this,w))}set(w,j){return super.set(De(this,w),j)}delete(w){return super.delete(be(this,w))}}function _e({_intern:x,_key:w},j){let K=w(j);return x.has(K)?x.get(K):j}function De({_intern:x,_key:w},j){let K=w(j);return x.has(K)?x.get(K):(x.set(K,j),j)}function be({_intern:x,_key:w},j){let K=w(j);return x.has(K)&&(j=x.get(K),x.delete(K)),j}function de(x){return x!==null&&typeof x=="object"?x.valueOf():x}var Ge=Math.sqrt(50),rt=Math.sqrt(10),Bt=Math.sqrt(2);function _t(x,w,j){var K,pe=-1,Te,it,Pt;if(w=+w,x=+x,j=+j,x===w&&j>0)return[x];if((K=w<x)&&(Te=x,x=w,w=Te),(Pt=un(x,w,j))===0||!isFinite(Pt))return[];if(Pt>0){let pn=Math.round(x/Pt),hn=Math.round(w/Pt);for(pn*Pt<x&&++pn,hn*Pt>w&&--hn,it=new Array(Te=hn-pn+1);++pe<Te;)it[pe]=(pn+pe)*Pt}else{Pt=-Pt;let pn=Math.round(x*Pt),hn=Math.round(w*Pt);for(pn/Pt<x&&++pn,hn/Pt>w&&--hn,it=new Array(Te=hn-pn+1);++pe<Te;)it[pe]=(pn+pe)/Pt}return K&&it.reverse(),it}function un(x,w,j){var K=(w-x)/Math.max(0,j),pe=Math.floor(Math.log(K)/Math.LN10),Te=K/Math.pow(10,pe);return pe>=0?(Te>=Ge?10:Te>=rt?5:Te>=Bt?2:1)*Math.pow(10,pe):-Math.pow(10,-pe)/(Te>=Ge?10:Te>=rt?5:Te>=Bt?2:1)}function Tt(x,w,j){var K=Math.abs(w-x)/Math.max(0,j),pe=Math.pow(10,Math.floor(Math.log(K)/Math.LN10)),Te=K/pe;return Te>=Ge?pe*=10:Te>=rt?pe*=5:Te>=Bt&&(pe*=2),w<x?-pe:pe}function Rt(x,w,j=mt){if(!!(K=x.length)){if((w=+w)<=0||K<2)return+j(x[0],0,x);if(w>=1)return+j(x[K-1],K-1,x);var K,pe=(K-1)*w,Te=Math.floor(pe),it=+j(x[Te],Te,x),Pt=+j(x[Te+1],Te+1,x);return it+(Pt-it)*(pe-Te)}}function Gt(x,w,j){x=+x,w=+w,j=(pe=arguments.length)<2?(w=x,x=0,1):pe<3?1:+j;for(var K=-1,pe=Math.max(0,Math.ceil((w-x)/j))|0,Te=new Array(pe);++K<pe;)Te[K]=x+K*j;return Te}function xt(x,w){switch(arguments.length){case 0:break;case 1:this.range(x);break;default:this.range(w).domain(x);break}return this}function ve(x,w){switch(arguments.length){case 0:break;case 1:{typeof x=="function"?this.interpolator(x):this.range(x);break}default:{this.domain(x),typeof w=="function"?this.interpolator(w):this.range(w);break}}return this}let Oe=Symbol("implicit");function xe(){var x=new Ke,w=[],j=[],K=Oe;function pe(Te){let it=x.get(Te);if(it===void 0){if(K!==Oe)return K;x.set(Te,it=w.push(Te)-1)}return j[it%j.length]}return pe.domain=function(Te){if(!arguments.length)return w.slice();w=[],x=new Ke;for(let it of Te)x.has(it)||x.set(it,w.push(it)-1);return pe},pe.range=function(Te){return arguments.length?(j=Array.from(Te),pe):j.slice()},pe.unknown=function(Te){return arguments.length?(K=Te,pe):K},pe.copy=function(){return xe(w,j).unknown(K)},xt.apply(pe,arguments),pe}function le(x,w,j){x.prototype=w.prototype=j,j.constructor=x}function Ye(x,w){var j=Object.create(x.prototype);for(var K in w)j[K]=w[K];return j}function Ve(){}var te=.7,Ae=1/te,Xe="\\s*([+-]?\\d+)\\s*",ot="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ct="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$t=/^#([0-9a-f]{3,8})$/,Ut=new RegExp("^rgb\\("+[Xe,Xe,Xe]+"\\)$"),sn=new RegExp("^rgb\\("+[Ct,Ct,Ct]+"\\)$"),ln=new RegExp("^rgba\\("+[Xe,Xe,Xe,ot]+"\\)$"),cn=new RegExp("^rgba\\("+[Ct,Ct,Ct,ot]+"\\)$"),Ft=new RegExp("^hsl\\("+[ot,Ct,Ct]+"\\)$"),nn=new RegExp("^hsla\\("+[ot,Ct,Ct,ot]+"\\)$"),An={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};le(Ve,qe,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHsl:Cn,formatRgb:Fe,toString:Fe});function $n(){return this.rgb().formatHex()}function Cn(){return bn(this).formatHsl()}function Fe(){return this.rgb().formatRgb()}function qe(x){var w,j;return x=(x+"").trim().toLowerCase(),(w=$t.exec(x))?(j=w[1].length,w=parseInt(w[1],16),j===6?Ce(w):j===3?new Yt(w>>8&15|w>>4&240,w>>4&15|w&240,(w&15)<<4|w&15,1):j===8?Dt(w>>24&255,w>>16&255,w>>8&255,(w&255)/255):j===4?Dt(w>>12&15|w>>8&240,w>>8&15|w>>4&240,w>>4&15|w&240,((w&15)<<4|w&15)/255):null):(w=Ut.exec(x))?new Yt(w[1],w[2],w[3],1):(w=sn.exec(x))?new Yt(w[1]*255/100,w[2]*255/100,w[3]*255/100,1):(w=ln.exec(x))?Dt(w[1],w[2],w[3],w[4]):(w=cn.exec(x))?Dt(w[1]*255/100,w[2]*255/100,w[3]*255/100,w[4]):(w=Ft.exec(x))?qn(w[1],w[2]/100,w[3]/100,1):(w=nn.exec(x))?qn(w[1],w[2]/100,w[3]/100,w[4]):An.hasOwnProperty(x)?Ce(An[x]):x==="transparent"?new Yt(NaN,NaN,NaN,0):null}function Ce(x){return new Yt(x>>16&255,x>>8&255,x&255,1)}function Dt(x,w,j,K){return K<=0&&(x=w=j=NaN),new Yt(x,w,j,K)}function lt(x){return x instanceof Ve||(x=qe(x)),x?(x=x.rgb(),new Yt(x.r,x.g,x.b,x.opacity)):new Yt}function ct(x,w,j,K){return arguments.length===1?lt(x):new Yt(x,w,j,K??1)}function Yt(x,w,j,K){this.r=+x,this.g=+w,this.b=+j,this.opacity=+K}le(Yt,ct,Ye(Ve,{brighter:function(x){return x=x==null?Ae:Math.pow(Ae,x),new Yt(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){return x=x==null?te:Math.pow(te,x),new Yt(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatRgb:gn,toString:gn}));function qt(){return"#"+kn(this.r)+kn(this.g)+kn(this.b)}function gn(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(x===1?")":", "+x+")")}function kn(x){return x=Math.max(0,Math.min(255,Math.round(x)||0)),(x<16?"0":"")+x.toString(16)}function qn(x,w,j,K){return K<=0?x=w=j=NaN:j<=0||j>=1?x=w=NaN:w<=0&&(x=NaN),new He(x,w,j,K)}function bn(x){if(x instanceof He)return new He(x.h,x.s,x.l,x.opacity);if(x instanceof Ve||(x=qe(x)),!x)return new He;if(x instanceof He)return x;x=x.rgb();var w=x.r/255,j=x.g/255,K=x.b/255,pe=Math.min(w,j,K),Te=Math.max(w,j,K),it=NaN,Pt=Te-pe,pn=(Te+pe)/2;return Pt?(w===Te?it=(j-K)/Pt+(j<K)*6:j===Te?it=(K-w)/Pt+2:it=(w-j)/Pt+4,Pt/=pn<.5?Te+pe:2-Te-pe,it*=60):Pt=pn>0&&pn<1?0:it,new He(it,Pt,pn,x.opacity)}function zn(x,w,j,K){return arguments.length===1?bn(x):new He(x,w,j,K??1)}function He(x,w,j,K){this.h=+x,this.s=+w,this.l=+j,this.opacity=+K}le(He,zn,Ye(Ve,{brighter:function(x){return x=x==null?Ae:Math.pow(Ae,x),new He(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?te:Math.pow(te,x),new He(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+(this.h<0)*360,w=isNaN(x)||isNaN(this.s)?0:this.s,j=this.l,K=j+(j<.5?j:1-j)*w,pe=2*j-K;return new Yt(ht(x>=240?x-240:x+120,pe,K),ht(x,pe,K),ht(x<120?x+240:x-120,pe,K),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(x===1?")":", "+x+")")}}));function ht(x,w,j){return(x<60?w+(j-w)*x/60:x<180?j:x<240?w+(j-w)*(240-x)/60:w)*255}let se=Math.PI/180,Ie=180/Math.PI,Ze=18,St=.96422,rn=1,Xt=.82521,at=4/29,ne=6/29,Se=3*ne*ne,Me=ne*ne*ne;function ft(x){if(x instanceof wt)return new wt(x.l,x.a,x.b,x.opacity);if(x instanceof mn)return fn(x);x instanceof Yt||(x=lt(x));var w=et(x.r),j=et(x.g),K=et(x.b),pe=ee((.2225045*w+.7168786*j+.0606169*K)/rn),Te,it;return w===j&&j===K?Te=it=pe:(Te=ee((.4360747*w+.3850649*j+.1430804*K)/St),it=ee((.0139322*w+.0971045*j+.7141733*K)/Xt)),new wt(116*pe-16,500*(Te-pe),200*(pe-it),x.opacity)}function gt(x,w,j,K){return arguments.length===1?ft(x):new wt(x,w,j,K??1)}function wt(x,w,j,K){this.l=+x,this.a=+w,this.b=+j,this.opacity=+K}le(wt,gt,Ye(Ve,{brighter:function(x){return new wt(this.l+Ze*(x??1),this.a,this.b,this.opacity)},darker:function(x){return new wt(this.l-Ze*(x??1),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,w=isNaN(this.a)?x:x+this.a/500,j=isNaN(this.b)?x:x-this.b/200;return w=St*Ee(w),x=rn*Ee(x),j=Xt*Ee(j),new Yt($e(3.1338561*w-1.6168667*x-.4906146*j),$e(-.9787684*w+1.9161415*x+.033454*j),$e(.0719453*w-.2289914*x+1.4052427*j),this.opacity)}}));function ee(x){return x>Me?Math.pow(x,1/3):x/Se+at}function Ee(x){return x>ne?x*x*x:Se*(x-at)}function $e(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function et(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function It(x){if(x instanceof mn)return new mn(x.h,x.c,x.l,x.opacity);if(x instanceof wt||(x=ft(x)),x.a===0&&x.b===0)return new mn(NaN,0<x.l&&x.l<100?0:NaN,x.l,x.opacity);var w=Math.atan2(x.b,x.a)*Ie;return new mn(w<0?w+360:w,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function Kt(x,w,j,K){return arguments.length===1?It(x):new mn(x,w,j,K??1)}function mn(x,w,j,K){this.h=+x,this.c=+w,this.l=+j,this.opacity=+K}function fn(x){if(isNaN(x.h))return new wt(x.l,0,0,x.opacity);var w=x.h*se;return new wt(x.l,Math.cos(w)*x.c,Math.sin(w)*x.c,x.opacity)}le(mn,Kt,Ye(Ve,{brighter:function(x){return new mn(this.h,this.c,this.l+Ze*(x??1),this.opacity)},darker:function(x){return new mn(this.h,this.c,this.l-Ze*(x??1),this.opacity)},rgb:function(){return fn(this).rgb()}}));var dn=-.14861,Rn=1.78277,we=-.29227,Pe=-.90649,Et=1.97294,O=Et*Pe,$=Et*Rn,ge=Rn*we-Pe*dn;function he(x){if(x instanceof oe)return new oe(x.h,x.s,x.l,x.opacity);x instanceof Yt||(x=lt(x));var w=x.r/255,j=x.g/255,K=x.b/255,pe=(ge*K+O*w-$*j)/(ge+O-$),Te=K-pe,it=(Et*(j-pe)-we*Te)/Pe,Pt=Math.sqrt(it*it+Te*Te)/(Et*pe*(1-pe)),pn=Pt?Math.atan2(it,Te)*Ie-120:NaN;return new oe(pn<0?pn+360:pn,Pt,pe,x.opacity)}function Q(x,w,j,K){return arguments.length===1?he(x):new oe(x,w,j,K??1)}function oe(x,w,j,K){this.h=+x,this.s=+w,this.l=+j,this.opacity=+K}le(oe,Q,Ye(Ve,{brighter:function(x){return x=x==null?Ae:Math.pow(Ae,x),new oe(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?te:Math.pow(te,x),new oe(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*se,w=+this.l,j=isNaN(this.s)?0:this.s*w*(1-w),K=Math.cos(x),pe=Math.sin(x);return new Yt(255*(w+j*(dn*K+Rn*pe)),255*(w+j*(we*K+Pe*pe)),255*(w+j*(Et*K)),this.opacity)}}));function ae(x,w,j,K,pe){var Te=x*x,it=Te*x;return((1-3*x+3*Te-it)*w+(4-6*Te+3*it)*j+(1+3*x+3*Te-3*it)*K+it*pe)/6}function ze(x){var w=x.length-1;return function(j){var K=j<=0?j=0:j>=1?(j=1,w-1):Math.floor(j*w),pe=x[K],Te=x[K+1],it=K>0?x[K-1]:2*pe-Te,Pt=K<w-1?x[K+2]:2*Te-pe;return ae((j-K/w)*w,it,pe,Te,Pt)}}function Ot(x){var w=x.length;return function(j){var K=Math.floor(((j%=1)<0?++j:j)*w),pe=x[(K+w-1)%w],Te=x[K%w],it=x[(K+1)%w],Pt=x[(K+2)%w];return ae((j-K/w)*w,pe,Te,it,Pt)}}var vt=x=>()=>x;function tn(x,w){return function(j){return x+j*w}}function E(x,w,j){return x=Math.pow(x,j),w=Math.pow(w,j)-x,j=1/j,function(K){return Math.pow(x+K*w,j)}}function P(x,w){var j=w-x;return j?tn(x,j>180||j<-180?j-360*Math.round(j/360):j):vt(isNaN(x)?w:x)}function X(x){return(x=+x)==1?ye:function(w,j){return j-w?E(w,j,x):vt(isNaN(w)?j:w)}}function ye(x,w){var j=w-x;return j?tn(x,j):vt(isNaN(x)?w:x)}var ut=function x(w){var j=X(w);function K(pe,Te){var it=j((pe=ct(pe)).r,(Te=ct(Te)).r),Pt=j(pe.g,Te.g),pn=j(pe.b,Te.b),hn=ye(pe.opacity,Te.opacity);return function(Fn){return pe.r=it(Fn),pe.g=Pt(Fn),pe.b=pn(Fn),pe.opacity=hn(Fn),pe+""}}return K.gamma=x,K}(1);function bt(x){return function(w){var j=w.length,K=new Array(j),pe=new Array(j),Te=new Array(j),it,Pt;for(it=0;it<j;++it)Pt=ct(w[it]),K[it]=Pt.r||0,pe[it]=Pt.g||0,Te[it]=Pt.b||0;return K=x(K),pe=x(pe),Te=x(Te),Pt.opacity=1,function(pn){return Pt.r=K(pn),Pt.g=pe(pn),Pt.b=Te(pn),Pt+""}}}var Vt=bt(ze),zt=bt(Ot);function an(x,w){w||(w=[]);var j=x?Math.min(w.length,x.length):0,K=w.slice(),pe;return function(Te){for(pe=0;pe<j;++pe)K[pe]=x[pe]*(1-Te)+w[pe]*Te;return K}}function Dn(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function On(x,w){return(Dn(w)?an:In)(x,w)}function In(x,w){var j=w?w.length:0,K=x?Math.min(j,x.length):0,pe=new Array(K),Te=new Array(j),it;for(it=0;it<K;++it)pe[it]=Ni(x[it],w[it]);for(;it<j;++it)Te[it]=w[it];return function(Pt){for(it=0;it<K;++it)Te[it]=pe[it](Pt);return Te}}function Mr(x,w){var j=new Date;return x=+x,w=+w,function(K){return j.setTime(x*(1-K)+w*K),j}}function Dr(x,w){return x=+x,w=+w,function(j){return x*(1-j)+w*j}}function rr(x,w){var j={},K={},pe;(x===null||typeof x!="object")&&(x={}),(w===null||typeof w!="object")&&(w={});for(pe in w)pe in x?j[pe]=Ni(x[pe],w[pe]):K[pe]=w[pe];return function(Te){for(pe in j)K[pe]=j[pe](Te);return K}}var br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(br.source,"g");function Wr(x){return function(){return x}}function Ti(x){return function(w){return x(w)+""}}function Ki(x,w){var j=br.lastIndex=Zr.lastIndex=0,K,pe,Te,it=-1,Pt=[],pn=[];for(x=x+"",w=w+"";(K=br.exec(x))&&(pe=Zr.exec(w));)(Te=pe.index)>j&&(Te=w.slice(j,Te),Pt[it]?Pt[it]+=Te:Pt[++it]=Te),(K=K[0])===(pe=pe[0])?Pt[it]?Pt[it]+=pe:Pt[++it]=pe:(Pt[++it]=null,pn.push({i:it,x:Dr(K,pe)})),j=Zr.lastIndex;return j<w.length&&(Te=w.slice(j),Pt[it]?Pt[it]+=Te:Pt[++it]=Te),Pt.length<2?pn[0]?Ti(pn[0].x):Wr(w):(w=pn.length,function(hn){for(var Fn=0,Ln;Fn<w;++Fn)Pt[(Ln=pn[Fn]).i]=Ln.x(hn);return Pt.join("")})}function Ni(x,w){var j=typeof w,K;return w==null||j==="boolean"?vt(w):(j==="number"?Dr:j==="string"?(K=qe(w))?(w=K,ut):Ki:w instanceof qe?ut:w instanceof Date?Mr:Dn(w)?an:Array.isArray(w)?In:typeof w.valueOf!="function"&&typeof w.toString!="function"||isNaN(w)?rr:Dr)(x,w)}function ta(x){var w=x.length;return function(j){return x[Math.max(0,Math.min(w-1,Math.floor(j*w)))]}}function na(x,w){var j=P(+x,+w);return function(K){var pe=j(K);return pe-360*Math.floor(pe/360)}}function Gu(x,w){return x=+x,w=+w,function(j){return Math.round(x*(1-j)+w*j)}}var hc=180/Math.PI,eu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tu(x,w,j,K,pe,Te){var it,Pt,pn;return(it=Math.sqrt(x*x+w*w))&&(x/=it,w/=it),(pn=x*j+w*K)&&(j-=x*pn,K-=w*pn),(Pt=Math.sqrt(j*j+K*K))&&(j/=Pt,K/=Pt,pn/=Pt),x*K<w*j&&(x=-x,w=-w,pn=-pn,it=-it),{translateX:pe,translateY:Te,rotate:Math.atan2(w,x)*hc,skewX:Math.atan(pn)*hc,scaleX:it,scaleY:Pt}}var Sl;function gu(x){let w=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(x+"");return w.isIdentity?eu:tu(w.a,w.b,w.c,w.d,w.e,w.f)}function pc(x){return x==null||(Sl||(Sl=document.createElementNS("http://www.w3.org/2000/svg","g")),Sl.setAttribute("transform",x),!(x=Sl.transform.baseVal.consolidate()))?eu:(x=x.matrix,tu(x.a,x.b,x.c,x.d,x.e,x.f))}function To(x,w,j,K){function pe(hn){return hn.length?hn.pop()+" ":""}function Te(hn,Fn,Ln,Wn,dr,Ir){if(hn!==Ln||Fn!==Wn){var Er=dr.push("translate(",null,w,null,j);Ir.push({i:Er-4,x:Dr(hn,Ln)},{i:Er-2,x:Dr(Fn,Wn)})}else(Ln||Wn)&&dr.push("translate("+Ln+w+Wn+j)}function it(hn,Fn,Ln,Wn){hn!==Fn?(hn-Fn>180?Fn+=360:Fn-hn>180&&(hn+=360),Wn.push({i:Ln.push(pe(Ln)+"rotate(",null,K)-2,x:Dr(hn,Fn)})):Fn&&Ln.push(pe(Ln)+"rotate("+Fn+K)}function Pt(hn,Fn,Ln,Wn){hn!==Fn?Wn.push({i:Ln.push(pe(Ln)+"skewX(",null,K)-2,x:Dr(hn,Fn)}):Fn&&Ln.push(pe(Ln)+"skewX("+Fn+K)}function pn(hn,Fn,Ln,Wn,dr,Ir){if(hn!==Ln||Fn!==Wn){var Er=dr.push(pe(dr)+"scale(",null,",",null,")");Ir.push({i:Er-4,x:Dr(hn,Ln)},{i:Er-2,x:Dr(Fn,Wn)})}else(Ln!==1||Wn!==1)&&dr.push(pe(dr)+"scale("+Ln+","+Wn+")")}return function(hn,Fn){var Ln=[],Wn=[];return hn=x(hn),Fn=x(Fn),Te(hn.translateX,hn.translateY,Fn.translateX,Fn.translateY,Ln,Wn),it(hn.rotate,Fn.rotate,Ln,Wn),Pt(hn.skewX,Fn.skewX,Ln,Wn),pn(hn.scaleX,hn.scaleY,Fn.scaleX,Fn.scaleY,Ln,Wn),hn=Fn=null,function(dr){for(var Ir=-1,Er=Wn.length,li;++Ir<Er;)Ln[(li=Wn[Ir]).i]=li.x(dr);return Ln.join("")}}}var Ru=To(gu,"px, ","px)","deg)"),zc=To(pc,", ",")",")"),Je=1e-12;function Qt(x){return((x=Math.exp(x))+1/x)/2}function Tn(x){return((x=Math.exp(x))-1/x)/2}function Pn(x){return((x=Math.exp(2*x))-1)/(x+1)}var Ur=function x(w,j,K){function pe(Te,it){var Pt=Te[0],pn=Te[1],hn=Te[2],Fn=it[0],Ln=it[1],Wn=it[2],dr=Fn-Pt,Ir=Ln-pn,Er=dr*dr+Ir*Ir,li,hi;if(Er<Je)hi=Math.log(Wn/hn)/w,li=function(Oi){return[Pt+Oi*dr,pn+Oi*Ir,hn*Math.exp(w*Oi*hi)]};else{var os=Math.sqrt(Er),Ui=(Wn*Wn-hn*hn+K*Er)/(2*hn*j*os),Ws=(Wn*Wn-hn*hn-K*Er)/(2*Wn*j*os),Gi=Math.log(Math.sqrt(Ui*Ui+1)-Ui),Pr=Math.log(Math.sqrt(Ws*Ws+1)-Ws);hi=(Pr-Gi)/w,li=function(Oi){var ou=Oi*hi,$a=Qt(Gi),Mu=hn/(j*os)*($a*Pn(w*ou+Gi)-Tn(Gi));return[Pt+Mu*dr,pn+Mu*Ir,hn*$a/Qt(w*ou+Gi)]}}return li.duration=hi*1e3*w/Math.SQRT2,li}return pe.rho=function(Te){var it=Math.max(.001,+Te),Pt=it*it,pn=Pt*Pt;return x(it,Pt,pn)},pe}(Math.SQRT2,2,4);function wr(x){return function(w,j){var K=x((w=zn(w)).h,(j=zn(j)).h),pe=ye(w.s,j.s),Te=ye(w.l,j.l),it=ye(w.opacity,j.opacity);return function(Pt){return w.h=K(Pt),w.s=pe(Pt),w.l=Te(Pt),w.opacity=it(Pt),w+""}}}var kr=wr(P),es=wr(ye);function $s(x,w){var j=ye((x=gt(x)).l,(w=gt(w)).l),K=ye(x.a,w.a),pe=ye(x.b,w.b),Te=ye(x.opacity,w.opacity);return function(it){return x.l=j(it),x.a=K(it),x.b=pe(it),x.opacity=Te(it),x+""}}function Ls(x){return function(w,j){var K=x((w=Kt(w)).h,(j=Kt(j)).h),pe=ye(w.c,j.c),Te=ye(w.l,j.l),it=ye(w.opacity,j.opacity);return function(Pt){return w.h=K(Pt),w.c=pe(Pt),w.l=Te(Pt),w.opacity=it(Pt),w+""}}}var Js=Ls(P),zs=Ls(ye);function go(x){return function w(j){j=+j;function K(pe,Te){var it=x((pe=Q(pe)).h,(Te=Q(Te)).h),Pt=ye(pe.s,Te.s),pn=ye(pe.l,Te.l),hn=ye(pe.opacity,Te.opacity);return function(Fn){return pe.h=it(Fn),pe.s=Pt(Fn),pe.l=pn(Math.pow(Fn,j)),pe.opacity=hn(Fn),pe+""}}return K.gamma=w,K}(1)}var Xr=go(P),si=go(ye);function Vi(x,w){w===void 0&&(w=x,x=Ni);for(var j=0,K=w.length-1,pe=w[0],Te=new Array(K<0?0:K);j<K;)Te[j]=x(pe,pe=w[++j]);return function(it){var Pt=Math.max(0,Math.min(K-1,Math.floor(it*=K)));return Te[Pt](it-Pt)}}function Fo(x,w){for(var j=new Array(w),K=0;K<w;++K)j[K]=x(K/(w-1));return j}var Vo=Object.freeze({__proto__:null,interpolate:Ni,interpolateArray:On,interpolateBasis:ze,interpolateBasisClosed:Ot,interpolateDate:Mr,interpolateDiscrete:ta,interpolateHue:na,interpolateNumber:Dr,interpolateNumberArray:an,interpolateObject:rr,interpolateRound:Gu,interpolateString:Ki,interpolateTransformCss:Ru,interpolateTransformSvg:zc,interpolateZoom:Ur,interpolateRgb:ut,interpolateRgbBasis:Vt,interpolateRgbBasisClosed:zt,interpolateHsl:kr,interpolateHslLong:es,interpolateLab:$s,interpolateHcl:Js,interpolateHclLong:zs,interpolateCubehelix:Xr,interpolateCubehelixLong:si,piecewise:Vi,quantize:Fo});function Wo(x){return function(){return x}}function Hs(x){return+x}var qi=[0,1];function $i(x){return x}function ts(x,w){return(w-=x=+x)?function(j){return(j-x)/w}:Wo(isNaN(w)?NaN:.5)}function nu(x,w){var j;return x>w&&(j=x,x=w,w=j),function(K){return Math.max(x,Math.min(w,K))}}function Eo(x,w,j){var K=x[0],pe=x[1],Te=w[0],it=w[1];return pe<K?(K=ts(pe,K),Te=j(it,Te)):(K=ts(K,pe),Te=j(Te,it)),function(Pt){return Te(K(Pt))}}function Qo(x,w,j){var K=Math.min(x.length,w.length)-1,pe=new Array(K),Te=new Array(K),it=-1;for(x[K]<x[0]&&(x=x.slice().reverse(),w=w.slice().reverse());++it<K;)pe[it]=ts(x[it],x[it+1]),Te[it]=j(w[it],w[it+1]);return function(Pt){var pn=Z(x,Pt,1,K)-1;return Te[pn](pe[pn](Pt))}}function Mo(x,w){return w.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function Ei(){var x=qi,w=qi,j=Ni,K,pe,Te,it=$i,Pt,pn,hn;function Fn(){var Wn=Math.min(x.length,w.length);return it!==$i&&(it=nu(x[0],x[Wn-1])),Pt=Wn>2?Qo:Eo,pn=hn=null,Ln}function Ln(Wn){return Wn==null||isNaN(Wn=+Wn)?Te:(pn||(pn=Pt(x.map(K),w,j)))(K(it(Wn)))}return Ln.invert=function(Wn){return it(pe((hn||(hn=Pt(w,x.map(K),Dr)))(Wn)))},Ln.domain=function(Wn){return arguments.length?(x=Array.from(Wn,Hs),Fn()):x.slice()},Ln.range=function(Wn){return arguments.length?(w=Array.from(Wn),Fn()):w.slice()},Ln.rangeRound=function(Wn){return w=Array.from(Wn),j=Gu,Fn()},Ln.clamp=function(Wn){return arguments.length?(it=Wn?!0:$i,Fn()):it!==$i},Ln.interpolate=function(Wn){return arguments.length?(j=Wn,Fn()):j},Ln.unknown=function(Wn){return arguments.length?(Te=Wn,Ln):Te},function(Wn,dr){return K=Wn,pe=dr,Fn()}}function No(){return Ei()($i,$i)}function ns(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function ys(x,w){if((j=(x=w?x.toExponential(w-1):x.toExponential()).indexOf("e"))<0)return null;var j,K=x.slice(0,j);return[K.length>1?K[0]+K.slice(2):K,+x.slice(j+1)]}function Ro(x){return x=ys(Math.abs(x)),x?x[1]:NaN}function Ba(x,w){return function(j,K){for(var pe=j.length,Te=[],it=0,Pt=x[0],pn=0;pe>0&&Pt>0&&(pn+Pt+1>K&&(Pt=Math.max(1,K-pn)),Te.push(j.substring(pe-=Pt,pe+Pt)),!((pn+=Pt+1)>K));)Pt=x[it=(it+1)%x.length];return Te.reverse().join(w)}}function ja(x){return function(w){return w.replace(/[0-9]/g,function(j){return x[+j]})}}var lo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gs(x){if(!(w=lo.exec(x)))throw new Error("invalid format: "+x);var w;return new wa({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}Gs.prototype=wa.prototype;function wa(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}wa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ru(x){e:for(var w=x.length,j=1,K=-1,pe;j<w;++j)switch(x[j]){case".":K=pe=j;break;case"0":K===0&&(K=j),pe=j;break;default:if(!+x[j])break e;K>0&&(K=0);break}return K>0?x.slice(0,K)+x.slice(pe+1):x}var qa;function ra(x,w){var j=ys(x,w);if(!j)return x+"";var K=j[0],pe=j[1],Te=pe-(qa=Math.max(-8,Math.min(8,Math.floor(pe/3)))*3)+1,it=K.length;return Te===it?K:Te>it?K+new Array(Te-it+1).join("0"):Te>0?K.slice(0,Te)+"."+K.slice(Te):"0."+new Array(1-Te).join("0")+ys(x,Math.max(0,w+Te-1))[0]}function Aa(x,w){var j=ys(x,w);if(!j)return x+"";var K=j[0],pe=j[1];return pe<0?"0."+new Array(-pe).join("0")+K:K.length>pe+1?K.slice(0,pe+1)+"."+K.slice(pe+1):K+new Array(pe-K.length+2).join("0")}var Yu={"%":(x,w)=>(x*100).toFixed(w),b:x=>Math.round(x).toString(2),c:x=>x+"",d:ns,e:(x,w)=>x.toExponential(w),f:(x,w)=>x.toFixed(w),g:(x,w)=>x.toPrecision(w),o:x=>Math.round(x).toString(8),p:(x,w)=>Aa(x*100,w),r:Aa,s:ra,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function $l(x){return x}var Lo=Array.prototype.map,Cl=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Gr(x){var w=x.grouping===void 0||x.thousands===void 0?$l:Ba(Lo.call(x.grouping,Number),x.thousands+""),j=x.currency===void 0?"":x.currency[0]+"",K=x.currency===void 0?"":x.currency[1]+"",pe=x.decimal===void 0?".":x.decimal+"",Te=x.numerals===void 0?$l:ja(Lo.call(x.numerals,String)),it=x.percent===void 0?"%":x.percent+"",Pt=x.minus===void 0?"\u2212":x.minus+"",pn=x.nan===void 0?"NaN":x.nan+"";function hn(Ln){Ln=Gs(Ln);var Wn=Ln.fill,dr=Ln.align,Ir=Ln.sign,Er=Ln.symbol,li=Ln.zero,hi=Ln.width,os=Ln.comma,Ui=Ln.precision,Ws=Ln.trim,Gi=Ln.type;Gi==="n"?(os=!0,Gi="g"):Yu[Gi]||(Ui===void 0&&(Ui=12),Ws=!0,Gi="g"),(li||Wn==="0"&&dr==="=")&&(li=!0,Wn="0",dr="=");var Pr=Er==="$"?j:Er==="#"&&/[boxX]/.test(Gi)?"0"+Gi.toLowerCase():"",Oi=Er==="$"?K:/[%p]/.test(Gi)?it:"",ou=Yu[Gi],$a=/[defgprs%]/.test(Gi);Ui=Ui===void 0?6:/[gprs]/.test(Gi)?Math.max(1,Math.min(21,Ui)):Math.max(0,Math.min(20,Ui));function Mu(rs){var pa=Pr,au=Oi,tl,cp,X0;if(Gi==="c")au=ou(rs)+au,rs="";else{rs=+rs;var Z0=rs<0||1/rs<0;if(rs=isNaN(rs)?pn:ou(Math.abs(rs),Ui),Ws&&(rs=ru(rs)),Z0&&+rs==0&&Ir!=="+"&&(Z0=!1),pa=(Z0?Ir==="("?Ir:Pt:Ir==="-"||Ir==="("?"":Ir)+pa,au=(Gi==="s"?Cl[8+qa/3]:"")+au+(Z0&&Ir==="("?")":""),$a){for(tl=-1,cp=rs.length;++tl<cp;)if(X0=rs.charCodeAt(tl),48>X0||X0>57){au=(X0===46?pe+rs.slice(tl+1):rs.slice(tl))+au,rs=rs.slice(0,tl);break}}}os&&!li&&(rs=w(rs,1/0));var ia=pa.length+rs.length+au.length,Kl=ia<hi?new Array(hi-ia+1).join(Wn):"";switch(os&&li&&(rs=w(Kl+rs,Kl.length?hi-au.length:1/0),Kl=""),dr){case"<":rs=pa+rs+au+Kl;break;case"=":rs=pa+Kl+rs+au;break;case"^":rs=Kl.slice(0,ia=Kl.length>>1)+pa+rs+au+Kl.slice(ia);break;default:rs=Kl+pa+rs+au;break}return Te(rs)}return Mu.toString=function(){return Ln+""},Mu}function Fn(Ln,Wn){var dr=hn((Ln=Gs(Ln),Ln.type="f",Ln)),Ir=Math.max(-8,Math.min(8,Math.floor(Ro(Wn)/3)))*3,Er=Math.pow(10,-Ir),li=Cl[8+Ir/3];return function(hi){return dr(Er*hi)+li}}return{format:hn,formatPrefix:Fn}}var Ii,ji,tr;Bi({thousands:",",grouping:[3],currency:["$",""]});function Bi(x){return Ii=Gr(x),ji=Ii.format,tr=Ii.formatPrefix,Ii}function Ne(x){return Math.max(0,-Ro(Math.abs(x)))}function dt(x,w){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ro(w)/3)))*3-Ro(Math.abs(x)))}function Ht(x,w){return x=Math.abs(x),w=Math.abs(w)-x,Math.max(0,Ro(w)-Ro(x))+1}function Mt(x,w,j,K){var pe=Tt(x,w,j),Te;switch(K=Gs(K??",f"),K.type){case"s":{var it=Math.max(Math.abs(x),Math.abs(w));return K.precision==null&&!isNaN(Te=dt(pe,it))&&(K.precision=Te),tr(K,it)}case"":case"e":case"g":case"p":case"r":{K.precision==null&&!isNaN(Te=Ht(pe,Math.max(Math.abs(x),Math.abs(w))))&&(K.precision=Te-(K.type==="e"));break}case"f":case"%":{K.precision==null&&!isNaN(Te=Ne(pe))&&(K.precision=Te-(K.type==="%")*2);break}}return ji(K)}function on(x){var w=x.domain;return x.ticks=function(j){var K=w();return _t(K[0],K[K.length-1],j??10)},x.tickFormat=function(j,K){var pe=w();return Mt(pe[0],pe[pe.length-1],j??10,K)},x.nice=function(j){j==null&&(j=10);var K=w(),pe=0,Te=K.length-1,it=K[pe],Pt=K[Te],pn,hn,Fn=10;for(Pt<it&&(hn=it,it=Pt,Pt=hn,hn=pe,pe=Te,Te=hn);Fn-- >0;){if(hn=un(it,Pt,j),hn===pn)return K[pe]=it,K[Te]=Pt,w(K);if(hn>0)it=Math.floor(it/hn)*hn,Pt=Math.ceil(Pt/hn)*hn;else if(hn<0)it=Math.ceil(it*hn)/hn,Pt=Math.floor(Pt*hn)/hn;else break;pn=hn}return x},x}function wn(){var x=No();return x.copy=function(){return Mo(x,wn())},xt.apply(x,arguments),on(x)}function Bn(x){var w;function j(K){return K==null||isNaN(K=+K)?w:K}return j.invert=j,j.domain=j.range=function(K){return arguments.length?(x=Array.from(K,Hs),j):x.slice()},j.unknown=function(K){return arguments.length?(w=K,j):w},j.copy=function(){return Bn(x).unknown(w)},x=arguments.length?Array.from(x,Hs):[0,1],on(j)}function Nn(x,w){x=x.slice();var j=0,K=x.length-1,pe=x[j],Te=x[K],it;return Te<pe&&(it=j,j=K,K=it,it=pe,pe=Te,Te=it),x[j]=w.floor(pe),x[K]=w.ceil(Te),x}function or(x){return Math.log(x)}function fr(x){return Math.exp(x)}function Mn(x){return-Math.log(-x)}function Gn(x){return-Math.exp(-x)}function Hn(x){return isFinite(x)?+("1e"+x):x<0?0:x}function nr(x){return x===10?Hn:x===Math.E?Math.exp:w=>Math.pow(x,w)}function hr(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),w=>Math.log(w)/x)}function Kr(x){return(w,j)=>-x(-w,j)}function $r(x){let w=x(or,fr),j=w.domain,K=10,pe,Te;function it(){return pe=hr(K),Te=nr(K),j()[0]<0?(pe=Kr(pe),Te=Kr(Te),x(Mn,Gn)):x(or,fr),w}return w.base=function(Pt){return arguments.length?(K=+Pt,it()):K},w.domain=function(Pt){return arguments.length?(j(Pt),it()):j()},w.ticks=Pt=>{let pn=j(),hn=pn[0],Fn=pn[pn.length-1],Ln=Fn<hn;Ln&&([hn,Fn]=[Fn,hn]);let Wn=pe(hn),dr=pe(Fn),Ir,Er,li=Pt==null?10:+Pt,hi=[];if(!(K%1)&&dr-Wn<li){if(Wn=Math.floor(Wn),dr=Math.ceil(dr),hn>0){for(;Wn<=dr;++Wn)for(Ir=1;Ir<K;++Ir)if(Er=Wn<0?Ir/Te(-Wn):Ir*Te(Wn),!(Er<hn)){if(Er>Fn)break;hi.push(Er)}}else for(;Wn<=dr;++Wn)for(Ir=K-1;Ir>=1;--Ir)if(Er=Wn>0?Ir/Te(-Wn):Ir*Te(Wn),!(Er<hn)){if(Er>Fn)break;hi.push(Er)}hi.length*2<li&&(hi=_t(hn,Fn,li))}else hi=_t(Wn,dr,Math.min(dr-Wn,li)).map(Te);return Ln?hi.reverse():hi},w.tickFormat=(Pt,pn)=>{if(Pt==null&&(Pt=10),pn==null&&(pn=K===10?"s":","),typeof pn!="function"&&(!(K%1)&&(pn=Gs(pn)).precision==null&&(pn.trim=!0),pn=ji(pn)),Pt===1/0)return pn;let hn=Math.max(1,K*Pt/w.ticks().length);return Fn=>{let Ln=Fn/Te(Math.round(pe(Fn)));return Ln*K<K-.5&&(Ln*=K),Ln<=hn?pn(Fn):""}},w.nice=()=>j(Nn(j(),{floor:Pt=>Te(Math.floor(pe(Pt))),ceil:Pt=>Te(Math.ceil(pe(Pt)))})),w}function ui(){let x=$r(Ei()).domain([1,10]);return x.copy=()=>Mo(x,ui()).base(x.base()),xt.apply(x,arguments),x}function Vr(x){return function(w){return Math.sign(w)*Math.log1p(Math.abs(w/x))}}function Tr(x){return function(w){return Math.sign(w)*Math.expm1(Math.abs(w))*x}}function vr(x){var w=1,j=x(Vr(w),Tr(w));return j.constant=function(K){return arguments.length?x(Vr(w=+K),Tr(w)):w},on(j)}function ei(){var x=vr(Ei());return x.copy=function(){return Mo(x,ei()).constant(x.constant())},xt.apply(x,arguments)}function oi(x){return function(w){return w<0?-Math.pow(-w,x):Math.pow(w,x)}}function ss(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function Qi(x){return x<0?-x*x:x*x}function ti(x){var w=x($i,$i),j=1;function K(){return j===1?x($i,$i):j===.5?x(ss,Qi):x(oi(j),oi(1/j))}return w.exponent=function(pe){return arguments.length?(j=+pe,K()):j},on(w)}function vs(){var x=ti(Ei());return x.copy=function(){return Mo(x,vs()).exponent(x.exponent())},xt.apply(x,arguments),x}function Li(){return vs.apply(null,arguments).exponent(.5)}function Go(){var x=[],w=[],j=[],K;function pe(){var it=0,Pt=Math.max(1,w.length);for(j=new Array(Pt-1);++it<Pt;)j[it-1]=Rt(x,it/Pt);return Te}function Te(it){return it==null||isNaN(it=+it)?K:w[Z(j,it)]}return Te.invertExtent=function(it){var Pt=w.indexOf(it);return Pt<0?[NaN,NaN]:[Pt>0?j[Pt-1]:x[0],Pt<j.length?j[Pt]:x[x.length-1]]},Te.domain=function(it){if(!arguments.length)return x.slice();x=[];for(let Pt of it)Pt!=null&&!isNaN(Pt=+Pt)&&x.push(Pt);return x.sort(st),pe()},Te.range=function(it){return arguments.length?(w=Array.from(it),pe()):w.slice()},Te.unknown=function(it){return arguments.length?(K=it,Te):K},Te.quantiles=function(){return j.slice()},Te.copy=function(){return Go().domain(x).range(w).unknown(K)},xt.apply(Te,arguments)}function Xs(){var x=0,w=1,j=1,K=[.5],pe=[0,1],Te;function it(pn){return pn!=null&&pn<=pn?pe[Z(K,pn,0,j)]:Te}function Pt(){var pn=-1;for(K=new Array(j);++pn<j;)K[pn]=((pn+1)*w-(pn-j)*x)/(j+1);return it}return it.domain=function(pn){return arguments.length?([x,w]=pn,x=+x,w=+w,Pt()):[x,w]},it.range=function(pn){return arguments.length?(j=(pe=Array.from(pn)).length-1,Pt()):pe.slice()},it.invertExtent=function(pn){var hn=pe.indexOf(pn);return hn<0?[NaN,NaN]:hn<1?[x,K[0]]:hn>=j?[K[j-1],w]:[K[hn-1],K[hn]]},it.unknown=function(pn){return arguments.length&&(Te=pn),it},it.thresholds=function(){return K.slice()},it.copy=function(){return Xs().domain([x,w]).range(pe).unknown(Te)},xt.apply(on(it),arguments)}function ks(){var x=[.5],w=[0,1],j,K=1;function pe(Te){return Te!=null&&Te<=Te?w[Z(x,Te,0,K)]:j}return pe.domain=function(Te){return arguments.length?(x=Array.from(Te),K=Math.min(x.length,w.length-1),pe):x.slice()},pe.range=function(Te){return arguments.length?(w=Array.from(Te),K=Math.min(x.length,w.length-1),pe):w.slice()},pe.invertExtent=function(Te){var it=w.indexOf(Te);return[x[it-1],x[it]]},pe.unknown=function(Te){return arguments.length?(j=Te,pe):j},pe.copy=function(){return ks().domain(x).range(w).unknown(j)},xt.apply(pe,arguments)}var xr=new Date,zi=new Date;function _r(x,w,j,K){function pe(Te){return x(Te=arguments.length===0?new Date:new Date(+Te)),Te}return pe.floor=function(Te){return x(Te=new Date(+Te)),Te},pe.ceil=function(Te){return x(Te=new Date(Te-1)),w(Te,1),x(Te),Te},pe.round=function(Te){var it=pe(Te),Pt=pe.ceil(Te);return Te-it<Pt-Te?it:Pt},pe.offset=function(Te,it){return w(Te=new Date(+Te),it==null?1:Math.floor(it)),Te},pe.range=function(Te,it,Pt){var pn=[],hn;if(Te=pe.ceil(Te),Pt=Pt==null?1:Math.floor(Pt),!(Te<it)||!(Pt>0))return pn;do pn.push(hn=new Date(+Te)),w(Te,Pt),x(Te);while(hn<Te&&Te<it);return pn},pe.filter=function(Te){return _r(function(it){if(it>=it)for(;x(it),!Te(it);)it.setTime(it-1)},function(it,Pt){if(it>=it)if(Pt<0)for(;++Pt<=0;)for(;w(it,-1),!Te(it););else for(;--Pt>=0;)for(;w(it,1),!Te(it););})},j&&(pe.count=function(Te,it){return xr.setTime(+Te),zi.setTime(+it),x(xr),x(zi),Math.floor(j(xr,zi))},pe.every=function(Te){return Te=Math.floor(Te),!isFinite(Te)||!(Te>0)?null:Te>1?pe.filter(K?function(it){return K(it)%Te===0}:function(it){return pe.count(0,it)%Te===0}):pe}),pe}var Po=_r(function(){},function(x,w){x.setTime(+x+w)},function(x,w){return w-x});Po.every=function(x){return x=Math.floor(x),!isFinite(x)||!(x>0)?null:x>1?_r(function(w){w.setTime(Math.floor(w/x)*x)},function(w,j){w.setTime(+w+j*x)},function(w,j){return(j-w)/x}):Po};var Bo=Po;let Yo=1e3,co=Yo*60,Zs=co*60,Hi=Zs*24,iu=Hi*7,ue=Hi*30,nt=Hi*365;var Wt=_r(function(x){x.setTime(x-x.getMilliseconds())},function(x,w){x.setTime(+x+w*Yo)},function(x,w){return(w-x)/Yo},function(x){return x.getUTCSeconds()}),vn=Wt,Vn=_r(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*Yo)},function(x,w){x.setTime(+x+w*co)},function(x,w){return(w-x)/co},function(x){return x.getMinutes()}),sr=Vn,mr=_r(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*Yo-x.getMinutes()*co)},function(x,w){x.setTime(+x+w*Zs)},function(x,w){return(w-x)/Zs},function(x){return x.getHours()}),Fi=mr,Ji=_r(x=>x.setHours(0,0,0,0),(x,w)=>x.setDate(x.getDate()+w),(x,w)=>(w-x-(w.getTimezoneOffset()-x.getTimezoneOffset())*co)/Hi,x=>x.getDate()-1),Cs=Ji;function Is(x){return _r(function(w){w.setDate(w.getDate()-(w.getDay()+7-x)%7),w.setHours(0,0,0,0)},function(w,j){w.setDate(w.getDate()+j*7)},function(w,j){return(j-w-(j.getTimezoneOffset()-w.getTimezoneOffset())*co)/iu})}var Ua=Is(0),zl=Is(1);Is(2),Is(3);var q0=Is(4);Is(5),Is(6);var f1=_r(function(x){x.setDate(1),x.setHours(0,0,0,0)},function(x,w){x.setMonth(x.getMonth()+w)},function(x,w){return w.getMonth()-x.getMonth()+(w.getFullYear()-x.getFullYear())*12},function(x){return x.getMonth()}),ip=f1,Od=_r(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,w){x.setFullYear(x.getFullYear()+w)},function(x,w){return w.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});Od.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:_r(function(w){w.setFullYear(Math.floor(w.getFullYear()/x)*x),w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,j){w.setFullYear(w.getFullYear()+j*x)})};var Cf=Od,wf=_r(function(x){x.setUTCSeconds(0,0)},function(x,w){x.setTime(+x+w*co)},function(x,w){return(w-x)/co},function(x){return x.getUTCMinutes()}),U0=wf,mc=_r(function(x){x.setUTCMinutes(0,0,0)},function(x,w){x.setTime(+x+w*Zs)},function(x,w){return(w-x)/Zs},function(x){return x.getUTCHours()}),Hc=mc,d1=_r(function(x){x.setUTCHours(0,0,0,0)},function(x,w){x.setUTCDate(x.getUTCDate()+w)},function(x,w){return(w-x)/Hi},function(x){return x.getUTCDate()-1}),Nd=d1;function Vc(x){return _r(function(w){w.setUTCDate(w.getUTCDate()-(w.getUTCDay()+7-x)%7),w.setUTCHours(0,0,0,0)},function(w,j){w.setUTCDate(w.getUTCDate()+j*7)},function(w,j){return(j-w)/iu})}var $0=Vc(0),sp=Vc(1);Vc(2),Vc(3);var z0=Vc(4);Vc(5),Vc(6);var h1=_r(function(x){x.setUTCDate(1),x.setUTCHours(0,0,0,0)},function(x,w){x.setUTCMonth(x.getUTCMonth()+w)},function(x,w){return w.getUTCMonth()-x.getUTCMonth()+(w.getUTCFullYear()-x.getUTCFullYear())*12},function(x){return x.getUTCMonth()}),H0=h1,op=_r(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,w){x.setUTCFullYear(x.getUTCFullYear()+w)},function(x,w){return w.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});op.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:_r(function(w){w.setUTCFullYear(Math.floor(w.getUTCFullYear()/x)*x),w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,j){w.setUTCFullYear(w.getUTCFullYear()+j*x)})};var xc=op;function V0(x,w,j,K,pe,Te){let it=[[vn,1,Yo],[vn,5,5*Yo],[vn,15,15*Yo],[vn,30,30*Yo],[Te,1,co],[Te,5,5*co],[Te,15,15*co],[Te,30,30*co],[pe,1,Zs],[pe,3,3*Zs],[pe,6,6*Zs],[pe,12,12*Zs],[K,1,Hi],[K,2,2*Hi],[j,1,iu],[w,1,ue],[w,3,3*ue],[x,1,nt]];function Pt(hn,Fn,Ln){let Wn=Fn<hn;Wn&&([hn,Fn]=[Fn,hn]);let dr=Ln&&typeof Ln.range=="function"?Ln:pn(hn,Fn,Ln),Ir=dr?dr.range(hn,+Fn+1):[];return Wn?Ir.reverse():Ir}function pn(hn,Fn,Ln){let Wn=Math.abs(Fn-hn)/Ln,dr=Qe(([,,li])=>li).right(it,Wn);if(dr===it.length)return x.every(Tt(hn/nt,Fn/nt,Ln));if(dr===0)return Bo.every(Math.max(Tt(hn,Fn,Ln),1));let[Ir,Er]=it[Wn/it[dr-1][2]<it[dr][2]/Wn?dr-1:dr];return Ir.every(Er)}return[Pt,pn]}let[i0,s0]=V0(xc,H0,$0,Nd,Hc,U0),[Wc,gc]=V0(Cf,ip,Ua,Cs,Fi,sr);function o0(x){if(0<=x.y&&x.y<100){var w=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);return w.setFullYear(x.y),w}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function Ku(x){if(0<=x.y&&x.y<100){var w=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));return w.setUTCFullYear(x.y),w}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function Af(x,w,j){return{y:x,m:w,d:j,H:0,M:0,S:0,L:0}}function Rd(x){var w=x.dateTime,j=x.date,K=x.time,pe=x.periods,Te=x.days,it=x.shortDays,Pt=x.months,pn=x.shortMonths,hn=R(pe),Fn=J(pe),Ln=R(Te),Wn=J(Te),dr=R(it),Ir=J(it),Er=R(Pt),li=J(Pt),hi=R(pn),os=J(pn),Ui={a:Z0,A:ia,b:Kl,B:fp,c:null,d:ha,e:ha,f:Lu,g:Fr,G:E2,H:Vl,I:Xu,j:Gc,L:Yc,m:Wl,M:_2,p:$2,q:S1,Q:g1,s:y1,S:b2,u:Bg,U:Al,V:yc,w:Ar,W:D4,x:null,X:null,y:W0,Y:p1,Z:m1,"%":vc},Ws={a:nb,A:rb,b:JO,B:_9,c:null,d:Vs,e:Vs,f:O4,g:T2,G:yu,H:Q0,I:Ld,j:kd,L:Df,m:N4,M:S2,p:XO,q:ZO,Q:g1,s:y1,S:Id,u:Ql,U:Md,V:w2,w:G0,W:ap,x:null,X:null,y:A2,Y:x1,Z:jg,"%":vc},Gi={a:Mu,A:rs,b:pa,B:au,c:tl,d:Di,e:Di,f:vo,g:er,G:Qn,H:Ai,I:Ai,j:ki,L:Ko,m:xi,M:ws,p:$a,q:Nr,Q:Hl,s:wl,S:yo,u:At,U:jt,V:xn,w:ke,W:Sn,x:cp,X:X0,y:er,Y:Qn,Z:gr,"%":da};Ui.x=Pr(j,Ui),Ui.X=Pr(K,Ui),Ui.c=Pr(w,Ui),Ws.x=Pr(j,Ws),Ws.X=Pr(K,Ws),Ws.c=Pr(w,Ws);function Pr(_i,Ps){return function(eo){var Rr=[],Xc=-1,cr=0,nl=_i.length,za,Jl,ib;for(eo instanceof Date||(eo=new Date(+eo));++Xc<nl;)_i.charCodeAt(Xc)===37&&(Rr.push(_i.slice(cr,Xc)),(Jl=Ju[za=_i.charAt(++Xc)])!=null?za=_i.charAt(++Xc):Jl=za==="e"?" ":"0",(ib=Ps[za])&&(za=ib(eo,Jl)),Rr.push(za),cr=Xc+1);return Rr.push(_i.slice(cr,Xc)),Rr.join("")}}function Oi(_i,Ps){return function(eo){var Rr=Af(1900,void 0,1),Xc=ou(Rr,_i,eo+="",0),cr,nl;if(Xc!=eo.length)return null;if("Q"in Rr)return new Date(Rr.Q);if("s"in Rr)return new Date(Rr.s*1e3+("L"in Rr?Rr.L:0));if(Ps&&!("Z"in Rr)&&(Rr.Z=0),"p"in Rr&&(Rr.H=Rr.H%12+Rr.p*12),Rr.m===void 0&&(Rr.m="q"in Rr?Rr.q:0),"V"in Rr){if(Rr.V<1||Rr.V>53)return null;"w"in Rr||(Rr.w=1),"Z"in Rr?(cr=Ku(Af(Rr.y,0,1)),nl=cr.getUTCDay(),cr=nl>4||nl===0?sp.ceil(cr):sp(cr),cr=Nd.offset(cr,(Rr.V-1)*7),Rr.y=cr.getUTCFullYear(),Rr.m=cr.getUTCMonth(),Rr.d=cr.getUTCDate()+(Rr.w+6)%7):(cr=o0(Af(Rr.y,0,1)),nl=cr.getDay(),cr=nl>4||nl===0?zl.ceil(cr):zl(cr),cr=Cs.offset(cr,(Rr.V-1)*7),Rr.y=cr.getFullYear(),Rr.m=cr.getMonth(),Rr.d=cr.getDate()+(Rr.w+6)%7)}else("W"in Rr||"U"in Rr)&&("w"in Rr||(Rr.w="u"in Rr?Rr.u%7:"W"in Rr?1:0),nl="Z"in Rr?Ku(Af(Rr.y,0,1)).getUTCDay():o0(Af(Rr.y,0,1)).getDay(),Rr.m=0,Rr.d="W"in Rr?(Rr.w+6)%7+Rr.W*7-(nl+5)%7:Rr.w+Rr.U*7-(nl+6)%7);return"Z"in Rr?(Rr.H+=Rr.Z/100|0,Rr.M+=Rr.Z%100,Ku(Rr)):o0(Rr)}}function ou(_i,Ps,eo,Rr){for(var Xc=0,cr=Ps.length,nl=eo.length,za,Jl;Xc<cr;){if(Rr>=nl)return-1;if(za=Ps.charCodeAt(Xc++),za===37){if(za=Ps.charAt(Xc++),Jl=Gi[za in Ju?Ps.charAt(Xc++):za],!Jl||(Rr=Jl(_i,eo,Rr))<0)return-1}else if(za!=eo.charCodeAt(Rr++))return-1}return Rr}function $a(_i,Ps,eo){var Rr=hn.exec(Ps.slice(eo));return Rr?(_i.p=Fn.get(Rr[0].toLowerCase()),eo+Rr[0].length):-1}function Mu(_i,Ps,eo){var Rr=dr.exec(Ps.slice(eo));return Rr?(_i.w=Ir.get(Rr[0].toLowerCase()),eo+Rr[0].length):-1}function rs(_i,Ps,eo){var Rr=Ln.exec(Ps.slice(eo));return Rr?(_i.w=Wn.get(Rr[0].toLowerCase()),eo+Rr[0].length):-1}function pa(_i,Ps,eo){var Rr=hi.exec(Ps.slice(eo));return Rr?(_i.m=os.get(Rr[0].toLowerCase()),eo+Rr[0].length):-1}function au(_i,Ps,eo){var Rr=Er.exec(Ps.slice(eo));return Rr?(_i.m=li.get(Rr[0].toLowerCase()),eo+Rr[0].length):-1}function tl(_i,Ps,eo){return ou(_i,w,Ps,eo)}function cp(_i,Ps,eo){return ou(_i,j,Ps,eo)}function X0(_i,Ps,eo){return ou(_i,K,Ps,eo)}function Z0(_i){return it[_i.getDay()]}function ia(_i){return Te[_i.getDay()]}function Kl(_i){return pn[_i.getMonth()]}function fp(_i){return Pt[_i.getMonth()]}function $2(_i){return pe[+(_i.getHours()>=12)]}function S1(_i){return 1+~~(_i.getMonth()/3)}function nb(_i){return it[_i.getUTCDay()]}function rb(_i){return Te[_i.getUTCDay()]}function JO(_i){return pn[_i.getUTCMonth()]}function _9(_i){return Pt[_i.getUTCMonth()]}function XO(_i){return pe[+(_i.getUTCHours()>=12)]}function ZO(_i){return 1+~~(_i.getUTCMonth()/3)}return{format:function(_i){var Ps=Pr(_i+="",Ui);return Ps.toString=function(){return _i},Ps},parse:function(_i){var Ps=Oi(_i+="",!1);return Ps.toString=function(){return _i},Ps},utcFormat:function(_i){var Ps=Pr(_i+="",Ws);return Ps.toString=function(){return _i},Ps},utcParse:function(_i){var Ps=Oi(_i+="",!0);return Ps.toString=function(){return _i},Ps}}}var Ju={"-":"",_:" ","0":"0"},fo=/^\s*\d+/,v2=/^%/,Tf=/[\\^$*+?|[\]().{}]/g;function Ms(x,w,j){var K=x<0?"-":"",pe=(K?-x:x)+"",Te=pe.length;return K+(Te<j?new Array(j-Te+1).join(w)+pe:pe)}function Qc(x){return x.replace(Tf,"\\$&")}function R(x){return new RegExp("^(?:"+x.map(Qc).join("|")+")","i")}function J(x){return new Map(x.map((w,j)=>[w.toLowerCase(),j]))}function ke(x,w,j){var K=fo.exec(w.slice(j,j+1));return K?(x.w=+K[0],j+K[0].length):-1}function At(x,w,j){var K=fo.exec(w.slice(j,j+1));return K?(x.u=+K[0],j+K[0].length):-1}function jt(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.U=+K[0],j+K[0].length):-1}function xn(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.V=+K[0],j+K[0].length):-1}function Sn(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.W=+K[0],j+K[0].length):-1}function Qn(x,w,j){var K=fo.exec(w.slice(j,j+4));return K?(x.y=+K[0],j+K[0].length):-1}function er(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.y=+K[0]+(+K[0]>68?1900:2e3),j+K[0].length):-1}function gr(x,w,j){var K=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(w.slice(j,j+6));return K?(x.Z=K[1]?0:-(K[2]+(K[3]||"00")),j+K[0].length):-1}function Nr(x,w,j){var K=fo.exec(w.slice(j,j+1));return K?(x.q=K[0]*3-3,j+K[0].length):-1}function xi(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.m=K[0]-1,j+K[0].length):-1}function Di(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.d=+K[0],j+K[0].length):-1}function ki(x,w,j){var K=fo.exec(w.slice(j,j+3));return K?(x.m=0,x.d=+K[0],j+K[0].length):-1}function Ai(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.H=+K[0],j+K[0].length):-1}function ws(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.M=+K[0],j+K[0].length):-1}function yo(x,w,j){var K=fo.exec(w.slice(j,j+2));return K?(x.S=+K[0],j+K[0].length):-1}function Ko(x,w,j){var K=fo.exec(w.slice(j,j+3));return K?(x.L=+K[0],j+K[0].length):-1}function vo(x,w,j){var K=fo.exec(w.slice(j,j+6));return K?(x.L=Math.floor(K[0]/1e3),j+K[0].length):-1}function da(x,w,j){var K=v2.exec(w.slice(j,j+1));return K?j+K[0].length:-1}function Hl(x,w,j){var K=fo.exec(w.slice(j));return K?(x.Q=+K[0],j+K[0].length):-1}function wl(x,w,j){var K=fo.exec(w.slice(j));return K?(x.s=+K[0],j+K[0].length):-1}function ha(x,w){return Ms(x.getDate(),w,2)}function Vl(x,w){return Ms(x.getHours(),w,2)}function Xu(x,w){return Ms(x.getHours()%12||12,w,2)}function Gc(x,w){return Ms(1+Cs.count(Cf(x),x),w,3)}function Yc(x,w){return Ms(x.getMilliseconds(),w,3)}function Lu(x,w){return Yc(x,w)+"000"}function Wl(x,w){return Ms(x.getMonth()+1,w,2)}function _2(x,w){return Ms(x.getMinutes(),w,2)}function b2(x,w){return Ms(x.getSeconds(),w,2)}function Bg(x){var w=x.getDay();return w===0?7:w}function Al(x,w){return Ms(Ua.count(Cf(x)-1,x),w,2)}function Ff(x){var w=x.getDay();return w>=4||w===0?q0(x):q0.ceil(x)}function yc(x,w){return x=Ff(x),Ms(q0.count(Cf(x),x)+(Cf(x).getDay()===4),w,2)}function Ar(x){return x.getDay()}function D4(x,w){return Ms(zl.count(Cf(x)-1,x),w,2)}function W0(x,w){return Ms(x.getFullYear()%100,w,2)}function Fr(x,w){return x=Ff(x),Ms(x.getFullYear()%100,w,2)}function p1(x,w){return Ms(x.getFullYear()%1e4,w,4)}function E2(x,w){var j=x.getDay();return x=j>=4||j===0?q0(x):q0.ceil(x),Ms(x.getFullYear()%1e4,w,4)}function m1(x){var w=x.getTimezoneOffset();return(w>0?"-":(w*=-1,"+"))+Ms(w/60|0,"0",2)+Ms(w%60,"0",2)}function Vs(x,w){return Ms(x.getUTCDate(),w,2)}function Q0(x,w){return Ms(x.getUTCHours(),w,2)}function Ld(x,w){return Ms(x.getUTCHours()%12||12,w,2)}function kd(x,w){return Ms(1+Nd.count(xc(x),x),w,3)}function Df(x,w){return Ms(x.getUTCMilliseconds(),w,3)}function O4(x,w){return Df(x,w)+"000"}function N4(x,w){return Ms(x.getUTCMonth()+1,w,2)}function S2(x,w){return Ms(x.getUTCMinutes(),w,2)}function Id(x,w){return Ms(x.getUTCSeconds(),w,2)}function Ql(x){var w=x.getUTCDay();return w===0?7:w}function Md(x,w){return Ms($0.count(xc(x)-1,x),w,2)}function C2(x){var w=x.getUTCDay();return w>=4||w===0?z0(x):z0.ceil(x)}function w2(x,w){return x=C2(x),Ms(z0.count(xc(x),x)+(xc(x).getUTCDay()===4),w,2)}function G0(x){return x.getUTCDay()}function ap(x,w){return Ms(sp.count(xc(x)-1,x),w,2)}function A2(x,w){return Ms(x.getUTCFullYear()%100,w,2)}function T2(x,w){return x=C2(x),Ms(x.getUTCFullYear()%100,w,2)}function x1(x,w){return Ms(x.getUTCFullYear()%1e4,w,4)}function yu(x,w){var j=x.getUTCDay();return x=j>=4||j===0?z0(x):z0.ceil(x),Ms(x.getUTCFullYear()%1e4,w,4)}function jg(){return"+0000"}function vc(){return"%"}function g1(x){return+x}function y1(x){return Math.floor(+x/1e3)}var Pd,Y0,up;F2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function F2(x){return Pd=Rd(x),Y0=Pd.format,up=Pd.utcFormat,Pd}function D2(x){return new Date(x)}function O2(x){return x instanceof Date?+x:+new Date(+x)}function Bd(x,w,j,K,pe,Te,it,Pt,pn,hn){var Fn=No(),Ln=Fn.invert,Wn=Fn.domain,dr=hn(".%L"),Ir=hn(":%S"),Er=hn("%I:%M"),li=hn("%I %p"),hi=hn("%a %d"),os=hn("%b %d"),Ui=hn("%B"),Ws=hn("%Y");function Gi(Pr){return(pn(Pr)<Pr?dr:Pt(Pr)<Pr?Ir:it(Pr)<Pr?Er:Te(Pr)<Pr?li:K(Pr)<Pr?pe(Pr)<Pr?hi:os:j(Pr)<Pr?Ui:Ws)(Pr)}return Fn.invert=function(Pr){return new Date(Ln(Pr))},Fn.domain=function(Pr){return arguments.length?Wn(Array.from(Pr,O2)):Wn().map(D2)},Fn.ticks=function(Pr){var Oi=Wn();return x(Oi[0],Oi[Oi.length-1],Pr??10)},Fn.tickFormat=function(Pr,Oi){return Oi==null?Gi:hn(Oi)},Fn.nice=function(Pr){var Oi=Wn();return(!Pr||typeof Pr.range!="function")&&(Pr=w(Oi[0],Oi[Oi.length-1],Pr??10)),Pr?Wn(Nn(Oi,Pr)):Fn},Fn.copy=function(){return Mo(Fn,Bd(x,w,j,K,pe,Te,it,Pt,pn,hn))},Fn}function _c(){return xt.apply(Bd(Wc,gc,Cf,ip,Ua,Cs,Fi,sr,vn,Y0).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function N2(){return xt.apply(Bd(i0,s0,xc,H0,$0,Nd,Hc,U0,vn,up).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tl(){var x=0,w=1,j,K,pe,Te,it=$i,Pt=!1,pn;function hn(Ln){return Ln==null||isNaN(Ln=+Ln)?pn:it(pe===0?.5:(Ln=(Te(Ln)-j)*pe,Pt?Math.max(0,Math.min(1,Ln)):Ln))}hn.domain=function(Ln){return arguments.length?([x,w]=Ln,j=Te(x=+x),K=Te(w=+w),pe=j===K?0:1/(K-j),hn):[x,w]},hn.clamp=function(Ln){return arguments.length?(Pt=!!Ln,hn):Pt},hn.interpolator=function(Ln){return arguments.length?(it=Ln,hn):it};function Fn(Ln){return function(Wn){var dr,Ir;return arguments.length?([dr,Ir]=Wn,it=Ln(dr,Ir),hn):[it(0),it(1)]}}return hn.range=Fn(Ni),hn.rangeRound=Fn(Gu),hn.unknown=function(Ln){return arguments.length?(pn=Ln,hn):pn},function(Ln){return Te=Ln,j=Ln(x),K=Ln(w),pe=j===K?0:1/(K-j),hn}}function Gl(x,w){return w.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function v1(){var x=on(Tl()($i));return x.copy=function(){return Gl(x,v1())},ve.apply(x,arguments)}function a0(){var x=$r(Tl()).domain([1,10]);return x.copy=function(){return Gl(x,a0()).base(x.base())},ve.apply(x,arguments)}function R2(){var x=vr(Tl());return x.copy=function(){return Gl(x,R2()).constant(x.constant())},ve.apply(x,arguments)}function _1(){var x=ti(Tl());return x.copy=function(){return Gl(x,_1()).exponent(x.exponent())},ve.apply(x,arguments)}function u0(){return _1.apply(null,arguments).exponent(.5)}function K0(){var x=0,w=.5,j=1,K=1,pe,Te,it,Pt,pn,hn=$i,Fn,Ln=!1,Wn;function dr(Er){return isNaN(Er=+Er)?Wn:(Er=.5+((Er=+Fn(Er))-Te)*(K*Er<K*Te?Pt:pn),hn(Ln?Math.max(0,Math.min(1,Er)):Er))}dr.domain=function(Er){return arguments.length?([x,w,j]=Er,pe=Fn(x=+x),Te=Fn(w=+w),it=Fn(j=+j),Pt=pe===Te?0:.5/(Te-pe),pn=Te===it?0:.5/(it-Te),K=Te<pe?-1:1,dr):[x,w,j]},dr.clamp=function(Er){return arguments.length?(Ln=!!Er,dr):Ln},dr.interpolator=function(Er){return arguments.length?(hn=Er,dr):hn};function Ir(Er){return function(li){var hi,os,Ui;return arguments.length?([hi,os,Ui]=li,hn=Vi(Er,[hi,os,Ui]),dr):[hn(0),hn(.5),hn(1)]}}return dr.range=Ir(Ni),dr.rangeRound=Ir(Gu),dr.unknown=function(Er){return arguments.length?(Wn=Er,dr):Wn},function(Er){return Fn=Er,pe=Er(x),Te=Er(w),it=Er(j),Pt=pe===Te?0:.5/(Te-pe),pn=Te===it?0:.5/(it-Te),K=Te<pe?-1:1,dr}}function l0(){var x=on(K0()($i));return x.copy=function(){return Gl(x,l0())},ve.apply(x,arguments)}function Fl(){var x=$r(K0()).domain([.1,1,10]);return x.copy=function(){return Gl(x,Fl()).base(x.base())},ve.apply(x,arguments)}function Yl(){var x=vr(K0());return x.copy=function(){return Gl(x,Yl()).constant(x.constant())},ve.apply(x,arguments)}function L2(){var x=ti(K0());return x.copy=function(){return Gl(x,L2()).exponent(x.exponent())},ve.apply(x,arguments)}function ku(){return L2.apply(null,arguments).exponent(.5)}function lp(){let x=xe().unknown(void 0),w=x.domain,j=x.range,K=[0,1],pe,Te,it=!1,Pt=0,pn=0,hn=.5;delete x.unknown;function Fn(){let Ln=w().length,Wn=K[1]<K[0],dr=K[1-Wn],Ir=r(Ln,Pt,pn),Er=K[Wn-0];pe=(dr-Er)/(Ir||1),it&&(pe=Math.floor(pe)),Er+=(dr-Er-pe*(Ln-Pt))*hn,Te=pe*(1-Pt),it&&(Er=Math.round(Er),Te=Math.round(Te));let li=Gt(Ln).map(hi=>Er+pe*hi);return j(Wn?li.reverse():li)}return x.domain=function(Ln){return arguments.length?(w(Ln),Fn()):w()},x.range=function(Ln){return arguments.length?(K=[+Ln[0],+Ln[1]],Fn()):K.slice()},x.rangeRound=function(Ln){return K=[+Ln[0],+Ln[1]],it=!0,Fn()},x.bandwidth=function(){return Te},x.step=function(){return pe},x.round=function(Ln){return arguments.length?(it=!!Ln,Fn()):it},x.padding=function(Ln){return arguments.length?(pn=Math.max(0,Math.min(1,Ln)),Pt=pn,Fn()):Pt},x.paddingInner=function(Ln){return arguments.length?(Pt=Math.max(0,Math.min(1,Ln)),Fn()):Pt},x.paddingOuter=function(Ln){return arguments.length?(pn=Math.max(0,Math.min(1,Ln)),Fn()):pn},x.align=function(Ln){return arguments.length?(hn=Math.max(0,Math.min(1,Ln)),Fn()):hn},x.invertRange=function(Ln){if(Ln[0]==null||Ln[1]==null)return;let Wn=K[1]<K[0],dr=Wn?j().reverse():j(),Ir=dr.length-1,Er=+Ln[0],li=+Ln[1],hi,os,Ui;if(!(Er!==Er||li!==li)&&(li<Er&&(Ui=Er,Er=li,li=Ui),!(li<dr[0]||Er>K[1-Wn])))return hi=Math.max(0,je(dr,Er)-1),os=Er===li?hi:je(dr,li)-1,Er-dr[hi]>Te+1e-10&&++hi,Wn&&(Ui=hi,hi=Ir-os,os=Ir-Ui),hi>os?void 0:w().slice(hi,os+1)},x.invert=function(Ln){let Wn=x.invertRange([Ln,Ln]);return Wn&&Wn[0]},x.copy=function(){return lp().domain(w()).range(K).round(it).paddingInner(Pt).paddingOuter(pn).align(hn)},Fn()}function qg(x){let w=x.copy;return x.padding=x.paddingOuter,delete x.paddingInner,x.copy=function(){return qg(w())},x}function Ug(){return qg(lp().paddingInner(1))}var b1=Array.prototype.map;function J0(x){return b1.call(x,e.toNumber)}let jd=Array.prototype.slice;function Ds(){let x=[],w=[];function j(K){return K==null||K!==K?void 0:w[(Z(x,K)-1)%w.length]}return j.domain=function(K){return arguments.length?(x=J0(K),j):x.slice()},j.range=function(K){return arguments.length?(w=jd.call(K),j):w.slice()},j.tickFormat=function(K,pe){return Mt(x[0],e.peek(x),K??10,pe)},j.copy=function(){return Ds().domain(j.domain()).range(j.range())},j}let C={};function H(x,w,j){let K=function(){let Te=w();return Te.invertRange||(Te.invertRange=Te.invert?Be(Te):Te.invertExtent?tt(Te):void 0),Te.type=x,Te};return K.metadata=e.toSet(e.array(j)),K}function ce(x,w,j){return arguments.length>1?(C[x]=H(x,w,j),this):Le(x)?C[x]:void 0}ce(i,Bn),ce(s,wn,ie),ce(o,ui,[ie,o]),ce(a,vs,ie),ce(l,Li,ie),ce(f,ei,ie),ce(p,_c,[ie,me]),ce(v,N2,[ie,me]),ce(b,v1,[ie,fe]),ce(`${b}-${s}`,v1,[ie,fe]),ce(`${b}-${o}`,a0,[ie,fe,o]),ce(`${b}-${a}`,_1,[ie,fe]),ce(`${b}-${l}`,u0,[ie,fe]),ce(`${b}-${f}`,R2,[ie,fe]),ce(`${F}-${s}`,l0,[ie,fe]),ce(`${F}-${o}`,Fl,[ie,fe,o]),ce(`${F}-${a}`,L2,[ie,fe]),ce(`${F}-${l}`,ku,[ie,fe]),ce(`${F}-${f}`,Yl,[ie,fe]),ce(D,Go,[Y,D]),ce(M,Xs,Y),ce(q,ks,Y),ce(z,Ds,[L,Y]),ce(N,xe,L),ce(I,lp,L),ce(B,Ug,L);function Le(x){return e.hasOwnProperty(C,x)}function yt(x,w){let j=C[x];return j&&j.metadata[w]}function yn(x){return yt(x,ie)}function Kn(x){return yt(x,L)}function wi(x){return yt(x,Y)}function vi(x){return yt(x,o)}function Ys(x){return yt(x,me)}function su(x){return yt(x,fe)}function Kc(x){return yt(x,D)}let c0=["clamp","base","constant","exponent"];function YO(x,w){let j=w[0],K=e.peek(w)-j;return function(pe){return x(j+pe*K)}}function p9(x,w,j){return Vi(Zu(w||"rgb",j),x)}function m9(x,w){let j=new Array(w),K=w+1;for(let pe=0;pe<w;)j[pe]=x(++pe/K);return j}function KO(x){let w=x.type,j=x.copy();return j.type=w,j}function qd(x,w,j){let K=j-w,pe,Te,it;return!K||!Number.isFinite(K)?e.constant(.5):(pe=(Te=x.type).indexOf("-"),Te=pe<0?Te:Te.slice(pe+1),it=ce(Te)().domain([w,j]).range([0,1]),c0.forEach(Pt=>x[Pt]?it[Pt](x[Pt]()):0),it)}function Zu(x,w){let j=Vo[x9(x)];return w!=null&&j&&j.gamma?j.gamma(w):j}function x9(x){return"interpolate"+x.toLowerCase().split("-").map(w=>w[0].toUpperCase()+w.slice(1)).join("")}let k2={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},E1={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function f0(x){let w=x.length/6|0,j=new Array(w);for(let K=0;K<w;)j[K]="#"+x.slice(K*6,++K*6);return j}function el(x,w){for(let j in x)Iu(j,w(x[j]))}let X6={};el(E1,f0),el(k2,x=>p9(f0(x)));function Iu(x,w){return x=x&&x.toLowerCase(),arguments.length>1?(X6[x]=w,this):X6[x]}let I2="symbol",M2="discrete",P2="gradient",Z6=x=>e.isArray(x)?x.map(w=>String(w)):String(x),B2=(x,w)=>x[1]-w[1],j2=(x,w)=>w[1]-x[1];function g9(x,w,j){let K;return e.isNumber(w)&&(x.bins&&(w=Math.max(w,x.bins.length)),j!=null&&(w=Math.min(w,Math.floor(e.span(x.domain())/j||1)))),e.isObject(w)&&(K=w.step,w=w.interval),e.isString(w)&&(w=x.type===p?t.timeInterval(w):x.type==v?t.utcInterval(w):e.error("Only time and utc scales accept interval strings."),K&&(w=w.every(K))),w}function d0(x,w,j){let K=x.range(),pe=K[0],Te=e.peek(K),it=B2;if(pe>Te&&(K=Te,Te=pe,pe=K,it=j2),pe=Math.floor(pe),Te=Math.ceil(Te),w=w.map(Pt=>[Pt,x(Pt)]).filter(Pt=>pe<=Pt[1]&&Pt[1]<=Te).sort(it).map(Pt=>Pt[0]),j>0&&w.length>1){let Pt=[w[0],e.peek(w)];for(;w.length>j&&w.length>=3;)w=w.filter((pn,hn)=>!(hn%2));w.length<3&&(w=Pt)}return w}function $g(x,w){return x.bins?d0(x,x.bins):x.ticks?x.ticks(w):x.domain()}function zg(x,w,j,K,pe,Te){let it=w.type,Pt=Z6;if(it===p||pe===p)Pt=x.timeFormat(K);else if(it===v||pe===v)Pt=x.utcFormat(K);else if(vi(it)){let pn=x.formatFloat(K);if(Te||w.bins)Pt=pn;else{let hn=R4(w,j,!1);Pt=Fn=>hn(Fn)?pn(Fn):""}}else if(w.tickFormat){let pn=w.domain();Pt=x.formatSpan(pn[0],pn[pn.length-1],j,K)}else K&&(Pt=x.format(K));return Pt}function R4(x,w,j){let K=$g(x,w),pe=x.base(),Te=Math.log(pe),it=Math.max(1,pe*w/K.length),Pt=pn=>{let hn=pn/Math.pow(pe,Math.round(Math.log(pn)/Te));return hn*pe<pe-.5&&(hn*=pe),hn<=it};return j?K.filter(Pt):Pt}let q2={[D]:"quantiles",[M]:"thresholds",[q]:"domain"},U2={[D]:"quantiles",[M]:"domain"};function Hg(x,w){return x.bins?y9(x.bins):x.type===o?R4(x,w,!0):q2[x.type]?eb(x[q2[x.type]]()):$g(x,w)}function h0(x,w,j){let K=w[U2[w.type]](),pe=K.length,Te=pe>1?K[1]-K[0]:K[0],it;for(it=1;it<pe;++it)Te=Math.min(Te,K[it]-K[it-1]);return x.formatSpan(0,Te,3*10,j)}function eb(x){let w=[-1/0].concat(x);return w.max=1/0,w}function y9(x){let w=x.slice(0,-1);return w.max=e.peek(x),w}let Jc=x=>q2[x.type]||x.bins;function L4(x,w,j,K,pe,Te,it){let Pt=U2[w.type]&&Te!==p&&Te!==v?h0(x,w,pe):zg(x,w,j,pe,Te,it);return K===I2&&Jc(w)?v9(Pt):K===M2?y(Pt):A(Pt)}let v9=x=>(w,j,K)=>{let pe=tb(K[j+1],tb(K.max,1/0)),Te=U(w,x),it=U(pe,x);return Te&&it?Te+" \u2013 "+it:it?"< "+it:"\u2265 "+Te},tb=(x,w)=>x??w,y=x=>(w,j)=>j?x(w):null,A=x=>w=>x(w),U=(x,w)=>Number.isFinite(x)?w(x):null;function W(x){let w=x.domain(),j=w.length-1,K=+w[0],pe=+e.peek(w),Te=pe-K;if(x.type===q){let it=j?Te/j:.1;K-=it,pe+=it,Te=pe-K}return it=>(it-K)/Te}function Re(x,w,j,K){let pe=K||w.type;return e.isString(j)&&Ys(pe)&&(j=j.replace(/%a/g,"%A").replace(/%b/g,"%B")),!j&&pe===p?x.timeFormat("%A, %d %B %Y, %X"):!j&&pe===v?x.utcFormat("%A, %d %B %Y, %X UTC"):L4(x,w,5,null,j,K,!0)}function pt(x,w,j){j=j||{};let K=Math.max(3,j.maxlen||7),pe=Re(x,w,j.format,j.formatType);if(wi(w.type)){let Te=Hg(w).slice(1).map(pe),it=Te.length;return`${it} boundar${it===1?"y":"ies"}: ${Te.join(", ")}`}else if(Kn(w.type)){let Te=w.domain(),it=Te.length,Pt=it>K?Te.slice(0,K-2).map(pe).join(", ")+", ending with "+Te.slice(-1).map(pe):Te.map(pe).join(", ");return`${it} value${it===1?"":"s"}: ${Pt}`}else{let Te=w.domain();return`values from ${pe(Te[0])} to ${pe(e.peek(Te))}`}}n.Band=I,n.BinOrdinal=z,n.DiscreteLegend=M2,n.Diverging=F,n.GradientLegend=P2,n.Identity=i,n.Linear=s,n.Log=o,n.Ordinal=N,n.Point=B,n.Pow=a,n.Quantile=D,n.Quantize=M,n.Sequential=b,n.Sqrt=l,n.SymbolLegend=I2,n.Symlog=f,n.Threshold=q,n.Time=p,n.UTC=v,n.bandSpace=r,n.domainCaption=pt,n.interpolate=Zu,n.interpolateColors=p9,n.interpolateRange=YO,n.isContinuous=yn,n.isDiscrete=Kn,n.isDiscretizing=wi,n.isInterpolating=su,n.isLogarithmic=vi,n.isQuantile=Kc,n.isTemporal=Ys,n.isValidScaleType=Le,n.labelFormat=L4,n.labelFraction=W,n.labelValues=Hg,n.quantizeInterpolator=m9,n.scale=ce,n.scaleCopy=KO,n.scaleFraction=qd,n.scaleImplicit=Oe,n.scheme=Iu,n.tickCount=g9,n.tickFormat=zg,n.tickValues=$g,n.validTicks=d0,Object.defineProperty(n,"__esModule",{value:!0})})});var t9=G((VH,dPe)=>{d();(function(n,e){typeof VH=="object"&&typeof dPe!="undefined"?e(VH,Ma(),kO(),jH(),U6()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(VH,function(n,e,t,r,i){"use strict";let s=0;function o(){s=0}let a="p_";function l(y){return y&&y.gradient}function f(y,A,U){let W=y.gradient,Re=y.id,pt=W==="radial"?a:"";return Re||(Re=y.id="gradient_"+s++,W==="radial"?(y.x1=p(y.x1,.5),y.y1=p(y.y1,.5),y.r1=p(y.r1,0),y.x2=p(y.x2,.5),y.y2=p(y.y2,.5),y.r2=p(y.r2,.5),pt=a):(y.x1=p(y.x1,0),y.y1=p(y.y1,0),y.x2=p(y.x2,1),y.y2=p(y.y2,0))),A[Re]=y,"url("+(U||"")+"#"+pt+Re+")"}function p(y,A){return y??A}function v(y,A){var U=[],W;return W={gradient:"linear",x1:y?y[0]:0,y1:y?y[1]:0,x2:A?A[0]:1,y2:A?A[1]:0,stops:U,stop:function(Re,pt){return U.push({offset:Re,color:pt}),W}}}let b=Math.PI,F=2*b,D=1e-6,M=F-D;function q(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function N(){return new q}q.prototype=N.prototype={constructor:q,moveTo:function(y,A){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+A)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,A){this._+="L"+(this._x1=+y)+","+(this._y1=+A)},quadraticCurveTo:function(y,A,U,W){this._+="Q"+ +y+","+ +A+","+(this._x1=+U)+","+(this._y1=+W)},bezierCurveTo:function(y,A,U,W,Re,pt){this._+="C"+ +y+","+ +A+","+ +U+","+ +W+","+(this._x1=+Re)+","+(this._y1=+pt)},arcTo:function(y,A,U,W,Re){y=+y,A=+A,U=+U,W=+W,Re=+Re;var pt=this._x1,x=this._y1,w=U-y,j=W-A,K=pt-y,pe=x-A,Te=K*K+pe*pe;if(Re<0)throw new Error("negative radius: "+Re);if(this._x1===null)this._+="M"+(this._x1=y)+","+(this._y1=A);else if(Te>D)if(!(Math.abs(pe*w-j*K)>D)||!Re)this._+="L"+(this._x1=y)+","+(this._y1=A);else{var it=U-pt,Pt=W-x,pn=w*w+j*j,hn=it*it+Pt*Pt,Fn=Math.sqrt(pn),Ln=Math.sqrt(Te),Wn=Re*Math.tan((b-Math.acos((pn+Te-hn)/(2*Fn*Ln)))/2),dr=Wn/Ln,Ir=Wn/Fn;Math.abs(dr-1)>D&&(this._+="L"+(y+dr*K)+","+(A+dr*pe)),this._+="A"+Re+","+Re+",0,0,"+ +(pe*it>K*Pt)+","+(this._x1=y+Ir*w)+","+(this._y1=A+Ir*j)}},arc:function(y,A,U,W,Re,pt){y=+y,A=+A,U=+U,pt=!!pt;var x=U*Math.cos(W),w=U*Math.sin(W),j=y+x,K=A+w,pe=1^pt,Te=pt?W-Re:Re-W;if(U<0)throw new Error("negative radius: "+U);this._x1===null?this._+="M"+j+","+K:(Math.abs(this._x1-j)>D||Math.abs(this._y1-K)>D)&&(this._+="L"+j+","+K),!!U&&(Te<0&&(Te=Te%F+F),Te>M?this._+="A"+U+","+U+",0,1,"+pe+","+(y-x)+","+(A-w)+"A"+U+","+U+",0,1,"+pe+","+(this._x1=j)+","+(this._y1=K):Te>D&&(this._+="A"+U+","+U+",0,"+ +(Te>=b)+","+pe+","+(this._x1=y+U*Math.cos(Re))+","+(this._y1=A+U*Math.sin(Re))))},rect:function(y,A,U,W){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+A)+"h"+ +U+"v"+ +W+"h"+-U+"Z"},toString:function(){return this._}};function B(y){return function(){return y}}let I=Math.abs,z=Math.atan2,ie=Math.cos,L=Math.max,Y=Math.min,fe=Math.sin,me=Math.sqrt,Be=1e-12,tt=Math.PI,st=tt/2,Qe=2*tt;function mt(y){return y>1?0:y<-1?tt:Math.acos(y)}function Lt(y){return y>=1?st:y<=-1?-st:Math.asin(y)}function je(y){return y.innerRadius}function Z(y){return y.outerRadius}function Ke(y){return y.startAngle}function _e(y){return y.endAngle}function De(y){return y&&y.padAngle}function be(y,A,U,W,Re,pt,x,w){var j=U-y,K=W-A,pe=x-Re,Te=w-pt,it=Te*j-pe*K;if(!(it*it<Be))return it=(pe*(A-pt)-Te*(y-Re))/it,[y+it*j,A+it*K]}function de(y,A,U,W,Re,pt,x){var w=y-U,j=A-W,K=(x?pt:-pt)/me(w*w+j*j),pe=K*j,Te=-K*w,it=y+pe,Pt=A+Te,pn=U+pe,hn=W+Te,Fn=(it+pn)/2,Ln=(Pt+hn)/2,Wn=pn-it,dr=hn-Pt,Ir=Wn*Wn+dr*dr,Er=Re-pt,li=it*hn-pn*Pt,hi=(dr<0?-1:1)*me(L(0,Er*Er*Ir-li*li)),os=(li*dr-Wn*hi)/Ir,Ui=(-li*Wn-dr*hi)/Ir,Ws=(li*dr+Wn*hi)/Ir,Gi=(-li*Wn+dr*hi)/Ir,Pr=os-Fn,Oi=Ui-Ln,ou=Ws-Fn,$a=Gi-Ln;return Pr*Pr+Oi*Oi>ou*ou+$a*$a&&(os=Ws,Ui=Gi),{cx:os,cy:Ui,x01:-pe,y01:-Te,x11:os*(Re/Er-1),y11:Ui*(Re/Er-1)}}function Ge(){var y=je,A=Z,U=B(0),W=null,Re=Ke,pt=_e,x=De,w=null;function j(){var K,pe,Te=+y.apply(this,arguments),it=+A.apply(this,arguments),Pt=Re.apply(this,arguments)-st,pn=pt.apply(this,arguments)-st,hn=I(pn-Pt),Fn=pn>Pt;if(w||(w=K=N()),it<Te&&(pe=it,it=Te,Te=pe),!(it>Be))w.moveTo(0,0);else if(hn>Qe-Be)w.moveTo(it*ie(Pt),it*fe(Pt)),w.arc(0,0,it,Pt,pn,!Fn),Te>Be&&(w.moveTo(Te*ie(pn),Te*fe(pn)),w.arc(0,0,Te,pn,Pt,Fn));else{var Ln=Pt,Wn=pn,dr=Pt,Ir=pn,Er=hn,li=hn,hi=x.apply(this,arguments)/2,os=hi>Be&&(W?+W.apply(this,arguments):me(Te*Te+it*it)),Ui=Y(I(it-Te)/2,+U.apply(this,arguments)),Ws=Ui,Gi=Ui,Pr,Oi;if(os>Be){var ou=Lt(os/Te*fe(hi)),$a=Lt(os/it*fe(hi));(Er-=ou*2)>Be?(ou*=Fn?1:-1,dr+=ou,Ir-=ou):(Er=0,dr=Ir=(Pt+pn)/2),(li-=$a*2)>Be?($a*=Fn?1:-1,Ln+=$a,Wn-=$a):(li=0,Ln=Wn=(Pt+pn)/2)}var Mu=it*ie(Ln),rs=it*fe(Ln),pa=Te*ie(Ir),au=Te*fe(Ir);if(Ui>Be){var tl=it*ie(Wn),cp=it*fe(Wn),X0=Te*ie(dr),Z0=Te*fe(dr),ia;if(hn<tt&&(ia=be(Mu,rs,X0,Z0,tl,cp,pa,au))){var Kl=Mu-ia[0],fp=rs-ia[1],$2=tl-ia[0],S1=cp-ia[1],nb=1/fe(mt((Kl*$2+fp*S1)/(me(Kl*Kl+fp*fp)*me($2*$2+S1*S1)))/2),rb=me(ia[0]*ia[0]+ia[1]*ia[1]);Ws=Y(Ui,(Te-rb)/(nb-1)),Gi=Y(Ui,(it-rb)/(nb+1))}}li>Be?Gi>Be?(Pr=de(X0,Z0,Mu,rs,it,Gi,Fn),Oi=de(tl,cp,pa,au,it,Gi,Fn),w.moveTo(Pr.cx+Pr.x01,Pr.cy+Pr.y01),Gi<Ui?w.arc(Pr.cx,Pr.cy,Gi,z(Pr.y01,Pr.x01),z(Oi.y01,Oi.x01),!Fn):(w.arc(Pr.cx,Pr.cy,Gi,z(Pr.y01,Pr.x01),z(Pr.y11,Pr.x11),!Fn),w.arc(0,0,it,z(Pr.cy+Pr.y11,Pr.cx+Pr.x11),z(Oi.cy+Oi.y11,Oi.cx+Oi.x11),!Fn),w.arc(Oi.cx,Oi.cy,Gi,z(Oi.y11,Oi.x11),z(Oi.y01,Oi.x01),!Fn))):(w.moveTo(Mu,rs),w.arc(0,0,it,Ln,Wn,!Fn)):w.moveTo(Mu,rs),!(Te>Be)||!(Er>Be)?w.lineTo(pa,au):Ws>Be?(Pr=de(pa,au,tl,cp,Te,-Ws,Fn),Oi=de(Mu,rs,X0,Z0,Te,-Ws,Fn),w.lineTo(Pr.cx+Pr.x01,Pr.cy+Pr.y01),Ws<Ui?w.arc(Pr.cx,Pr.cy,Ws,z(Pr.y01,Pr.x01),z(Oi.y01,Oi.x01),!Fn):(w.arc(Pr.cx,Pr.cy,Ws,z(Pr.y01,Pr.x01),z(Pr.y11,Pr.x11),!Fn),w.arc(0,0,Te,z(Pr.cy+Pr.y11,Pr.cx+Pr.x11),z(Oi.cy+Oi.y11,Oi.cx+Oi.x11),Fn),w.arc(Oi.cx,Oi.cy,Ws,z(Oi.y11,Oi.x11),z(Oi.y01,Oi.x01),!Fn))):w.arc(0,0,Te,Ir,dr,Fn)}if(w.closePath(),K)return w=null,K+""||null}return j.centroid=function(){var K=(+y.apply(this,arguments)+ +A.apply(this,arguments))/2,pe=(+Re.apply(this,arguments)+ +pt.apply(this,arguments))/2-tt/2;return[ie(pe)*K,fe(pe)*K]},j.innerRadius=function(K){return arguments.length?(y=typeof K=="function"?K:B(+K),j):y},j.outerRadius=function(K){return arguments.length?(A=typeof K=="function"?K:B(+K),j):A},j.cornerRadius=function(K){return arguments.length?(U=typeof K=="function"?K:B(+K),j):U},j.padRadius=function(K){return arguments.length?(W=K==null?null:typeof K=="function"?K:B(+K),j):W},j.startAngle=function(K){return arguments.length?(Re=typeof K=="function"?K:B(+K),j):Re},j.endAngle=function(K){return arguments.length?(pt=typeof K=="function"?K:B(+K),j):pt},j.padAngle=function(K){return arguments.length?(x=typeof K=="function"?K:B(+K),j):x},j.context=function(K){return arguments.length?(w=K??null,j):w},j}function rt(y){return typeof y=="object"&&"length"in y?y:Array.from(y)}function Bt(y){this._context=y}Bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,A):this._context.moveTo(y,A);break;case 1:this._point=2;default:this._context.lineTo(y,A);break}}};function _t(y){return new Bt(y)}function un(y){return y[0]}function Tt(y){return y[1]}function Rt(y,A){var U=B(!0),W=null,Re=_t,pt=null;y=typeof y=="function"?y:y===void 0?un:B(y),A=typeof A=="function"?A:A===void 0?Tt:B(A);function x(w){var j,K=(w=rt(w)).length,pe,Te=!1,it;for(W==null&&(pt=Re(it=N())),j=0;j<=K;++j)!(j<K&&U(pe=w[j],j,w))===Te&&((Te=!Te)?pt.lineStart():pt.lineEnd()),Te&&pt.point(+y(pe,j,w),+A(pe,j,w));if(it)return pt=null,it+""||null}return x.x=function(w){return arguments.length?(y=typeof w=="function"?w:B(+w),x):y},x.y=function(w){return arguments.length?(A=typeof w=="function"?w:B(+w),x):A},x.defined=function(w){return arguments.length?(U=typeof w=="function"?w:B(!!w),x):U},x.curve=function(w){return arguments.length?(Re=w,W!=null&&(pt=Re(W)),x):Re},x.context=function(w){return arguments.length?(w==null?W=pt=null:pt=Re(W=w),x):W},x}function Gt(y,A,U){var W=null,Re=B(!0),pt=null,x=_t,w=null;y=typeof y=="function"?y:y===void 0?un:B(+y),A=typeof A=="function"?A:B(A===void 0?0:+A),U=typeof U=="function"?U:U===void 0?Tt:B(+U);function j(pe){var Te,it,Pt,pn=(pe=rt(pe)).length,hn,Fn=!1,Ln,Wn=new Array(pn),dr=new Array(pn);for(pt==null&&(w=x(Ln=N())),Te=0;Te<=pn;++Te){if(!(Te<pn&&Re(hn=pe[Te],Te,pe))===Fn)if(Fn=!Fn)it=Te,w.areaStart(),w.lineStart();else{for(w.lineEnd(),w.lineStart(),Pt=Te-1;Pt>=it;--Pt)w.point(Wn[Pt],dr[Pt]);w.lineEnd(),w.areaEnd()}Fn&&(Wn[Te]=+y(hn,Te,pe),dr[Te]=+A(hn,Te,pe),w.point(W?+W(hn,Te,pe):Wn[Te],U?+U(hn,Te,pe):dr[Te]))}if(Ln)return w=null,Ln+""||null}function K(){return Rt().defined(Re).curve(x).context(pt)}return j.x=function(pe){return arguments.length?(y=typeof pe=="function"?pe:B(+pe),W=null,j):y},j.x0=function(pe){return arguments.length?(y=typeof pe=="function"?pe:B(+pe),j):y},j.x1=function(pe){return arguments.length?(W=pe==null?null:typeof pe=="function"?pe:B(+pe),j):W},j.y=function(pe){return arguments.length?(A=typeof pe=="function"?pe:B(+pe),U=null,j):A},j.y0=function(pe){return arguments.length?(A=typeof pe=="function"?pe:B(+pe),j):A},j.y1=function(pe){return arguments.length?(U=pe==null?null:typeof pe=="function"?pe:B(+pe),j):U},j.lineX0=j.lineY0=function(){return K().x(y).y(A)},j.lineY1=function(){return K().x(y).y(U)},j.lineX1=function(){return K().x(W).y(A)},j.defined=function(pe){return arguments.length?(Re=typeof pe=="function"?pe:B(!!pe),j):Re},j.curve=function(pe){return arguments.length?(x=pe,pt!=null&&(w=x(pt)),j):x},j.context=function(pe){return arguments.length?(pe==null?pt=w=null:w=x(pt=pe),j):pt},j}var xt={draw(y,A){let U=me(A/tt);y.moveTo(U,0),y.arc(0,0,U,0,Qe)}};function ve(y,A){let U=null;y=typeof y=="function"?y:B(y||xt),A=typeof A=="function"?A:B(A===void 0?64:+A);function W(){let Re;if(U||(U=Re=N()),y.apply(this,arguments).draw(U,+A.apply(this,arguments)),Re)return U=null,Re+""||null}return W.type=function(Re){return arguments.length?(y=typeof Re=="function"?Re:B(Re),W):y},W.size=function(Re){return arguments.length?(A=typeof Re=="function"?Re:B(+Re),W):A},W.context=function(Re){return arguments.length?(U=Re??null,W):U},W}function Oe(){}function xe(y,A,U){y._context.bezierCurveTo((2*y._x0+y._x1)/3,(2*y._y0+y._y1)/3,(y._x0+2*y._x1)/3,(y._y0+2*y._y1)/3,(y._x0+4*y._x1+A)/6,(y._y0+4*y._y1+U)/6)}function le(y){this._context=y}le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xe(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,A):this._context.moveTo(y,A);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xe(this,y,A);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=A}};function Ye(y){return new le(y)}function Ve(y){this._context=y}Ve.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1,this._x2=y,this._y2=A;break;case 1:this._point=2,this._x3=y,this._y3=A;break;case 2:this._point=3,this._x4=y,this._y4=A,this._context.moveTo((this._x0+4*this._x1+y)/6,(this._y0+4*this._y1+A)/6);break;default:xe(this,y,A);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=A}};function te(y){return new Ve(y)}function Ae(y){this._context=y}Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var U=(this._x0+4*this._x1+y)/6,W=(this._y0+4*this._y1+A)/6;this._line?this._context.lineTo(U,W):this._context.moveTo(U,W);break;case 3:this._point=4;default:xe(this,y,A);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=A}};function Xe(y){return new Ae(y)}function ot(y,A){this._basis=new le(y),this._beta=A}ot.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var y=this._x,A=this._y,U=y.length-1;if(U>0)for(var W=y[0],Re=A[0],pt=y[U]-W,x=A[U]-Re,w=-1,j;++w<=U;)j=w/U,this._basis.point(this._beta*y[w]+(1-this._beta)*(W+j*pt),this._beta*A[w]+(1-this._beta)*(Re+j*x));this._x=this._y=null,this._basis.lineEnd()},point:function(y,A){this._x.push(+y),this._y.push(+A)}};var Ct=function y(A){function U(W){return A===1?new le(W):new ot(W,A)}return U.beta=function(W){return y(+W)},U}(.85);function $t(y,A,U){y._context.bezierCurveTo(y._x1+y._k*(y._x2-y._x0),y._y1+y._k*(y._y2-y._y0),y._x2+y._k*(y._x1-A),y._y2+y._k*(y._y1-U),y._x2,y._y2)}function Ut(y,A){this._context=y,this._k=(1-A)/6}Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$t(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,A):this._context.moveTo(y,A);break;case 1:this._point=2,this._x1=y,this._y1=A;break;case 2:this._point=3;default:$t(this,y,A);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var sn=function y(A){function U(W){return new Ut(W,A)}return U.tension=function(W){return y(+W)},U}(0);function ln(y,A){this._context=y,this._k=(1-A)/6}ln.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1,this._x3=y,this._y3=A;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=A);break;case 2:this._point=3,this._x5=y,this._y5=A;break;default:$t(this,y,A);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var cn=function y(A){function U(W){return new ln(W,A)}return U.tension=function(W){return y(+W)},U}(0);function Ft(y,A){this._context=y,this._k=(1-A)/6}Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$t(this,y,A);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var nn=function y(A){function U(W){return new Ft(W,A)}return U.tension=function(W){return y(+W)},U}(0);function An(y,A,U){var W=y._x1,Re=y._y1,pt=y._x2,x=y._y2;if(y._l01_a>Be){var w=2*y._l01_2a+3*y._l01_a*y._l12_a+y._l12_2a,j=3*y._l01_a*(y._l01_a+y._l12_a);W=(W*w-y._x0*y._l12_2a+y._x2*y._l01_2a)/j,Re=(Re*w-y._y0*y._l12_2a+y._y2*y._l01_2a)/j}if(y._l23_a>Be){var K=2*y._l23_2a+3*y._l23_a*y._l12_a+y._l12_2a,pe=3*y._l23_a*(y._l23_a+y._l12_a);pt=(pt*K+y._x1*y._l23_2a-A*y._l12_2a)/pe,x=(x*K+y._y1*y._l23_2a-U*y._l12_2a)/pe}y._context.bezierCurveTo(W,Re,pt,x,y._x2,y._y2)}function $n(y,A){this._context=y,this._alpha=A}$n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){if(y=+y,A=+A,this._point){var U=this._x2-y,W=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(U*U+W*W,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,A):this._context.moveTo(y,A);break;case 1:this._point=2;break;case 2:this._point=3;default:An(this,y,A);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var Cn=function y(A){function U(W){return A?new $n(W,A):new Ut(W,0)}return U.alpha=function(W){return y(+W)},U}(.5);function Fe(y,A){this._context=y,this._alpha=A}Fe.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,A){if(y=+y,A=+A,this._point){var U=this._x2-y,W=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(U*U+W*W,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=y,this._y3=A;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=A);break;case 2:this._point=3,this._x5=y,this._y5=A;break;default:An(this,y,A);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var qe=function y(A){function U(W){return A?new Fe(W,A):new ln(W,0)}return U.alpha=function(W){return y(+W)},U}(.5);function Ce(y,A){this._context=y,this._alpha=A}Ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){if(y=+y,A=+A,this._point){var U=this._x2-y,W=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(U*U+W*W,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:An(this,y,A);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var Dt=function y(A){function U(W){return A?new Ce(W,A):new Ft(W,0)}return U.alpha=function(W){return y(+W)},U}(.5);function lt(y){this._context=y}lt.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(y,A){y=+y,A=+A,this._point?this._context.lineTo(y,A):(this._point=1,this._context.moveTo(y,A))}};function ct(y){return new lt(y)}function Yt(y){return y<0?-1:1}function qt(y,A,U){var W=y._x1-y._x0,Re=A-y._x1,pt=(y._y1-y._y0)/(W||Re<0&&-0),x=(U-y._y1)/(Re||W<0&&-0),w=(pt*Re+x*W)/(W+Re);return(Yt(pt)+Yt(x))*Math.min(Math.abs(pt),Math.abs(x),.5*Math.abs(w))||0}function gn(y,A){var U=y._x1-y._x0;return U?(3*(y._y1-y._y0)/U-A)/2:A}function kn(y,A,U){var W=y._x0,Re=y._y0,pt=y._x1,x=y._y1,w=(pt-W)/3;y._context.bezierCurveTo(W+w,Re+w*A,pt-w,x-w*U,pt,x)}function qn(y){this._context=y}qn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kn(this,this._t0,gn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,A){var U=NaN;if(y=+y,A=+A,!(y===this._x1&&A===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,A):this._context.moveTo(y,A);break;case 1:this._point=2;break;case 2:this._point=3,kn(this,gn(this,U=qt(this,y,A)),U);break;default:kn(this,this._t0,U=qt(this,y,A));break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=A,this._t0=U}}};function bn(y){this._context=new zn(y)}(bn.prototype=Object.create(qn.prototype)).point=function(y,A){qn.prototype.point.call(this,A,y)};function zn(y){this._context=y}zn.prototype={moveTo:function(y,A){this._context.moveTo(A,y)},closePath:function(){this._context.closePath()},lineTo:function(y,A){this._context.lineTo(A,y)},bezierCurveTo:function(y,A,U,W,Re,pt){this._context.bezierCurveTo(A,y,W,U,pt,Re)}};function He(y){return new qn(y)}function ht(y){return new bn(y)}function se(y){this._context=y}se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var y=this._x,A=this._y,U=y.length;if(U)if(this._line?this._context.lineTo(y[0],A[0]):this._context.moveTo(y[0],A[0]),U===2)this._context.lineTo(y[1],A[1]);else for(var W=Ie(y),Re=Ie(A),pt=0,x=1;x<U;++pt,++x)this._context.bezierCurveTo(W[0][pt],Re[0][pt],W[1][pt],Re[1][pt],y[x],A[x]);(this._line||this._line!==0&&U===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(y,A){this._x.push(+y),this._y.push(+A)}};function Ie(y){var A,U=y.length-1,W,Re=new Array(U),pt=new Array(U),x=new Array(U);for(Re[0]=0,pt[0]=2,x[0]=y[0]+2*y[1],A=1;A<U-1;++A)Re[A]=1,pt[A]=4,x[A]=4*y[A]+2*y[A+1];for(Re[U-1]=2,pt[U-1]=7,x[U-1]=8*y[U-1]+y[U],A=1;A<U;++A)W=Re[A]/pt[A-1],pt[A]-=W,x[A]-=W*x[A-1];for(Re[U-1]=x[U-1]/pt[U-1],A=U-2;A>=0;--A)Re[A]=(x[A]-Re[A+1])/pt[A];for(pt[U-1]=(y[U]+Re[U-1])/2,A=0;A<U-1;++A)pt[A]=2*y[A+1]-Re[A+1];return[Re,pt]}function Ze(y){return new se(y)}function St(y,A){this._context=y,this._t=A}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(y,A){switch(y=+y,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,A):this._context.moveTo(y,A);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,A),this._context.lineTo(y,A);else{var U=this._x*(1-this._t)+y*this._t;this._context.lineTo(U,this._y),this._context.lineTo(U,A)}break}}this._x=y,this._y=A}};function rn(y){return new St(y,.5)}function Xt(y){return new St(y,0)}function at(y){return new St(y,1)}let ne={basis:{curve:Ye},"basis-closed":{curve:te},"basis-open":{curve:Xe},bundle:{curve:Ct,tension:"beta",value:.85},cardinal:{curve:sn,tension:"tension",value:0},"cardinal-open":{curve:nn,tension:"tension",value:0},"cardinal-closed":{curve:cn,tension:"tension",value:0},"catmull-rom":{curve:Cn,tension:"alpha",value:.5},"catmull-rom-closed":{curve:qe,tension:"alpha",value:.5},"catmull-rom-open":{curve:Dt,tension:"alpha",value:.5},linear:{curve:_t},"linear-closed":{curve:ct},monotone:{horizontal:ht,vertical:He},natural:{curve:Ze},step:{curve:rn},"step-after":{curve:at},"step-before":{curve:Xt}};function Se(y,A,U){var W=e.hasOwnProperty(ne,y)&&ne[y],Re=null;return W&&(Re=W.curve||W[A||"vertical"],W.tension&&U!=null&&(Re=Re[W.tension](U))),Re}let Me={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ft=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,gt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,wt=/^((\s+,?\s*)|(,\s*))/,ee=/^[01]/;function Ee(y){let A=[];return(y.match(ft)||[]).forEach(W=>{let Re=W[0],pt=Re.toLowerCase(),x=Me[pt],w=$e(pt,x,W.slice(1).trim()),j=w.length;if(j<x||j&&j%x!==0)throw Error("Invalid SVG path, incorrect parameter count");if(A.push([Re,...w.slice(0,x)]),j!==x){pt==="m"&&(Re=Re==="M"?"L":"l");for(let K=x;K<j;K+=x)A.push([Re,...w.slice(K,K+x)])}}),A}function $e(y,A,U){let W=[];for(let Re=0;A&&Re<U.length;)for(let pt=0;pt<A;++pt){let x=y==="a"&&(pt===3||pt===4)?ee:gt,w=U.slice(Re).match(x);if(w===null)throw Error("Invalid SVG path, incorrect parameter type");Re+=w[0].length,W.push(+w[0]);let j=U.slice(Re).match(wt);j!==null&&(Re+=j[0].length)}return W}let et=Math.PI/180,It=1e-14,Kt=Math.PI/2,mn=Math.PI*2,fn=Math.sqrt(3)/2;var dn={},Rn={},we=[].join;function Pe(y,A,U,W,Re,pt,x,w,j){let K=we.call(arguments);if(dn[K])return dn[K];let pe=x*et,Te=Math.sin(pe),it=Math.cos(pe);U=Math.abs(U),W=Math.abs(W);let Pt=it*(w-y)*.5+Te*(j-A)*.5,pn=it*(j-A)*.5-Te*(w-y)*.5,hn=Pt*Pt/(U*U)+pn*pn/(W*W);hn>1&&(hn=Math.sqrt(hn),U*=hn,W*=hn);let Fn=it/U,Ln=Te/U,Wn=-Te/W,dr=it/W,Ir=Fn*w+Ln*j,Er=Wn*w+dr*j,li=Fn*y+Ln*A,hi=Wn*y+dr*A,os=(li-Ir)*(li-Ir)+(hi-Er)*(hi-Er),Ui=1/os-.25;Ui<0&&(Ui=0);let Ws=Math.sqrt(Ui);pt==Re&&(Ws=-Ws);let Gi=.5*(Ir+li)-Ws*(hi-Er),Pr=.5*(Er+hi)+Ws*(li-Ir),Oi=Math.atan2(Er-Pr,Ir-Gi),$a=Math.atan2(hi-Pr,li-Gi)-Oi;$a<0&&pt===1?$a+=mn:$a>0&&pt===0&&($a-=mn);let Mu=Math.ceil(Math.abs($a/(Kt+.001))),rs=[];for(let pa=0;pa<Mu;++pa){let au=Oi+pa*$a/Mu,tl=Oi+(pa+1)*$a/Mu;rs[pa]=[Gi,Pr,au,tl,U,W,Te,it]}return dn[K]=rs}function Et(y){let A=we.call(y);if(Rn[A])return Rn[A];var U=y[0],W=y[1],Re=y[2],pt=y[3],x=y[4],w=y[5],j=y[6],K=y[7];let pe=K*x,Te=-j*w,it=j*x,Pt=K*w,pn=Math.cos(Re),hn=Math.sin(Re),Fn=Math.cos(pt),Ln=Math.sin(pt),Wn=.5*(pt-Re),dr=Math.sin(Wn*.5),Ir=8/3*dr*dr/Math.sin(Wn),Er=U+pn-Ir*hn,li=W+hn+Ir*pn,hi=U+Fn,os=W+Ln,Ui=hi+Ir*Ln,Ws=os-Ir*Fn;return Rn[A]=[pe*Er+Te*li,it*Er+Pt*li,pe*Ui+Te*Ws,it*Ui+Pt*Ws,pe*hi+Te*os,it*hi+Pt*os]}let O=["l",0,0,0,0,0,0,0];function $(y,A,U){let W=O[0]=y[0];if(W==="a"||W==="A")O[1]=A*y[1],O[2]=U*y[2],O[3]=y[3],O[4]=y[4],O[5]=y[5],O[6]=A*y[6],O[7]=U*y[7];else if(W==="h"||W==="H")O[1]=A*y[1];else if(W==="v"||W==="V")O[1]=U*y[1];else for(var Re=1,pt=y.length;Re<pt;++Re)O[Re]=(Re%2==1?A:U)*y[Re];return O}function ge(y,A,U,W,Re,pt){var x,w=null,j=0,K=0,pe=0,Te=0,it,Pt,pn,hn,Fn=0,Ln=0;U==null&&(U=0),W==null&&(W=0),Re==null&&(Re=1),pt==null&&(pt=Re),y.beginPath&&y.beginPath();for(var Wn=0,dr=A.length;Wn<dr;++Wn){switch(x=A[Wn],(Re!==1||pt!==1)&&(x=$(x,Re,pt)),x[0]){case"l":j+=x[1],K+=x[2],y.lineTo(j+U,K+W);break;case"L":j=x[1],K=x[2],y.lineTo(j+U,K+W);break;case"h":j+=x[1],y.lineTo(j+U,K+W);break;case"H":j=x[1],y.lineTo(j+U,K+W);break;case"v":K+=x[1],y.lineTo(j+U,K+W);break;case"V":K=x[1],y.lineTo(j+U,K+W);break;case"m":j+=x[1],K+=x[2],Fn=j,Ln=K,y.moveTo(j+U,K+W);break;case"M":j=x[1],K=x[2],Fn=j,Ln=K,y.moveTo(j+U,K+W);break;case"c":it=j+x[5],Pt=K+x[6],pe=j+x[3],Te=K+x[4],y.bezierCurveTo(j+x[1]+U,K+x[2]+W,pe+U,Te+W,it+U,Pt+W),j=it,K=Pt;break;case"C":j=x[5],K=x[6],pe=x[3],Te=x[4],y.bezierCurveTo(x[1]+U,x[2]+W,pe+U,Te+W,j+U,K+W);break;case"s":it=j+x[3],Pt=K+x[4],pe=2*j-pe,Te=2*K-Te,y.bezierCurveTo(pe+U,Te+W,j+x[1]+U,K+x[2]+W,it+U,Pt+W),pe=j+x[1],Te=K+x[2],j=it,K=Pt;break;case"S":it=x[3],Pt=x[4],pe=2*j-pe,Te=2*K-Te,y.bezierCurveTo(pe+U,Te+W,x[1]+U,x[2]+W,it+U,Pt+W),j=it,K=Pt,pe=x[1],Te=x[2];break;case"q":it=j+x[3],Pt=K+x[4],pe=j+x[1],Te=K+x[2],y.quadraticCurveTo(pe+U,Te+W,it+U,Pt+W),j=it,K=Pt;break;case"Q":it=x[3],Pt=x[4],y.quadraticCurveTo(x[1]+U,x[2]+W,it+U,Pt+W),j=it,K=Pt,pe=x[1],Te=x[2];break;case"t":it=j+x[1],Pt=K+x[2],w[0].match(/[QqTt]/)===null?(pe=j,Te=K):w[0]==="t"?(pe=2*j-pn,Te=2*K-hn):w[0]==="q"&&(pe=2*j-pe,Te=2*K-Te),pn=pe,hn=Te,y.quadraticCurveTo(pe+U,Te+W,it+U,Pt+W),j=it,K=Pt,pe=j+x[1],Te=K+x[2];break;case"T":it=x[1],Pt=x[2],pe=2*j-pe,Te=2*K-Te,y.quadraticCurveTo(pe+U,Te+W,it+U,Pt+W),j=it,K=Pt;break;case"a":he(y,j+U,K+W,[x[1],x[2],x[3],x[4],x[5],x[6]+j+U,x[7]+K+W]),j+=x[6],K+=x[7];break;case"A":he(y,j+U,K+W,[x[1],x[2],x[3],x[4],x[5],x[6]+U,x[7]+W]),j=x[6],K=x[7];break;case"z":case"Z":j=Fn,K=Ln,y.closePath();break}w=x}}function he(y,A,U,W){let Re=Pe(W[5],W[6],W[0],W[1],W[3],W[4],W[2],A,U);for(let pt=0;pt<Re.length;++pt){let x=Et(Re[pt]);y.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5])}}let Q=.5773502691896257,oe={circle:{draw:function(y,A){let U=Math.sqrt(A)/2;y.moveTo(U,0),y.arc(0,0,U,0,mn)}},cross:{draw:function(y,A){var U=Math.sqrt(A)/2,W=U/2.5;y.moveTo(-U,-W),y.lineTo(-U,W),y.lineTo(-W,W),y.lineTo(-W,U),y.lineTo(W,U),y.lineTo(W,W),y.lineTo(U,W),y.lineTo(U,-W),y.lineTo(W,-W),y.lineTo(W,-U),y.lineTo(-W,-U),y.lineTo(-W,-W),y.closePath()}},diamond:{draw:function(y,A){let U=Math.sqrt(A)/2;y.moveTo(-U,0),y.lineTo(0,-U),y.lineTo(U,0),y.lineTo(0,U),y.closePath()}},square:{draw:function(y,A){var U=Math.sqrt(A),W=-U/2;y.rect(W,W,U,U)}},arrow:{draw:function(y,A){var U=Math.sqrt(A)/2,W=U/7,Re=U/2.5,pt=U/8;y.moveTo(-W,U),y.lineTo(W,U),y.lineTo(W,-pt),y.lineTo(Re,-pt),y.lineTo(0,-U),y.lineTo(-Re,-pt),y.lineTo(-W,-pt),y.closePath()}},wedge:{draw:function(y,A){var U=Math.sqrt(A)/2,W=fn*U,Re=W-U*Q,pt=U/4;y.moveTo(0,-W-Re),y.lineTo(-pt,W-Re),y.lineTo(pt,W-Re),y.closePath()}},triangle:{draw:function(y,A){var U=Math.sqrt(A)/2,W=fn*U,Re=W-U*Q;y.moveTo(0,-W-Re),y.lineTo(-U,W-Re),y.lineTo(U,W-Re),y.closePath()}},"triangle-up":{draw:function(y,A){var U=Math.sqrt(A)/2,W=fn*U;y.moveTo(0,-W),y.lineTo(-U,W),y.lineTo(U,W),y.closePath()}},"triangle-down":{draw:function(y,A){var U=Math.sqrt(A)/2,W=fn*U;y.moveTo(0,W),y.lineTo(-U,-W),y.lineTo(U,-W),y.closePath()}},"triangle-right":{draw:function(y,A){var U=Math.sqrt(A)/2,W=fn*U;y.moveTo(W,0),y.lineTo(-W,-U),y.lineTo(-W,U),y.closePath()}},"triangle-left":{draw:function(y,A){var U=Math.sqrt(A)/2,W=fn*U;y.moveTo(-W,0),y.lineTo(W,-U),y.lineTo(W,U),y.closePath()}},stroke:{draw:function(y,A){let U=Math.sqrt(A)/2;y.moveTo(-U,0),y.lineTo(U,0)}}};function ae(y){return e.hasOwnProperty(oe,y)?oe[y]:Ot(y)}var ze={};function Ot(y){if(!e.hasOwnProperty(ze,y)){let A=Ee(y);ze[y]={draw:function(U,W){ge(U,A,0,0,Math.sqrt(W)/2)}}}return ze[y]}let vt=.448084975506;function tn(y){return y.x}function E(y){return y.y}function P(y){return y.width}function X(y){return y.height}function ye(y){return typeof y=="function"?y:()=>+y}function ut(y,A,U){return Math.max(A,Math.min(y,U))}function bt(){var y=tn,A=E,U=P,W=X,Re=ye(0),pt=Re,x=Re,w=Re,j=null;function K(pe,Te,it){var Pt,pn=Te??+y.call(this,pe),hn=it??+A.call(this,pe),Fn=+U.call(this,pe),Ln=+W.call(this,pe),Wn=Math.min(Fn,Ln)/2,dr=ut(+Re.call(this,pe),0,Wn),Ir=ut(+pt.call(this,pe),0,Wn),Er=ut(+x.call(this,pe),0,Wn),li=ut(+w.call(this,pe),0,Wn);if(j||(j=Pt=N()),dr<=0&&Ir<=0&&Er<=0&&li<=0)j.rect(pn,hn,Fn,Ln);else{var hi=pn+Fn,os=hn+Ln;j.moveTo(pn+dr,hn),j.lineTo(hi-Ir,hn),j.bezierCurveTo(hi-vt*Ir,hn,hi,hn+vt*Ir,hi,hn+Ir),j.lineTo(hi,os-li),j.bezierCurveTo(hi,os-vt*li,hi-vt*li,os,hi-li,os),j.lineTo(pn+Er,os),j.bezierCurveTo(pn+vt*Er,os,pn,os-vt*Er,pn,os-Er),j.lineTo(pn,hn+dr),j.bezierCurveTo(pn,hn+vt*dr,pn+vt*dr,hn,pn+dr,hn),j.closePath()}if(Pt)return j=null,Pt+""||null}return K.x=function(pe){return arguments.length?(y=ye(pe),K):y},K.y=function(pe){return arguments.length?(A=ye(pe),K):A},K.width=function(pe){return arguments.length?(U=ye(pe),K):U},K.height=function(pe){return arguments.length?(W=ye(pe),K):W},K.cornerRadius=function(pe,Te,it,Pt){return arguments.length?(Re=ye(pe),pt=Te!=null?ye(Te):Re,w=it!=null?ye(it):Re,x=Pt!=null?ye(Pt):pt,K):Re},K.context=function(pe){return arguments.length?(j=pe??null,K):j},K}function Vt(){var y,A,U,W,Re=null,pt,x,w,j;function K(Te,it,Pt){let pn=Pt/2;if(pt){var hn=w-it,Fn=Te-x;if(hn||Fn){var Ln=Math.sqrt(hn*hn+Fn*Fn),Wn=(hn/=Ln)*j,dr=(Fn/=Ln)*j,Ir=Math.atan2(Fn,hn);Re.moveTo(x-Wn,w-dr),Re.lineTo(Te-hn*pn,it-Fn*pn),Re.arc(Te,it,pn,Ir-Math.PI,Ir),Re.lineTo(x+Wn,w+dr),Re.arc(x,w,j,Ir,Ir+Math.PI)}else Re.arc(Te,it,pn,0,mn);Re.closePath()}else pt=1;x=Te,w=it,j=pn}function pe(Te){var it,Pt=Te.length,pn,hn=!1,Fn;for(Re==null&&(Re=Fn=N()),it=0;it<=Pt;++it)!(it<Pt&&W(pn=Te[it],it,Te))===hn&&(hn=!hn)&&(pt=0),hn&&K(+y(pn,it,Te),+A(pn,it,Te),+U(pn,it,Te));if(Fn)return Re=null,Fn+""||null}return pe.x=function(Te){return arguments.length?(y=Te,pe):y},pe.y=function(Te){return arguments.length?(A=Te,pe):A},pe.size=function(Te){return arguments.length?(U=Te,pe):U},pe.defined=function(Te){return arguments.length?(W=Te,pe):W},pe.context=function(Te){return arguments.length?(Te==null?Re=null:Re=Te,pe):Re},pe}function zt(y,A){return y??A}let an=y=>y.x||0,Dn=y=>y.y||0,On=y=>y.width||0,In=y=>y.height||0,Mr=y=>(y.x||0)+(y.width||0),Dr=y=>(y.y||0)+(y.height||0),rr=y=>y.startAngle||0,br=y=>y.endAngle||0,Zr=y=>y.padAngle||0,Wr=y=>y.innerRadius||0,Ti=y=>y.outerRadius||0,Ki=y=>y.cornerRadius||0,Ni=y=>zt(y.cornerRadiusTopLeft,y.cornerRadius)||0,ta=y=>zt(y.cornerRadiusTopRight,y.cornerRadius)||0,na=y=>zt(y.cornerRadiusBottomRight,y.cornerRadius)||0,Gu=y=>zt(y.cornerRadiusBottomLeft,y.cornerRadius)||0,hc=y=>zt(y.size,64),eu=y=>y.size||1,tu=y=>y.defined!==!1,Sl=y=>ae(y.shape||"circle"),gu=Ge().startAngle(rr).endAngle(br).padAngle(Zr).innerRadius(Wr).outerRadius(Ti).cornerRadius(Ki),pc=Gt().x(an).y1(Dn).y0(Dr).defined(tu),To=Gt().y(Dn).x1(an).x0(Mr).defined(tu),Ru=Rt().x(an).y(Dn).defined(tu),zc=bt().x(an).y(Dn).width(On).height(In).cornerRadius(Ni,ta,na,Gu),Je=ve().type(Sl).size(hc),Qt=Vt().x(an).y(Dn).defined(tu).size(eu);function Tn(y){return y.cornerRadius||y.cornerRadiusTopLeft||y.cornerRadiusTopRight||y.cornerRadiusBottomRight||y.cornerRadiusBottomLeft}function Pn(y,A){return gu.context(y)(A)}function Ur(y,A){let U=A[0],W=U.interpolate||"linear";return(U.orient==="horizontal"?To:pc).curve(Se(W,U.orient,U.tension)).context(y)(A)}function wr(y,A){let U=A[0],W=U.interpolate||"linear";return Ru.curve(Se(W,U.orient,U.tension)).context(y)(A)}function kr(y,A,U,W){return zc.context(y)(A,U,W)}function es(y,A){return(A.mark.shape||A.shape).context(y)(A)}function $s(y,A){return Je.context(y)(A)}function Ls(y,A){return Qt.context(y)(A)}var Js=1;function zs(){Js=1}function go(y,A,U){var W=A.clip,Re=y._defs,pt=A.clip_id||(A.clip_id="clip"+Js++),x=Re.clipping[pt]||(Re.clipping[pt]={id:pt});return e.isFunction(W)?x.path=W(null):Tn(U)?x.path=kr(null,U,0,0):(x.width=U.width||0,x.height=U.height||0),"url(#"+pt+")"}function Xr(y){this.clear(),y&&this.union(y)}Xr.prototype={clone(){return new Xr(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(y){return this.x1===y.x1&&this.y1===y.y1&&this.x2===y.x2&&this.y2===y.y2},set(y,A,U,W){return U<y?(this.x2=y,this.x1=U):(this.x1=y,this.x2=U),W<A?(this.y2=A,this.y1=W):(this.y1=A,this.y2=W),this},add(y,A){return y<this.x1&&(this.x1=y),A<this.y1&&(this.y1=A),y>this.x2&&(this.x2=y),A>this.y2&&(this.y2=A),this},expand(y){return this.x1-=y,this.y1-=y,this.x2+=y,this.y2+=y,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(y){return this.x1*=y,this.y1*=y,this.x2*=y,this.y2*=y,this},translate(y,A){return this.x1+=y,this.x2+=y,this.y1+=A,this.y2+=A,this},rotate(y,A,U){let W=this.rotatedPoints(y,A,U);return this.clear().add(W[0],W[1]).add(W[2],W[3]).add(W[4],W[5]).add(W[6],W[7])},rotatedPoints(y,A,U){var{x1:W,y1:Re,x2:pt,y2:x}=this,w=Math.cos(y),j=Math.sin(y),K=A-A*w+U*j,pe=U-A*j-U*w;return[w*W-j*Re+K,j*W+w*Re+pe,w*W-j*x+K,j*W+w*x+pe,w*pt-j*Re+K,j*pt+w*Re+pe,w*pt-j*x+K,j*pt+w*x+pe]},union(y){return y.x1<this.x1&&(this.x1=y.x1),y.y1<this.y1&&(this.y1=y.y1),y.x2>this.x2&&(this.x2=y.x2),y.y2>this.y2&&(this.y2=y.y2),this},intersect(y){return y.x1>this.x1&&(this.x1=y.x1),y.y1>this.y1&&(this.y1=y.y1),y.x2<this.x2&&(this.x2=y.x2),y.y2<this.y2&&(this.y2=y.y2),this},encloses(y){return y&&this.x1<=y.x1&&this.x2>=y.x2&&this.y1<=y.y1&&this.y2>=y.y2},alignsWith(y){return y&&(this.x1==y.x1||this.x2==y.x2||this.y1==y.y1||this.y2==y.y2)},intersects(y){return y&&!(this.x2<y.x1||this.x1>y.x2||this.y2<y.y1||this.y1>y.y2)},contains(y,A){return!(y<this.x1||y>this.x2||A<this.y1||A>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function si(y){this.mark=y,this.bounds=this.bounds||new Xr}function Vi(y){si.call(this,y),this.items=this.items||[]}e.inherits(Vi,si);function Fo(y){this._pending=0,this._loader=y||r.loader()}function Vo(y){y._pending+=1}function Wo(y){y._pending-=1}Fo.prototype={pending(){return this._pending},sanitizeURL(y){let A=this;return Vo(A),A._loader.sanitize(y,{context:"href"}).then(U=>(Wo(A),U)).catch(()=>(Wo(A),null))},loadImage(y){let A=this,U=t.image();return Vo(A),A._loader.sanitize(y,{context:"image"}).then(W=>{let Re=W.href;if(!Re||!U)throw{url:Re};let pt=new U,x=e.hasOwnProperty(W,"crossOrigin")?W.crossOrigin:"anonymous";return x!=null&&(pt.crossOrigin=x),pt.onload=()=>Wo(A),pt.onerror=()=>Wo(A),pt.src=Re,pt}).catch(W=>(Wo(A),{complete:!1,width:0,height:0,src:W&&W.url||""}))},ready(){let y=this;return new Promise(A=>{function U(W){y.pending()?setTimeout(()=>{U(!0)},10):A(W)}U(!1)})}};function Hs(y,A,U){if(A.stroke&&A.opacity!==0&&A.strokeOpacity!==0){let W=A.strokeWidth!=null?+A.strokeWidth:1;y.expand(W+(U?qi(A,W):0))}return y}function qi(y,A){return y.strokeJoin&&y.strokeJoin!=="miter"?0:A}let $i=mn-1e-8,ts,nu,Eo,Qo,Mo,Ei,No,ns,ys=(y,A)=>ts.add(y,A),Ro=(y,A)=>ys(nu=y,Eo=A),Ba=y=>ys(y,ts.y1),ja=y=>ys(ts.x1,y),lo=(y,A)=>Mo*y+No*A,Gs=(y,A)=>Ei*y+ns*A,wa=(y,A)=>ys(lo(y,A),Gs(y,A)),ru=(y,A)=>Ro(lo(y,A),Gs(y,A));function qa(y,A){return ts=y,A?(Qo=A*et,Mo=ns=Math.cos(Qo),Ei=Math.sin(Qo),No=-Ei):(Mo=ns=1,Qo=Ei=No=0),ra}let ra={beginPath(){},closePath(){},moveTo:ru,lineTo:ru,rect(y,A,U,W){Qo?(wa(y+U,A),wa(y+U,A+W),wa(y,A+W),ru(y,A)):(ys(y+U,A+W),Ro(y,A))},quadraticCurveTo(y,A,U,W){let Re=lo(y,A),pt=Gs(y,A),x=lo(U,W),w=Gs(U,W);Aa(nu,Re,x,Ba),Aa(Eo,pt,w,ja),Ro(x,w)},bezierCurveTo(y,A,U,W,Re,pt){let x=lo(y,A),w=Gs(y,A),j=lo(U,W),K=Gs(U,W),pe=lo(Re,pt),Te=Gs(Re,pt);Yu(nu,x,j,pe,Ba),Yu(Eo,w,K,Te,ja),Ro(pe,Te)},arc(y,A,U,W,Re,pt){if(W+=Qo,Re+=Qo,nu=U*Math.cos(Re)+y,Eo=U*Math.sin(Re)+A,Math.abs(Re-W)>$i)ys(y-U,A-U),ys(y+U,A+U);else{let x=K=>ys(U*Math.cos(K)+y,U*Math.sin(K)+A),w,j;if(x(W),x(Re),Re!==W)if(W=W%mn,W<0&&(W+=mn),Re=Re%mn,Re<0&&(Re+=mn),Re<W&&(pt=!pt,w=W,W=Re,Re=w),pt)for(Re-=mn,w=W-W%Kt,j=0;j<4&&w>Re;++j,w-=Kt)x(w);else for(w=W-W%Kt+Kt,j=0;j<4&&w<Re;++j,w=w+Kt)x(w)}}};function Aa(y,A,U,W){let Re=(y-A)/(y+U-2*A);0<Re&&Re<1&&W(y+(A-y)*Re)}function Yu(y,A,U,W,Re){let pt=W-y+3*A-3*U,x=y+U-2*A,w=y-A,j=0,K=0,pe;Math.abs(pt)>It?(pe=x*x+w*pt,pe>=0&&(pe=Math.sqrt(pe),j=(-x+pe)/pt,K=(-x-pe)/pt)):j=.5*w/x,0<j&&j<1&&Re($l(j,y,A,U,W)),0<K&&K<1&&Re($l(K,y,A,U,W))}function $l(y,A,U,W,Re){let pt=1-y,x=pt*pt,w=y*y;return x*pt*A+3*x*y*U+3*pt*w*W+w*y*Re}var Lo=(Lo=t.canvas(1,1))?Lo.getContext("2d"):null;let Cl=new Xr;function Gr(y){return function(A,U){if(!Lo)return!0;y(Lo,A),Cl.clear().union(A.bounds).intersect(U).round();let{x1:W,y1:Re,x2:pt,y2:x}=Cl;for(let w=Re;w<=x;++w)for(let j=W;j<=pt;++j)if(Lo.isPointInPath(j,w))return!0;return!1}}function Ii(y,A){return A.contains(y.x||0,y.y||0)}function ji(y,A){let U=y.x||0,W=y.y||0,Re=y.width||0,pt=y.height||0;return A.intersects(Cl.set(U,W,U+Re,W+pt))}function tr(y,A){let U=y.x||0,W=y.y||0,Re=y.x2!=null?y.x2:U,pt=y.y2!=null?y.y2:W;return Bi(A,U,W,Re,pt)}function Bi(y,A,U,W,Re){let{x1:pt,y1:x,x2:w,y2:j}=y,K=W-A,pe=Re-U,Te=0,it=1,Pt,pn,hn,Fn;for(Fn=0;Fn<4;++Fn){if(Fn===0&&(Pt=-K,pn=-(pt-A)),Fn===1&&(Pt=K,pn=w-A),Fn===2&&(Pt=-pe,pn=-(x-U)),Fn===3&&(Pt=pe,pn=j-U),Math.abs(Pt)<1e-10&&pn<0)return!1;if(hn=pn/Pt,Pt<0){if(hn>it)return!1;hn>Te&&(Te=hn)}else if(Pt>0){if(hn<Te)return!1;hn<it&&(it=hn)}}return!0}function Ne(y,A){y.globalCompositeOperation=A.blend||"source-over"}function dt(y,A){return y??A}function Ht(y,A){let U=A.length;for(let W=0;W<U;++W)y.addColorStop(A[W].offset,A[W].color);return y}function Mt(y,A,U){let W=U.width(),Re=U.height(),pt;if(A.gradient==="radial")pt=y.createRadialGradient(U.x1+dt(A.x1,.5)*W,U.y1+dt(A.y1,.5)*Re,Math.max(W,Re)*dt(A.r1,0),U.x1+dt(A.x2,.5)*W,U.y1+dt(A.y2,.5)*Re,Math.max(W,Re)*dt(A.r2,.5));else{let x=dt(A.x1,0),w=dt(A.y1,0),j=dt(A.x2,1),K=dt(A.y2,0);if(x===j||w===K||W===Re)pt=y.createLinearGradient(U.x1+x*W,U.y1+w*Re,U.x1+j*W,U.y1+K*Re);else{let pe=t.canvas(Math.ceil(W),Math.ceil(Re)),Te=pe.getContext("2d");return Te.scale(W,Re),Te.fillStyle=Ht(Te.createLinearGradient(x,w,j,K),A.stops),Te.fillRect(0,0,W,Re),y.createPattern(pe,"no-repeat")}}return Ht(pt,A.stops)}function on(y,A,U){return l(U)?Mt(y,U,A.bounds):U}function wn(y,A,U){return U*=A.fillOpacity==null?1:A.fillOpacity,U>0?(y.globalAlpha=U,y.fillStyle=on(y,A,A.fill),!0):!1}var Bn=[];function Nn(y,A,U){var W=(W=A.strokeWidth)!=null?W:1;return W<=0?!1:(U*=A.strokeOpacity==null?1:A.strokeOpacity,U>0?(y.globalAlpha=U,y.strokeStyle=on(y,A,A.stroke),y.lineWidth=W,y.lineCap=A.strokeCap||"butt",y.lineJoin=A.strokeJoin||"miter",y.miterLimit=A.strokeMiterLimit||10,y.setLineDash&&(y.setLineDash(A.strokeDash||Bn),y.lineDashOffset=A.strokeDashOffset||0),!0):!1)}function or(y,A){return y.zindex-A.zindex||y.index-A.index}function fr(y){if(!y.zdirty)return y.zitems;var A=y.items,U=[],W,Re,pt;for(Re=0,pt=A.length;Re<pt;++Re)W=A[Re],W.index=Re,W.zindex&&U.push(W);return y.zdirty=!1,y.zitems=U.sort(or)}function Mn(y,A){var U=y.items,W,Re;if(!U||!U.length)return;let pt=fr(y);if(pt&&pt.length){for(W=0,Re=U.length;W<Re;++W)U[W].zindex||A(U[W]);U=pt}for(W=0,Re=U.length;W<Re;++W)A(U[W])}function Gn(y,A){var U=y.items,W,Re;if(!U||!U.length)return null;let pt=fr(y);for(pt&&pt.length&&(U=pt),Re=U.length;--Re>=0;)if(W=A(U[Re]))return W;if(U===pt){for(U=y.items,Re=U.length;--Re>=0;)if(!U[Re].zindex&&(W=A(U[Re])))return W}return null}function Hn(y){return function(A,U,W){Mn(U,Re=>{(!W||W.intersects(Re.bounds))&&hr(y,A,Re,Re)})}}function nr(y){return function(A,U,W){U.items.length&&(!W||W.intersects(U.bounds))&&hr(y,A,U.items[0],U.items)}}function hr(y,A,U,W){var Re=U.opacity==null?1:U.opacity;Re!==0&&(y(A,W)||(Ne(A,U),U.fill&&wn(A,U,Re)&&A.fill(),U.stroke&&Nn(A,U,Re)&&A.stroke()))}function Kr(y){return y=y||e.truthy,function(A,U,W,Re,pt,x){return W*=A.pixelRatio,Re*=A.pixelRatio,Gn(U,w=>{let j=w.bounds;if(!(j&&!j.contains(pt,x)||!j)&&y(A,w,W,Re,pt,x))return w})}}function $r(y,A){return function(U,W,Re,pt){var x=Array.isArray(W)?W[0]:W,w=A??x.fill,j=x.stroke&&U.isPointInStroke,K,pe;return j&&(K=x.strokeWidth,pe=x.strokeCap,U.lineWidth=K??1,U.lineCap=pe??"butt"),y(U,W)?!1:w&&U.isPointInPath(Re,pt)||j&&U.isPointInStroke(Re,pt)}}function ui(y){return Kr($r(y))}function Vr(y,A){return"translate("+y+","+A+")"}function Tr(y){return"rotate("+y+")"}function vr(y,A){return"scale("+y+","+A+")"}function ei(y){return Vr(y.x||0,y.y||0)}function oi(y){return Vr(y.x||0,y.y||0)+(y.angle?" "+Tr(y.angle):"")}function ss(y){return Vr(y.x||0,y.y||0)+(y.angle?" "+Tr(y.angle):"")+(y.scaleX||y.scaleY?" "+vr(y.scaleX||1,y.scaleY||1):"")}function Qi(y,A,U){function W(x,w){x("transform",oi(w)),x("d",A(null,w))}function Re(x,w){return A(qa(x,w.angle),w),Hs(x,w).translate(w.x||0,w.y||0)}function pt(x,w){var j=w.x||0,K=w.y||0,pe=w.angle||0;x.translate(j,K),pe&&x.rotate(pe*=et),x.beginPath(),A(x,w),pe&&x.rotate(-pe),x.translate(-j,-K)}return{type:y,tag:"path",nested:!1,attr:W,bound:Re,draw:Hn(pt),pick:ui(pt),isect:U||Gr(pt)}}var ti=Qi("arc",Pn);function vs(y,A){for(var U=y[0].orient==="horizontal"?A[1]:A[0],W=y[0].orient==="horizontal"?"y":"x",Re=y.length,pt=1/0,x,w;--Re>=0;)y[Re].defined!==!1&&(w=Math.abs(y[Re][W]-U),w<pt&&(pt=w,x=y[Re]));return x}function Li(y,A){for(var U=Math.pow(y[0].strokeWidth||1,2),W=y.length,Re,pt,x;--W>=0;)if(y[W].defined!==!1&&(Re=y[W].x-A[0],pt=y[W].y-A[1],x=Re*Re+pt*pt,x<U))return y[W];return null}function Go(y,A){for(var U=y.length,W,Re,pt;--U>=0;)if(y[U].defined!==!1&&(W=y[U].x-A[0],Re=y[U].y-A[1],pt=W*W+Re*Re,W=y[U].size||1,pt<W*W))return y[U];return null}function Xs(y,A,U){function W(j,K){var pe=K.mark.items;pe.length&&j("d",A(null,pe))}function Re(j,K){var pe=K.items;return pe.length===0?j:(A(qa(j),pe),Hs(j,pe[0]))}function pt(j,K){j.beginPath(),A(j,K)}let x=$r(pt);function w(j,K,pe,Te,it,Pt){var pn=K.items,hn=K.bounds;return!pn||!pn.length||hn&&!hn.contains(it,Pt)?null:(pe*=j.pixelRatio,Te*=j.pixelRatio,x(j,pn,pe,Te)?pn[0]:null)}return{type:y,tag:"path",nested:!0,attr:W,bound:Re,draw:nr(pt),pick:w,isect:Ii,tip:U}}var ks=Xs("area",Ur,vs);function xr(y,A){var U=A.clip;y.save(),e.isFunction(U)?(y.beginPath(),U(y),y.clip()):zi(y,A.group)}function zi(y,A){y.beginPath(),Tn(A)?kr(y,A,0,0):y.rect(0,0,A.width||0,A.height||0),y.clip()}function _r(y){let A=dt(y.strokeWidth,1);return y.strokeOffset!=null?y.strokeOffset:y.stroke&&A>.5&&A<1.5?.5-Math.abs(A-1):0}function Po(y,A){y("transform",ei(A))}function Bo(y,A){let U=_r(A);y("d",kr(null,A,U,U))}function Yo(y,A){y("class","background"),y("aria-hidden",!0),Bo(y,A)}function co(y,A){y("class","foreground"),y("aria-hidden",!0),A.strokeForeground?Bo(y,A):y("d","")}function Zs(y,A,U){let W=A.clip?go(U,A,A):null;y("clip-path",W)}function Hi(y,A){if(!A.clip&&A.items){let U=A.items,W=U.length;for(let Re=0;Re<W;++Re)y.union(U[Re].bounds)}return(A.clip||A.width||A.height)&&!A.noBound&&y.add(0,0).add(A.width||0,A.height||0),Hs(y,A),y.translate(A.x||0,A.y||0)}function iu(y,A,U,W){let Re=_r(A);y.beginPath(),kr(y,A,(U||0)+Re,(W||0)+Re)}let ue=$r(iu),nt=$r(iu,!1),Wt=$r(iu,!0);function vn(y,A,U){Mn(A,W=>{let Re=W.x||0,pt=W.y||0,x=W.strokeForeground,w=W.opacity==null?1:W.opacity;(W.stroke||W.fill)&&w&&(iu(y,W,Re,pt),Ne(y,W),W.fill&&wn(y,W,w)&&y.fill(),W.stroke&&!x&&Nn(y,W,w)&&y.stroke()),y.save(),y.translate(Re,pt),W.clip&&zi(y,W),U&&U.translate(-Re,-pt),Mn(W,j=>{this.draw(y,j,U)}),U&&U.translate(Re,pt),y.restore(),x&&W.stroke&&w&&(iu(y,W,Re,pt),Ne(y,W),Nn(y,W,w)&&y.stroke())})}function Vn(y,A,U,W,Re,pt){if(A.bounds&&!A.bounds.contains(Re,pt)||!A.items)return null;let x=U*y.pixelRatio,w=W*y.pixelRatio;return Gn(A,j=>{let K,pe,Te,it=j.bounds;if(it&&!it.contains(Re,pt))return;pe=j.x||0,Te=j.y||0;let Pt=pe+(j.width||0),pn=Te+(j.height||0),hn=j.clip;if(hn&&(Re<pe||Re>Pt||pt<Te||pt>pn))return;if(y.save(),y.translate(pe,Te),pe=Re-pe,Te=pt-Te,hn&&Tn(j)&&!Wt(y,j,x,w))return y.restore(),null;let Fn=j.strokeForeground,Ln=A.interactive!==!1;return Ln&&Fn&&j.stroke&&nt(y,j,x,w)?(y.restore(),j):(K=Gn(j,Wn=>sr(Wn,pe,Te)?this.pick(Wn,U,W,pe,Te):null),!K&&Ln&&(j.fill||!Fn&&j.stroke)&&ue(y,j,x,w)&&(K=j),y.restore(),K||null)})}function sr(y,A,U){return(y.interactive!==!1||y.marktype==="group")&&y.bounds&&y.bounds.contains(A,U)}var mr={type:"group",tag:"g",nested:!1,attr:Po,bound:Hi,draw:vn,pick:Vn,isect:ji,content:Zs,background:Yo,foreground:co},Fi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Ji(y,A){var U=y.image;return(!U||y.url&&y.url!==U.url)&&(U={complete:!1,width:0,height:0},A.loadImage(y.url).then(W=>{y.image=W,y.image.url=y.url})),U}function Cs(y,A){return y.width!=null?y.width:!A||!A.width?0:y.aspect!==!1&&y.height?y.height*A.width/A.height:A.width}function Is(y,A){return y.height!=null?y.height:!A||!A.height?0:y.aspect!==!1&&y.width?y.width*A.height/A.width:A.height}function Ua(y,A){return y==="center"?A/2:y==="right"?A:0}function zl(y,A){return y==="middle"?A/2:y==="bottom"?A:0}function q0(y,A,U){let W=Ji(A,U),Re=Cs(A,W),pt=Is(A,W),x=(A.x||0)-Ua(A.align,Re),w=(A.y||0)-zl(A.baseline,pt),j=!W.src&&W.toDataURL?W.toDataURL():W.src||"";y("href",j,Fi["xmlns:xlink"],"xlink:href"),y("transform",Vr(x,w)),y("width",Re),y("height",pt),y("preserveAspectRatio",A.aspect===!1?"none":"xMidYMid")}function f1(y,A){let U=A.image,W=Cs(A,U),Re=Is(A,U),pt=(A.x||0)-Ua(A.align,W),x=(A.y||0)-zl(A.baseline,Re);return y.set(pt,x,pt+W,x+Re)}function ip(y,A,U){Mn(A,W=>{if(U&&!U.intersects(W.bounds))return;let Re=Ji(W,this),pt=Cs(W,Re),x=Is(W,Re);if(pt===0||x===0)return;let w=(W.x||0)-Ua(W.align,pt),j=(W.y||0)-zl(W.baseline,x),K,pe,Te,it;W.aspect!==!1&&(pe=Re.width/Re.height,Te=W.width/W.height,pe===pe&&Te===Te&&pe!==Te&&(Te<pe?(it=pt/pe,j+=(x-it)/2,x=it):(it=x*pe,w+=(pt-it)/2,pt=it))),(Re.complete||Re.toDataURL)&&(Ne(y,W),y.globalAlpha=(K=W.opacity)!=null?K:1,y.imageSmoothingEnabled=W.smooth!==!1,y.drawImage(Re,w,j,pt,x))})}var Od={type:"image",tag:"image",nested:!1,attr:q0,bound:f1,draw:ip,pick:Kr(),isect:e.truthy,get:Ji,xOffset:Ua,yOffset:zl},Cf=Xs("line",wr,Li);function wf(y,A){var U=A.scaleX||1,W=A.scaleY||1;(U!==1||W!==1)&&y("vector-effect","non-scaling-stroke"),y("transform",ss(A)),y("d",A.path)}function U0(y,A){var U=A.path;if(U==null)return!0;var W=A.x||0,Re=A.y||0,pt=A.scaleX||1,x=A.scaleY||1,w=(A.angle||0)*et,j=A.pathCache;(!j||j.path!==U)&&((A.pathCache=j=Ee(U)).path=U),w&&y.rotate&&y.translate?(y.translate(W,Re),y.rotate(w),ge(y,j,0,0,pt,x),y.rotate(-w),y.translate(-W,-Re)):ge(y,j,W,Re,pt,x)}function mc(y,A){return U0(qa(y,A.angle),A)?y.set(0,0,0,0):Hs(y,A,!0)}var Hc={type:"path",tag:"path",nested:!1,attr:wf,bound:mc,draw:Hn(U0),pick:ui(U0),isect:Gr(U0)};function d1(y,A){y("d",kr(null,A))}function Nd(y,A){var U,W;return Hs(y.set(U=A.x||0,W=A.y||0,U+A.width||0,W+A.height||0),A)}function Vc(y,A){y.beginPath(),kr(y,A)}var $0={type:"rect",tag:"path",nested:!1,attr:d1,bound:Nd,draw:Hn(Vc),pick:ui(Vc),isect:ji};function sp(y,A){y("transform",ei(A)),y("x2",A.x2!=null?A.x2-(A.x||0):0),y("y2",A.y2!=null?A.y2-(A.y||0):0)}function z0(y,A){var U,W;return Hs(y.set(U=A.x||0,W=A.y||0,A.x2!=null?A.x2:U,A.y2!=null?A.y2:W),A)}function h1(y,A,U){var W,Re,pt,x;return A.stroke&&Nn(y,A,U)?(W=A.x||0,Re=A.y||0,pt=A.x2!=null?A.x2:W,x=A.y2!=null?A.y2:Re,y.beginPath(),y.moveTo(W,Re),y.lineTo(pt,x),!0):!1}function H0(y,A,U){Mn(A,W=>{if(!(U&&!U.intersects(W.bounds))){var Re=W.opacity==null?1:W.opacity;Re&&h1(y,W,Re)&&(Ne(y,W),y.stroke())}})}function op(y,A,U,W){return y.isPointInStroke?h1(y,A,1)&&y.isPointInStroke(U,W):!1}var xc={type:"rule",tag:"line",nested:!1,attr:sp,bound:z0,draw:H0,pick:Kr(op),isect:tr},V0=Qi("shape",es),i0=Qi("symbol",$s,Ii);let s0=e.lruCache();var Wc={height:Ju,measureWidth:Af,estimateWidth:o0,width:o0,canvas:gc};gc(!0);function gc(y){Wc.width=y&&Lo?Af:o0}function o0(y,A){return Ku(Qc(y,A),Ju(y))}function Ku(y,A){return~~(.8*y.length*A)}function Af(y,A){return Ju(y)<=0||!(A=Qc(y,A))?0:Rd(A,At(y))}function Rd(y,A){let U=`(${A}) ${y}`,W=s0.get(U);return W===void 0&&(Lo.font=A,W=Lo.measureText(y).width,s0.set(U,W)),W}function Ju(y){return y.fontSize!=null?+y.fontSize||0:11}function fo(y){return y.lineHeight!=null?y.lineHeight:Ju(y)+2}function v2(y){return e.isArray(y)?y.length>1?y:y[0]:y}function Tf(y){return v2(y.lineBreak&&y.text&&!e.isArray(y.text)?y.text.split(y.lineBreak):y.text)}function Ms(y){let A=Tf(y);return(e.isArray(A)?A.length-1:0)*fo(y)}function Qc(y,A){let U=A==null?"":(A+"").trim();return y.limit>0&&U.length?J(y,U):U}function R(y){if(Wc.width===Af){let A=At(y);return U=>Rd(U,A)}else{let A=Ju(y);return U=>Ku(U,A)}}function J(y,A){var U=+y.limit,W=R(y);if(W(A)<U)return A;var Re=y.ellipsis||"\u2026",pt=y.dir==="rtl",x=0,w=A.length,j;if(U-=W(Re),pt){for(;x<w;)j=x+w>>>1,W(A.slice(j))>U?x=j+1:w=j;return Re+A.slice(x)}else{for(;x<w;)j=1+(x+w>>>1),W(A.slice(0,j))<U?x=j:w=j-1;return A.slice(0,x)+Re}}function ke(y,A){var U=y.font;return(A&&U?String(U).replace(/"/g,"'"):U)||"sans-serif"}function At(y,A){return(y.fontStyle?y.fontStyle+" ":"")+(y.fontVariant?y.fontVariant+" ":"")+(y.fontWeight?y.fontWeight+" ":"")+Ju(y)+"px "+ke(y,A)}function jt(y){var A=y.baseline,U=Ju(y);return Math.round(A==="top"?.79*U:A==="middle"?.3*U:A==="bottom"?-.21*U:A==="line-top"?.29*U+.5*fo(y):A==="line-bottom"?.29*U-.5*fo(y):0)}let xn={left:"start",center:"middle",right:"end"},Sn=new Xr;function Qn(y){var A=y.x||0,U=y.y||0,W=y.radius||0,Re;return W&&(Re=(y.theta||0)-Kt,A+=W*Math.cos(Re),U+=W*Math.sin(Re)),Sn.x1=A,Sn.y1=U,Sn}function er(y,A){var U=A.dx||0,W=(A.dy||0)+jt(A),Re=Qn(A),pt=Re.x1,x=Re.y1,w=A.angle||0,j;y("text-anchor",xn[A.align]||"start"),w?(j=Vr(pt,x)+" "+Tr(w),(U||W)&&(j+=" "+Vr(U,W))):j=Vr(pt+U,x+W),y("transform",j)}function gr(y,A,U){var W=Wc.height(A),Re=A.align,pt=Qn(A),x=pt.x1,w=pt.y1,j=A.dx||0,K=(A.dy||0)+jt(A)-Math.round(.8*W),pe=Tf(A),Te;if(e.isArray(pe)?(W+=fo(A)*(pe.length-1),Te=pe.reduce((it,Pt)=>Math.max(it,Wc.width(A,Pt)),0)):Te=Wc.width(A,pe),Re==="center"?j-=Te/2:Re==="right"&&(j-=Te),y.set(j+=x,K+=w,j+Te,K+W),A.angle&&!U)y.rotate(A.angle*et,x,w);else if(U===2)return y.rotatedPoints(A.angle*et,x,w);return y}function Nr(y,A,U){Mn(A,W=>{var Re=W.opacity==null?1:W.opacity,pt,x,w,j,K,pe,Te;if(!(U&&!U.intersects(W.bounds)||Re===0||W.fontSize<=0||W.text==null||W.text.length===0)){if(y.font=At(W),y.textAlign=W.align||"left",pt=Qn(W),x=pt.x1,w=pt.y1,W.angle&&(y.save(),y.translate(x,w),y.rotate(W.angle*et),x=w=0),x+=W.dx||0,w+=(W.dy||0)+jt(W),pe=Tf(W),Ne(y,W),e.isArray(pe))for(K=fo(W),j=0;j<pe.length;++j)Te=Qc(W,pe[j]),W.fill&&wn(y,W,Re)&&y.fillText(Te,x,w),W.stroke&&Nn(y,W,Re)&&y.strokeText(Te,x,w),w+=K;else Te=Qc(W,pe),W.fill&&wn(y,W,Re)&&y.fillText(Te,x,w),W.stroke&&Nn(y,W,Re)&&y.strokeText(Te,x,w);W.angle&&y.restore()}})}function xi(y,A,U,W,Re,pt){if(A.fontSize<=0)return!1;if(!A.angle)return!0;var x=Qn(A),w=x.x1,j=x.y1,K=gr(Sn,A,1),pe=-A.angle*et,Te=Math.cos(pe),it=Math.sin(pe),Pt=Te*Re-it*pt+(w-Te*w+it*j),pn=it*Re+Te*pt+(j-it*w-Te*j);return K.contains(Pt,pn)}function Di(y,A){let U=gr(Sn,y,2);return Bi(A,U[0],U[1],U[2],U[3])||Bi(A,U[0],U[1],U[4],U[5])||Bi(A,U[4],U[5],U[6],U[7])||Bi(A,U[2],U[3],U[6],U[7])}var ki={type:"text",tag:"text",nested:!1,attr:er,bound:gr,draw:Nr,pick:Kr(xi),isect:Di},Ai=Xs("trail",Ls,Go),ws={arc:ti,area:ks,group:mr,image:Od,line:Cf,path:Hc,rect:$0,rule:xc,shape:V0,symbol:i0,text:ki,trail:Ai};function yo(y,A,U){var W=ws[y.mark.marktype],Re=A||W.bound;return W.nested&&(y=y.mark),Re(y.bounds||(y.bounds=new Xr),y,U)}var Ko={mark:null};function vo(y,A,U){var W=ws[y.marktype],Re=W.bound,pt=y.items,x=pt&&pt.length,w,j,K,pe;if(W.nested)return x?K=pt[0]:(Ko.mark=y,K=Ko),pe=yo(K,Re,U),A=A&&A.union(pe)||pe,A;if(A=A||y.bounds&&y.bounds.clear()||new Xr,x)for(w=0,j=pt.length;w<j;++w)A.union(yo(pt[w],Re,U));return y.bounds=A}let da=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Hl(y,A){return JSON.stringify(y,da,A)}function wl(y){let A=typeof y=="string"?JSON.parse(y):y;return ha(A)}function ha(y){var A=y.marktype,U=y.items,W,Re,pt;if(U)for(Re=0,pt=U.length;Re<pt;++Re)W=A?"mark":"group",U[Re][W]=y,U[Re].zindex&&(U[Re][W].zdirty=!0),(A||W)==="group"&&ha(U[Re]);return A&&vo(y),y}function Vl(y){arguments.length?this.root=wl(y):(this.root=Xu({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Vi(this.root)])}Vl.prototype={toJSON(y){return Hl(this.root,y||0)},mark(y,A,U){A=A||this.root.items[0];let W=Xu(y,A);return A.items[U]=W,W.zindex&&(W.group.zdirty=!0),W}};function Xu(y,A){let U={bounds:new Xr,clip:!!y.clip,group:A,interactive:y.interactive!==!1,items:[],marktype:y.marktype,name:y.name||void 0,role:y.role||void 0,zindex:y.zindex||0};return y.aria!=null&&(U.aria=y.aria),y.description&&(U.description=y.description),U}function Gc(y,A,U){return!y&&typeof document!="undefined"&&document.createElement&&(y=document),y?U?y.createElementNS(U,A):y.createElement(A):null}function Yc(y,A){A=A.toLowerCase();for(var U=y.childNodes,W=0,Re=U.length;W<Re;++W)if(U[W].tagName.toLowerCase()===A)return U[W]}function Lu(y,A,U,W){var Re=y.childNodes[A],pt;return(!Re||Re.tagName.toLowerCase()!==U.toLowerCase())&&(pt=Re||null,Re=Gc(y.ownerDocument,U,W),y.insertBefore(Re,pt)),Re}function Wl(y,A){for(var U=y.childNodes,W=U.length;W>A;)y.removeChild(U[--W]);return y}function _2(y){return"mark-"+y.marktype+(y.role?" role-"+y.role:"")+(y.name?" "+y.name:"")}function b2(y,A){let U=A.getBoundingClientRect();return[y.clientX-U.left-(A.clientLeft||0),y.clientY-U.top-(A.clientTop||0)]}function Bg(y,A,U,W){var Re=y&&y.mark,pt,x;if(Re&&(pt=ws[Re.marktype]).tip){for(x=b2(A,U),x[0]-=W[0],x[1]-=W[1];y=y.mark.group;)x[0]-=y.x||0,x[1]-=y.y||0;y=pt.tip(Re.items,x)}return y}function Al(y,A){this._active=null,this._handlers={},this._loader=y||r.loader(),this._tooltip=A||Ff}function Ff(y,A,U,W){y.element().setAttribute("title",W||"")}Al.prototype={initialize(y,A,U){return this._el=y,this._obj=U||null,this.origin(A)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(y){return arguments.length?(this._origin=y||[0,0],this):this._origin.slice()},scene(y){return arguments.length?(this._scene=y,this):this._scene},on(){},off(){},_handlerIndex(y,A,U){for(let W=y?y.length:0;--W>=0;)if(y[W].type===A&&(!U||y[W].handler===U))return W;return-1},handlers(y){let A=this._handlers,U=[];if(y)U.push(...A[this.eventName(y)]);else for(let W in A)U.push(...A[W]);return U},eventName(y){let A=y.indexOf(".");return A<0?y:y.slice(0,A)},handleHref(y,A,U){this._loader.sanitize(U,{context:"href"}).then(W=>{let Re=new MouseEvent(y.type,y),pt=Gc(null,"a");for(let x in W)pt.setAttribute(x,W[x]);pt.dispatchEvent(Re)}).catch(()=>{})},handleTooltip(y,A,U){if(A&&A.tooltip!=null){A=Bg(A,y,this.canvas(),this._origin);let W=U&&A&&A.tooltip||null;this._tooltip.call(this._obj,this,y,A,W)}},getItemBoundingClientRect(y){let A=this.canvas();if(!A)return;let U=A.getBoundingClientRect(),W=this._origin,Re=y.bounds,pt=Re.width(),x=Re.height(),w=Re.x1+W[0]+U.left,j=Re.y1+W[1]+U.top;for(;y.mark&&(y=y.mark.group);)w+=y.x||0,j+=y.y||0;return{x:w,y:j,width:pt,height:x,left:w,top:j,right:w+pt,bottom:j+x}}};function yc(y){this._el=null,this._bgcolor=null,this._loader=new Fo(y)}yc.prototype={initialize(y,A,U,W,Re){return this._el=y,this.resize(A,U,W,Re)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(y){return arguments.length===0?this._bgcolor:(this._bgcolor=y,this)},resize(y,A,U,W){return this._width=y,this._height=A,this._origin=U||[0,0],this._scale=W||1,this},dirty(){},render(y){let A=this;return A._call=function(){A._render(y)},A._call(),A._call=null,A},_render(){},renderAsync(y){let A=this.render(y);return this._ready?this._ready.then(()=>A):Promise.resolve(A)},_load(y,A){var U=this,W=U._loader[y](A);if(!U._ready){let Re=U._call;U._ready=U._loader.ready().then(pt=>{pt&&Re(),U._ready=null})}return W},sanitizeURL(y){return this._load("sanitizeURL",y)},loadImage(y){return this._load("loadImage",y)}};let Ar="keydown",D4="keypress",W0="keyup",Fr="dragenter",p1="dragleave",E2="dragover",m1="mousedown",Vs="mouseup",Q0="mousemove",Ld="mouseout",kd="mouseover",Df="click",O4="dblclick",N4="wheel",S2="mousewheel",Id="touchstart",Ql="touchmove",Md="touchend",C2=[Ar,D4,W0,Fr,p1,E2,m1,Vs,Q0,Ld,kd,Df,O4,N4,S2,Id,Ql,Md],w2=Q0,G0=Ld,ap=Df;function A2(y,A){Al.call(this,y,A),this._down=null,this._touch=null,this._first=!0,this._events={}}let T2=y=>y===Id||y===Ql||y===Md?[Id,Ql,Md]:[y];function x1(y,A){T2(A).forEach(U=>yu(y,U))}function yu(y,A){let U=y.canvas();U&&!y._events[A]&&(y._events[A]=1,U.addEventListener(A,y[A]?W=>y[A](W):W=>y.fire(A,W)))}function jg(y,A,U){return function(W){let Re=this._active,pt=this.pickEvent(W);pt===Re?this.fire(y,W):((!Re||!Re.exit)&&this.fire(U,W),this._active=pt,this.fire(A,W),this.fire(y,W))}}function vc(y){return function(A){this.fire(y,A),this._active=null}}e.inherits(A2,Al,{initialize(y,A,U){return this._canvas=y&&Yc(y,"canvas"),[Df,m1,Q0,Ld,p1].forEach(W=>x1(this,W)),Al.prototype.initialize.call(this,y,A,U)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:C2,DOMMouseScroll(y){this.fire(S2,y)},mousemove:jg(Q0,kd,Ld),dragover:jg(E2,Fr,p1),mouseout:vc(Ld),dragleave:vc(p1),mousedown(y){this._down=this._active,this.fire(m1,y)},click(y){this._down===this._active&&(this.fire(Df,y),this._down=null)},touchstart(y){this._touch=this.pickEvent(y.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Id,y,!0)},touchmove(y){this.fire(Ql,y,!0)},touchend(y){this.fire(Md,y,!0),this._touch=null},fire(y,A,U){let W=U?this._touch:this._active,Re=this._handlers[y];if(A.vegaType=y,y===ap&&W&&W.href?this.handleHref(A,W,W.href):(y===w2||y===G0)&&this.handleTooltip(A,W,y!==G0),Re)for(let pt=0,x=Re.length;pt<x;++pt)Re[pt].handler.call(this._obj,A,W)},on(y,A){let U=this.eventName(y),W=this._handlers;return this._handlerIndex(W[U],y,A)<0&&(x1(this,y),(W[U]||(W[U]=[])).push({type:y,handler:A})),this},off(y,A){let U=this.eventName(y),W=this._handlers[U],Re=this._handlerIndex(W,y,A);return Re>=0&&W.splice(Re,1),this},pickEvent(y){let A=b2(y,this._canvas),U=this._origin;return this.pick(this._scene,A[0],A[1],A[0]-U[0],A[1]-U[1])},pick(y,A,U,W,Re){let pt=this.context();return ws[y.marktype].pick.call(this,pt,y,A,U,W,Re)}});function g1(){return typeof window!="undefined"&&window.devicePixelRatio||1}var y1=g1();function Pd(y,A,U,W,Re,pt){let x=typeof HTMLElement!="undefined"&&y instanceof HTMLElement&&y.parentNode!=null,w=y.getContext("2d"),j=x?y1:Re;y.width=A*j,y.height=U*j;for(let K in pt)w[K]=pt[K];return x&&j!==1&&(y.style.width=A+"px",y.style.height=U+"px"),w.pixelRatio=j,w.setTransform(j,0,0,j,j*W[0],j*W[1]),y}function Y0(y){yc.call(this,y),this._options={},this._redraw=!1,this._dirty=new Xr,this._tempb=new Xr}let up=yc.prototype,F2=(y,A,U)=>new Xr().set(0,0,A,U).translate(-y[0],-y[1]);function D2(y,A,U){return A.expand(1).round(),y.pixelRatio%1&&A.scale(y.pixelRatio).round().scale(1/y.pixelRatio),A.translate(-(U[0]%1),-(U[1]%1)),y.beginPath(),y.rect(A.x1,A.y1,A.width(),A.height()),y.clip(),A}e.inherits(Y0,yc,{initialize(y,A,U,W,Re,pt){return this._options=pt||{},this._canvas=this._options.externalContext?null:t.canvas(1,1,this._options.type),y&&this._canvas&&(Wl(y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),up.initialize.call(this,y,A,U,W,Re)},resize(y,A,U,W){if(up.resize.call(this,y,A,U,W),this._canvas)Pd(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let Re=this._options.externalContext;Re||e.error("CanvasRenderer is missing a valid canvas or context"),Re.scale(this._scale,this._scale),Re.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(y){let A=this._tempb.clear().union(y.bounds),U=y.mark.group;for(;U;)A.translate(U.x||0,U.y||0),U=U.mark.group;this._dirty.union(A)},_render(y){let A=this.context(),U=this._origin,W=this._width,Re=this._height,pt=this._dirty,x=F2(U,W,Re);A.save();let w=this._redraw||pt.empty()?(this._redraw=!1,x.expand(1)):D2(A,x.intersect(pt),U);return this.clear(-U[0],-U[1],W,Re),this.draw(A,y,w),A.restore(),pt.clear(),this},draw(y,A,U){let W=ws[A.marktype];A.clip&&xr(y,A),W.draw.call(this,y,A,U),A.clip&&y.restore()},clear(y,A,U,W){let Re=this._options,pt=this.context();Re.type!=="pdf"&&!Re.externalContext&&pt.clearRect(y,A,U,W),this._bgcolor!=null&&(pt.fillStyle=this._bgcolor,pt.fillRect(y,A,U,W))}});function O2(y,A){Al.call(this,y,A);let U=this;U._hrefHandler=Bd(U,(W,Re)=>{Re&&Re.href&&U.handleHref(W,Re,Re.href)}),U._tooltipHandler=Bd(U,(W,Re)=>{U.handleTooltip(W,Re,W.type!==G0)})}let Bd=(y,A)=>U=>{let W=U.target.__data__;W=Array.isArray(W)?W[0]:W,U.vegaType=U.type,A.call(y._obj,U,W)};e.inherits(O2,Al,{initialize(y,A,U){let W=this._svg;return W&&(W.removeEventListener(ap,this._hrefHandler),W.removeEventListener(w2,this._tooltipHandler),W.removeEventListener(G0,this._tooltipHandler)),this._svg=W=y&&Yc(y,"svg"),W&&(W.addEventListener(ap,this._hrefHandler),W.addEventListener(w2,this._tooltipHandler),W.addEventListener(G0,this._tooltipHandler)),Al.prototype.initialize.call(this,y,A,U)},canvas(){return this._svg},on(y,A){let U=this.eventName(y),W=this._handlers;if(this._handlerIndex(W[U],y,A)<0){let pt={type:y,handler:A,listener:Bd(this,A)};(W[U]||(W[U]=[])).push(pt),this._svg&&this._svg.addEventListener(U,pt.listener)}return this},off(y,A){let U=this.eventName(y),W=this._handlers[U],Re=this._handlerIndex(W,y,A);return Re>=0&&(this._svg&&this._svg.removeEventListener(U,W[Re].listener),W.splice(Re,1)),this}});let _c="aria-hidden",N2="aria-label",Tl="role",Gl="aria-roledescription",v1="graphics-object",a0="graphics-symbol",R2=(y,A,U)=>({[Tl]:y,[Gl]:A,[N2]:U||void 0}),_1=e.toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),u0={axis:{desc:"axis",caption:lp},legend:{desc:"legend",caption:qg},"title-text":{desc:"title",caption:y=>`Title text '${ku(y)}'`},"title-subtitle":{desc:"subtitle",caption:y=>`Subtitle text '${ku(y)}'`}},K0={ariaRole:Tl,ariaRoleDescription:Gl,description:N2};function l0(y,A){let U=A.aria===!1;if(y(_c,U||void 0),U||A.description==null)for(let W in K0)y(K0[W],void 0);else{let W=A.mark.marktype;y(N2,A.description),y(Tl,A.ariaRole||(W==="group"?v1:a0)),y(Gl,A.ariaRoleDescription||`${W} mark`)}}function Fl(y){return y.aria===!1?{[_c]:!0}:_1[y.role]?null:u0[y.role]?L2(y,u0[y.role]):Yl(y)}function Yl(y){let A=y.marktype,U=A==="group"||A==="text"||y.items.some(W=>W.description!=null&&W.aria!==!1);return R2(U?v1:a0,`${A} mark container`,y.description)}function L2(y,A){try{let U=y.items[0],W=A.caption||(()=>"");return R2(A.role||a0,A.desc,U.description||W(U))}catch{return null}}function ku(y){return e.array(y.text).join(" ")}function lp(y){let A=y.datum,U=y.orient,W=A.title?Ug(y):null,Re=y.context,pt=Re.scales[A.scale].value,x=Re.dataflow.locale(),w=pt.type;return`${U==="left"||U==="right"?"Y":"X"}-axis`+(W?` titled '${W}'`:"")+` for a ${i.isDiscrete(w)?"discrete":w} scale with ${i.domainCaption(x,pt,y)}`}function qg(y){let A=y.datum,U=A.title?Ug(y):null,W=`${A.type||""} legend`.trim(),Re=A.scales,pt=Object.keys(Re),x=y.context,w=x.scales[Re[pt[0]]].value,j=x.dataflow.locale();return J0(W)+(U?` titled '${U}'`:"")+` for ${b1(pt)} with ${i.domainCaption(j,w,y)}`}function Ug(y){try{return e.array(e.peek(y.items).items[0].text).join(" ")}catch{return null}}function b1(y){return y=y.map(A=>A+(A==="fill"||A==="stroke"?" color":"")),y.length<2?y[0]:y.slice(0,-1).join(", ")+" and "+e.peek(y)}function J0(y){return y.length?y[0].toUpperCase()+y.slice(1):y}let jd=y=>(y+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ds=y=>jd(y).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function C(){let y="",A="",U="",W=[],Re=()=>A=U="",pt=j=>{A&&(y+=`${A}>${U}`,Re()),W.push(j)},x=(j,K)=>(K!=null&&(A+=` ${j}="${Ds(K)}"`),w),w={open(j,...K){pt(j),A="<"+j;for(let pe of K)for(let Te in pe)x(Te,pe[Te]);return w},close(){let j=W.pop();return A?y+=A+(U?`>${U}</${j}>`:"/>"):y+=`</${j}>`,Re(),w},attr:x,text:j=>(U+=jd(j),w),toString:()=>y};return w}let H=y=>ce(C(),y)+"";function ce(y,A){if(y.open(A.tagName),A.hasAttributes()){let U=A.attributes,W=U.length;for(let Re=0;Re<W;++Re)y.attr(U[Re].name,U[Re].value)}if(A.hasChildNodes()){let U=A.childNodes;for(let W of U)W.nodeType===3?y.text(W.nodeValue):ce(y,W)}return y.close()}let Le={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},yt={blend:"mix-blend-mode"},yn={fill:"none","stroke-miterlimit":10},Kn=0,wi="http://www.w3.org/2000/xmlns/",vi=Fi.xmlns;function Ys(y){yc.call(this,y),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}let su=yc.prototype;e.inherits(Ys,yc,{initialize(y,A,U,W,Re){return this._defs={},this._clearDefs(),y&&(this._svg=Lu(y,0,"svg",vi),this._svg.setAttributeNS(wi,"xmlns",vi),this._svg.setAttributeNS(wi,"xmlns:xlink",Fi["xmlns:xlink"]),this._svg.setAttribute("version",Fi.version),this._svg.setAttribute("class","marks"),Wl(y,1),this._root=Lu(this._svg,Kn,"g",vi),f0(this._root,yn),Wl(this._svg,Kn+1)),this.background(this._bgcolor),su.initialize.call(this,y,A,U,W,Re)},background(y){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",y),su.background.apply(this,arguments)},resize(y,A,U,W){return su.resize.call(this,y,A,U,W),this._svg&&(f0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){let y=this._svg,A=this._bgcolor;if(!y)return null;let U;A&&(y.removeAttribute("style"),U=Lu(y,Kn,"rect",vi),f0(U,{width:this._width,height:this._height,fill:A}));let W=H(y);return A&&(y.removeChild(U),this._svg.style.setProperty("background-color",A)),W},_render(y){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,y),Wl(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(y){y.dirty!==this._dirtyID&&(y.dirty=this._dirtyID,this._dirty.push(y))},isDirty(y){return this._dirtyAll||!y._svg||!y._svg.ownerSVGElement||y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;let y=this._dirty;if(!y.length||!this._dirtyID)return!0;let A=++this._dirtyID,U,W,Re,pt,x,w,j;for(x=0,w=y.length;x<w;++x)if(U=y[x],W=U.mark,W.marktype!==Re&&(Re=W.marktype,pt=ws[Re]),W.zdirty&&W.dirty!==A&&(this._dirtyAll=!1,Kc(U,A),W.items.forEach(K=>{K.dirty=A})),!W.zdirty){if(U.exit){pt.nested&&W.items.length?(j=W.items[0],j._svg&&this._update(pt,j._svg,j)):U._svg&&(j=U._svg.parentNode,j&&j.removeChild(U._svg)),U._svg=null;continue}U=pt.nested?W.items[0]:U,U._update!==A&&(!U._svg||!U._svg.ownerSVGElement?(this._dirtyAll=!1,Kc(U,A)):this._update(pt,U._svg,U),U._update=A)}return!this._dirtyAll},mark(y,A,U){if(!this.isDirty(A))return A._svg;let W=this._svg,Re=ws[A.marktype],pt=A.interactive===!1?"none":null,x=Re.tag==="g",w=m9(A,y,U,"g",W);w.setAttribute("class",_2(A));let j=Fl(A);for(let it in j)el(w,it,j[it]);x||el(w,"pointer-events",pt),el(w,"clip-path",A.clip?go(this,A,A.group):null);let K=null,pe=0,Te=it=>{let Pt=this.isDirty(it),pn=m9(it,w,K,Re.tag,W);Pt&&(this._update(Re,pn,it),x&&p9(this,pn,it)),K=pn,++pe};return Re.nested?A.items.length&&Te(A.items[0]):Mn(A,Te),Wl(w,pe),w},_update(y,A,U){qd=A,Zu=A.__values__,l0(k2,U),y.attr(k2,U,this);let W=x9[y.type];W&&W.call(this,y,A,U),qd&&this.style(qd,U)},style(y,A){if(A!=null){for(let U in Le){let W=U==="font"?ke(A):A[U];if(W===Zu[U])continue;let Re=Le[U];W==null?y.removeAttribute(Re):(l(W)&&(W=f(W,this._defs.gradient,Iu())),y.setAttribute(Re,W+"")),Zu[U]=W}for(let U in yt)E1(y,yt[U],A[U])}},defs(){let y=this._svg,A=this._defs,U=A.el,W=0;for(let Re in A.gradient)U||(A.el=U=Lu(y,Kn+1,"defs",vi)),W=c0(U,A.gradient[Re],W);for(let Re in A.clipping)U||(A.el=U=Lu(y,Kn+1,"defs",vi)),W=YO(U,A.clipping[Re],W);U&&(W===0?(y.removeChild(U),A.el=null):Wl(U,W))},_clearDefs(){let y=this._defs;y.gradient={},y.clipping={}}});function Kc(y,A){for(;y&&y.dirty!==A;y=y.mark.group)if(y.dirty=A,y.mark&&y.mark.dirty!==A)y.mark.dirty=A;else return}function c0(y,A,U){let W,Re,pt;if(A.gradient==="radial"){let x=Lu(y,U++,"pattern",vi);f0(x,{id:a+A.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),x=Lu(x,0,"rect",vi),f0(x,{width:1,height:1,fill:`url(${Iu()}#${A.id})`}),y=Lu(y,U++,"radialGradient",vi),f0(y,{id:A.id,fx:A.x1,fy:A.y1,fr:A.r1,cx:A.x2,cy:A.y2,r:A.r2})}else y=Lu(y,U++,"linearGradient",vi),f0(y,{id:A.id,x1:A.x1,x2:A.x2,y1:A.y1,y2:A.y2});for(W=0,Re=A.stops.length;W<Re;++W)pt=Lu(y,W,"stop",vi),pt.setAttribute("offset",A.stops[W].offset),pt.setAttribute("stop-color",A.stops[W].color);return Wl(y,W),U}function YO(y,A,U){let W;return y=Lu(y,U,"clipPath",vi),y.setAttribute("id",A.id),A.path?(W=Lu(y,0,"path",vi),W.setAttribute("d",A.path)):(W=Lu(y,0,"rect",vi),f0(W,{x:0,y:0,width:A.width,height:A.height})),Wl(y,1),U+1}function p9(y,A,U){A=A.lastChild.previousSibling;let W,Re=0;Mn(U,pt=>{W=y.mark(A,pt,W),++Re}),Wl(A,1+Re)}function m9(y,A,U,W,Re){let pt=y._svg,x;if(!pt&&(x=A.ownerDocument,pt=Gc(x,W,vi),y._svg=pt,y.mark&&(pt.__data__=y,pt.__values__={fill:"default"},W==="g"))){let w=Gc(x,"path",vi);pt.appendChild(w),w.__data__=y;let j=Gc(x,"g",vi);pt.appendChild(j),j.__data__=y;let K=Gc(x,"path",vi);pt.appendChild(K),K.__data__=y,K.__values__={fill:"default"}}return(pt.ownerSVGElement!==Re||KO(pt,U))&&A.insertBefore(pt,U?U.nextSibling:A.firstChild),pt}function KO(y,A){return y.parentNode&&y.parentNode.childNodes.length>1&&y.previousSibling!=A}let qd=null,Zu=null,x9={group(y,A,U){let W=qd=A.childNodes[2];Zu=W.__values__,y.foreground(k2,U,this),Zu=A.__values__,qd=A.childNodes[1],y.content(k2,U,this);let Re=qd=A.childNodes[0];y.background(k2,U,this);let pt=U.mark.interactive===!1?"none":null;if(pt!==Zu.events&&(el(W,"pointer-events",pt),el(Re,"pointer-events",pt),Zu.events=pt),U.strokeForeground&&U.stroke){let x=U.fill;el(W,"display",null),this.style(Re,U),el(Re,"stroke",null),x&&(U.fill=null),Zu=W.__values__,this.style(W,U),x&&(U.fill=x),qd=null}else el(W,"display","none")},image(y,A,U){U.smooth===!1?(E1(A,"image-rendering","optimizeSpeed"),E1(A,"image-rendering","pixelated")):E1(A,"image-rendering",null)},text(y,A,U){let W=Tf(U),Re,pt,x,w;e.isArray(W)?(pt=W.map(j=>Qc(U,j)),Re=pt.join(`
`),Re!==Zu.text&&(Wl(A,0),x=A.ownerDocument,w=fo(U),pt.forEach((j,K)=>{let pe=Gc(x,"tspan",vi);pe.__data__=U,pe.textContent=j,K&&(pe.setAttribute("x",0),pe.setAttribute("dy",w)),A.appendChild(pe)}),Zu.text=Re)):(pt=Qc(U,W),pt!==Zu.text&&(A.textContent=pt,Zu.text=pt)),el(A,"font-family",ke(U)),el(A,"font-size",Ju(U)+"px"),el(A,"font-style",U.fontStyle),el(A,"font-variant",U.fontVariant),el(A,"font-weight",U.fontWeight)}};function k2(y,A,U){A!==Zu[y]&&(U?X6(qd,y,A,U):el(qd,y,A),Zu[y]=A)}function E1(y,A,U){U!==Zu[A]&&(U==null?y.style.removeProperty(A):y.style.setProperty(A,U+""),Zu[A]=U)}function f0(y,A){for(let U in A)el(y,U,A[U])}function el(y,A,U){U!=null?y.setAttribute(A,U):y.removeAttribute(A)}function X6(y,A,U,W){U!=null?y.setAttributeNS(W,A,U):y.removeAttributeNS(W,A)}function Iu(){let y;return typeof window=="undefined"?"":(y=window.location).hash?y.href.slice(0,-y.hash.length):y.href}function I2(y){yc.call(this,y),this._text=null,this._defs={gradient:{},clipping:{}}}e.inherits(I2,yc,{svg(){return this._text},_render(y){let A=C();A.open("svg",e.extend({},Fi,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let U=this._bgcolor;return U&&U!=="transparent"&&U!=="none"&&A.open("rect",{width:this._width,height:this._height,fill:U}).close(),A.open("g",yn,{transform:"translate("+this._origin+")"}),this.mark(A,y),A.close(),this.defs(A),this._text=A.close()+"",this},mark(y,A){let U=ws[A.marktype],W=U.tag,Re=[l0,U.attr];y.open("g",{class:_2(A),"clip-path":A.clip?go(this,A,A.group):null},Fl(A),{"pointer-events":W!=="g"&&A.interactive===!1?"none":null});let pt=x=>{let w=this.href(x);if(w&&y.open("a",w),y.open(W,this.attr(A,x,Re,W!=="g"?W:null)),W==="text"){let j=Tf(x);if(e.isArray(j)){let K={x:0,dy:fo(x)};for(let pe=0;pe<j.length;++pe)y.open("tspan",pe?K:null).text(Qc(x,j[pe])).close()}else y.text(Qc(x,j))}else if(W==="g"){let j=x.strokeForeground,K=x.fill,pe=x.stroke;j&&pe&&(x.stroke=null),y.open("path",this.attr(A,x,U.background,"bgrect")).close(),y.open("g",this.attr(A,x,U.content)),Mn(x,Te=>this.mark(y,Te)),y.close(),j&&pe?(K&&(x.fill=null),x.stroke=pe,y.open("path",this.attr(A,x,U.foreground,"bgrect")).close(),K&&(x.fill=K)):y.open("path",this.attr(A,x,U.foreground,"bgfore")).close()}y.close(),w&&y.close()};return U.nested?A.items&&A.items.length&&pt(A.items[0]):Mn(A,pt),y.close()},href(y){let A=y.href,U;if(A){if(U=this._hrefs&&this._hrefs[A])return U;this.sanitizeURL(A).then(W=>{W["xlink:href"]=W.href,W.href=null,(this._hrefs||(this._hrefs={}))[A]=W})}return null},attr(y,A,U,W){let Re={},pt=(x,w,j,K)=>{Re[K||x]=w};return Array.isArray(U)?U.forEach(x=>x(pt,A,this)):U(pt,A,this),W&&M2(Re,A,y,W,this._defs),Re},defs(y){let A=this._defs.gradient,U=this._defs.clipping;if(Object.keys(A).length+Object.keys(U).length!==0){y.open("defs");for(let Re in A){let pt=A[Re],x=pt.stops;pt.gradient==="radial"?(y.open("pattern",{id:a+Re,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),y.open("rect",{width:"1",height:"1",fill:"url(#"+Re+")"}).close(),y.close(),y.open("radialGradient",{id:Re,fx:pt.x1,fy:pt.y1,fr:pt.r1,cx:pt.x2,cy:pt.y2,r:pt.r2})):y.open("linearGradient",{id:Re,x1:pt.x1,x2:pt.x2,y1:pt.y1,y2:pt.y2});for(let w=0;w<x.length;++w)y.open("stop",{offset:x[w].offset,"stop-color":x[w].color}).close();y.close()}for(let Re in U){let pt=U[Re];y.open("clipPath",{id:Re}),pt.path?y.open("path",{d:pt.path}).close():y.open("rect",{x:0,y:0,width:pt.width,height:pt.height}).close(),y.close()}y.close()}}});function M2(y,A,U,W,Re){let pt;if(A==null||(W==="bgrect"&&U.interactive===!1&&(y["pointer-events"]="none"),W==="bgfore"&&(U.interactive===!1&&(y["pointer-events"]="none"),y.display="none",A.fill!==null)))return y;W==="image"&&A.smooth===!1&&(pt=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),W==="text"&&(y["font-family"]=ke(A),y["font-size"]=Ju(A)+"px",y["font-style"]=A.fontStyle,y["font-variant"]=A.fontVariant,y["font-weight"]=A.fontWeight);for(let x in Le){let w=A[x],j=Le[x];w==="transparent"&&(j==="fill"||j==="stroke")||w!=null&&(l(w)&&(w=f(w,Re.gradient,"")),y[j]=w)}for(let x in yt){let w=A[x];w!=null&&(pt=pt||[],pt.push(`${yt[x]}: ${w};`))}return pt&&(y.style=pt.join(" ")),y}let P2="canvas",Z6="png",B2="svg",j2="none",g9={Canvas:P2,PNG:Z6,SVG:B2,None:j2},d0={};d0[P2]=d0[Z6]={renderer:Y0,headless:Y0,handler:A2},d0[B2]={renderer:Ys,headless:I2,handler:O2},d0[j2]={};function $g(y,A){return y=String(y||"").toLowerCase(),arguments.length>1?(d0[y]=A,this):d0[y]}function zg(y,A,U){let W=[],Re=new Xr().union(A),pt=y.marktype;return pt?R4(y,Re,U,W):pt==="group"?U2(y,Re,U,W):e.error("Intersect scene must be mark node or group item.")}function R4(y,A,U,W){if(q2(y,A,U)){let Re=y.items,pt=y.marktype,x=Re.length,w=0;if(pt==="group")for(;w<x;++w)U2(Re[w],A,U,W);else for(let j=ws[pt].isect;w<x;++w){let K=Re[w];Hg(K,A,j)&&W.push(K)}}return W}function q2(y,A,U){return y.bounds&&A.intersects(y.bounds)&&(y.marktype==="group"||y.interactive!==!1&&(!U||U(y)))}function U2(y,A,U,W){U&&U(y.mark)&&Hg(y,A,ws.group.isect)&&W.push(y);let Re=y.items,pt=Re&&Re.length;if(pt){let x=y.x||0,w=y.y||0;A.translate(-x,-w);for(let j=0;j<pt;++j)R4(Re[j],A,U,W);A.translate(x,w)}return W}function Hg(y,A,U){let W=y.bounds;return A.encloses(W)||A.intersects(W)&&U(y,A)}let h0=new Xr;function eb(y){let A=y.clip;if(e.isFunction(A))A(qa(h0.clear()));else if(A)h0.set(0,0,y.group.width,y.group.height);else return;y.bounds.intersect(h0)}let y9=1e-9;function Jc(y,A,U){return y===A?!0:U==="path"?L4(y,A):y instanceof Date&&A instanceof Date?+y==+A:e.isNumber(y)&&e.isNumber(A)?Math.abs(y-A)<=y9:!y||!A||!e.isObject(y)&&!e.isObject(A)?y==A:v9(y,A)}function L4(y,A){return Jc(Ee(y),Ee(A))}function v9(y,A){var U=Object.keys(y),W=Object.keys(A),Re,pt;if(U.length!==W.length)return!1;for(U.sort(),W.sort(),pt=U.length-1;pt>=0;pt--)if(U[pt]!=W[pt])return!1;for(pt=U.length-1;pt>=0;pt--)if(Re=U[pt],!Jc(y[Re],A[Re],Re))return!1;return typeof y==typeof A}function tb(){zs(),o()}n.Bounds=Xr,n.CanvasHandler=A2,n.CanvasRenderer=Y0,n.Gradient=v,n.GroupItem=Vi,n.Handler=Al,n.Item=si,n.Marks=ws,n.RenderType=g9,n.Renderer=yc,n.ResourceLoader=Fo,n.SVGHandler=O2,n.SVGRenderer=Ys,n.SVGStringRenderer=I2,n.Scenegraph=Vl,n.boundClip=eb,n.boundContext=qa,n.boundItem=yo,n.boundMark=vo,n.boundStroke=Hs,n.domChild=Lu,n.domClear=Wl,n.domCreate=Gc,n.domFind=Yc,n.font=At,n.fontFamily=ke,n.fontSize=Ju,n.intersect=zg,n.intersectBoxLine=Bi,n.intersectPath=Gr,n.intersectPoint=Ii,n.intersectRule=tr,n.lineHeight=fo,n.markup=C,n.multiLineOffset=Ms,n.path=N,n.pathCurves=Se,n.pathEqual=L4,n.pathParse=Ee,n.pathRectangle=bt,n.pathRender=ge,n.pathSymbols=ae,n.pathTrail=Vt,n.point=b2,n.renderModule=$g,n.resetSVGClipId=zs,n.resetSVGDefIds=tb,n.sceneEqual=Jc,n.sceneFromJSON=wl,n.scenePickVisit=Gn,n.sceneToJSON=Hl,n.sceneVisit=Mn,n.sceneZOrder=fr,n.serializeXML=H,n.textMetrics=Wc,Object.defineProperty(n,"__esModule",{value:!0})})});var pPe=G((WH,hPe)=>{d();(function(n,e){typeof WH=="object"&&typeof hPe!="undefined"?e(WH,qc(),t9(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(WH,function(n,e,t,r){"use strict";let i="top",s="left",o="right",a="bottom",l="top-left",f="top-right",p="bottom-left",v="bottom-right",b="start",F="middle",D="end",M="x",q="y",N="group",B="axis",I="title",z="frame",ie="scope",L="legend",Y="row-header",fe="row-footer",me="row-title",Be="column-header",tt="column-footer",st="column-title",Qe="padding",mt="symbol",Lt="fit",je="fit-x",Z="fit-y",Ke="pad",_e="none",De="all",be="each",de="flush",Ge="column",rt="row";function Bt(at){e.Transform.call(this,null,at)}r.inherits(Bt,e.Transform,{transform(at,ne){let Se=ne.dataflow,Me=at.mark,ft=Me.marktype,gt=t.Marks[ft],wt=gt.bound,ee=Me.bounds,Ee;if(gt.nested)Me.items.length&&Se.dirty(Me.items[0]),ee=_t(Me,wt),Me.items.forEach($e=>{$e.bounds.clear().union(ee)});else if(ft===N||at.modified())switch(ne.visit(ne.MOD,$e=>Se.dirty($e)),ee.clear(),Me.items.forEach($e=>ee.union(_t($e,wt))),Me.role){case B:case L:case I:ne.reflow()}else Ee=ne.changed(ne.REM),ne.visit(ne.ADD,$e=>{ee.union(_t($e,wt))}),ne.visit(ne.MOD,$e=>{Ee=Ee||ee.alignsWith($e.bounds),Se.dirty($e),ee.union(_t($e,wt))}),Ee&&(ee.clear(),Me.items.forEach($e=>ee.union($e.bounds)));return t.boundClip(Me),ne.modifies("bounds")}});function _t(at,ne,Se){return ne(at.bounds.clear(),at,Se)}let un=":vega_identifier:";function Tt(at){e.Transform.call(this,0,at)}Tt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},r.inherits(Tt,e.Transform,{transform(at,ne){let Se=Rt(ne.dataflow),Me=at.as,ft=Se.value;return ne.visit(ne.ADD,gt=>gt[Me]=gt[Me]||++ft),Se.set(this.value=ft),ne}});function Rt(at){return at._signals[un]||(at._signals[un]=at.add(0))}function Gt(at){e.Transform.call(this,null,at)}r.inherits(Gt,e.Transform,{transform(at,ne){let Se=this.value;Se||(Se=ne.dataflow.scenegraph().mark(at.markdef,xt(at),at.index),Se.group.context=at.context,at.context.group||(at.context.group=Se.group),Se.source=this.source,Se.clip=at.clip,Se.interactive=at.interactive,this.value=Se);let Me=Se.marktype===N?t.GroupItem:t.Item;return ne.visit(ne.ADD,ft=>Me.call(ft,Se)),(at.modified("clip")||at.modified("interactive"))&&(Se.clip=at.clip,Se.interactive=!!at.interactive,Se.zdirty=!0,ne.reflow()),Se.items=ne.source,ne}});function xt(at){let ne=at.groups,Se=at.parent;return ne&&ne.size===1?ne.get(Object.keys(ne.object)[0]):ne&&Se?ne.lookup(Se):null}function ve(at){e.Transform.call(this,null,at)}let Oe={parity:at=>at.filter((ne,Se)=>Se%2?ne.opacity=0:1),greedy:(at,ne)=>{let Se;return at.filter((Me,ft)=>!ft||!xe(Se.bounds,Me.bounds,ne)?(Se=Me,1):Me.opacity=0)}},xe=(at,ne,Se)=>Se>Math.max(ne.x1-at.x2,at.x1-ne.x2,ne.y1-at.y2,at.y1-ne.y2),le=(at,ne)=>{for(var Se=1,Me=at.length,ft=at[0].bounds,gt;Se<Me;ft=gt,++Se)if(xe(ft,gt=at[Se].bounds,ne))return!0},Ye=at=>{let ne=at.bounds;return ne.width()>1&&ne.height()>1},Ve=(at,ne,Se)=>{var Me=at.range(),ft=new t.Bounds;return ne===i||ne===a?ft.set(Me[0],-1/0,Me[1],1/0):ft.set(-1/0,Me[0],1/0,Me[1]),ft.expand(Se||1),gt=>ft.encloses(gt.bounds)},te=at=>(at.forEach(ne=>ne.opacity=1),at),Ae=(at,ne)=>at.reflow(ne.modified()).modifies("opacity");r.inherits(ve,e.Transform,{transform(at,ne){let Se=Oe[at.method]||Oe.parity,Me=at.separation||0,ft=ne.materialize(ne.SOURCE).source,gt,wt;if(!ft||!ft.length)return;if(!at.method)return at.modified("method")&&(te(ft),ne=Ae(ne,at)),ne;if(ft=ft.filter(Ye),!ft.length)return;if(at.sort&&(ft=ft.slice().sort(at.sort)),gt=te(ft),ne=Ae(ne,at),gt.length>=3&&le(gt,Me)){do gt=Se(gt,Me);while(gt.length>=3&&le(gt,Me));gt.length<3&&!r.peek(ft).opacity&&(gt.length>1&&(r.peek(gt).opacity=0),r.peek(ft).opacity=1)}at.boundScale&&at.boundTolerance>=0&&(wt=Ve(at.boundScale,at.boundOrient,+at.boundTolerance),ft.forEach(Ee=>{wt(Ee)||(Ee.opacity=0)}));let ee=gt[0].mark.bounds.clear();return ft.forEach(Ee=>{Ee.opacity&&ee.union(Ee.bounds)}),ne}});function Xe(at){e.Transform.call(this,null,at)}r.inherits(Xe,e.Transform,{transform(at,ne){let Se=ne.dataflow;if(ne.visit(ne.ALL,Me=>Se.dirty(Me)),ne.fields&&ne.fields.zindex){let Me=ne.source&&ne.source[0];Me&&(Me.mark.zdirty=!0)}}});let ot=new t.Bounds;function Ct(at,ne,Se){return at[ne]===Se?0:(at[ne]=Se,1)}function $t(at){var ne=at.items[0].orient;return ne===s||ne===o}function Ut(at){let ne=+at.grid;return[at.ticks?ne++:-1,at.labels?ne++:-1,ne+ +at.domain]}function sn(at,ne,Se,Me){var ft=ne.items[0],gt=ft.datum,wt=ft.translate!=null?ft.translate:.5,ee=ft.orient,Ee=Ut(gt),$e=ft.range,et=ft.offset,It=ft.position,Kt=ft.minExtent,mn=ft.maxExtent,fn=gt.title&&ft.items[Ee[2]].items[0],dn=ft.titlePadding,Rn=ft.bounds,we=fn&&t.multiLineOffset(fn),Pe=0,Et=0,O,$;switch(ot.clear().union(Rn),Rn.clear(),(O=Ee[0])>-1&&Rn.union(ft.items[O].bounds),(O=Ee[1])>-1&&Rn.union(ft.items[O].bounds),ee){case i:Pe=It||0,Et=-et,$=Math.max(Kt,Math.min(mn,-Rn.y1)),Rn.add(0,-$).add($e,0),fn&&ln(at,fn,$,dn,we,0,-1,Rn);break;case s:Pe=-et,Et=It||0,$=Math.max(Kt,Math.min(mn,-Rn.x1)),Rn.add(-$,0).add(0,$e),fn&&ln(at,fn,$,dn,we,1,-1,Rn);break;case o:Pe=Se+et,Et=It||0,$=Math.max(Kt,Math.min(mn,Rn.x2)),Rn.add(0,0).add($,$e),fn&&ln(at,fn,$,dn,we,1,1,Rn);break;case a:Pe=It||0,Et=Me+et,$=Math.max(Kt,Math.min(mn,Rn.y2)),Rn.add(0,0).add($e,$),fn&&ln(at,fn,$,dn,0,0,1,Rn);break;default:Pe=ft.x,Et=ft.y}return t.boundStroke(Rn.translate(Pe,Et),ft),Ct(ft,"x",Pe+wt)|Ct(ft,"y",Et+wt)&&(ft.bounds=ot,at.dirty(ft),ft.bounds=Rn,at.dirty(ft)),ft.mark.bounds.clear().union(Rn)}function ln(at,ne,Se,Me,ft,gt,wt,ee){let Ee=ne.bounds;if(ne.auto){let $e=wt*(Se+ft+Me),et=0,It=0;at.dirty(ne),gt?et=(ne.x||0)-(ne.x=$e):It=(ne.y||0)-(ne.y=$e),ne.mark.bounds.clear().union(Ee.translate(-et,-It)),at.dirty(ne)}ee.union(Ee)}let cn=(at,ne)=>Math.floor(Math.min(at,ne)),Ft=(at,ne)=>Math.ceil(Math.max(at,ne));function nn(at){var ne=at.items,Se=ne.length,Me=0,ft,gt;let wt={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;Me<Se;++Me)if(ft=ne[Me],gt=ft.items,ft.marktype===N)switch(ft.role){case B:case L:case I:break;case Y:wt.rowheaders.push(...gt);break;case fe:wt.rowfooters.push(...gt);break;case Be:wt.colheaders.push(...gt);break;case tt:wt.colfooters.push(...gt);break;case me:wt.rowtitle=gt[0];break;case st:wt.coltitle=gt[0];break;default:wt.marks.push(...gt)}return wt}function An(at){return new t.Bounds().set(0,0,at.width||0,at.height||0)}function $n(at){let ne=at.bounds.clone();return ne.empty()?ne.set(0,0,0,0):ne.translate(-(at.x||0),-(at.y||0))}function Cn(at,ne,Se){let Me=r.isObject(at)?at[ne]:at;return Me??(Se!==void 0?Se:0)}function Fe(at){return at<0?Math.ceil(-at):0}function qe(at,ne,Se){var Me=!Se.nodirty,ft=Se.bounds===de?An:$n,gt=ot.set(0,0,0,0),wt=Cn(Se.align,Ge),ee=Cn(Se.align,rt),Ee=Cn(Se.padding,Ge),$e=Cn(Se.padding,rt),et=Se.columns||ne.length,It=et<=0?1:Math.ceil(ne.length/et),Kt=ne.length,mn=Array(Kt),fn=Array(et),dn=0,Rn=Array(Kt),we=Array(It),Pe=0,Et=Array(Kt),O=Array(Kt),$=Array(Kt),ge,he,Q,oe,ae,ze,Ot,vt,tn,E,P;for(he=0;he<et;++he)fn[he]=0;for(he=0;he<It;++he)we[he]=0;for(he=0;he<Kt;++he)ze=ne[he],ae=$[he]=ft(ze),ze.x=ze.x||0,Et[he]=0,ze.y=ze.y||0,O[he]=0,Q=he%et,oe=~~(he/et),dn=Math.max(dn,Ot=Math.ceil(ae.x2)),Pe=Math.max(Pe,vt=Math.ceil(ae.y2)),fn[Q]=Math.max(fn[Q],Ot),we[oe]=Math.max(we[oe],vt),mn[he]=Ee+Fe(ae.x1),Rn[he]=$e+Fe(ae.y1),Me&&at.dirty(ne[he]);for(he=0;he<Kt;++he)he%et===0&&(mn[he]=0),he<et&&(Rn[he]=0);if(wt===be)for(Q=1;Q<et;++Q){for(P=0,he=Q;he<Kt;he+=et)P<mn[he]&&(P=mn[he]);for(he=Q;he<Kt;he+=et)mn[he]=P+fn[Q-1]}else if(wt===De){for(P=0,he=0;he<Kt;++he)he%et&&P<mn[he]&&(P=mn[he]);for(he=0;he<Kt;++he)he%et&&(mn[he]=P+dn)}else for(wt=!1,Q=1;Q<et;++Q)for(he=Q;he<Kt;he+=et)mn[he]+=fn[Q-1];if(ee===be)for(oe=1;oe<It;++oe){for(P=0,he=oe*et,ge=he+et;he<ge;++he)P<Rn[he]&&(P=Rn[he]);for(he=oe*et;he<ge;++he)Rn[he]=P+we[oe-1]}else if(ee===De){for(P=0,he=et;he<Kt;++he)P<Rn[he]&&(P=Rn[he]);for(he=et;he<Kt;++he)Rn[he]=P+Pe}else for(ee=!1,oe=1;oe<It;++oe)for(he=oe*et,ge=he+et;he<ge;++he)Rn[he]+=we[oe-1];for(tn=0,he=0;he<Kt;++he)tn=mn[he]+(he%et?tn:0),Et[he]+=tn-ne[he].x;for(Q=0;Q<et;++Q)for(E=0,he=Q;he<Kt;he+=et)E+=Rn[he],O[he]+=E-ne[he].y;if(wt&&Cn(Se.center,Ge)&&It>1)for(he=0;he<Kt;++he)ae=wt===De?dn:fn[he%et],tn=ae-$[he].x2-ne[he].x-Et[he],tn>0&&(Et[he]+=tn/2);if(ee&&Cn(Se.center,rt)&&et!==1)for(he=0;he<Kt;++he)ae=ee===De?Pe:we[~~(he/et)],E=ae-$[he].y2-ne[he].y-O[he],E>0&&(O[he]+=E/2);for(he=0;he<Kt;++he)gt.union($[he].translate(Et[he],O[he]));switch(tn=Cn(Se.anchor,M),E=Cn(Se.anchor,q),Cn(Se.anchor,Ge)){case D:tn-=gt.width();break;case F:tn-=gt.width()/2}switch(Cn(Se.anchor,rt)){case D:E-=gt.height();break;case F:E-=gt.height()/2}for(tn=Math.round(tn),E=Math.round(E),gt.clear(),he=0;he<Kt;++he)ne[he].mark.bounds.clear();for(he=0;he<Kt;++he)ze=ne[he],ze.x+=Et[he]+=tn,ze.y+=O[he]+=E,gt.union(ze.mark.bounds.union(ze.bounds.translate(Et[he],O[he]))),Me&&at.dirty(ze);return gt}function Ce(at,ne,Se){var Me=nn(ne),ft=Me.marks,gt=Se.bounds===de?Dt:lt,wt=Se.offset,ee=Se.columns||ft.length,Ee=ee<=0?1:Math.ceil(ft.length/ee),$e=Ee*ee,et,It,Kt,mn,fn,dn,Rn;let we=qe(at,ft,Se);we.empty()&&we.set(0,0,0,0),Me.rowheaders&&(dn=Cn(Se.headerBand,rt,null),et=ct(at,Me.rowheaders,ft,ee,Ee,-Cn(wt,"rowHeader"),cn,0,gt,"x1",0,ee,1,dn)),Me.colheaders&&(dn=Cn(Se.headerBand,Ge,null),It=ct(at,Me.colheaders,ft,ee,ee,-Cn(wt,"columnHeader"),cn,1,gt,"y1",0,1,ee,dn)),Me.rowfooters&&(dn=Cn(Se.footerBand,rt,null),Kt=ct(at,Me.rowfooters,ft,ee,Ee,Cn(wt,"rowFooter"),Ft,0,gt,"x2",ee-1,ee,1,dn)),Me.colfooters&&(dn=Cn(Se.footerBand,Ge,null),mn=ct(at,Me.colfooters,ft,ee,ee,Cn(wt,"columnFooter"),Ft,1,gt,"y2",$e-ee,1,ee,dn)),Me.rowtitle&&(fn=Cn(Se.titleAnchor,rt),Rn=Cn(wt,"rowTitle"),Rn=fn===D?Kt+Rn:et-Rn,dn=Cn(Se.titleBand,rt,.5),Yt(at,Me.rowtitle,Rn,0,we,dn)),Me.coltitle&&(fn=Cn(Se.titleAnchor,Ge),Rn=Cn(wt,"columnTitle"),Rn=fn===D?mn+Rn:It-Rn,dn=Cn(Se.titleBand,Ge,.5),Yt(at,Me.coltitle,Rn,1,we,dn))}function Dt(at,ne){return ne==="x1"?at.x||0:ne==="y1"?at.y||0:ne==="x2"?(at.x||0)+(at.width||0):ne==="y2"?(at.y||0)+(at.height||0):void 0}function lt(at,ne){return at.bounds[ne]}function ct(at,ne,Se,Me,ft,gt,wt,ee,Ee,$e,et,It,Kt,mn){var fn=Se.length,dn=0,Rn=0,we,Pe,Et,O,$,ge,he,Q,oe;if(!fn)return dn;for(we=et;we<fn;we+=It)Se[we]&&(dn=wt(dn,Ee(Se[we],$e)));if(!ne.length)return dn;for(ne.length>ft&&(at.warn("Grid headers exceed limit: "+ft),ne=ne.slice(0,ft)),dn+=gt,Pe=0,O=ne.length;Pe<O;++Pe)at.dirty(ne[Pe]),ne[Pe].mark.bounds.clear();for(we=et,Pe=0,O=ne.length;Pe<O;++Pe,we+=It){for(ge=ne[Pe],$=ge.mark.bounds,Et=we;Et>=0&&(he=Se[Et])==null;Et-=Kt);ee?(Q=mn==null?he.x:Math.round(he.bounds.x1+mn*he.bounds.width()),oe=dn):(Q=dn,oe=mn==null?he.y:Math.round(he.bounds.y1+mn*he.bounds.height())),$.union(ge.bounds.translate(Q-(ge.x||0),oe-(ge.y||0))),ge.x=Q,ge.y=oe,at.dirty(ge),Rn=wt(Rn,$[$e])}return Rn}function Yt(at,ne,Se,Me,ft,gt){if(!!ne){at.dirty(ne);var wt=Se,ee=Se;Me?wt=Math.round(ft.x1+gt*ft.width()):ee=Math.round(ft.y1+gt*ft.height()),ne.bounds.translate(wt-(ne.x||0),ee-(ne.y||0)),ne.mark.bounds.clear().union(ne.bounds),ne.x=wt,ne.y=ee,at.dirty(ne)}}function qt(at,ne){let Se=at[ne]||{};return(Me,ft)=>Se[Me]!=null?Se[Me]:at[Me]!=null?at[Me]:ft}function gn(at,ne){let Se=-1/0;return at.forEach(Me=>{Me.offset!=null&&(Se=Math.max(Se,Me.offset))}),Se>-1/0?Se:ne}function kn(at,ne,Se,Me,ft,gt,wt){let ee=qt(Se,ne),Ee=gn(at,ee("offset",0)),$e=ee("anchor",b),et=$e===D?1:$e===F?.5:0,It={align:be,bounds:ee("bounds",de),columns:ee("direction")==="vertical"?1:at.length,padding:ee("margin",8),center:ee("center"),nodirty:!0};switch(ne){case s:It.anchor={x:Math.floor(Me.x1)-Ee,column:D,y:et*(wt||Me.height()+2*Me.y1),row:$e};break;case o:It.anchor={x:Math.ceil(Me.x2)+Ee,y:et*(wt||Me.height()+2*Me.y1),row:$e};break;case i:It.anchor={y:Math.floor(ft.y1)-Ee,row:D,x:et*(gt||ft.width()+2*ft.x1),column:$e};break;case a:It.anchor={y:Math.ceil(ft.y2)+Ee,x:et*(gt||ft.width()+2*ft.x1),column:$e};break;case l:It.anchor={x:Ee,y:Ee};break;case f:It.anchor={x:gt-Ee,y:Ee,column:D};break;case p:It.anchor={x:Ee,y:wt-Ee,row:D};break;case v:It.anchor={x:gt-Ee,y:wt-Ee,column:D,row:D};break}return It}function qn(at,ne){var Se=ne.items[0],Me=Se.datum,ft=Se.orient,gt=Se.bounds,wt=Se.x,ee=Se.y,Ee,$e;return Se._bounds?Se._bounds.clear().union(gt):Se._bounds=gt.clone(),gt.clear(),zn(at,Se,Se.items[0].items[0]),gt=bn(Se,gt),Ee=2*Se.padding,$e=2*Se.padding,gt.empty()||(Ee=Math.ceil(gt.width()+Ee),$e=Math.ceil(gt.height()+$e)),Me.type===mt&&se(Se.items[0].items[0].items[0].items),ft!==_e&&(Se.x=wt=0,Se.y=ee=0),Se.width=Ee,Se.height=$e,t.boundStroke(gt.set(wt,ee,wt+Ee,ee+$e),Se),Se.mark.bounds.clear().union(gt),Se}function bn(at,ne){return at.items.forEach(Se=>ne.union(Se.bounds)),ne.x1=at.padding,ne.y1=at.padding,ne}function zn(at,ne,Se){var Me=ne.padding,ft=Me-Se.x,gt=Me-Se.y;if(!ne.datum.title)(ft||gt)&&ht(at,Se,ft,gt);else{var wt=ne.items[1].items[0],ee=wt.anchor,Ee=ne.titlePadding||0,$e=Me-wt.x,et=Me-wt.y;switch(wt.orient){case s:ft+=Math.ceil(wt.bounds.width())+Ee;break;case o:case a:break;default:gt+=wt.bounds.height()+Ee}switch((ft||gt)&&ht(at,Se,ft,gt),wt.orient){case s:et+=He(ne,Se,wt,ee,1,1);break;case o:$e+=He(ne,Se,wt,D,0,0)+Ee,et+=He(ne,Se,wt,ee,1,1);break;case a:$e+=He(ne,Se,wt,ee,0,0),et+=He(ne,Se,wt,D,-1,0,1)+Ee;break;default:$e+=He(ne,Se,wt,ee,0,0)}($e||et)&&ht(at,wt,$e,et),($e=Math.round(wt.bounds.x1-Me))<0&&(ht(at,Se,-$e,0),ht(at,wt,-$e,0))}}function He(at,ne,Se,Me,ft,gt,wt){let ee=at.datum.type!=="symbol",Ee=Se.datum.vgrad,$e=ee&&(gt||!Ee)&&!wt?ne.items[0]:ne,et=$e.bounds[ft?"y2":"x2"]-at.padding,It=Ee&&gt?et:0,Kt=Ee&&gt?0:et,mn=ft<=0?0:t.multiLineOffset(Se);return Math.round(Me===b?It:Me===D?Kt-mn:.5*(et-mn))}function ht(at,ne,Se,Me){ne.x+=Se,ne.y+=Me,ne.bounds.translate(Se,Me),ne.mark.bounds.translate(Se,Me),at.dirty(ne)}function se(at){let ne=at.reduce((Se,Me)=>(Se[Me.column]=Math.max(Me.bounds.x2-Me.x,Se[Me.column]||0),Se),{});at.forEach(Se=>{Se.width=ne[Se.column],Se.height=Se.bounds.y2-Se.y})}function Ie(at,ne,Se,Me,ft){var gt=ne.items[0],wt=gt.frame,ee=gt.orient,Ee=gt.anchor,$e=gt.offset,et=gt.padding,It=gt.items[0].items[0],Kt=gt.items[1]&&gt.items[1].items[0],mn=ee===s||ee===o?Me:Se,fn=0,dn=0,Rn=0,we=0,Pe=0,Et;if(wt!==N?ee===s?(fn=ft.y2,mn=ft.y1):ee===o?(fn=ft.y1,mn=ft.y2):(fn=ft.x1,mn=ft.x2):ee===s&&(fn=Me,mn=0),Et=Ee===b?fn:Ee===D?mn:(fn+mn)/2,Kt&&Kt.text){switch(ee){case i:case a:Pe=It.bounds.height()+et;break;case s:we=It.bounds.width()+et;break;case o:we=-It.bounds.width()-et;break}ot.clear().union(Kt.bounds),ot.translate(we-(Kt.x||0),Pe-(Kt.y||0)),Ct(Kt,"x",we)|Ct(Kt,"y",Pe)&&(at.dirty(Kt),Kt.bounds.clear().union(ot),Kt.mark.bounds.clear().union(ot),at.dirty(Kt)),ot.clear().union(Kt.bounds)}else ot.clear();switch(ot.union(It.bounds),ee){case i:dn=Et,Rn=ft.y1-ot.height()-$e;break;case s:dn=ft.x1-ot.width()-$e,Rn=Et;break;case o:dn=ft.x2+ot.width()+$e,Rn=Et;break;case a:dn=Et,Rn=ft.y2+$e;break;default:dn=gt.x,Rn=gt.y}return Ct(gt,"x",dn)|Ct(gt,"y",Rn)&&(ot.translate(dn,Rn),at.dirty(gt),gt.bounds.clear().union(ot),ne.bounds.clear().union(ot),at.dirty(gt)),gt.bounds}function Ze(at){e.Transform.call(this,null,at)}r.inherits(Ze,e.Transform,{transform(at,ne){let Se=ne.dataflow;return at.mark.items.forEach(Me=>{at.layout&&Ce(Se,Me,at.layout),rn(Se,Me,at)}),St(at.mark.group)?ne.reflow():ne}});function St(at){return at&&at.mark.role!=="legend-entry"}function rn(at,ne,Se){var Me=ne.items,ft=Math.max(0,ne.width||0),gt=Math.max(0,ne.height||0),wt=new t.Bounds().set(0,0,ft,gt),ee=wt.clone(),Ee=wt.clone(),$e=[],et,It,Kt,mn,fn,dn;for(fn=0,dn=Me.length;fn<dn;++fn)switch(It=Me[fn],It.role){case B:mn=$t(It)?ee:Ee,mn.union(sn(at,It,ft,gt));break;case I:et=It;break;case L:$e.push(qn(at,It));break;case z:case ie:case Y:case fe:case me:case Be:case tt:case st:ee.union(It.bounds),Ee.union(It.bounds);break;default:wt.union(It.bounds)}if($e.length){let Rn={};$e.forEach(we=>{Kt=we.orient||o,Kt!==_e&&(Rn[Kt]||(Rn[Kt]=[])).push(we)});for(let we in Rn){let Pe=Rn[we];qe(at,Pe,kn(Pe,we,Se.legends,ee,Ee,ft,gt))}$e.forEach(we=>{let Pe=we.bounds;if(Pe.equals(we._bounds)||(we.bounds=we._bounds,at.dirty(we),we.bounds=Pe,at.dirty(we)),Se.autosize&&Se.autosize.type===Lt)switch(we.orient){case s:case o:wt.add(Pe.x1,0).add(Pe.x2,0);break;case i:case a:wt.add(0,Pe.y1).add(0,Pe.y2)}else wt.union(Pe)})}wt.union(ee).union(Ee),et&&wt.union(Ie(at,et,ft,gt,wt)),ne.clip&&wt.set(0,0,ne.width||0,ne.height||0),Xt(at,ne,wt,Se)}function Xt(at,ne,Se,Me){let ft=Me.autosize||{},gt=ft.type;if(at._autosize<1||!gt)return;let wt=at._width,ee=at._height,Ee=Math.max(0,ne.width||0),$e=Math.max(0,Math.ceil(-Se.x1)),et=Math.max(0,ne.height||0),It=Math.max(0,Math.ceil(-Se.y1)),Kt=Math.max(0,Math.ceil(Se.x2-Ee)),mn=Math.max(0,Math.ceil(Se.y2-et));if(ft.contains===Qe){let fn=at.padding();wt-=fn.left+fn.right,ee-=fn.top+fn.bottom}gt===_e?($e=0,It=0,Ee=wt,et=ee):gt===Lt?(Ee=Math.max(0,wt-$e-Kt),et=Math.max(0,ee-It-mn)):gt===je?(Ee=Math.max(0,wt-$e-Kt),ee=et+It+mn):gt===Z?(wt=Ee+$e+Kt,et=Math.max(0,ee-It-mn)):gt===Ke&&(wt=Ee+$e+Kt,ee=et+It+mn),at._resizeView(wt,ee,Ee,et,[$e,It],ft.resize)}n.bound=Bt,n.identifier=Tt,n.mark=Gt,n.overlap=ve,n.render=Xe,n.viewlayout=Ze,Object.defineProperty(n,"__esModule",{value:!0})})});var xPe=G((QH,mPe)=>{d();(function(n,e){typeof QH=="object"&&typeof mPe!="undefined"?e(QH,qc(),U6(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(QH,function(n,e,t,r){"use strict";function i(O){e.Transform.call(this,null,O)}r.inherits(i,e.Transform,{transform(O,$){if(this.value&&!O.modified())return $.StopPropagation;var ge=$.dataflow.locale(),he=$.fork($.NO_SOURCE|$.NO_FIELDS),Q=this.value,oe=O.scale,ae=O.count==null?O.values?O.values.length:10:O.count,ze=t.tickCount(oe,ae,O.minstep),Ot=O.format||t.tickFormat(ge,oe,ze,O.formatSpecifier,O.formatType,!!O.values),vt=O.values?t.validTicks(oe,O.values,ze):t.tickValues(oe,ze);return Q&&(he.rem=Q),Q=vt.map((tn,E)=>e.ingest({index:E/(vt.length-1||1),value:tn,label:Ot(tn)})),O.extra&&Q.length&&Q.push(e.ingest({index:-1,extra:{value:Q[0].value},label:""})),he.source=Q,he.add=Q,this.value=Q,he}});function s(O){e.Transform.call(this,null,O)}function o(){return e.ingest({})}function a(O){let $=r.fastmap().test(ge=>ge.exit);return $.lookup=ge=>$.get(O(ge)),$}r.inherits(s,e.Transform,{transform(O,$){var ge=$.dataflow,he=$.fork($.NO_SOURCE|$.NO_FIELDS),Q=O.item||o,oe=O.key||e.tupleid,ae=this.value;return r.isArray(he.encode)&&(he.encode=null),ae&&(O.modified("key")||$.modified(oe))&&r.error("DataJoin does not support modified key function or fields."),ae||($=$.addAll(),this.value=ae=a(oe)),$.visit($.ADD,ze=>{let Ot=oe(ze),vt=ae.get(Ot);vt?vt.exit?(ae.empty--,he.add.push(vt)):he.mod.push(vt):(vt=Q(ze),ae.set(Ot,vt),he.add.push(vt)),vt.datum=ze,vt.exit=!1}),$.visit($.MOD,ze=>{let Ot=oe(ze),vt=ae.get(Ot);vt&&(vt.datum=ze,he.mod.push(vt))}),$.visit($.REM,ze=>{let Ot=oe(ze),vt=ae.get(Ot);ze===vt.datum&&!vt.exit&&(he.rem.push(vt),vt.exit=!0,++ae.empty)}),$.changed($.ADD_MOD)&&he.modifies("datum"),($.clean()||O.clean&&ae.empty>ge.cleanThreshold)&&ge.runAfter(ae.clean),he}});function l(O){e.Transform.call(this,null,O)}r.inherits(l,e.Transform,{transform(O,$){var ge=$.fork($.ADD_REM),he=O.mod||!1,Q=O.encoders,oe=$.encode;if(r.isArray(oe))if(ge.changed()||oe.every(E=>Q[E]))oe=oe[0],ge.encode=null;else return $.StopPropagation;var ae=oe==="enter",ze=Q.update||r.falsy,Ot=Q.enter||r.falsy,vt=Q.exit||r.falsy,tn=(oe&&!ae?Q[oe]:ze)||r.falsy;if($.changed($.ADD)&&($.visit($.ADD,E=>{Ot(E,O),ze(E,O)}),ge.modifies(Ot.output),ge.modifies(ze.output),tn!==r.falsy&&tn!==ze&&($.visit($.ADD,E=>{tn(E,O)}),ge.modifies(tn.output))),$.changed($.REM)&&vt!==r.falsy&&($.visit($.REM,E=>{vt(E,O)}),ge.modifies(vt.output)),ae||tn!==r.falsy){let E=$.MOD|(O.modified()?$.REFLOW:0);ae?($.visit(E,P=>{let X=Ot(P,O)||he;(tn(P,O)||X)&&ge.mod.push(P)}),ge.mod.length&&ge.modifies(Ot.output)):$.visit(E,P=>{(tn(P,O)||he)&&ge.mod.push(P)}),ge.mod.length&&ge.modifies(tn.output)}return ge.changed()?ge:$.StopPropagation}});function f(O){e.Transform.call(this,[],O)}r.inherits(f,e.Transform,{transform(O,$){if(this.value!=null&&!O.modified())return $.StopPropagation;var ge=$.dataflow.locale(),he=$.fork($.NO_SOURCE|$.NO_FIELDS),Q=this.value,oe=O.type||t.SymbolLegend,ae=O.scale,ze=+O.limit,Ot=t.tickCount(ae,O.count==null?5:O.count,O.minstep),vt=!!O.values||oe===t.SymbolLegend,tn=O.format||t.labelFormat(ge,ae,Ot,oe,O.formatSpecifier,O.formatType,vt),E=O.values||t.labelValues(ae,Ot),P,X,ye,ut,bt;return Q&&(he.rem=Q),oe===t.SymbolLegend?(ze&&E.length>ze?($.dataflow.warn("Symbol legend count exceeds limit, filtering items."),Q=E.slice(0,ze-1),bt=!0):Q=E,r.isFunction(ye=O.size)?(!O.values&&ae(Q[0])===0&&(Q=Q.slice(1)),ut=Q.reduce((Vt,zt)=>Math.max(Vt,ye(zt,O)),0)):ye=r.constant(ut=ye||8),Q=Q.map((Vt,zt)=>e.ingest({index:zt,label:tn(Vt,zt,Q),value:Vt,offset:ut,size:ye(Vt,O)})),bt&&(bt=E[Q.length],Q.push(e.ingest({index:Q.length,label:`\u2026${E.length-Q.length} entries`,value:bt,offset:ut,size:ye(bt,O)})))):oe===t.GradientLegend?(P=ae.domain(),X=t.scaleFraction(ae,P[0],r.peek(P)),E.length<3&&!O.values&&P[0]!==r.peek(P)&&(E=[P[0],r.peek(P)]),Q=E.map((Vt,zt)=>e.ingest({index:zt,label:tn(Vt,zt,E),value:Vt,perc:X(Vt)}))):(ye=E.length-1,X=t.labelFraction(ae),Q=E.map((Vt,zt)=>e.ingest({index:zt,label:tn(Vt,zt,E),value:Vt,perc:zt?X(Vt):0,perc2:zt===ye?1:X(E[zt+1])}))),he.source=Q,he.add=Q,this.value=Q,he}});let p=O=>O.source.x,v=O=>O.source.y,b=O=>O.target.x,F=O=>O.target.y;function D(O){e.Transform.call(this,{},O)}D.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},r.inherits(D,e.Transform,{transform(O,$){var ge=O.sourceX||p,he=O.sourceY||v,Q=O.targetX||b,oe=O.targetY||F,ae=O.as||"path",ze=O.orient||"vertical",Ot=O.shape||"line",vt=tt.get(Ot+"-"+ze)||tt.get(Ot);return vt||r.error("LinkPath unsupported type: "+O.shape+(O.orient?"-"+O.orient:"")),$.visit($.SOURCE,tn=>{tn[ae]=vt(ge(tn),he(tn),Q(tn),oe(tn))}),$.reflow(O.modified()).modifies(ae)}});let M=(O,$,ge,he)=>"M"+O+","+$+"L"+ge+","+he,q=(O,$,ge,he)=>M($*Math.cos(O),$*Math.sin(O),he*Math.cos(ge),he*Math.sin(ge)),N=(O,$,ge,he)=>{var Q=ge-O,oe=he-$,ae=Math.sqrt(Q*Q+oe*oe)/2,ze=180*Math.atan2(oe,Q)/Math.PI;return"M"+O+","+$+"A"+ae+","+ae+" "+ze+" 0 1 "+ge+","+he},B=(O,$,ge,he)=>N($*Math.cos(O),$*Math.sin(O),he*Math.cos(ge),he*Math.sin(ge)),I=(O,$,ge,he)=>{let Q=ge-O,oe=he-$,ae=.2*(Q+oe),ze=.2*(oe-Q);return"M"+O+","+$+"C"+(O+ae)+","+($+ze)+" "+(ge+ze)+","+(he-ae)+" "+ge+","+he},z=(O,$,ge,he)=>I($*Math.cos(O),$*Math.sin(O),he*Math.cos(ge),he*Math.sin(ge)),ie=(O,$,ge,he)=>"M"+O+","+$+"V"+he+"H"+ge,L=(O,$,ge,he)=>"M"+O+","+$+"H"+ge+"V"+he,Y=(O,$,ge,he)=>{let Q=Math.cos(O),oe=Math.sin(O),ae=Math.cos(ge),ze=Math.sin(ge),Ot=Math.abs(ge-O)>Math.PI?ge<=O:ge>O;return"M"+$*Q+","+$*oe+"A"+$+","+$+" 0 0,"+(Ot?1:0)+" "+$*ae+","+$*ze+"L"+he*ae+","+he*ze},fe=(O,$,ge,he)=>{let Q=(O+ge)/2;return"M"+O+","+$+"C"+Q+","+$+" "+Q+","+he+" "+ge+","+he},me=(O,$,ge,he)=>{let Q=($+he)/2;return"M"+O+","+$+"C"+O+","+Q+" "+ge+","+Q+" "+ge+","+he},Be=(O,$,ge,he)=>{let Q=Math.cos(O),oe=Math.sin(O),ae=Math.cos(ge),ze=Math.sin(ge),Ot=($+he)/2;return"M"+$*Q+","+$*oe+"C"+Ot*Q+","+Ot*oe+" "+Ot*ae+","+Ot*ze+" "+he*ae+","+he*ze},tt=r.fastmap({line:M,"line-radial":q,arc:N,"arc-radial":B,curve:I,"curve-radial":z,"orthogonal-horizontal":ie,"orthogonal-vertical":L,"orthogonal-radial":Y,"diagonal-horizontal":fe,"diagonal-vertical":me,"diagonal-radial":Be});function st(O,$,ge){O=+O,$=+$,ge=(Q=arguments.length)<2?($=O,O=0,1):Q<3?1:+ge;for(var he=-1,Q=Math.max(0,Math.ceil(($-O)/ge))|0,oe=new Array(Q);++he<Q;)oe[he]=O+he*ge;return oe}function Qe(O,$){let ge=0;if($===void 0)for(let he of O)(he=+he)&&(ge+=he);else{let he=-1;for(let Q of O)(Q=+$(Q,++he,O))&&(ge+=Q)}return ge}function mt(O){e.Transform.call(this,null,O)}mt.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},r.inherits(mt,e.Transform,{transform(O,$){var ge=O.as||["startAngle","endAngle"],he=ge[0],Q=ge[1],oe=O.field||r.one,ae=O.startAngle||0,ze=O.endAngle!=null?O.endAngle:2*Math.PI,Ot=$.source,vt=Ot.map(oe),tn=vt.length,E=ae,P=(ze-ae)/Qe(vt),X=st(tn),ye,ut,bt;for(O.sort&&X.sort((Vt,zt)=>vt[Vt]-vt[zt]),ye=0;ye<tn;++ye)bt=vt[X[ye]],ut=Ot[X[ye]],ut[he]=E,ut[Q]=E+=bt*P;return this.value=vt,$.reflow(O.modified()).modifies(ge)}});function Lt(O,$,ge){O.prototype=$.prototype=ge,ge.constructor=O}function je(O,$){var ge=Object.create(O.prototype);for(var he in $)ge[he]=$[he];return ge}function Z(){}var Ke=.7,_e=1/Ke,De="\\s*([+-]?\\d+)\\s*",be="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",de="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ge=/^#([0-9a-f]{3,8})$/,rt=new RegExp("^rgb\\("+[De,De,De]+"\\)$"),Bt=new RegExp("^rgb\\("+[de,de,de]+"\\)$"),_t=new RegExp("^rgba\\("+[De,De,De,be]+"\\)$"),un=new RegExp("^rgba\\("+[de,de,de,be]+"\\)$"),Tt=new RegExp("^hsl\\("+[be,de,de]+"\\)$"),Rt=new RegExp("^hsla\\("+[be,de,de,be]+"\\)$"),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lt(Z,xe,{copy:function(O){return Object.assign(new this.constructor,this,O)},displayable:function(){return this.rgb().displayable()},hex:xt,formatHex:xt,formatHsl:ve,formatRgb:Oe,toString:Oe});function xt(){return this.rgb().formatHex()}function ve(){return Ut(this).formatHsl()}function Oe(){return this.rgb().formatRgb()}function xe(O){var $,ge;return O=(O+"").trim().toLowerCase(),($=Ge.exec(O))?(ge=$[1].length,$=parseInt($[1],16),ge===6?le($):ge===3?new Ae($>>8&15|$>>4&240,$>>4&15|$&240,($&15)<<4|$&15,1):ge===8?Ye($>>24&255,$>>16&255,$>>8&255,($&255)/255):ge===4?Ye($>>12&15|$>>8&240,$>>8&15|$>>4&240,$>>4&15|$&240,(($&15)<<4|$&15)/255):null):($=rt.exec(O))?new Ae($[1],$[2],$[3],1):($=Bt.exec(O))?new Ae($[1]*255/100,$[2]*255/100,$[3]*255/100,1):($=_t.exec(O))?Ye($[1],$[2],$[3],$[4]):($=un.exec(O))?Ye($[1]*255/100,$[2]*255/100,$[3]*255/100,$[4]):($=Tt.exec(O))?$t($[1],$[2]/100,$[3]/100,1):($=Rt.exec(O))?$t($[1],$[2]/100,$[3]/100,$[4]):Gt.hasOwnProperty(O)?le(Gt[O]):O==="transparent"?new Ae(NaN,NaN,NaN,0):null}function le(O){return new Ae(O>>16&255,O>>8&255,O&255,1)}function Ye(O,$,ge,he){return he<=0&&(O=$=ge=NaN),new Ae(O,$,ge,he)}function Ve(O){return O instanceof Z||(O=xe(O)),O?(O=O.rgb(),new Ae(O.r,O.g,O.b,O.opacity)):new Ae}function te(O,$,ge,he){return arguments.length===1?Ve(O):new Ae(O,$,ge,he??1)}function Ae(O,$,ge,he){this.r=+O,this.g=+$,this.b=+ge,this.opacity=+he}Lt(Ae,te,je(Z,{brighter:function(O){return O=O==null?_e:Math.pow(_e,O),new Ae(this.r*O,this.g*O,this.b*O,this.opacity)},darker:function(O){return O=O==null?Ke:Math.pow(Ke,O),new Ae(this.r*O,this.g*O,this.b*O,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xe,formatHex:Xe,formatRgb:ot,toString:ot}));function Xe(){return"#"+Ct(this.r)+Ct(this.g)+Ct(this.b)}function ot(){var O=this.opacity;return O=isNaN(O)?1:Math.max(0,Math.min(1,O)),(O===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(O===1?")":", "+O+")")}function Ct(O){return O=Math.max(0,Math.min(255,Math.round(O)||0)),(O<16?"0":"")+O.toString(16)}function $t(O,$,ge,he){return he<=0?O=$=ge=NaN:ge<=0||ge>=1?O=$=NaN:$<=0&&(O=NaN),new ln(O,$,ge,he)}function Ut(O){if(O instanceof ln)return new ln(O.h,O.s,O.l,O.opacity);if(O instanceof Z||(O=xe(O)),!O)return new ln;if(O instanceof ln)return O;O=O.rgb();var $=O.r/255,ge=O.g/255,he=O.b/255,Q=Math.min($,ge,he),oe=Math.max($,ge,he),ae=NaN,ze=oe-Q,Ot=(oe+Q)/2;return ze?($===oe?ae=(ge-he)/ze+(ge<he)*6:ge===oe?ae=(he-$)/ze+2:ae=($-ge)/ze+4,ze/=Ot<.5?oe+Q:2-oe-Q,ae*=60):ze=Ot>0&&Ot<1?0:ae,new ln(ae,ze,Ot,O.opacity)}function sn(O,$,ge,he){return arguments.length===1?Ut(O):new ln(O,$,ge,he??1)}function ln(O,$,ge,he){this.h=+O,this.s=+$,this.l=+ge,this.opacity=+he}Lt(ln,sn,je(Z,{brighter:function(O){return O=O==null?_e:Math.pow(_e,O),new ln(this.h,this.s,this.l*O,this.opacity)},darker:function(O){return O=O==null?Ke:Math.pow(Ke,O),new ln(this.h,this.s,this.l*O,this.opacity)},rgb:function(){var O=this.h%360+(this.h<0)*360,$=isNaN(O)||isNaN(this.s)?0:this.s,ge=this.l,he=ge+(ge<.5?ge:1-ge)*$,Q=2*ge-he;return new Ae(cn(O>=240?O-240:O+120,Q,he),cn(O,Q,he),cn(O<120?O+240:O-120,Q,he),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var O=this.opacity;return O=isNaN(O)?1:Math.max(0,Math.min(1,O)),(O===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(O===1?")":", "+O+")")}}));function cn(O,$,ge){return(O<60?$+(ge-$)*O/60:O<180?ge:O<240?$+(ge-$)*(240-O)/60:$)*255}var Ft=O=>()=>O;function nn(O,$){return function(ge){return O+ge*$}}function An(O,$,ge){return O=Math.pow(O,ge),$=Math.pow($,ge)-O,ge=1/ge,function(he){return Math.pow(O+he*$,ge)}}function $n(O){return(O=+O)==1?Cn:function($,ge){return ge-$?An($,ge,O):Ft(isNaN($)?ge:$)}}function Cn(O,$){var ge=$-O;return ge?nn(O,ge):Ft(isNaN(O)?$:O)}var Fe=function O($){var ge=$n($);function he(Q,oe){var ae=ge((Q=te(Q)).r,(oe=te(oe)).r),ze=ge(Q.g,oe.g),Ot=ge(Q.b,oe.b),vt=Cn(Q.opacity,oe.opacity);return function(tn){return Q.r=ae(tn),Q.g=ze(tn),Q.b=Ot(tn),Q.opacity=vt(tn),Q+""}}return he.gamma=O,he}(1);function qe(O,$){$||($=[]);var ge=O?Math.min($.length,O.length):0,he=$.slice(),Q;return function(oe){for(Q=0;Q<ge;++Q)he[Q]=O[Q]*(1-oe)+$[Q]*oe;return he}}function Ce(O){return ArrayBuffer.isView(O)&&!(O instanceof DataView)}function Dt(O,$){var ge=$?$.length:0,he=O?Math.min(ge,O.length):0,Q=new Array(he),oe=new Array(ge),ae;for(ae=0;ae<he;++ae)Q[ae]=zn(O[ae],$[ae]);for(;ae<ge;++ae)oe[ae]=$[ae];return function(ze){for(ae=0;ae<he;++ae)oe[ae]=Q[ae](ze);return oe}}function lt(O,$){var ge=new Date;return O=+O,$=+$,function(he){return ge.setTime(O*(1-he)+$*he),ge}}function ct(O,$){return O=+O,$=+$,function(ge){return O*(1-ge)+$*ge}}function Yt(O,$){var ge={},he={},Q;(O===null||typeof O!="object")&&(O={}),($===null||typeof $!="object")&&($={});for(Q in $)Q in O?ge[Q]=zn(O[Q],$[Q]):he[Q]=$[Q];return function(oe){for(Q in ge)he[Q]=ge[Q](oe);return he}}var qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gn=new RegExp(qt.source,"g");function kn(O){return function(){return O}}function qn(O){return function($){return O($)+""}}function bn(O,$){var ge=qt.lastIndex=gn.lastIndex=0,he,Q,oe,ae=-1,ze=[],Ot=[];for(O=O+"",$=$+"";(he=qt.exec(O))&&(Q=gn.exec($));)(oe=Q.index)>ge&&(oe=$.slice(ge,oe),ze[ae]?ze[ae]+=oe:ze[++ae]=oe),(he=he[0])===(Q=Q[0])?ze[ae]?ze[ae]+=Q:ze[++ae]=Q:(ze[++ae]=null,Ot.push({i:ae,x:ct(he,Q)})),ge=gn.lastIndex;return ge<$.length&&(oe=$.slice(ge),ze[ae]?ze[ae]+=oe:ze[++ae]=oe),ze.length<2?Ot[0]?qn(Ot[0].x):kn($):($=Ot.length,function(vt){for(var tn=0,E;tn<$;++tn)ze[(E=Ot[tn]).i]=E.x(vt);return ze.join("")})}function zn(O,$){var ge=typeof $,he;return $==null||ge==="boolean"?Ft($):(ge==="number"?ct:ge==="string"?(he=xe($))?($=he,Fe):bn:$ instanceof xe?Fe:$ instanceof Date?lt:Ce($)?qe:Array.isArray($)?Dt:typeof $.valueOf!="function"&&typeof $.toString!="function"||isNaN($)?Yt:ct)(O,$)}function He(O,$){return O=+O,$=+$,function(ge){return Math.round(O*(1-ge)+$*ge)}}let ht=5;function se(O){let $=O.type;return!O.bins&&($===t.Linear||$===t.Pow||$===t.Sqrt)}function Ie(O){return t.isContinuous(O)&&O!==t.Sequential}let Ze=r.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function St(O){e.Transform.call(this,null,O),this.modified(!0)}r.inherits(St,e.Transform,{transform(O,$){var ge=$.dataflow,he=this.value,Q=rn(O);(!he||Q!==he.type)&&(this.value=he=t.scale(Q)());for(Q in O)if(!Ze[Q]){if(Q==="padding"&&Ie(he.type))continue;r.isFunction(he[Q])?he[Q](O[Q]):ge.warn("Unsupported scale property: "+Q)}return gt(he,O,ft(he,O,at(he,O,ge))),$.fork($.NO_SOURCE|$.NO_FIELDS)}});function rn(O){var $=O.type,ge="",he;return $===t.Sequential?t.Sequential+"-"+t.Linear:(Xt(O)&&(he=O.rawDomain?O.rawDomain.length:O.domain?O.domain.length+ +(O.domainMid!=null):0,ge=he===2?t.Sequential+"-":he===3?t.Diverging+"-":""),(ge+$||t.Linear).toLowerCase())}function Xt(O){let $=O.type;return t.isContinuous($)&&$!==t.Time&&$!==t.UTC&&(O.scheme||O.range&&O.range.length&&O.range.every(r.isString))}function at(O,$,ge){let he=ne(O,$.domainRaw,ge);if(he>-1)return he;var Q=$.domain,oe=O.type,ae=$.zero||$.zero===void 0&&se(O),ze,Ot;if(!Q)return 0;if(Ie(oe)&&$.padding&&Q[0]!==r.peek(Q)&&(Q=Se(oe,Q,$.range,$.padding,$.exponent,$.constant)),(ae||$.domainMin!=null||$.domainMax!=null||$.domainMid!=null)&&(ze=(Q=Q.slice()).length-1||1,ae&&(Q[0]>0&&(Q[0]=0),Q[ze]<0&&(Q[ze]=0)),$.domainMin!=null&&(Q[0]=$.domainMin),$.domainMax!=null&&(Q[ze]=$.domainMax),$.domainMid!=null)){Ot=$.domainMid;let vt=Ot>Q[ze]?ze+1:Ot<Q[0]?0:ze;vt!==ze&&ge.warn("Scale domainMid exceeds domain min or max.",Ot),Q.splice(vt,0,Ot)}return O.domain(Me(oe,Q,ge)),oe===t.Ordinal&&O.unknown($.domainImplicit?t.scaleImplicit:void 0),$.nice&&O.nice&&O.nice($.nice!==!0&&t.tickCount(O,$.nice)||null),Q.length}function ne(O,$,ge){return $?(O.domain(Me(O.type,$,ge)),$.length):-1}function Se(O,$,ge,he,Q,oe){var ae=Math.abs(r.peek(ge)-ge[0]),ze=ae/(ae-2*he),Ot=O===t.Log?r.zoomLog($,null,ze):O===t.Sqrt?r.zoomPow($,null,ze,.5):O===t.Pow?r.zoomPow($,null,ze,Q||1):O===t.Symlog?r.zoomSymlog($,null,ze,oe||1):r.zoomLinear($,null,ze);return $=$.slice(),$[0]=Ot[0],$[$.length-1]=Ot[1],$}function Me(O,$,ge){if(t.isLogarithmic(O)){var he=Math.abs($.reduce((Q,oe)=>Q+(oe<0?-1:oe>0?1:0),0));he!==$.length&&ge.warn("Log scale domain includes zero: "+r.stringValue($))}return $}function ft(O,$,ge){let he=$.bins;if(he&&!r.isArray(he)){let Q=O.domain(),oe=Q[0],ae=r.peek(Q),ze=he.step,Ot=he.start==null?oe:he.start,vt=he.stop==null?ae:he.stop;ze||r.error("Scale bins parameter missing step property."),Ot<oe&&(Ot=ze*Math.ceil(oe/ze)),vt>ae&&(vt=ze*Math.floor(ae/ze)),he=st(Ot,vt+ze/2,ze)}return he?O.bins=he:O.bins&&delete O.bins,O.type===t.BinOrdinal&&(he?!$.domain&&!$.domainRaw&&(O.domain(he),ge=he.length):O.bins=O.domain()),ge}function gt(O,$,ge){var he=O.type,Q=$.round||!1,oe=$.range;if($.rangeStep!=null)oe=wt(he,$,ge);else if($.scheme&&(oe=ee(he,$,ge),r.isFunction(oe))){if(O.interpolator)return O.interpolator(oe);r.error(`Scale type ${he} does not support interpolating color schemes.`)}if(oe&&t.isInterpolating(he))return O.interpolator(t.interpolateColors($e(oe,$.reverse),$.interpolate,$.interpolateGamma));oe&&$.interpolate&&O.interpolate?O.interpolate(t.interpolate($.interpolate,$.interpolateGamma)):r.isFunction(O.round)?O.round(Q):r.isFunction(O.rangeRound)&&O.interpolate(Q?He:zn),oe&&O.range($e(oe,$.reverse))}function wt(O,$,ge){O!==t.Band&&O!==t.Point&&r.error("Only band and point scales support rangeStep.");var he=($.paddingOuter!=null?$.paddingOuter:$.padding)||0,Q=O===t.Point?1:($.paddingInner!=null?$.paddingInner:$.padding)||0;return[0,$.rangeStep*t.bandSpace(ge,Q,he)]}function ee(O,$,ge){var he=$.schemeExtent,Q,oe;return r.isArray($.scheme)?oe=t.interpolateColors($.scheme,$.interpolate,$.interpolateGamma):(Q=$.scheme.toLowerCase(),oe=t.scheme(Q),oe||r.error(`Unrecognized scheme name: ${$.scheme}`)),ge=O===t.Threshold?ge+1:O===t.BinOrdinal?ge-1:O===t.Quantile||O===t.Quantize?+$.schemeCount||ht:ge,t.isInterpolating(O)?Ee(oe,he,$.reverse):r.isFunction(oe)?t.quantizeInterpolator(Ee(oe,he),ge):O===t.Ordinal?oe:oe.slice(0,ge)}function Ee(O,$,ge){return r.isFunction(O)&&($||ge)?t.interpolateRange(O,$e($||[0,1],ge)):O}function $e(O,$){return $?O.slice().reverse():O}function et(O){e.Transform.call(this,null,O)}r.inherits(et,e.Transform,{transform(O,$){let ge=O.modified("sort")||$.changed($.ADD)||$.modified(O.sort.fields)||$.modified("datum");return ge&&$.source.sort(e.stableCompare(O.sort)),this.modified(ge),$}});let It="zero",Kt="center",mn="normalize",fn=["y0","y1"];function dn(O){e.Transform.call(this,null,O)}dn.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:It,values:[It,Kt,mn]},{name:"as",type:"string",array:!0,length:2,default:fn}]},r.inherits(dn,e.Transform,{transform(O,$){var ge=O.as||fn,he=ge[0],Q=ge[1],oe=e.stableCompare(O.sort),ae=O.field||r.one,ze=O.offset===Kt?Rn:O.offset===mn?we:Pe,Ot,vt,tn,E;for(Ot=Et($.source,O.groupby,oe,ae),vt=0,tn=Ot.length,E=Ot.max;vt<tn;++vt)ze(Ot[vt],E,ae,he,Q);return $.reflow(O.modified()).modifies(ge)}});function Rn(O,$,ge,he,Q){for(var oe=($-O.sum)/2,ae=O.length,ze=0,Ot;ze<ae;++ze)Ot=O[ze],Ot[he]=oe,Ot[Q]=oe+=Math.abs(ge(Ot))}function we(O,$,ge,he,Q){for(var oe=1/O.sum,ae=0,ze=O.length,Ot=0,vt=0,tn;Ot<ze;++Ot)tn=O[Ot],tn[he]=ae,tn[Q]=ae=oe*(vt+=Math.abs(ge(tn)))}function Pe(O,$,ge,he,Q){for(var oe=0,ae=0,ze=O.length,Ot=0,vt,tn;Ot<ze;++Ot)tn=O[Ot],vt=+ge(tn),vt<0?(tn[he]=ae,tn[Q]=ae+=vt):(tn[he]=oe,tn[Q]=oe+=vt)}function Et(O,$,ge,he){var Q=[],oe=ut=>ut(tn),ae,ze,Ot,vt,tn,E,P,X,ye;if($==null)Q.push(O.slice());else for(ae={},ze=0,Ot=O.length;ze<Ot;++ze)tn=O[ze],E=$.map(oe),P=ae[E],P||(ae[E]=P=[],Q.push(P)),P.push(tn);for(E=0,ye=0,vt=Q.length;E<vt;++E){for(P=Q[E],ze=0,X=0,Ot=P.length;ze<Ot;++ze)X+=Math.abs(he(P[ze]));P.sum=X,X>ye&&(ye=X),ge&&P.sort(ge)}return Q.max=ye,Q}n.axisticks=i,n.datajoin=s,n.encode=l,n.legendentries=f,n.linkpath=D,n.pie=mt,n.scale=St,n.sortitems=et,n.stack=dn,Object.defineProperty(n,"__esModule",{value:!0})})});var jue=G((GH,gPe)=>{d();(function(n,e){typeof GH=="object"&&typeof gPe!="undefined"?e(GH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(GH,function(n){"use strict";class e{constructor(){this._partials=new Float64Array(32),this._n=0}add(dt){let Ht=this._partials,Mt=0;for(let on=0;on<this._n&&on<32;on++){let wn=Ht[on],Bn=dt+wn,Nn=Math.abs(dt)<Math.abs(wn)?dt-(Bn-wn):wn-(Bn-dt);Nn&&(Ht[Mt++]=Nn),dt=Bn}return Ht[Mt]=dt,this._n=Mt+1,this}valueOf(){let dt=this._partials,Ht=this._n,Mt,on,wn,Bn=0;if(Ht>0){for(Bn=dt[--Ht];Ht>0&&(Mt=Bn,on=dt[--Ht],Bn=Mt+on,wn=on-(Bn-Mt),!wn););Ht>0&&(wn<0&&dt[Ht-1]<0||wn>0&&dt[Ht-1]>0)&&(on=wn*2,Mt=Bn+on,on==Mt-Bn&&(Bn=Mt))}return Bn}}function*t(Ne){for(let dt of Ne)yield*dt}function r(Ne){return Array.from(t(Ne))}var i=1e-6,s=1e-12,o=Math.PI,a=o/2,l=o/4,f=o*2,p=180/o,v=o/180,b=Math.abs,F=Math.atan,D=Math.atan2,M=Math.cos,q=Math.exp,N=Math.log,B=Math.pow,I=Math.sin,z=Math.sign||function(Ne){return Ne>0?1:Ne<0?-1:0},ie=Math.sqrt,L=Math.tan;function Y(Ne){return Ne>1?0:Ne<-1?o:Math.acos(Ne)}function fe(Ne){return Ne>1?a:Ne<-1?-a:Math.asin(Ne)}function me(){}function Be(Ne,dt){Ne&&st.hasOwnProperty(Ne.type)&&st[Ne.type](Ne,dt)}var tt={Feature:function(Ne,dt){Be(Ne.geometry,dt)},FeatureCollection:function(Ne,dt){for(var Ht=Ne.features,Mt=-1,on=Ht.length;++Mt<on;)Be(Ht[Mt].geometry,dt)}},st={Sphere:function(Ne,dt){dt.sphere()},Point:function(Ne,dt){Ne=Ne.coordinates,dt.point(Ne[0],Ne[1],Ne[2])},MultiPoint:function(Ne,dt){for(var Ht=Ne.coordinates,Mt=-1,on=Ht.length;++Mt<on;)Ne=Ht[Mt],dt.point(Ne[0],Ne[1],Ne[2])},LineString:function(Ne,dt){Qe(Ne.coordinates,dt,0)},MultiLineString:function(Ne,dt){for(var Ht=Ne.coordinates,Mt=-1,on=Ht.length;++Mt<on;)Qe(Ht[Mt],dt,0)},Polygon:function(Ne,dt){mt(Ne.coordinates,dt)},MultiPolygon:function(Ne,dt){for(var Ht=Ne.coordinates,Mt=-1,on=Ht.length;++Mt<on;)mt(Ht[Mt],dt)},GeometryCollection:function(Ne,dt){for(var Ht=Ne.geometries,Mt=-1,on=Ht.length;++Mt<on;)Be(Ht[Mt],dt)}};function Qe(Ne,dt,Ht){var Mt=-1,on=Ne.length-Ht,wn;for(dt.lineStart();++Mt<on;)wn=Ne[Mt],dt.point(wn[0],wn[1],wn[2]);dt.lineEnd()}function mt(Ne,dt){var Ht=-1,Mt=Ne.length;for(dt.polygonStart();++Ht<Mt;)Qe(Ne[Ht],dt,1);dt.polygonEnd()}function Lt(Ne,dt){Ne&&tt.hasOwnProperty(Ne.type)?tt[Ne.type](Ne,dt):Be(Ne,dt)}function je(Ne){return[D(Ne[1],Ne[0]),fe(Ne[2])]}function Z(Ne){var dt=Ne[0],Ht=Ne[1],Mt=M(Ht);return[Mt*M(dt),Mt*I(dt),I(Ht)]}function Ke(Ne,dt){return Ne[0]*dt[0]+Ne[1]*dt[1]+Ne[2]*dt[2]}function _e(Ne,dt){return[Ne[1]*dt[2]-Ne[2]*dt[1],Ne[2]*dt[0]-Ne[0]*dt[2],Ne[0]*dt[1]-Ne[1]*dt[0]]}function De(Ne,dt){Ne[0]+=dt[0],Ne[1]+=dt[1],Ne[2]+=dt[2]}function be(Ne,dt){return[Ne[0]*dt,Ne[1]*dt,Ne[2]*dt]}function de(Ne){var dt=ie(Ne[0]*Ne[0]+Ne[1]*Ne[1]+Ne[2]*Ne[2]);Ne[0]/=dt,Ne[1]/=dt,Ne[2]/=dt}function Ge(Ne,dt){function Ht(Mt,on){return Mt=Ne(Mt,on),dt(Mt[0],Mt[1])}return Ne.invert&&dt.invert&&(Ht.invert=function(Mt,on){return Mt=dt.invert(Mt,on),Mt&&Ne.invert(Mt[0],Mt[1])}),Ht}function rt(Ne,dt){return[b(Ne)>o?Ne+Math.round(-Ne/f)*f:Ne,dt]}rt.invert=rt;function Bt(Ne,dt,Ht){return(Ne%=f)?dt||Ht?Ge(un(Ne),Tt(dt,Ht)):un(Ne):dt||Ht?Tt(dt,Ht):rt}function _t(Ne){return function(dt,Ht){return dt+=Ne,[dt>o?dt-f:dt<-o?dt+f:dt,Ht]}}function un(Ne){var dt=_t(Ne);return dt.invert=_t(-Ne),dt}function Tt(Ne,dt){var Ht=M(Ne),Mt=I(Ne),on=M(dt),wn=I(dt);function Bn(Nn,or){var fr=M(or),Mn=M(Nn)*fr,Gn=I(Nn)*fr,Hn=I(or),nr=Hn*Ht+Mn*Mt;return[D(Gn*on-nr*wn,Mn*Ht-Hn*Mt),fe(nr*on+Gn*wn)]}return Bn.invert=function(Nn,or){var fr=M(or),Mn=M(Nn)*fr,Gn=I(Nn)*fr,Hn=I(or),nr=Hn*on-Gn*wn;return[D(Gn*on+Hn*wn,Mn*Ht+nr*Mt),fe(nr*Ht-Mn*Mt)]},Bn}function Rt(Ne){Ne=Bt(Ne[0]*v,Ne[1]*v,Ne.length>2?Ne[2]*v:0);function dt(Ht){return Ht=Ne(Ht[0]*v,Ht[1]*v),Ht[0]*=p,Ht[1]*=p,Ht}return dt.invert=function(Ht){return Ht=Ne.invert(Ht[0]*v,Ht[1]*v),Ht[0]*=p,Ht[1]*=p,Ht},dt}function Gt(Ne,dt,Ht,Mt,on,wn){if(!!Ht){var Bn=M(dt),Nn=I(dt),or=Mt*Ht;on==null?(on=dt+Mt*f,wn=dt-or/2):(on=xt(Bn,on),wn=xt(Bn,wn),(Mt>0?on<wn:on>wn)&&(on+=Mt*f));for(var fr,Mn=on;Mt>0?Mn>wn:Mn<wn;Mn-=or)fr=je([Bn,-Nn*M(Mn),-Nn*I(Mn)]),Ne.point(fr[0],fr[1])}}function xt(Ne,dt){dt=Z(dt),dt[0]-=Ne,de(dt);var Ht=Y(-dt[1]);return((-dt[2]<0?-Ht:Ht)+f-i)%f}function ve(){var Ne=[],dt;return{point:function(Ht,Mt,on){dt.push([Ht,Mt,on])},lineStart:function(){Ne.push(dt=[])},lineEnd:me,rejoin:function(){Ne.length>1&&Ne.push(Ne.pop().concat(Ne.shift()))},result:function(){var Ht=Ne;return Ne=[],dt=null,Ht}}}function Oe(Ne,dt){return b(Ne[0]-dt[0])<i&&b(Ne[1]-dt[1])<i}function xe(Ne,dt,Ht,Mt){this.x=Ne,this.z=dt,this.o=Ht,this.e=Mt,this.v=!1,this.n=this.p=null}function le(Ne,dt,Ht,Mt,on){var wn=[],Bn=[],Nn,or;if(Ne.forEach(function(hr){if(!((Kr=hr.length-1)<=0)){var Kr,$r=hr[0],ui=hr[Kr],Vr;if(Oe($r,ui)){if(!$r[2]&&!ui[2]){for(on.lineStart(),Nn=0;Nn<Kr;++Nn)on.point(($r=hr[Nn])[0],$r[1]);on.lineEnd();return}ui[0]+=2*i}wn.push(Vr=new xe($r,hr,null,!0)),Bn.push(Vr.o=new xe($r,null,Vr,!1)),wn.push(Vr=new xe(ui,hr,null,!1)),Bn.push(Vr.o=new xe(ui,null,Vr,!0))}}),!!wn.length){for(Bn.sort(dt),Ye(wn),Ye(Bn),Nn=0,or=Bn.length;Nn<or;++Nn)Bn[Nn].e=Ht=!Ht;for(var fr=wn[0],Mn,Gn;;){for(var Hn=fr,nr=!0;Hn.v;)if((Hn=Hn.n)===fr)return;Mn=Hn.z,on.lineStart();do{if(Hn.v=Hn.o.v=!0,Hn.e){if(nr)for(Nn=0,or=Mn.length;Nn<or;++Nn)on.point((Gn=Mn[Nn])[0],Gn[1]);else Mt(Hn.x,Hn.n.x,1,on);Hn=Hn.n}else{if(nr)for(Mn=Hn.p.z,Nn=Mn.length-1;Nn>=0;--Nn)on.point((Gn=Mn[Nn])[0],Gn[1]);else Mt(Hn.x,Hn.p.x,-1,on);Hn=Hn.p}Hn=Hn.o,Mn=Hn.z,nr=!nr}while(!Hn.v);on.lineEnd()}}}function Ye(Ne){if(!!(dt=Ne.length)){for(var dt,Ht=0,Mt=Ne[0],on;++Ht<dt;)Mt.n=on=Ne[Ht],on.p=Mt,Mt=on;Mt.n=on=Ne[0],on.p=Mt}}function Ve(Ne){return b(Ne[0])<=o?Ne[0]:z(Ne[0])*((b(Ne[0])+o)%f-o)}function te(Ne,dt){var Ht=Ve(dt),Mt=dt[1],on=I(Mt),wn=[I(Ht),-M(Ht),0],Bn=0,Nn=0,or=new e;on===1?Mt=a+i:on===-1&&(Mt=-a-i);for(var fr=0,Mn=Ne.length;fr<Mn;++fr)if(!!(Hn=(Gn=Ne[fr]).length))for(var Gn,Hn,nr=Gn[Hn-1],hr=Ve(nr),Kr=nr[1]/2+l,$r=I(Kr),ui=M(Kr),Vr=0;Vr<Hn;++Vr,hr=vr,$r=oi,ui=ss,nr=Tr){var Tr=Gn[Vr],vr=Ve(Tr),ei=Tr[1]/2+l,oi=I(ei),ss=M(ei),Qi=vr-hr,ti=Qi>=0?1:-1,vs=ti*Qi,Li=vs>o,Go=$r*oi;if(or.add(D(Go*ti*I(vs),ui*ss+Go*M(vs))),Bn+=Li?Qi+ti*f:Qi,Li^hr>=Ht^vr>=Ht){var Xs=_e(Z(nr),Z(Tr));de(Xs);var ks=_e(wn,Xs);de(ks);var xr=(Li^Qi>=0?-1:1)*fe(ks[2]);(Mt>xr||Mt===xr&&(Xs[0]||Xs[1]))&&(Nn+=Li^Qi>=0?1:-1)}}return(Bn<-i||Bn<i&&or<-s)^Nn&1}function Ae(Ne,dt,Ht,Mt){return function(on){var wn=dt(on),Bn=ve(),Nn=dt(Bn),or=!1,fr,Mn,Gn,Hn={point:nr,lineStart:Kr,lineEnd:$r,polygonStart:function(){Hn.point=ui,Hn.lineStart=Vr,Hn.lineEnd=Tr,Mn=[],fr=[]},polygonEnd:function(){Hn.point=nr,Hn.lineStart=Kr,Hn.lineEnd=$r,Mn=r(Mn);var vr=te(fr,Mt);Mn.length?(or||(on.polygonStart(),or=!0),le(Mn,ot,vr,Ht,on)):vr&&(or||(on.polygonStart(),or=!0),on.lineStart(),Ht(null,null,1,on),on.lineEnd()),or&&(on.polygonEnd(),or=!1),Mn=fr=null},sphere:function(){on.polygonStart(),on.lineStart(),Ht(null,null,1,on),on.lineEnd(),on.polygonEnd()}};function nr(vr,ei){Ne(vr,ei)&&on.point(vr,ei)}function hr(vr,ei){wn.point(vr,ei)}function Kr(){Hn.point=hr,wn.lineStart()}function $r(){Hn.point=nr,wn.lineEnd()}function ui(vr,ei){Gn.push([vr,ei]),Nn.point(vr,ei)}function Vr(){Nn.lineStart(),Gn=[]}function Tr(){ui(Gn[0][0],Gn[0][1]),Nn.lineEnd();var vr=Nn.clean(),ei=Bn.result(),oi,ss=ei.length,Qi,ti,vs;if(Gn.pop(),fr.push(Gn),Gn=null,!!ss){if(vr&1){if(ti=ei[0],(Qi=ti.length-1)>0){for(or||(on.polygonStart(),or=!0),on.lineStart(),oi=0;oi<Qi;++oi)on.point((vs=ti[oi])[0],vs[1]);on.lineEnd()}return}ss>1&&vr&2&&ei.push(ei.pop().concat(ei.shift())),Mn.push(ei.filter(Xe))}}return Hn}}function Xe(Ne){return Ne.length>1}function ot(Ne,dt){return((Ne=Ne.x)[0]<0?Ne[1]-a-i:a-Ne[1])-((dt=dt.x)[0]<0?dt[1]-a-i:a-dt[1])}var Ct=Ae(function(){return!0},$t,sn,[-o,-a]);function $t(Ne){var dt=NaN,Ht=NaN,Mt=NaN,on;return{lineStart:function(){Ne.lineStart(),on=1},point:function(wn,Bn){var Nn=wn>0?o:-o,or=b(wn-dt);b(or-o)<i?(Ne.point(dt,Ht=(Ht+Bn)/2>0?a:-a),Ne.point(Mt,Ht),Ne.lineEnd(),Ne.lineStart(),Ne.point(Nn,Ht),Ne.point(wn,Ht),on=0):Mt!==Nn&&or>=o&&(b(dt-Mt)<i&&(dt-=Mt*i),b(wn-Nn)<i&&(wn-=Nn*i),Ht=Ut(dt,Ht,wn,Bn),Ne.point(Mt,Ht),Ne.lineEnd(),Ne.lineStart(),Ne.point(Nn,Ht),on=0),Ne.point(dt=wn,Ht=Bn),Mt=Nn},lineEnd:function(){Ne.lineEnd(),dt=Ht=NaN},clean:function(){return 2-on}}}function Ut(Ne,dt,Ht,Mt){var on,wn,Bn=I(Ne-Ht);return b(Bn)>i?F((I(dt)*(wn=M(Mt))*I(Ht)-I(Mt)*(on=M(dt))*I(Ne))/(on*wn*Bn)):(dt+Mt)/2}function sn(Ne,dt,Ht,Mt){var on;if(Ne==null)on=Ht*a,Mt.point(-o,on),Mt.point(0,on),Mt.point(o,on),Mt.point(o,0),Mt.point(o,-on),Mt.point(0,-on),Mt.point(-o,-on),Mt.point(-o,0),Mt.point(-o,on);else if(b(Ne[0]-dt[0])>i){var wn=Ne[0]<dt[0]?o:-o;on=Ht*wn/2,Mt.point(-wn,on),Mt.point(0,on),Mt.point(wn,on)}else Mt.point(dt[0],dt[1])}function ln(Ne){var dt=M(Ne),Ht=6*v,Mt=dt>0,on=b(dt)>i;function wn(Mn,Gn,Hn,nr){Gt(nr,Ne,Ht,Hn,Mn,Gn)}function Bn(Mn,Gn){return M(Mn)*M(Gn)>dt}function Nn(Mn){var Gn,Hn,nr,hr,Kr;return{lineStart:function(){hr=nr=!1,Kr=1},point:function($r,ui){var Vr=[$r,ui],Tr,vr=Bn($r,ui),ei=Mt?vr?0:fr($r,ui):vr?fr($r+($r<0?o:-o),ui):0;if(!Gn&&(hr=nr=vr)&&Mn.lineStart(),vr!==nr&&(Tr=or(Gn,Vr),(!Tr||Oe(Gn,Tr)||Oe(Vr,Tr))&&(Vr[2]=1)),vr!==nr)Kr=0,vr?(Mn.lineStart(),Tr=or(Vr,Gn),Mn.point(Tr[0],Tr[1])):(Tr=or(Gn,Vr),Mn.point(Tr[0],Tr[1],2),Mn.lineEnd()),Gn=Tr;else if(on&&Gn&&Mt^vr){var oi;!(ei&Hn)&&(oi=or(Vr,Gn,!0))&&(Kr=0,Mt?(Mn.lineStart(),Mn.point(oi[0][0],oi[0][1]),Mn.point(oi[1][0],oi[1][1]),Mn.lineEnd()):(Mn.point(oi[1][0],oi[1][1]),Mn.lineEnd(),Mn.lineStart(),Mn.point(oi[0][0],oi[0][1],3)))}vr&&(!Gn||!Oe(Gn,Vr))&&Mn.point(Vr[0],Vr[1]),Gn=Vr,nr=vr,Hn=ei},lineEnd:function(){nr&&Mn.lineEnd(),Gn=null},clean:function(){return Kr|(hr&&nr)<<1}}}function or(Mn,Gn,Hn){var nr=Z(Mn),hr=Z(Gn),Kr=[1,0,0],$r=_e(nr,hr),ui=Ke($r,$r),Vr=$r[0],Tr=ui-Vr*Vr;if(!Tr)return!Hn&&Mn;var vr=dt*ui/Tr,ei=-dt*Vr/Tr,oi=_e(Kr,$r),ss=be(Kr,vr),Qi=be($r,ei);De(ss,Qi);var ti=oi,vs=Ke(ss,ti),Li=Ke(ti,ti),Go=vs*vs-Li*(Ke(ss,ss)-1);if(!(Go<0)){var Xs=ie(Go),ks=be(ti,(-vs-Xs)/Li);if(De(ks,ss),ks=je(ks),!Hn)return ks;var xr=Mn[0],zi=Gn[0],_r=Mn[1],Po=Gn[1],Bo;zi<xr&&(Bo=xr,xr=zi,zi=Bo);var Yo=zi-xr,co=b(Yo-o)<i,Zs=co||Yo<i;if(!co&&Po<_r&&(Bo=_r,_r=Po,Po=Bo),Zs?co?_r+Po>0^ks[1]<(b(ks[0]-xr)<i?_r:Po):_r<=ks[1]&&ks[1]<=Po:Yo>o^(xr<=ks[0]&&ks[0]<=zi)){var Hi=be(ti,(-vs+Xs)/Li);return De(Hi,ss),[ks,je(Hi)]}}}function fr(Mn,Gn){var Hn=Mt?Ne:o-Ne,nr=0;return Mn<-Hn?nr|=1:Mn>Hn&&(nr|=2),Gn<-Hn?nr|=4:Gn>Hn&&(nr|=8),nr}return Ae(Bn,Nn,wn,Mt?[0,-Ne]:[-o,Ne-o])}function cn(Ne,dt,Ht,Mt,on,wn){var Bn=Ne[0],Nn=Ne[1],or=dt[0],fr=dt[1],Mn=0,Gn=1,Hn=or-Bn,nr=fr-Nn,hr;if(hr=Ht-Bn,!(!Hn&&hr>0)){if(hr/=Hn,Hn<0){if(hr<Mn)return;hr<Gn&&(Gn=hr)}else if(Hn>0){if(hr>Gn)return;hr>Mn&&(Mn=hr)}if(hr=on-Bn,!(!Hn&&hr<0)){if(hr/=Hn,Hn<0){if(hr>Gn)return;hr>Mn&&(Mn=hr)}else if(Hn>0){if(hr<Mn)return;hr<Gn&&(Gn=hr)}if(hr=Mt-Nn,!(!nr&&hr>0)){if(hr/=nr,nr<0){if(hr<Mn)return;hr<Gn&&(Gn=hr)}else if(nr>0){if(hr>Gn)return;hr>Mn&&(Mn=hr)}if(hr=wn-Nn,!(!nr&&hr<0)){if(hr/=nr,nr<0){if(hr>Gn)return;hr>Mn&&(Mn=hr)}else if(nr>0){if(hr<Mn)return;hr<Gn&&(Gn=hr)}return Mn>0&&(Ne[0]=Bn+Mn*Hn,Ne[1]=Nn+Mn*nr),Gn<1&&(dt[0]=Bn+Gn*Hn,dt[1]=Nn+Gn*nr),!0}}}}}var Ft=1e9,nn=-Ft;function An(Ne,dt,Ht,Mt){function on(fr,Mn){return Ne<=fr&&fr<=Ht&&dt<=Mn&&Mn<=Mt}function wn(fr,Mn,Gn,Hn){var nr=0,hr=0;if(fr==null||(nr=Bn(fr,Gn))!==(hr=Bn(Mn,Gn))||or(fr,Mn)<0^Gn>0)do Hn.point(nr===0||nr===3?Ne:Ht,nr>1?Mt:dt);while((nr=(nr+Gn+4)%4)!==hr);else Hn.point(Mn[0],Mn[1])}function Bn(fr,Mn){return b(fr[0]-Ne)<i?Mn>0?0:3:b(fr[0]-Ht)<i?Mn>0?2:1:b(fr[1]-dt)<i?Mn>0?1:0:Mn>0?3:2}function Nn(fr,Mn){return or(fr.x,Mn.x)}function or(fr,Mn){var Gn=Bn(fr,1),Hn=Bn(Mn,1);return Gn!==Hn?Gn-Hn:Gn===0?Mn[1]-fr[1]:Gn===1?fr[0]-Mn[0]:Gn===2?fr[1]-Mn[1]:Mn[0]-fr[0]}return function(fr){var Mn=fr,Gn=ve(),Hn,nr,hr,Kr,$r,ui,Vr,Tr,vr,ei,oi,ss={point:Qi,lineStart:Go,lineEnd:Xs,polygonStart:vs,polygonEnd:Li};function Qi(xr,zi){on(xr,zi)&&Mn.point(xr,zi)}function ti(){for(var xr=0,zi=0,_r=nr.length;zi<_r;++zi)for(var Po=nr[zi],Bo=1,Yo=Po.length,co=Po[0],Zs,Hi,iu=co[0],ue=co[1];Bo<Yo;++Bo)Zs=iu,Hi=ue,co=Po[Bo],iu=co[0],ue=co[1],Hi<=Mt?ue>Mt&&(iu-Zs)*(Mt-Hi)>(ue-Hi)*(Ne-Zs)&&++xr:ue<=Mt&&(iu-Zs)*(Mt-Hi)<(ue-Hi)*(Ne-Zs)&&--xr;return xr}function vs(){Mn=Gn,Hn=[],nr=[],oi=!0}function Li(){var xr=ti(),zi=oi&&xr,_r=(Hn=r(Hn)).length;(zi||_r)&&(fr.polygonStart(),zi&&(fr.lineStart(),wn(null,null,1,fr),fr.lineEnd()),_r&&le(Hn,Nn,xr,wn,fr),fr.polygonEnd()),Mn=fr,Hn=nr=hr=null}function Go(){ss.point=ks,nr&&nr.push(hr=[]),ei=!0,vr=!1,Vr=Tr=NaN}function Xs(){Hn&&(ks(Kr,$r),ui&&vr&&Gn.rejoin(),Hn.push(Gn.result())),ss.point=Qi,vr&&Mn.lineEnd()}function ks(xr,zi){var _r=on(xr,zi);if(nr&&hr.push([xr,zi]),ei)Kr=xr,$r=zi,ui=_r,ei=!1,_r&&(Mn.lineStart(),Mn.point(xr,zi));else if(_r&&vr)Mn.point(xr,zi);else{var Po=[Vr=Math.max(nn,Math.min(Ft,Vr)),Tr=Math.max(nn,Math.min(Ft,Tr))],Bo=[xr=Math.max(nn,Math.min(Ft,xr)),zi=Math.max(nn,Math.min(Ft,zi))];cn(Po,Bo,Ne,dt,Ht,Mt)?(vr||(Mn.lineStart(),Mn.point(Po[0],Po[1])),Mn.point(Bo[0],Bo[1]),_r||Mn.lineEnd(),oi=!1):_r&&(Mn.lineStart(),Mn.point(xr,zi),oi=!1)}Vr=xr,Tr=zi,vr=_r}return ss}}var $n=Ne=>Ne,Cn=new e,Fe=new e,qe,Ce,Dt,lt,ct={point:me,lineStart:me,lineEnd:me,polygonStart:function(){ct.lineStart=Yt,ct.lineEnd=kn},polygonEnd:function(){ct.lineStart=ct.lineEnd=ct.point=me,Cn.add(b(Fe)),Fe=new e},result:function(){var Ne=Cn/2;return Cn=new e,Ne}};function Yt(){ct.point=qt}function qt(Ne,dt){ct.point=gn,qe=Dt=Ne,Ce=lt=dt}function gn(Ne,dt){Fe.add(lt*Ne-Dt*dt),Dt=Ne,lt=dt}function kn(){gn(qe,Ce)}var qn=ct,bn=1/0,zn=bn,He=-bn,ht=He,se={point:Ie,lineStart:me,lineEnd:me,polygonStart:me,polygonEnd:me,result:function(){var Ne=[[bn,zn],[He,ht]];return He=ht=-(zn=bn=1/0),Ne}};function Ie(Ne,dt){Ne<bn&&(bn=Ne),Ne>He&&(He=Ne),dt<zn&&(zn=dt),dt>ht&&(ht=dt)}var Ze=se,St=0,rn=0,Xt=0,at=0,ne=0,Se=0,Me=0,ft=0,gt=0,wt,ee,Ee,$e,et={point:It,lineStart:Kt,lineEnd:dn,polygonStart:function(){et.lineStart=Rn,et.lineEnd=we},polygonEnd:function(){et.point=It,et.lineStart=Kt,et.lineEnd=dn},result:function(){var Ne=gt?[Me/gt,ft/gt]:Se?[at/Se,ne/Se]:Xt?[St/Xt,rn/Xt]:[NaN,NaN];return St=rn=Xt=at=ne=Se=Me=ft=gt=0,Ne}};function It(Ne,dt){St+=Ne,rn+=dt,++Xt}function Kt(){et.point=mn}function mn(Ne,dt){et.point=fn,It(Ee=Ne,$e=dt)}function fn(Ne,dt){var Ht=Ne-Ee,Mt=dt-$e,on=ie(Ht*Ht+Mt*Mt);at+=on*(Ee+Ne)/2,ne+=on*($e+dt)/2,Se+=on,It(Ee=Ne,$e=dt)}function dn(){et.point=It}function Rn(){et.point=Pe}function we(){Et(wt,ee)}function Pe(Ne,dt){et.point=Et,It(wt=Ee=Ne,ee=$e=dt)}function Et(Ne,dt){var Ht=Ne-Ee,Mt=dt-$e,on=ie(Ht*Ht+Mt*Mt);at+=on*(Ee+Ne)/2,ne+=on*($e+dt)/2,Se+=on,on=$e*Ne-Ee*dt,Me+=on*(Ee+Ne),ft+=on*($e+dt),gt+=on*3,It(Ee=Ne,$e=dt)}var O=et;function $(Ne){this._context=Ne}$.prototype={_radius:4.5,pointRadius:function(Ne){return this._radius=Ne,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ne,dt){switch(this._point){case 0:{this._context.moveTo(Ne,dt),this._point=1;break}case 1:{this._context.lineTo(Ne,dt);break}default:{this._context.moveTo(Ne+this._radius,dt),this._context.arc(Ne,dt,this._radius,0,f);break}}},result:me};var ge=new e,he,Q,oe,ae,ze,Ot={point:me,lineStart:function(){Ot.point=vt},lineEnd:function(){he&&tn(Q,oe),Ot.point=me},polygonStart:function(){he=!0},polygonEnd:function(){he=null},result:function(){var Ne=+ge;return ge=new e,Ne}};function vt(Ne,dt){Ot.point=tn,Q=ae=Ne,oe=ze=dt}function tn(Ne,dt){ae-=Ne,ze-=dt,ge.add(ie(ae*ae+ze*ze)),ae=Ne,ze=dt}var E=Ot;function P(){this._string=[]}P.prototype={_radius:4.5,_circle:X(4.5),pointRadius:function(Ne){return(Ne=+Ne)!==this._radius&&(this._radius=Ne,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ne,dt){switch(this._point){case 0:{this._string.push("M",Ne,",",dt),this._point=1;break}case 1:{this._string.push("L",Ne,",",dt);break}default:{this._circle==null&&(this._circle=X(this._radius)),this._string.push("M",Ne,",",dt,this._circle);break}}},result:function(){if(this._string.length){var Ne=this._string.join("");return this._string=[],Ne}else return null}};function X(Ne){return"m0,"+Ne+"a"+Ne+","+Ne+" 0 1,1 0,"+-2*Ne+"a"+Ne+","+Ne+" 0 1,1 0,"+2*Ne+"z"}function ye(Ne,dt){var Ht=4.5,Mt,on;function wn(Bn){return Bn&&(typeof Ht=="function"&&on.pointRadius(+Ht.apply(this,arguments)),Lt(Bn,Mt(on))),on.result()}return wn.area=function(Bn){return Lt(Bn,Mt(qn)),qn.result()},wn.measure=function(Bn){return Lt(Bn,Mt(E)),E.result()},wn.bounds=function(Bn){return Lt(Bn,Mt(Ze)),Ze.result()},wn.centroid=function(Bn){return Lt(Bn,Mt(O)),O.result()},wn.projection=function(Bn){return arguments.length?(Mt=Bn==null?(Ne=null,$n):(Ne=Bn).stream,wn):Ne},wn.context=function(Bn){return arguments.length?(on=Bn==null?(dt=null,new P):new $(dt=Bn),typeof Ht!="function"&&on.pointRadius(Ht),wn):dt},wn.pointRadius=function(Bn){return arguments.length?(Ht=typeof Bn=="function"?Bn:(on.pointRadius(+Bn),+Bn),wn):Ht},wn.projection(Ne).context(dt)}function ut(Ne){return function(dt){var Ht=new bt;for(var Mt in Ne)Ht[Mt]=Ne[Mt];return Ht.stream=dt,Ht}}function bt(){}bt.prototype={constructor:bt,point:function(Ne,dt){this.stream.point(Ne,dt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Vt(Ne,dt,Ht){var Mt=Ne.clipExtent&&Ne.clipExtent();return Ne.scale(150).translate([0,0]),Mt!=null&&Ne.clipExtent(null),Lt(Ht,Ne.stream(Ze)),dt(Ze.result()),Mt!=null&&Ne.clipExtent(Mt),Ne}function zt(Ne,dt,Ht){return Vt(Ne,function(Mt){var on=dt[1][0]-dt[0][0],wn=dt[1][1]-dt[0][1],Bn=Math.min(on/(Mt[1][0]-Mt[0][0]),wn/(Mt[1][1]-Mt[0][1])),Nn=+dt[0][0]+(on-Bn*(Mt[1][0]+Mt[0][0]))/2,or=+dt[0][1]+(wn-Bn*(Mt[1][1]+Mt[0][1]))/2;Ne.scale(150*Bn).translate([Nn,or])},Ht)}function an(Ne,dt,Ht){return zt(Ne,[[0,0],dt],Ht)}function Dn(Ne,dt,Ht){return Vt(Ne,function(Mt){var on=+dt,wn=on/(Mt[1][0]-Mt[0][0]),Bn=(on-wn*(Mt[1][0]+Mt[0][0]))/2,Nn=-wn*Mt[0][1];Ne.scale(150*wn).translate([Bn,Nn])},Ht)}function On(Ne,dt,Ht){return Vt(Ne,function(Mt){var on=+dt,wn=on/(Mt[1][1]-Mt[0][1]),Bn=-wn*Mt[0][0],Nn=(on-wn*(Mt[1][1]+Mt[0][1]))/2;Ne.scale(150*wn).translate([Bn,Nn])},Ht)}var In=16,Mr=M(30*v);function Dr(Ne,dt){return+dt?br(Ne,dt):rr(Ne)}function rr(Ne){return ut({point:function(dt,Ht){dt=Ne(dt,Ht),this.stream.point(dt[0],dt[1])}})}function br(Ne,dt){function Ht(Mt,on,wn,Bn,Nn,or,fr,Mn,Gn,Hn,nr,hr,Kr,$r){var ui=fr-Mt,Vr=Mn-on,Tr=ui*ui+Vr*Vr;if(Tr>4*dt&&Kr--){var vr=Bn+Hn,ei=Nn+nr,oi=or+hr,ss=ie(vr*vr+ei*ei+oi*oi),Qi=fe(oi/=ss),ti=b(b(oi)-1)<i||b(wn-Gn)<i?(wn+Gn)/2:D(ei,vr),vs=Ne(ti,Qi),Li=vs[0],Go=vs[1],Xs=Li-Mt,ks=Go-on,xr=Vr*Xs-ui*ks;(xr*xr/Tr>dt||b((ui*Xs+Vr*ks)/Tr-.5)>.3||Bn*Hn+Nn*nr+or*hr<Mr)&&(Ht(Mt,on,wn,Bn,Nn,or,Li,Go,ti,vr/=ss,ei/=ss,oi,Kr,$r),$r.point(Li,Go),Ht(Li,Go,ti,vr,ei,oi,fr,Mn,Gn,Hn,nr,hr,Kr,$r))}}return function(Mt){var on,wn,Bn,Nn,or,fr,Mn,Gn,Hn,nr,hr,Kr,$r={point:ui,lineStart:Vr,lineEnd:vr,polygonStart:function(){Mt.polygonStart(),$r.lineStart=ei},polygonEnd:function(){Mt.polygonEnd(),$r.lineStart=Vr}};function ui(Qi,ti){Qi=Ne(Qi,ti),Mt.point(Qi[0],Qi[1])}function Vr(){Gn=NaN,$r.point=Tr,Mt.lineStart()}function Tr(Qi,ti){var vs=Z([Qi,ti]),Li=Ne(Qi,ti);Ht(Gn,Hn,Mn,nr,hr,Kr,Gn=Li[0],Hn=Li[1],Mn=Qi,nr=vs[0],hr=vs[1],Kr=vs[2],In,Mt),Mt.point(Gn,Hn)}function vr(){$r.point=ui,Mt.lineEnd()}function ei(){Vr(),$r.point=oi,$r.lineEnd=ss}function oi(Qi,ti){Tr(on=Qi,ti),wn=Gn,Bn=Hn,Nn=nr,or=hr,fr=Kr,$r.point=Tr}function ss(){Ht(Gn,Hn,Mn,nr,hr,Kr,wn,Bn,on,Nn,or,fr,In,Mt),$r.lineEnd=vr,vr()}return $r}}var Zr=ut({point:function(Ne,dt){this.stream.point(Ne*v,dt*v)}});function Wr(Ne){return ut({point:function(dt,Ht){var Mt=Ne(dt,Ht);return this.stream.point(Mt[0],Mt[1])}})}function Ti(Ne,dt,Ht,Mt,on){function wn(Bn,Nn){return Bn*=Mt,Nn*=on,[dt+Ne*Bn,Ht-Ne*Nn]}return wn.invert=function(Bn,Nn){return[(Bn-dt)/Ne*Mt,(Ht-Nn)/Ne*on]},wn}function Ki(Ne,dt,Ht,Mt,on,wn){if(!wn)return Ti(Ne,dt,Ht,Mt,on);var Bn=M(wn),Nn=I(wn),or=Bn*Ne,fr=Nn*Ne,Mn=Bn/Ne,Gn=Nn/Ne,Hn=(Nn*Ht-Bn*dt)/Ne,nr=(Nn*dt+Bn*Ht)/Ne;function hr(Kr,$r){return Kr*=Mt,$r*=on,[or*Kr-fr*$r+dt,Ht-fr*Kr-or*$r]}return hr.invert=function(Kr,$r){return[Mt*(Mn*Kr-Gn*$r+Hn),on*(nr-Gn*Kr-Mn*$r)]},hr}function Ni(Ne){return ta(function(){return Ne})()}function ta(Ne){var dt,Ht=150,Mt=480,on=250,wn=0,Bn=0,Nn=0,or=0,fr=0,Mn,Gn=0,Hn=1,nr=1,hr=null,Kr=Ct,$r=null,ui,Vr,Tr,vr=$n,ei=.5,oi,ss,Qi,ti,vs;function Li(xr){return Qi(xr[0]*v,xr[1]*v)}function Go(xr){return xr=Qi.invert(xr[0],xr[1]),xr&&[xr[0]*p,xr[1]*p]}Li.stream=function(xr){return ti&&vs===xr?ti:ti=Zr(Wr(Mn)(Kr(oi(vr(vs=xr)))))},Li.preclip=function(xr){return arguments.length?(Kr=xr,hr=void 0,ks()):Kr},Li.postclip=function(xr){return arguments.length?(vr=xr,$r=ui=Vr=Tr=null,ks()):vr},Li.clipAngle=function(xr){return arguments.length?(Kr=+xr?ln(hr=xr*v):(hr=null,Ct),ks()):hr*p},Li.clipExtent=function(xr){return arguments.length?(vr=xr==null?($r=ui=Vr=Tr=null,$n):An($r=+xr[0][0],ui=+xr[0][1],Vr=+xr[1][0],Tr=+xr[1][1]),ks()):$r==null?null:[[$r,ui],[Vr,Tr]]},Li.scale=function(xr){return arguments.length?(Ht=+xr,Xs()):Ht},Li.translate=function(xr){return arguments.length?(Mt=+xr[0],on=+xr[1],Xs()):[Mt,on]},Li.center=function(xr){return arguments.length?(wn=xr[0]%360*v,Bn=xr[1]%360*v,Xs()):[wn*p,Bn*p]},Li.rotate=function(xr){return arguments.length?(Nn=xr[0]%360*v,or=xr[1]%360*v,fr=xr.length>2?xr[2]%360*v:0,Xs()):[Nn*p,or*p,fr*p]},Li.angle=function(xr){return arguments.length?(Gn=xr%360*v,Xs()):Gn*p},Li.reflectX=function(xr){return arguments.length?(Hn=xr?-1:1,Xs()):Hn<0},Li.reflectY=function(xr){return arguments.length?(nr=xr?-1:1,Xs()):nr<0},Li.precision=function(xr){return arguments.length?(oi=Dr(ss,ei=xr*xr),ks()):ie(ei)},Li.fitExtent=function(xr,zi){return zt(Li,xr,zi)},Li.fitSize=function(xr,zi){return an(Li,xr,zi)},Li.fitWidth=function(xr,zi){return Dn(Li,xr,zi)},Li.fitHeight=function(xr,zi){return On(Li,xr,zi)};function Xs(){var xr=Ki(Ht,0,0,Hn,nr,Gn).apply(null,dt(wn,Bn)),zi=Ki(Ht,Mt-xr[0],on-xr[1],Hn,nr,Gn);return Mn=Bt(Nn,or,fr),ss=Ge(dt,zi),Qi=Ge(Mn,ss),oi=Dr(ss,ei),ks()}function ks(){return ti=vs=null,Li}return function(){return dt=Ne.apply(this,arguments),Li.invert=dt.invert&&Go,Xs()}}function na(Ne){var dt=0,Ht=o/3,Mt=ta(Ne),on=Mt(dt,Ht);return on.parallels=function(wn){return arguments.length?Mt(dt=wn[0]*v,Ht=wn[1]*v):[dt*p,Ht*p]},on}function Gu(Ne){var dt=M(Ne);function Ht(Mt,on){return[Mt*dt,I(on)/dt]}return Ht.invert=function(Mt,on){return[Mt/dt,fe(on*dt)]},Ht}function hc(Ne,dt){var Ht=I(Ne),Mt=(Ht+I(dt))/2;if(b(Mt)<i)return Gu(Ne);var on=1+Ht*(2*Mt-Ht),wn=ie(on)/Mt;function Bn(Nn,or){var fr=ie(on-2*Mt*I(or))/Mt;return[fr*I(Nn*=Mt),wn-fr*M(Nn)]}return Bn.invert=function(Nn,or){var fr=wn-or,Mn=D(Nn,b(fr))*z(fr);return fr*Mt<0&&(Mn-=o*z(Nn)*z(fr)),[Mn/Mt,fe((on-(Nn*Nn+fr*fr)*Mt*Mt)/(2*Mt))]},Bn}function eu(){return na(hc).scale(155.424).center([0,33.6442])}function tu(){return eu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Sl(Ne){var dt=Ne.length;return{point:function(Ht,Mt){for(var on=-1;++on<dt;)Ne[on].point(Ht,Mt)},sphere:function(){for(var Ht=-1;++Ht<dt;)Ne[Ht].sphere()},lineStart:function(){for(var Ht=-1;++Ht<dt;)Ne[Ht].lineStart()},lineEnd:function(){for(var Ht=-1;++Ht<dt;)Ne[Ht].lineEnd()},polygonStart:function(){for(var Ht=-1;++Ht<dt;)Ne[Ht].polygonStart()},polygonEnd:function(){for(var Ht=-1;++Ht<dt;)Ne[Ht].polygonEnd()}}}function gu(){var Ne,dt,Ht=tu(),Mt,on=eu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),wn,Bn=eu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Nn,or,fr={point:function(Hn,nr){or=[Hn,nr]}};function Mn(Hn){var nr=Hn[0],hr=Hn[1];return or=null,Mt.point(nr,hr),or||(wn.point(nr,hr),or)||(Nn.point(nr,hr),or)}Mn.invert=function(Hn){var nr=Ht.scale(),hr=Ht.translate(),Kr=(Hn[0]-hr[0])/nr,$r=(Hn[1]-hr[1])/nr;return($r>=.12&&$r<.234&&Kr>=-.425&&Kr<-.214?on:$r>=.166&&$r<.234&&Kr>=-.214&&Kr<-.115?Bn:Ht).invert(Hn)},Mn.stream=function(Hn){return Ne&&dt===Hn?Ne:Ne=Sl([Ht.stream(dt=Hn),on.stream(Hn),Bn.stream(Hn)])},Mn.precision=function(Hn){return arguments.length?(Ht.precision(Hn),on.precision(Hn),Bn.precision(Hn),Gn()):Ht.precision()},Mn.scale=function(Hn){return arguments.length?(Ht.scale(Hn),on.scale(Hn*.35),Bn.scale(Hn),Mn.translate(Ht.translate())):Ht.scale()},Mn.translate=function(Hn){if(!arguments.length)return Ht.translate();var nr=Ht.scale(),hr=+Hn[0],Kr=+Hn[1];return Mt=Ht.translate(Hn).clipExtent([[hr-.455*nr,Kr-.238*nr],[hr+.455*nr,Kr+.238*nr]]).stream(fr),wn=on.translate([hr-.307*nr,Kr+.201*nr]).clipExtent([[hr-.425*nr+i,Kr+.12*nr+i],[hr-.214*nr-i,Kr+.234*nr-i]]).stream(fr),Nn=Bn.translate([hr-.205*nr,Kr+.212*nr]).clipExtent([[hr-.214*nr+i,Kr+.166*nr+i],[hr-.115*nr-i,Kr+.234*nr-i]]).stream(fr),Gn()},Mn.fitExtent=function(Hn,nr){return zt(Mn,Hn,nr)},Mn.fitSize=function(Hn,nr){return an(Mn,Hn,nr)},Mn.fitWidth=function(Hn,nr){return Dn(Mn,Hn,nr)},Mn.fitHeight=function(Hn,nr){return On(Mn,Hn,nr)};function Gn(){return Ne=dt=null,Mn}return Mn.scale(1070)}function pc(Ne){return function(dt,Ht){var Mt=M(dt),on=M(Ht),wn=Ne(Mt*on);return wn===1/0?[2,0]:[wn*on*I(dt),wn*I(Ht)]}}function To(Ne){return function(dt,Ht){var Mt=ie(dt*dt+Ht*Ht),on=Ne(Mt),wn=I(on),Bn=M(on);return[D(dt*wn,Mt*Bn),fe(Mt&&Ht*wn/Mt)]}}var Ru=pc(function(Ne){return ie(2/(1+Ne))});Ru.invert=To(function(Ne){return 2*fe(Ne/2)});function zc(){return Ni(Ru).scale(124.75).clipAngle(180-.001)}var Je=pc(function(Ne){return(Ne=Y(Ne))&&Ne/I(Ne)});Je.invert=To(function(Ne){return Ne});function Qt(){return Ni(Je).scale(79.4188).clipAngle(180-.001)}function Tn(Ne,dt){return[Ne,N(L((a+dt)/2))]}Tn.invert=function(Ne,dt){return[Ne,2*F(q(dt))-a]};function Pn(){return Ur(Tn).scale(961/f)}function Ur(Ne){var dt=Ni(Ne),Ht=dt.center,Mt=dt.scale,on=dt.translate,wn=dt.clipExtent,Bn=null,Nn,or,fr;dt.scale=function(Gn){return arguments.length?(Mt(Gn),Mn()):Mt()},dt.translate=function(Gn){return arguments.length?(on(Gn),Mn()):on()},dt.center=function(Gn){return arguments.length?(Ht(Gn),Mn()):Ht()},dt.clipExtent=function(Gn){return arguments.length?(Gn==null?Bn=Nn=or=fr=null:(Bn=+Gn[0][0],Nn=+Gn[0][1],or=+Gn[1][0],fr=+Gn[1][1]),Mn()):Bn==null?null:[[Bn,Nn],[or,fr]]};function Mn(){var Gn=o*Mt(),Hn=dt(Rt(dt.rotate()).invert([0,0]));return wn(Bn==null?[[Hn[0]-Gn,Hn[1]-Gn],[Hn[0]+Gn,Hn[1]+Gn]]:Ne===Tn?[[Math.max(Hn[0]-Gn,Bn),Nn],[Math.min(Hn[0]+Gn,or),fr]]:[[Bn,Math.max(Hn[1]-Gn,Nn)],[or,Math.min(Hn[1]+Gn,fr)]])}return Mn()}function wr(Ne){return L((a+Ne)/2)}function kr(Ne,dt){var Ht=M(Ne),Mt=Ne===dt?I(Ne):N(Ht/M(dt))/N(wr(dt)/wr(Ne)),on=Ht*B(wr(Ne),Mt)/Mt;if(!Mt)return Tn;function wn(Bn,Nn){on>0?Nn<-a+i&&(Nn=-a+i):Nn>a-i&&(Nn=a-i);var or=on/B(wr(Nn),Mt);return[or*I(Mt*Bn),on-or*M(Mt*Bn)]}return wn.invert=function(Bn,Nn){var or=on-Nn,fr=z(Mt)*ie(Bn*Bn+or*or),Mn=D(Bn,b(or))*z(or);return or*Mt<0&&(Mn-=o*z(Bn)*z(or)),[Mn/Mt,2*F(B(on/fr,1/Mt))-a]},wn}function es(){return na(kr).scale(109.5).parallels([30,30])}function $s(Ne,dt){return[Ne,dt]}$s.invert=$s;function Ls(){return Ni($s).scale(152.63)}function Js(Ne,dt){var Ht=M(Ne),Mt=Ne===dt?I(Ne):(Ht-M(dt))/(dt-Ne),on=Ht/Mt+Ne;if(b(Mt)<i)return $s;function wn(Bn,Nn){var or=on-Nn,fr=Mt*Bn;return[or*I(fr),on-or*M(fr)]}return wn.invert=function(Bn,Nn){var or=on-Nn,fr=D(Bn,b(or))*z(or);return or*Mt<0&&(fr-=o*z(Bn)*z(or)),[fr/Mt,on-z(Mt)*ie(Bn*Bn+or*or)]},wn}function zs(){return na(Js).scale(131.154).center([0,13.9389])}var go=1.340264,Xr=-.081106,si=893e-6,Vi=.003796,Fo=ie(3)/2,Vo=12;function Wo(Ne,dt){var Ht=fe(Fo*I(dt)),Mt=Ht*Ht,on=Mt*Mt*Mt;return[Ne*M(Ht)/(Fo*(go+3*Xr*Mt+on*(7*si+9*Vi*Mt))),Ht*(go+Xr*Mt+on*(si+Vi*Mt))]}Wo.invert=function(Ne,dt){for(var Ht=dt,Mt=Ht*Ht,on=Mt*Mt*Mt,wn=0,Bn,Nn,or;wn<Vo&&(Nn=Ht*(go+Xr*Mt+on*(si+Vi*Mt))-dt,or=go+3*Xr*Mt+on*(7*si+9*Vi*Mt),Ht-=Bn=Nn/or,Mt=Ht*Ht,on=Mt*Mt*Mt,!(b(Bn)<s));++wn);return[Fo*Ne*(go+3*Xr*Mt+on*(7*si+9*Vi*Mt))/M(Ht),fe(I(Ht)/Fo)]};function Hs(){return Ni(Wo).scale(177.158)}function qi(Ne,dt){var Ht=M(dt),Mt=M(Ne)*Ht;return[Ht*I(Ne)/Mt,I(dt)/Mt]}qi.invert=To(F);function $i(){return Ni(qi).scale(144.049).clipAngle(60)}function ts(){var Ne=1,dt=0,Ht=0,Mt=1,on=1,wn=0,Bn,Nn,or=null,fr,Mn,Gn,Hn=1,nr=1,hr=ut({point:function(vr,ei){var oi=Tr([vr,ei]);this.stream.point(oi[0],oi[1])}}),Kr=$n,$r,ui;function Vr(){return Hn=Ne*Mt,nr=Ne*on,$r=ui=null,Tr}function Tr(vr){var ei=vr[0]*Hn,oi=vr[1]*nr;if(wn){var ss=oi*Bn-ei*Nn;ei=ei*Bn+oi*Nn,oi=ss}return[ei+dt,oi+Ht]}return Tr.invert=function(vr){var ei=vr[0]-dt,oi=vr[1]-Ht;if(wn){var ss=oi*Bn+ei*Nn;ei=ei*Bn-oi*Nn,oi=ss}return[ei/Hn,oi/nr]},Tr.stream=function(vr){return $r&&ui===vr?$r:$r=hr(Kr(ui=vr))},Tr.postclip=function(vr){return arguments.length?(Kr=vr,or=fr=Mn=Gn=null,Vr()):Kr},Tr.clipExtent=function(vr){return arguments.length?(Kr=vr==null?(or=fr=Mn=Gn=null,$n):An(or=+vr[0][0],fr=+vr[0][1],Mn=+vr[1][0],Gn=+vr[1][1]),Vr()):or==null?null:[[or,fr],[Mn,Gn]]},Tr.scale=function(vr){return arguments.length?(Ne=+vr,Vr()):Ne},Tr.translate=function(vr){return arguments.length?(dt=+vr[0],Ht=+vr[1],Vr()):[dt,Ht]},Tr.angle=function(vr){return arguments.length?(wn=vr%360*v,Nn=I(wn),Bn=M(wn),Vr()):wn*p},Tr.reflectX=function(vr){return arguments.length?(Mt=vr?-1:1,Vr()):Mt<0},Tr.reflectY=function(vr){return arguments.length?(on=vr?-1:1,Vr()):on<0},Tr.fitExtent=function(vr,ei){return zt(Tr,vr,ei)},Tr.fitSize=function(vr,ei){return an(Tr,vr,ei)},Tr.fitWidth=function(vr,ei){return Dn(Tr,vr,ei)},Tr.fitHeight=function(vr,ei){return On(Tr,vr,ei)},Tr}function nu(Ne,dt){var Ht=dt*dt,Mt=Ht*Ht;return[Ne*(.8707-.131979*Ht+Mt*(-.013791+Mt*(.003971*Ht-.001529*Mt))),dt*(1.007226+Ht*(.015085+Mt*(-.044475+.028874*Ht-.005916*Mt)))]}nu.invert=function(Ne,dt){var Ht=dt,Mt=25,on;do{var wn=Ht*Ht,Bn=wn*wn;Ht-=on=(Ht*(1.007226+wn*(.015085+Bn*(-.044475+.028874*wn-.005916*Bn)))-dt)/(1.007226+wn*(.015085*3+Bn*(-.044475*7+.028874*9*wn-.005916*11*Bn)))}while(b(on)>i&&--Mt>0);return[Ne/(.8707+(wn=Ht*Ht)*(-.131979+wn*(-.013791+wn*wn*wn*(.003971-.001529*wn)))),Ht]};function Eo(){return Ni(nu).scale(175.295)}function Qo(Ne,dt){return[M(dt)*I(Ne),I(dt)]}Qo.invert=To(fe);function Mo(){return Ni(Qo).scale(249.5).clipAngle(90+i)}function Ei(Ne,dt){var Ht=M(dt),Mt=1+M(Ne)*Ht;return[Ht*I(Ne)/Mt,I(dt)/Mt]}Ei.invert=To(function(Ne){return 2*F(Ne)});function No(){return Ni(Ei).scale(250).clipAngle(142)}function ns(Ne,dt){return[N(L((a+dt)/2)),-Ne]}ns.invert=function(Ne,dt){return[-dt,2*F(q(Ne))-a]};function ys(){var Ne=Ur(ns),dt=Ne.center,Ht=Ne.rotate;return Ne.center=function(Mt){return arguments.length?dt([-Mt[1],Mt[0]]):(Mt=dt(),[Mt[1],-Mt[0]])},Ne.rotate=function(Mt){return arguments.length?Ht([Mt[0],Mt[1],Mt.length>2?Mt[2]+90:90]):(Mt=Ht(),[Mt[0],Mt[1],Mt[2]-90])},Ht([0,0,90]).scale(159.155)}var Ro=Math.abs,Ba=Math.cos,ja=Math.sin,lo=1e-6,Gs=Math.PI,wa=Gs/2,ru=ra(2);function qa(Ne){return Ne>1?wa:Ne<-1?-wa:Math.asin(Ne)}function ra(Ne){return Ne>0?Math.sqrt(Ne):0}function Aa(Ne,dt){var Ht=Ne*ja(dt),Mt=30,on;do dt-=on=(dt+ja(dt)-Ht)/(1+Ba(dt));while(Ro(on)>lo&&--Mt>0);return dt/2}function Yu(Ne,dt,Ht){function Mt(on,wn){return[Ne*on*Ba(wn=Aa(Ht,wn)),dt*ja(wn)]}return Mt.invert=function(on,wn){return wn=qa(wn/dt),[on/(Ne*Ba(wn)),qa((2*wn+ja(2*wn))/Ht)]},Mt}var $l=Yu(ru/wa,ru,Gs);function Lo(){return Ni($l).scale(169.529)}let Cl=ye(),Gr=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Ii(Ne,dt){return function Ht(){let Mt=dt();return Mt.type=Ne,Mt.path=ye().projection(Mt),Mt.copy=Mt.copy||function(){let on=Ht();return Gr.forEach(wn=>{Mt[wn]&&on[wn](Mt[wn]())}),on.path.pointRadius(Mt.path.pointRadius()),on},Mt}}function ji(Ne,dt){if(!Ne||typeof Ne!="string")throw new Error("Projection type must be a name string.");return Ne=Ne.toLowerCase(),arguments.length>1?(Bi[Ne]=Ii(Ne,dt),this):Bi[Ne]||null}function tr(Ne){return Ne&&Ne.path||Cl}let Bi={albers:tu,albersusa:gu,azimuthalequalarea:zc,azimuthalequidistant:Qt,conicconformal:es,conicequalarea:eu,conicequidistant:zs,equalEarth:Hs,equirectangular:Ls,gnomonic:$i,identity:ts,mercator:Pn,mollweide:Lo,naturalEarth1:Eo,orthographic:Mo,stereographic:No,transversemercator:ys};for(let Ne in Bi)ji(Ne,Bi[Ne]);n.getProjectionPath=tr,n.projection=ji,n.projectionProperties=Gr,Object.defineProperty(n,"__esModule",{value:!0})})});var vPe=G((YH,yPe)=>{d();(function(n,e){typeof YH=="object"&&typeof yPe!="undefined"?e(YH,qc(),Ma(),q6(),jue(),kO()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util","vega-statistics","vega-projection","vega-canvas"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(YH,function(n,e,t,r,i,s){"use strict";var o=Math.sqrt(50),a=Math.sqrt(10),l=Math.sqrt(2);function f(ee,Ee,$e){var et=Math.abs(Ee-ee)/Math.max(0,$e),It=Math.pow(10,Math.floor(Math.log(et)/Math.LN10)),Kt=et/It;return Kt>=o?It*=10:Kt>=a?It*=5:Kt>=l&&(It*=2),Ee<ee?-It:It}function p(ee,Ee){let $e;if(Ee===void 0)for(let et of ee)et!=null&&($e<et||$e===void 0&&et>=et)&&($e=et);else{let et=-1;for(let It of ee)(It=Ee(It,++et,ee))!=null&&($e<It||$e===void 0&&It>=It)&&($e=It)}return $e}function v(ee,Ee,$e){ee=+ee,Ee=+Ee,$e=(It=arguments.length)<2?(Ee=ee,ee=0,1):It<3?1:+$e;for(var et=-1,It=Math.max(0,Math.ceil((Ee-ee)/$e))|0,Kt=new Array(It);++et<It;)Kt[et]=ee+et*$e;return Kt}function b(ee,Ee){let $e=0;if(Ee===void 0)for(let et of ee)(et=+et)&&($e+=et);else{let et=-1;for(let It of ee)(It=+Ee(It,++et,ee))&&($e+=It)}return $e}function F(){}let D=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function M(){var ee=1,Ee=1,$e=fn;function et(dn,Rn){return Rn.map(we=>It(dn,we))}function It(dn,Rn){var we=[],Pe=[];return Kt(dn,Rn,Et=>{$e(Et,dn,Rn),q(Et)>0?we.push([Et]):Pe.push(Et)}),Pe.forEach(Et=>{for(var O=0,$=we.length,ge;O<$;++O)if(N((ge=we[O])[0],Et)!==-1){ge.push(Et);return}}),{type:"MultiPolygon",value:Rn,coordinates:we}}function Kt(dn,Rn,we){var Pe=new Array,Et=new Array,O,$,ge,he,Q,oe;for(O=$=-1,he=dn[0]>=Rn,D[he<<1].forEach(ae);++O<ee-1;)ge=he,he=dn[O+1]>=Rn,D[ge|he<<1].forEach(ae);for(D[he<<0].forEach(ae);++$<Ee-1;){for(O=-1,he=dn[$*ee+ee]>=Rn,Q=dn[$*ee]>=Rn,D[he<<1|Q<<2].forEach(ae);++O<ee-1;)ge=he,he=dn[$*ee+ee+O+1]>=Rn,oe=Q,Q=dn[$*ee+O+1]>=Rn,D[ge|he<<1|Q<<2|oe<<3].forEach(ae);D[he|Q<<3].forEach(ae)}for(O=-1,Q=dn[$*ee]>=Rn,D[Q<<2].forEach(ae);++O<ee-1;)oe=Q,Q=dn[$*ee+O+1]>=Rn,D[Q<<2|oe<<3].forEach(ae);D[Q<<3].forEach(ae);function ae(ze){var Ot=[ze[0][0]+O,ze[0][1]+$],vt=[ze[1][0]+O,ze[1][1]+$],tn=mn(Ot),E=mn(vt),P,X;(P=Et[tn])?(X=Pe[E])?(delete Et[P.end],delete Pe[X.start],P===X?(P.ring.push(vt),we(P.ring)):Pe[P.start]=Et[X.end]={start:P.start,end:X.end,ring:P.ring.concat(X.ring)}):(delete Et[P.end],P.ring.push(vt),Et[P.end=E]=P):(P=Pe[E])?(X=Et[tn])?(delete Pe[P.start],delete Et[X.end],P===X?(P.ring.push(vt),we(P.ring)):Pe[X.start]=Et[P.end]={start:X.start,end:P.end,ring:X.ring.concat(P.ring)}):(delete Pe[P.start],P.ring.unshift(Ot),Pe[P.start=tn]=P):Pe[tn]=Et[E]={start:tn,end:E,ring:[Ot,vt]}}}function mn(dn){return dn[0]*2+dn[1]*(ee+1)*4}function fn(dn,Rn,we){dn.forEach(Pe=>{var Et=Pe[0],O=Pe[1],$=Et|0,ge=O|0,he,Q=Rn[ge*ee+$];Et>0&&Et<ee&&$===Et&&(he=Rn[ge*ee+$-1],Pe[0]=Et+(we-he)/(Q-he)-.5),O>0&&O<Ee&&ge===O&&(he=Rn[(ge-1)*ee+$],Pe[1]=O+(we-he)/(Q-he)-.5)})}return et.contour=It,et.size=function(dn){if(!arguments.length)return[ee,Ee];var Rn=Math.floor(dn[0]),we=Math.floor(dn[1]);return Rn>=0&&we>=0||t.error("invalid size"),ee=Rn,Ee=we,et},et.smooth=function(dn){return arguments.length?($e=dn?fn:F,et):$e===fn},et}function q(ee){for(var Ee=0,$e=ee.length,et=ee[$e-1][1]*ee[0][0]-ee[$e-1][0]*ee[0][1];++Ee<$e;)et+=ee[Ee-1][1]*ee[Ee][0]-ee[Ee-1][0]*ee[Ee][1];return et}function N(ee,Ee){for(var $e=-1,et=Ee.length,It;++$e<et;)if(It=B(ee,Ee[$e]))return It;return 0}function B(ee,Ee){for(var $e=Ee[0],et=Ee[1],It=-1,Kt=0,mn=ee.length,fn=mn-1;Kt<mn;fn=Kt++){var dn=ee[Kt],Rn=dn[0],we=dn[1],Pe=ee[fn],Et=Pe[0],O=Pe[1];if(I(dn,Pe,Ee))return 0;we>et!=O>et&&$e<(Et-Rn)*(et-we)/(O-we)+Rn&&(It=-It)}return It}function I(ee,Ee,$e){var et;return z(ee,Ee,$e)&&ie(ee[et=+(ee[0]===Ee[0])],$e[et],Ee[et])}function z(ee,Ee,$e){return(Ee[0]-ee[0])*($e[1]-ee[1])===($e[0]-ee[0])*(Ee[1]-ee[1])}function ie(ee,Ee,$e){return ee<=Ee&&Ee<=$e||$e<=Ee&&Ee<=ee}function L(ee,Ee,$e){return function(et){var It=t.extent(et),Kt=$e?Math.min(It[0],0):It[0],mn=It[1],fn=mn-Kt,dn=Ee?f(Kt,mn,ee):fn/(ee+1);return v(Kt+dn,mn,dn)}}function Y(ee){e.Transform.call(this,null,ee)}Y.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},t.inherits(Y,e.Transform,{transform(ee,Ee){if(this.value&&!Ee.changed()&&!ee.modified())return Ee.StopPropagation;var $e=Ee.fork(Ee.NO_SOURCE|Ee.NO_FIELDS),et=Ee.materialize(Ee.SOURCE).source,It=ee.field||t.identity,Kt=M().smooth(ee.smooth!==!1),mn=ee.thresholds||fe(et,It,ee),fn=ee.as===null?null:ee.as||"contour",dn=[];return et.forEach(Rn=>{let we=It(Rn),Pe=Kt.size([we.width,we.height])(we.values,t.isArray(mn)?mn:mn(we.values));me(Pe,we,Rn,ee),Pe.forEach(Et=>{dn.push(e.rederive(Rn,e.ingest(fn!=null?{[fn]:Et}:Et)))})}),this.value&&($e.rem=this.value),this.value=$e.source=$e.add=dn,$e}});function fe(ee,Ee,$e){let et=L($e.levels||10,$e.nice,$e.zero!==!1);return $e.resolve!=="shared"?et:et(ee.map(It=>p(Ee(It).values)))}function me(ee,Ee,$e,et){let It=et.scale||Ee.scale,Kt=et.translate||Ee.translate;if(t.isFunction(It)&&(It=It($e,et)),t.isFunction(Kt)&&(Kt=Kt($e,et)),(It===1||It==null)&&!Kt)return;let mn=(t.isNumber(It)?It:It[0])||1,fn=(t.isNumber(It)?It:It[1])||1,dn=Kt&&Kt[0]||0,Rn=Kt&&Kt[1]||0;ee.forEach(Be(Ee,mn,fn,dn,Rn))}function Be(ee,Ee,$e,et,It){let Kt=ee.x1||0,mn=ee.y1||0,fn=Ee*$e<0;function dn(Pe){Pe.forEach(Rn)}function Rn(Pe){fn&&Pe.reverse(),Pe.forEach(we)}function we(Pe){Pe[0]=(Pe[0]-Kt)*Ee+et,Pe[1]=(Pe[1]-mn)*$e+It}return function(Pe){return Pe.coordinates.forEach(dn),Pe}}function tt(ee,Ee,$e){let et=ee>=0?ee:r.bandwidthNRD(Ee,$e);return Math.round((Math.sqrt(4*et*et+1)-1)/2)}function st(ee){return t.isFunction(ee)?ee:t.constant(+ee)}function Qe(){var ee=dn=>dn[0],Ee=dn=>dn[1],$e=t.one,et=[-1,-1],It=960,Kt=500,mn=2;function fn(dn,Rn){let we=tt(et[0],dn,ee)>>mn,Pe=tt(et[1],dn,Ee)>>mn,Et=we?we+2:0,O=Pe?Pe+2:0,$=2*Et+(It>>mn),ge=2*O+(Kt>>mn),he=new Float32Array($*ge),Q=new Float32Array($*ge),oe=he;dn.forEach(ze=>{let Ot=Et+(+ee(ze)>>mn),vt=O+(+Ee(ze)>>mn);Ot>=0&&Ot<$&&vt>=0&&vt<ge&&(he[Ot+vt*$]+=+$e(ze))}),we>0&&Pe>0?(mt($,ge,he,Q,we),Lt($,ge,Q,he,Pe),mt($,ge,he,Q,we),Lt($,ge,Q,he,Pe),mt($,ge,he,Q,we),Lt($,ge,Q,he,Pe)):we>0?(mt($,ge,he,Q,we),mt($,ge,Q,he,we),mt($,ge,he,Q,we),oe=Q):Pe>0&&(Lt($,ge,he,Q,Pe),Lt($,ge,Q,he,Pe),Lt($,ge,he,Q,Pe),oe=Q);let ae=Rn?Math.pow(2,-2*mn):1/b(oe);for(let ze=0,Ot=$*ge;ze<Ot;++ze)oe[ze]*=ae;return{values:oe,scale:1<<mn,width:$,height:ge,x1:Et,y1:O,x2:Et+(It>>mn),y2:O+(Kt>>mn)}}return fn.x=function(dn){return arguments.length?(ee=st(dn),fn):ee},fn.y=function(dn){return arguments.length?(Ee=st(dn),fn):Ee},fn.weight=function(dn){return arguments.length?($e=st(dn),fn):$e},fn.size=function(dn){if(!arguments.length)return[It,Kt];var Rn=+dn[0],we=+dn[1];return Rn>=0&&we>=0||t.error("invalid size"),It=Rn,Kt=we,fn},fn.cellSize=function(dn){return arguments.length?((dn=+dn)>=1||t.error("invalid cell size"),mn=Math.floor(Math.log(dn)/Math.LN2),fn):1<<mn},fn.bandwidth=function(dn){return arguments.length?(dn=t.array(dn),dn.length===1&&(dn=[+dn[0],+dn[0]]),dn.length!==2&&t.error("invalid bandwidth"),et=dn,fn):et},fn}function mt(ee,Ee,$e,et,It){let Kt=(It<<1)+1;for(let mn=0;mn<Ee;++mn)for(let fn=0,dn=0;fn<ee+It;++fn)fn<ee&&(dn+=$e[fn+mn*ee]),fn>=It&&(fn>=Kt&&(dn-=$e[fn-Kt+mn*ee]),et[fn-It+mn*ee]=dn/Math.min(fn+1,ee-1+Kt-fn,Kt))}function Lt(ee,Ee,$e,et,It){let Kt=(It<<1)+1;for(let mn=0;mn<ee;++mn)for(let fn=0,dn=0;fn<Ee+It;++fn)fn<Ee&&(dn+=$e[mn+fn*ee]),fn>=It&&(fn>=Kt&&(dn-=$e[mn+(fn-Kt)*ee]),et[mn+(fn-It)*ee]=dn/Math.min(fn+1,Ee-1+Kt-fn,Kt))}function je(ee){e.Transform.call(this,null,ee)}je.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};let Z=["x","y","weight","size","cellSize","bandwidth"];function Ke(ee,Ee){return Z.forEach($e=>Ee[$e]!=null?ee[$e](Ee[$e]):0),ee}t.inherits(je,e.Transform,{transform(ee,Ee){if(this.value&&!Ee.changed()&&!ee.modified())return Ee.StopPropagation;var $e=Ee.fork(Ee.NO_SOURCE|Ee.NO_FIELDS),et=Ee.materialize(Ee.SOURCE).source,It=_e(et,ee.groupby),Kt=(ee.groupby||[]).map(t.accessorName),mn=Ke(Qe(),ee),fn=ee.as||"grid",dn=[];function Rn(we,Pe){for(let Et=0;Et<Kt.length;++Et)we[Kt[Et]]=Pe[Et];return we}return dn=It.map(we=>e.ingest(Rn({[fn]:mn(we,ee.counts)},we.dims))),this.value&&($e.rem=this.value),this.value=$e.source=$e.add=dn,$e}});function _e(ee,Ee){var $e=[],et=we=>we(fn),It,Kt,mn,fn,dn,Rn;if(Ee==null)$e.push(ee);else for(It={},Kt=0,mn=ee.length;Kt<mn;++Kt)fn=ee[Kt],dn=Ee.map(et),Rn=It[dn],Rn||(It[dn]=Rn=[],Rn.dims=dn,$e.push(Rn)),Rn.push(fn);return $e}function De(ee){e.Transform.call(this,null,ee)}De.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},t.inherits(De,e.Transform,{transform(ee,Ee){if(this.value&&!Ee.changed()&&!ee.modified())return Ee.StopPropagation;var $e=Ee.fork(Ee.NO_SOURCE|Ee.NO_FIELDS),et=M().smooth(ee.smooth!==!1),It=ee.values,Kt=ee.thresholds||L(ee.count||10,ee.nice,!!It),mn=ee.size,fn,dn;return It||(It=Ee.materialize(Ee.SOURCE).source,fn=Ke(Qe(),ee)(It,!0),dn=Be(fn,fn.scale||1,fn.scale||1,0,0),mn=[fn.width,fn.height],It=fn.values),Kt=t.isArray(Kt)?Kt:Kt(It),It=et.size(mn)(It,Kt),dn&&It.forEach(dn),this.value&&($e.rem=this.value),this.value=$e.source=$e.add=(It||[]).map(e.ingest),$e}});let be="Feature",de="FeatureCollection",Ge="MultiPoint";function rt(ee){e.Transform.call(this,null,ee)}rt.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},t.inherits(rt,e.Transform,{transform(ee,Ee){var $e=this._features,et=this._points,It=ee.fields,Kt=It&&It[0],mn=It&&It[1],fn=ee.geojson||!It&&t.identity,dn=Ee.ADD,Rn;Rn=ee.modified()||Ee.changed(Ee.REM)||Ee.modified(t.accessorFields(fn))||Kt&&Ee.modified(t.accessorFields(Kt))||mn&&Ee.modified(t.accessorFields(mn)),(!this.value||Rn)&&(dn=Ee.SOURCE,this._features=$e=[],this._points=et=[]),fn&&Ee.visit(dn,we=>$e.push(fn(we))),Kt&&mn&&(Ee.visit(dn,we=>{var Pe=Kt(we),Et=mn(we);Pe!=null&&Et!=null&&(Pe=+Pe)===Pe&&(Et=+Et)===Et&&et.push([Pe,Et])}),$e=$e.concat({type:be,geometry:{type:Ge,coordinates:et}})),this.value={type:de,features:$e}}});function Bt(ee){e.Transform.call(this,null,ee)}Bt.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},t.inherits(Bt,e.Transform,{transform(ee,Ee){var $e=Ee.fork(Ee.ALL),et=this.value,It=ee.field||t.identity,Kt=ee.as||"path",mn=$e.SOURCE;!et||ee.modified()?(this.value=et=i.getProjectionPath(ee.projection),$e.materialize().reflow()):mn=It===t.identity||Ee.modified(It.fields)?$e.ADD_MOD:$e.ADD;let fn=_t(et,ee.pointRadius);return $e.visit(mn,dn=>dn[Kt]=et(It(dn))),et.pointRadius(fn),$e.modifies(Kt)}});function _t(ee,Ee){let $e=ee.pointRadius();return ee.context(null),Ee!=null&&ee.pointRadius(Ee),$e}function un(ee){e.Transform.call(this,null,ee)}un.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},t.inherits(un,e.Transform,{transform(ee,Ee){var $e=ee.projection,et=ee.fields[0],It=ee.fields[1],Kt=ee.as||["x","y"],mn=Kt[0],fn=Kt[1],dn;function Rn(we){let Pe=$e([et(we),It(we)]);Pe?(we[mn]=Pe[0],we[fn]=Pe[1]):(we[mn]=void 0,we[fn]=void 0)}return ee.modified()?Ee=Ee.materialize().reflow(!0).visit(Ee.SOURCE,Rn):(dn=Ee.modified(et.fields)||Ee.modified(It.fields),Ee.visit(dn?Ee.ADD_MOD:Ee.ADD,Rn)),Ee.modifies(Kt)}});function Tt(ee){e.Transform.call(this,null,ee)}Tt.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},t.inherits(Tt,e.Transform,{transform(ee,Ee){var $e=Ee.fork(Ee.ALL),et=this.value,It=ee.as||"shape",Kt=$e.ADD;return(!et||ee.modified())&&(this.value=et=Rt(i.getProjectionPath(ee.projection),ee.field||t.field("datum"),ee.pointRadius),$e.materialize().reflow(),Kt=$e.SOURCE),$e.visit(Kt,mn=>mn[It]=et),$e.modifies(It)}});function Rt(ee,Ee,$e){let et=$e==null?It=>ee(Ee(It)):It=>{var Kt=ee.pointRadius(),mn=ee.pointRadius($e)(Ee(It));return ee.pointRadius(Kt),mn};return et.context=It=>(ee.context(It),et),et}var Gt=1e-6,xt=Math.abs,ve=Math.ceil;function Oe(ee,Ee,$e){var et=v(ee,Ee-Gt,$e).concat(Ee);return function(It){return et.map(function(Kt){return[It,Kt]})}}function xe(ee,Ee,$e){var et=v(ee,Ee-Gt,$e).concat(Ee);return function(It){return et.map(function(Kt){return[Kt,It]})}}function le(){var ee,Ee,$e,et,It,Kt,mn,fn,dn=10,Rn=dn,we=90,Pe=360,Et,O,$,ge,he=2.5;function Q(){return{type:"MultiLineString",coordinates:oe()}}function oe(){return v(ve(et/we)*we,$e,we).map($).concat(v(ve(fn/Pe)*Pe,mn,Pe).map(ge)).concat(v(ve(Ee/dn)*dn,ee,dn).filter(function(ae){return xt(ae%we)>Gt}).map(Et)).concat(v(ve(Kt/Rn)*Rn,It,Rn).filter(function(ae){return xt(ae%Pe)>Gt}).map(O))}return Q.lines=function(){return oe().map(function(ae){return{type:"LineString",coordinates:ae}})},Q.outline=function(){return{type:"Polygon",coordinates:[$(et).concat(ge(mn).slice(1),$($e).reverse().slice(1),ge(fn).reverse().slice(1))]}},Q.extent=function(ae){return arguments.length?Q.extentMajor(ae).extentMinor(ae):Q.extentMinor()},Q.extentMajor=function(ae){return arguments.length?(et=+ae[0][0],$e=+ae[1][0],fn=+ae[0][1],mn=+ae[1][1],et>$e&&(ae=et,et=$e,$e=ae),fn>mn&&(ae=fn,fn=mn,mn=ae),Q.precision(he)):[[et,fn],[$e,mn]]},Q.extentMinor=function(ae){return arguments.length?(Ee=+ae[0][0],ee=+ae[1][0],Kt=+ae[0][1],It=+ae[1][1],Ee>ee&&(ae=Ee,Ee=ee,ee=ae),Kt>It&&(ae=Kt,Kt=It,It=ae),Q.precision(he)):[[Ee,Kt],[ee,It]]},Q.step=function(ae){return arguments.length?Q.stepMajor(ae).stepMinor(ae):Q.stepMinor()},Q.stepMajor=function(ae){return arguments.length?(we=+ae[0],Pe=+ae[1],Q):[we,Pe]},Q.stepMinor=function(ae){return arguments.length?(dn=+ae[0],Rn=+ae[1],Q):[dn,Rn]},Q.precision=function(ae){return arguments.length?(he=+ae,Et=Oe(Kt,It,90),O=xe(Ee,ee,he),$=Oe(fn,mn,90),ge=xe(et,$e,he),Q):he},Q.extentMajor([[-180,-90+Gt],[180,90-Gt]]).extentMinor([[-180,-80-Gt],[180,80+Gt]])}function Ye(ee){e.Transform.call(this,[],ee),this.generator=le()}Ye.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},t.inherits(Ye,e.Transform,{transform(ee,Ee){var $e=this.value,et=this.generator,It;if(!$e.length||ee.modified())for(let Kt in ee)t.isFunction(et[Kt])&&et[Kt](ee[Kt]);return It=et(),$e.length?Ee.mod.push(e.replace($e[0],It)):Ee.add.push(e.ingest(It)),$e[0]=It,Ee}});function Ve(ee,Ee,$e){ee.prototype=Ee.prototype=$e,$e.constructor=ee}function te(ee,Ee){var $e=Object.create(ee.prototype);for(var et in Ee)$e[et]=Ee[et];return $e}function Ae(){}var Xe=.7,ot=1/Xe,Ct="\\s*([+-]?\\d+)\\s*",$t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sn=/^#([0-9a-f]{3,8})$/,ln=new RegExp("^rgb\\("+[Ct,Ct,Ct]+"\\)$"),cn=new RegExp("^rgb\\("+[Ut,Ut,Ut]+"\\)$"),Ft=new RegExp("^rgba\\("+[Ct,Ct,Ct,$t]+"\\)$"),nn=new RegExp("^rgba\\("+[Ut,Ut,Ut,$t]+"\\)$"),An=new RegExp("^hsl\\("+[$t,Ut,Ut]+"\\)$"),$n=new RegExp("^hsla\\("+[$t,Ut,Ut,$t]+"\\)$"),Cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ve(Ae,Dt,{copy:function(ee){return Object.assign(new this.constructor,this,ee)},displayable:function(){return this.rgb().displayable()},hex:Fe,formatHex:Fe,formatHsl:qe,formatRgb:Ce,toString:Ce});function Fe(){return this.rgb().formatHex()}function qe(){return He(this).formatHsl()}function Ce(){return this.rgb().formatRgb()}function Dt(ee){var Ee,$e;return ee=(ee+"").trim().toLowerCase(),(Ee=sn.exec(ee))?($e=Ee[1].length,Ee=parseInt(Ee[1],16),$e===6?lt(Ee):$e===3?new gn(Ee>>8&15|Ee>>4&240,Ee>>4&15|Ee&240,(Ee&15)<<4|Ee&15,1):$e===8?ct(Ee>>24&255,Ee>>16&255,Ee>>8&255,(Ee&255)/255):$e===4?ct(Ee>>12&15|Ee>>8&240,Ee>>8&15|Ee>>4&240,Ee>>4&15|Ee&240,((Ee&15)<<4|Ee&15)/255):null):(Ee=ln.exec(ee))?new gn(Ee[1],Ee[2],Ee[3],1):(Ee=cn.exec(ee))?new gn(Ee[1]*255/100,Ee[2]*255/100,Ee[3]*255/100,1):(Ee=Ft.exec(ee))?ct(Ee[1],Ee[2],Ee[3],Ee[4]):(Ee=nn.exec(ee))?ct(Ee[1]*255/100,Ee[2]*255/100,Ee[3]*255/100,Ee[4]):(Ee=An.exec(ee))?zn(Ee[1],Ee[2]/100,Ee[3]/100,1):(Ee=$n.exec(ee))?zn(Ee[1],Ee[2]/100,Ee[3]/100,Ee[4]):Cn.hasOwnProperty(ee)?lt(Cn[ee]):ee==="transparent"?new gn(NaN,NaN,NaN,0):null}function lt(ee){return new gn(ee>>16&255,ee>>8&255,ee&255,1)}function ct(ee,Ee,$e,et){return et<=0&&(ee=Ee=$e=NaN),new gn(ee,Ee,$e,et)}function Yt(ee){return ee instanceof Ae||(ee=Dt(ee)),ee?(ee=ee.rgb(),new gn(ee.r,ee.g,ee.b,ee.opacity)):new gn}function qt(ee,Ee,$e,et){return arguments.length===1?Yt(ee):new gn(ee,Ee,$e,et??1)}function gn(ee,Ee,$e,et){this.r=+ee,this.g=+Ee,this.b=+$e,this.opacity=+et}Ve(gn,qt,te(Ae,{brighter:function(ee){return ee=ee==null?ot:Math.pow(ot,ee),new gn(this.r*ee,this.g*ee,this.b*ee,this.opacity)},darker:function(ee){return ee=ee==null?Xe:Math.pow(Xe,ee),new gn(this.r*ee,this.g*ee,this.b*ee,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kn,formatHex:kn,formatRgb:qn,toString:qn}));function kn(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)}function qn(){var ee=this.opacity;return ee=isNaN(ee)?1:Math.max(0,Math.min(1,ee)),(ee===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ee===1?")":", "+ee+")")}function bn(ee){return ee=Math.max(0,Math.min(255,Math.round(ee)||0)),(ee<16?"0":"")+ee.toString(16)}function zn(ee,Ee,$e,et){return et<=0?ee=Ee=$e=NaN:$e<=0||$e>=1?ee=Ee=NaN:Ee<=0&&(ee=NaN),new se(ee,Ee,$e,et)}function He(ee){if(ee instanceof se)return new se(ee.h,ee.s,ee.l,ee.opacity);if(ee instanceof Ae||(ee=Dt(ee)),!ee)return new se;if(ee instanceof se)return ee;ee=ee.rgb();var Ee=ee.r/255,$e=ee.g/255,et=ee.b/255,It=Math.min(Ee,$e,et),Kt=Math.max(Ee,$e,et),mn=NaN,fn=Kt-It,dn=(Kt+It)/2;return fn?(Ee===Kt?mn=($e-et)/fn+($e<et)*6:$e===Kt?mn=(et-Ee)/fn+2:mn=(Ee-$e)/fn+4,fn/=dn<.5?Kt+It:2-Kt-It,mn*=60):fn=dn>0&&dn<1?0:mn,new se(mn,fn,dn,ee.opacity)}function ht(ee,Ee,$e,et){return arguments.length===1?He(ee):new se(ee,Ee,$e,et??1)}function se(ee,Ee,$e,et){this.h=+ee,this.s=+Ee,this.l=+$e,this.opacity=+et}Ve(se,ht,te(Ae,{brighter:function(ee){return ee=ee==null?ot:Math.pow(ot,ee),new se(this.h,this.s,this.l*ee,this.opacity)},darker:function(ee){return ee=ee==null?Xe:Math.pow(Xe,ee),new se(this.h,this.s,this.l*ee,this.opacity)},rgb:function(){var ee=this.h%360+(this.h<0)*360,Ee=isNaN(ee)||isNaN(this.s)?0:this.s,$e=this.l,et=$e+($e<.5?$e:1-$e)*Ee,It=2*$e-et;return new gn(Ie(ee>=240?ee-240:ee+120,It,et),Ie(ee,It,et),Ie(ee<120?ee+240:ee-120,It,et),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ee=this.opacity;return ee=isNaN(ee)?1:Math.max(0,Math.min(1,ee)),(ee===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ee===1?")":", "+ee+")")}}));function Ie(ee,Ee,$e){return(ee<60?Ee+($e-Ee)*ee/60:ee<180?$e:ee<240?Ee+($e-Ee)*(240-ee)/60:Ee)*255}function Ze(ee){e.Transform.call(this,null,ee)}Ze.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},t.inherits(Ze,e.Transform,{transform(ee,Ee){if(!Ee.changed()&&!ee.modified())return Ee.StopPropagation;var $e=Ee.materialize(Ee.SOURCE).source,et=ee.resolve==="shared",It=ee.field||t.identity,Kt=rn(ee.opacity,ee),mn=St(ee.color,ee),fn=ee.as||"image",dn={$x:0,$y:0,$value:0,$max:et?p($e.map(Rn=>p(It(Rn).values))):0};return $e.forEach(Rn=>{let we=It(Rn),Pe=t.extend({},Rn,dn);et||(Pe.$max=p(we.values||[])),Rn[fn]=at(we,Pe,mn.dep?mn:t.constant(mn(Pe)),Kt.dep?Kt:t.constant(Kt(Pe)))}),Ee.reflow(!0).modifies(fn)}});function St(ee,Ee){let $e;return t.isFunction(ee)?($e=et=>qt(ee(et,Ee)),$e.dep=Xt(ee)):$e=t.constant(qt(ee||"#888")),$e}function rn(ee,Ee){let $e;return t.isFunction(ee)?($e=et=>ee(et,Ee),$e.dep=Xt(ee)):ee?$e=t.constant(ee):($e=et=>et.$value/et.$max||0,$e.dep=!0),$e}function Xt(ee){if(!t.isFunction(ee))return!1;let Ee=t.toSet(t.accessorFields(ee));return Ee.$x||Ee.$y||Ee.$value||Ee.$max}function at(ee,Ee,$e,et){let It=ee.width,Kt=ee.height,mn=ee.x1||0,fn=ee.y1||0,dn=ee.x2||It,Rn=ee.y2||Kt,we=ee.values,Pe=we?he=>we[he]:t.zero,Et=s.canvas(dn-mn,Rn-fn),O=Et.getContext("2d"),$=O.getImageData(0,0,dn-mn,Rn-fn),ge=$.data;for(let he=fn,Q=0;he<Rn;++he){Ee.$y=he-fn;for(let oe=mn,ae=he*It;oe<dn;++oe,Q+=4){Ee.$x=oe-mn,Ee.$value=Pe(oe+ae);let ze=$e(Ee);ge[Q+0]=ze.r,ge[Q+1]=ze.g,ge[Q+2]=ze.b,ge[Q+3]=~~(255*et(Ee))}}return O.putImageData($,0,0),Et}function ne(ee){e.Transform.call(this,null,ee),this.modified(!0)}t.inherits(ne,e.Transform,{transform(ee,Ee){let $e=this.value;return!$e||ee.modified("type")?(this.value=$e=Me(ee.type),i.projectionProperties.forEach(et=>{ee[et]!=null&&ft($e,et,ee[et])})):i.projectionProperties.forEach(et=>{ee.modified(et)&&ft($e,et,ee[et])}),ee.pointRadius!=null&&$e.path.pointRadius(ee.pointRadius),ee.fit&&Se($e,ee),Ee.fork(Ee.NO_SOURCE|Ee.NO_FIELDS)}});function Se(ee,Ee){let $e=gt(Ee.fit);Ee.extent?ee.fitExtent(Ee.extent,$e):Ee.size&&ee.fitSize(Ee.size,$e)}function Me(ee){let Ee=i.projection((ee||"mercator").toLowerCase());return Ee||t.error("Unrecognized projection type: "+ee),Ee()}function ft(ee,Ee,$e){t.isFunction(ee[Ee])&&ee[Ee]($e)}function gt(ee){return ee=t.array(ee),ee.length===1?ee[0]:{type:de,features:ee.reduce((Ee,$e)=>Ee.concat(wt($e)),[])}}function wt(ee){return ee.type===de?ee.features:t.array(ee).filter(Ee=>Ee!=null).map(Ee=>Ee.type===be?Ee:{type:be,geometry:Ee})}n.contour=De,n.geojson=rt,n.geopath=Bt,n.geopoint=un,n.geoshape=Tt,n.graticule=Ye,n.heatmap=Ze,n.isocontour=Y,n.kde2d=je,n.projection=ne,Object.defineProperty(n,"__esModule",{value:!0})})});var bPe=G((KH,_Pe)=>{d();(function(n,e){typeof KH=="object"&&typeof _Pe!="undefined"?e(KH,qc(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(KH,function(n,e,t){"use strict";function r(se,Ie){var Ze,St=1;se==null&&(se=0),Ie==null&&(Ie=0);function rn(){var Xt,at=Ze.length,ne,Se=0,Me=0;for(Xt=0;Xt<at;++Xt)ne=Ze[Xt],Se+=ne.x,Me+=ne.y;for(Se=(Se/at-se)*St,Me=(Me/at-Ie)*St,Xt=0;Xt<at;++Xt)ne=Ze[Xt],ne.x-=Se,ne.y-=Me}return rn.initialize=function(Xt){Ze=Xt},rn.x=function(Xt){return arguments.length?(se=+Xt,rn):se},rn.y=function(Xt){return arguments.length?(Ie=+Xt,rn):Ie},rn.strength=function(Xt){return arguments.length?(St=+Xt,rn):St},rn}function i(se){let Ie=+this._x.call(null,se),Ze=+this._y.call(null,se);return s(this.cover(Ie,Ze),Ie,Ze,se)}function s(se,Ie,Ze,St){if(isNaN(Ie)||isNaN(Ze))return se;var rn,Xt=se._root,at={data:St},ne=se._x0,Se=se._y0,Me=se._x1,ft=se._y1,gt,wt,ee,Ee,$e,et,It,Kt;if(!Xt)return se._root=at,se;for(;Xt.length;)if(($e=Ie>=(gt=(ne+Me)/2))?ne=gt:Me=gt,(et=Ze>=(wt=(Se+ft)/2))?Se=wt:ft=wt,rn=Xt,!(Xt=Xt[It=et<<1|$e]))return rn[It]=at,se;if(ee=+se._x.call(null,Xt.data),Ee=+se._y.call(null,Xt.data),Ie===ee&&Ze===Ee)return at.next=Xt,rn?rn[It]=at:se._root=at,se;do rn=rn?rn[It]=new Array(4):se._root=new Array(4),($e=Ie>=(gt=(ne+Me)/2))?ne=gt:Me=gt,(et=Ze>=(wt=(Se+ft)/2))?Se=wt:ft=wt;while((It=et<<1|$e)===(Kt=(Ee>=wt)<<1|ee>=gt));return rn[Kt]=Xt,rn[It]=at,se}function o(se){var Ie,Ze,St=se.length,rn,Xt,at=new Array(St),ne=new Array(St),Se=1/0,Me=1/0,ft=-1/0,gt=-1/0;for(Ze=0;Ze<St;++Ze)isNaN(rn=+this._x.call(null,Ie=se[Ze]))||isNaN(Xt=+this._y.call(null,Ie))||(at[Ze]=rn,ne[Ze]=Xt,rn<Se&&(Se=rn),rn>ft&&(ft=rn),Xt<Me&&(Me=Xt),Xt>gt&&(gt=Xt));if(Se>ft||Me>gt)return this;for(this.cover(Se,Me).cover(ft,gt),Ze=0;Ze<St;++Ze)s(this,at[Ze],ne[Ze],se[Ze]);return this}function a(se,Ie){if(isNaN(se=+se)||isNaN(Ie=+Ie))return this;var Ze=this._x0,St=this._y0,rn=this._x1,Xt=this._y1;if(isNaN(Ze))rn=(Ze=Math.floor(se))+1,Xt=(St=Math.floor(Ie))+1;else{for(var at=rn-Ze||1,ne=this._root,Se,Me;Ze>se||se>=rn||St>Ie||Ie>=Xt;)switch(Me=(Ie<St)<<1|se<Ze,Se=new Array(4),Se[Me]=ne,ne=Se,at*=2,Me){case 0:rn=Ze+at,Xt=St+at;break;case 1:Ze=rn-at,Xt=St+at;break;case 2:rn=Ze+at,St=Xt-at;break;case 3:Ze=rn-at,St=Xt-at;break}this._root&&this._root.length&&(this._root=ne)}return this._x0=Ze,this._y0=St,this._x1=rn,this._y1=Xt,this}function l(){var se=[];return this.visit(function(Ie){if(!Ie.length)do se.push(Ie.data);while(Ie=Ie.next)}),se}function f(se){return arguments.length?this.cover(+se[0][0],+se[0][1]).cover(+se[1][0],+se[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(se,Ie,Ze,St,rn){this.node=se,this.x0=Ie,this.y0=Ze,this.x1=St,this.y1=rn}function v(se,Ie,Ze){var St,rn=this._x0,Xt=this._y0,at,ne,Se,Me,ft=this._x1,gt=this._y1,wt=[],ee=this._root,Ee,$e;for(ee&&wt.push(new p(ee,rn,Xt,ft,gt)),Ze==null?Ze=1/0:(rn=se-Ze,Xt=Ie-Ze,ft=se+Ze,gt=Ie+Ze,Ze*=Ze);Ee=wt.pop();)if(!(!(ee=Ee.node)||(at=Ee.x0)>ft||(ne=Ee.y0)>gt||(Se=Ee.x1)<rn||(Me=Ee.y1)<Xt))if(ee.length){var et=(at+Se)/2,It=(ne+Me)/2;wt.push(new p(ee[3],et,It,Se,Me),new p(ee[2],at,It,et,Me),new p(ee[1],et,ne,Se,It),new p(ee[0],at,ne,et,It)),($e=(Ie>=It)<<1|se>=et)&&(Ee=wt[wt.length-1],wt[wt.length-1]=wt[wt.length-1-$e],wt[wt.length-1-$e]=Ee)}else{var Kt=se-+this._x.call(null,ee.data),mn=Ie-+this._y.call(null,ee.data),fn=Kt*Kt+mn*mn;if(fn<Ze){var dn=Math.sqrt(Ze=fn);rn=se-dn,Xt=Ie-dn,ft=se+dn,gt=Ie+dn,St=ee.data}}return St}function b(se){if(isNaN(ft=+this._x.call(null,se))||isNaN(gt=+this._y.call(null,se)))return this;var Ie,Ze=this._root,St,rn,Xt,at=this._x0,ne=this._y0,Se=this._x1,Me=this._y1,ft,gt,wt,ee,Ee,$e,et,It;if(!Ze)return this;if(Ze.length)for(;;){if((Ee=ft>=(wt=(at+Se)/2))?at=wt:Se=wt,($e=gt>=(ee=(ne+Me)/2))?ne=ee:Me=ee,Ie=Ze,!(Ze=Ze[et=$e<<1|Ee]))return this;if(!Ze.length)break;(Ie[et+1&3]||Ie[et+2&3]||Ie[et+3&3])&&(St=Ie,It=et)}for(;Ze.data!==se;)if(rn=Ze,!(Ze=Ze.next))return this;return(Xt=Ze.next)&&delete Ze.next,rn?(Xt?rn.next=Xt:delete rn.next,this):Ie?(Xt?Ie[et]=Xt:delete Ie[et],(Ze=Ie[0]||Ie[1]||Ie[2]||Ie[3])&&Ze===(Ie[3]||Ie[2]||Ie[1]||Ie[0])&&!Ze.length&&(St?St[It]=Ze:this._root=Ze),this):(this._root=Xt,this)}function F(se){for(var Ie=0,Ze=se.length;Ie<Ze;++Ie)this.remove(se[Ie]);return this}function D(){return this._root}function M(){var se=0;return this.visit(function(Ie){if(!Ie.length)do++se;while(Ie=Ie.next)}),se}function q(se){var Ie=[],Ze,St=this._root,rn,Xt,at,ne,Se;for(St&&Ie.push(new p(St,this._x0,this._y0,this._x1,this._y1));Ze=Ie.pop();)if(!se(St=Ze.node,Xt=Ze.x0,at=Ze.y0,ne=Ze.x1,Se=Ze.y1)&&St.length){var Me=(Xt+ne)/2,ft=(at+Se)/2;(rn=St[3])&&Ie.push(new p(rn,Me,ft,ne,Se)),(rn=St[2])&&Ie.push(new p(rn,Xt,ft,Me,Se)),(rn=St[1])&&Ie.push(new p(rn,Me,at,ne,ft)),(rn=St[0])&&Ie.push(new p(rn,Xt,at,Me,ft))}return this}function N(se){var Ie=[],Ze=[],St;for(this._root&&Ie.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));St=Ie.pop();){var rn=St.node;if(rn.length){var Xt,at=St.x0,ne=St.y0,Se=St.x1,Me=St.y1,ft=(at+Se)/2,gt=(ne+Me)/2;(Xt=rn[0])&&Ie.push(new p(Xt,at,ne,ft,gt)),(Xt=rn[1])&&Ie.push(new p(Xt,ft,ne,Se,gt)),(Xt=rn[2])&&Ie.push(new p(Xt,at,gt,ft,Me)),(Xt=rn[3])&&Ie.push(new p(Xt,ft,gt,Se,Me))}Ze.push(St)}for(;St=Ze.pop();)se(St.node,St.x0,St.y0,St.x1,St.y1);return this}function B(se){return se[0]}function I(se){return arguments.length?(this._x=se,this):this._x}function z(se){return se[1]}function ie(se){return arguments.length?(this._y=se,this):this._y}function L(se,Ie,Ze){var St=new Y(Ie??B,Ze??z,NaN,NaN,NaN,NaN);return se==null?St:St.addAll(se)}function Y(se,Ie,Ze,St,rn,Xt){this._x=se,this._y=Ie,this._x0=Ze,this._y0=St,this._x1=rn,this._y1=Xt,this._root=void 0}function fe(se){for(var Ie={data:se.data},Ze=Ie;se=se.next;)Ze=Ze.next={data:se.data};return Ie}var me=L.prototype=Y.prototype;me.copy=function(){var se=new Y(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ie=this._root,Ze,St;if(!Ie)return se;if(!Ie.length)return se._root=fe(Ie),se;for(Ze=[{source:Ie,target:se._root=new Array(4)}];Ie=Ze.pop();)for(var rn=0;rn<4;++rn)(St=Ie.source[rn])&&(St.length?Ze.push({source:St,target:Ie.target[rn]=new Array(4)}):Ie.target[rn]=fe(St));return se},me.add=i,me.addAll=o,me.cover=a,me.data=l,me.extent=f,me.find=v,me.remove=b,me.removeAll=F,me.root=D,me.size=M,me.visit=q,me.visitAfter=N,me.x=I,me.y=ie;function Be(se){return function(){return se}}function tt(se){return(se()-.5)*1e-6}function st(se){return se.x+se.vx}function Qe(se){return se.y+se.vy}function mt(se){var Ie,Ze,St,rn=1,Xt=1;typeof se!="function"&&(se=Be(se==null?1:+se));function at(){for(var Me,ft=Ie.length,gt,wt,ee,Ee,$e,et,It=0;It<Xt;++It)for(gt=L(Ie,st,Qe).visitAfter(ne),Me=0;Me<ft;++Me)wt=Ie[Me],$e=Ze[wt.index],et=$e*$e,ee=wt.x+wt.vx,Ee=wt.y+wt.vy,gt.visit(Kt);function Kt(mn,fn,dn,Rn,we){var Pe=mn.data,Et=mn.r,O=$e+Et;if(Pe){if(Pe.index>wt.index){var $=ee-Pe.x-Pe.vx,ge=Ee-Pe.y-Pe.vy,he=$*$+ge*ge;he<O*O&&($===0&&($=tt(St),he+=$*$),ge===0&&(ge=tt(St),he+=ge*ge),he=(O-(he=Math.sqrt(he)))/he*rn,wt.vx+=($*=he)*(O=(Et*=Et)/(et+Et)),wt.vy+=(ge*=he)*O,Pe.vx-=$*(O=1-O),Pe.vy-=ge*O)}return}return fn>ee+O||Rn<ee-O||dn>Ee+O||we<Ee-O}}function ne(Me){if(Me.data)return Me.r=Ze[Me.data.index];for(var ft=Me.r=0;ft<4;++ft)Me[ft]&&Me[ft].r>Me.r&&(Me.r=Me[ft].r)}function Se(){if(!!Ie){var Me,ft=Ie.length,gt;for(Ze=new Array(ft),Me=0;Me<ft;++Me)gt=Ie[Me],Ze[gt.index]=+se(gt,Me,Ie)}}return at.initialize=function(Me,ft){Ie=Me,St=ft,Se()},at.iterations=function(Me){return arguments.length?(Xt=+Me,at):Xt},at.strength=function(Me){return arguments.length?(rn=+Me,at):rn},at.radius=function(Me){return arguments.length?(se=typeof Me=="function"?Me:Be(+Me),Se(),at):se},at}function Lt(se){return se.index}function je(se,Ie){var Ze=se.get(Ie);if(!Ze)throw new Error("node not found: "+Ie);return Ze}function Z(se){var Ie=Lt,Ze=gt,St,rn=Be(30),Xt,at,ne,Se,Me,ft=1;se==null&&(se=[]);function gt(et){return 1/Math.min(ne[et.source.index],ne[et.target.index])}function wt(et){for(var It=0,Kt=se.length;It<ft;++It)for(var mn=0,fn,dn,Rn,we,Pe,Et,O;mn<Kt;++mn)fn=se[mn],dn=fn.source,Rn=fn.target,we=Rn.x+Rn.vx-dn.x-dn.vx||tt(Me),Pe=Rn.y+Rn.vy-dn.y-dn.vy||tt(Me),Et=Math.sqrt(we*we+Pe*Pe),Et=(Et-Xt[mn])/Et*et*St[mn],we*=Et,Pe*=Et,Rn.vx-=we*(O=Se[mn]),Rn.vy-=Pe*O,dn.vx+=we*(O=1-O),dn.vy+=Pe*O}function ee(){if(!!at){var et,It=at.length,Kt=se.length,mn=new Map(at.map((dn,Rn)=>[Ie(dn,Rn,at),dn])),fn;for(et=0,ne=new Array(It);et<Kt;++et)fn=se[et],fn.index=et,typeof fn.source!="object"&&(fn.source=je(mn,fn.source)),typeof fn.target!="object"&&(fn.target=je(mn,fn.target)),ne[fn.source.index]=(ne[fn.source.index]||0)+1,ne[fn.target.index]=(ne[fn.target.index]||0)+1;for(et=0,Se=new Array(Kt);et<Kt;++et)fn=se[et],Se[et]=ne[fn.source.index]/(ne[fn.source.index]+ne[fn.target.index]);St=new Array(Kt),Ee(),Xt=new Array(Kt),$e()}}function Ee(){if(!!at)for(var et=0,It=se.length;et<It;++et)St[et]=+Ze(se[et],et,se)}function $e(){if(!!at)for(var et=0,It=se.length;et<It;++et)Xt[et]=+rn(se[et],et,se)}return wt.initialize=function(et,It){at=et,Me=It,ee()},wt.links=function(et){return arguments.length?(se=et,ee(),wt):se},wt.id=function(et){return arguments.length?(Ie=et,wt):Ie},wt.iterations=function(et){return arguments.length?(ft=+et,wt):ft},wt.strength=function(et){return arguments.length?(Ze=typeof et=="function"?et:Be(+et),Ee(),wt):Ze},wt.distance=function(et){return arguments.length?(rn=typeof et=="function"?et:Be(+et),$e(),wt):rn},wt}var Ke={value:()=>{}};function _e(){for(var se=0,Ie=arguments.length,Ze={},St;se<Ie;++se){if(!(St=arguments[se]+"")||St in Ze||/[\s.]/.test(St))throw new Error("illegal type: "+St);Ze[St]=[]}return new De(Ze)}function De(se){this._=se}function be(se,Ie){return se.trim().split(/^|\s+/).map(function(Ze){var St="",rn=Ze.indexOf(".");if(rn>=0&&(St=Ze.slice(rn+1),Ze=Ze.slice(0,rn)),Ze&&!Ie.hasOwnProperty(Ze))throw new Error("unknown type: "+Ze);return{type:Ze,name:St}})}De.prototype=_e.prototype={constructor:De,on:function(se,Ie){var Ze=this._,St=be(se+"",Ze),rn,Xt=-1,at=St.length;if(arguments.length<2){for(;++Xt<at;)if((rn=(se=St[Xt]).type)&&(rn=de(Ze[rn],se.name)))return rn;return}if(Ie!=null&&typeof Ie!="function")throw new Error("invalid callback: "+Ie);for(;++Xt<at;)if(rn=(se=St[Xt]).type)Ze[rn]=Ge(Ze[rn],se.name,Ie);else if(Ie==null)for(rn in Ze)Ze[rn]=Ge(Ze[rn],se.name,null);return this},copy:function(){var se={},Ie=this._;for(var Ze in Ie)se[Ze]=Ie[Ze].slice();return new De(se)},call:function(se,Ie){if((rn=arguments.length-2)>0)for(var Ze=new Array(rn),St=0,rn,Xt;St<rn;++St)Ze[St]=arguments[St+2];if(!this._.hasOwnProperty(se))throw new Error("unknown type: "+se);for(Xt=this._[se],St=0,rn=Xt.length;St<rn;++St)Xt[St].value.apply(Ie,Ze)},apply:function(se,Ie,Ze){if(!this._.hasOwnProperty(se))throw new Error("unknown type: "+se);for(var St=this._[se],rn=0,Xt=St.length;rn<Xt;++rn)St[rn].value.apply(Ie,Ze)}};function de(se,Ie){for(var Ze=0,St=se.length,rn;Ze<St;++Ze)if((rn=se[Ze]).name===Ie)return rn.value}function Ge(se,Ie,Ze){for(var St=0,rn=se.length;St<rn;++St)if(se[St].name===Ie){se[St]=Ke,se=se.slice(0,St).concat(se.slice(St+1));break}return Ze!=null&&se.push({name:Ie,value:Ze}),se}var rt=0,Bt=0,_t=0,un=1e3,Tt,Rt,Gt=0,xt=0,ve=0,Oe=typeof performance=="object"&&performance.now?performance:Date,xe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(se){setTimeout(se,17)};function le(){return xt||(xe(Ye),xt=Oe.now()+ve)}function Ye(){xt=0}function Ve(){this._call=this._time=this._next=null}Ve.prototype=te.prototype={constructor:Ve,restart:function(se,Ie,Ze){if(typeof se!="function")throw new TypeError("callback is not a function");Ze=(Ze==null?le():+Ze)+(Ie==null?0:+Ie),!this._next&&Rt!==this&&(Rt?Rt._next=this:Tt=this,Rt=this),this._call=se,this._time=Ze,$t()},stop:function(){this._call&&(this._call=null,this._time=1/0,$t())}};function te(se,Ie,Ze){var St=new Ve;return St.restart(se,Ie,Ze),St}function Ae(){le(),++rt;for(var se=Tt,Ie;se;)(Ie=xt-se._time)>=0&&se._call.call(void 0,Ie),se=se._next;--rt}function Xe(){xt=(Gt=Oe.now())+ve,rt=Bt=0;try{Ae()}finally{rt=0,Ct(),xt=0}}function ot(){var se=Oe.now(),Ie=se-Gt;Ie>un&&(ve-=Ie,Gt=se)}function Ct(){for(var se,Ie=Tt,Ze,St=1/0;Ie;)Ie._call?(St>Ie._time&&(St=Ie._time),se=Ie,Ie=Ie._next):(Ze=Ie._next,Ie._next=null,Ie=se?se._next=Ze:Tt=Ze);Rt=se,$t(St)}function $t(se){if(!rt){Bt&&(Bt=clearTimeout(Bt));var Ie=se-xt;Ie>24?(se<1/0&&(Bt=setTimeout(Xe,se-Oe.now()-ve)),_t&&(_t=clearInterval(_t))):(_t||(Gt=Oe.now(),_t=setInterval(ot,un)),rt=1,xe(Xe))}}let Ut=1664525,sn=1013904223,ln=4294967296;function cn(){let se=1;return()=>(se=(Ut*se+sn)%ln)/ln}function Ft(se){return se.x}function nn(se){return se.y}var An=10,$n=Math.PI*(3-Math.sqrt(5));function Cn(se){var Ie,Ze=1,St=.001,rn=1-Math.pow(St,1/300),Xt=0,at=.6,ne=new Map,Se=te(gt),Me=_e("tick","end"),ft=cn();se==null&&(se=[]);function gt(){wt(),Me.call("tick",Ie),Ze<St&&(Se.stop(),Me.call("end",Ie))}function wt($e){var et,It=se.length,Kt;$e===void 0&&($e=1);for(var mn=0;mn<$e;++mn)for(Ze+=(Xt-Ze)*rn,ne.forEach(function(fn){fn(Ze)}),et=0;et<It;++et)Kt=se[et],Kt.fx==null?Kt.x+=Kt.vx*=at:(Kt.x=Kt.fx,Kt.vx=0),Kt.fy==null?Kt.y+=Kt.vy*=at:(Kt.y=Kt.fy,Kt.vy=0);return Ie}function ee(){for(var $e=0,et=se.length,It;$e<et;++$e){if(It=se[$e],It.index=$e,It.fx!=null&&(It.x=It.fx),It.fy!=null&&(It.y=It.fy),isNaN(It.x)||isNaN(It.y)){var Kt=An*Math.sqrt(.5+$e),mn=$e*$n;It.x=Kt*Math.cos(mn),It.y=Kt*Math.sin(mn)}(isNaN(It.vx)||isNaN(It.vy))&&(It.vx=It.vy=0)}}function Ee($e){return $e.initialize&&$e.initialize(se,ft),$e}return ee(),Ie={tick:wt,restart:function(){return Se.restart(gt),Ie},stop:function(){return Se.stop(),Ie},nodes:function($e){return arguments.length?(se=$e,ee(),ne.forEach(Ee),Ie):se},alpha:function($e){return arguments.length?(Ze=+$e,Ie):Ze},alphaMin:function($e){return arguments.length?(St=+$e,Ie):St},alphaDecay:function($e){return arguments.length?(rn=+$e,Ie):+rn},alphaTarget:function($e){return arguments.length?(Xt=+$e,Ie):Xt},velocityDecay:function($e){return arguments.length?(at=1-$e,Ie):1-at},randomSource:function($e){return arguments.length?(ft=$e,ne.forEach(Ee),Ie):ft},force:function($e,et){return arguments.length>1?(et==null?ne.delete($e):ne.set($e,Ee(et)),Ie):ne.get($e)},find:function($e,et,It){var Kt=0,mn=se.length,fn,dn,Rn,we,Pe;for(It==null?It=1/0:It*=It,Kt=0;Kt<mn;++Kt)we=se[Kt],fn=$e-we.x,dn=et-we.y,Rn=fn*fn+dn*dn,Rn<It&&(Pe=we,It=Rn);return Pe},on:function($e,et){return arguments.length>1?(Me.on($e,et),Ie):Me.on($e)}}}function Fe(){var se,Ie,Ze,St,rn=Be(-30),Xt,at=1,ne=1/0,Se=.81;function Me(ee){var Ee,$e=se.length,et=L(se,Ft,nn).visitAfter(gt);for(St=ee,Ee=0;Ee<$e;++Ee)Ie=se[Ee],et.visit(wt)}function ft(){if(!!se){var ee,Ee=se.length,$e;for(Xt=new Array(Ee),ee=0;ee<Ee;++ee)$e=se[ee],Xt[$e.index]=+rn($e,ee,se)}}function gt(ee){var Ee=0,$e,et,It=0,Kt,mn,fn;if(ee.length){for(Kt=mn=fn=0;fn<4;++fn)($e=ee[fn])&&(et=Math.abs($e.value))&&(Ee+=$e.value,It+=et,Kt+=et*$e.x,mn+=et*$e.y);ee.x=Kt/It,ee.y=mn/It}else{$e=ee,$e.x=$e.data.x,$e.y=$e.data.y;do Ee+=Xt[$e.data.index];while($e=$e.next)}ee.value=Ee}function wt(ee,Ee,$e,et){if(!ee.value)return!0;var It=ee.x-Ie.x,Kt=ee.y-Ie.y,mn=et-Ee,fn=It*It+Kt*Kt;if(mn*mn/Se<fn)return fn<ne&&(It===0&&(It=tt(Ze),fn+=It*It),Kt===0&&(Kt=tt(Ze),fn+=Kt*Kt),fn<at&&(fn=Math.sqrt(at*fn)),Ie.vx+=It*ee.value*St/fn,Ie.vy+=Kt*ee.value*St/fn),!0;if(ee.length||fn>=ne)return;(ee.data!==Ie||ee.next)&&(It===0&&(It=tt(Ze),fn+=It*It),Kt===0&&(Kt=tt(Ze),fn+=Kt*Kt),fn<at&&(fn=Math.sqrt(at*fn)));do ee.data!==Ie&&(mn=Xt[ee.data.index]*St/fn,Ie.vx+=It*mn,Ie.vy+=Kt*mn);while(ee=ee.next)}return Me.initialize=function(ee,Ee){se=ee,Ze=Ee,ft()},Me.strength=function(ee){return arguments.length?(rn=typeof ee=="function"?ee:Be(+ee),ft(),Me):rn},Me.distanceMin=function(ee){return arguments.length?(at=ee*ee,Me):Math.sqrt(at)},Me.distanceMax=function(ee){return arguments.length?(ne=ee*ee,Me):Math.sqrt(ne)},Me.theta=function(ee){return arguments.length?(Se=ee*ee,Me):Math.sqrt(Se)},Me}function qe(se){var Ie=Be(.1),Ze,St,rn;typeof se!="function"&&(se=Be(se==null?0:+se));function Xt(ne){for(var Se=0,Me=Ze.length,ft;Se<Me;++Se)ft=Ze[Se],ft.vx+=(rn[Se]-ft.x)*St[Se]*ne}function at(){if(!!Ze){var ne,Se=Ze.length;for(St=new Array(Se),rn=new Array(Se),ne=0;ne<Se;++ne)St[ne]=isNaN(rn[ne]=+se(Ze[ne],ne,Ze))?0:+Ie(Ze[ne],ne,Ze)}}return Xt.initialize=function(ne){Ze=ne,at()},Xt.strength=function(ne){return arguments.length?(Ie=typeof ne=="function"?ne:Be(+ne),at(),Xt):Ie},Xt.x=function(ne){return arguments.length?(se=typeof ne=="function"?ne:Be(+ne),at(),Xt):se},Xt}function Ce(se){var Ie=Be(.1),Ze,St,rn;typeof se!="function"&&(se=Be(se==null?0:+se));function Xt(ne){for(var Se=0,Me=Ze.length,ft;Se<Me;++Se)ft=Ze[Se],ft.vy+=(rn[Se]-ft.y)*St[Se]*ne}function at(){if(!!Ze){var ne,Se=Ze.length;for(St=new Array(Se),rn=new Array(Se),ne=0;ne<Se;++ne)St[ne]=isNaN(rn[ne]=+se(Ze[ne],ne,Ze))?0:+Ie(Ze[ne],ne,Ze)}}return Xt.initialize=function(ne){Ze=ne,at()},Xt.strength=function(ne){return arguments.length?(Ie=typeof ne=="function"?ne:Be(+ne),at(),Xt):Ie},Xt.y=function(ne){return arguments.length?(se=typeof ne=="function"?ne:Be(+ne),at(),Xt):se},Xt}let Dt={center:r,collide:mt,nbody:Fe,link:Z,x:qe,y:Ce},lt="forces",ct=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Yt=["static","iterations"],qt=["x","y","vx","vy"];function gn(se){e.Transform.call(this,null,se)}gn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:qt}]},t.inherits(gn,e.Transform,{transform(se,Ie){var Ze=this.value,St=Ie.changed(Ie.ADD_REM),rn=se.modified(ct),Xt=se.iterations||300;if(Ze?(St&&(Ie.modifies("index"),Ze.nodes(Ie.source)),(rn||Ie.changed(Ie.MOD))&&bn(Ze,se,0,Ie)):(this.value=Ze=qn(Ie.source,se),Ze.on("tick",kn(Ie.dataflow,this)),se.static||(St=!0,Ze.tick()),Ie.modifies("index")),rn||St||se.modified(Yt)||Ie.changed()&&se.restart){if(Ze.alpha(Math.max(Ze.alpha(),se.alpha||1)).alphaDecay(1-Math.pow(Ze.alphaMin(),1/Xt)),se.static)for(Ze.stop();--Xt>=0;)Ze.tick();else if(Ze.stopped()&&Ze.restart(),!St)return Ie.StopPropagation}return this.finish(se,Ie)},finish(se,Ie){let Ze=Ie.dataflow;for(let ne=this._argops,Se=0,Me=ne.length,ft;Se<Me;++Se)if(ft=ne[Se],!(ft.name!==lt||ft.op._argval.force!=="link")){for(var St=ft.op._argops,rn=0,Xt=St.length,at;rn<Xt;++rn)if(St[rn].name==="links"&&(at=St[rn].op.source)){Ze.pulse(at,Ze.changeset().reflow());break}}return Ie.reflow(se.modified()).modifies(qt)}});function kn(se,Ie){return()=>se.touch(Ie).run()}function qn(se,Ie){let Ze=Cn(se),St=Ze.stop,rn=Ze.restart,Xt=!1;return Ze.stopped=()=>Xt,Ze.restart=()=>(Xt=!1,rn()),Ze.stop=()=>(Xt=!0,St()),bn(Ze,Ie,!0).on("end",()=>Xt=!0)}function bn(se,Ie,Ze,St){var rn=t.array(Ie.forces),Xt,at,ne,Se;for(Xt=0,at=ct.length;Xt<at;++Xt)ne=ct[Xt],ne!==lt&&Ie.modified(ne)&&se[ne](Ie[ne]);for(Xt=0,at=rn.length;Xt<at;++Xt)Se=lt+Xt,ne=Ze||Ie.modified(lt,Xt)?He(rn[Xt]):St&&zn(rn[Xt],St)?se.force(Se):null,ne&&se.force(Se,ne);for(at=se.numForces||0;Xt<at;++Xt)se.force(lt+Xt,null);return se.numForces=rn.length,se}function zn(se,Ie){var Ze,St;for(Ze in se)if(t.isFunction(St=se[Ze])&&Ie.modified(t.accessorFields(St)))return 1;return 0}function He(se){var Ie,Ze;t.hasOwnProperty(Dt,se.force)||t.error("Unrecognized force: "+se.force),Ie=Dt[se.force]();for(Ze in se)t.isFunction(Ie[Ze])&&ht(Ie[Ze],se[Ze],se);return Ie}function ht(se,Ie,Ze){se(t.isFunction(Ie)?St=>Ie(St,Ze):Ie)}n.force=gn,Object.defineProperty(n,"__esModule",{value:!0})})});var SPe=G((JH,EPe)=>{d();(function(n,e){typeof JH=="object"&&typeof EPe!="undefined"?e(JH,qc(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(JH,function(n,e,t){"use strict";function r(we,Pe,Et){let O={};return we.each($=>{let ge=$.data;Et(ge)&&(O[Pe(ge)]=$)}),we.lookup=O,we}function i(we,Pe){return we.parent===Pe.parent?1:2}function s(we){return we.reduce(o,0)/we.length}function o(we,Pe){return we+Pe.x}function a(we){return 1+we.reduce(l,0)}function l(we,Pe){return Math.max(we,Pe.y)}function f(we){for(var Pe;Pe=we.children;)we=Pe[0];return we}function p(we){for(var Pe;Pe=we.children;)we=Pe[Pe.length-1];return we}function v(){var we=i,Pe=1,Et=1,O=!1;function $(ge){var he,Q=0;ge.eachAfter(function(vt){var tn=vt.children;tn?(vt.x=s(tn),vt.y=a(tn)):(vt.x=he?Q+=we(vt,he):0,vt.y=0,he=vt)});var oe=f(ge),ae=p(ge),ze=oe.x-we(oe,ae)/2,Ot=ae.x+we(ae,oe)/2;return ge.eachAfter(O?function(vt){vt.x=(vt.x-ge.x)*Pe,vt.y=(ge.y-vt.y)*Et}:function(vt){vt.x=(vt.x-ze)/(Ot-ze)*Pe,vt.y=(1-(ge.y?vt.y/ge.y:1))*Et})}return $.separation=function(ge){return arguments.length?(we=ge,$):we},$.size=function(ge){return arguments.length?(O=!1,Pe=+ge[0],Et=+ge[1],$):O?null:[Pe,Et]},$.nodeSize=function(ge){return arguments.length?(O=!0,Pe=+ge[0],Et=+ge[1],$):O?[Pe,Et]:null},$}function b(we){var Pe=0,Et=we.children,O=Et&&Et.length;if(!O)Pe=1;else for(;--O>=0;)Pe+=Et[O].value;we.value=Pe}function F(){return this.eachAfter(b)}function D(we,Pe){let Et=-1;for(let O of this)we.call(Pe,O,++Et,this);return this}function M(we,Pe){for(var Et=this,O=[Et],$,ge,he=-1;Et=O.pop();)if(we.call(Pe,Et,++he,this),$=Et.children)for(ge=$.length-1;ge>=0;--ge)O.push($[ge]);return this}function q(we,Pe){for(var Et=this,O=[Et],$=[],ge,he,Q,oe=-1;Et=O.pop();)if($.push(Et),ge=Et.children)for(he=0,Q=ge.length;he<Q;++he)O.push(ge[he]);for(;Et=$.pop();)we.call(Pe,Et,++oe,this);return this}function N(we,Pe){let Et=-1;for(let O of this)if(we.call(Pe,O,++Et,this))return O}function B(we){return this.eachAfter(function(Pe){for(var Et=+we(Pe.data)||0,O=Pe.children,$=O&&O.length;--$>=0;)Et+=O[$].value;Pe.value=Et})}function I(we){return this.eachBefore(function(Pe){Pe.children&&Pe.children.sort(we)})}function z(we){for(var Pe=this,Et=ie(Pe,we),O=[Pe];Pe!==Et;)Pe=Pe.parent,O.push(Pe);for(var $=O.length;we!==Et;)O.splice($,0,we),we=we.parent;return O}function ie(we,Pe){if(we===Pe)return we;var Et=we.ancestors(),O=Pe.ancestors(),$=null;for(we=Et.pop(),Pe=O.pop();we===Pe;)$=we,we=Et.pop(),Pe=O.pop();return $}function L(){for(var we=this,Pe=[we];we=we.parent;)Pe.push(we);return Pe}function Y(){return Array.from(this)}function fe(){var we=[];return this.eachBefore(function(Pe){Pe.children||we.push(Pe)}),we}function me(){var we=this,Pe=[];return we.each(function(Et){Et!==we&&Pe.push({source:Et.parent,target:Et})}),Pe}function*Be(){var we=this,Pe,Et=[we],O,$,ge;do for(Pe=Et.reverse(),Et=[];we=Pe.pop();)if(yield we,O=we.children)for($=0,ge=O.length;$<ge;++$)Et.push(O[$]);while(Et.length)}function tt(we,Pe){we instanceof Map?(we=[void 0,we],Pe===void 0&&(Pe=mt)):Pe===void 0&&(Pe=Qe);for(var Et=new Z(we),O,$=[Et],ge,he,Q,oe;O=$.pop();)if((he=Pe(O.data))&&(oe=(he=Array.from(he)).length))for(O.children=he,Q=oe-1;Q>=0;--Q)$.push(ge=he[Q]=new Z(he[Q])),ge.parent=O,ge.depth=O.depth+1;return Et.eachBefore(je)}function st(){return tt(this).eachBefore(Lt)}function Qe(we){return we.children}function mt(we){return Array.isArray(we)?we[1]:null}function Lt(we){we.data.value!==void 0&&(we.value=we.data.value),we.data=we.data.data}function je(we){var Pe=0;do we.height=Pe;while((we=we.parent)&&we.height<++Pe)}function Z(we){this.data=we,this.depth=this.height=0,this.parent=null}Z.prototype=tt.prototype={constructor:Z,count:F,each:D,eachAfter:q,eachBefore:M,find:N,sum:B,sort:I,path:z,ancestors:L,descendants:Y,leaves:fe,links:me,copy:st,[Symbol.iterator]:Be};function Ke(we){return typeof we=="object"&&"length"in we?we:Array.from(we)}function _e(we){for(var Pe=we.length,Et,O;Pe;)O=Math.random()*Pe--|0,Et=we[Pe],we[Pe]=we[O],we[O]=Et;return we}function De(we){for(var Pe=0,Et=(we=_e(Array.from(we))).length,O=[],$,ge;Pe<Et;)$=we[Pe],ge&&Ge(ge,$)?++Pe:(ge=Bt(O=be(O,$)),Pe=0);return ge}function be(we,Pe){var Et,O;if(rt(Pe,we))return[Pe];for(Et=0;Et<we.length;++Et)if(de(Pe,we[Et])&&rt(un(we[Et],Pe),we))return[we[Et],Pe];for(Et=0;Et<we.length-1;++Et)for(O=Et+1;O<we.length;++O)if(de(un(we[Et],we[O]),Pe)&&de(un(we[Et],Pe),we[O])&&de(un(we[O],Pe),we[Et])&&rt(Tt(we[Et],we[O],Pe),we))return[we[Et],we[O],Pe];throw new Error}function de(we,Pe){var Et=we.r-Pe.r,O=Pe.x-we.x,$=Pe.y-we.y;return Et<0||Et*Et<O*O+$*$}function Ge(we,Pe){var Et=we.r-Pe.r+Math.max(we.r,Pe.r,1)*1e-9,O=Pe.x-we.x,$=Pe.y-we.y;return Et>0&&Et*Et>O*O+$*$}function rt(we,Pe){for(var Et=0;Et<Pe.length;++Et)if(!Ge(we,Pe[Et]))return!1;return!0}function Bt(we){switch(we.length){case 1:return _t(we[0]);case 2:return un(we[0],we[1]);case 3:return Tt(we[0],we[1],we[2])}}function _t(we){return{x:we.x,y:we.y,r:we.r}}function un(we,Pe){var Et=we.x,O=we.y,$=we.r,ge=Pe.x,he=Pe.y,Q=Pe.r,oe=ge-Et,ae=he-O,ze=Q-$,Ot=Math.sqrt(oe*oe+ae*ae);return{x:(Et+ge+oe/Ot*ze)/2,y:(O+he+ae/Ot*ze)/2,r:(Ot+$+Q)/2}}function Tt(we,Pe,Et){var O=we.x,$=we.y,ge=we.r,he=Pe.x,Q=Pe.y,oe=Pe.r,ae=Et.x,ze=Et.y,Ot=Et.r,vt=O-he,tn=O-ae,E=$-Q,P=$-ze,X=oe-ge,ye=Ot-ge,ut=O*O+$*$-ge*ge,bt=ut-he*he-Q*Q+oe*oe,Vt=ut-ae*ae-ze*ze+Ot*Ot,zt=tn*E-vt*P,an=(E*Vt-P*bt)/(zt*2)-O,Dn=(P*X-E*ye)/zt,On=(tn*bt-vt*Vt)/(zt*2)-$,In=(vt*ye-tn*X)/zt,Mr=Dn*Dn+In*In-1,Dr=2*(ge+an*Dn+On*In),rr=an*an+On*On-ge*ge,br=-(Mr?(Dr+Math.sqrt(Dr*Dr-4*Mr*rr))/(2*Mr):rr/Dr);return{x:O+an+Dn*br,y:$+On+In*br,r:br}}function Rt(we,Pe,Et){var O=we.x-Pe.x,$,ge,he=we.y-Pe.y,Q,oe,ae=O*O+he*he;ae?(ge=Pe.r+Et.r,ge*=ge,oe=we.r+Et.r,oe*=oe,ge>oe?($=(ae+oe-ge)/(2*ae),Q=Math.sqrt(Math.max(0,oe/ae-$*$)),Et.x=we.x-$*O-Q*he,Et.y=we.y-$*he+Q*O):($=(ae+ge-oe)/(2*ae),Q=Math.sqrt(Math.max(0,ge/ae-$*$)),Et.x=Pe.x+$*O-Q*he,Et.y=Pe.y+$*he+Q*O)):(Et.x=Pe.x+Et.r,Et.y=Pe.y)}function Gt(we,Pe){var Et=we.r+Pe.r-1e-6,O=Pe.x-we.x,$=Pe.y-we.y;return Et>0&&Et*Et>O*O+$*$}function xt(we){var Pe=we._,Et=we.next._,O=Pe.r+Et.r,$=(Pe.x*Et.r+Et.x*Pe.r)/O,ge=(Pe.y*Et.r+Et.y*Pe.r)/O;return $*$+ge*ge}function ve(we){this._=we,this.next=null,this.previous=null}function Oe(we){if(!($=(we=Ke(we)).length))return 0;var Pe,Et,O,$,ge,he,Q,oe,ae,ze,Ot;if(Pe=we[0],Pe.x=0,Pe.y=0,!($>1))return Pe.r;if(Et=we[1],Pe.x=-Et.r,Et.x=Pe.r,Et.y=0,!($>2))return Pe.r+Et.r;Rt(Et,Pe,O=we[2]),Pe=new ve(Pe),Et=new ve(Et),O=new ve(O),Pe.next=O.previous=Et,Et.next=Pe.previous=O,O.next=Et.previous=Pe;e:for(Q=3;Q<$;++Q){Rt(Pe._,Et._,O=we[Q]),O=new ve(O),oe=Et.next,ae=Pe.previous,ze=Et._.r,Ot=Pe._.r;do if(ze<=Ot){if(Gt(oe._,O._)){Et=oe,Pe.next=Et,Et.previous=Pe,--Q;continue e}ze+=oe._.r,oe=oe.next}else{if(Gt(ae._,O._)){Pe=ae,Pe.next=Et,Et.previous=Pe,--Q;continue e}Ot+=ae._.r,ae=ae.previous}while(oe!==ae.next);for(O.previous=Pe,O.next=Et,Pe.next=Et.previous=Et=O,ge=xt(Pe);(O=O.next)!==Et;)(he=xt(O))<ge&&(Pe=O,ge=he);Et=Pe.next}for(Pe=[Et._],O=Et;(O=O.next)!==Et;)Pe.push(O._);for(O=De(Pe),Q=0;Q<$;++Q)Pe=we[Q],Pe.x-=O.x,Pe.y-=O.y;return O.r}function xe(we){return we==null?null:le(we)}function le(we){if(typeof we!="function")throw new Error;return we}function Ye(){return 0}function Ve(we){return function(){return we}}function te(we){return Math.sqrt(we.value)}function Ae(){var we=null,Pe=1,Et=1,O=Ye;function $(ge){return ge.x=Pe/2,ge.y=Et/2,we?ge.eachBefore(Xe(we)).eachAfter(ot(O,.5)).eachBefore(Ct(1)):ge.eachBefore(Xe(te)).eachAfter(ot(Ye,1)).eachAfter(ot(O,ge.r/Math.min(Pe,Et))).eachBefore(Ct(Math.min(Pe,Et)/(2*ge.r))),ge}return $.radius=function(ge){return arguments.length?(we=xe(ge),$):we},$.size=function(ge){return arguments.length?(Pe=+ge[0],Et=+ge[1],$):[Pe,Et]},$.padding=function(ge){return arguments.length?(O=typeof ge=="function"?ge:Ve(+ge),$):O},$}function Xe(we){return function(Pe){Pe.children||(Pe.r=Math.max(0,+we(Pe)||0))}}function ot(we,Pe){return function(Et){if(O=Et.children){var O,$,ge=O.length,he=we(Et)*Pe||0,Q;if(he)for($=0;$<ge;++$)O[$].r+=he;if(Q=Oe(O),he)for($=0;$<ge;++$)O[$].r-=he;Et.r=Q+he}}}function Ct(we){return function(Pe){var Et=Pe.parent;Pe.r*=we,Et&&(Pe.x=Et.x+we*Pe.x,Pe.y=Et.y+we*Pe.y)}}function $t(we){we.x0=Math.round(we.x0),we.y0=Math.round(we.y0),we.x1=Math.round(we.x1),we.y1=Math.round(we.y1)}function Ut(we,Pe,Et,O,$){for(var ge=we.children,he,Q=-1,oe=ge.length,ae=we.value&&(O-Pe)/we.value;++Q<oe;)he=ge[Q],he.y0=Et,he.y1=$,he.x0=Pe,he.x1=Pe+=he.value*ae}function sn(){var we=1,Pe=1,Et=0,O=!1;function $(he){var Q=he.height+1;return he.x0=he.y0=Et,he.x1=we,he.y1=Pe/Q,he.eachBefore(ge(Pe,Q)),O&&he.eachBefore($t),he}function ge(he,Q){return function(oe){oe.children&&Ut(oe,oe.x0,he*(oe.depth+1)/Q,oe.x1,he*(oe.depth+2)/Q);var ae=oe.x0,ze=oe.y0,Ot=oe.x1-Et,vt=oe.y1-Et;Ot<ae&&(ae=Ot=(ae+Ot)/2),vt<ze&&(ze=vt=(ze+vt)/2),oe.x0=ae,oe.y0=ze,oe.x1=Ot,oe.y1=vt}}return $.round=function(he){return arguments.length?(O=!!he,$):O},$.size=function(he){return arguments.length?(we=+he[0],Pe=+he[1],$):[we,Pe]},$.padding=function(he){return arguments.length?(Et=+he,$):Et},$}var ln={depth:-1},cn={},Ft={};function nn(we){return we.id}function An(we){return we.parentId}function $n(){var we=nn,Pe=An,Et;function O($){var ge=Array.from($),he=we,Q=Pe,oe,ae,ze,Ot,vt,tn,E,P,X=new Map;if(Et!=null){let ye=ge.map((Vt,zt)=>Cn(Et(Vt,zt,$))),ut=ye.map(Fe),bt=new Set(ye).add("");for(let Vt of ut)bt.has(Vt)||(bt.add(Vt),ye.push(Vt),ut.push(Fe(Vt)),ge.push(Ft));he=(Vt,zt)=>ye[zt],Q=(Vt,zt)=>ut[zt]}for(ze=0,oe=ge.length;ze<oe;++ze)ae=ge[ze],tn=ge[ze]=new Z(ae),(E=he(ae,ze,$))!=null&&(E+="")&&(P=tn.id=E,X.set(P,X.has(P)?cn:tn)),(E=Q(ae,ze,$))!=null&&(E+="")&&(tn.parent=E);for(ze=0;ze<oe;++ze)if(tn=ge[ze],E=tn.parent){if(vt=X.get(E),!vt)throw new Error("missing: "+E);if(vt===cn)throw new Error("ambiguous: "+E);vt.children?vt.children.push(tn):vt.children=[tn],tn.parent=vt}else{if(Ot)throw new Error("multiple roots");Ot=tn}if(!Ot)throw new Error("no root");if(Et!=null){for(;Ot.data===Ft&&Ot.children.length===1;)Ot=Ot.children[0],--oe;for(let ye=ge.length-1;ye>=0&&(tn=ge[ye],tn.data===Ft);--ye)tn.data=null}if(Ot.parent=ln,Ot.eachBefore(function(ye){ye.depth=ye.parent.depth+1,--oe}).eachBefore(je),Ot.parent=null,oe>0)throw new Error("cycle");return Ot}return O.id=function($){return arguments.length?(we=xe($),O):we},O.parentId=function($){return arguments.length?(Pe=xe($),O):Pe},O.path=function($){return arguments.length?(Et=xe($),O):Et},O}function Cn(we){we=`${we}`;let Pe=we.length;return qe(we,Pe-1)&&!qe(we,Pe-2)&&(we=we.slice(0,-1)),we[0]==="/"?we:`/${we}`}function Fe(we){let Pe=we.length;if(Pe<2)return"";for(;--Pe>1&&!qe(we,Pe););return we.slice(0,Pe)}function qe(we,Pe){if(we[Pe]==="/"){let Et=0;for(;Pe>0&&we[--Pe]==="\\";)++Et;if((Et&1)===0)return!0}return!1}function Ce(we,Pe){return we.parent===Pe.parent?1:2}function Dt(we){var Pe=we.children;return Pe?Pe[0]:we.t}function lt(we){var Pe=we.children;return Pe?Pe[Pe.length-1]:we.t}function ct(we,Pe,Et){var O=Et/(Pe.i-we.i);Pe.c-=O,Pe.s+=Et,we.c+=O,Pe.z+=Et,Pe.m+=Et}function Yt(we){for(var Pe=0,Et=0,O=we.children,$=O.length,ge;--$>=0;)ge=O[$],ge.z+=Pe,ge.m+=Pe,Pe+=ge.s+(Et+=ge.c)}function qt(we,Pe,Et){return we.a.parent===Pe.parent?we.a:Et}function gn(we,Pe){this._=we,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Pe}gn.prototype=Object.create(Z.prototype);function kn(we){for(var Pe=new gn(we,0),Et,O=[Pe],$,ge,he,Q;Et=O.pop();)if(ge=Et._.children)for(Et.children=new Array(Q=ge.length),he=Q-1;he>=0;--he)O.push($=Et.children[he]=new gn(ge[he],he)),$.parent=Et;return(Pe.parent=new gn(null,0)).children=[Pe],Pe}function qn(){var we=Ce,Pe=1,Et=1,O=null;function $(ae){var ze=kn(ae);if(ze.eachAfter(ge),ze.parent.m=-ze.z,ze.eachBefore(he),O)ae.eachBefore(oe);else{var Ot=ae,vt=ae,tn=ae;ae.eachBefore(function(ut){ut.x<Ot.x&&(Ot=ut),ut.x>vt.x&&(vt=ut),ut.depth>tn.depth&&(tn=ut)});var E=Ot===vt?1:we(Ot,vt)/2,P=E-Ot.x,X=Pe/(vt.x+E+P),ye=Et/(tn.depth||1);ae.eachBefore(function(ut){ut.x=(ut.x+P)*X,ut.y=ut.depth*ye})}return ae}function ge(ae){var ze=ae.children,Ot=ae.parent.children,vt=ae.i?Ot[ae.i-1]:null;if(ze){Yt(ae);var tn=(ze[0].z+ze[ze.length-1].z)/2;vt?(ae.z=vt.z+we(ae._,vt._),ae.m=ae.z-tn):ae.z=tn}else vt&&(ae.z=vt.z+we(ae._,vt._));ae.parent.A=Q(ae,vt,ae.parent.A||Ot[0])}function he(ae){ae._.x=ae.z+ae.parent.m,ae.m+=ae.parent.m}function Q(ae,ze,Ot){if(ze){for(var vt=ae,tn=ae,E=ze,P=vt.parent.children[0],X=vt.m,ye=tn.m,ut=E.m,bt=P.m,Vt;E=lt(E),vt=Dt(vt),E&&vt;)P=Dt(P),tn=lt(tn),tn.a=ae,Vt=E.z+ut-vt.z-X+we(E._,vt._),Vt>0&&(ct(qt(E,ae,Ot),ae,Vt),X+=Vt,ye+=Vt),ut+=E.m,X+=vt.m,bt+=P.m,ye+=tn.m;E&&!lt(tn)&&(tn.t=E,tn.m+=ut-ye),vt&&!Dt(P)&&(P.t=vt,P.m+=X-bt,Ot=ae)}return Ot}function oe(ae){ae.x*=Pe,ae.y=ae.depth*Et}return $.separation=function(ae){return arguments.length?(we=ae,$):we},$.size=function(ae){return arguments.length?(O=!1,Pe=+ae[0],Et=+ae[1],$):O?null:[Pe,Et]},$.nodeSize=function(ae){return arguments.length?(O=!0,Pe=+ae[0],Et=+ae[1],$):O?[Pe,Et]:null},$}function bn(we,Pe,Et,O,$){for(var ge=we.children,he,Q=-1,oe=ge.length,ae=we.value&&($-Et)/we.value;++Q<oe;)he=ge[Q],he.x0=Pe,he.x1=O,he.y0=Et,he.y1=Et+=he.value*ae}var zn=(1+Math.sqrt(5))/2;function He(we,Pe,Et,O,$,ge){for(var he=[],Q=Pe.children,oe,ae,ze=0,Ot=0,vt=Q.length,tn,E,P=Pe.value,X,ye,ut,bt,Vt,zt,an;ze<vt;){tn=$-Et,E=ge-O;do X=Q[Ot++].value;while(!X&&Ot<vt);for(ye=ut=X,zt=Math.max(E/tn,tn/E)/(P*we),an=X*X*zt,Vt=Math.max(ut/an,an/ye);Ot<vt;++Ot){if(X+=ae=Q[Ot].value,ae<ye&&(ye=ae),ae>ut&&(ut=ae),an=X*X*zt,bt=Math.max(ut/an,an/ye),bt>Vt){X-=ae;break}Vt=bt}he.push(oe={value:X,dice:tn<E,children:Q.slice(ze,Ot)}),oe.dice?Ut(oe,Et,O,$,P?O+=E*X/P:ge):bn(oe,Et,O,P?Et+=tn*X/P:$,ge),P-=X,ze=Ot}return he}var ht=function we(Pe){function Et(O,$,ge,he,Q){He(Pe,O,$,ge,he,Q)}return Et.ratio=function(O){return we((O=+O)>1?O:1)},Et}(zn);function se(){var we=ht,Pe=!1,Et=1,O=1,$=[0],ge=Ye,he=Ye,Q=Ye,oe=Ye,ae=Ye;function ze(vt){return vt.x0=vt.y0=0,vt.x1=Et,vt.y1=O,vt.eachBefore(Ot),$=[0],Pe&&vt.eachBefore($t),vt}function Ot(vt){var tn=$[vt.depth],E=vt.x0+tn,P=vt.y0+tn,X=vt.x1-tn,ye=vt.y1-tn;X<E&&(E=X=(E+X)/2),ye<P&&(P=ye=(P+ye)/2),vt.x0=E,vt.y0=P,vt.x1=X,vt.y1=ye,vt.children&&(tn=$[vt.depth+1]=ge(vt)/2,E+=ae(vt)-tn,P+=he(vt)-tn,X-=Q(vt)-tn,ye-=oe(vt)-tn,X<E&&(E=X=(E+X)/2),ye<P&&(P=ye=(P+ye)/2),we(vt,E,P,X,ye))}return ze.round=function(vt){return arguments.length?(Pe=!!vt,ze):Pe},ze.size=function(vt){return arguments.length?(Et=+vt[0],O=+vt[1],ze):[Et,O]},ze.tile=function(vt){return arguments.length?(we=le(vt),ze):we},ze.padding=function(vt){return arguments.length?ze.paddingInner(vt).paddingOuter(vt):ze.paddingInner()},ze.paddingInner=function(vt){return arguments.length?(ge=typeof vt=="function"?vt:Ve(+vt),ze):ge},ze.paddingOuter=function(vt){return arguments.length?ze.paddingTop(vt).paddingRight(vt).paddingBottom(vt).paddingLeft(vt):ze.paddingTop()},ze.paddingTop=function(vt){return arguments.length?(he=typeof vt=="function"?vt:Ve(+vt),ze):he},ze.paddingRight=function(vt){return arguments.length?(Q=typeof vt=="function"?vt:Ve(+vt),ze):Q},ze.paddingBottom=function(vt){return arguments.length?(oe=typeof vt=="function"?vt:Ve(+vt),ze):oe},ze.paddingLeft=function(vt){return arguments.length?(ae=typeof vt=="function"?vt:Ve(+vt),ze):ae},ze}function Ie(we,Pe,Et,O,$){var ge=we.children,he,Q=ge.length,oe,ae=new Array(Q+1);for(ae[0]=oe=he=0;he<Q;++he)ae[he+1]=oe+=ge[he].value;ze(0,Q,we.value,Pe,Et,O,$);function ze(Ot,vt,tn,E,P,X,ye){if(Ot>=vt-1){var ut=ge[Ot];ut.x0=E,ut.y0=P,ut.x1=X,ut.y1=ye;return}for(var bt=ae[Ot],Vt=tn/2+bt,zt=Ot+1,an=vt-1;zt<an;){var Dn=zt+an>>>1;ae[Dn]<Vt?zt=Dn+1:an=Dn}Vt-ae[zt-1]<ae[zt]-Vt&&Ot+1<zt&&--zt;var On=ae[zt]-bt,In=tn-On;if(X-E>ye-P){var Mr=tn?(E*In+X*On)/tn:X;ze(Ot,zt,On,E,P,Mr,ye),ze(zt,vt,In,Mr,P,X,ye)}else{var Dr=tn?(P*In+ye*On)/tn:ye;ze(Ot,zt,On,E,P,X,Dr),ze(zt,vt,In,E,Dr,X,ye)}}}function Ze(we,Pe,Et,O,$){(we.depth&1?bn:Ut)(we,Pe,Et,O,$)}var St=function we(Pe){function Et(O,$,ge,he,Q){if((oe=O._squarify)&&oe.ratio===Pe)for(var oe,ae,ze,Ot,vt=-1,tn,E=oe.length,P=O.value;++vt<E;){for(ae=oe[vt],ze=ae.children,Ot=ae.value=0,tn=ze.length;Ot<tn;++Ot)ae.value+=ze[Ot].value;ae.dice?Ut(ae,$,ge,he,P?ge+=(Q-ge)*ae.value/P:Q):bn(ae,$,ge,P?$+=(he-$)*ae.value/P:he,Q),P-=ae.value}else O._squarify=oe=He(Pe,O,$,ge,he,Q),oe.ratio=Pe}return Et.ratio=function(O){return we((O=+O)>1?O:1)},Et}(zn);function rn(we){e.Transform.call(this,null,we)}rn.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};let Xt=we=>we.values;t.inherits(rn,e.Transform,{transform(we,Pe){Pe.source||t.error("Nest transform requires an upstream data source.");var Et=we.generate,O=we.modified(),$=Pe.clone(),ge=this.value;return(!ge||O||Pe.changed())&&(ge&&ge.each(he=>{he.children&&e.isTuple(he.data)&&$.rem.push(he.data)}),this.value=ge=tt({values:t.array(we.keys).reduce((he,Q)=>(he.key(Q),he),at()).entries($.source)},Xt),Et&&ge.each(he=>{he.children&&(he=e.ingest(he.data),$.add.push(he),$.source.push(he))}),r(ge,e.tupleid,e.tupleid)),$.source.root=ge,$}});function at(){let we=[],Pe={entries:$=>O(Et($,0),0),key:$=>(we.push($),Pe)};function Et($,ge){if(ge>=we.length)return $;let he=$.length,Q=we[ge++],oe={},ae={},ze=-1,Ot,vt,tn;for(;++ze<he;)Ot=Q(vt=$[ze])+"",(tn=oe[Ot])?tn.push(vt):oe[Ot]=[vt];for(Ot in oe)ae[Ot]=Et(oe[Ot],ge);return ae}function O($,ge){if(++ge>we.length)return $;let he=[];for(let Q in $)he.push({key:Q,values:O($[Q],ge)});return he}return Pe}function ne(we){e.Transform.call(this,null,we)}let Se=(we,Pe)=>we.parent===Pe.parent?1:2;t.inherits(ne,e.Transform,{transform(we,Pe){(!Pe.source||!Pe.source.root)&&t.error(this.constructor.name+" transform requires a backing tree data source.");let Et=this.layout(we.method),O=this.fields,$=Pe.source.root,ge=we.as||O;we.field?$.sum(we.field):$.count(),we.sort&&$.sort(e.stableCompare(we.sort,he=>he.data)),Me(Et,this.params,we),Et.separation&&Et.separation(we.separation!==!1?Se:t.one);try{this.value=Et($)}catch(he){t.error(he)}return $.each(he=>ft(he,O,ge)),Pe.reflow(we.modified()).modifies(ge).modifies("leaf")}});function Me(we,Pe,Et){for(let O,$=0,ge=Pe.length;$<ge;++$)O=Pe[$],O in Et&&we[O](Et[O])}function ft(we,Pe,Et){let O=we.data,$=Pe.length-1;for(let ge=0;ge<$;++ge)O[Et[ge]]=we[Pe[ge]];O[Et[$]]=we.children?we.children.length:0}let gt=["x","y","r","depth","children"];function wt(we){ne.call(this,we)}wt.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:gt.length,default:gt}]},t.inherits(wt,ne,{layout:Ae,params:["radius","size","padding"],fields:gt});let ee=["x0","y0","x1","y1","depth","children"];function Ee(we){ne.call(this,we)}Ee.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ee.length,default:ee}]},t.inherits(Ee,ne,{layout:sn,params:["size","round","padding"],fields:ee});function $e(we){e.Transform.call(this,null,we)}$e.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},t.inherits($e,e.Transform,{transform(we,Pe){Pe.source||t.error("Stratify transform requires an upstream data source.");let Et=this.value,O=we.modified(),$=Pe.fork(Pe.ALL).materialize(Pe.SOURCE),ge=!Et||O||Pe.changed(Pe.ADD_REM)||Pe.modified(we.key.fields)||Pe.modified(we.parentKey.fields);return $.source=$.source.slice(),ge&&(Et=$.source.length?r($n().id(we.key).parentId(we.parentKey)($.source),we.key,t.truthy):r($n()([{}]),we.key,we.key)),$.source.root=this.value=Et,$}});let et={tidy:qn,cluster:v},It=["x","y","depth","children"];function Kt(we){ne.call(this,we)}Kt.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:It.length,default:It}]},t.inherits(Kt,ne,{layout(we){let Pe=we||"tidy";if(t.hasOwnProperty(et,Pe))return et[Pe]();t.error("Unrecognized Tree layout method: "+Pe)},params:["size","nodeSize"],fields:It});function mn(we){e.Transform.call(this,[],we)}mn.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},t.inherits(mn,e.Transform,{transform(we,Pe){let Et=this.value,O=Pe.source&&Pe.source.root,$=Pe.fork(Pe.NO_SOURCE),ge={};return O||t.error("TreeLinks transform requires a tree data source."),Pe.changed(Pe.ADD_REM)?($.rem=Et,Pe.visit(Pe.SOURCE,he=>ge[e.tupleid(he)]=1),O.each(he=>{let Q=he.data,oe=he.parent&&he.parent.data;oe&&ge[e.tupleid(Q)]&&ge[e.tupleid(oe)]&&$.add.push(e.ingest({source:oe,target:Q}))}),this.value=$.add):Pe.changed(Pe.MOD)&&(Pe.visit(Pe.MOD,he=>ge[e.tupleid(he)]=1),Et.forEach(he=>{(ge[e.tupleid(he.source)]||ge[e.tupleid(he.target)])&&$.mod.push(he)})),$}});let fn={binary:Ie,dice:Ut,slice:bn,slicedice:Ze,squarify:ht,resquarify:St},dn=["x0","y0","x1","y1","depth","children"];function Rn(we){ne.call(this,we)}Rn.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:dn.length,default:dn}]},t.inherits(Rn,ne,{layout(){let we=se();return we.ratio=Pe=>{let Et=we.tile();Et.ratio&&we.tile(Et.ratio(Pe))},we.method=Pe=>{t.hasOwnProperty(fn,Pe)?we.tile(fn[Pe]):t.error("Unrecognized Treemap layout method: "+Pe)},we},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:dn}),n.nest=rn,n.pack=wt,n.partition=Ee,n.stratify=$e,n.tree=Kt,n.treelinks=mn,n.treemap=Rn,Object.defineProperty(n,"__esModule",{value:!0})})});var wPe=G((XH,CPe)=>{d();(function(n,e){typeof XH=="object"&&typeof CPe!="undefined"?e(XH,t9(),kO(),qc(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(XH,function(n,e,t,r,i){"use strict";let s=4278190080;function o(Rt,Gt){let xt=Rt.bitmap();return(Gt||[]).forEach(ve=>xt.set(Rt(ve.boundary[0]),Rt(ve.boundary[3]))),[xt,void 0]}function a(Rt,Gt,xt,ve,Oe){let xe=Rt.width,le=Rt.height,Ye=ve||Oe,Ve=t.canvas(xe,le).getContext("2d"),te=t.canvas(xe,le).getContext("2d"),Ae=Ye&&t.canvas(xe,le).getContext("2d");xt.forEach(Fe=>f(Ve,Fe,!1)),f(te,Gt,!1),Ye&&f(Ae,Gt,!0);let Xe=l(Ve,xe,le),ot=l(te,xe,le),Ct=Ye&&l(Ae,xe,le),$t=Rt.bitmap(),Ut=Ye&&Rt.bitmap(),sn,ln,cn,Ft,nn,An,$n,Cn;for(ln=0;ln<le;++ln)for(sn=0;sn<xe;++sn)nn=ln*xe+sn,An=Xe[nn]&s,Cn=ot[nn]&s,$n=Ye&&Ct[nn]&s,(An||$n||Cn)&&(cn=Rt(sn),Ft=Rt(ln),!Oe&&(An||Cn)&&$t.set(cn,Ft),Ye&&(An||$n)&&Ut.set(cn,Ft));return[$t,Ut]}function l(Rt,Gt,xt){return new Uint32Array(Rt.getImageData(0,0,Gt,xt).data.buffer)}function f(Rt,Gt,xt){if(!Gt.length)return;let ve=Gt[0].mark.marktype;ve==="group"?Gt.forEach(Oe=>{Oe.items.forEach(xe=>f(Rt,xe.items,xt))}):e.Marks[ve].draw(Rt,{items:xt?Gt.map(p):Gt})}function p(Rt){let Gt=r.rederive(Rt,{});return Gt.stroke&&Gt.strokeOpacity!==0||Gt.fill&&Gt.fillOpacity!==0?{...Gt,strokeOpacity:1,stroke:"#000",fillOpacity:0}:Gt}let v=5,b=31,F=32,D=new Uint32Array(F+1),M=new Uint32Array(F+1);M[0]=0,D[0]=~M[0];for(let Rt=1;Rt<=F;++Rt)M[Rt]=M[Rt-1]<<1|1,D[Rt]=~M[Rt];function q(Rt,Gt){let xt=new Uint32Array(~~((Rt*Gt+F)/F));function ve(xe,le){xt[xe]|=le}function Oe(xe,le){xt[xe]&=le}return{array:xt,get:(xe,le)=>{let Ye=le*Rt+xe;return xt[Ye>>>v]&1<<(Ye&b)},set:(xe,le)=>{let Ye=le*Rt+xe;ve(Ye>>>v,1<<(Ye&b))},clear:(xe,le)=>{let Ye=le*Rt+xe;Oe(Ye>>>v,~(1<<(Ye&b)))},getRange:(xe,le,Ye,Ve)=>{let te=Ve,Ae,Xe,ot,Ct;for(;te>=le;--te)if(Ae=te*Rt+xe,Xe=te*Rt+Ye,ot=Ae>>>v,Ct=Xe>>>v,ot===Ct){if(xt[ot]&D[Ae&b]&M[(Xe&b)+1])return!0}else{if(xt[ot]&D[Ae&b]||xt[Ct]&M[(Xe&b)+1])return!0;for(let $t=ot+1;$t<Ct;++$t)if(xt[$t])return!0}return!1},setRange:(xe,le,Ye,Ve)=>{let te,Ae,Xe,ot,Ct;for(;le<=Ve;++le)if(te=le*Rt+xe,Ae=le*Rt+Ye,Xe=te>>>v,ot=Ae>>>v,Xe===ot)ve(Xe,D[te&b]&M[(Ae&b)+1]);else for(ve(Xe,D[te&b]),ve(ot,M[(Ae&b)+1]),Ct=Xe+1;Ct<ot;++Ct)ve(Ct,4294967295)},clearRange:(xe,le,Ye,Ve)=>{let te,Ae,Xe,ot,Ct;for(;le<=Ve;++le)if(te=le*Rt+xe,Ae=le*Rt+Ye,Xe=te>>>v,ot=Ae>>>v,Xe===ot)Oe(Xe,M[te&b]|D[(Ae&b)+1]);else for(Oe(Xe,M[te&b]),Oe(ot,D[(Ae&b)+1]),Ct=Xe+1;Ct<ot;++Ct)Oe(Ct,0)},outOfBounds:(xe,le,Ye,Ve)=>xe<0||le<0||Ve>=Gt||Ye>=Rt}}function N(Rt,Gt,xt){let ve=Math.max(1,Math.sqrt(Rt*Gt/1e6)),Oe=~~((Rt+2*xt+ve)/ve),xe=~~((Gt+2*xt+ve)/ve),le=Ye=>~~((Ye+xt)/ve);return le.invert=Ye=>Ye*ve-xt,le.bitmap=()=>q(Oe,xe),le.ratio=ve,le.padding=xt,le.width=Rt,le.height=Gt,le}function B(Rt,Gt,xt,ve){let Oe=Rt.width,xe=Rt.height;return function(le){let Ye=le.datum.datum.items[ve].items,Ve=Ye.length,te=le.datum.fontSize,Ae=e.textMetrics.width(le.datum,le.datum.text),Xe=0,ot,Ct,$t,Ut,sn,ln,cn;for(let Ft=0;Ft<Ve;++Ft)ot=Ye[Ft].x,$t=Ye[Ft].y,Ct=Ye[Ft].x2===void 0?ot:Ye[Ft].x2,Ut=Ye[Ft].y2===void 0?$t:Ye[Ft].y2,sn=(ot+Ct)/2,ln=($t+Ut)/2,cn=Math.abs(Ct-ot+Ut-$t),cn>=Xe&&(Xe=cn,le.x=sn,le.y=ln);return sn=Ae/2,ln=te/2,ot=le.x-sn,Ct=le.x+sn,$t=le.y-ln,Ut=le.y+ln,le.align="center",ot<0&&Ct<=Oe?le.align="left":0<=ot&&Oe<Ct&&(le.align="right"),le.baseline="middle",$t<0&&Ut<=xe?le.baseline="top":0<=$t&&xe<Ut&&(le.baseline="bottom"),!0}}function I(Rt,Gt,xt,ve,Oe,xe){let le=xt/2;return Rt-le<0||Rt+le>Oe||Gt-(le=ve/2)<0||Gt+le>xe}function z(Rt,Gt,xt,ve,Oe,xe,le,Ye){let Ve=Oe*xe/(ve*2),te=Rt(Gt-Ve),Ae=Rt(Gt+Ve),Xe=Rt(xt-(xe=xe/2)),ot=Rt(xt+xe);return le.outOfBounds(te,Xe,Ae,ot)||le.getRange(te,Xe,Ae,ot)||Ye&&Ye.getRange(te,Xe,Ae,ot)}function ie(Rt,Gt,xt,ve){let Oe=Rt.width,xe=Rt.height,le=Gt[0],Ye=Gt[1];function Ve(te,Ae,Xe,ot,Ct){let $t=Rt.invert(te),Ut=Rt.invert(Ae),sn=Xe,ln=xe,cn;if(!I($t,Ut,ot,Ct,Oe,xe)&&!z(Rt,$t,Ut,Ct,ot,sn,le,Ye)&&!z(Rt,$t,Ut,Ct,ot,Ct,le,null)){for(;ln-sn>=1;)cn=(sn+ln)/2,z(Rt,$t,Ut,Ct,ot,cn,le,Ye)?ln=cn:sn=cn;if(sn>Xe)return[$t,Ut,sn,!0]}}return function(te){let Ae=te.datum.datum.items[ve].items,Xe=Ae.length,ot=te.datum.fontSize,Ct=e.textMetrics.width(te.datum,te.datum.text),$t=xt?ot:0,Ut=!1,sn=!1,ln=0,cn,Ft,nn,An,$n,Cn,Fe,qe,Ce,Dt,lt,ct,Yt,qt,gn,kn,qn;for(let bn=0;bn<Xe;++bn){for(cn=Ae[bn].x,nn=Ae[bn].y,Ft=Ae[bn].x2===void 0?cn:Ae[bn].x2,An=Ae[bn].y2===void 0?nn:Ae[bn].y2,cn>Ft&&(qn=cn,cn=Ft,Ft=qn),nn>An&&(qn=nn,nn=An,An=qn),Ce=Rt(cn),lt=Rt(Ft),Dt=~~((Ce+lt)/2),ct=Rt(nn),qt=Rt(An),Yt=~~((ct+qt)/2),Fe=Dt;Fe>=Ce;--Fe)for(qe=Yt;qe>=ct;--qe)kn=Ve(Fe,qe,$t,Ct,ot),kn&&([te.x,te.y,$t,Ut]=kn);for(Fe=Dt;Fe<=lt;++Fe)for(qe=Yt;qe<=qt;++qe)kn=Ve(Fe,qe,$t,Ct,ot),kn&&([te.x,te.y,$t,Ut]=kn);!Ut&&!xt&&(gn=Math.abs(Ft-cn+An-nn),$n=(cn+Ft)/2,Cn=(nn+An)/2,gn>=ln&&!I($n,Cn,Ct,ot,Oe,xe)&&!z(Rt,$n,Cn,ot,Ct,ot,le,null)&&(ln=gn,te.x=$n,te.y=Cn,sn=!0))}return Ut||sn?($n=Ct/2,Cn=ot/2,le.setRange(Rt(te.x-$n),Rt(te.y-Cn),Rt(te.x+$n),Rt(te.y+Cn)),te.align="center",te.baseline="middle",!0):!1}}let L=[-1,-1,1,1],Y=[-1,1,-1,1];function fe(Rt,Gt,xt,ve){let Oe=Rt.width,xe=Rt.height,le=Gt[0],Ye=Gt[1],Ve=Rt.bitmap();return function(te){let Ae=te.datum.datum.items[ve].items,Xe=Ae.length,ot=te.datum.fontSize,Ct=e.textMetrics.width(te.datum,te.datum.text),$t=[],Ut=xt?ot:0,sn=!1,ln=!1,cn=0,Ft,nn,An,$n,Cn,Fe,qe,Ce,Dt,lt,ct,Yt;for(let qt=0;qt<Xe;++qt){for(Ft=Ae[qt].x,An=Ae[qt].y,nn=Ae[qt].x2===void 0?Ft:Ae[qt].x2,$n=Ae[qt].y2===void 0?An:Ae[qt].y2,$t.push([Rt((Ft+nn)/2),Rt((An+$n)/2)]);$t.length;)if([qe,Ce]=$t.pop(),!(le.get(qe,Ce)||Ye.get(qe,Ce)||Ve.get(qe,Ce))){Ve.set(qe,Ce);for(let gn=0;gn<4;++gn)Cn=qe+L[gn],Fe=Ce+Y[gn],Ve.outOfBounds(Cn,Fe,Cn,Fe)||$t.push([Cn,Fe]);if(Cn=Rt.invert(qe),Fe=Rt.invert(Ce),Dt=Ut,lt=xe,!I(Cn,Fe,Ct,ot,Oe,xe)&&!z(Rt,Cn,Fe,ot,Ct,Dt,le,Ye)&&!z(Rt,Cn,Fe,ot,Ct,ot,le,null)){for(;lt-Dt>=1;)ct=(Dt+lt)/2,z(Rt,Cn,Fe,ot,Ct,ct,le,Ye)?lt=ct:Dt=ct;Dt>Ut&&(te.x=Cn,te.y=Fe,Ut=Dt,sn=!0)}}!sn&&!xt&&(Yt=Math.abs(nn-Ft+$n-An),Cn=(Ft+nn)/2,Fe=(An+$n)/2,Yt>=cn&&!I(Cn,Fe,Ct,ot,Oe,xe)&&!z(Rt,Cn,Fe,ot,Ct,ot,le,null)&&(cn=Yt,te.x=Cn,te.y=Fe,ln=!0))}return sn||ln?(Cn=Ct/2,Fe=ot/2,le.setRange(Rt(te.x-Cn),Rt(te.y-Fe),Rt(te.x+Cn),Rt(te.y+Fe)),te.align="center",te.baseline="middle",!0):!1}}let me=["right","center","left"],Be=["bottom","middle","top"];function tt(Rt,Gt,xt,ve){let Oe=Rt.width,xe=Rt.height,le=Gt[0],Ye=Gt[1],Ve=ve.length;return function(te){let Ae=te.boundary,Xe=te.datum.fontSize;if(Ae[2]<0||Ae[5]<0||Ae[0]>Oe||Ae[3]>xe)return!1;let ot=te.textWidth??0,Ct,$t,Ut,sn,ln,cn,Ft,nn,An,$n,Cn,Fe,qe,Ce,Dt;for(let lt=0;lt<Ve;++lt){if(Ct=(xt[lt]&3)-1,$t=(xt[lt]>>>2&3)-1,Ut=Ct===0&&$t===0||ve[lt]<0,sn=Ct&&$t?Math.SQRT1_2:1,ln=ve[lt]<0?-1:1,cn=Ae[1+Ct]+ve[lt]*Ct*sn,Cn=Ae[4+$t]+ln*Xe*$t/2+ve[lt]*$t*sn,nn=Cn-Xe/2,An=Cn+Xe/2,Fe=Rt(cn),Ce=Rt(nn),Dt=Rt(An),!ot)if(st(Fe,Fe,Ce,Dt,le,Ye,cn,cn,nn,An,Ae,Ut))ot=e.textMetrics.width(te.datum,te.datum.text);else continue;if($n=cn+ln*ot*Ct/2,cn=$n-ot/2,Ft=$n+ot/2,Fe=Rt(cn),qe=Rt(Ft),st(Fe,qe,Ce,Dt,le,Ye,cn,Ft,nn,An,Ae,Ut))return te.x=Ct?Ct*ln<0?Ft:cn:$n,te.y=$t?$t*ln<0?An:nn:Cn,te.align=me[Ct*ln+1],te.baseline=Be[$t*ln+1],le.setRange(Fe,Ce,qe,Dt),!0}return!1}}function st(Rt,Gt,xt,ve,Oe,xe,le,Ye,Ve,te,Ae,Xe){return!(Oe.outOfBounds(Rt,xt,Gt,ve)||(Xe&&xe||Oe).getRange(Rt,xt,Gt,ve))}let Qe=0,mt=4,Lt=8,je=0,Z=1,Ke=2,_e={"top-left":Qe+je,top:Qe+Z,"top-right":Qe+Ke,left:mt+je,middle:mt+Z,right:mt+Ke,"bottom-left":Lt+je,bottom:Lt+Z,"bottom-right":Lt+Ke},De={naive:B,"reduced-search":ie,floodfill:fe};function be(Rt,Gt,xt,ve,Oe,xe,le,Ye,Ve,te,Ae){if(!Rt.length)return Rt;let Xe=Math.max(ve.length,Oe.length),ot=de(ve,Xe),Ct=Ge(Oe,Xe),$t=rt(Rt[0].datum),Ut=$t==="group"&&Rt[0].datum.items[Ve].marktype,sn=Ut==="area",ln=Bt($t,Ut,Ye,Ve),cn=te===null||te===1/0,Ft=sn&&Ae==="naive",nn=-1,An=-1,$n=Rt.map(Ce=>{let Dt=cn?e.textMetrics.width(Ce,Ce.text):void 0;return nn=Math.max(nn,Dt),An=Math.max(An,Ce.fontSize),{datum:Ce,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:ln(Ce),textWidth:Dt}});te=te===null||te===1/0?Math.max(nn,An)+Math.max(...ve):te;let Cn=N(Gt[0],Gt[1],te),Fe;if(!Ft){xt&&$n.sort((lt,ct)=>xt(lt.datum,ct.datum));let Ce=!1;for(let lt=0;lt<Ct.length&&!Ce;++lt)Ce=Ct[lt]===5||ot[lt]<0;let Dt=($t&&le||sn)&&Rt.map(lt=>lt.datum);Fe=xe.length||Dt?a(Cn,Dt||[],xe,Ce,sn):o(Cn,le&&$n)}let qe=sn?De[Ae](Cn,Fe,le,Ve):tt(Cn,Fe,Ct,ot);return $n.forEach(Ce=>Ce.opacity=+qe(Ce)),$n}function de(Rt,Gt){let xt=new Float64Array(Gt),ve=Rt.length;for(let Oe=0;Oe<ve;++Oe)xt[Oe]=Rt[Oe]||0;for(let Oe=ve;Oe<Gt;++Oe)xt[Oe]=xt[ve-1];return xt}function Ge(Rt,Gt){let xt=new Int8Array(Gt),ve=Rt.length;for(let Oe=0;Oe<ve;++Oe)xt[Oe]|=_e[Rt[Oe]];for(let Oe=ve;Oe<Gt;++Oe)xt[Oe]=xt[ve-1];return xt}function rt(Rt){return Rt&&Rt.mark&&Rt.mark.marktype}function Bt(Rt,Gt,xt,ve){let Oe=xe=>[xe.x,xe.x,xe.x,xe.y,xe.y,xe.y];return Rt?Rt==="line"||Rt==="area"?xe=>Oe(xe.datum):Gt==="line"?xe=>{let le=xe.datum.items[ve].items;return Oe(le.length?le[xt==="start"?0:le.length-1]:{x:NaN,y:NaN})}:xe=>{let le=xe.datum.bounds;return[le.x1,(le.x1+le.x2)/2,le.x2,le.y1,(le.y1+le.y2)/2,le.y2]}:Oe}let _t=["x","y","opacity","align","baseline"],un=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Tt(Rt){r.Transform.call(this,null,Rt)}Tt.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:un},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:_t.length,default:_t}]},i.inherits(Tt,r.Transform,{transform(Rt,Gt){function xt(xe){let le=Rt[xe];return i.isFunction(le)&&Gt.modified(le.fields)}let ve=Rt.modified();if(!(ve||Gt.changed(Gt.ADD_REM)||xt("sort")))return;(!Rt.size||Rt.size.length!==2)&&i.error("Size parameter should be specified as a [width, height] array.");let Oe=Rt.as||_t;return be(Gt.materialize(Gt.SOURCE).source||[],Rt.size,Rt.sort,i.array(Rt.offset==null?1:Rt.offset),i.array(Rt.anchor||un),Rt.avoidMarks||[],Rt.avoidBaseMark!==!1,Rt.lineAnchor||"end",Rt.markIndex||0,Rt.padding===void 0?0:Rt.padding,Rt.method||"naive").forEach(xe=>{let le=xe.datum;le[Oe[0]]=xe.x,le[Oe[1]]=xe.y,le[Oe[2]]=xe.opacity,le[Oe[3]]=xe.align,le[Oe[4]]=xe.baseline}),Gt.reflow(ve).modifies(Oe)}}),n.label=Tt,Object.defineProperty(n,"__esModule",{value:!0})})});var TPe=G((ZH,APe)=>{d();(function(n,e){typeof ZH=="object"&&typeof APe!="undefined"?e(ZH,q6(),qc(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(ZH,function(n,e,t,r){"use strict";function i(f,p){var v=[],b=function(I){return I(q)},F,D,M,q,N,B;if(p==null)v.push(f);else for(F={},D=0,M=f.length;D<M;++D)q=f[D],N=p.map(b),B=F[N],B||(F[N]=B=[],B.dims=N,v.push(B)),B.push(q);return v}function s(f){t.Transform.call(this,null,f)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},r.inherits(s,t.Transform,{transform(f,p){let v=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let b=p.materialize(p.SOURCE).source,F=i(b,f.groupby),D=(f.groupby||[]).map(r.accessorName),M=D.length,q=f.as||[r.accessorName(f.x),r.accessorName(f.y)],N=[];F.forEach(B=>{e.regressionLoess(B,f.x,f.y,f.bandwidth||.3).forEach(I=>{let z={};for(let ie=0;ie<M;++ie)z[D[ie]]=B.dims[ie];z[q[0]]=I[0],z[q[1]]=I[1],N.push(t.ingest(z))})}),this.value&&(v.rem=this.value),this.value=v.add=v.source=N}return v}});let o={linear:e.regressionLinear,log:e.regressionLog,exp:e.regressionExp,pow:e.regressionPow,quad:e.regressionQuad,poly:e.regressionPoly},a=(f,p)=>f==="poly"?p:f==="quad"?2:1;function l(f){t.Transform.call(this,null,f)}l.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},r.inherits(l,t.Transform,{transform(f,p){let v=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let b=p.materialize(p.SOURCE).source,F=i(b,f.groupby),D=(f.groupby||[]).map(r.accessorName),M=f.method||"linear",q=f.order||3,N=a(M,q),B=f.as||[r.accessorName(f.x),r.accessorName(f.y)],I=o[M],z=[],ie=f.extent;r.hasOwnProperty(o,M)||r.error("Invalid regression method: "+M),ie!=null&&M==="log"&&ie[0]<=0&&(p.dataflow.warn("Ignoring extent with values <= 0 for log regression."),ie=null),F.forEach(L=>{if(L.length<=N){p.dataflow.warn("Skipping regression with more parameters than data points.");return}let fe=I(L,f.x,f.y,q);if(f.params){z.push(t.ingest({keys:L.dims,coef:fe.coef,rSquared:fe.rSquared}));return}let me=ie||r.extent(L,f.x),Be=tt=>{let st={};for(let Qe=0;Qe<D.length;++Qe)st[D[Qe]]=L.dims[Qe];st[B[0]]=tt[0],st[B[1]]=tt[1],z.push(t.ingest(st))};M==="linear"?me.forEach(tt=>Be([tt,fe.predict(tt)])):e.sampleCurve(fe.predict,me,25,200).forEach(Be)}),this.value&&(v.rem=this.value),this.value=v.add=v.source=z}return v}}),n.loess=s,n.regression=l,Object.defineProperty(n,"__esModule",{value:!0})})});var DPe=G((eV,FPe)=>{d();(function(n,e){typeof eV=="object"&&typeof FPe!="undefined"?e(eV,qc(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(eV,function(n,e,t){"use strict";let r=11102230246251565e-32,i=134217729,s=(3+8*r)*r;function o(xt,ve,Oe,xe,le){let Ye,Ve,te,Ae,Xe=ve[0],ot=xe[0],Ct=0,$t=0;ot>Xe==ot>-Xe?(Ye=Xe,Xe=ve[++Ct]):(Ye=ot,ot=xe[++$t]);let Ut=0;if(Ct<xt&&$t<Oe)for(ot>Xe==ot>-Xe?(Ve=Xe+Ye,te=Ye-(Ve-Xe),Xe=ve[++Ct]):(Ve=ot+Ye,te=Ye-(Ve-ot),ot=xe[++$t]),Ye=Ve,te!==0&&(le[Ut++]=te);Ct<xt&&$t<Oe;)ot>Xe==ot>-Xe?(Ve=Ye+Xe,Ae=Ve-Ye,te=Ye-(Ve-Ae)+(Xe-Ae),Xe=ve[++Ct]):(Ve=Ye+ot,Ae=Ve-Ye,te=Ye-(Ve-Ae)+(ot-Ae),ot=xe[++$t]),Ye=Ve,te!==0&&(le[Ut++]=te);for(;Ct<xt;)Ve=Ye+Xe,Ae=Ve-Ye,te=Ye-(Ve-Ae)+(Xe-Ae),Xe=ve[++Ct],Ye=Ve,te!==0&&(le[Ut++]=te);for(;$t<Oe;)Ve=Ye+ot,Ae=Ve-Ye,te=Ye-(Ve-Ae)+(ot-Ae),ot=xe[++$t],Ye=Ve,te!==0&&(le[Ut++]=te);return(Ye!==0||Ut===0)&&(le[Ut++]=Ye),Ut}function a(xt,ve){let Oe=ve[0];for(let xe=1;xe<xt;xe++)Oe+=ve[xe];return Oe}function l(xt){return new Float64Array(xt)}let f=(3+16*r)*r,p=(2+12*r)*r,v=(9+64*r)*r*r,b=l(4),F=l(8),D=l(12),M=l(16),q=l(4);function N(xt,ve,Oe,xe,le,Ye,Ve){let te,Ae,Xe,ot,Ct,$t,Ut,sn,ln,cn,Ft,nn,An,$n,Cn,Fe,qe,Ce,Dt=xt-le,lt=Oe-le,ct=ve-Ye,Yt=xe-Ye;$n=Dt*Yt,$t=i*Dt,Ut=$t-($t-Dt),sn=Dt-Ut,$t=i*Yt,ln=$t-($t-Yt),cn=Yt-ln,Cn=sn*cn-($n-Ut*ln-sn*ln-Ut*cn),Fe=ct*lt,$t=i*ct,Ut=$t-($t-ct),sn=ct-Ut,$t=i*lt,ln=$t-($t-lt),cn=lt-ln,qe=sn*cn-(Fe-Ut*ln-sn*ln-Ut*cn),Ft=Cn-qe,Ct=Cn-Ft,b[0]=Cn-(Ft+Ct)+(Ct-qe),nn=$n+Ft,Ct=nn-$n,An=$n-(nn-Ct)+(Ft-Ct),Ft=An-Fe,Ct=An-Ft,b[1]=An-(Ft+Ct)+(Ct-Fe),Ce=nn+Ft,Ct=Ce-nn,b[2]=nn-(Ce-Ct)+(Ft-Ct),b[3]=Ce;let qt=a(4,b),gn=p*Ve;if(qt>=gn||-qt>=gn||(Ct=xt-Dt,te=xt-(Dt+Ct)+(Ct-le),Ct=Oe-lt,Xe=Oe-(lt+Ct)+(Ct-le),Ct=ve-ct,Ae=ve-(ct+Ct)+(Ct-Ye),Ct=xe-Yt,ot=xe-(Yt+Ct)+(Ct-Ye),te===0&&Ae===0&&Xe===0&&ot===0)||(gn=v*Ve+s*Math.abs(qt),qt+=Dt*ot+Yt*te-(ct*Xe+lt*Ae),qt>=gn||-qt>=gn))return qt;$n=te*Yt,$t=i*te,Ut=$t-($t-te),sn=te-Ut,$t=i*Yt,ln=$t-($t-Yt),cn=Yt-ln,Cn=sn*cn-($n-Ut*ln-sn*ln-Ut*cn),Fe=Ae*lt,$t=i*Ae,Ut=$t-($t-Ae),sn=Ae-Ut,$t=i*lt,ln=$t-($t-lt),cn=lt-ln,qe=sn*cn-(Fe-Ut*ln-sn*ln-Ut*cn),Ft=Cn-qe,Ct=Cn-Ft,q[0]=Cn-(Ft+Ct)+(Ct-qe),nn=$n+Ft,Ct=nn-$n,An=$n-(nn-Ct)+(Ft-Ct),Ft=An-Fe,Ct=An-Ft,q[1]=An-(Ft+Ct)+(Ct-Fe),Ce=nn+Ft,Ct=Ce-nn,q[2]=nn-(Ce-Ct)+(Ft-Ct),q[3]=Ce;let kn=o(4,b,4,q,F);$n=Dt*ot,$t=i*Dt,Ut=$t-($t-Dt),sn=Dt-Ut,$t=i*ot,ln=$t-($t-ot),cn=ot-ln,Cn=sn*cn-($n-Ut*ln-sn*ln-Ut*cn),Fe=ct*Xe,$t=i*ct,Ut=$t-($t-ct),sn=ct-Ut,$t=i*Xe,ln=$t-($t-Xe),cn=Xe-ln,qe=sn*cn-(Fe-Ut*ln-sn*ln-Ut*cn),Ft=Cn-qe,Ct=Cn-Ft,q[0]=Cn-(Ft+Ct)+(Ct-qe),nn=$n+Ft,Ct=nn-$n,An=$n-(nn-Ct)+(Ft-Ct),Ft=An-Fe,Ct=An-Ft,q[1]=An-(Ft+Ct)+(Ct-Fe),Ce=nn+Ft,Ct=Ce-nn,q[2]=nn-(Ce-Ct)+(Ft-Ct),q[3]=Ce;let qn=o(kn,F,4,q,D);$n=te*ot,$t=i*te,Ut=$t-($t-te),sn=te-Ut,$t=i*ot,ln=$t-($t-ot),cn=ot-ln,Cn=sn*cn-($n-Ut*ln-sn*ln-Ut*cn),Fe=Ae*Xe,$t=i*Ae,Ut=$t-($t-Ae),sn=Ae-Ut,$t=i*Xe,ln=$t-($t-Xe),cn=Xe-ln,qe=sn*cn-(Fe-Ut*ln-sn*ln-Ut*cn),Ft=Cn-qe,Ct=Cn-Ft,q[0]=Cn-(Ft+Ct)+(Ct-qe),nn=$n+Ft,Ct=nn-$n,An=$n-(nn-Ct)+(Ft-Ct),Ft=An-Fe,Ct=An-Ft,q[1]=An-(Ft+Ct)+(Ct-Fe),Ce=nn+Ft,Ct=Ce-nn,q[2]=nn-(Ce-Ct)+(Ft-Ct),q[3]=Ce;let bn=o(qn,D,4,q,M);return M[bn-1]}function B(xt,ve,Oe,xe,le,Ye){let Ve=(ve-Ye)*(Oe-le),te=(xt-le)*(xe-Ye),Ae=Ve-te;if(Ve===0||te===0||Ve>0!=te>0)return Ae;let Xe=Math.abs(Ve+te);return Math.abs(Ae)>=f*Xe?Ae:-N(xt,ve,Oe,xe,le,Ye,Xe)}let I=Math.pow(2,-52),z=new Uint32Array(512);class ie{static from(ve,Oe=Qe,xe=mt){let le=ve.length,Ye=new Float64Array(le*2);for(let Ve=0;Ve<le;Ve++){let te=ve[Ve];Ye[2*Ve]=Oe(te),Ye[2*Ve+1]=xe(te)}return new ie(Ye)}constructor(ve){let Oe=ve.length>>1;if(Oe>0&&typeof ve[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=ve;let xe=Math.max(2*Oe-5,0);this._triangles=new Uint32Array(xe*3),this._halfedges=new Int32Array(xe*3),this._hashSize=Math.ceil(Math.sqrt(Oe)),this._hullPrev=new Uint32Array(Oe),this._hullNext=new Uint32Array(Oe),this._hullTri=new Uint32Array(Oe),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(Oe),this._dists=new Float64Array(Oe),this.update()}update(){let{coords:ve,_hullPrev:Oe,_hullNext:xe,_hullTri:le,_hullHash:Ye}=this,Ve=ve.length>>1,te=1/0,Ae=1/0,Xe=-1/0,ot=-1/0;for(let lt=0;lt<Ve;lt++){let ct=ve[2*lt],Yt=ve[2*lt+1];ct<te&&(te=ct),Yt<Ae&&(Ae=Yt),ct>Xe&&(Xe=ct),Yt>ot&&(ot=Yt),this._ids[lt]=lt}let Ct=(te+Xe)/2,$t=(Ae+ot)/2,Ut=1/0,sn,ln,cn;for(let lt=0;lt<Ve;lt++){let ct=Y(Ct,$t,ve[2*lt],ve[2*lt+1]);ct<Ut&&(sn=lt,Ut=ct)}let Ft=ve[2*sn],nn=ve[2*sn+1];Ut=1/0;for(let lt=0;lt<Ve;lt++){if(lt===sn)continue;let ct=Y(Ft,nn,ve[2*lt],ve[2*lt+1]);ct<Ut&&ct>0&&(ln=lt,Ut=ct)}let An=ve[2*ln],$n=ve[2*ln+1],Cn=1/0;for(let lt=0;lt<Ve;lt++){if(lt===sn||lt===ln)continue;let ct=me(Ft,nn,An,$n,ve[2*lt],ve[2*lt+1]);ct<Cn&&(cn=lt,Cn=ct)}let Fe=ve[2*cn],qe=ve[2*cn+1];if(Cn===1/0){for(let Yt=0;Yt<Ve;Yt++)this._dists[Yt]=ve[2*Yt]-ve[0]||ve[2*Yt+1]-ve[1];tt(this._ids,this._dists,0,Ve-1);let lt=new Uint32Array(Ve),ct=0;for(let Yt=0,qt=-1/0;Yt<Ve;Yt++){let gn=this._ids[Yt];this._dists[gn]>qt&&(lt[ct++]=gn,qt=this._dists[gn])}this.hull=lt.subarray(0,ct),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(B(Ft,nn,An,$n,Fe,qe)<0){let lt=ln,ct=An,Yt=$n;ln=cn,An=Fe,$n=qe,cn=lt,Fe=ct,qe=Yt}let Ce=Be(Ft,nn,An,$n,Fe,qe);this._cx=Ce.x,this._cy=Ce.y;for(let lt=0;lt<Ve;lt++)this._dists[lt]=Y(ve[2*lt],ve[2*lt+1],Ce.x,Ce.y);tt(this._ids,this._dists,0,Ve-1),this._hullStart=sn;let Dt=3;xe[sn]=Oe[cn]=ln,xe[ln]=Oe[sn]=cn,xe[cn]=Oe[ln]=sn,le[sn]=0,le[ln]=1,le[cn]=2,Ye.fill(-1),Ye[this._hashKey(Ft,nn)]=sn,Ye[this._hashKey(An,$n)]=ln,Ye[this._hashKey(Fe,qe)]=cn,this.trianglesLen=0,this._addTriangle(sn,ln,cn,-1,-1,-1);for(let lt=0,ct,Yt;lt<this._ids.length;lt++){let qt=this._ids[lt],gn=ve[2*qt],kn=ve[2*qt+1];if(lt>0&&Math.abs(gn-ct)<=I&&Math.abs(kn-Yt)<=I||(ct=gn,Yt=kn,qt===sn||qt===ln||qt===cn))continue;let qn=0;for(let se=0,Ie=this._hashKey(gn,kn);se<this._hashSize&&(qn=Ye[(Ie+se)%this._hashSize],!(qn!==-1&&qn!==xe[qn]));se++);qn=Oe[qn];let bn=qn,zn;for(;zn=xe[bn],B(gn,kn,ve[2*bn],ve[2*bn+1],ve[2*zn],ve[2*zn+1])>=0;)if(bn=zn,bn===qn){bn=-1;break}if(bn===-1)continue;let He=this._addTriangle(bn,qt,xe[bn],-1,-1,le[bn]);le[qt]=this._legalize(He+2),le[bn]=He,Dt++;let ht=xe[bn];for(;zn=xe[ht],B(gn,kn,ve[2*ht],ve[2*ht+1],ve[2*zn],ve[2*zn+1])<0;)He=this._addTriangle(ht,qt,zn,le[qt],-1,le[ht]),le[qt]=this._legalize(He+2),xe[ht]=ht,Dt--,ht=zn;if(bn===qn)for(;zn=Oe[bn],B(gn,kn,ve[2*zn],ve[2*zn+1],ve[2*bn],ve[2*bn+1])<0;)He=this._addTriangle(zn,qt,bn,-1,le[bn],le[zn]),this._legalize(He+2),le[zn]=He,xe[bn]=bn,Dt--,bn=zn;this._hullStart=Oe[qt]=bn,xe[bn]=Oe[ht]=qt,xe[qt]=ht,Ye[this._hashKey(gn,kn)]=qt,Ye[this._hashKey(ve[2*bn],ve[2*bn+1])]=bn}this.hull=new Uint32Array(Dt);for(let lt=0,ct=this._hullStart;lt<Dt;lt++)this.hull[lt]=ct,ct=xe[ct];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(ve,Oe){return Math.floor(L(ve-this._cx,Oe-this._cy)*this._hashSize)%this._hashSize}_legalize(ve){let{_triangles:Oe,_halfedges:xe,coords:le}=this,Ye=0,Ve=0;for(;;){let te=xe[ve],Ae=ve-ve%3;if(Ve=Ae+(ve+2)%3,te===-1){if(Ye===0)break;ve=z[--Ye];continue}let Xe=te-te%3,ot=Ae+(ve+1)%3,Ct=Xe+(te+2)%3,$t=Oe[Ve],Ut=Oe[ve],sn=Oe[ot],ln=Oe[Ct];if(fe(le[2*$t],le[2*$t+1],le[2*Ut],le[2*Ut+1],le[2*sn],le[2*sn+1],le[2*ln],le[2*ln+1])){Oe[ve]=ln,Oe[te]=$t;let Ft=xe[Ct];if(Ft===-1){let An=this._hullStart;do{if(this._hullTri[An]===Ct){this._hullTri[An]=ve;break}An=this._hullPrev[An]}while(An!==this._hullStart)}this._link(ve,Ft),this._link(te,xe[Ve]),this._link(Ve,Ct);let nn=Xe+(te+1)%3;Ye<z.length&&(z[Ye++]=nn)}else{if(Ye===0)break;ve=z[--Ye]}}return Ve}_link(ve,Oe){this._halfedges[ve]=Oe,Oe!==-1&&(this._halfedges[Oe]=ve)}_addTriangle(ve,Oe,xe,le,Ye,Ve){let te=this.trianglesLen;return this._triangles[te]=ve,this._triangles[te+1]=Oe,this._triangles[te+2]=xe,this._link(te,le),this._link(te+1,Ye),this._link(te+2,Ve),this.trianglesLen+=3,te}}function L(xt,ve){let Oe=xt/(Math.abs(xt)+Math.abs(ve));return(ve>0?3-Oe:1+Oe)/4}function Y(xt,ve,Oe,xe){let le=xt-Oe,Ye=ve-xe;return le*le+Ye*Ye}function fe(xt,ve,Oe,xe,le,Ye,Ve,te){let Ae=xt-Ve,Xe=ve-te,ot=Oe-Ve,Ct=xe-te,$t=le-Ve,Ut=Ye-te,sn=Ae*Ae+Xe*Xe,ln=ot*ot+Ct*Ct,cn=$t*$t+Ut*Ut;return Ae*(Ct*cn-ln*Ut)-Xe*(ot*cn-ln*$t)+sn*(ot*Ut-Ct*$t)<0}function me(xt,ve,Oe,xe,le,Ye){let Ve=Oe-xt,te=xe-ve,Ae=le-xt,Xe=Ye-ve,ot=Ve*Ve+te*te,Ct=Ae*Ae+Xe*Xe,$t=.5/(Ve*Xe-te*Ae),Ut=(Xe*ot-te*Ct)*$t,sn=(Ve*Ct-Ae*ot)*$t;return Ut*Ut+sn*sn}function Be(xt,ve,Oe,xe,le,Ye){let Ve=Oe-xt,te=xe-ve,Ae=le-xt,Xe=Ye-ve,ot=Ve*Ve+te*te,Ct=Ae*Ae+Xe*Xe,$t=.5/(Ve*Xe-te*Ae),Ut=xt+(Xe*ot-te*Ct)*$t,sn=ve+(Ve*Ct-Ae*ot)*$t;return{x:Ut,y:sn}}function tt(xt,ve,Oe,xe){if(xe-Oe<=20)for(let le=Oe+1;le<=xe;le++){let Ye=xt[le],Ve=ve[Ye],te=le-1;for(;te>=Oe&&ve[xt[te]]>Ve;)xt[te+1]=xt[te--];xt[te+1]=Ye}else{let le=Oe+xe>>1,Ye=Oe+1,Ve=xe;st(xt,le,Ye),ve[xt[Oe]]>ve[xt[xe]]&&st(xt,Oe,xe),ve[xt[Ye]]>ve[xt[xe]]&&st(xt,Ye,xe),ve[xt[Oe]]>ve[xt[Ye]]&&st(xt,Oe,Ye);let te=xt[Ye],Ae=ve[te];for(;;){do Ye++;while(ve[xt[Ye]]<Ae);do Ve--;while(ve[xt[Ve]]>Ae);if(Ve<Ye)break;st(xt,Ye,Ve)}xt[Oe+1]=xt[Ve],xt[Ve]=te,xe-Ye+1>=Ve-Oe?(tt(xt,ve,Ye,xe),tt(xt,ve,Oe,Ve-1)):(tt(xt,ve,Oe,Ve-1),tt(xt,ve,Ye,xe))}}function st(xt,ve,Oe){let xe=xt[ve];xt[ve]=xt[Oe],xt[Oe]=xe}function Qe(xt){return xt[0]}function mt(xt){return xt[1]}let Lt=1e-6;class je{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(ve,Oe){this._+=`M${this._x0=this._x1=+ve},${this._y0=this._y1=+Oe}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ve,Oe){this._+=`L${this._x1=+ve},${this._y1=+Oe}`}arc(ve,Oe,xe){ve=+ve,Oe=+Oe,xe=+xe;let le=ve+xe,Ye=Oe;if(xe<0)throw new Error("negative radius");this._x1===null?this._+=`M${le},${Ye}`:(Math.abs(this._x1-le)>Lt||Math.abs(this._y1-Ye)>Lt)&&(this._+="L"+le+","+Ye),!!xe&&(this._+=`A${xe},${xe},0,1,1,${ve-xe},${Oe}A${xe},${xe},0,1,1,${this._x1=le},${this._y1=Ye}`)}rect(ve,Oe,xe,le){this._+=`M${this._x0=this._x1=+ve},${this._y0=this._y1=+Oe}h${+xe}v${+le}h${-xe}Z`}value(){return this._||null}}class Z{constructor(){this._=[]}moveTo(ve,Oe){this._.push([ve,Oe])}closePath(){this._.push(this._[0].slice())}lineTo(ve,Oe){this._.push([ve,Oe])}value(){return this._.length?this._:null}}class Ke{constructor(ve,[Oe,xe,le,Ye]=[0,0,960,500]){if(!((le=+le)>=(Oe=+Oe))||!((Ye=+Ye)>=(xe=+xe)))throw new Error("invalid bounds");this.delaunay=ve,this._circumcenters=new Float64Array(ve.points.length*2),this.vectors=new Float64Array(ve.points.length*2),this.xmax=le,this.xmin=Oe,this.ymax=Ye,this.ymin=xe,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:ve,hull:Oe,triangles:xe},vectors:le}=this,Ye=this.circumcenters=this._circumcenters.subarray(0,xe.length/3*2);for(let Ut=0,sn=0,ln=xe.length,cn,Ft;Ut<ln;Ut+=3,sn+=2){let nn=xe[Ut]*2,An=xe[Ut+1]*2,$n=xe[Ut+2]*2,Cn=ve[nn],Fe=ve[nn+1],qe=ve[An],Ce=ve[An+1],Dt=ve[$n],lt=ve[$n+1],ct=qe-Cn,Yt=Ce-Fe,qt=Dt-Cn,gn=lt-Fe,kn=(ct*gn-Yt*qt)*2;if(Math.abs(kn)<1e-9){let qn=1e9,bn=xe[0]*2;qn*=Math.sign((ve[bn]-Cn)*gn-(ve[bn+1]-Fe)*qt),cn=(Cn+Dt)/2-qn*gn,Ft=(Fe+lt)/2+qn*qt}else{let qn=1/kn,bn=ct*ct+Yt*Yt,zn=qt*qt+gn*gn;cn=Cn+(gn*bn-Yt*zn)*qn,Ft=Fe+(ct*zn-qt*bn)*qn}Ye[sn]=cn,Ye[sn+1]=Ft}let Ve=Oe[Oe.length-1],te,Ae=Ve*4,Xe,ot=ve[2*Ve],Ct,$t=ve[2*Ve+1];le.fill(0);for(let Ut=0;Ut<Oe.length;++Ut)Ve=Oe[Ut],te=Ae,Xe=ot,Ct=$t,Ae=Ve*4,ot=ve[2*Ve],$t=ve[2*Ve+1],le[te+2]=le[Ae]=Ct-$t,le[te+3]=le[Ae+1]=ot-Xe}render(ve){let Oe=ve==null?ve=new je:void 0,{delaunay:{halfedges:xe,inedges:le,hull:Ye},circumcenters:Ve,vectors:te}=this;if(Ye.length<=1)return null;for(let ot=0,Ct=xe.length;ot<Ct;++ot){let $t=xe[ot];if($t<ot)continue;let Ut=Math.floor(ot/3)*2,sn=Math.floor($t/3)*2,ln=Ve[Ut],cn=Ve[Ut+1],Ft=Ve[sn],nn=Ve[sn+1];this._renderSegment(ln,cn,Ft,nn,ve)}let Ae,Xe=Ye[Ye.length-1];for(let ot=0;ot<Ye.length;++ot){Ae=Xe,Xe=Ye[ot];let Ct=Math.floor(le[Xe]/3)*2,$t=Ve[Ct],Ut=Ve[Ct+1],sn=Ae*4,ln=this._project($t,Ut,te[sn+2],te[sn+3]);ln&&this._renderSegment($t,Ut,ln[0],ln[1],ve)}return Oe&&Oe.value()}renderBounds(ve){let Oe=ve==null?ve=new je:void 0;return ve.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),Oe&&Oe.value()}renderCell(ve,Oe){let xe=Oe==null?Oe=new je:void 0,le=this._clip(ve);if(le===null||!le.length)return;Oe.moveTo(le[0],le[1]);let Ye=le.length;for(;le[0]===le[Ye-2]&&le[1]===le[Ye-1]&&Ye>1;)Ye-=2;for(let Ve=2;Ve<Ye;Ve+=2)(le[Ve]!==le[Ve-2]||le[Ve+1]!==le[Ve-1])&&Oe.lineTo(le[Ve],le[Ve+1]);return Oe.closePath(),xe&&xe.value()}*cellPolygons(){let{delaunay:{points:ve}}=this;for(let Oe=0,xe=ve.length/2;Oe<xe;++Oe){let le=this.cellPolygon(Oe);le&&(le.index=Oe,yield le)}}cellPolygon(ve){let Oe=new Z;return this.renderCell(ve,Oe),Oe.value()}_renderSegment(ve,Oe,xe,le,Ye){let Ve,te=this._regioncode(ve,Oe),Ae=this._regioncode(xe,le);te===0&&Ae===0?(Ye.moveTo(ve,Oe),Ye.lineTo(xe,le)):(Ve=this._clipSegment(ve,Oe,xe,le,te,Ae))&&(Ye.moveTo(Ve[0],Ve[1]),Ye.lineTo(Ve[2],Ve[3]))}contains(ve,Oe,xe){return Oe=+Oe,Oe!==Oe||(xe=+xe,xe!==xe)?!1:this.delaunay._step(ve,Oe,xe)===ve}*neighbors(ve){let Oe=this._clip(ve);if(Oe)for(let xe of this.delaunay.neighbors(ve)){let le=this._clip(xe);if(le)e:for(let Ye=0,Ve=Oe.length;Ye<Ve;Ye+=2)for(let te=0,Ae=le.length;te<Ae;te+=2)if(Oe[Ye]==le[te]&&Oe[Ye+1]==le[te+1]&&Oe[(Ye+2)%Ve]==le[(te+Ae-2)%Ae]&&Oe[(Ye+3)%Ve]==le[(te+Ae-1)%Ae]){yield xe;break e}}}_cell(ve){let{circumcenters:Oe,delaunay:{inedges:xe,halfedges:le,triangles:Ye}}=this,Ve=xe[ve];if(Ve===-1)return null;let te=[],Ae=Ve;do{let Xe=Math.floor(Ae/3);if(te.push(Oe[Xe*2],Oe[Xe*2+1]),Ae=Ae%3===2?Ae-2:Ae+1,Ye[Ae]!==ve)break;Ae=le[Ae]}while(Ae!==Ve&&Ae!==-1);return te}_clip(ve){if(ve===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let Oe=this._cell(ve);if(Oe===null)return null;let{vectors:xe}=this,le=ve*4;return xe[le]||xe[le+1]?this._clipInfinite(ve,Oe,xe[le],xe[le+1],xe[le+2],xe[le+3]):this._clipFinite(ve,Oe)}_clipFinite(ve,Oe){let xe=Oe.length,le=null,Ye,Ve,te=Oe[xe-2],Ae=Oe[xe-1],Xe,ot=this._regioncode(te,Ae),Ct,$t=0;for(let Ut=0;Ut<xe;Ut+=2)if(Ye=te,Ve=Ae,te=Oe[Ut],Ae=Oe[Ut+1],Xe=ot,ot=this._regioncode(te,Ae),Xe===0&&ot===0)Ct=$t,$t=0,le?le.push(te,Ae):le=[te,Ae];else{let sn,ln,cn,Ft,nn;if(Xe===0){if((sn=this._clipSegment(Ye,Ve,te,Ae,Xe,ot))===null)continue;[ln,cn,Ft,nn]=sn}else{if((sn=this._clipSegment(te,Ae,Ye,Ve,ot,Xe))===null)continue;[Ft,nn,ln,cn]=sn,Ct=$t,$t=this._edgecode(ln,cn),Ct&&$t&&this._edge(ve,Ct,$t,le,le.length),le?le.push(ln,cn):le=[ln,cn]}Ct=$t,$t=this._edgecode(Ft,nn),Ct&&$t&&this._edge(ve,Ct,$t,le,le.length),le?le.push(Ft,nn):le=[Ft,nn]}if(le)Ct=$t,$t=this._edgecode(le[0],le[1]),Ct&&$t&&this._edge(ve,Ct,$t,le,le.length);else if(this.contains(ve,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return le}_clipSegment(ve,Oe,xe,le,Ye,Ve){for(;;){if(Ye===0&&Ve===0)return[ve,Oe,xe,le];if(Ye&Ve)return null;let te,Ae,Xe=Ye||Ve;Xe&8?(te=ve+(xe-ve)*(this.ymax-Oe)/(le-Oe),Ae=this.ymax):Xe&4?(te=ve+(xe-ve)*(this.ymin-Oe)/(le-Oe),Ae=this.ymin):Xe&2?(Ae=Oe+(le-Oe)*(this.xmax-ve)/(xe-ve),te=this.xmax):(Ae=Oe+(le-Oe)*(this.xmin-ve)/(xe-ve),te=this.xmin),Ye?(ve=te,Oe=Ae,Ye=this._regioncode(ve,Oe)):(xe=te,le=Ae,Ve=this._regioncode(xe,le))}}_clipInfinite(ve,Oe,xe,le,Ye,Ve){let te=Array.from(Oe),Ae;if((Ae=this._project(te[0],te[1],xe,le))&&te.unshift(Ae[0],Ae[1]),(Ae=this._project(te[te.length-2],te[te.length-1],Ye,Ve))&&te.push(Ae[0],Ae[1]),te=this._clipFinite(ve,te))for(let Xe=0,ot=te.length,Ct,$t=this._edgecode(te[ot-2],te[ot-1]);Xe<ot;Xe+=2)Ct=$t,$t=this._edgecode(te[Xe],te[Xe+1]),Ct&&$t&&(Xe=this._edge(ve,Ct,$t,te,Xe),ot=te.length);else this.contains(ve,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(te=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return te}_edge(ve,Oe,xe,le,Ye){for(;Oe!==xe;){let Ve,te;switch(Oe){case 5:Oe=4;continue;case 4:Oe=6,Ve=this.xmax,te=this.ymin;break;case 6:Oe=2;continue;case 2:Oe=10,Ve=this.xmax,te=this.ymax;break;case 10:Oe=8;continue;case 8:Oe=9,Ve=this.xmin,te=this.ymax;break;case 9:Oe=1;continue;case 1:Oe=5,Ve=this.xmin,te=this.ymin;break}(le[Ye]!==Ve||le[Ye+1]!==te)&&this.contains(ve,Ve,te)&&(le.splice(Ye,0,Ve,te),Ye+=2)}if(le.length>4)for(let Ve=0;Ve<le.length;Ve+=2){let te=(Ve+2)%le.length,Ae=(Ve+4)%le.length;(le[Ve]===le[te]&&le[te]===le[Ae]||le[Ve+1]===le[te+1]&&le[te+1]===le[Ae+1])&&(le.splice(te,2),Ve-=2)}return Ye}_project(ve,Oe,xe,le){let Ye=1/0,Ve,te,Ae;if(le<0){if(Oe<=this.ymin)return null;(Ve=(this.ymin-Oe)/le)<Ye&&(Ae=this.ymin,te=ve+(Ye=Ve)*xe)}else if(le>0){if(Oe>=this.ymax)return null;(Ve=(this.ymax-Oe)/le)<Ye&&(Ae=this.ymax,te=ve+(Ye=Ve)*xe)}if(xe>0){if(ve>=this.xmax)return null;(Ve=(this.xmax-ve)/xe)<Ye&&(te=this.xmax,Ae=Oe+(Ye=Ve)*le)}else if(xe<0){if(ve<=this.xmin)return null;(Ve=(this.xmin-ve)/xe)<Ye&&(te=this.xmin,Ae=Oe+(Ye=Ve)*le)}return[te,Ae]}_edgecode(ve,Oe){return(ve===this.xmin?1:ve===this.xmax?2:0)|(Oe===this.ymin?4:Oe===this.ymax?8:0)}_regioncode(ve,Oe){return(ve<this.xmin?1:ve>this.xmax?2:0)|(Oe<this.ymin?4:Oe>this.ymax?8:0)}}let _e=2*Math.PI,De=Math.pow;function be(xt){return xt[0]}function de(xt){return xt[1]}function Ge(xt){let{triangles:ve,coords:Oe}=xt;for(let xe=0;xe<ve.length;xe+=3){let le=2*ve[xe],Ye=2*ve[xe+1],Ve=2*ve[xe+2];if((Oe[Ve]-Oe[le])*(Oe[Ye+1]-Oe[le+1])-(Oe[Ye]-Oe[le])*(Oe[Ve+1]-Oe[le+1])>1e-10)return!1}return!0}function rt(xt,ve,Oe){return[xt+Math.sin(xt+ve)*Oe,ve+Math.cos(xt-ve)*Oe]}class Bt{static from(ve,Oe=be,xe=de,le){return new Bt("length"in ve?_t(ve,Oe,xe,le):Float64Array.from(un(ve,Oe,xe,le)))}constructor(ve){this._delaunator=new ie(ve),this.inedges=new Int32Array(ve.length/2),this._hullIndex=new Int32Array(ve.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let ve=this._delaunator,Oe=this.points;if(ve.hull&&ve.hull.length>2&&Ge(ve)){this.collinear=Int32Array.from({length:Oe.length/2},($t,Ut)=>Ut).sort(($t,Ut)=>Oe[2*$t]-Oe[2*Ut]||Oe[2*$t+1]-Oe[2*Ut+1]);let Ae=this.collinear[0],Xe=this.collinear[this.collinear.length-1],ot=[Oe[2*Ae],Oe[2*Ae+1],Oe[2*Xe],Oe[2*Xe+1]],Ct=1e-8*Math.hypot(ot[3]-ot[1],ot[2]-ot[0]);for(let $t=0,Ut=Oe.length/2;$t<Ut;++$t){let sn=rt(Oe[2*$t],Oe[2*$t+1],Ct);Oe[2*$t]=sn[0],Oe[2*$t+1]=sn[1]}this._delaunator=new ie(Oe)}else delete this.collinear;let xe=this.halfedges=this._delaunator.halfedges,le=this.hull=this._delaunator.hull,Ye=this.triangles=this._delaunator.triangles,Ve=this.inedges.fill(-1),te=this._hullIndex.fill(-1);for(let Ae=0,Xe=xe.length;Ae<Xe;++Ae){let ot=Ye[Ae%3===2?Ae-2:Ae+1];(xe[Ae]===-1||Ve[ot]===-1)&&(Ve[ot]=Ae)}for(let Ae=0,Xe=le.length;Ae<Xe;++Ae)te[le[Ae]]=Ae;le.length<=2&&le.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=le[0],Ve[le[0]]=1,le.length===2&&(Ve[le[1]]=0,this.triangles[1]=le[1],this.triangles[2]=le[1]))}voronoi(ve){return new Ke(this,ve)}*neighbors(ve){let{inedges:Oe,hull:xe,_hullIndex:le,halfedges:Ye,triangles:Ve,collinear:te}=this;if(te){let Ct=te.indexOf(ve);Ct>0&&(yield te[Ct-1]),Ct<te.length-1&&(yield te[Ct+1]);return}let Ae=Oe[ve];if(Ae===-1)return;let Xe=Ae,ot=-1;do{if(yield ot=Ve[Xe],Xe=Xe%3===2?Xe-2:Xe+1,Ve[Xe]!==ve)return;if(Xe=Ye[Xe],Xe===-1){let Ct=xe[(le[ve]+1)%xe.length];Ct!==ot&&(yield Ct);return}}while(Xe!==Ae)}find(ve,Oe,xe=0){if(ve=+ve,ve!==ve||(Oe=+Oe,Oe!==Oe))return-1;let le=xe,Ye;for(;(Ye=this._step(xe,ve,Oe))>=0&&Ye!==xe&&Ye!==le;)xe=Ye;return Ye}_step(ve,Oe,xe){let{inedges:le,hull:Ye,_hullIndex:Ve,halfedges:te,triangles:Ae,points:Xe}=this;if(le[ve]===-1||!Xe.length)return(ve+1)%(Xe.length>>1);let ot=ve,Ct=De(Oe-Xe[ve*2],2)+De(xe-Xe[ve*2+1],2),$t=le[ve],Ut=$t;do{let sn=Ae[Ut],ln=De(Oe-Xe[sn*2],2)+De(xe-Xe[sn*2+1],2);if(ln<Ct&&(Ct=ln,ot=sn),Ut=Ut%3===2?Ut-2:Ut+1,Ae[Ut]!==ve)break;if(Ut=te[Ut],Ut===-1){if(Ut=Ye[(Ve[ve]+1)%Ye.length],Ut!==sn&&De(Oe-Xe[Ut*2],2)+De(xe-Xe[Ut*2+1],2)<Ct)return Ut;break}}while(Ut!==$t);return ot}render(ve){let Oe=ve==null?ve=new je:void 0,{points:xe,halfedges:le,triangles:Ye}=this;for(let Ve=0,te=le.length;Ve<te;++Ve){let Ae=le[Ve];if(Ae<Ve)continue;let Xe=Ye[Ve]*2,ot=Ye[Ae]*2;ve.moveTo(xe[Xe],xe[Xe+1]),ve.lineTo(xe[ot],xe[ot+1])}return this.renderHull(ve),Oe&&Oe.value()}renderPoints(ve,Oe){Oe===void 0&&(!ve||typeof ve.moveTo!="function")&&(Oe=ve,ve=null),Oe=Oe==null?2:+Oe;let xe=ve==null?ve=new je:void 0,{points:le}=this;for(let Ye=0,Ve=le.length;Ye<Ve;Ye+=2){let te=le[Ye],Ae=le[Ye+1];ve.moveTo(te+Oe,Ae),ve.arc(te,Ae,Oe,0,_e)}return xe&&xe.value()}renderHull(ve){let Oe=ve==null?ve=new je:void 0,{hull:xe,points:le}=this,Ye=xe[0]*2,Ve=xe.length;ve.moveTo(le[Ye],le[Ye+1]);for(let te=1;te<Ve;++te){let Ae=2*xe[te];ve.lineTo(le[Ae],le[Ae+1])}return ve.closePath(),Oe&&Oe.value()}hullPolygon(){let ve=new Z;return this.renderHull(ve),ve.value()}renderTriangle(ve,Oe){let xe=Oe==null?Oe=new je:void 0,{points:le,triangles:Ye}=this,Ve=Ye[ve*=3]*2,te=Ye[ve+1]*2,Ae=Ye[ve+2]*2;return Oe.moveTo(le[Ve],le[Ve+1]),Oe.lineTo(le[te],le[te+1]),Oe.lineTo(le[Ae],le[Ae+1]),Oe.closePath(),xe&&xe.value()}*trianglePolygons(){let{triangles:ve}=this;for(let Oe=0,xe=ve.length/3;Oe<xe;++Oe)yield this.trianglePolygon(Oe)}trianglePolygon(ve){let Oe=new Z;return this.renderTriangle(ve,Oe),Oe.value()}}function _t(xt,ve,Oe,xe){let le=xt.length,Ye=new Float64Array(le*2);for(let Ve=0;Ve<le;++Ve){let te=xt[Ve];Ye[Ve*2]=ve.call(xe,te,Ve,xt),Ye[Ve*2+1]=Oe.call(xe,te,Ve,xt)}return Ye}function*un(xt,ve,Oe,xe){let le=0;for(let Ye of xt)yield ve.call(xe,Ye,le,xt),yield Oe.call(xe,Ye,le,xt),++le}function Tt(xt){e.Transform.call(this,null,xt)}Tt.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};let Rt=[-1e5,-1e5,1e5,1e5];t.inherits(Tt,e.Transform,{transform(xt,ve){let Oe=xt.as||"path",xe=ve.source;if(!xe||!xe.length)return ve;let le=xt.size;le=le?[0,0,le[0],le[1]]:(le=xt.extent)?[le[0][0],le[0][1],le[1][0],le[1][1]]:Rt;let Ye=this.value=Bt.from(xe,xt.x,xt.y).voronoi(le);for(let Ve=0,te=xe.length;Ve<te;++Ve){let Ae=Ye.cellPolygon(Ve);xe[Ve][Oe]=Ae?Gt(Ae):null}return ve.reflow(xt.modified()).modifies(Oe)}});function Gt(xt){let ve=xt[0][0],Oe=xt[0][1],xe=xt.length-1;for(;xt[xe][0]===ve&&xt[xe][1]===Oe;--xe);return"M"+xt.slice(0,xe+1).join("L")+"Z"}n.voronoi=Tt,Object.defineProperty(n,"__esModule",{value:!0})})});var NPe=G((tV,OPe)=>{d();(function(n,e){typeof tV=="object"&&typeof OPe!="undefined"?e(tV,kO(),qc(),Ma(),U6(),q6()):typeof define=="function"&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-util","vega-scale","vega-statistics"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(tV,function(n,e,t,r,i,s){"use strict";var o=Math.PI/180,a=1<<11>>5,l=1<<11;function f(){var L=[256,256],Y,fe,me,Be,tt,st,Qe,mt=D,Lt=[],je=Math.random,Z={};Z.layout=function(){for(var De=Ke(e.canvas()),be=q((L[0]>>5)*L[1]),de=null,Ge=Lt.length,rt=-1,Bt=[],_t=Lt.map(Tt=>({text:Y(Tt),font:fe(Tt),style:Be(Tt),weight:tt(Tt),rotate:st(Tt),size:~~(me(Tt)+1e-14),padding:Qe(Tt),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Tt})).sort((Tt,Rt)=>Rt.size-Tt.size);++rt<Ge;){var un=_t[rt];un.x=L[0]*(je()+.5)>>1,un.y=L[1]*(je()+.5)>>1,p(De,un,_t,rt),un.hasText&&_e(be,un,de)&&(Bt.push(un),de?b(de,un):de=[{x:un.x+un.x0,y:un.y+un.y0},{x:un.x+un.x1,y:un.y+un.y1}],un.x-=L[0]>>1,un.y-=L[1]>>1)}return Bt};function Ke(De){De.width=De.height=1;var be=Math.sqrt(De.getContext("2d").getImageData(0,0,1,1).data.length>>2);De.width=(a<<5)/be,De.height=l/be;var de=De.getContext("2d");return de.fillStyle=de.strokeStyle="red",de.textAlign="center",{context:de,ratio:be}}function _e(De,be,de){for(var Ge=be.x,rt=be.y,Bt=Math.sqrt(L[0]*L[0]+L[1]*L[1]),_t=mt(L),un=je()<.5?1:-1,Tt=-un,Rt,Gt,xt;(Rt=_t(Tt+=un))&&(Gt=~~Rt[0],xt=~~Rt[1],!(Math.min(Math.abs(Gt),Math.abs(xt))>=Bt));)if(be.x=Ge+Gt,be.y=rt+xt,!(be.x+be.x0<0||be.y+be.y0<0||be.x+be.x1>L[0]||be.y+be.y1>L[1])&&(!de||!v(be,De,L[0]))&&(!de||F(be,de))){for(var ve=be.sprite,Oe=be.width>>5,xe=L[0]>>5,le=be.x-(Oe<<4),Ye=le&127,Ve=32-Ye,te=be.y1-be.y0,Ae=(be.y+be.y0)*xe+(le>>5),Xe,ot=0;ot<te;ot++){Xe=0;for(var Ct=0;Ct<=Oe;Ct++)De[Ae+Ct]|=Xe<<Ve|(Ct<Oe?(Xe=ve[ot*Oe+Ct])>>>Ye:0);Ae+=xe}return be.sprite=null,!0}return!1}return Z.words=function(De){return arguments.length?(Lt=De,Z):Lt},Z.size=function(De){return arguments.length?(L=[+De[0],+De[1]],Z):L},Z.font=function(De){return arguments.length?(fe=N(De),Z):fe},Z.fontStyle=function(De){return arguments.length?(Be=N(De),Z):Be},Z.fontWeight=function(De){return arguments.length?(tt=N(De),Z):tt},Z.rotate=function(De){return arguments.length?(st=N(De),Z):st},Z.text=function(De){return arguments.length?(Y=N(De),Z):Y},Z.spiral=function(De){return arguments.length?(mt=B[De]||De,Z):mt},Z.fontSize=function(De){return arguments.length?(me=N(De),Z):me},Z.padding=function(De){return arguments.length?(Qe=N(De),Z):Qe},Z.random=function(De){return arguments.length?(je=De,Z):je},Z}function p(L,Y,fe,me){if(!Y.sprite){var Be=L.context,tt=L.ratio;Be.clearRect(0,0,(a<<5)/tt,l/tt);var st=0,Qe=0,mt=0,Lt=fe.length,je,Z,Ke,_e,De;for(--me;++me<Lt;){if(Y=fe[me],Be.save(),Be.font=Y.style+" "+Y.weight+" "+~~((Y.size+1)/tt)+"px "+Y.font,je=Be.measureText(Y.text+"m").width*tt,Ke=Y.size<<1,Y.rotate){var be=Math.sin(Y.rotate*o),de=Math.cos(Y.rotate*o),Ge=je*de,rt=je*be,Bt=Ke*de,_t=Ke*be;je=Math.max(Math.abs(Ge+_t),Math.abs(Ge-_t))+31>>5<<5,Ke=~~Math.max(Math.abs(rt+Bt),Math.abs(rt-Bt))}else je=je+31>>5<<5;if(Ke>mt&&(mt=Ke),st+je>=a<<5&&(st=0,Qe+=mt,mt=0),Qe+Ke>=l)break;Be.translate((st+(je>>1))/tt,(Qe+(Ke>>1))/tt),Y.rotate&&Be.rotate(Y.rotate*o),Be.fillText(Y.text,0,0),Y.padding&&(Be.lineWidth=2*Y.padding,Be.strokeText(Y.text,0,0)),Be.restore(),Y.width=je,Y.height=Ke,Y.xoff=st,Y.yoff=Qe,Y.x1=je>>1,Y.y1=Ke>>1,Y.x0=-Y.x1,Y.y0=-Y.y1,Y.hasText=!0,st+=je}for(var un=Be.getImageData(0,0,(a<<5)/tt,l/tt).data,Tt=[];--me>=0;)if(Y=fe[me],!!Y.hasText){for(je=Y.width,Z=je>>5,Ke=Y.y1-Y.y0,_e=0;_e<Ke*Z;_e++)Tt[_e]=0;if(st=Y.xoff,st==null)return;Qe=Y.yoff;var Rt=0,Gt=-1;for(De=0;De<Ke;De++){for(_e=0;_e<je;_e++){var xt=Z*De+(_e>>5),ve=un[(Qe+De)*(a<<5)+(st+_e)<<2]?1<<31-_e%32:0;Tt[xt]|=ve,Rt|=ve}Rt?Gt=De:(Y.y0++,Ke--,De--,Qe++)}Y.y1=Y.y0+Gt,Y.sprite=Tt.slice(0,(Y.y1-Y.y0)*Z)}}}function v(L,Y,fe){fe>>=5;for(var me=L.sprite,Be=L.width>>5,tt=L.x-(Be<<4),st=tt&127,Qe=32-st,mt=L.y1-L.y0,Lt=(L.y+L.y0)*fe+(tt>>5),je,Z=0;Z<mt;Z++){je=0;for(var Ke=0;Ke<=Be;Ke++)if((je<<Qe|(Ke<Be?(je=me[Z*Be+Ke])>>>st:0))&Y[Lt+Ke])return!0;Lt+=fe}return!1}function b(L,Y){var fe=L[0],me=L[1];Y.x+Y.x0<fe.x&&(fe.x=Y.x+Y.x0),Y.y+Y.y0<fe.y&&(fe.y=Y.y+Y.y0),Y.x+Y.x1>me.x&&(me.x=Y.x+Y.x1),Y.y+Y.y1>me.y&&(me.y=Y.y+Y.y1)}function F(L,Y){return L.x+L.x1>Y[0].x&&L.x+L.x0<Y[1].x&&L.y+L.y1>Y[0].y&&L.y+L.y0<Y[1].y}function D(L){var Y=L[0]/L[1];return function(fe){return[Y*(fe*=.1)*Math.cos(fe),fe*Math.sin(fe)]}}function M(L){var Y=4,fe=Y*L[0]/L[1],me=0,Be=0;return function(tt){var st=tt<0?-1:1;switch(Math.sqrt(1+4*st*tt)-st&3){case 0:me+=fe;break;case 1:Be+=Y;break;case 2:me-=fe;break;default:Be-=Y;break}return[me,Be]}}function q(L){for(var Y=[],fe=-1;++fe<L;)Y[fe]=0;return Y}function N(L){return typeof L=="function"?L:function(){return L}}var B={archimedean:D,rectangular:M};let I=["x","y","font","fontSize","fontStyle","fontWeight","angle"],z=["text","font","rotate","fontSize","fontStyle","fontWeight"];function ie(L){t.Transform.call(this,f(),L)}ie.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:I}]},r.inherits(ie,t.Transform,{transform(L,Y){L.size&&!(L.size[0]&&L.size[1])&&r.error("Wordcloud size dimensions must be non-zero.");function fe(De){let be=L[De];return r.isFunction(be)&&Y.modified(be.fields)}let me=L.modified();if(!(me||Y.changed(Y.ADD_REM)||z.some(fe)))return;let Be=Y.materialize(Y.SOURCE).source,tt=this.value,st=L.as||I,Qe=L.fontSize||14,mt;if(r.isFunction(Qe)?mt=L.fontSizeRange:Qe=r.constant(Qe),mt){let De=Qe,be=i.scale("sqrt")().domain(r.extent(Be,De)).range(mt);Qe=de=>be(De(de))}Be.forEach(De=>{De[st[0]]=NaN,De[st[1]]=NaN,De[st[3]]=0});let Lt=tt.words(Be).text(L.text).size(L.size||[500,500]).padding(L.padding||1).spiral(L.spiral||"archimedean").rotate(L.rotate||0).font(L.font||"sans-serif").fontStyle(L.fontStyle||"normal").fontWeight(L.fontWeight||"normal").fontSize(Qe).random(s.random).layout(),je=tt.size(),Z=je[0]>>1,Ke=je[1]>>1,_e=Lt.length;for(let De=0,be,de;De<_e;++De)be=Lt[De],de=be.datum,de[st[0]]=be.x+Z,de[st[1]]=be.y+Ke,de[st[2]]=be.font,de[st[3]]=be.size,de[st[4]]=be.style,de[st[5]]=be.weight,de[st[6]]=be.rotate;return Y.reflow(me).modifies(st)}}),n.wordcloud=ie,Object.defineProperty(n,"__esModule",{value:!0})})});var LPe=G((nV,RPe)=>{d();(function(n,e){typeof nV=="object"&&typeof RPe!="undefined"?e(nV,qc(),Ma()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(nV,function(n,e,t){"use strict";let r=L=>new Uint8Array(L),i=L=>new Uint16Array(L),s=L=>new Uint32Array(L);function o(){let L=8,Y=[],fe=s(0),me=l(0,L),Be=l(0,L);return{data:()=>Y,seen:()=>fe=a(fe,Y.length),add(tt){for(let st=0,Qe=Y.length,mt=tt.length,Lt;st<mt;++st)Lt=tt[st],Lt._index=Qe++,Y.push(Lt)},remove(tt,st){let Qe=Y.length,mt=Array(Qe-tt),Lt=Y,je,Z,Ke;for(Z=0;!st[Z]&&Z<Qe;++Z)mt[Z]=Y[Z],Lt[Z]=Z;for(Ke=Z;Z<Qe;++Z)je=Y[Z],st[Z]?Lt[Z]=-1:(Lt[Z]=Ke,me[Ke]=me[Z],Be[Ke]=Be[Z],mt[Ke]=je,je._index=Ke++),me[Z]=0;return Y=mt,Lt},size:()=>Y.length,curr:()=>me,prev:()=>Be,reset:tt=>Be[tt]=me[tt],all:()=>L<257?255:L<65537?65535:4294967295,set(tt,st){me[tt]|=st},clear(tt,st){me[tt]&=~st},resize(tt,st){let Qe=me.length;(tt>Qe||st>L)&&(L=Math.max(st,L),me=l(tt,L,me),Be=l(tt,L))}}}function a(L,Y,fe){return L.length>=Y?L:(fe=fe||new L.constructor(Y),fe.set(L),fe)}function l(L,Y,fe){let me=(Y<257?r:Y<65537?i:s)(L);return fe&&me.set(fe),me}function f(L,Y,fe){let me=1<<Y;return{one:me,zero:~me,range:fe.slice(),bisect:L.bisect,index:L.index,size:L.size,onAdd(Be,tt){let st=this,Qe=st.bisect(st.range,Be.value),mt=Be.index,Lt=Qe[0],je=Qe[1],Z=mt.length,Ke;for(Ke=0;Ke<Lt;++Ke)tt[mt[Ke]]|=me;for(Ke=je;Ke<Z;++Ke)tt[mt[Ke]]|=me;return st}}}function p(L,Y){return L==null||Y==null?NaN:L<Y?-1:L>Y?1:L>=Y?0:NaN}function v(L){let Y=L,fe=L,me=L;L.length!==2&&(Y=(Qe,mt)=>L(Qe)-mt,fe=p,me=(Qe,mt)=>p(L(Qe),mt));function Be(Qe,mt,Lt=0,je=Qe.length){if(Lt<je){if(fe(mt,mt)!==0)return je;do{let Z=Lt+je>>>1;me(Qe[Z],mt)<0?Lt=Z+1:je=Z}while(Lt<je)}return Lt}function tt(Qe,mt,Lt=0,je=Qe.length){if(Lt<je){if(fe(mt,mt)!==0)return je;do{let Z=Lt+je>>>1;me(Qe[Z],mt)<=0?Lt=Z+1:je=Z}while(Lt<je)}return Lt}function st(Qe,mt,Lt=0,je=Qe.length){let Z=Be(Qe,mt,Lt,je-1);return Z>Lt&&Y(Qe[Z-1],mt)>-Y(Qe[Z],mt)?Z-1:Z}return{left:Be,center:st,right:tt}}function b(L){return L===null?NaN:+L}let F=v(p),D=F.right,M=F.left;v(b).center;function q(L,Y){return Array.from(Y,fe=>L[fe])}function N(){let L=s(0),Y=[],fe=0;function me(Qe,mt,Lt){if(!mt.length)return[];let je=fe,Z=mt.length,Ke=s(Z),_e=Array(Z),De,be,de;for(de=0;de<Z;++de)_e[de]=Qe(mt[de]),Ke[de]=de;if(_e=B(_e,Ke),je)De=Y,be=L,Y=Array(je+Z),L=s(je+Z),I(Lt,De,be,je,_e,Ke,Z,Y,L);else{if(Lt>0)for(de=0;de<Z;++de)Ke[de]+=Lt;Y=_e,L=Ke}return fe=je+Z,{index:Ke,value:_e}}function Be(Qe,mt){let Lt=fe,je,Z,Ke;for(Z=0;!mt[L[Z]]&&Z<Lt;++Z);for(Ke=Z;Z<Lt;++Z)mt[je=L[Z]]||(L[Ke]=je,Y[Ke]=Y[Z],++Ke);fe=Lt-Qe}function tt(Qe){for(let mt=0,Lt=fe;mt<Lt;++mt)L[mt]=Qe[L[mt]]}function st(Qe,mt){let Lt;return mt?Lt=mt.length:(mt=Y,Lt=fe),[M(mt,Qe[0],0,Lt),D(mt,Qe[1],0,Lt)]}return{insert:me,remove:Be,bisect:st,reindex:tt,index:()=>L,size:()=>fe}}function B(L,Y){return L.sort.call(Y,(fe,me)=>{let Be=L[fe],tt=L[me];return Be<tt?-1:Be>tt?1:0}),q(L,Y)}function I(L,Y,fe,me,Be,tt,st,Qe,mt){let Lt=0,je=0,Z;for(Z=0;Lt<me&&je<st;++Z)Y[Lt]<Be[je]?(Qe[Z]=Y[Lt],mt[Z]=fe[Lt++]):(Qe[Z]=Be[je],mt[Z]=tt[je++]+L);for(;Lt<me;++Lt,++Z)Qe[Z]=Y[Lt],mt[Z]=fe[Lt];for(;je<st;++je,++Z)Qe[Z]=Be[je],mt[Z]=tt[je]+L}function z(L){e.Transform.call(this,o(),L),this._indices=null,this._dims=null}z.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},t.inherits(z,e.Transform,{transform(L,Y){if(this._dims){var fe=L.modified("fields")||L.fields.some(me=>Y.modified(me.fields));return fe?this.reinit(L,Y):this.eval(L,Y)}else return this.init(L,Y)},init(L,Y){let fe=L.fields,me=L.query,Be=this._indices={},tt=this._dims=[],st=me.length,Qe=0,mt,Lt;for(;Qe<st;++Qe)mt=fe[Qe].fname,Lt=Be[mt]||(Be[mt]=N()),tt.push(f(Lt,Qe,me[Qe]));return this.eval(L,Y)},reinit(L,Y){let fe=Y.materialize().fork(),me=L.fields,Be=L.query,tt=this._indices,st=this._dims,Qe=this.value,mt=Qe.curr(),Lt=Qe.prev(),je=Qe.all(),Z=fe.rem=fe.add,Ke=fe.mod,_e=Be.length,De={},be,de,Ge,rt,Bt,_t,un,Tt,Rt;if(Lt.set(mt),Y.rem.length&&(Bt=this.remove(L,Y,fe)),Y.add.length&&Qe.add(Y.add),Y.mod.length)for(_t={},rt=Y.mod,un=0,Tt=rt.length;un<Tt;++un)_t[rt[un]._index]=1;for(un=0;un<_e;++un)Rt=me[un],(!st[un]||L.modified("fields",un)||Y.modified(Rt.fields))&&(Ge=Rt.fname,(be=De[Ge])||(tt[Ge]=de=N(),De[Ge]=be=de.insert(Rt,Y.source,0)),st[un]=f(de,un,Be[un]).onAdd(be,mt));for(un=0,Tt=Qe.data().length;un<Tt;++un)Bt[un]||(Lt[un]!==mt[un]?Z.push(un):_t[un]&&mt[un]!==je&&Ke.push(un));return Qe.mask=(1<<_e)-1,fe},eval(L,Y){let fe=Y.materialize().fork(),me=this._dims.length,Be=0;return Y.rem.length&&(this.remove(L,Y,fe),Be|=(1<<me)-1),L.modified("query")&&!L.modified("fields")&&(Be|=this.update(L,Y,fe)),Y.add.length&&(this.insert(L,Y,fe),Be|=(1<<me)-1),Y.mod.length&&(this.modify(Y,fe),Be|=(1<<me)-1),this.value.mask=Be,fe},insert(L,Y,fe){let me=Y.add,Be=this.value,tt=this._dims,st=this._indices,Qe=L.fields,mt={},Lt=fe.add,je=Be.size()+me.length,Z=tt.length,Ke=Be.size(),_e,De,be;Be.resize(je,Z),Be.add(me);let de=Be.curr(),Ge=Be.prev(),rt=Be.all();for(_e=0;_e<Z;++_e)De=Qe[_e].fname,be=mt[De]||(mt[De]=st[De].insert(Qe[_e],me,Ke)),tt[_e].onAdd(be,de);for(;Ke<je;++Ke)Ge[Ke]=rt,de[Ke]!==rt&&Lt.push(Ke)},modify(L,Y){let fe=Y.mod,me=this.value,Be=me.curr(),tt=me.all(),st=L.mod,Qe,mt,Lt;for(Qe=0,mt=st.length;Qe<mt;++Qe)Lt=st[Qe]._index,Be[Lt]!==tt&&fe.push(Lt)},remove(L,Y,fe){let me=this._indices,Be=this.value,tt=Be.curr(),st=Be.prev(),Qe=Be.all(),mt={},Lt=fe.rem,je=Y.rem,Z,Ke,_e,De;for(Z=0,Ke=je.length;Z<Ke;++Z)_e=je[Z]._index,mt[_e]=1,st[_e]=De=tt[_e],tt[_e]=Qe,De!==Qe&&Lt.push(_e);for(_e in me)me[_e].remove(Ke,mt);return this.reindex(Y,Ke,mt),mt},reindex(L,Y,fe){let me=this._indices,Be=this.value;L.runAfter(()=>{let tt=Be.remove(Y,fe);for(let st in me)me[st].reindex(tt)})},update(L,Y,fe){let me=this._dims,Be=L.query,tt=Y.stamp,st=me.length,Qe=0,mt,Lt;for(fe.filters=0,Lt=0;Lt<st;++Lt)L.modified("query",Lt)&&(mt=Lt,++Qe);if(Qe===1)Qe=me[mt].one,this.incrementOne(me[mt],Be[mt],fe.add,fe.rem);else for(Lt=0,Qe=0;Lt<st;++Lt)!L.modified("query",Lt)||(Qe|=me[Lt].one,this.incrementAll(me[Lt],Be[Lt],tt,fe.add),fe.rem=fe.add);return Qe},incrementAll(L,Y,fe,me){let Be=this.value,tt=Be.seen(),st=Be.curr(),Qe=Be.prev(),mt=L.index(),Lt=L.bisect(L.range),je=L.bisect(Y),Z=je[0],Ke=je[1],_e=Lt[0],De=Lt[1],be=L.one,de,Ge,rt;if(Z<_e)for(de=Z,Ge=Math.min(_e,Ke);de<Ge;++de)rt=mt[de],tt[rt]!==fe&&(Qe[rt]=st[rt],tt[rt]=fe,me.push(rt)),st[rt]^=be;else if(Z>_e)for(de=_e,Ge=Math.min(Z,De);de<Ge;++de)rt=mt[de],tt[rt]!==fe&&(Qe[rt]=st[rt],tt[rt]=fe,me.push(rt)),st[rt]^=be;if(Ke>De)for(de=Math.max(Z,De),Ge=Ke;de<Ge;++de)rt=mt[de],tt[rt]!==fe&&(Qe[rt]=st[rt],tt[rt]=fe,me.push(rt)),st[rt]^=be;else if(Ke<De)for(de=Math.max(_e,Ke),Ge=De;de<Ge;++de)rt=mt[de],tt[rt]!==fe&&(Qe[rt]=st[rt],tt[rt]=fe,me.push(rt)),st[rt]^=be;L.range=Y.slice()},incrementOne(L,Y,fe,me){let Be=this.value,tt=Be.curr(),st=L.index(),Qe=L.bisect(L.range),mt=L.bisect(Y),Lt=mt[0],je=mt[1],Z=Qe[0],Ke=Qe[1],_e=L.one,De,be,de;if(Lt<Z)for(De=Lt,be=Math.min(Z,je);De<be;++De)de=st[De],tt[de]^=_e,fe.push(de);else if(Lt>Z)for(De=Z,be=Math.min(Lt,Ke);De<be;++De)de=st[De],tt[de]^=_e,me.push(de);if(je>Ke)for(De=Math.max(Lt,Ke),be=je;De<be;++De)de=st[De],tt[de]^=_e,fe.push(de);else if(je<Ke)for(De=Math.max(Z,je),be=Ke;De<be;++De)de=st[De],tt[de]^=_e,me.push(de);L.range=Y.slice()}});function ie(L){e.Transform.call(this,null,L)}ie.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},t.inherits(ie,e.Transform,{transform(L,Y){let fe=~(L.ignore||0),me=L.filter,Be=me.mask;if((Be&fe)===0)return Y.StopPropagation;let tt=Y.fork(Y.ALL),st=me.data(),Qe=me.curr(),mt=me.prev(),Lt=je=>Qe[je]&fe?null:st[je];return tt.filter(tt.MOD,Lt),Be&Be-1?(tt.filter(tt.ADD,je=>{let Z=Qe[je]&fe;return!Z&&Z^mt[je]&fe?st[je]:null}),tt.filter(tt.REM,je=>{let Z=Qe[je]&fe;return Z&&!(Z^(Z^mt[je]&fe))?st[je]:null})):(tt.filter(tt.ADD,Lt),tt.filter(tt.REM,je=>(Qe[je]&fe)===Be?st[je]:null)),tt.filter(tt.SOURCE,je=>Lt(je._index))}}),n.crossfilter=z,n.resolvefilter=ie,Object.defineProperty(n,"__esModule",{value:!0})})});var iV=G((rV,kPe)=>{d();(function(n,e){typeof rV=="object"&&typeof kPe!="undefined"?e(rV,Ma()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(rV,function(n,e){"use strict";let t="RawCode",r="Literal",i="Property",s="Identifier",o="ArrayExpression",a="BinaryExpression",l="CallExpression",f="ConditionalExpression",p="LogicalExpression",v="MemberExpression",b="ObjectExpression",F="UnaryExpression";function D(E){this.type=E}D.prototype.visit=function(E){let P,X,ye;if(E(this))return 1;for(P=M(this),X=0,ye=P.length;X<ye;++X)if(P[X].visit(E))return 1};function M(E){switch(E.type){case o:return E.elements;case a:case p:return[E.left,E.right];case l:return[E.callee].concat(E.arguments);case f:return[E.test,E.consequent,E.alternate];case v:return[E.object,E.property];case b:return E.properties;case i:return[E.key,E.value];case F:return[E.argument];case s:case r:case t:default:return[]}}var q,N,B,I,z,ie=1,L=2,Y=3,fe=4,me=5,Be=6,tt=7,st=8,Qe=9;q={},q[ie]="Boolean",q[L]="<end>",q[Y]="Identifier",q[fe]="Keyword",q[me]="Null",q[Be]="Numeric",q[tt]="Punctuator",q[st]="String",q[Qe]="RegularExpression";var mt="ArrayExpression",Lt="BinaryExpression",je="CallExpression",Z="ConditionalExpression",Ke="Identifier",_e="Literal",De="LogicalExpression",be="MemberExpression",de="ObjectExpression",Ge="Property",rt="UnaryExpression",Bt="Unexpected token %0",_t="Unexpected number",un="Unexpected string",Tt="Unexpected identifier",Rt="Unexpected reserved word",Gt="Unexpected end of input",xt="Invalid regular expression",ve="Invalid regular expression: missing /",Oe="Octal literals are not allowed in strict mode.",xe="Duplicate data property in object literal not allowed in strict mode",le="ILLEGAL",Ye="Disabled.",Ve=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),te=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Ae(E,P){if(!E)throw new Error("ASSERT: "+P)}function Xe(E){return E>=48&&E<=57}function ot(E){return"0123456789abcdefABCDEF".indexOf(E)>=0}function Ct(E){return"01234567".indexOf(E)>=0}function $t(E){return E===32||E===9||E===11||E===12||E===160||E>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(E)>=0}function Ut(E){return E===10||E===13||E===8232||E===8233}function sn(E){return E===36||E===95||E>=65&&E<=90||E>=97&&E<=122||E===92||E>=128&&Ve.test(String.fromCharCode(E))}function ln(E){return E===36||E===95||E>=65&&E<=90||E>=97&&E<=122||E>=48&&E<=57||E===92||E>=128&&te.test(String.fromCharCode(E))}let cn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Ft(){for(;B<I;){let E=N.charCodeAt(B);if($t(E)||Ut(E))++B;else break}}function nn(E){var P,X,ye,ut=0;for(X=E==="u"?4:2,P=0;P<X;++P)B<I&&ot(N[B])?(ye=N[B++],ut=ut*16+"0123456789abcdef".indexOf(ye.toLowerCase())):Me({},Bt,le);return String.fromCharCode(ut)}function An(){var E,P,X,ye;for(E=N[B],P=0,E==="}"&&Me({},Bt,le);B<I&&(E=N[B++],!!ot(E));)P=P*16+"0123456789abcdef".indexOf(E.toLowerCase());return(P>1114111||E!=="}")&&Me({},Bt,le),P<=65535?String.fromCharCode(P):(X=(P-65536>>10)+55296,ye=(P-65536&1023)+56320,String.fromCharCode(X,ye))}function $n(){var E,P;for(E=N.charCodeAt(B++),P=String.fromCharCode(E),E===92&&(N.charCodeAt(B)!==117&&Me({},Bt,le),++B,E=nn("u"),(!E||E==="\\"||!sn(E.charCodeAt(0)))&&Me({},Bt,le),P=E);B<I&&(E=N.charCodeAt(B),!!ln(E));)++B,P+=String.fromCharCode(E),E===92&&(P=P.substr(0,P.length-1),N.charCodeAt(B)!==117&&Me({},Bt,le),++B,E=nn("u"),(!E||E==="\\"||!ln(E.charCodeAt(0)))&&Me({},Bt,le),P+=E);return P}function Cn(){var E,P;for(E=B++;B<I;){if(P=N.charCodeAt(B),P===92)return B=E,$n();if(ln(P))++B;else break}return N.slice(E,B)}function Fe(){var E,P,X;return E=B,P=N.charCodeAt(B)===92?$n():Cn(),P.length===1?X=Y:cn.hasOwnProperty(P)?X=fe:P==="null"?X=me:P==="true"||P==="false"?X=ie:X=Y,{type:X,value:P,start:E,end:B}}function qe(){var E=B,P=N.charCodeAt(B),X,ye=N[B],ut,bt,Vt;switch(P){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++B,{type:tt,value:String.fromCharCode(P),start:E,end:B};default:if(X=N.charCodeAt(B+1),X===61)switch(P){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return B+=2,{type:tt,value:String.fromCharCode(P)+String.fromCharCode(X),start:E,end:B};case 33:case 61:return B+=2,N.charCodeAt(B)===61&&++B,{type:tt,value:N.slice(E,B),start:E,end:B}}}if(Vt=N.substr(B,4),Vt===">>>=")return B+=4,{type:tt,value:Vt,start:E,end:B};if(bt=Vt.substr(0,3),bt===">>>"||bt==="<<="||bt===">>=")return B+=3,{type:tt,value:bt,start:E,end:B};if(ut=bt.substr(0,2),ye===ut[1]&&"+-<>&|".indexOf(ye)>=0||ut==="=>")return B+=2,{type:tt,value:ut,start:E,end:B};if(ut==="//"&&Me({},Bt,le),"<>=!+-*%&|^/".indexOf(ye)>=0)return++B,{type:tt,value:ye,start:E,end:B};Me({},Bt,le)}function Ce(E){let P="";for(;B<I&&ot(N[B]);)P+=N[B++];return P.length===0&&Me({},Bt,le),sn(N.charCodeAt(B))&&Me({},Bt,le),{type:Be,value:parseInt("0x"+P,16),start:E,end:B}}function Dt(E){let P="0"+N[B++];for(;B<I&&Ct(N[B]);)P+=N[B++];return(sn(N.charCodeAt(B))||Xe(N.charCodeAt(B)))&&Me({},Bt,le),{type:Be,value:parseInt(P,8),octal:!0,start:E,end:B}}function lt(){var E,P,X;if(X=N[B],Ae(Xe(X.charCodeAt(0))||X===".","Numeric literal must start with a decimal digit or a decimal point"),P=B,E="",X!=="."){if(E=N[B++],X=N[B],E==="0"){if(X==="x"||X==="X")return++B,Ce(P);if(Ct(X))return Dt(P);X&&Xe(X.charCodeAt(0))&&Me({},Bt,le)}for(;Xe(N.charCodeAt(B));)E+=N[B++];X=N[B]}if(X==="."){for(E+=N[B++];Xe(N.charCodeAt(B));)E+=N[B++];X=N[B]}if(X==="e"||X==="E")if(E+=N[B++],X=N[B],(X==="+"||X==="-")&&(E+=N[B++]),Xe(N.charCodeAt(B)))for(;Xe(N.charCodeAt(B));)E+=N[B++];else Me({},Bt,le);return sn(N.charCodeAt(B))&&Me({},Bt,le),{type:Be,value:parseFloat(E),start:P,end:B}}function ct(){var E="",P,X,ye,ut,bt=!1;for(P=N[B],Ae(P==="'"||P==='"',"String literal must starts with a quote"),X=B,++B;B<I;)if(ye=N[B++],ye===P){P="";break}else if(ye==="\\")if(ye=N[B++],!ye||!Ut(ye.charCodeAt(0)))switch(ye){case"u":case"x":N[B]==="{"?(++B,E+=An()):E+=nn(ye);break;case"n":E+=`
`;break;case"r":E+="\r";break;case"t":E+="	";break;case"b":E+="\b";break;case"f":E+="\f";break;case"v":E+="\v";break;default:Ct(ye)?(ut="01234567".indexOf(ye),ut!==0&&(bt=!0),B<I&&Ct(N[B])&&(bt=!0,ut=ut*8+"01234567".indexOf(N[B++]),"0123".indexOf(ye)>=0&&B<I&&Ct(N[B])&&(ut=ut*8+"01234567".indexOf(N[B++]))),E+=String.fromCharCode(ut)):E+=ye;break}else ye==="\r"&&N[B]===`
`&&++B;else{if(Ut(ye.charCodeAt(0)))break;E+=ye}return P!==""&&Me({},Bt,le),{type:st,value:E,octal:bt,start:X,end:B}}function Yt(E,P){let X=E;P.indexOf("u")>=0&&(X=X.replace(/\\u\{([0-9a-fA-F]+)\}/g,(ye,ut)=>{if(parseInt(ut,16)<=1114111)return"x";Me({},xt)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(X)}catch{Me({},xt)}try{return new RegExp(E,P)}catch{return null}}function qt(){var E,P,X,ye,ut;for(E=N[B],Ae(E==="/","Regular expression literal must start with a slash"),P=N[B++],X=!1,ye=!1;B<I;)if(E=N[B++],P+=E,E==="\\")E=N[B++],Ut(E.charCodeAt(0))&&Me({},ve),P+=E;else if(Ut(E.charCodeAt(0)))Me({},ve);else if(X)E==="]"&&(X=!1);else if(E==="/"){ye=!0;break}else E==="["&&(X=!0);return ye||Me({},ve),ut=P.substr(1,P.length-2),{value:ut,literal:P}}function gn(){var E,P,X;for(P="",X="";B<I&&(E=N[B],!!ln(E.charCodeAt(0)));)++B,E==="\\"&&B<I?Me({},Bt,le):(X+=E,P+=E);return X.search(/[^gimuy]/g)>=0&&Me({},xt,X),{value:X,literal:P}}function kn(){var E,P,X,ye;return z=null,Ft(),E=B,P=qt(),X=gn(),ye=Yt(P.value,X.value),{literal:P.literal+X.literal,value:ye,regex:{pattern:P.value,flags:X.value},start:E,end:B}}function qn(E){return E.type===Y||E.type===fe||E.type===ie||E.type===me}function bn(){if(Ft(),B>=I)return{type:L,start:B,end:B};let E=N.charCodeAt(B);return sn(E)?Fe():E===40||E===41||E===59?qe():E===39||E===34?ct():E===46?Xe(N.charCodeAt(B+1))?lt():qe():Xe(E)?lt():qe()}function zn(){let E=z;return B=E.end,z=bn(),B=E.end,E}function He(){let E=B;z=bn(),B=E}function ht(E){let P=new D(mt);return P.elements=E,P}function se(E,P,X){let ye=new D(E==="||"||E==="&&"?De:Lt);return ye.operator=E,ye.left=P,ye.right=X,ye}function Ie(E,P){let X=new D(je);return X.callee=E,X.arguments=P,X}function Ze(E,P,X){let ye=new D(Z);return ye.test=E,ye.consequent=P,ye.alternate=X,ye}function St(E){let P=new D(Ke);return P.name=E,P}function rn(E){let P=new D(_e);return P.value=E.value,P.raw=N.slice(E.start,E.end),E.regex&&(P.raw==="//"&&(P.raw="/(?:)/"),P.regex=E.regex),P}function Xt(E,P,X){let ye=new D(be);return ye.computed=E==="[",ye.object=P,ye.property=X,ye.computed||(X.member=!0),ye}function at(E){let P=new D(de);return P.properties=E,P}function ne(E,P,X){let ye=new D(Ge);return ye.key=P,ye.value=X,ye.kind=E,ye}function Se(E,P){let X=new D(rt);return X.operator=E,X.argument=P,X.prefix=!0,X}function Me(E,P){var X,ye=Array.prototype.slice.call(arguments,2),ut=P.replace(/%(\d)/g,(bt,Vt)=>(Ae(Vt<ye.length,"Message reference must be in range"),ye[Vt]));throw X=new Error(ut),X.index=B,X.description=ut,X}function ft(E){E.type===L&&Me(E,Gt),E.type===Be&&Me(E,_t),E.type===st&&Me(E,un),E.type===Y&&Me(E,Tt),E.type===fe&&Me(E,Rt),Me(E,Bt,E.value)}function gt(E){let P=zn();(P.type!==tt||P.value!==E)&&ft(P)}function wt(E){return z.type===tt&&z.value===E}function ee(E){return z.type===fe&&z.value===E}function Ee(){let E=[];for(B=z.start,gt("[");!wt("]");)wt(",")?(zn(),E.push(null)):(E.push(Q()),wt("]")||gt(","));return zn(),ht(E)}function $e(){B=z.start;let E=zn();return E.type===st||E.type===Be?(E.octal&&Me(E,Oe),rn(E)):St(E.value)}function et(){var E,P,X,ye;if(B=z.start,E=z,E.type===Y)return X=$e(),gt(":"),ye=Q(),ne("init",X,ye);if(E.type===L||E.type===tt)ft(E);else return P=$e(),gt(":"),ye=Q(),ne("init",P,ye)}function It(){var E=[],P,X,ye,ut={},bt=String;for(B=z.start,gt("{");!wt("}");)P=et(),P.key.type===Ke?X=P.key.name:X=bt(P.key.value),ye="$"+X,Object.prototype.hasOwnProperty.call(ut,ye)?Me({},xe):ut[ye]=!0,E.push(P),wt("}")||gt(",");return gt("}"),at(E)}function Kt(){gt("(");let E=oe();return gt(")"),E}let mn={if:1};function fn(){var E,P,X;if(wt("("))return Kt();if(wt("["))return Ee();if(wt("{"))return It();if(E=z.type,B=z.start,E===Y||mn[z.value])X=St(zn().value);else if(E===st||E===Be)z.octal&&Me(z,Oe),X=rn(zn());else{if(E===fe)throw new Error(Ye);E===ie?(P=zn(),P.value=P.value==="true",X=rn(P)):E===me?(P=zn(),P.value=null,X=rn(P)):wt("/")||wt("/=")?(X=rn(kn()),He()):ft(zn())}return X}function dn(){let E=[];if(gt("("),!wt(")"))for(;B<I&&(E.push(Q()),!wt(")"));)gt(",");return gt(")"),E}function Rn(){B=z.start;let E=zn();return qn(E)||ft(E),St(E.value)}function we(){return gt("."),Rn()}function Pe(){gt("[");let E=oe();return gt("]"),E}function Et(){var E,P,X;for(E=fn();;)if(wt("."))X=we(),E=Xt(".",E,X);else if(wt("("))P=dn(),E=Ie(E,P);else if(wt("["))X=Pe(),E=Xt("[",E,X);else break;return E}function O(){let E=Et();if(z.type===tt&&(wt("++")||wt("--")))throw new Error(Ye);return E}function $(){var E,P;if(z.type!==tt&&z.type!==fe)P=O();else{if(wt("++")||wt("--"))throw new Error(Ye);if(wt("+")||wt("-")||wt("~")||wt("!"))E=zn(),P=$(),P=Se(E.value,P);else{if(ee("delete")||ee("void")||ee("typeof"))throw new Error(Ye);P=O()}}return P}function ge(E){let P=0;if(E.type!==tt&&E.type!==fe)return 0;switch(E.value){case"||":P=1;break;case"&&":P=2;break;case"|":P=3;break;case"^":P=4;break;case"&":P=5;break;case"==":case"!=":case"===":case"!==":P=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":P=7;break;case"<<":case">>":case">>>":P=8;break;case"+":case"-":P=9;break;case"*":case"/":case"%":P=11;break}return P}function he(){var E,P,X,ye,ut,bt,Vt,zt,an,Dn;if(E=z,an=$(),ye=z,ut=ge(ye),ut===0)return an;for(ye.prec=ut,zn(),P=[E,z],Vt=$(),bt=[an,ye,Vt];(ut=ge(z))>0;){for(;bt.length>2&&ut<=bt[bt.length-2].prec;)Vt=bt.pop(),zt=bt.pop().value,an=bt.pop(),P.pop(),X=se(zt,an,Vt),bt.push(X);ye=zn(),ye.prec=ut,bt.push(ye),P.push(z),X=$(),bt.push(X)}for(Dn=bt.length-1,X=bt[Dn],P.pop();Dn>1;)P.pop(),X=se(bt[Dn-1].value,bt[Dn-2],X),Dn-=2;return X}function Q(){var E,P,X;return E=he(),wt("?")&&(zn(),P=Q(),gt(":"),X=Q(),E=Ze(E,P,X)),E}function oe(){let E=Q();if(wt(","))throw new Error(Ye);return E}function ae(E){N=E,B=0,I=N.length,z=null,He();let P=oe();if(z.type!==L)throw new Error("Unexpect token after expression.");return P}var ze={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Ot(E){function P(Vt,zt,an,Dn){let On=E(zt[0]);return an&&(On=an+"("+On+")",an.lastIndexOf("new ",0)===0&&(On="("+On+")")),On+"."+Vt+(Dn<0?"":Dn===0?"()":"("+zt.slice(1).map(E).join(",")+")")}function X(Vt,zt,an){return Dn=>P(Vt,Dn,zt,an)}let ye="new Date",ut="String",bt="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Vt){Vt.length<3&&e.error("Missing arguments to clamp function."),Vt.length>3&&e.error("Too many arguments to clamp function.");let zt=Vt.map(E);return"Math.max("+zt[1]+", Math.min("+zt[2]+","+zt[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:ye,date:X("getDate",ye,0),day:X("getDay",ye,0),year:X("getFullYear",ye,0),month:X("getMonth",ye,0),hours:X("getHours",ye,0),minutes:X("getMinutes",ye,0),seconds:X("getSeconds",ye,0),milliseconds:X("getMilliseconds",ye,0),time:X("getTime",ye,0),timezoneoffset:X("getTimezoneOffset",ye,0),utcdate:X("getUTCDate",ye,0),utcday:X("getUTCDay",ye,0),utcyear:X("getUTCFullYear",ye,0),utcmonth:X("getUTCMonth",ye,0),utchours:X("getUTCHours",ye,0),utcminutes:X("getUTCMinutes",ye,0),utcseconds:X("getUTCSeconds",ye,0),utcmilliseconds:X("getUTCMilliseconds",ye,0),length:X("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:X("toUpperCase",ut,0),lower:X("toLowerCase",ut,0),substring:X("substring",ut),split:X("split",ut),trim:X("trim",ut,0),regexp:bt,test:X("test",bt),if:function(Vt){Vt.length<3&&e.error("Missing arguments to if function."),Vt.length>3&&e.error("Too many arguments to if function.");let zt=Vt.map(E);return"("+zt[0]+"?"+zt[1]+":"+zt[2]+")"}}}function vt(E){let P=E&&E.length-1;return P&&(E[0]==='"'&&E[P]==='"'||E[0]==="'"&&E[P]==="'")?E.slice(1,-1):E}function tn(E){E=E||{};let P=E.allowed?e.toSet(E.allowed):{},X=E.forbidden?e.toSet(E.forbidden):{},ye=E.constants||ze,ut=(E.functions||Ot)(In),bt=E.globalvar,Vt=E.fieldvar,zt=e.isFunction(bt)?bt:rr=>`${bt}["${rr}"]`,an={},Dn={},On=0;function In(rr){if(e.isString(rr))return rr;let br=Mr[rr.type];return br==null&&e.error("Unsupported type: "+rr.type),br(rr)}let Mr={Literal:rr=>rr.raw,Identifier:rr=>{let br=rr.name;return On>0?br:e.hasOwnProperty(X,br)?e.error("Illegal identifier: "+br):e.hasOwnProperty(ye,br)?ye[br]:e.hasOwnProperty(P,br)?br:(an[br]=1,zt(br))},MemberExpression:rr=>{let br=!rr.computed,Zr=In(rr.object);br&&(On+=1);let Wr=In(rr.property);return Zr===Vt&&(Dn[vt(Wr)]=1),br&&(On-=1),Zr+(br?"."+Wr:"["+Wr+"]")},CallExpression:rr=>{rr.callee.type!=="Identifier"&&e.error("Illegal callee type: "+rr.callee.type);let br=rr.callee.name,Zr=rr.arguments,Wr=e.hasOwnProperty(ut,br)&&ut[br];return Wr||e.error("Unrecognized function: "+br),e.isFunction(Wr)?Wr(Zr):Wr+"("+Zr.map(In).join(",")+")"},ArrayExpression:rr=>"["+rr.elements.map(In).join(",")+"]",BinaryExpression:rr=>"("+In(rr.left)+" "+rr.operator+" "+In(rr.right)+")",UnaryExpression:rr=>"("+rr.operator+In(rr.argument)+")",ConditionalExpression:rr=>"("+In(rr.test)+"?"+In(rr.consequent)+":"+In(rr.alternate)+")",LogicalExpression:rr=>"("+In(rr.left)+rr.operator+In(rr.right)+")",ObjectExpression:rr=>"{"+rr.properties.map(In).join(",")+"}",Property:rr=>{On+=1;let br=In(rr.key);return On-=1,br+":"+In(rr.value)}};function Dr(rr){let br={code:In(rr),globals:Object.keys(an),fields:Object.keys(Dn)};return an={},Dn={},br}return Dr.functions=ut,Dr.constants=ye,Dr}n.ASTNode=D,n.ArrayExpression=o,n.BinaryExpression=a,n.CallExpression=l,n.ConditionalExpression=f,n.Identifier=s,n.Literal=r,n.LogicalExpression=p,n.MemberExpression=v,n.ObjectExpression=b,n.Property=i,n.RawCode=t,n.UnaryExpression=F,n.codegenExpression=tn,n.constants=ze,n.functions=Ot,n.parseExpression=ae,Object.defineProperty(n,"__esModule",{value:!0})})});var MPe=G((sV,IPe)=>{d();(function(n,e){typeof sV=="object"&&typeof IPe!="undefined"?e(sV,Ma(),iV()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(sV,function(n,e,t){"use strict";function r(Ge,rt){return Ge==null||rt==null?NaN:Ge<rt?-1:Ge>rt?1:Ge>=rt?0:NaN}function i(Ge){let rt=Ge,Bt=Ge,_t=Ge;Ge.length!==2&&(rt=(Gt,xt)=>Ge(Gt)-xt,Bt=r,_t=(Gt,xt)=>r(Ge(Gt),xt));function un(Gt,xt,ve=0,Oe=Gt.length){if(ve<Oe){if(Bt(xt,xt)!==0)return Oe;do{let xe=ve+Oe>>>1;_t(Gt[xe],xt)<0?ve=xe+1:Oe=xe}while(ve<Oe)}return ve}function Tt(Gt,xt,ve=0,Oe=Gt.length){if(ve<Oe){if(Bt(xt,xt)!==0)return Oe;do{let xe=ve+Oe>>>1;_t(Gt[xe],xt)<=0?ve=xe+1:Oe=xe}while(ve<Oe)}return ve}function Rt(Gt,xt,ve=0,Oe=Gt.length){let xe=un(Gt,xt,ve,Oe-1);return xe>ve&&rt(Gt[xe-1],xt)>-rt(Gt[xe],xt)?xe-1:xe}return{left:un,center:Rt,right:Tt}}class s extends Set{constructor(rt,Bt=f){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Bt}}),rt!=null)for(let _t of rt)this.add(_t)}has(rt){return super.has(o(this,rt))}add(rt){return super.add(a(this,rt))}delete(rt){return super.delete(l(this,rt))}}function o({_intern:Ge,_key:rt},Bt){let _t=rt(Bt);return Ge.has(_t)?Ge.get(_t):Bt}function a({_intern:Ge,_key:rt},Bt){let _t=rt(Bt);return Ge.has(_t)?Ge.get(_t):(Ge.set(_t,Bt),Bt)}function l({_intern:Ge,_key:rt},Bt){let _t=rt(Bt);return Ge.has(_t)&&(Bt=Ge.get(_t),Ge.delete(_t)),Bt}function f(Ge){return Ge!==null&&typeof Ge=="object"?Ge.valueOf():Ge}function p(Ge,...rt){Ge=new s(Ge),rt=rt.map(v);e:for(let Bt of Ge)for(let _t of rt)if(!_t.has(Bt)){Ge.delete(Bt);continue e}return Ge}function v(Ge){return Ge instanceof s?Ge:new s(Ge)}function b(...Ge){let rt=new s;for(let Bt of Ge)for(let _t of Bt)rt.add(_t);return rt}let F="intersect",D="union",M="vlMulti",q="vlPoint",N="or",B="and",I="_vgsid_",z=e.field(I),ie="E",L="R",Y="R-E",fe="R-LE",me="R-RE",Be="index:unit";function tt(Ge,rt){for(var Bt=rt.fields,_t=rt.values,un=Bt.length,Tt=0,Rt,Gt;Tt<un;++Tt)if(Gt=Bt[Tt],Gt.getter=e.field.getter||e.field(Gt.field),Rt=Gt.getter(Ge),e.isDate(Rt)&&(Rt=e.toNumber(Rt)),e.isDate(_t[Tt])&&(_t[Tt]=e.toNumber(_t[Tt])),e.isDate(_t[Tt][0])&&(_t[Tt]=_t[Tt].map(e.toNumber)),Gt.type===ie){if(e.isArray(_t[Tt])?_t[Tt].indexOf(Rt)<0:Rt!==_t[Tt])return!1}else if(Gt.type===L){if(!e.inrange(Rt,_t[Tt]))return!1}else if(Gt.type===me){if(!e.inrange(Rt,_t[Tt],!0,!1))return!1}else if(Gt.type===Y){if(!e.inrange(Rt,_t[Tt],!1,!1))return!1}else if(Gt.type===fe&&!e.inrange(Rt,_t[Tt],!1,!0))return!1;return!0}function st(Ge,rt,Bt){for(var _t=this.context.data[Ge],un=_t?_t.values.value:[],Tt=_t?_t[Be]&&_t[Be].value:void 0,Rt=Bt===F,Gt=un.length,xt=0,ve,Oe,xe,le,Ye;xt<Gt;++xt)if(ve=un[xt],Tt&&Rt){if(Oe=Oe||{},xe=Oe[le=ve.unit]||0,xe===-1)continue;if(Ye=tt(rt,ve),Oe[le]=Ye?-1:++xe,Ye&&Tt.size===1)return!0;if(!Ye&&xe===Tt.get(le).count)return!1}else if(Ye=tt(rt,ve),Rt^Ye)return Ye;return Gt&&Rt}let Qe=i(z),mt=Qe.left,Lt=Qe.right;function je(Ge,rt,Bt){let _t=this.context.data[Ge],un=_t?_t.values.value:[],Tt=_t?_t[Be]&&_t[Be].value:void 0,Rt=Bt===F,Gt=z(rt),xt=mt(un,Gt);if(xt===un.length||z(un[xt])!==Gt)return!1;if(Tt&&Rt){if(Tt.size===1)return!0;if(Lt(un,Gt)-xt<Tt.size)return!1}return!0}function Z(Ge,rt){return Ge.map(Bt=>e.extend(rt.fields?{values:rt.fields.map(_t=>(_t.getter||(_t.getter=e.field(_t.field)))(Bt.datum))}:{[I]:z(Bt.datum)},rt))}function Ke(Ge,rt,Bt,_t){for(var un=this.context.data[Ge],Tt=un?un.values.value:[],Rt={},Gt={},xt={},ve,Oe,xe,le,Ye,Ve,te,Ae,Xe,ot,Ct=Tt.length,$t=0,Ut,sn;$t<Ct;++$t)if(ve=Tt[$t],le=ve.unit,Oe=ve.fields,xe=ve.values,Oe&&xe){for(Ut=0,sn=Oe.length;Ut<sn;++Ut)Ye=Oe[Ut],te=Rt[Ye.field]||(Rt[Ye.field]={}),Ae=te[le]||(te[le]=[]),xt[Ye.field]=Xe=Ye.type.charAt(0),ot=_e[`${Xe}_union`],te[le]=ot(Ae,e.array(xe[Ut]));Bt&&(Ae=Gt[le]||(Gt[le]=[]),Ae.push(e.array(xe).reduce((ln,cn,Ft)=>(ln[Oe[Ft].field]=cn,ln),{})))}else Ye=I,Ve=z(ve),te=Rt[Ye]||(Rt[Ye]={}),Ae=te[le]||(te[le]=[]),Ae.push(Ve),Bt&&(Ae=Gt[le]||(Gt[le]=[]),Ae.push({[I]:Ve}));if(rt=rt||D,Rt[I]?Rt[I]=_e[`${I}_${rt}`](...Object.values(Rt[I])):Object.keys(Rt).forEach(ln=>{Rt[ln]=Object.keys(Rt[ln]).map(cn=>Rt[ln][cn]).reduce((cn,Ft)=>cn===void 0?Ft:_e[`${xt[ln]}_${rt}`](cn,Ft))}),Tt=Object.keys(Gt),Bt&&Tt.length){let ln=_t?q:M;Rt[ln]=rt===D?{[N]:Tt.reduce((cn,Ft)=>(cn.push(...Gt[Ft]),cn),[])}:{[B]:Tt.map(cn=>({[N]:Gt[cn]}))}}return Rt}var _e={[`${I}_union`]:b,[`${I}_intersect`]:p,E_union:function(Ge,rt){if(!Ge.length)return rt;for(var Bt=0,_t=rt.length;Bt<_t;++Bt)Ge.indexOf(rt[Bt])<0&&Ge.push(rt[Bt]);return Ge},E_intersect:function(Ge,rt){return Ge.length?Ge.filter(Bt=>rt.indexOf(Bt)>=0):rt},R_union:function(Ge,rt){var Bt=e.toNumber(rt[0]),_t=e.toNumber(rt[1]);return Bt>_t&&(Bt=rt[1],_t=rt[0]),Ge.length?(Ge[0]>Bt&&(Ge[0]=Bt),Ge[1]<_t&&(Ge[1]=_t),Ge):[Bt,_t]},R_intersect:function(Ge,rt){var Bt=e.toNumber(rt[0]),_t=e.toNumber(rt[1]);return Bt>_t&&(Bt=rt[1],_t=rt[0]),Ge.length?_t<Ge[0]||Ge[1]<Bt?[]:(Ge[0]<Bt&&(Ge[0]=Bt),Ge[1]>_t&&(Ge[1]=_t),Ge):[Bt,_t]}};let De=":",be="@";function de(Ge,rt,Bt,_t){rt[0].type!==t.Literal&&e.error("First argument to selection functions must be a string literal.");let un=rt[0].value,Tt=rt.length>=2&&e.peek(rt).value,Rt="unit",Gt=be+Rt,xt=De+un;Tt===F&&!e.hasOwnProperty(_t,Gt)&&(_t[Gt]=Bt.getData(un).indataRef(Bt,Rt)),e.hasOwnProperty(_t,xt)||(_t[xt]=Bt.getData(un).tuplesRef())}n.selectionIdTest=je,n.selectionResolve=Ke,n.selectionTest=st,n.selectionTuples=Z,n.selectionVisitor=de,Object.defineProperty(n,"__esModule",{value:!0})})});var aV=G((oV,PPe)=>{d();(function(n,e){typeof oV=="object"&&typeof PPe!="undefined"?e(oV,Ma(),iV(),qc(),U6(),t9(),MPe(),q6(),e9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression","vega-dataflow","vega-scale","vega-scenegraph","vega-selections","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(oV,function(n,e,t,r,i,s,o,a,l){"use strict";function f(ue){let nt=this.context.data[ue];return nt?nt.values.value:[]}function p(ue,nt,Wt){let vn=this.context.data[ue]["index:"+nt],Vn=vn?vn.value.get(Wt):void 0;return Vn&&Vn.count}function v(ue,nt){let Wt=this.context.dataflow,vn=this.context.data[ue],Vn=vn.input;return Wt.pulse(Vn,Wt.changeset().remove(e.truthy).insert(nt)),1}function b(ue,nt,Wt){if(ue){let vn=this.context.dataflow,Vn=ue.mark.source;vn.pulse(Vn,vn.changeset().encode(ue,nt))}return Wt!==void 0?Wt:ue}let F=ue=>function(nt,Wt){return this.context.dataflow.locale()[ue](Wt)(nt)},D=F("format"),M=F("timeFormat"),q=F("utcFormat"),N=F("timeParse"),B=F("utcParse"),I=new Date(2e3,0,1);function z(ue,nt,Wt){return!Number.isInteger(ue)||!Number.isInteger(nt)?"":(I.setYear(2e3),I.setMonth(ue),I.setDate(nt),M.call(this,I,Wt))}function ie(ue){return z.call(this,ue,1,"%B")}function L(ue){return z.call(this,ue,1,"%b")}function Y(ue){return z.call(this,0,2+ue,"%A")}function fe(ue){return z.call(this,0,2+ue,"%a")}let me=":",Be="@",tt="%",st="$";function Qe(ue,nt,Wt,vn){nt[0].type!==t.Literal&&e.error("First argument to data functions must be a string literal.");let Vn=nt[0].value,sr=me+Vn;if(!e.hasOwnProperty(sr,vn))try{vn[sr]=Wt.getData(Vn).tuplesRef()}catch{}}function mt(ue,nt,Wt,vn){nt[0].type!==t.Literal&&e.error("First argument to indata must be a string literal."),nt[1].type!==t.Literal&&e.error("Second argument to indata must be a string literal.");let Vn=nt[0].value,sr=nt[1].value,mr=Be+sr;e.hasOwnProperty(mr,vn)||(vn[mr]=Wt.getData(Vn).indataRef(Wt,sr))}function Lt(ue,nt,Wt,vn){if(nt[0].type===t.Literal)je(Wt,vn,nt[0].value);else for(ue in Wt.scales)je(Wt,vn,ue)}function je(ue,nt,Wt){let vn=tt+Wt;if(!e.hasOwnProperty(nt,vn))try{nt[vn]=ue.scaleRef(Wt)}catch{}}function Z(ue,nt){let Wt;return e.isFunction(ue)?ue:e.isString(ue)?(Wt=nt.scales[ue])&&Wt.value:void 0}function Ke(ue,nt,Wt){nt.__bandwidth=Vn=>Vn&&Vn.bandwidth?Vn.bandwidth():0,Wt._bandwidth=Lt,Wt._range=Lt,Wt._scale=Lt;let vn=Vn=>"_["+(Vn.type===t.Literal?e.stringValue(tt+Vn.value):e.stringValue(tt)+"+"+ue(Vn))+"]";return{_bandwidth:Vn=>`this.__bandwidth(${vn(Vn[0])})`,_range:Vn=>`${vn(Vn[0])}.range()`,_scale:Vn=>`${vn(Vn[0])}(${ue(Vn[1])})`}}class _e{constructor(){this._partials=new Float64Array(32),this._n=0}add(nt){let Wt=this._partials,vn=0;for(let Vn=0;Vn<this._n&&Vn<32;Vn++){let sr=Wt[Vn],mr=nt+sr,Fi=Math.abs(nt)<Math.abs(sr)?nt-(mr-sr):sr-(mr-nt);Fi&&(Wt[vn++]=Fi),nt=mr}return Wt[vn]=nt,this._n=vn+1,this}valueOf(){let nt=this._partials,Wt=this._n,vn,Vn,sr,mr=0;if(Wt>0){for(mr=nt[--Wt];Wt>0&&(vn=mr,Vn=nt[--Wt],mr=vn+Vn,sr=Vn-(mr-vn),!sr););Wt>0&&(sr<0&&nt[Wt-1]<0||sr>0&&nt[Wt-1]>0)&&(Vn=sr*2,vn=mr+Vn,Vn==vn-mr&&(mr=vn))}return mr}}function De(ue,nt,Wt){ue=+ue,nt=+nt,Wt=(Vn=arguments.length)<2?(nt=ue,ue=0,1):Vn<3?1:+Wt;for(var vn=-1,Vn=Math.max(0,Math.ceil((nt-ue)/Wt))|0,sr=new Array(Vn);++vn<Vn;)sr[vn]=ue+vn*Wt;return sr}var be=1e-6,de=1e-12,Ge=Math.PI,rt=Ge/2,Bt=Ge/4,_t=Ge*2,un=180/Ge,Tt=Ge/180,Rt=Math.abs,Gt=Math.atan2,xt=Math.cos,ve=Math.hypot,Oe=Math.sin,xe=Math.sqrt;function le(ue){return ue>1?rt:ue<-1?-rt:Math.asin(ue)}function Ye(){}function Ve(ue,nt){ue&&Ae.hasOwnProperty(ue.type)&&Ae[ue.type](ue,nt)}var te={Feature:function(ue,nt){Ve(ue.geometry,nt)},FeatureCollection:function(ue,nt){for(var Wt=ue.features,vn=-1,Vn=Wt.length;++vn<Vn;)Ve(Wt[vn].geometry,nt)}},Ae={Sphere:function(ue,nt){nt.sphere()},Point:function(ue,nt){ue=ue.coordinates,nt.point(ue[0],ue[1],ue[2])},MultiPoint:function(ue,nt){for(var Wt=ue.coordinates,vn=-1,Vn=Wt.length;++vn<Vn;)ue=Wt[vn],nt.point(ue[0],ue[1],ue[2])},LineString:function(ue,nt){Xe(ue.coordinates,nt,0)},MultiLineString:function(ue,nt){for(var Wt=ue.coordinates,vn=-1,Vn=Wt.length;++vn<Vn;)Xe(Wt[vn],nt,0)},Polygon:function(ue,nt){ot(ue.coordinates,nt)},MultiPolygon:function(ue,nt){for(var Wt=ue.coordinates,vn=-1,Vn=Wt.length;++vn<Vn;)ot(Wt[vn],nt)},GeometryCollection:function(ue,nt){for(var Wt=ue.geometries,vn=-1,Vn=Wt.length;++vn<Vn;)Ve(Wt[vn],nt)}};function Xe(ue,nt,Wt){var vn=-1,Vn=ue.length-Wt,sr;for(nt.lineStart();++vn<Vn;)sr=ue[vn],nt.point(sr[0],sr[1],sr[2]);nt.lineEnd()}function ot(ue,nt){var Wt=-1,vn=ue.length;for(nt.polygonStart();++Wt<vn;)Xe(ue[Wt],nt,1);nt.polygonEnd()}function Ct(ue,nt){ue&&te.hasOwnProperty(ue.type)?te[ue.type](ue,nt):Ve(ue,nt)}var $t=new _e,Ut=new _e,sn,ln,cn,Ft,nn,An={point:Ye,lineStart:Ye,lineEnd:Ye,polygonStart:function(){$t=new _e,An.lineStart=$n,An.lineEnd=Cn},polygonEnd:function(){var ue=+$t;Ut.add(ue<0?_t+ue:ue),this.lineStart=this.lineEnd=this.point=Ye},sphere:function(){Ut.add(_t)}};function $n(){An.point=Fe}function Cn(){qe(sn,ln)}function Fe(ue,nt){An.point=qe,sn=ue,ln=nt,ue*=Tt,nt*=Tt,cn=ue,Ft=xt(nt=nt/2+Bt),nn=Oe(nt)}function qe(ue,nt){ue*=Tt,nt*=Tt,nt=nt/2+Bt;var Wt=ue-cn,vn=Wt>=0?1:-1,Vn=vn*Wt,sr=xt(nt),mr=Oe(nt),Fi=nn*mr,Ji=Ft*sr+Fi*xt(Vn),Cs=Fi*vn*Oe(Vn);$t.add(Gt(Cs,Ji)),cn=ue,Ft=sr,nn=mr}function Ce(ue){return Ut=new _e,Ct(ue,An),Ut*2}function Dt(ue){return[Gt(ue[1],ue[0]),le(ue[2])]}function lt(ue){var nt=ue[0],Wt=ue[1],vn=xt(Wt);return[vn*xt(nt),vn*Oe(nt),Oe(Wt)]}function ct(ue,nt){return[ue[1]*nt[2]-ue[2]*nt[1],ue[2]*nt[0]-ue[0]*nt[2],ue[0]*nt[1]-ue[1]*nt[0]]}function Yt(ue){var nt=xe(ue[0]*ue[0]+ue[1]*ue[1]+ue[2]*ue[2]);ue[0]/=nt,ue[1]/=nt,ue[2]/=nt}var qt,gn,kn,qn,bn,zn,He,ht,se,Ie,Ze,St={point:rn,lineStart:at,lineEnd:ne,polygonStart:function(){St.point=Se,St.lineStart=Me,St.lineEnd=ft,se=new _e,An.polygonStart()},polygonEnd:function(){An.polygonEnd(),St.point=rn,St.lineStart=at,St.lineEnd=ne,$t<0?(qt=-(kn=180),gn=-(qn=90)):se>be?qn=90:se<-be&&(gn=-90),Ze[0]=qt,Ze[1]=kn},sphere:function(){qt=-(kn=180),gn=-(qn=90)}};function rn(ue,nt){Ie.push(Ze=[qt=ue,kn=ue]),nt<gn&&(gn=nt),nt>qn&&(qn=nt)}function Xt(ue,nt){var Wt=lt([ue*Tt,nt*Tt]);if(ht){var vn=ct(ht,Wt),Vn=[vn[1],-vn[0],0],sr=ct(Vn,vn);Yt(sr),sr=Dt(sr);var mr=ue-bn,Fi=mr>0?1:-1,Ji=sr[0]*un*Fi,Cs,Is=Rt(mr)>180;Is^(Fi*bn<Ji&&Ji<Fi*ue)?(Cs=sr[1]*un,Cs>qn&&(qn=Cs)):(Ji=(Ji+360)%360-180,Is^(Fi*bn<Ji&&Ji<Fi*ue)?(Cs=-sr[1]*un,Cs<gn&&(gn=Cs)):(nt<gn&&(gn=nt),nt>qn&&(qn=nt))),Is?ue<bn?gt(qt,ue)>gt(qt,kn)&&(kn=ue):gt(ue,kn)>gt(qt,kn)&&(qt=ue):kn>=qt?(ue<qt&&(qt=ue),ue>kn&&(kn=ue)):ue>bn?gt(qt,ue)>gt(qt,kn)&&(kn=ue):gt(ue,kn)>gt(qt,kn)&&(qt=ue)}else Ie.push(Ze=[qt=ue,kn=ue]);nt<gn&&(gn=nt),nt>qn&&(qn=nt),ht=Wt,bn=ue}function at(){St.point=Xt}function ne(){Ze[0]=qt,Ze[1]=kn,St.point=rn,ht=null}function Se(ue,nt){if(ht){var Wt=ue-bn;se.add(Rt(Wt)>180?Wt+(Wt>0?360:-360):Wt)}else zn=ue,He=nt;An.point(ue,nt),Xt(ue,nt)}function Me(){An.lineStart()}function ft(){Se(zn,He),An.lineEnd(),Rt(se)>be&&(qt=-(kn=180)),Ze[0]=qt,Ze[1]=kn,ht=null}function gt(ue,nt){return(nt-=ue)<0?nt+360:nt}function wt(ue,nt){return ue[0]-nt[0]}function ee(ue,nt){return ue[0]<=ue[1]?ue[0]<=nt&&nt<=ue[1]:nt<ue[0]||ue[1]<nt}function Ee(ue){var nt,Wt,vn,Vn,sr,mr,Fi;if(qn=kn=-(qt=gn=1/0),Ie=[],Ct(ue,St),Wt=Ie.length){for(Ie.sort(wt),nt=1,vn=Ie[0],sr=[vn];nt<Wt;++nt)Vn=Ie[nt],ee(vn,Vn[0])||ee(vn,Vn[1])?(gt(vn[0],Vn[1])>gt(vn[0],vn[1])&&(vn[1]=Vn[1]),gt(Vn[0],vn[1])>gt(vn[0],vn[1])&&(vn[0]=Vn[0])):sr.push(vn=Vn);for(mr=-1/0,Wt=sr.length-1,nt=0,vn=sr[Wt];nt<=Wt;vn=Vn,++nt)Vn=sr[nt],(Fi=gt(vn[1],Vn[0]))>mr&&(mr=Fi,qt=Vn[0],kn=vn[1])}return Ie=Ze=null,qt===1/0||gn===1/0?[[NaN,NaN],[NaN,NaN]]:[[qt,gn],[kn,qn]]}var $e,et,It,Kt,mn,fn,dn,Rn,we,Pe,Et,O,$,ge,he,Q,oe={sphere:Ye,point:ae,lineStart:Ot,lineEnd:E,polygonStart:function(){oe.lineStart=P,oe.lineEnd=X},polygonEnd:function(){oe.lineStart=Ot,oe.lineEnd=E}};function ae(ue,nt){ue*=Tt,nt*=Tt;var Wt=xt(nt);ze(Wt*xt(ue),Wt*Oe(ue),Oe(nt))}function ze(ue,nt,Wt){++$e,It+=(ue-It)/$e,Kt+=(nt-Kt)/$e,mn+=(Wt-mn)/$e}function Ot(){oe.point=vt}function vt(ue,nt){ue*=Tt,nt*=Tt;var Wt=xt(nt);ge=Wt*xt(ue),he=Wt*Oe(ue),Q=Oe(nt),oe.point=tn,ze(ge,he,Q)}function tn(ue,nt){ue*=Tt,nt*=Tt;var Wt=xt(nt),vn=Wt*xt(ue),Vn=Wt*Oe(ue),sr=Oe(nt),mr=Gt(xe((mr=he*sr-Q*Vn)*mr+(mr=Q*vn-ge*sr)*mr+(mr=ge*Vn-he*vn)*mr),ge*vn+he*Vn+Q*sr);et+=mr,fn+=mr*(ge+(ge=vn)),dn+=mr*(he+(he=Vn)),Rn+=mr*(Q+(Q=sr)),ze(ge,he,Q)}function E(){oe.point=ae}function P(){oe.point=ye}function X(){ut(O,$),oe.point=ae}function ye(ue,nt){O=ue,$=nt,ue*=Tt,nt*=Tt,oe.point=ut;var Wt=xt(nt);ge=Wt*xt(ue),he=Wt*Oe(ue),Q=Oe(nt),ze(ge,he,Q)}function ut(ue,nt){ue*=Tt,nt*=Tt;var Wt=xt(nt),vn=Wt*xt(ue),Vn=Wt*Oe(ue),sr=Oe(nt),mr=he*sr-Q*Vn,Fi=Q*vn-ge*sr,Ji=ge*Vn-he*vn,Cs=ve(mr,Fi,Ji),Is=le(Cs),Ua=Cs&&-Is/Cs;we.add(Ua*mr),Pe.add(Ua*Fi),Et.add(Ua*Ji),et+=Is,fn+=Is*(ge+(ge=vn)),dn+=Is*(he+(he=Vn)),Rn+=Is*(Q+(Q=sr)),ze(ge,he,Q)}function bt(ue){$e=et=It=Kt=mn=fn=dn=Rn=0,we=new _e,Pe=new _e,Et=new _e,Ct(ue,oe);var nt=+we,Wt=+Pe,vn=+Et,Vn=ve(nt,Wt,vn);return Vn<de&&(nt=fn,Wt=dn,vn=Rn,et<be&&(nt=It,Wt=Kt,vn=mn),Vn=ve(nt,Wt,vn),Vn<de)?[NaN,NaN]:[Gt(Wt,nt)*un,le(vn/Vn)*un]}function Vt(ue,nt){return function(Wt,vn,Vn){if(Wt){let sr=Z(Wt,(Vn||this).context);return sr&&sr.path[ue](vn)}else return nt(vn)}}let zt=Vt("area",Ce),an=Vt("bounds",Ee),Dn=Vt("centroid",bt);function On(ue){let nt=this.context.group,Wt=!1;if(nt)for(;ue;){if(ue===nt){Wt=!0;break}ue=ue.mark.group}return Wt}function In(ue,nt,Wt){try{ue[nt].apply(ue,["EXPRESSION"].concat([].slice.call(Wt)))}catch(vn){ue.warn(vn)}return Wt[Wt.length-1]}function Mr(){return In(this.context.dataflow,"warn",arguments)}function Dr(){return In(this.context.dataflow,"info",arguments)}function rr(){return In(this.context.dataflow,"debug",arguments)}function br(ue,nt,Wt){ue.prototype=nt.prototype=Wt,Wt.constructor=ue}function Zr(ue,nt){var Wt=Object.create(ue.prototype);for(var vn in nt)Wt[vn]=nt[vn];return Wt}function Wr(){}var Ti=.7,Ki=1/Ti,Ni="\\s*([+-]?\\d+)\\s*",ta="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gu=/^#([0-9a-f]{3,8})$/,hc=new RegExp("^rgb\\("+[Ni,Ni,Ni]+"\\)$"),eu=new RegExp("^rgb\\("+[na,na,na]+"\\)$"),tu=new RegExp("^rgba\\("+[Ni,Ni,Ni,ta]+"\\)$"),Sl=new RegExp("^rgba\\("+[na,na,na,ta]+"\\)$"),gu=new RegExp("^hsl\\("+[ta,na,na]+"\\)$"),pc=new RegExp("^hsla\\("+[ta,na,na,ta]+"\\)$"),To={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};br(Wr,Qt,{copy:function(ue){return Object.assign(new this.constructor,this,ue)},displayable:function(){return this.rgb().displayable()},hex:Ru,formatHex:Ru,formatHsl:zc,formatRgb:Je,toString:Je});function Ru(){return this.rgb().formatHex()}function zc(){return zs(this).formatHsl()}function Je(){return this.rgb().formatRgb()}function Qt(ue){var nt,Wt;return ue=(ue+"").trim().toLowerCase(),(nt=Gu.exec(ue))?(Wt=nt[1].length,nt=parseInt(nt[1],16),Wt===6?Tn(nt):Wt===3?new kr(nt>>8&15|nt>>4&240,nt>>4&15|nt&240,(nt&15)<<4|nt&15,1):Wt===8?Pn(nt>>24&255,nt>>16&255,nt>>8&255,(nt&255)/255):Wt===4?Pn(nt>>12&15|nt>>8&240,nt>>8&15|nt>>4&240,nt>>4&15|nt&240,((nt&15)<<4|nt&15)/255):null):(nt=hc.exec(ue))?new kr(nt[1],nt[2],nt[3],1):(nt=eu.exec(ue))?new kr(nt[1]*255/100,nt[2]*255/100,nt[3]*255/100,1):(nt=tu.exec(ue))?Pn(nt[1],nt[2],nt[3],nt[4]):(nt=Sl.exec(ue))?Pn(nt[1]*255/100,nt[2]*255/100,nt[3]*255/100,nt[4]):(nt=gu.exec(ue))?Js(nt[1],nt[2]/100,nt[3]/100,1):(nt=pc.exec(ue))?Js(nt[1],nt[2]/100,nt[3]/100,nt[4]):To.hasOwnProperty(ue)?Tn(To[ue]):ue==="transparent"?new kr(NaN,NaN,NaN,0):null}function Tn(ue){return new kr(ue>>16&255,ue>>8&255,ue&255,1)}function Pn(ue,nt,Wt,vn){return vn<=0&&(ue=nt=Wt=NaN),new kr(ue,nt,Wt,vn)}function Ur(ue){return ue instanceof Wr||(ue=Qt(ue)),ue?(ue=ue.rgb(),new kr(ue.r,ue.g,ue.b,ue.opacity)):new kr}function wr(ue,nt,Wt,vn){return arguments.length===1?Ur(ue):new kr(ue,nt,Wt,vn??1)}function kr(ue,nt,Wt,vn){this.r=+ue,this.g=+nt,this.b=+Wt,this.opacity=+vn}br(kr,wr,Zr(Wr,{brighter:function(ue){return ue=ue==null?Ki:Math.pow(Ki,ue),new kr(this.r*ue,this.g*ue,this.b*ue,this.opacity)},darker:function(ue){return ue=ue==null?Ti:Math.pow(Ti,ue),new kr(this.r*ue,this.g*ue,this.b*ue,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:es,formatHex:es,formatRgb:$s,toString:$s}));function es(){return"#"+Ls(this.r)+Ls(this.g)+Ls(this.b)}function $s(){var ue=this.opacity;return ue=isNaN(ue)?1:Math.max(0,Math.min(1,ue)),(ue===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ue===1?")":", "+ue+")")}function Ls(ue){return ue=Math.max(0,Math.min(255,Math.round(ue)||0)),(ue<16?"0":"")+ue.toString(16)}function Js(ue,nt,Wt,vn){return vn<=0?ue=nt=Wt=NaN:Wt<=0||Wt>=1?ue=nt=NaN:nt<=0&&(ue=NaN),new Xr(ue,nt,Wt,vn)}function zs(ue){if(ue instanceof Xr)return new Xr(ue.h,ue.s,ue.l,ue.opacity);if(ue instanceof Wr||(ue=Qt(ue)),!ue)return new Xr;if(ue instanceof Xr)return ue;ue=ue.rgb();var nt=ue.r/255,Wt=ue.g/255,vn=ue.b/255,Vn=Math.min(nt,Wt,vn),sr=Math.max(nt,Wt,vn),mr=NaN,Fi=sr-Vn,Ji=(sr+Vn)/2;return Fi?(nt===sr?mr=(Wt-vn)/Fi+(Wt<vn)*6:Wt===sr?mr=(vn-nt)/Fi+2:mr=(nt-Wt)/Fi+4,Fi/=Ji<.5?sr+Vn:2-sr-Vn,mr*=60):Fi=Ji>0&&Ji<1?0:mr,new Xr(mr,Fi,Ji,ue.opacity)}function go(ue,nt,Wt,vn){return arguments.length===1?zs(ue):new Xr(ue,nt,Wt,vn??1)}function Xr(ue,nt,Wt,vn){this.h=+ue,this.s=+nt,this.l=+Wt,this.opacity=+vn}br(Xr,go,Zr(Wr,{brighter:function(ue){return ue=ue==null?Ki:Math.pow(Ki,ue),new Xr(this.h,this.s,this.l*ue,this.opacity)},darker:function(ue){return ue=ue==null?Ti:Math.pow(Ti,ue),new Xr(this.h,this.s,this.l*ue,this.opacity)},rgb:function(){var ue=this.h%360+(this.h<0)*360,nt=isNaN(ue)||isNaN(this.s)?0:this.s,Wt=this.l,vn=Wt+(Wt<.5?Wt:1-Wt)*nt,Vn=2*Wt-vn;return new kr(si(ue>=240?ue-240:ue+120,Vn,vn),si(ue,Vn,vn),si(ue<120?ue+240:ue-120,Vn,vn),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ue=this.opacity;return ue=isNaN(ue)?1:Math.max(0,Math.min(1,ue)),(ue===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ue===1?")":", "+ue+")")}}));function si(ue,nt,Wt){return(ue<60?nt+(Wt-nt)*ue/60:ue<180?Wt:ue<240?nt+(Wt-nt)*(240-ue)/60:nt)*255}let Vi=Math.PI/180,Fo=180/Math.PI,Vo=18,Wo=.96422,Hs=1,qi=.82521,$i=4/29,ts=6/29,nu=3*ts*ts,Eo=ts*ts*ts;function Qo(ue){if(ue instanceof Ei)return new Ei(ue.l,ue.a,ue.b,ue.opacity);if(ue instanceof lo)return Gs(ue);ue instanceof kr||(ue=Ur(ue));var nt=Ro(ue.r),Wt=Ro(ue.g),vn=Ro(ue.b),Vn=No((.2225045*nt+.7168786*Wt+.0606169*vn)/Hs),sr,mr;return nt===Wt&&Wt===vn?sr=mr=Vn:(sr=No((.4360747*nt+.3850649*Wt+.1430804*vn)/Wo),mr=No((.0139322*nt+.0971045*Wt+.7141733*vn)/qi)),new Ei(116*Vn-16,500*(sr-Vn),200*(Vn-mr),ue.opacity)}function Mo(ue,nt,Wt,vn){return arguments.length===1?Qo(ue):new Ei(ue,nt,Wt,vn??1)}function Ei(ue,nt,Wt,vn){this.l=+ue,this.a=+nt,this.b=+Wt,this.opacity=+vn}br(Ei,Mo,Zr(Wr,{brighter:function(ue){return new Ei(this.l+Vo*(ue??1),this.a,this.b,this.opacity)},darker:function(ue){return new Ei(this.l-Vo*(ue??1),this.a,this.b,this.opacity)},rgb:function(){var ue=(this.l+16)/116,nt=isNaN(this.a)?ue:ue+this.a/500,Wt=isNaN(this.b)?ue:ue-this.b/200;return nt=Wo*ns(nt),ue=Hs*ns(ue),Wt=qi*ns(Wt),new kr(ys(3.1338561*nt-1.6168667*ue-.4906146*Wt),ys(-.9787684*nt+1.9161415*ue+.033454*Wt),ys(.0719453*nt-.2289914*ue+1.4052427*Wt),this.opacity)}}));function No(ue){return ue>Eo?Math.pow(ue,1/3):ue/nu+$i}function ns(ue){return ue>ts?ue*ue*ue:nu*(ue-$i)}function ys(ue){return 255*(ue<=.0031308?12.92*ue:1.055*Math.pow(ue,1/2.4)-.055)}function Ro(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Ba(ue){if(ue instanceof lo)return new lo(ue.h,ue.c,ue.l,ue.opacity);if(ue instanceof Ei||(ue=Qo(ue)),ue.a===0&&ue.b===0)return new lo(NaN,0<ue.l&&ue.l<100?0:NaN,ue.l,ue.opacity);var nt=Math.atan2(ue.b,ue.a)*Fo;return new lo(nt<0?nt+360:nt,Math.sqrt(ue.a*ue.a+ue.b*ue.b),ue.l,ue.opacity)}function ja(ue,nt,Wt,vn){return arguments.length===1?Ba(ue):new lo(ue,nt,Wt,vn??1)}function lo(ue,nt,Wt,vn){this.h=+ue,this.c=+nt,this.l=+Wt,this.opacity=+vn}function Gs(ue){if(isNaN(ue.h))return new Ei(ue.l,0,0,ue.opacity);var nt=ue.h*Vi;return new Ei(ue.l,Math.cos(nt)*ue.c,Math.sin(nt)*ue.c,ue.opacity)}br(lo,ja,Zr(Wr,{brighter:function(ue){return new lo(this.h,this.c,this.l+Vo*(ue??1),this.opacity)},darker:function(ue){return new lo(this.h,this.c,this.l-Vo*(ue??1),this.opacity)},rgb:function(){return Gs(this).rgb()}}));function wa(ue){let nt=ue/255;return nt<=.03928?nt/12.92:Math.pow((nt+.055)/1.055,2.4)}function ru(ue){let nt=wr(ue),Wt=wa(nt.r),vn=wa(nt.g),Vn=wa(nt.b);return .2126*Wt+.7152*vn+.0722*Vn}function qa(ue,nt){let Wt=ru(ue),vn=ru(nt),Vn=Math.max(Wt,vn),sr=Math.min(Wt,vn);return(Vn+.05)/(sr+.05)}function ra(){let ue=[].slice.call(arguments);return ue.unshift({}),e.extend(...ue)}function Aa(ue,nt){return ue===nt||ue!==ue&&nt!==nt?!0:e.isArray(ue)?e.isArray(nt)&&ue.length===nt.length?Yu(ue,nt):!1:e.isObject(ue)&&e.isObject(nt)?$l(ue,nt):!1}function Yu(ue,nt){for(let Wt=0,vn=ue.length;Wt<vn;++Wt)if(!Aa(ue[Wt],nt[Wt]))return!1;return!0}function $l(ue,nt){for(let Wt in ue)if(!Aa(ue[Wt],nt[Wt]))return!1;return!0}function Lo(ue){return nt=>$l(ue,nt)}function Cl(ue,nt,Wt,vn,Vn,sr){let mr=this.context.dataflow,Fi=this.context.data[ue],Ji=Fi.input,Cs=mr.stamp(),Is=Fi.changes,Ua,zl;if(mr._trigger===!1||!(Ji.value.length||nt||vn))return 0;if((!Is||Is.stamp<Cs)&&(Fi.changes=Is=mr.changeset(),Is.stamp=Cs,mr.runAfter(()=>{Fi.modified=!0,mr.pulse(Ji,Is).run()},!0,1)),Wt&&(Ua=Wt===!0?e.truthy:e.isArray(Wt)||r.isTuple(Wt)?Wt:Lo(Wt),Is.remove(Ua)),nt&&Is.insert(nt),vn&&(Ua=Lo(vn),Ji.value.some(Ua)?Is.remove(Ua):Is.insert(vn)),Vn)for(zl in sr)Is.modify(Vn,zl,sr[zl]);return 1}function Gr(ue){let nt=ue.touches,Wt=nt[0].clientX-nt[1].clientX,vn=nt[0].clientY-nt[1].clientY;return Math.sqrt(Wt*Wt+vn*vn)}function Ii(ue){let nt=ue.touches;return Math.atan2(nt[0].clientY-nt[1].clientY,nt[0].clientX-nt[1].clientX)}let ji={};function tr(ue,nt){let Wt=ji[nt]||(ji[nt]=e.field(nt));return e.isArray(ue)?ue.map(Wt):Wt(ue)}function Bi(ue){return e.isArray(ue)||ArrayBuffer.isView(ue)?ue:null}function Ne(ue){return Bi(ue)||(e.isString(ue)?ue:null)}function dt(ue,...nt){return Bi(ue).join(...nt)}function Ht(ue,...nt){return Ne(ue).indexOf(...nt)}function Mt(ue,...nt){return Ne(ue).lastIndexOf(...nt)}function on(ue,...nt){return Ne(ue).slice(...nt)}function wn(ue,nt,Wt){return e.isFunction(Wt)&&e.error("Function argument passed to replace."),String(ue).replace(nt,Wt)}function Bn(ue){return Bi(ue).slice().reverse()}function Nn(ue,nt,Wt){return i.bandSpace(ue||0,nt||0,Wt||0)}function or(ue,nt){let Wt=Z(ue,(nt||this).context);return Wt&&Wt.bandwidth?Wt.bandwidth():0}function fr(ue,nt){let Wt=Z(ue,(nt||this).context);return Wt?Wt.copy():void 0}function Mn(ue,nt){let Wt=Z(ue,(nt||this).context);return Wt?Wt.domain():[]}function Gn(ue,nt,Wt){let vn=Z(ue,(Wt||this).context);return vn?e.isArray(nt)?(vn.invertRange||vn.invert)(nt):(vn.invert||vn.invertExtent)(nt):void 0}function Hn(ue,nt){let Wt=Z(ue,(nt||this).context);return Wt&&Wt.range?Wt.range():[]}function nr(ue,nt,Wt){let vn=Z(ue,(Wt||this).context);return vn?vn(nt):void 0}function hr(ue,nt,Wt,vn,Vn){ue=Z(ue,(Vn||this).context);let sr=s.Gradient(nt,Wt),mr=ue.domain(),Fi=mr[0],Ji=e.peek(mr),Cs=e.identity;return Ji-Fi?Cs=i.scaleFraction(ue,Fi,Ji):ue=(ue.interpolator?i.scale("sequential")().interpolator(ue.interpolator()):i.scale("linear")().interpolate(ue.interpolate()).range(ue.range())).domain([Fi=0,Ji=1]),ue.ticks&&(mr=ue.ticks(+vn||15),Fi!==mr[0]&&mr.unshift(Fi),Ji!==e.peek(mr)&&mr.push(Ji)),mr.forEach(Is=>sr.stop(Cs(Is),ue(Is))),sr}function Kr(ue,nt,Wt){let vn=Z(ue,(Wt||this).context);return function(Vn){return vn?vn.path.context(Vn)(nt):""}}function $r(ue){let nt=null;return function(Wt){return Wt?s.pathRender(Wt,nt=nt||s.pathParse(ue)):ue}}let ui=ue=>ue.data;function Vr(ue,nt){let Wt=f.call(nt,ue);return Wt.root&&Wt.root.lookup||{}}function Tr(ue,nt,Wt){let vn=Vr(ue,this),Vn=vn[nt],sr=vn[Wt];return Vn&&sr?Vn.path(sr).map(ui):void 0}function vr(ue,nt){let Wt=Vr(ue,this)[nt];return Wt?Wt.ancestors().map(ui):void 0}let ei=()=>typeof window!="undefined"&&window||null;function oi(){let ue=ei();return ue?ue.screen:{}}function ss(){let ue=ei();return ue?[ue.innerWidth,ue.innerHeight]:[void 0,void 0]}function Qi(){let ue=this.context.dataflow,nt=ue.container&&ue.container();return nt?[nt.clientWidth,nt.clientHeight]:[void 0,void 0]}function ti(ue,nt,Wt){if(!ue)return[];let[vn,Vn]=ue,sr=new s.Bounds().set(vn[0],vn[1],Vn[0],Vn[1]),mr=Wt||this.context.dataflow.scenegraph().root;return s.intersect(mr,sr,vs(nt))}function vs(ue){let nt=null;if(ue){let Wt=e.array(ue.marktype),vn=e.array(ue.markname);nt=Vn=>(!Wt.length||Wt.some(sr=>Vn.marktype===sr))&&(!vn.length||vn.some(sr=>Vn.name===sr))}return nt}function Li(ue,nt,Wt,vn=5){let Vn=ue[ue.length-1];return Vn===void 0||Math.sqrt((Vn[0]-nt)**2+(Vn[1]-Wt)**2)>vn?(ue.push([nt,Wt]),[...ue]):ue}function Go(ue){return(ue??[]).reduce((nt,[Wt,vn],Vn)=>nt+=Vn==0?`M ${Wt},${vn} `:Vn===ue.length-1?" Z":`L ${Wt},${vn} `,"")}function Xs(ue,nt,Wt){let{x:vn,y:Vn,mark:sr}=Wt,mr=new s.Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[Ji,Cs]of nt)Ji<mr.x1&&(mr.x1=Ji),Ji>mr.x2&&(mr.x2=Ji),Cs<mr.y1&&(mr.y1=Cs),Cs>mr.y2&&(mr.y2=Cs);return mr.translate(vn,Vn),ti([[mr.x1,mr.y1],[mr.x2,mr.y2]],ue,sr).filter(Ji=>ks(Ji.x,Ji.y,nt))}function ks(ue,nt,Wt){let vn=0;for(let Vn=0,sr=Wt.length-1;Vn<Wt.length;sr=Vn++){let[mr,Fi]=Wt[sr],[Ji,Cs]=Wt[Vn];Cs>nt!=Fi>nt&&ue<(mr-Ji)*(nt-Cs)/(Fi-Cs)+Ji&&vn++}return vn&1}let xr={random(){return a.random()},cumulativeNormal:a.cumulativeNormal,cumulativeLogNormal:a.cumulativeLogNormal,cumulativeUniform:a.cumulativeUniform,densityNormal:a.densityNormal,densityLogNormal:a.densityLogNormal,densityUniform:a.densityUniform,quantileNormal:a.quantileNormal,quantileLogNormal:a.quantileLogNormal,quantileUniform:a.quantileUniform,sampleNormal:a.sampleNormal,sampleLogNormal:a.sampleLogNormal,sampleUniform:a.sampleUniform,isArray:e.isArray,isBoolean:e.isBoolean,isDate:e.isDate,isDefined(ue){return ue!==void 0},isNumber:e.isNumber,isObject:e.isObject,isRegExp:e.isRegExp,isString:e.isString,isTuple:r.isTuple,isValid(ue){return ue!=null&&ue===ue},toBoolean:e.toBoolean,toDate(ue){return e.toDate(ue)},toNumber:e.toNumber,toString:e.toString,indexof:Ht,join:dt,lastindexof:Mt,replace:wn,reverse:Bn,slice:on,flush:e.flush,lerp:e.lerp,merge:ra,pad:e.pad,peek:e.peek,pluck:tr,span:e.span,inrange:e.inrange,truncate:e.truncate,rgb:wr,lab:Mo,hcl:ja,hsl:go,luminance:ru,contrast:qa,sequence:De,format:D,utcFormat:q,utcParse:B,utcOffset:l.utcOffset,utcSequence:l.utcSequence,timeFormat:M,timeParse:N,timeOffset:l.timeOffset,timeSequence:l.timeSequence,timeUnitSpecifier:l.timeUnitSpecifier,monthFormat:ie,monthAbbrevFormat:L,dayFormat:Y,dayAbbrevFormat:fe,quarter:e.quarter,utcquarter:e.utcquarter,week:l.week,utcweek:l.utcweek,dayofyear:l.dayofyear,utcdayofyear:l.utcdayofyear,warn:Mr,info:Dr,debug:rr,extent(ue){return e.extent(ue)},inScope:On,intersect:ti,clampRange:e.clampRange,pinchDistance:Gr,pinchAngle:Ii,screen:oi,containerSize:Qi,windowSize:ss,bandspace:Nn,setdata:v,pathShape:$r,panLinear:e.panLinear,panLog:e.panLog,panPow:e.panPow,panSymlog:e.panSymlog,zoomLinear:e.zoomLinear,zoomLog:e.zoomLog,zoomPow:e.zoomPow,zoomSymlog:e.zoomSymlog,encode:b,modify:Cl,lassoAppend:Li,lassoPath:Go,intersectLasso:Xs},zi=["view","item","group","xy","x","y"],_r="event.vega.",Po="this.",Bo={},Yo={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:ue=>`_[${e.stringValue(st+ue)}]`,functions:Zs,constants:t.constants,visitors:Bo},co=t.codegenExpression(Yo);function Zs(ue){let nt=t.functions(ue);zi.forEach(Wt=>nt[Wt]=_r+Wt);for(let Wt in xr)nt[Wt]=Po+Wt;return e.extend(nt,Ke(ue,xr,Bo)),nt}function Hi(ue,nt,Wt){return arguments.length===1?xr[ue]:(xr[ue]=nt,Wt&&(Bo[ue]=Wt),co&&(co.functions[ue]=Po+ue),this)}Hi("bandwidth",or,Lt),Hi("copy",fr,Lt),Hi("domain",Mn,Lt),Hi("range",Hn,Lt),Hi("invert",Gn,Lt),Hi("scale",nr,Lt),Hi("gradient",hr,Lt),Hi("geoArea",zt,Lt),Hi("geoBounds",an,Lt),Hi("geoCentroid",Dn,Lt),Hi("geoShape",Kr,Lt),Hi("indata",p,mt),Hi("data",f,Qe),Hi("treePath",Tr,Qe),Hi("treeAncestors",vr,Qe),Hi("vlSelectionTest",o.selectionTest,o.selectionVisitor),Hi("vlSelectionIdTest",o.selectionIdTest,o.selectionVisitor),Hi("vlSelectionResolve",o.selectionResolve,o.selectionVisitor),Hi("vlSelectionTuples",o.selectionTuples);function iu(ue,nt){let Wt={},vn;try{ue=e.isString(ue)?ue:e.stringValue(ue)+"",vn=t.parseExpression(ue)}catch{e.error("Expression parse error: "+ue)}vn.visit(sr=>{if(sr.type!==t.CallExpression)return;let mr=sr.callee.name,Fi=Yo.visitors[mr];Fi&&Fi(mr,sr.arguments,nt,Wt)});let Vn=co(vn);return Vn.globals.forEach(sr=>{let mr=st+sr;!e.hasOwnProperty(Wt,mr)&&nt.getSignal(sr)&&(Wt[mr]=nt.signalRef(sr))}),{$expr:e.extend({code:Vn.code},nt.options.ast?{ast:vn}:null),$fields:Vn.fields,$params:Wt}}n.DataPrefix=me,n.IndexPrefix=Be,n.ScalePrefix=tt,n.SignalPrefix=st,n.bandspace=Nn,n.bandwidth=or,n.codeGenerator=co,n.codegenParams=Yo,n.containerSize=Qi,n.contrast=qa,n.copy=fr,n.data=f,n.dataVisitor=Qe,n.dayAbbrevFormat=fe,n.dayFormat=Y,n.debug=rr,n.domain=Mn,n.encode=b,n.expressionFunction=Hi,n.format=D,n.functionContext=xr,n.geoArea=zt,n.geoBounds=an,n.geoCentroid=Dn,n.geoShape=Kr,n.inScope=On,n.indata=p,n.indataVisitor=mt,n.indexof=Ht,n.info=Dr,n.invert=Gn,n.join=dt,n.lastindexof=Mt,n.luminance=ru,n.merge=ra,n.modify=Cl,n.monthAbbrevFormat=L,n.monthFormat=ie,n.parseExpression=iu,n.pathShape=$r,n.pinchAngle=Ii,n.pinchDistance=Gr,n.pluck=tr,n.range=Hn,n.replace=wn,n.reverse=Bn,n.scale=nr,n.scaleGradient=hr,n.scaleVisitor=Lt,n.screen=oi,n.setdata=v,n.slice=on,n.timeFormat=M,n.timeParse=N,n.treeAncestors=vr,n.treePath=Tr,n.utcFormat=q,n.utcParse=B,n.warn=Mr,n.windowSize=ss,Object.defineProperty(n,"__esModule",{value:!0})})});var que=G((uV,BPe)=>{d();(function(n,e){typeof uV=="object"&&typeof BPe!="undefined"?e(uV,Ma(),qc()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(uV,function(n,e,t){"use strict";function r(_e){let De=this,be=_e.operators||[];return _e.background&&(De.background=_e.background),_e.eventConfig&&(De.eventConfig=_e.eventConfig),_e.locale&&(De.locale=_e.locale),be.forEach(de=>De.parseOperator(de)),be.forEach(de=>De.parseOperatorParameters(de)),(_e.streams||[]).forEach(de=>De.parseStream(de)),(_e.updates||[]).forEach(de=>De.parseUpdate(de)),De.resolve()}let i=e.toSet(["rule"]),s=e.toSet(["group","image","rect"]);function o(_e,De){let be="";return i[De]||(_e.x2&&(_e.x?(s[De]&&(be+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),be+="o.width=o.x2-o.x;"):be+="o.x=o.x2-(o.width||0);"),_e.xc&&(be+="o.x=o.xc-(o.width||0)/2;"),_e.y2&&(_e.y?(s[De]&&(be+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),be+="o.height=o.y2-o.y;"):be+="o.y=o.y2-(o.height||0);"),_e.yc&&(be+="o.y=o.yc-(o.height||0)/2;")),be}function a(_e){return(_e+"").toLowerCase()}function l(_e){return a(_e)==="operator"}function f(_e){return a(_e)==="collect"}function p(_e,De,be){be[be.length-1]!==";"&&(be="return("+be+");");let de=Function(...De.concat(be));return _e&&_e.functions?de.bind(_e.functions):de}function v(_e,De,be,de){return`((u = ${_e}) < (v = ${De}) || u == null) && v != null ? ${be}
  : (u > v || v == null) && u != null ? ${de}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${be}
  : v !== v && u === u ? ${de} : `}var b={operator:(_e,De)=>p(_e,["_"],De.code),parameter:(_e,De)=>p(_e,["datum","_"],De.code),event:(_e,De)=>p(_e,["event"],De.code),handler:(_e,De)=>{let be=`var datum=event.item&&event.item.datum;return ${De.code};`;return p(_e,["_","event"],be)},encode:(_e,De)=>{let{marktype:be,channels:de}=De,Ge="var o=item,datum=o.datum,m=0,$;";for(let rt in de){let Bt="o["+e.stringValue(rt)+"]";Ge+=`$=${de[rt].code};if(${Bt}!==$)${Bt}=$,m=1;`}return Ge+=o(de,be),Ge+="return m;",p(_e,["item","_"],Ge)},codegen:{get(_e){let De=`[${_e.map(e.stringValue).join("][")}]`,be=Function("_",`return _${De};`);return be.path=De,be},comparator(_e,De){let be,de=(rt,Bt)=>{let _t=De[Bt],un,Tt;return rt.path?(un=`a${rt.path}`,Tt=`b${rt.path}`):((be=be||{})["f"+Bt]=rt,un=`this.f${Bt}(a)`,Tt=`this.f${Bt}(b)`),v(un,Tt,-_t,_t)},Ge=Function("a","b","var u, v; return "+_e.map(de).join("")+"0;");return be?Ge.bind(be):Ge}}};function F(_e){let De=this;l(_e.type)||!_e.type?De.operator(_e,_e.update?De.operatorExpression(_e.update):null):De.transform(_e,_e.type)}function D(_e){let De=this;if(_e.params){let be=De.get(_e.id);be||e.error("Invalid operator id: "+_e.id),De.dataflow.connect(be,be.parameters(De.parseParameters(_e.params),_e.react,_e.initonly))}}function M(_e,De){De=De||{};let be=this;for(let de in _e){let Ge=_e[de];De[de]=e.isArray(Ge)?Ge.map(rt=>q(rt,be,De)):q(Ge,be,De)}return De}function q(_e,De,be){if(!_e||!e.isObject(_e))return _e;for(let de=0,Ge=N.length,rt;de<Ge;++de)if(rt=N[de],e.hasOwnProperty(_e,rt.key))return rt.parse(_e,De,be);return _e}var N=[{key:"$ref",parse:B},{key:"$key",parse:z},{key:"$expr",parse:I},{key:"$field",parse:ie},{key:"$encode",parse:Y},{key:"$compare",parse:L},{key:"$context",parse:fe},{key:"$subflow",parse:me},{key:"$tupleid",parse:Be}];function B(_e,De){return De.get(_e.$ref)||e.error("Operator not defined: "+_e.$ref)}function I(_e,De,be){_e.$params&&De.parseParameters(_e.$params,be);let de="e:"+_e.$expr.code+"_"+_e.$name;return De.fn[de]||(De.fn[de]=e.accessor(De.parameterExpression(_e.$expr),_e.$fields,_e.$name))}function z(_e,De){let be="k:"+_e.$key+"_"+!!_e.$flat;return De.fn[be]||(De.fn[be]=e.key(_e.$key,_e.$flat,De.expr.codegen))}function ie(_e,De){if(!_e.$field)return null;let be="f:"+_e.$field+"_"+_e.$name;return De.fn[be]||(De.fn[be]=e.field(_e.$field,_e.$name,De.expr.codegen))}function L(_e,De){let be="c:"+_e.$compare+"_"+_e.$order,de=e.array(_e.$compare).map(Ge=>Ge&&Ge.$tupleid?t.tupleid:Ge);return De.fn[be]||(De.fn[be]=e.compare(de,_e.$order,De.expr.codegen))}function Y(_e,De){let be=_e.$encode,de={};for(let Ge in be){let rt=be[Ge];de[Ge]=e.accessor(De.encodeExpression(rt.$expr),rt.$fields),de[Ge].output=rt.$output}return de}function fe(_e,De){return De}function me(_e,De){let be=_e.$subflow;return function(de,Ge,rt){let Bt=De.fork().parse(be),_t=Bt.get(be.operators[0].id),un=Bt.signals.parent;return un&&un.set(rt),_t.detachSubflow=()=>De.detach(Bt),_t}}function Be(){return t.tupleid}function tt(_e){var De=this,be=_e.filter!=null?De.eventExpression(_e.filter):void 0,de=_e.stream!=null?De.get(_e.stream):void 0,Ge;_e.source?de=De.events(_e.source,_e.type,be):_e.merge&&(Ge=_e.merge.map(rt=>De.get(rt)),de=Ge[0].merge.apply(Ge[0],Ge.slice(1))),_e.between&&(Ge=_e.between.map(rt=>De.get(rt)),de=de.between(Ge[0],Ge[1])),_e.filter&&(de=de.filter(be)),_e.throttle!=null&&(de=de.throttle(+_e.throttle)),_e.debounce!=null&&(de=de.debounce(+_e.debounce)),de==null&&e.error("Invalid stream definition: "+JSON.stringify(_e)),_e.consume&&de.consume(!0),De.stream(_e,de)}function st(_e){var De=this,be=e.isObject(be=_e.source)?be.$ref:be,de=De.get(be),Ge=null,rt=_e.update,Bt=void 0;de||e.error("Source not defined: "+_e.source),Ge=_e.target&&_e.target.$expr?De.eventExpression(_e.target.$expr):De.get(_e.target),rt&&rt.$expr&&(rt.$params&&(Bt=De.parseParameters(rt.$params)),rt=De.handlerExpression(rt.$expr)),De.update(_e,de,Ge,rt,Bt)}let Qe={skip:!0};function mt(_e){var De=this,be={};if(_e.signals){var de=be.signals={};Object.keys(De.signals).forEach(rt=>{let Bt=De.signals[rt];_e.signals(rt,Bt)&&(de[rt]=Bt.value)})}if(_e.data){var Ge=be.data={};Object.keys(De.data).forEach(rt=>{let Bt=De.data[rt];_e.data(rt,Bt)&&(Ge[rt]=Bt.input.value)})}return De.subcontext&&_e.recurse!==!1&&(be.subcontext=De.subcontext.map(rt=>rt.getState(_e))),be}function Lt(_e){var De=this,be=De.dataflow,de=_e.data,Ge=_e.signals;Object.keys(Ge||{}).forEach(rt=>{be.update(De.signals[rt],Ge[rt],Qe)}),Object.keys(de||{}).forEach(rt=>{be.pulse(De.data[rt].input,be.changeset().remove(e.truthy).insert(de[rt]))}),(_e.subcontext||[]).forEach((rt,Bt)=>{let _t=De.subcontext[Bt];_t&&_t.setState(rt)})}function je(_e,De,be,de){return new Z(_e,De,be,de)}function Z(_e,De,be,de){this.dataflow=_e,this.transforms=De,this.events=_e.events.bind(_e),this.expr=de||b,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},be&&(this.functions=Object.create(be),this.functions.context=this)}function Ke(_e){this.dataflow=_e.dataflow,this.transforms=_e.transforms,this.events=_e.events,this.expr=_e.expr,this.signals=Object.create(_e.signals),this.scales=Object.create(_e.scales),this.nodes=Object.create(_e.nodes),this.data=Object.create(_e.data),this.fn=Object.create(_e.fn),_e.functions&&(this.functions=Object.create(_e.functions),this.functions.context=this)}Z.prototype=Ke.prototype={fork(){let _e=new Ke(this);return(this.subcontext||(this.subcontext=[])).push(_e),_e},detach(_e){this.subcontext=this.subcontext.filter(be=>be!==_e);let De=Object.keys(_e.nodes);for(let be of De)_e.nodes[be]._targets=null;for(let be of De)_e.nodes[be].detach();_e.nodes=null},get(_e){return this.nodes[_e]},set(_e,De){return this.nodes[_e]=De},add(_e,De){let be=this,de=be.dataflow,Ge=_e.value;if(be.set(_e.id,De),f(_e.type)&&Ge&&(Ge.$ingest?de.ingest(De,Ge.$ingest,Ge.$format):Ge.$request?de.preload(De,Ge.$request,Ge.$format):de.pulse(De,de.changeset().insert(Ge))),_e.root&&(be.root=De),_e.parent){let rt=be.get(_e.parent.$ref);rt?(de.connect(rt,[De]),De.targets().add(rt)):(be.unresolved=be.unresolved||[]).push(()=>{rt=be.get(_e.parent.$ref),de.connect(rt,[De]),De.targets().add(rt)})}if(_e.signal&&(be.signals[_e.signal]=De),_e.scale&&(be.scales[_e.scale]=De),_e.data)for(let rt in _e.data){let Bt=be.data[rt]||(be.data[rt]={});_e.data[rt].forEach(_t=>Bt[_t]=De)}},resolve(){return(this.unresolved||[]).forEach(_e=>_e()),delete this.unresolved,this},operator(_e,De){this.add(_e,this.dataflow.add(_e.value,De))},transform(_e,De){this.add(_e,this.dataflow.add(this.transforms[a(De)]))},stream(_e,De){this.set(_e.id,De)},update(_e,De,be,de,Ge){this.dataflow.on(De,be,de,Ge,_e.options)},operatorExpression(_e){return this.expr.operator(this,_e)},parameterExpression(_e){return this.expr.parameter(this,_e)},eventExpression(_e){return this.expr.event(this,_e)},handlerExpression(_e){return this.expr.handler(this,_e)},encodeExpression(_e){return this.expr.encode(this,_e)},parse:r,parseOperator:F,parseOperatorParameters:D,parseParameters:M,parseStream:tt,parseUpdate:st,getState:mt,setState:Lt},n.context=je,Object.defineProperty(n,"__esModule",{value:!0})})});var qPe=G((lV,jPe)=>{d();(function(n,e){typeof lV=="object"&&typeof jPe!="undefined"?e(lV,Ma(),qc(),t9(),aV(),que(),LO()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-scenegraph","vega-functions","vega-runtime","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(lV,function(n,e,t,r,i,s,o){"use strict";function a(Q){let oe=Q.container();oe&&(oe.setAttribute("role","graphics-document"),oe.setAttribute("aria-roleDescription","visualization"),l(oe,Q.description()))}function l(Q,oe){Q&&(oe==null?Q.removeAttribute("aria-label"):Q.setAttribute("aria-label",oe))}function f(Q){Q.add(null,oe=>(Q._background=oe.bg,Q._resize=1,oe.bg),{bg:Q._signals.background})}let p="default";function v(Q){let oe=Q._signals.cursor||(Q._signals.cursor=Q.add({user:p,item:null}));Q.on(Q.events("view","mousemove"),oe,(ae,ze)=>{let Ot=oe.value,vt=Ot?e.isString(Ot)?Ot:Ot.user:p,tn=ze.item&&ze.item.cursor||null;return Ot&&vt===Ot.user&&tn==Ot.item?Ot:{user:vt,item:tn}}),Q.add(null,function(ae){let ze=ae.cursor,Ot=this.value;return e.isString(ze)||(Ot=ze.item,ze=ze.user),b(Q,ze&&ze!==p?ze:Ot||ze),Ot},{cursor:oe})}function b(Q,oe){let ae=Q.globalCursor()?typeof document!="undefined"&&document.body:Q.container();if(ae)return oe==null?ae.style.removeProperty("cursor"):ae.style.cursor=oe}function F(Q,oe){var ae=Q._runtime.data;return e.hasOwnProperty(ae,oe)||e.error("Unrecognized data set: "+oe),ae[oe]}function D(Q,oe){return arguments.length<2?F(this,Q).values.value:M.call(this,Q,t.changeset().remove(e.truthy).insert(oe))}function M(Q,oe){t.isChangeSet(oe)||e.error("Second argument to changes must be a changeset.");let ae=F(this,Q);return ae.modified=!0,this.pulse(ae.input,oe)}function q(Q,oe){return M.call(this,Q,t.changeset().insert(oe))}function N(Q,oe){return M.call(this,Q,t.changeset().remove(oe))}function B(Q){var oe=Q.padding();return Math.max(0,Q._viewWidth+oe.left+oe.right)}function I(Q){var oe=Q.padding();return Math.max(0,Q._viewHeight+oe.top+oe.bottom)}function z(Q){var oe=Q.padding(),ae=Q._origin;return[oe.left+ae[0],oe.top+ae[1]]}function ie(Q){var oe=z(Q),ae=B(Q),ze=I(Q);Q._renderer.background(Q.background()),Q._renderer.resize(ae,ze,oe),Q._handler.origin(oe),Q._resizeListeners.forEach(Ot=>{try{Ot(ae,ze)}catch(vt){Q.error(vt)}})}function L(Q,oe,ae){var ze=Q._renderer,Ot=ze&&ze.canvas(),vt,tn,E;return Ot&&(E=z(Q),tn=oe.changedTouches?oe.changedTouches[0]:oe,vt=r.point(tn,Ot),vt[0]-=E[0],vt[1]-=E[1]),oe.dataflow=Q,oe.item=ae,oe.vega=Y(Q,ae,vt),oe}function Y(Q,oe,ae){let ze=oe?oe.mark.marktype==="group"?oe:oe.mark.group:null;function Ot(tn){var E=ze,P;if(tn){for(P=oe;P;P=P.mark.group)if(P.mark.name===tn){E=P;break}}return E&&E.mark&&E.mark.interactive?E:{}}function vt(tn){if(!tn)return ae;e.isString(tn)&&(tn=Ot(tn));let E=ae.slice();for(;tn;)E[0]-=tn.x||0,E[1]-=tn.y||0,tn=tn.mark&&tn.mark.group;return E}return{view:e.constant(Q),item:e.constant(oe||{}),group:Ot,xy:vt,x:tn=>vt(tn)[0],y:tn=>vt(tn)[1]}}let fe="view",me="timer",Be="window",tt={trap:!1};function st(Q){let oe=e.extend({defaults:{}},Q),ae=(ze,Ot)=>{Ot.forEach(vt=>{e.isArray(ze[vt])&&(ze[vt]=e.toSet(ze[vt]))})};return ae(oe.defaults,["prevent","allow"]),ae(oe,["view","window","selector"]),oe}function Qe(Q,oe,ae,ze){Q._eventListeners.push({type:ae,sources:e.array(oe),handler:ze})}function mt(Q,oe){var ae=Q._eventConfig.defaults,ze=ae.prevent,Ot=ae.allow;return ze===!1||Ot===!0?!1:ze===!0||Ot===!1?!0:ze?ze[oe]:Ot?!Ot[oe]:Q.preventDefault()}function Lt(Q,oe,ae){let ze=Q._eventConfig&&Q._eventConfig[oe];return ze===!1||e.isObject(ze)&&!ze[ae]?(Q.warn(`Blocked ${oe} ${ae} event listener.`),!1):!0}function je(Q,oe,ae){var ze=this,Ot=new t.EventStream(ae),vt=function(X,ye){ze.runAsync(null,()=>{Q===fe&&mt(ze,oe)&&X.preventDefault(),Ot.receive(L(ze,X,ye))})},tn;if(Q===me)Lt(ze,"timer",oe)&&ze.timer(vt,oe);else if(Q===fe)Lt(ze,"view",oe)&&ze.addEventListener(oe,vt,tt);else if(Q===Be?Lt(ze,"window",oe)&&typeof window!="undefined"&&(tn=[window]):typeof document!="undefined"&&Lt(ze,"selector",oe)&&(tn=document.querySelectorAll(Q)),!tn)ze.warn("Can not resolve event source: "+Q);else{for(var E=0,P=tn.length;E<P;++E)tn[E].addEventListener(oe,vt);Qe(ze,tn,oe,vt)}return Ot}function Z(Q){return Q.item}function Ke(Q){return Q.item.mark.source}function _e(Q){return function(oe,ae){return ae.vega.view().changeset().encode(ae.item,Q)}}function De(Q,oe){return Q=[Q||"hover"],oe=[oe||"update",Q[0]],this.on(this.events("view","mouseover",Z),Ke,_e(Q)),this.on(this.events("view","mouseout",Z),Ke,_e(oe)),this}function be(){var Q=this._tooltip,oe=this._timers,ae=this._eventListeners,ze,Ot,vt;for(ze=oe.length;--ze>=0;)oe[ze].stop();for(ze=ae.length;--ze>=0;)for(vt=ae[ze],Ot=vt.sources.length;--Ot>=0;)vt.sources[Ot].removeEventListener(vt.type,vt.handler);return Q&&Q.call(this,this._handler,null,null,null),this}function de(Q,oe,ae){let ze=document.createElement(Q);for(let Ot in oe)ze.setAttribute(Ot,oe[Ot]);return ae!=null&&(ze.textContent=ae),ze}var Ge=Math.sqrt(50),rt=Math.sqrt(10),Bt=Math.sqrt(2);function _t(Q,oe,ae){var ze=Math.abs(oe-Q)/Math.max(0,ae),Ot=Math.pow(10,Math.floor(Math.log(ze)/Math.LN10)),vt=ze/Ot;return vt>=Ge?Ot*=10:vt>=rt?Ot*=5:vt>=Bt&&(Ot*=2),oe<Q?-Ot:Ot}let un="vega-bind",Tt="vega-bind-name",Rt="vega-bind-radio";function Gt(Q,oe,ae){if(!oe)return;let ze=ae.param,Ot=ae.state;return Ot||(Ot=ae.state={elements:null,active:!1,set:null,update:tn=>{tn!=Q.signal(ze.signal)&&Q.runAsync(null,()=>{Ot.source=!0,Q.signal(ze.signal,tn)})}},ze.debounce&&(Ot.update=e.debounce(ze.debounce,Ot.update))),(ze.input==null&&ze.element?xt:Oe)(Ot,oe,ze,Q),Ot.active||(Q.on(Q._signals[ze.signal],null,()=>{Ot.source?Ot.source=!1:Ot.set(Q.signal(ze.signal))}),Ot.active=!0),Ot}function xt(Q,oe,ae,ze){let Ot=ae.event||"input",vt=()=>Q.update(oe.value);ze.signal(ae.signal,oe.value),oe.addEventListener(Ot,vt),Qe(ze,oe,Ot,vt),Q.set=tn=>{oe.value=tn,oe.dispatchEvent(ve(Ot))}}function ve(Q){return typeof Event!="undefined"?new Event(Q):{type:Q}}function Oe(Q,oe,ae,ze){let Ot=ze.signal(ae.signal),vt=de("div",{class:un}),tn=ae.input==="radio"?vt:vt.appendChild(de("label"));tn.appendChild(de("span",{class:Tt},ae.name||ae.signal)),oe.appendChild(vt);let E=xe;switch(ae.input){case"checkbox":E=le;break;case"select":E=Ye;break;case"radio":E=Ve;break;case"range":E=te;break}E(Q,tn,ae,Ot)}function xe(Q,oe,ae,ze){let Ot=de("input");for(let vt in ae)vt!=="signal"&&vt!=="element"&&Ot.setAttribute(vt==="input"?"type":vt,ae[vt]);Ot.setAttribute("name",ae.signal),Ot.value=ze,oe.appendChild(Ot),Ot.addEventListener("input",()=>Q.update(Ot.value)),Q.elements=[Ot],Q.set=vt=>Ot.value=vt}function le(Q,oe,ae,ze){let Ot={type:"checkbox",name:ae.signal};ze&&(Ot.checked=!0);let vt=de("input",Ot);oe.appendChild(vt),vt.addEventListener("change",()=>Q.update(vt.checked)),Q.elements=[vt],Q.set=tn=>vt.checked=!!tn||null}function Ye(Q,oe,ae,ze){let Ot=de("select",{name:ae.signal}),vt=ae.labels||[];ae.options.forEach((tn,E)=>{let P={value:tn};Ae(tn,ze)&&(P.selected=!0),Ot.appendChild(de("option",P,(vt[E]||tn)+""))}),oe.appendChild(Ot),Ot.addEventListener("change",()=>{Q.update(ae.options[Ot.selectedIndex])}),Q.elements=[Ot],Q.set=tn=>{for(let E=0,P=ae.options.length;E<P;++E)if(Ae(ae.options[E],tn)){Ot.selectedIndex=E;return}}}function Ve(Q,oe,ae,ze){let Ot=de("span",{class:Rt}),vt=ae.labels||[];oe.appendChild(Ot),Q.elements=ae.options.map((tn,E)=>{let P={type:"radio",name:ae.signal,value:tn};Ae(tn,ze)&&(P.checked=!0);let X=de("input",P);X.addEventListener("change",()=>Q.update(tn));let ye=de("label",{},(vt[E]||tn)+"");return ye.prepend(X),Ot.appendChild(ye),X}),Q.set=tn=>{let E=Q.elements,P=E.length;for(let X=0;X<P;++X)Ae(E[X].value,tn)&&(E[X].checked=!0)}}function te(Q,oe,ae,ze){ze=ze!==void 0?ze:(+ae.max+ +ae.min)/2;let Ot=ae.max!=null?ae.max:Math.max(100,+ze)||100,vt=ae.min||Math.min(0,Ot,+ze)||0,tn=ae.step||_t(vt,Ot,100),E=de("input",{type:"range",name:ae.signal,min:vt,max:Ot,step:tn});E.value=ze;let P=de("span",{},+ze);oe.appendChild(E),oe.appendChild(P);let X=()=>{P.textContent=E.value,Q.update(+E.value)};E.addEventListener("input",X),E.addEventListener("change",X),Q.elements=[E],Q.set=ye=>{E.value=ye,P.textContent=ye}}function Ae(Q,oe){return Q===oe||Q+""==oe+""}function Xe(Q,oe,ae,ze,Ot,vt){return oe=oe||new ze(Q.loader()),oe.initialize(ae,B(Q),I(Q),z(Q),Ot,vt).background(Q.background())}function ot(Q,oe){return oe?function(){try{oe.apply(this,arguments)}catch(ae){Q.error(ae)}}:null}function Ct(Q,oe,ae,ze){let Ot=new ze(Q.loader(),ot(Q,Q.tooltip())).scene(Q.scenegraph().root).initialize(ae,z(Q),Q);return oe&&oe.handlers().forEach(vt=>{Ot.on(vt.type,vt.handler)}),Ot}function $t(Q,oe){let ae=this,ze=ae._renderType,Ot=ae._eventConfig.bind,vt=r.renderModule(ze);Q=ae._el=Q?Ut(ae,Q,!0):null,a(ae),vt||ae.error("Unrecognized renderer type: "+ze);let tn=vt.handler||r.CanvasHandler,E=Q?vt.renderer:vt.headless;return ae._renderer=E?Xe(ae,ae._renderer,Q,E):null,ae._handler=Ct(ae,ae._handler,Q,tn),ae._redraw=!0,Q&&Ot!=="none"&&(oe=oe?ae._elBind=Ut(ae,oe,!0):Q.appendChild(de("form",{class:"vega-bindings"})),ae._bind.forEach(P=>{P.param.element&&Ot!=="container"&&(P.element=Ut(ae,P.param.element,!!P.param.input))}),ae._bind.forEach(P=>{Gt(ae,P.element||oe,P)})),ae}function Ut(Q,oe,ae){if(typeof oe=="string")if(typeof document!="undefined"){if(oe=document.querySelector(oe),!oe)return Q.error("Signal bind element not found: "+oe),null}else return Q.error("DOM document instance not found."),null;if(oe&&ae)try{oe.textContent=""}catch(ze){oe=null,Q.error(ze)}return oe}let sn=Q=>+Q||0,ln=Q=>({top:Q,bottom:Q,left:Q,right:Q});function cn(Q){return e.isObject(Q)?{top:sn(Q.top),bottom:sn(Q.bottom),left:sn(Q.left),right:sn(Q.right)}:ln(sn(Q))}async function Ft(Q,oe,ae,ze){let Ot=r.renderModule(oe),vt=Ot&&Ot.headless;return vt||e.error("Unrecognized renderer type: "+oe),await Q.runAsync(),Xe(Q,null,null,vt,ae,ze).renderAsync(Q._scenegraph.root)}async function nn(Q,oe){Q!==r.RenderType.Canvas&&Q!==r.RenderType.SVG&&Q!==r.RenderType.PNG&&e.error("Unrecognized image type: "+Q);let ae=await Ft(this,Q,oe);return Q===r.RenderType.SVG?An(ae.svg(),"image/svg+xml"):ae.canvas().toDataURL("image/png")}function An(Q,oe){let ae=new Blob([Q],{type:oe});return window.URL.createObjectURL(ae)}async function $n(Q,oe){return(await Ft(this,r.RenderType.Canvas,Q,oe)).canvas()}async function Cn(Q){return(await Ft(this,r.RenderType.SVG,Q)).svg()}function Fe(Q,oe,ae){return s.context(Q,t.transforms,i.functionContext,ae).parse(oe)}function qe(Q){var oe=this._runtime.scales;return e.hasOwnProperty(oe,Q)||e.error("Unrecognized scale or projection: "+Q),oe[Q].value}var Ce="width",Dt="height",lt="padding",ct={skip:!0};function Yt(Q,oe){var ae=Q.autosize(),ze=Q.padding();return oe-(ae&&ae.contains===lt?ze.left+ze.right:0)}function qt(Q,oe){var ae=Q.autosize(),ze=Q.padding();return oe-(ae&&ae.contains===lt?ze.top+ze.bottom:0)}function gn(Q){var oe=Q._signals,ae=oe[Ce],ze=oe[Dt],Ot=oe[lt];function vt(){Q._autosize=Q._resize=1}Q._resizeWidth=Q.add(null,E=>{Q._width=E.size,Q._viewWidth=Yt(Q,E.size),vt()},{size:ae}),Q._resizeHeight=Q.add(null,E=>{Q._height=E.size,Q._viewHeight=qt(Q,E.size),vt()},{size:ze});let tn=Q.add(null,vt,{pad:Ot});Q._resizeWidth.rank=ae.rank+1,Q._resizeHeight.rank=ze.rank+1,tn.rank=Ot.rank+1}function kn(Q,oe,ae,ze,Ot,vt){this.runAfter(tn=>{let E=0;tn._autosize=0,tn.width()!==ae&&(E=1,tn.signal(Ce,ae,ct),tn._resizeWidth.skip(!0)),tn.height()!==ze&&(E=1,tn.signal(Dt,ze,ct),tn._resizeHeight.skip(!0)),tn._viewWidth!==Q&&(tn._resize=1,tn._viewWidth=Q),tn._viewHeight!==oe&&(tn._resize=1,tn._viewHeight=oe),(tn._origin[0]!==Ot[0]||tn._origin[1]!==Ot[1])&&(tn._resize=1,tn._origin=Ot),E&&tn.run("enter"),vt&&tn.runAfter(P=>P.resize())},!1,1)}function qn(Q){return this._runtime.getState(Q||{data:bn,signals:zn,recurse:!0})}function bn(Q,oe){return oe.modified&&e.isArray(oe.input.value)&&Q.indexOf("_:vega:_")}function zn(Q,oe){return!(Q==="parent"||oe instanceof t.transforms.proxy)}function He(Q){return this.runAsync(null,oe=>{oe._trigger=!1,oe._runtime.setState(Q)},oe=>{oe._trigger=!0}),this}var ht=0,se=0,Ie=0,Ze=1e3,St,rn,Xt=0,at=0,ne=0,Se=typeof performance=="object"&&performance.now?performance:Date,Me=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Q){setTimeout(Q,17)};function ft(){return at||(Me(gt),at=Se.now()+ne)}function gt(){at=0}function wt(){this._call=this._time=this._next=null}wt.prototype={constructor:wt,restart:function(Q,oe,ae){if(typeof Q!="function")throw new TypeError("callback is not a function");ae=(ae==null?ft():+ae)+(oe==null?0:+oe),!this._next&&rn!==this&&(rn?rn._next=this:St=this,rn=this),this._call=Q,this._time=ae,It()},stop:function(){this._call&&(this._call=null,this._time=1/0,It())}};function ee(){ft(),++ht;for(var Q=St,oe;Q;)(oe=at-Q._time)>=0&&Q._call.call(void 0,oe),Q=Q._next;--ht}function Ee(){at=(Xt=Se.now())+ne,ht=se=0;try{ee()}finally{ht=0,et(),at=0}}function $e(){var Q=Se.now(),oe=Q-Xt;oe>Ze&&(ne-=oe,Xt=Q)}function et(){for(var Q,oe=St,ae,ze=1/0;oe;)oe._call?(ze>oe._time&&(ze=oe._time),Q=oe,oe=oe._next):(ae=oe._next,oe._next=null,oe=Q?Q._next=ae:St=ae);rn=Q,It(ze)}function It(Q){if(!ht){se&&(se=clearTimeout(se));var oe=Q-at;oe>24?(Q<1/0&&(se=setTimeout(Ee,Q-Se.now()-ne)),Ie&&(Ie=clearInterval(Ie))):(Ie||(Xt=Se.now(),Ie=setInterval($e,Ze)),ht=1,Me(Ee))}}function Kt(Q,oe,ae){var ze=new wt,Ot=oe;return oe==null?(ze.restart(Q,oe,ae),ze):(ze._restart=ze.restart,ze.restart=function(vt,tn,E){tn=+tn,E=E==null?ft():+E,ze._restart(function P(X){X+=Ot,ze._restart(P,Ot+=tn,E),vt(X)},tn,E)},ze.restart(Q,oe,ae),ze)}function mn(Q,oe){function ae(ze){Q({timestamp:Date.now(),elapsed:ze})}this._timers.push(Kt(ae,oe))}function fn(Q,oe,ae,ze){let Ot=Q.element();Ot&&Ot.setAttribute("title",dn(ze))}function dn(Q){return Q==null?"":e.isArray(Q)?we(Q):e.isObject(Q)&&!e.isDate(Q)?Rn(Q):Q+""}function Rn(Q){return Object.keys(Q).map(oe=>{let ae=Q[oe];return oe+": "+(e.isArray(ae)?we(ae):Pe(ae))}).join(`
`)}function we(Q){return"["+Q.map(Pe).join(", ")+"]"}function Pe(Q){return e.isArray(Q)?"[\u2026]":e.isObject(Q)&&!e.isDate(Q)?"{\u2026}":Q}function Et(Q,oe){let ae=this;if(oe=oe||{},t.Dataflow.call(ae),oe.loader&&ae.loader(oe.loader),oe.logger&&ae.logger(oe.logger),oe.logLevel!=null&&ae.logLevel(oe.logLevel),oe.locale||Q.locale){let vt=e.extend({},Q.locale,oe.locale);ae.locale(o.locale(vt.number,vt.time))}ae._el=null,ae._elBind=null,ae._renderType=oe.renderer||r.RenderType.Canvas,ae._scenegraph=new r.Scenegraph;let ze=ae._scenegraph.root;ae._renderer=null,ae._tooltip=oe.tooltip||fn,ae._redraw=!0,ae._handler=new r.CanvasHandler().scene(ze),ae._globalCursor=!1,ae._preventDefault=!1,ae._timers=[],ae._eventListeners=[],ae._resizeListeners=[],ae._eventConfig=st(Q.eventConfig),ae.globalCursor(ae._eventConfig.globalCursor);let Ot=Fe(ae,Q,oe.expr);ae._runtime=Ot,ae._signals=Ot.signals,ae._bind=(Q.bindings||[]).map(vt=>({state:null,param:e.extend({},vt)})),Ot.root&&Ot.root.set(ze),ze.source=Ot.data.root.input,ae.pulse(Ot.data.root.input,ae.changeset().insert(ze.items)),ae._width=ae.width(),ae._height=ae.height(),ae._viewWidth=Yt(ae,ae._width),ae._viewHeight=qt(ae,ae._height),ae._origin=[0,0],ae._resize=0,ae._autosize=1,gn(ae),f(ae),v(ae),ae.description(Q.description),oe.hover&&ae.hover(),oe.container&&ae.initialize(oe.container,oe.bind)}function O(Q,oe){return e.hasOwnProperty(Q._signals,oe)?Q._signals[oe]:e.error("Unrecognized signal name: "+e.stringValue(oe))}function $(Q,oe){let ae=(Q._targets||[]).filter(ze=>ze._update&&ze._update.handler===oe);return ae.length?ae[0]:null}function ge(Q,oe,ae,ze){let Ot=$(ae,ze);return Ot||(Ot=ot(Q,()=>ze(oe,ae.value)),Ot.handler=ze,Q.on(ae,null,Ot)),Q}function he(Q,oe,ae){let ze=$(oe,ae);return ze&&oe._targets.remove(ze),Q}e.inherits(Et,t.Dataflow,{async evaluate(Q,oe,ae){if(await t.Dataflow.prototype.evaluate.call(this,Q,oe),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,ie(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(ze){this.error(ze)}return ae&&t.asyncCallback(this,ae),this},dirty(Q){this._redraw=!0,this._renderer&&this._renderer.dirty(Q)},description(Q){if(arguments.length){let oe=Q!=null?Q+"":null;return oe!==this._desc&&l(this._el,this._desc=oe),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Q,oe,ae){let ze=O(this,Q);return arguments.length===1?ze.value:this.update(ze,oe,ae)},width(Q){return arguments.length?this.signal("width",Q):this.signal("width")},height(Q){return arguments.length?this.signal("height",Q):this.signal("height")},padding(Q){return arguments.length?this.signal("padding",cn(Q)):cn(this.signal("padding"))},autosize(Q){return arguments.length?this.signal("autosize",Q):this.signal("autosize")},background(Q){return arguments.length?this.signal("background",Q):this.signal("background")},renderer(Q){return arguments.length?(r.renderModule(Q)||e.error("Unrecognized renderer type: "+Q),Q!==this._renderType&&(this._renderType=Q,this._resetRenderer()),this):this._renderType},tooltip(Q){return arguments.length?(Q!==this._tooltip&&(this._tooltip=Q,this._resetRenderer()),this):this._tooltip},loader(Q){return arguments.length?(Q!==this._loader&&(t.Dataflow.prototype.loader.call(this,Q),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(O(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:kn,addEventListener(Q,oe,ae){let ze=oe;return ae&&ae.trap===!1||(ze=ot(this,oe),ze.raw=oe),this._handler.on(Q,ze),this},removeEventListener(Q,oe){for(var ae=this._handler.handlers(Q),ze=ae.length,Ot,vt;--ze>=0;)if(vt=ae[ze].type,Ot=ae[ze].handler,Q===vt&&(oe===Ot||oe===Ot.raw)){this._handler.off(vt,Ot);break}return this},addResizeListener(Q){let oe=this._resizeListeners;return oe.indexOf(Q)<0&&oe.push(Q),this},removeResizeListener(Q){var oe=this._resizeListeners,ae=oe.indexOf(Q);return ae>=0&&oe.splice(ae,1),this},addSignalListener(Q,oe){return ge(this,Q,O(this,Q),oe)},removeSignalListener(Q,oe){return he(this,O(this,Q),oe)},addDataListener(Q,oe){return ge(this,Q,F(this,Q).values,oe)},removeDataListener(Q,oe){return he(this,F(this,Q).values,oe)},globalCursor(Q){if(arguments.length){if(this._globalCursor!==!!Q){let oe=b(this,null);this._globalCursor=!!Q,oe&&b(this,oe)}return this}else return this._globalCursor},preventDefault(Q){return arguments.length?(this._preventDefault=Q,this):this._preventDefault},timer:mn,events:je,finalize:be,hover:De,data:D,change:M,insert:q,remove:N,scale:qe,initialize:$t,toImageURL:nn,toCanvas:$n,toSVG:Cn,getState:qn,setState:He}),n.View=Et,Object.defineProperty(n,"__esModule",{value:!0})})});var Uue=G((cV,UPe)=>{d();(function(n,e){typeof cV=="object"&&typeof UPe!="undefined"?e(cV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(cV,function(n){"use strict";let e="view",t="[",r="]",i="{",s="}",o=":",a=",",l="@",f=">",p=/[[\]{}]/,v={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},b,F;function D(L,Y,fe){return b=Y||e,F=fe||v,N(L.trim()).map(B)}function M(L){return F[L]}function q(L,Y,fe,me,Be){let tt=L.length,st=0,Qe;for(;Y<tt;++Y){if(Qe=L[Y],!st&&Qe===fe)return Y;Be&&Be.indexOf(Qe)>=0?--st:me&&me.indexOf(Qe)>=0&&++st}return Y}function N(L){let Y=[],fe=L.length,me=0,Be=0;for(;Be<fe;)Be=q(L,Be,a,t+i,r+s),Y.push(L.substring(me,Be).trim()),me=++Be;if(Y.length===0)throw"Empty event selector: "+L;return Y}function B(L){return L[0]==="["?I(L):z(L)}function I(L){let Y=L.length,fe=1,me;if(fe=q(L,fe,r,t,r),fe===Y)throw"Empty between selector: "+L;if(me=N(L.substring(1,fe)),me.length!==2)throw"Between selector must have two elements: "+L;if(L=L.slice(fe+1).trim(),L[0]!==f)throw"Expected '>' after between selector: "+L;me=me.map(B);let Be=B(L.slice(1).trim());return Be.between?{between:me,stream:Be}:(Be.between=me,Be)}function z(L){let Y={source:b},fe=[],me=[0,0],Be=0,tt=0,st=L.length,Qe=0,mt,Lt;if(L[st-1]===s){if(Qe=L.lastIndexOf(i),Qe>=0){try{me=ie(L.substring(Qe+1,st-1))}catch{throw"Invalid throttle specification: "+L}L=L.slice(0,Qe).trim(),st=L.length}else throw"Unmatched right brace: "+L;Qe=0}if(!st)throw L;if(L[0]===l&&(Be=++Qe),mt=q(L,Qe,o),mt<st&&(fe.push(L.substring(tt,mt).trim()),tt=Qe=++mt),Qe=q(L,Qe,t),Qe===st)fe.push(L.substring(tt,st).trim());else if(fe.push(L.substring(tt,Qe).trim()),Lt=[],tt=++Qe,tt===st)throw"Unmatched left bracket: "+L;for(;Qe<st;){if(Qe=q(L,Qe,r),Qe===st)throw"Unmatched left bracket: "+L;if(Lt.push(L.substring(tt,Qe).trim()),Qe<st-1&&L[++Qe]!==t)throw"Expected left bracket: "+L;tt=++Qe}if(!(st=fe.length)||p.test(fe[st-1]))throw"Invalid event selector: "+L;return st>1?(Y.type=fe[1],Be?Y.markname=fe[0].slice(1):M(fe[0])?Y.marktype=fe[0]:Y.source=fe[0]):Y.type=fe[0],Y.type.slice(-1)==="!"&&(Y.consume=!0,Y.type=Y.type.slice(0,-1)),Lt!=null&&(Y.filter=Lt),me[0]&&(Y.throttle=me[0]),me[1]&&(Y.debounce=me[1]),Y}function ie(L){let Y=L.split(a);if(!L.length||Y.length>2)throw L;return Y.map(fe=>{let me=+fe;if(me!==me)throw L;return me})}n.parseSelector=D,Object.defineProperty(n,"__esModule",{value:!0})})});var zPe=G((fV,$Pe)=>{d();(function(n,e){typeof fV=="object"&&typeof $Pe!="undefined"?e(fV,Ma(),aV(),Uue(),U6(),qc()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-functions","vega-event-selector","vega-scale","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(fV,function(n,e,t,r,i,s){"use strict";function o(R){return e.isObject(R)?R:{type:R||"pad"}}let a=R=>+R||0,l=R=>({top:R,bottom:R,left:R,right:R});function f(R){return e.isObject(R)?R.signal?R:{top:a(R.top),bottom:a(R.bottom),left:a(R.left),right:a(R.right)}:l(a(R))}let p=R=>e.isObject(R)&&!e.isArray(R)?e.extend({},R):{value:R};function v(R,J,ke,At){return ke!=null?(e.isObject(ke)&&!e.isArray(ke)||e.isArray(ke)&&ke.length&&e.isObject(ke[0])?R.update[J]=ke:R[At||"enter"][J]={value:ke},1):0}function b(R,J,ke){for(let At in J)v(R,At,J[At]);for(let At in ke)v(R,At,ke[At],"update")}function F(R,J,ke){for(let At in J)ke&&e.hasOwnProperty(ke,At)||(R[At]=e.extend(R[At]||{},J[At]));return R}function D(R,J){return J&&(J.enter&&J.enter[R]||J.update&&J.update[R])}let M="mark",q="frame",N="scope",B="axis",I="axis-domain",z="axis-grid",ie="axis-label",L="axis-tick",Y="axis-title",fe="legend",me="legend-band",Be="legend-entry",tt="legend-gradient",st="legend-label",Qe="legend-symbol",mt="legend-title",Lt="title",je="title-text",Z="title-subtitle";function Ke(R,J,ke,At,jt){let xn={},Sn={},Qn,er,gr,Nr;er="lineBreak",J==="text"&&jt[er]!=null&&!D(er,R)&&_e(xn,er,jt[er]),(ke=="legend"||String(ke).startsWith("axis"))&&(ke=null),Nr=ke===q?jt.group:ke===M?e.extend({},jt.mark,jt[J]):null;for(er in Nr)gr=D(er,R)||(er==="fill"||er==="stroke")&&(D("fill",R)||D("stroke",R)),gr||_e(xn,er,Nr[er]);e.array(At).forEach(xi=>{let Di=jt.style&&jt.style[xi];for(let ki in Di)D(ki,R)||_e(xn,ki,Di[ki])}),R=e.extend({},R);for(er in xn)Nr=xn[er],Nr.signal?(Qn=Qn||{})[er]=Nr:Sn[er]=Nr;return R.enter=e.extend(Sn,R.enter),Qn&&(R.update=e.extend(Qn,R.update)),R}function _e(R,J,ke){R[J]=ke&&ke.signal?{signal:ke.signal}:{value:ke}}let De=R=>e.isString(R)?e.stringValue(R):R.signal?`(${R.signal})`:_t(R);function be(R){if(R.gradient!=null)return rt(R);let J=R.signal?`(${R.signal})`:R.color?Ge(R.color):R.field!=null?_t(R.field):R.value!==void 0?e.stringValue(R.value):void 0;return R.scale!=null&&(J=Tt(R,J)),J===void 0&&(J=null),R.exponent!=null&&(J=`pow(${J},${Bt(R.exponent)})`),R.mult!=null&&(J+=`*${Bt(R.mult)}`),R.offset!=null&&(J+=`+${Bt(R.offset)}`),R.round&&(J=`round(${J})`),J}let de=(R,J,ke,At)=>`(${R}(${[J,ke,At].map(be).join(",")})+'')`;function Ge(R){return R.c?de("hcl",R.h,R.c,R.l):R.h||R.s?de("hsl",R.h,R.s,R.l):R.l||R.a?de("lab",R.l,R.a,R.b):R.r||R.g||R.b?de("rgb",R.r,R.g,R.b):null}function rt(R){let J=[R.start,R.stop,R.count].map(ke=>ke==null?null:e.stringValue(ke));for(;J.length&&e.peek(J)==null;)J.pop();return J.unshift(De(R.gradient)),`gradient(${J.join(",")})`}function Bt(R){return e.isObject(R)?"("+be(R)+")":R}function _t(R){return un(e.isObject(R)?R:{datum:R})}function un(R){let J,ke,At;if(R.signal)J="datum",At=R.signal;else if(R.group||R.parent){for(ke=Math.max(1,R.level||1),J="item";ke-- >0;)J+=".mark.group";R.parent?(At=R.parent,J+=".datum"):At=R.group}else R.datum?(J="datum",At=R.datum):e.error("Invalid field reference: "+e.stringValue(R));return R.signal||(At=e.isString(At)?e.splitAccessPath(At).map(e.stringValue).join("]["):un(At)),J+"["+At+"]"}function Tt(R,J){let ke=De(R.scale);return R.range!=null?J=`lerp(_range(${ke}), ${+R.range})`:(J!==void 0&&(J=`_scale(${ke}, ${J})`),R.band&&(J=(J?J+"+":"")+`_bandwidth(${ke})`+(+R.band==1?"":"*"+Bt(R.band)),R.extra&&(J=`(datum.extra ? _scale(${ke}, datum.extra.value) : ${J})`)),J==null&&(J="0")),J}function Rt(R){let J="";return R.forEach(ke=>{let At=be(ke);J+=ke.test?`(${ke.test})?${At}:`:At}),e.peek(J)===":"&&(J+="null"),J}function Gt(R,J,ke,At,jt,xn){let Sn={};xn=xn||{},xn.encoders={$encode:Sn},R=Ke(R,J,ke,At,jt.config);for(let Qn in R)Sn[Qn]=xt(R[Qn],J,xn,jt);return xn}function xt(R,J,ke,At){let jt={},xn={};for(let Sn in R)R[Sn]!=null&&(jt[Sn]=Oe(ve(R[Sn]),At,ke,xn));return{$expr:{marktype:J,channels:jt},$fields:Object.keys(xn),$output:Object.keys(R)}}function ve(R){return e.isArray(R)?Rt(R):be(R)}function Oe(R,J,ke,At){let jt=t.parseExpression(R,J);return jt.$fields.forEach(xn=>At[xn]=1),e.extend(ke,jt.$params),jt.$expr}let xe="outer",le=["value","update","init","react","bind"];function Ye(R,J){e.error(R+' for "outer" push: '+e.stringValue(J))}function Ve(R,J){let ke=R.name;if(R.push===xe)J.signals[ke]||Ye("No prior signal definition",ke),le.forEach(At=>{R[At]!==void 0&&Ye("Invalid property ",At)});else{let At=J.addSignal(ke,R.value);R.react===!1&&(At.react=!1),R.bind&&J.addBinding(ke,R.bind)}}function te(R,J,ke,At){this.id=-1,this.type=R,this.value=J,this.params=ke,At&&(this.parent=At)}function Ae(R,J,ke,At){return new te(R,J,ke,At)}function Xe(R,J){return Ae("operator",R,J)}function ot(R){let J={$ref:R.id};return R.id<0&&(R.refs=R.refs||[]).push(J),J}function Ct(R,J){return J?{$field:R,$name:J}:{$field:R}}let $t=Ct("key");function Ut(R,J){return{$compare:R,$order:J}}function sn(R,J){let ke={$key:R};return J&&(ke.$flat=!0),ke}let ln="ascending",cn="descending";function Ft(R){return e.isObject(R)?(R.order===cn?"-":"+")+nn(R.op,R.field):""}function nn(R,J){return(R&&R.signal?"$"+R.signal:R||"")+(R&&J?"_":"")+(J&&J.signal?"$"+J.signal:J||"")}let An="scope",$n="view";function Cn(R){return R&&R.signal}function Fe(R){return R&&R.expr}function qe(R){if(Cn(R))return!0;if(e.isObject(R)){for(let J in R)if(qe(R[J]))return!0}return!1}function Ce(R,J){return R??J}function Dt(R){return R&&R.signal||R}let lt="timer";function ct(R,J){return(R.merge?qt:R.stream?gn:R.type?kn:e.error("Invalid stream specification: "+e.stringValue(R)))(R,J)}function Yt(R){return R===An?$n:R||$n}function qt(R,J){let ke=R.merge.map(jt=>ct(jt,J)),At=qn({merge:ke},R,J);return J.addStream(At).id}function gn(R,J){let ke=ct(R.stream,J),At=qn({stream:ke},R,J);return J.addStream(At).id}function kn(R,J){let ke;R.type===lt?(ke=J.event(lt,R.throttle),R={between:R.between,filter:R.filter}):ke=J.event(Yt(R.source),R.type);let At=qn({stream:ke},R,J);return Object.keys(At).length===1?ke:J.addStream(At).id}function qn(R,J,ke){let At=J.between;return At&&(At.length!==2&&e.error('Stream "between" parameter must have 2 entries: '+e.stringValue(J)),R.between=[ct(At[0],ke),ct(At[1],ke)]),At=J.filter?[].concat(J.filter):[],(J.marktype||J.markname||J.markrole)&&At.push(bn(J.marktype,J.markname,J.markrole)),J.source===An&&At.push("inScope(event.item)"),At.length&&(R.filter=t.parseExpression("("+At.join(")&&(")+")",ke).$expr),(At=J.throttle)!=null&&(R.throttle=+At),(At=J.debounce)!=null&&(R.debounce=+At),J.consume&&(R.consume=!0),R}function bn(R,J,ke){let At="event.item";return At+(R&&R!=="*"?"&&"+At+".mark.marktype==='"+R+"'":"")+(ke?"&&"+At+".mark.role==='"+ke+"'":"")+(J?"&&"+At+".mark.name==='"+J+"'":"")}let zn={code:"_.$value",ast:{type:"Identifier",value:"value"}};function He(R,J,ke){let At=R.encode,jt={target:ke},xn=R.events,Sn=R.update,Qn=[];xn||e.error("Signal update missing events specification."),e.isString(xn)&&(xn=r.parseSelector(xn,J.isSubscope()?An:$n)),xn=e.array(xn).filter(er=>er.signal||er.scale?(Qn.push(er),0):1),Qn.length>1&&(Qn=[se(Qn)]),xn.length&&Qn.push(xn.length>1?{merge:xn}:xn[0]),At!=null&&(Sn&&e.error("Signal encode and update are mutually exclusive."),Sn="encode(item(),"+e.stringValue(At)+")"),jt.update=e.isString(Sn)?t.parseExpression(Sn,J):Sn.expr!=null?t.parseExpression(Sn.expr,J):Sn.value!=null?Sn.value:Sn.signal!=null?{$expr:zn,$params:{$value:J.signalRef(Sn.signal)}}:e.error("Invalid signal update specification."),R.force&&(jt.options={force:!0}),Qn.forEach(er=>J.addUpdate(e.extend(ht(er,J),jt)))}function ht(R,J){return{source:R.signal?J.signalRef(R.signal):R.scale?J.scaleRef(R.scale):ct(R,J)}}function se(R){return{signal:"["+R.map(J=>J.scale?'scale("'+J.scale+'")':J.signal)+"]"}}function Ie(R,J){let ke=J.getSignal(R.name),At=R.update;R.init&&(At?e.error("Signals can not include both init and update expressions."):(At=R.init,ke.initonly=!0)),At&&(At=t.parseExpression(At,J),ke.update=At.$expr,ke.params=At.$params),R.on&&R.on.forEach(jt=>He(jt,J,ke.id))}let Ze=R=>(J,ke,At)=>Ae(R,ke,J||void 0,At),St=Ze("aggregate"),rn=Ze("axisticks"),Xt=Ze("bound"),at=Ze("collect"),ne=Ze("compare"),Se=Ze("datajoin"),Me=Ze("encode"),ft=Ze("expression"),gt=Ze("facet"),wt=Ze("field"),ee=Ze("key"),Ee=Ze("legendentries"),$e=Ze("load"),et=Ze("mark"),It=Ze("multiextent"),Kt=Ze("multivalues"),mn=Ze("overlap"),fn=Ze("params"),dn=Ze("prefacet"),Rn=Ze("projection"),we=Ze("proxy"),Pe=Ze("relay"),Et=Ze("render"),O=Ze("scale"),$=Ze("sieve"),ge=Ze("sortitems"),he=Ze("viewlayout"),Q=Ze("values"),oe=0,ae={min:"min",max:"max",count:"sum"};function ze(R,J){let ke=R.type||"linear";i.isValidScaleType(ke)||e.error("Unrecognized scale type: "+e.stringValue(ke)),J.addScale(R.name,{type:ke,domain:void 0})}function Ot(R,J){let ke=J.getScale(R.name).params,At;ke.domain=P(R.domain,R,J),R.range!=null&&(ke.range=Dr(R,J,ke)),R.interpolate!=null&&Mr(R.interpolate,ke),R.nice!=null&&(ke.nice=In(R.nice)),R.bins!=null&&(ke.bins=On(R.bins,J));for(At in R)e.hasOwnProperty(ke,At)||At==="name"||(ke[At]=vt(R[At],J))}function vt(R,J){return e.isObject(R)?R.signal?J.signalRef(R.signal):e.error("Unsupported object: "+e.stringValue(R)):R}function tn(R,J){return R.signal?J.signalRef(R.signal):R.map(ke=>vt(ke,J))}function E(R){e.error("Can not find data set: "+e.stringValue(R))}function P(R,J,ke){if(!R){(J.domainMin!=null||J.domainMax!=null)&&e.error("No scale domain defined for domainMin/domainMax to override.");return}return R.signal?ke.signalRef(R.signal):(e.isArray(R)?X:R.fields?ut:ye)(R,J,ke)}function X(R,J,ke){return R.map(At=>vt(At,ke))}function ye(R,J,ke){let At=ke.getData(R.data);return At||E(R.data),i.isDiscrete(J.type)?At.valuesRef(ke,R.field,zt(R.sort,!1)):i.isQuantile(J.type)?At.domainRef(ke,R.field):At.extentRef(ke,R.field)}function ut(R,J,ke){let At=R.data,jt=R.fields.reduce((xn,Sn)=>(Sn=e.isString(Sn)?{data:At,field:Sn}:e.isArray(Sn)||Sn.signal?bt(Sn,ke):Sn,xn.push(Sn),xn),[]);return(i.isDiscrete(J.type)?Vt:i.isQuantile(J.type)?an:Dn)(R,ke,jt)}function bt(R,J){let ke="_:vega:_"+oe++,At=at({});if(e.isArray(R))At.value={$ingest:R};else if(R.signal){let jt="setdata("+e.stringValue(ke)+","+R.signal+")";At.params.input=J.signalRef(jt)}return J.addDataPipeline(ke,[At,$({})]),{data:ke,field:"data"}}function Vt(R,J,ke){let At=zt(R.sort,!0),jt,xn,Sn=ke.map(gr=>{let Nr=J.getData(gr.data);return Nr||E(gr.data),Nr.countsRef(J,gr.field,At)}),Qn={groupby:$t,pulse:Sn};At&&(jt=At.op||"count",xn=At.field?nn(jt,At.field):"count",Qn.ops=[ae[jt]],Qn.fields=[J.fieldRef(xn)],Qn.as=[xn]),jt=J.add(St(Qn));let er=J.add(at({pulse:ot(jt)}));return xn=J.add(Q({field:$t,sort:J.sortRef(At),pulse:ot(er)})),ot(xn)}function zt(R,J){return R&&(!R.field&&!R.op?e.isObject(R)?R.field="key":R={field:"key"}:!R.field&&R.op!=="count"?e.error("No field provided for sort aggregate op: "+R.op):J&&R.field&&R.op&&!ae[R.op]&&e.error("Multiple domain scales can not be sorted using "+R.op)),R}function an(R,J,ke){let At=ke.map(jt=>{let xn=J.getData(jt.data);return xn||E(jt.data),xn.domainRef(J,jt.field)});return ot(J.add(Kt({values:At})))}function Dn(R,J,ke){let At=ke.map(jt=>{let xn=J.getData(jt.data);return xn||E(jt.data),xn.extentRef(J,jt.field)});return ot(J.add(It({extents:At})))}function On(R,J){return R.signal||e.isArray(R)?tn(R,J):J.objectProperty(R)}function In(R){return e.isObject(R)?{interval:vt(R.interval),step:vt(R.step)}:vt(R)}function Mr(R,J){J.interpolate=vt(R.type||R),R.gamma!=null&&(J.interpolateGamma=vt(R.gamma))}function Dr(R,J,ke){let At=J.config.range,jt=R.range;if(jt.signal)return J.signalRef(jt.signal);if(e.isString(jt)){if(At&&e.hasOwnProperty(At,jt))return R=e.extend({},R,{range:At[jt]}),Dr(R,J,ke);jt==="width"?jt=[0,{signal:"width"}]:jt==="height"?jt=i.isDiscrete(R.type)?[0,{signal:"height"}]:[{signal:"height"},0]:e.error("Unrecognized scale range value: "+e.stringValue(jt))}else if(jt.scheme){ke.scheme=e.isArray(jt.scheme)?tn(jt.scheme,J):vt(jt.scheme,J),jt.extent&&(ke.schemeExtent=tn(jt.extent,J)),jt.count&&(ke.schemeCount=vt(jt.count,J));return}else if(jt.step){ke.rangeStep=vt(jt.step,J);return}else{if(i.isDiscrete(R.type)&&!e.isArray(jt))return P(jt,R,J);e.isArray(jt)||e.error("Unsupported range type: "+e.stringValue(jt))}return jt.map(xn=>(e.isArray(xn)?tn:vt)(xn,J))}function rr(R,J){let ke=J.config.projection||{},At={};for(let jt in R)jt!=="name"&&(At[jt]=br(R[jt],jt,J));for(let jt in ke)At[jt]==null&&(At[jt]=br(ke[jt],jt,J));J.addProjection(R.name,At)}function br(R,J,ke){return e.isArray(R)?R.map(At=>br(At,J,ke)):e.isObject(R)?R.signal?ke.signalRef(R.signal):J==="fit"?R:e.error("Unsupported parameter object: "+e.stringValue(R)):R}let Zr="top",Wr="left",Ti="right",Ki="bottom",Ni="center",ta="vertical",na="start",Gu="middle",hc="end",eu="index",tu="label",Sl="offset",gu="perc",pc="perc2",To="value",Ru="guide-label",zc="guide-title",Je="group-title",Qt="group-subtitle",Tn="symbol",Pn="gradient",Ur="discrete",wr="size",go=[wr,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],Xr={name:1,style:1,interactive:1},si={value:0},Vi={value:1},Fo="group",Vo="rect",Wo="rule",Hs="symbol",qi="text";function $i(R){return R.type=Fo,R.interactive=R.interactive||!1,R}function ts(R,J){let ke=(At,jt)=>Ce(R[At],Ce(J[At],jt));return ke.isVertical=At=>ta===Ce(R.direction,J.direction||(At?J.symbolDirection:J.gradientDirection)),ke.gradientLength=()=>Ce(R.gradientLength,J.gradientLength||J.gradientWidth),ke.gradientThickness=()=>Ce(R.gradientThickness,J.gradientThickness||J.gradientHeight),ke.entryColumns=()=>Ce(R.columns,Ce(J.columns,+ke.isVertical(!0))),ke}function nu(R,J){let ke=J&&(J.update&&J.update[R]||J.enter&&J.enter[R]);return ke&&ke.signal?ke:ke?ke.value:null}function Eo(R,J,ke){let At=J.config.style[ke];return At&&At[R]}function Qo(R,J,ke){return`item.anchor === '${na}' ? ${R} : item.anchor === '${hc}' ? ${J} : ${ke}`}let Mo=Qo(e.stringValue(Wr),e.stringValue(Ti),e.stringValue(Ni));function Ei(R){let J=R("tickBand"),ke=R("tickOffset"),At,jt;return J?J.signal?(At={signal:`(${J.signal}) === 'extent' ? 1 : 0.5`},jt={signal:`(${J.signal}) === 'extent'`},e.isObject(ke)||(ke={signal:`(${J.signal}) === 'extent' ? 0 : ${ke}`})):J==="extent"?(At=1,jt=!0,ke=0):(At=.5,jt=!1):(At=R("bandPosition"),jt=R("tickExtra")),{extra:jt,band:At,offset:ke}}function No(R,J){return J?R?e.isObject(R)?Object.assign({},R,{offset:No(R.offset,J)}):{value:R,offset:J}:J:R}function ns(R,J){return J?(R.name=J.name,R.style=J.style||R.style,R.interactive=!!J.interactive,R.encode=F(R.encode,J,Xr)):R.interactive=!1,R}function ys(R,J,ke,At){let jt=ts(R,ke),xn=jt.isVertical(),Sn=jt.gradientThickness(),Qn=jt.gradientLength(),er,gr,Nr,xi,Di;xn?(gr=[0,1],Nr=[0,0],xi=Sn,Di=Qn):(gr=[0,0],Nr=[1,0],xi=Qn,Di=Sn);let ki={enter:er={opacity:si,x:si,y:si,width:p(xi),height:p(Di)},update:e.extend({},er,{opacity:Vi,fill:{gradient:J,start:gr,stop:Nr}}),exit:{opacity:si}};return b(ki,{stroke:jt("gradientStrokeColor"),strokeWidth:jt("gradientStrokeWidth")},{opacity:jt("gradientOpacity")}),ns({type:Vo,role:tt,encode:ki},At)}function Ro(R,J,ke,At,jt){let xn=ts(R,ke),Sn=xn.isVertical(),Qn=xn.gradientThickness(),er=xn.gradientLength(),gr,Nr,xi,Di,ki="";Sn?(gr="y",xi="y2",Nr="x",Di="width",ki="1-"):(gr="x",xi="x2",Nr="y",Di="height");let Ai={opacity:si,fill:{scale:J,field:To}};Ai[gr]={signal:ki+"datum."+gu,mult:er},Ai[Nr]=si,Ai[xi]={signal:ki+"datum."+pc,mult:er},Ai[Di]=p(Qn);let ws={enter:Ai,update:e.extend({},Ai,{opacity:Vi}),exit:{opacity:si}};return b(ws,{stroke:xn("gradientStrokeColor"),strokeWidth:xn("gradientStrokeWidth")},{opacity:xn("gradientOpacity")}),ns({type:Vo,role:me,key:To,from:jt,encode:ws},At)}let Ba=`datum.${gu}<=0?"${Wr}":datum.${gu}>=1?"${Ti}":"${Ni}"`,ja=`datum.${gu}<=0?"${Ki}":datum.${gu}>=1?"${Zr}":"${Gu}"`;function lo(R,J,ke,At){let jt=ts(R,J),xn=jt.isVertical(),Sn=p(jt.gradientThickness()),Qn=jt.gradientLength(),er=jt("labelOverlap"),gr,Nr,xi,Di,ki="",Ai={enter:gr={opacity:si},update:Nr={opacity:Vi,text:{field:tu}},exit:{opacity:si}};return b(Ai,{fill:jt("labelColor"),fillOpacity:jt("labelOpacity"),font:jt("labelFont"),fontSize:jt("labelFontSize"),fontStyle:jt("labelFontStyle"),fontWeight:jt("labelFontWeight"),limit:Ce(R.labelLimit,J.gradientLabelLimit)}),xn?(gr.align={value:"left"},gr.baseline=Nr.baseline={signal:ja},xi="y",Di="x",ki="1-"):(gr.align=Nr.align={signal:Ba},gr.baseline={value:"top"},xi="x",Di="y"),gr[xi]=Nr[xi]={signal:ki+"datum."+gu,mult:Qn},gr[Di]=Nr[Di]=Sn,Sn.offset=Ce(R.labelOffset,J.gradientLabelOffset)||0,er=er?{separation:jt("labelSeparation"),method:er,order:"datum."+eu}:void 0,ns({type:qi,role:st,style:Ru,key:To,from:At,encode:Ai,overlap:er},ke)}function Gs(R,J,ke,At,jt){let xn=ts(R,J),Sn=ke.entries,Qn=!!(Sn&&Sn.interactive),er=Sn?Sn.name:void 0,gr=xn("clipHeight"),Nr=xn("symbolOffset"),xi={data:"value"},Di=`(${jt}) ? datum.${Sl} : datum.${wr}`,ki=gr?p(gr):{field:wr},Ai=`datum.${eu}`,ws=`max(1, ${jt})`,yo,Ko,vo,da,Hl;ki.mult=.5,yo={enter:Ko={opacity:si,x:{signal:Di,mult:.5,offset:Nr},y:ki},update:vo={opacity:Vi,x:Ko.x,y:Ko.y},exit:{opacity:si}};let wl=null,ha=null;R.fill||(wl=J.symbolBaseFillColor,ha=J.symbolBaseStrokeColor),b(yo,{fill:xn("symbolFillColor",wl),shape:xn("symbolType"),size:xn("symbolSize"),stroke:xn("symbolStrokeColor",ha),strokeDash:xn("symbolDash"),strokeDashOffset:xn("symbolDashOffset"),strokeWidth:xn("symbolStrokeWidth")},{opacity:xn("symbolOpacity")}),go.forEach(Yc=>{R[Yc]&&(vo[Yc]=Ko[Yc]={scale:R[Yc],field:To})});let Vl=ns({type:Hs,role:Qe,key:To,from:xi,clip:gr?!0:void 0,encode:yo},ke.symbols),Xu=p(Nr);Xu.offset=xn("labelOffset"),yo={enter:Ko={opacity:si,x:{signal:Di,offset:Xu},y:ki},update:vo={opacity:Vi,text:{field:tu},x:Ko.x,y:Ko.y},exit:{opacity:si}},b(yo,{align:xn("labelAlign"),baseline:xn("labelBaseline"),fill:xn("labelColor"),fillOpacity:xn("labelOpacity"),font:xn("labelFont"),fontSize:xn("labelFontSize"),fontStyle:xn("labelFontStyle"),fontWeight:xn("labelFontWeight"),limit:xn("labelLimit")});let Gc=ns({type:qi,role:st,style:Ru,key:To,from:xi,encode:yo},ke.labels);return yo={enter:{noBound:{value:!gr},width:si,height:gr?p(gr):si,opacity:si},exit:{opacity:si},update:vo={opacity:Vi,row:{signal:null},column:{signal:null}}},xn.isVertical(!0)?(da=`ceil(item.mark.items.length / ${ws})`,vo.row.signal=`${Ai}%${da}`,vo.column.signal=`floor(${Ai} / ${da})`,Hl={field:["row",Ai]}):(vo.row.signal=`floor(${Ai} / ${ws})`,vo.column.signal=`${Ai} % ${ws}`,Hl={field:Ai}),vo.column.signal=`(${jt})?${vo.column.signal}:${Ai}`,At={facet:{data:At,name:"value",groupby:eu}},$i({role:N,from:At,encode:F(yo,Sn,Xr),marks:[Vl,Gc],name:er,interactive:Qn,sort:Hl})}function wa(R,J){let ke=ts(R,J);return{align:ke("gridAlign"),columns:ke.entryColumns(),center:{row:!0,column:!1},padding:{row:ke("rowPadding"),column:ke("columnPadding")}}}let ru='item.orient === "left"',qa='item.orient === "right"',ra=`(${ru} || ${qa})`,Aa=`datum.vgrad && ${ra}`,Yu=Qo('"top"','"bottom"','"middle"'),$l=Qo('"right"','"left"','"center"'),Lo=`datum.vgrad && ${qa} ? (${$l}) : (${ra} && !(datum.vgrad && ${ru})) ? "left" : ${Mo}`,Cl=`item._anchor || (${ra} ? "middle" : "start")`,Gr=`${Aa} ? (${ru} ? -90 : 90) : 0`,Ii=`${ra} ? (datum.vgrad ? (${qa} ? "bottom" : "top") : ${Yu}) : "top"`;function ji(R,J,ke,At){let jt=ts(R,J),xn={enter:{opacity:si},update:{opacity:Vi,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:si}};return b(xn,{orient:jt("titleOrient"),_anchor:jt("titleAnchor"),anchor:{signal:Cl},angle:{signal:Gr},align:{signal:Lo},baseline:{signal:Ii},text:R.title,fill:jt("titleColor"),fillOpacity:jt("titleOpacity"),font:jt("titleFont"),fontSize:jt("titleFontSize"),fontStyle:jt("titleFontStyle"),fontWeight:jt("titleFontWeight"),limit:jt("titleLimit"),lineHeight:jt("titleLineHeight")},{align:jt("titleAlign"),baseline:jt("titleBaseline")}),ns({type:qi,role:mt,style:zc,from:At,encode:xn},ke)}function tr(R,J){let ke;return e.isObject(R)&&(R.signal?ke=R.signal:R.path?ke="pathShape("+Bi(R.path)+")":R.sphere&&(ke="geoShape("+Bi(R.sphere)+', {type: "Sphere"})')),ke?J.signalRef(ke):!!R}function Bi(R){return e.isObject(R)&&R.signal?R.signal:e.stringValue(R)}function Ne(R){let J=R.role||"";return!J.indexOf("axis")||!J.indexOf("legend")||!J.indexOf("title")?J:R.type===Fo?N:J||M}function dt(R){return{marktype:R.type,name:R.name||void 0,role:R.role||Ne(R),zindex:+R.zindex||void 0,aria:R.aria,description:R.description}}function Ht(R,J){return R&&R.signal?J.signalRef(R.signal):R!==!1}function Mt(R,J){let ke=s.definition(R.type);ke||e.error("Unrecognized transform type: "+e.stringValue(R.type));let At=Ae(ke.type.toLowerCase(),null,on(ke,R,J));return R.signal&&J.addSignal(R.signal,J.proxy(At)),At.metadata=ke.metadata||{},At}function on(R,J,ke){let At={},jt=R.params.length;for(let xn=0;xn<jt;++xn){let Sn=R.params[xn];At[Sn.name]=wn(Sn,J,ke)}return At}function wn(R,J,ke){let At=R.type,jt=J[R.name];if(At==="index")return Nn(R,J,ke);if(jt===void 0){R.required&&e.error("Missing required "+e.stringValue(J.type)+" parameter: "+e.stringValue(R.name));return}else{if(At==="param")return or(R,J,ke);if(At==="projection")return ke.projectionRef(J[R.name])}return R.array&&!Cn(jt)?jt.map(xn=>Bn(R,xn,ke)):Bn(R,jt,ke)}function Bn(R,J,ke){let At=R.type;if(Cn(J))return nr(At)?e.error("Expression references can not be signals."):hr(At)?ke.fieldRef(J):Kr(At)?ke.compareRef(J):ke.signalRef(J.signal);{let jt=R.expr||hr(At);return jt&&Mn(J)?ke.exprRef(J.expr,J.as):jt&&Gn(J)?Ct(J.field,J.as):nr(At)?t.parseExpression(J,ke):Hn(At)?ot(ke.getData(J).values):hr(At)?Ct(J):Kr(At)?ke.compareRef(J):J}}function Nn(R,J,ke){return e.isString(J.from)||e.error('Lookup "from" parameter must be a string literal.'),ke.getData(J.from).lookupRef(ke,J.key)}function or(R,J,ke){let At=J[R.name];return R.array?(e.isArray(At)||e.error("Expected an array of sub-parameters. Instead: "+e.stringValue(At)),At.map(jt=>fr(R,jt,ke))):fr(R,At,ke)}function fr(R,J,ke){let At=R.params.length,jt;for(let Sn=0;Sn<At;++Sn){jt=R.params[Sn];for(let Qn in jt.key)if(jt.key[Qn]!==J[Qn]){jt=null;break}if(jt)break}jt||e.error("Unsupported parameter: "+e.stringValue(J));let xn=e.extend(on(jt,J,ke),jt.key);return ot(ke.add(fn(xn)))}let Mn=R=>R&&R.expr,Gn=R=>R&&R.field,Hn=R=>R==="data",nr=R=>R==="expr",hr=R=>R==="field",Kr=R=>R==="compare";function $r(R,J,ke){let At,jt,xn,Sn,Qn;return R?(At=R.facet)&&(J||e.error("Only group marks can be faceted."),At.field!=null?Sn=Qn=ui(At,ke):(R.data?Qn=ot(ke.getData(R.data).aggregate):(xn=Mt(e.extend({type:"aggregate",groupby:e.array(At.groupby)},At.aggregate),ke),xn.params.key=ke.keyRef(At.groupby),xn.params.pulse=ui(At,ke),Sn=Qn=ot(ke.add(xn))),jt=ke.keyRef(At.groupby,!0))):Sn=ot(ke.add(at(null,[{}]))),Sn||(Sn=ui(R,ke)),{key:jt,pulse:Sn,parent:Qn}}function ui(R,J){return R.$ref?R:R.data&&R.data.$ref?R.data:ot(J.getData(R.data).output)}function Vr(R,J,ke,At,jt){this.scope=R,this.input=J,this.output=ke,this.values=At,this.aggregate=jt,this.index={}}Vr.fromEntries=function(R,J){let ke=J.length,At=J[ke-1],jt=J[ke-2],xn=J[0],Sn=null,Qn=1;for(xn&&xn.type==="load"&&(xn=J[1]),R.add(J[0]);Qn<ke;++Qn)J[Qn].params.pulse=ot(J[Qn-1]),R.add(J[Qn]),J[Qn].type==="aggregate"&&(Sn=J[Qn]);return new Vr(R,xn,jt,At,Sn)};function Tr(R){return e.isString(R)?R:null}function vr(R,J,ke){let At=nn(ke.op,ke.field),jt;if(J.ops){for(let xn=0,Sn=J.as.length;xn<Sn;++xn)if(J.as[xn]===At)return}else J.ops=["count"],J.fields=[null],J.as=["count"];ke.op&&(J.ops.push((jt=ke.op.signal)?R.signalRef(jt):ke.op),J.fields.push(R.fieldRef(ke.field)),J.as.push(At))}function ei(R,J,ke,At,jt,xn,Sn){let Qn=J[ke]||(J[ke]={}),er=Ft(xn),gr=Tr(jt),Nr,xi;if(gr!=null&&(R=J.scope,gr=gr+(er?"|"+er:""),Nr=Qn[gr]),!Nr){let Di=xn?{field:$t,pulse:J.countsRef(R,jt,xn)}:{field:R.fieldRef(jt),pulse:ot(J.output)};er&&(Di.sort=R.sortRef(xn)),xi=R.add(Ae(At,void 0,Di)),Sn&&(J.index[jt]=xi),Nr=ot(xi),gr!=null&&(Qn[gr]=Nr)}return Nr}Vr.prototype={countsRef(R,J,ke){let At=this,jt=At.counts||(At.counts={}),xn=Tr(J),Sn,Qn,er;return xn!=null&&(R=At.scope,Sn=jt[xn]),Sn?ke&&ke.field&&vr(R,Sn.agg.params,ke):(er={groupby:R.fieldRef(J,"key"),pulse:ot(At.output)},ke&&ke.field&&vr(R,er,ke),Qn=R.add(St(er)),Sn=R.add(at({pulse:ot(Qn)})),Sn={agg:Qn,ref:ot(Sn)},xn!=null&&(jt[xn]=Sn)),Sn.ref},tuplesRef(){return ot(this.values)},extentRef(R,J){return ei(R,this,"extent","extent",J,!1)},domainRef(R,J){return ei(R,this,"domain","values",J,!1)},valuesRef(R,J,ke){return ei(R,this,"vals","values",J,ke||!0)},lookupRef(R,J){return ei(R,this,"lookup","tupleindex",J,!1)},indataRef(R,J){return ei(R,this,"indata","tupleindex",J,!0,!0)}};function oi(R,J,ke){let At=R.from.facet,jt=At.name,xn=ui(At,J),Sn;At.name||e.error("Facet must have a name: "+e.stringValue(At)),At.data||e.error("Facet must reference a data set: "+e.stringValue(At)),At.field?Sn=J.add(dn({field:J.fieldRef(At.field),pulse:xn})):At.groupby?Sn=J.add(gt({key:J.keyRef(At.groupby),group:ot(J.proxy(ke.parent)),pulse:xn})):e.error("Facet must specify groupby or field: "+e.stringValue(At));let Qn=J.fork(),er=Qn.add(at()),gr=Qn.add($({pulse:ot(er)}));Qn.addData(jt,new Vr(Qn,er,er,gr)),Qn.addSignal("parent",null),Sn.params.subflow={$subflow:Qn.parse(R).toRuntime()}}function ss(R,J,ke){let At=J.add(dn({pulse:ke.pulse})),jt=J.fork();jt.add($()),jt.addSignal("parent",null),At.params.subflow={$subflow:jt.parse(R).toRuntime()}}function Qi(R,J,ke){let At=R.remove,jt=R.insert,xn=R.toggle,Sn=R.modify,Qn=R.values,er=J.add(Xe()),gr="if("+R.trigger+',modify("'+ke+'",'+[jt,At,xn,Sn,Qn].map(xi=>xi??"null").join(",")+"),0)",Nr=t.parseExpression(gr,J);er.update=Nr.$expr,er.params=Nr.$params}function ti(R,J){let ke=Ne(R),At=R.type===Fo,jt=R.from&&R.from.facet,xn=R.overlap,Sn=R.layout||ke===N||ke===q,Qn,er,gr,Nr,xi,Di,ki,Ai=ke===M||Sn||jt,ws=$r(R.from,At,J);er=J.add(Se({key:ws.key||(R.key?Ct(R.key):void 0),pulse:ws.pulse,clean:!At}));let yo=ot(er);er=gr=J.add(at({pulse:yo})),er=J.add(et({markdef:dt(R),interactive:Ht(R.interactive,J),clip:tr(R.clip,J),context:{$context:!0},groups:J.lookup(),parent:J.signals.parent?J.signalRef("parent"):null,index:J.markpath(),pulse:ot(er)}));let Ko=ot(er);er=Nr=J.add(Me(Gt(R.encode,R.type,ke,R.style,J,{mod:!1,pulse:Ko}))),er.params.parent=J.encode(),R.transform&&R.transform.forEach(ha=>{let Vl=Mt(ha,J),Xu=Vl.metadata;(Xu.generates||Xu.changes)&&e.error("Mark transforms should not generate new data."),Xu.nomod||(Nr.params.mod=!0),Vl.params.pulse=ot(er),J.add(er=Vl)}),R.sort&&(er=J.add(ge({sort:J.compareRef(R.sort),pulse:ot(er)})));let vo=ot(er);(jt||Sn)&&(Sn=J.add(he({layout:J.objectProperty(R.layout),legends:J.legends,mark:Ko,pulse:vo})),Di=ot(Sn));let da=J.add(Xt({mark:Ko,pulse:Di||vo}));ki=ot(da),At&&(Ai&&(Qn=J.operators,Qn.pop(),Sn&&Qn.pop()),J.pushState(vo,Di||ki,yo),jt?oi(R,J,ws):Ai?ss(R,J,ws):J.parse(R),J.popState(),Ai&&(Sn&&Qn.push(Sn),Qn.push(da))),xn&&(ki=vs(xn,ki,J));let Hl=J.add(Et({pulse:ki})),wl=J.add($({pulse:ot(Hl)},void 0,J.parent()));R.name!=null&&(xi=R.name,J.addData(xi,new Vr(J,gr,Hl,wl)),R.on&&R.on.forEach(ha=>{(ha.insert||ha.remove||ha.toggle)&&e.error("Marks only support modify triggers."),Qi(ha,J,xi)}))}function vs(R,J,ke){let At=R.method,jt=R.bound,xn=R.separation,Sn={separation:Cn(xn)?ke.signalRef(xn.signal):xn,method:Cn(At)?ke.signalRef(At.signal):At,pulse:J};if(R.order&&(Sn.sort=ke.compareRef({field:R.order})),jt){let Qn=jt.tolerance;Sn.boundTolerance=Cn(Qn)?ke.signalRef(Qn.signal):+Qn,Sn.boundScale=ke.scaleRef(jt.scale),Sn.boundOrient=jt.orient}return ot(ke.add(mn(Sn)))}function Li(R,J){let ke=J.config.legend,At=R.encode||{},jt=ts(R,ke),xn=At.legend||{},Sn=xn.name||void 0,Qn=xn.interactive,er=xn.style,gr={},Nr=0,xi,Di,ki;go.forEach(da=>R[da]?(gr[da]=R[da],Nr=Nr||R[da]):0),Nr||e.error("Missing valid scale for legend.");let Ai=Go(R,J.scaleType(Nr)),ws={title:R.title!=null,scales:gr,type:Ai,vgrad:Ai!=="symbol"&&jt.isVertical()},yo=ot(J.add(at(null,[ws]))),Ko={enter:{x:{value:0},y:{value:0}}},vo=ot(J.add(Ee(Di={type:Ai,scale:J.scaleRef(Nr),count:J.objectProperty(jt("tickCount")),limit:J.property(jt("symbolLimit")),values:J.objectProperty(R.values),minstep:J.property(R.tickMinStep),formatType:J.property(R.formatType),formatSpecifier:J.property(R.format)})));return Ai===Pn?(ki=[ys(R,Nr,ke,At.gradient),lo(R,ke,At.labels,vo)],Di.count=Di.count||J.signalRef(`max(2,2*floor((${Dt(jt.gradientLength())})/100))`)):Ai===Ur?ki=[Ro(R,Nr,ke,At.gradient,vo),lo(R,ke,At.labels,vo)]:(xi=wa(R,ke),ki=[Gs(R,ke,At,vo,Dt(xi.columns))],Di.size=xr(R,J,ki[0].marks)),ki=[$i({role:Be,from:yo,encode:Ko,marks:ki,layout:xi,interactive:Qn})],ws.title&&ki.push(ji(R,ke,At.title,yo)),ti($i({role:fe,from:yo,encode:F(ks(jt,R,ke),xn,Xr),marks:ki,aria:jt("aria"),description:jt("description"),zindex:jt("zindex"),name:Sn,interactive:Qn,style:er}),J)}function Go(R,J){let ke=R.type||Tn;return!R.type&&Xs(R)===1&&(R.fill||R.stroke)&&(ke=i.isContinuous(J)?Pn:i.isDiscretizing(J)?Ur:Tn),ke!==Pn?ke:i.isDiscretizing(J)?Ur:Pn}function Xs(R){return go.reduce((J,ke)=>J+(R[ke]?1:0),0)}function ks(R,J,ke){let At={enter:{},update:{}};return b(At,{orient:R("orient"),offset:R("offset"),padding:R("padding"),titlePadding:R("titlePadding"),cornerRadius:R("cornerRadius"),fill:R("fillColor"),stroke:R("strokeColor"),strokeWidth:ke.strokeWidth,strokeDash:ke.strokeDash,x:R("legendX"),y:R("legendY"),format:J.format,formatType:J.formatType}),At}function xr(R,J,ke){let At=Dt(zi("size",R,ke)),jt=Dt(zi("strokeWidth",R,ke)),xn=Dt(_r(ke[1].encode,J,Ru));return t.parseExpression(`max(ceil(sqrt(${At})+${jt}),${xn})`,J)}function zi(R,J,ke){return J[R]?`scale("${J[R]}",datum)`:nu(R,ke[0].encode)}function _r(R,J,ke){return nu("fontSize",R)||Eo("fontSize",J,ke)}let Po=`item.orient==="${Wr}"?-90:item.orient==="${Ti}"?90:0`;function Bo(R,J){R=e.isString(R)?{text:R}:R;let ke=ts(R,J.config.title),At=R.encode||{},jt=At.group||{},xn=jt.name||void 0,Sn=jt.interactive,Qn=jt.style,er=[],gr={},Nr=ot(J.add(at(null,[gr])));return er.push(Zs(R,ke,Yo(R),Nr)),R.subtitle&&er.push(Hi(R,ke,At.subtitle,Nr)),ti($i({role:Lt,from:Nr,encode:co(ke,jt),marks:er,aria:ke("aria"),description:ke("description"),zindex:ke("zindex"),name:xn,interactive:Sn,style:Qn}),J)}function Yo(R){let J=R.encode;return J&&J.title||e.extend({name:R.name,interactive:R.interactive,style:R.style},J)}function co(R,J){let ke={enter:{},update:{}};return b(ke,{orient:R("orient"),anchor:R("anchor"),align:{signal:Mo},angle:{signal:Po},limit:R("limit"),frame:R("frame"),offset:R("offset")||0,padding:R("subtitlePadding")}),F(ke,J,Xr)}function Zs(R,J,ke,At){let jt={value:0},xn=R.text,Sn={enter:{opacity:jt},update:{opacity:{value:1}},exit:{opacity:jt}};return b(Sn,{text:xn,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:J("dx"),dy:J("dy"),fill:J("color"),font:J("font"),fontSize:J("fontSize"),fontStyle:J("fontStyle"),fontWeight:J("fontWeight"),lineHeight:J("lineHeight")},{align:J("align"),angle:J("angle"),baseline:J("baseline")}),ns({type:qi,role:je,style:Je,from:At,encode:Sn},ke)}function Hi(R,J,ke,At){let jt={value:0},xn=R.subtitle,Sn={enter:{opacity:jt},update:{opacity:{value:1}},exit:{opacity:jt}};return b(Sn,{text:xn,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:J("dx"),dy:J("dy"),fill:J("subtitleColor"),font:J("subtitleFont"),fontSize:J("subtitleFontSize"),fontStyle:J("subtitleFontStyle"),fontWeight:J("subtitleFontWeight"),lineHeight:J("subtitleLineHeight")},{align:J("align"),angle:J("angle"),baseline:J("baseline")}),ns({type:qi,role:Z,style:Qt,from:At,encode:Sn},ke)}function iu(R,J){let ke=[];R.transform&&R.transform.forEach(At=>{ke.push(Mt(At,J))}),R.on&&R.on.forEach(At=>{Qi(At,J,R.name)}),J.addDataPipeline(R.name,ue(R,J,ke))}function ue(R,J,ke){let At=[],jt=null,xn=!1,Sn=!1,Qn,er,gr,Nr,xi;for(R.values?Cn(R.values)||qe(R.format)?(At.push(Wt(J,R)),At.push(jt=nt())):At.push(jt=nt({$ingest:R.values,$format:R.format})):R.url?qe(R.url)||qe(R.format)?(At.push(Wt(J,R)),At.push(jt=nt())):At.push(jt=nt({$request:R.url,$format:R.format})):R.source&&(jt=Qn=e.array(R.source).map(Di=>ot(J.getData(Di).output)),At.push(null)),er=0,gr=ke.length;er<gr;++er)Nr=ke[er],xi=Nr.metadata,!jt&&!xi.source&&At.push(jt=nt()),At.push(Nr),xi.generates&&(Sn=!0),xi.modifies&&!Sn&&(xn=!0),xi.source?jt=Nr:xi.changes&&(jt=null);return Qn&&(gr=Qn.length-1,At[0]=Pe({derive:xn,pulse:gr?Qn:Qn[0]}),(xn||gr)&&At.splice(1,0,nt())),jt||At.push(nt()),At.push($({})),At}function nt(R){let J=at({},R);return J.metadata={source:!0},J}function Wt(R,J){return $e({url:J.url?R.property(J.url):void 0,async:J.async?R.property(J.async):void 0,values:J.values?R.property(J.values):void 0,format:R.objectProperty(J.format)})}let vn=R=>R===Ki||R===Zr,Vn=(R,J,ke)=>Cn(R)?Ua(R.signal,J,ke):R===Wr||R===Zr?J:ke,sr=(R,J,ke)=>Cn(R)?Cs(R.signal,J,ke):vn(R)?J:ke,mr=(R,J,ke)=>Cn(R)?Is(R.signal,J,ke):vn(R)?ke:J,Fi=(R,J,ke)=>Cn(R)?zl(R.signal,J,ke):R===Zr?{value:J}:{value:ke},Ji=(R,J,ke)=>Cn(R)?q0(R.signal,J,ke):R===Ti?{value:J}:{value:ke},Cs=(R,J,ke)=>f1(`${R} === '${Zr}' || ${R} === '${Ki}'`,J,ke),Is=(R,J,ke)=>f1(`${R} !== '${Zr}' && ${R} !== '${Ki}'`,J,ke),Ua=(R,J,ke)=>Od(`${R} === '${Wr}' || ${R} === '${Zr}'`,J,ke),zl=(R,J,ke)=>Od(`${R} === '${Zr}'`,J,ke),q0=(R,J,ke)=>Od(`${R} === '${Ti}'`,J,ke),f1=(R,J,ke)=>(J=J!=null?p(J):J,ke=ke!=null?p(ke):ke,ip(J)&&ip(ke)?(J=J?J.signal||e.stringValue(J.value):null,ke=ke?ke.signal||e.stringValue(ke.value):null,{signal:`${R} ? (${J}) : (${ke})`}):[e.extend({test:R},J)].concat(ke||[])),ip=R=>R==null||Object.keys(R).length===1,Od=(R,J,ke)=>({signal:`${R} ? (${wf(J)}) : (${wf(ke)})`}),Cf=(R,J,ke,At,jt)=>({signal:(At!=null?`${R} === '${Wr}' ? (${wf(At)}) : `:"")+(ke!=null?`${R} === '${Ki}' ? (${wf(ke)}) : `:"")+(jt!=null?`${R} === '${Ti}' ? (${wf(jt)}) : `:"")+(J!=null?`${R} === '${Zr}' ? (${wf(J)}) : `:"")+"(null)"}),wf=R=>Cn(R)?R.signal:R==null?null:e.stringValue(R),U0=(R,J)=>J===0?0:Cn(R)?{signal:`(${R.signal}) * ${J}`}:{value:R*J},mc=(R,J)=>{let ke=R.signal;return ke&&ke.endsWith("(null)")?{signal:ke.slice(0,-6)+J.signal}:R};function Hc(R,J,ke,At){let jt;if(J&&e.hasOwnProperty(J,R))return J[R];if(e.hasOwnProperty(ke,R))return ke[R];if(R.startsWith("title")){switch(R){case"titleColor":jt="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":jt=R[5].toLowerCase()+R.slice(6)}return At[zc][jt]}else if(R.startsWith("label")){switch(R){case"labelColor":jt="fill";break;case"labelFont":case"labelFontSize":jt=R[5].toLowerCase()+R.slice(6)}return At[Ru][jt]}return null}function d1(R){let J={};for(let ke of R)if(!!ke)for(let At in ke)J[At]=1;return Object.keys(J)}function Nd(R,J){var ke=J.config,At=ke.style,jt=ke.axis,xn=J.scaleType(R.scale)==="band"&&ke.axisBand,Sn=R.orient,Qn,er,gr;if(Cn(Sn)){let xi=d1([ke.axisX,ke.axisY]),Di=d1([ke.axisTop,ke.axisBottom,ke.axisLeft,ke.axisRight]);Qn={};for(gr of xi)Qn[gr]=sr(Sn,Hc(gr,ke.axisX,jt,At),Hc(gr,ke.axisY,jt,At));er={};for(gr of Di)er[gr]=Cf(Sn.signal,Hc(gr,ke.axisTop,jt,At),Hc(gr,ke.axisBottom,jt,At),Hc(gr,ke.axisLeft,jt,At),Hc(gr,ke.axisRight,jt,At))}else Qn=Sn===Zr||Sn===Ki?ke.axisX:ke.axisY,er=ke["axis"+Sn[0].toUpperCase()+Sn.slice(1)];return Qn||er||xn?e.extend({},jt,Qn,er,xn):jt}function Vc(R,J,ke,At){let jt=ts(R,J),xn=R.orient,Sn,Qn,er={enter:Sn={opacity:si},update:Qn={opacity:Vi},exit:{opacity:si}};b(er,{stroke:jt("domainColor"),strokeCap:jt("domainCap"),strokeDash:jt("domainDash"),strokeDashOffset:jt("domainDashOffset"),strokeWidth:jt("domainWidth"),strokeOpacity:jt("domainOpacity")});let gr=$0(R,0),Nr=$0(R,1);return Sn.x=Qn.x=sr(xn,gr,si),Sn.x2=Qn.x2=sr(xn,Nr),Sn.y=Qn.y=mr(xn,gr,si),Sn.y2=Qn.y2=mr(xn,Nr),ns({type:Wo,role:I,from:At,encode:er},ke)}function $0(R,J){return{scale:R.scale,range:J}}function sp(R,J,ke,At,jt){let xn=ts(R,J),Sn=R.orient,Qn=R.gridScale,er=Vn(Sn,1,-1),gr=z0(R.offset,er),Nr,xi,Di,ki={enter:Nr={opacity:si},update:Di={opacity:Vi},exit:xi={opacity:si}};b(ki,{stroke:xn("gridColor"),strokeCap:xn("gridCap"),strokeDash:xn("gridDash"),strokeDashOffset:xn("gridDashOffset"),strokeOpacity:xn("gridOpacity"),strokeWidth:xn("gridWidth")});let Ai={scale:R.scale,field:To,band:jt.band,extra:jt.extra,offset:jt.offset,round:xn("tickRound")},ws=sr(Sn,{signal:"height"},{signal:"width"}),yo=Qn?{scale:Qn,range:0,mult:er,offset:gr}:{value:0,offset:gr},Ko=Qn?{scale:Qn,range:1,mult:er,offset:gr}:e.extend(ws,{mult:er,offset:gr});return Nr.x=Di.x=sr(Sn,Ai,yo),Nr.y=Di.y=mr(Sn,Ai,yo),Nr.x2=Di.x2=mr(Sn,Ko),Nr.y2=Di.y2=sr(Sn,Ko),xi.x=sr(Sn,Ai),xi.y=mr(Sn,Ai),ns({type:Wo,role:z,key:To,from:At,encode:ki},ke)}function z0(R,J){if(J!==1)if(!e.isObject(R))R=Cn(J)?{signal:`(${J.signal}) * (${R||0})`}:J*(R||0);else{let ke=R=e.extend({},R);for(;ke.mult!=null;)if(e.isObject(ke.mult))ke=ke.mult=e.extend({},ke.mult);else return ke.mult=Cn(J)?{signal:`(${ke.mult}) * (${J.signal})`}:ke.mult*J,R;ke.mult=J}return R}function h1(R,J,ke,At,jt,xn){let Sn=ts(R,J),Qn=R.orient,er=Vn(Qn,-1,1),gr,Nr,xi,Di={enter:gr={opacity:si},update:xi={opacity:Vi},exit:Nr={opacity:si}};b(Di,{stroke:Sn("tickColor"),strokeCap:Sn("tickCap"),strokeDash:Sn("tickDash"),strokeDashOffset:Sn("tickDashOffset"),strokeOpacity:Sn("tickOpacity"),strokeWidth:Sn("tickWidth")});let ki=p(jt);ki.mult=er;let Ai={scale:R.scale,field:To,band:xn.band,extra:xn.extra,offset:xn.offset,round:Sn("tickRound")};return xi.y=gr.y=sr(Qn,si,Ai),xi.y2=gr.y2=sr(Qn,ki),Nr.x=sr(Qn,Ai),xi.x=gr.x=mr(Qn,si,Ai),xi.x2=gr.x2=mr(Qn,ki),Nr.y=mr(Qn,Ai),ns({type:Wo,role:L,key:To,from:At,encode:Di},ke)}function H0(R,J,ke,At,jt){return{signal:'flush(range("'+R+'"), scale("'+R+'", datum.value), '+J+","+ke+","+At+","+jt+")"}}function op(R,J,ke,At,jt,xn){let Sn=ts(R,J),Qn=R.orient,er=R.scale,gr=Vn(Qn,-1,1),Nr=Dt(Sn("labelFlush")),xi=Dt(Sn("labelFlushOffset")),Di=Sn("labelAlign"),ki=Sn("labelBaseline"),Ai=Nr===0||!!Nr,ws,yo=p(jt);yo.mult=gr,yo.offset=p(Sn("labelPadding")||0),yo.offset.mult=gr;let Ko={scale:er,field:To,band:.5,offset:No(xn.offset,Sn("labelOffset"))},vo=sr(Qn,Ai?H0(er,Nr,'"left"','"right"','"center"'):{value:"center"},Ji(Qn,"left","right")),da=sr(Qn,Fi(Qn,"bottom","top"),Ai?H0(er,Nr,'"top"','"bottom"','"middle"'):{value:"middle"}),Hl=H0(er,Nr,`-(${xi})`,xi,0);Ai=Ai&&xi;let wl={opacity:si,x:sr(Qn,Ko,yo),y:mr(Qn,Ko,yo)},ha={enter:wl,update:ws={opacity:Vi,text:{field:tu},x:wl.x,y:wl.y,align:vo,baseline:da},exit:{opacity:si,x:wl.x,y:wl.y}};b(ha,{dx:!Di&&Ai?sr(Qn,Hl):null,dy:!ki&&Ai?mr(Qn,Hl):null}),b(ha,{angle:Sn("labelAngle"),fill:Sn("labelColor"),fillOpacity:Sn("labelOpacity"),font:Sn("labelFont"),fontSize:Sn("labelFontSize"),fontWeight:Sn("labelFontWeight"),fontStyle:Sn("labelFontStyle"),limit:Sn("labelLimit"),lineHeight:Sn("labelLineHeight")},{align:Di,baseline:ki});let Vl=Sn("labelBound"),Xu=Sn("labelOverlap");return Xu=Xu||Vl?{separation:Sn("labelSeparation"),method:Xu,order:"datum.index",bound:Vl?{scale:er,orient:Qn,tolerance:Vl}:null}:void 0,ws.align!==vo&&(ws.align=mc(ws.align,vo)),ws.baseline!==da&&(ws.baseline=mc(ws.baseline,da)),ns({type:qi,role:ie,style:Ru,key:To,from:At,encode:ha,overlap:Xu},ke)}function xc(R,J,ke,At){let jt=ts(R,J),xn=R.orient,Sn=Vn(xn,-1,1),Qn,er,gr={enter:Qn={opacity:si,anchor:p(jt("titleAnchor",null)),align:{signal:Mo}},update:er=e.extend({},Qn,{opacity:Vi,text:p(R.title)}),exit:{opacity:si}},Nr={signal:`lerp(range("${R.scale}"), ${Qo(0,1,.5)})`};return er.x=sr(xn,Nr),er.y=mr(xn,Nr),Qn.angle=sr(xn,si,U0(Sn,90)),Qn.baseline=sr(xn,Fi(xn,Ki,Zr),{value:Ki}),er.angle=Qn.angle,er.baseline=Qn.baseline,b(gr,{fill:jt("titleColor"),fillOpacity:jt("titleOpacity"),font:jt("titleFont"),fontSize:jt("titleFontSize"),fontStyle:jt("titleFontStyle"),fontWeight:jt("titleFontWeight"),limit:jt("titleLimit"),lineHeight:jt("titleLineHeight")},{align:jt("titleAlign"),angle:jt("titleAngle"),baseline:jt("titleBaseline")}),V0(jt,xn,gr,ke),gr.update.align=mc(gr.update.align,Qn.align),gr.update.angle=mc(gr.update.angle,Qn.angle),gr.update.baseline=mc(gr.update.baseline,Qn.baseline),ns({type:qi,role:Y,style:zc,from:At,encode:gr},ke)}function V0(R,J,ke,At){let jt=(Qn,er)=>Qn!=null?(ke.update[er]=mc(p(Qn),ke.update[er]),!1):!D(er,At),xn=jt(R("titleX"),"x"),Sn=jt(R("titleY"),"y");ke.enter.auto=Sn===xn?p(Sn):sr(J,p(Sn),p(xn))}function i0(R,J){let ke=Nd(R,J),At=R.encode||{},jt=At.axis||{},xn=jt.name||void 0,Sn=jt.interactive,Qn=jt.style,er=ts(R,ke),gr=Ei(er),Nr={scale:R.scale,ticks:!!er("ticks"),labels:!!er("labels"),grid:!!er("grid"),domain:!!er("domain"),title:R.title!=null},xi=ot(J.add(at({},[Nr]))),Di=ot(J.add(rn({scale:J.scaleRef(R.scale),extra:J.property(gr.extra),count:J.objectProperty(R.tickCount),values:J.objectProperty(R.values),minstep:J.property(R.tickMinStep),formatType:J.property(R.formatType),formatSpecifier:J.property(R.format)}))),ki=[],Ai;return Nr.grid&&ki.push(sp(R,ke,At.grid,Di,gr)),Nr.ticks&&(Ai=er("tickSize"),ki.push(h1(R,ke,At.ticks,Di,Ai,gr))),Nr.labels&&(Ai=Nr.ticks?Ai:0,ki.push(op(R,ke,At.labels,Di,Ai,gr))),Nr.domain&&ki.push(Vc(R,ke,At.domain,xi)),Nr.title&&ki.push(xc(R,ke,At.title,xi)),ti($i({role:B,from:xi,encode:F(s0(er,R),jt,Xr),marks:ki,aria:er("aria"),description:er("description"),zindex:er("zindex"),name:xn,interactive:Sn,style:Qn}),J)}function s0(R,J){let ke={enter:{},update:{}};return b(ke,{orient:R("orient"),offset:R("offset")||0,position:Ce(J.position,0),titlePadding:R("titlePadding"),minExtent:R("minExtent"),maxExtent:R("maxExtent"),range:{signal:`abs(span(range("${J.scale}")))`},translate:R("translate"),format:J.format,formatType:J.formatType}),ke}function Wc(R,J,ke){let At=e.array(R.signals),jt=e.array(R.scales);return ke||At.forEach(xn=>Ve(xn,J)),e.array(R.projections).forEach(xn=>rr(xn,J)),jt.forEach(xn=>ze(xn,J)),e.array(R.data).forEach(xn=>iu(xn,J)),jt.forEach(xn=>Ot(xn,J)),(ke||At).forEach(xn=>Ie(xn,J)),e.array(R.axes).forEach(xn=>i0(xn,J)),e.array(R.marks).forEach(xn=>ti(xn,J)),e.array(R.legends).forEach(xn=>Li(xn,J)),R.title&&Bo(R.title,J),J.parseLambdas(),J}let gc=R=>F({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},R);function o0(R,J){let ke=J.config,At=ot(J.root=J.add(Xe())),jt=Af(R,ke);jt.forEach(gr=>Ve(gr,J)),J.description=R.description||ke.description,J.eventConfig=ke.events,J.legends=J.objectProperty(ke.legend&&ke.legend.layout),J.locale=ke.locale;let xn=J.add(at()),Sn=J.add(Me(Gt(gc(R.encode),Fo,q,R.style,J,{pulse:ot(xn)}))),Qn=J.add(he({layout:J.objectProperty(R.layout),legends:J.legends,autosize:J.signalRef("autosize"),mark:At,pulse:ot(Sn)}));J.operators.pop(),J.pushState(ot(Sn),ot(Qn),null),Wc(R,J,jt),J.operators.push(Qn);let er=J.add(Xt({mark:At,pulse:ot(Qn)}));return er=J.add(Et({pulse:ot(er)})),er=J.add($({pulse:ot(er)})),J.addData("root",new Vr(J,xn,xn,er)),J}function Ku(R,J){return J&&J.signal?{name:R,update:J.signal}:{name:R,value:J}}function Af(R,J){let ke=Sn=>Ce(R[Sn],J[Sn]),At=[Ku("background",ke("background")),Ku("autosize",o(ke("autosize"))),Ku("padding",f(ke("padding"))),Ku("width",ke("width")||0),Ku("height",ke("height")||0)],jt=At.reduce((Sn,Qn)=>(Sn[Qn.name]=Qn,Sn),{}),xn={};return e.array(R.signals).forEach(Sn=>{e.hasOwnProperty(jt,Sn.name)?Sn=e.extend(jt[Sn.name],Sn):At.push(Sn),xn[Sn.name]=Sn}),e.array(J.signals).forEach(Sn=>{!e.hasOwnProperty(xn,Sn.name)&&!e.hasOwnProperty(jt,Sn.name)&&At.push(Sn)}),At}function Rd(R,J){this.config=R||{},this.options=J||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Ju(R){this.config=R.config,this.options=R.options,this.legends=R.legends,this.field=Object.create(R.field),this.signals=Object.create(R.signals),this.lambdas=Object.create(R.lambdas),this.scales=Object.create(R.scales),this.events=Object.create(R.events),this.data=Object.create(R.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++R._nextsub[0],this._nextsub=R._nextsub,this._parent=R._parent.slice(),this._encode=R._encode.slice(),this._lookup=R._lookup.slice(),this._markpath=R._markpath}Rd.prototype=Ju.prototype={parse(R){return Wc(R,this)},fork(){return new Ju(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(R){return this.operators.push(R),R.id=this.id(),R.refs&&(R.refs.forEach(J=>{J.$ref=R.id}),R.refs=null),R},proxy(R){let J=R instanceof te?ot(R):R;return this.add(we({value:J}))},addStream(R){return this.streams.push(R),R.id=this.id(),R},addUpdate(R){return this.updates.push(R),R},finish(){let R,J;this.root&&(this.root.root=!0);for(R in this.signals)this.signals[R].signal=R;for(R in this.scales)this.scales[R].scale=R;function ke(At,jt,xn){let Sn,Qn;At&&(Sn=At.data||(At.data={}),Qn=Sn[jt]||(Sn[jt]=[]),Qn.push(xn))}for(R in this.data){J=this.data[R],ke(J.input,R,"input"),ke(J.output,R,"output"),ke(J.values,R,"values");for(let At in J.index)ke(J.index[At],R,"index:"+At)}return this},pushState(R,J,ke){this._encode.push(ot(this.add($({pulse:R})))),this._parent.push(J),this._lookup.push(ke?ot(this.proxy(ke)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return e.peek(this._parent)},encode(){return e.peek(this._encode)},lookup(){return e.peek(this._lookup)},markpath(){let R=this._markpath;return++R[R.length-1]},fieldRef(R,J){if(e.isString(R))return Ct(R,J);R.signal||e.error("Unsupported field reference: "+e.stringValue(R));let ke=R.signal,At=this.field[ke];if(!At){let jt={name:this.signalRef(ke)};J&&(jt.as=J),this.field[ke]=At=ot(this.add(wt(jt)))}return At},compareRef(R){let J=!1,ke=xn=>Cn(xn)?(J=!0,this.signalRef(xn.signal)):Fe(xn)?(J=!0,this.exprRef(xn.expr)):xn,At=e.array(R.field).map(ke),jt=e.array(R.order).map(ke);return J?ot(this.add(ne({fields:At,orders:jt}))):Ut(At,jt)},keyRef(R,J){let ke=!1,At=xn=>Cn(xn)?(ke=!0,ot(jt[xn.signal])):xn,jt=this.signals;return R=e.array(R).map(At),ke?ot(this.add(ee({fields:R,flat:J}))):sn(R,J)},sortRef(R){if(!R)return R;let J=nn(R.op,R.field),ke=R.order||ln;return ke.signal?ot(this.add(ne({fields:J,orders:this.signalRef(ke.signal)}))):Ut(J,ke)},event(R,J){let ke=R+":"+J;if(!this.events[ke]){let At=this.id();this.streams.push({id:At,source:R,type:J}),this.events[ke]=At}return this.events[ke]},hasOwnSignal(R){return e.hasOwnProperty(this.signals,R)},addSignal(R,J){this.hasOwnSignal(R)&&e.error("Duplicate signal name: "+e.stringValue(R));let ke=J instanceof te?J:this.add(Xe(J));return this.signals[R]=ke},getSignal(R){return this.signals[R]||e.error("Unrecognized signal name: "+e.stringValue(R)),this.signals[R]},signalRef(R){return this.signals[R]?ot(this.signals[R]):(e.hasOwnProperty(this.lambdas,R)||(this.lambdas[R]=this.add(Xe(null))),ot(this.lambdas[R]))},parseLambdas(){let R=Object.keys(this.lambdas);for(let J=0,ke=R.length;J<ke;++J){let At=R[J],jt=t.parseExpression(At,this),xn=this.lambdas[At];xn.params=jt.$params,xn.update=jt.$expr}},property(R){return R&&R.signal?this.signalRef(R.signal):R},objectProperty(R){return!R||!e.isObject(R)?R:this.signalRef(R.signal||fo(R))},exprRef(R,J){let ke={expr:t.parseExpression(R,this)};return J&&(ke.expr.$name=J),ot(this.add(ft(ke)))},addBinding(R,J){this.bindings||e.error("Nested signals do not support binding: "+e.stringValue(R)),this.bindings.push(e.extend({signal:R},J))},addScaleProj(R,J){e.hasOwnProperty(this.scales,R)&&e.error("Duplicate scale or projection name: "+e.stringValue(R)),this.scales[R]=this.add(J)},addScale(R,J){this.addScaleProj(R,O(J))},addProjection(R,J){this.addScaleProj(R,Rn(J))},getScale(R){return this.scales[R]||e.error("Unrecognized scale name: "+e.stringValue(R)),this.scales[R]},scaleRef(R){return ot(this.getScale(R))},scaleType(R){return this.getScale(R).params.type},projectionRef(R){return this.scaleRef(R)},projectionType(R){return this.scaleType(R)},addData(R,J){return e.hasOwnProperty(this.data,R)&&e.error("Duplicate data set name: "+e.stringValue(R)),this.data[R]=J},getData(R){return this.data[R]||e.error("Undefined data set name: "+e.stringValue(R)),this.data[R]},addDataPipeline(R,J){return e.hasOwnProperty(this.data,R)&&e.error("Duplicate data set name: "+e.stringValue(R)),this.addData(R,Vr.fromEntries(this,J))}};function fo(R){return(e.isArray(R)?v2:Tf)(R)}function v2(R){let J=R.length,ke="[";for(let At=0;At<J;++At){let jt=R[At];ke+=(At>0?",":"")+(e.isObject(jt)?jt.signal||fo(jt):e.stringValue(jt))}return ke+"]"}function Tf(R){let J="{",ke=0,At,jt;for(At in R)jt=R[At],J+=(++ke>1?",":"")+e.stringValue(At)+":"+(e.isObject(jt)?jt.signal||fo(jt):e.stringValue(jt));return J+"}"}function Ms(){let R="sans-serif",J=30,ke=2,At="#4c78a8",jt="#000",xn="#888",Sn="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:At},area:{fill:At},image:null,line:{stroke:At,strokeWidth:ke},path:{stroke:At},rect:{fill:At},rule:{stroke:jt},shape:{stroke:At},symbol:{fill:At,size:64},text:{fill:jt,font:R,fontSize:11},trail:{fill:At,size:ke},style:{"guide-label":{fill:jt,font:R,fontSize:10},"guide-title":{fill:jt,font:R,fontSize:11,fontWeight:"bold"},"group-title":{fill:jt,font:R,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:jt,font:R,fontSize:12},point:{size:J,strokeWidth:ke,shape:"circle"},circle:{size:J,strokeWidth:ke},square:{size:J,strokeWidth:ke,shape:"square"},cell:{fill:"transparent",stroke:Sn}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:xn,grid:!1,gridWidth:1,gridColor:Sn,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:xn,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:Sn,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:xn,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Qc(R,J,ke){return e.isObject(R)||e.error("Input Vega specification must be an object."),J=e.mergeConfig(Ms(),J,R.config),o0(R,new Rd(J,ke)).toRuntime()}n.AxisDomainRole=I,n.AxisGridRole=z,n.AxisLabelRole=ie,n.AxisRole=B,n.AxisTickRole=L,n.AxisTitleRole=Y,n.DataScope=Vr,n.FrameRole=q,n.LegendEntryRole=Be,n.LegendLabelRole=st,n.LegendRole=fe,n.LegendSymbolRole=Qe,n.LegendTitleRole=mt,n.MarkRole=M,n.Scope=Rd,n.ScopeRole=N,n.config=Ms,n.parse=Qc,n.signal=Ve,n.signalUpdates=Ie,n.stream=ct,Object.defineProperty(n,"__esModule",{value:!0})})});var zue=G(ps=>{"use strict";d();Object.defineProperty(ps,"__esModule",{value:!0});var $ue=Ma(),t0=qc(),Rkt=lPe(),Lkt=pPe(),kkt=xPe(),Ikt=vPe(),Mkt=bPe(),Pkt=SPe(),Bkt=wPe(),jkt=TPe(),qkt=DPe(),Ukt=NPe(),$kt=LPe(),HPe=q6(),VPe=e9(),WPe=jH(),QPe=t9(),n9=U6(),zkt=jue(),Hkt=qPe(),IO=LO(),Vkt=aV(),Wkt=zPe(),Qkt=que(),GPe=iV(),Gkt=Uue();function a1(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var Ykt=a1(Rkt),Kkt=a1(Lkt),Jkt=a1(kkt),Xkt=a1(Ikt),Zkt=a1(Mkt),eIt=a1(Pkt),tIt=a1(Bkt),nIt=a1(jkt),rIt=a1(qkt),iIt=a1(Ukt),sIt=a1($kt),oIt="5.22.1";$ue.extend(t0.transforms,Ykt,Kkt,Jkt,Xkt,Zkt,tIt,eIt,nIt,rIt,iIt,sIt);Object.defineProperty(ps,"Dataflow",{enumerable:!0,get:function(){return t0.Dataflow}});Object.defineProperty(ps,"EventStream",{enumerable:!0,get:function(){return t0.EventStream}});Object.defineProperty(ps,"MultiPulse",{enumerable:!0,get:function(){return t0.MultiPulse}});Object.defineProperty(ps,"Operator",{enumerable:!0,get:function(){return t0.Operator}});Object.defineProperty(ps,"Parameters",{enumerable:!0,get:function(){return t0.Parameters}});Object.defineProperty(ps,"Pulse",{enumerable:!0,get:function(){return t0.Pulse}});Object.defineProperty(ps,"Transform",{enumerable:!0,get:function(){return t0.Transform}});Object.defineProperty(ps,"changeset",{enumerable:!0,get:function(){return t0.changeset}});Object.defineProperty(ps,"definition",{enumerable:!0,get:function(){return t0.definition}});Object.defineProperty(ps,"ingest",{enumerable:!0,get:function(){return t0.ingest}});Object.defineProperty(ps,"isTuple",{enumerable:!0,get:function(){return t0.isTuple}});Object.defineProperty(ps,"transform",{enumerable:!0,get:function(){return t0.transform}});Object.defineProperty(ps,"transforms",{enumerable:!0,get:function(){return t0.transforms}});Object.defineProperty(ps,"tupleid",{enumerable:!0,get:function(){return t0.tupleid}});Object.defineProperty(ps,"interpolate",{enumerable:!0,get:function(){return n9.interpolate}});Object.defineProperty(ps,"interpolateColors",{enumerable:!0,get:function(){return n9.interpolateColors}});Object.defineProperty(ps,"interpolateRange",{enumerable:!0,get:function(){return n9.interpolateRange}});Object.defineProperty(ps,"quantizeInterpolator",{enumerable:!0,get:function(){return n9.quantizeInterpolator}});Object.defineProperty(ps,"scale",{enumerable:!0,get:function(){return n9.scale}});Object.defineProperty(ps,"scheme",{enumerable:!0,get:function(){return n9.scheme}});Object.defineProperty(ps,"projection",{enumerable:!0,get:function(){return zkt.projection}});Object.defineProperty(ps,"View",{enumerable:!0,get:function(){return Hkt.View}});Object.defineProperty(ps,"defaultLocale",{enumerable:!0,get:function(){return IO.defaultLocale}});Object.defineProperty(ps,"formatLocale",{enumerable:!0,get:function(){return IO.numberFormatDefaultLocale}});Object.defineProperty(ps,"locale",{enumerable:!0,get:function(){return IO.locale}});Object.defineProperty(ps,"resetDefaultLocale",{enumerable:!0,get:function(){return IO.resetDefaultLocale}});Object.defineProperty(ps,"timeFormatLocale",{enumerable:!0,get:function(){return IO.timeFormatDefaultLocale}});Object.defineProperty(ps,"expressionFunction",{enumerable:!0,get:function(){return Vkt.expressionFunction}});Object.defineProperty(ps,"parse",{enumerable:!0,get:function(){return Wkt.parse}});Object.defineProperty(ps,"runtimeContext",{enumerable:!0,get:function(){return Qkt.context}});Object.defineProperty(ps,"codegenExpression",{enumerable:!0,get:function(){return GPe.codegenExpression}});Object.defineProperty(ps,"parseExpression",{enumerable:!0,get:function(){return GPe.parseExpression}});Object.defineProperty(ps,"parseSelector",{enumerable:!0,get:function(){return Gkt.parseSelector}});ps.version=oIt;Object.keys($ue).forEach(function(n){n!=="default"&&!ps.hasOwnProperty(n)&&Object.defineProperty(ps,n,{enumerable:!0,get:function(){return $ue[n]}})});Object.keys(HPe).forEach(function(n){n!=="default"&&!ps.hasOwnProperty(n)&&Object.defineProperty(ps,n,{enumerable:!0,get:function(){return HPe[n]}})});Object.keys(VPe).forEach(function(n){n!=="default"&&!ps.hasOwnProperty(n)&&Object.defineProperty(ps,n,{enumerable:!0,get:function(){return VPe[n]}})});Object.keys(WPe).forEach(function(n){n!=="default"&&!ps.hasOwnProperty(n)&&Object.defineProperty(ps,n,{enumerable:!0,get:function(){return WPe[n]}})});Object.keys(QPe).forEach(function(n){n!=="default"&&!ps.hasOwnProperty(n)&&Object.defineProperty(ps,n,{enumerable:!0,get:function(){return QPe[n]}})})});var KPe=G((dV,YPe)=>{d();(function(n,e){typeof dV=="object"&&typeof YPe!="undefined"?e(dV,zue()):typeof define=="function"&&define.amd?define(["exports","vega"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vegaLite={},n.vega))})(dV,function(n,e){"use strict";var t="vega-lite",r='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',i="5.5.0",s=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],o="https://vega.github.io/vega-lite/",a="Vega-Lite is a concise high-level language for interactive visualization.",l=["vega","chart","visualization"],f="build/vega-lite.js",p="build/vega-lite.min.js",v="build/vega-lite.min.js",b="build/src/index",F="build/src/index.d.ts",D={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},M=["bin","build","src","vega-lite*","tsconfig.json"],q={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn run prebuild && yarn build && yarn shipit",shipit:"auto shipit"},N={type:"git",url:"https://github.com/vega/vega-lite.git"},B="BSD-3-Clause",I={url:"https://github.com/vega/vega-lite/issues"},z={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@babel/core":"^7.19.1","@babel/preset-env":"^7.19.1","@babel/preset-typescript":"^7.18.6","@rollup/plugin-alias":"^4.0.0","@rollup/plugin-babel":"^6.0.0","@rollup/plugin-commonjs":"^23.0.0","@rollup/plugin-json":"^4.1.0","@types/jest":"^27.4.1","@rollup/plugin-node-resolve":"^14.1.0","@types/chai":"^4.3.3","@types/d3":"^7.4.0","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0",ajv:"^8.11.0","ajv-formats":"^2.1.1",auto:"^10.37.6",chai:"^4.3.6",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.6.1","del-cli":"^5.0.0",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-prettier":"^4.2.1","gh-pages":"^4.0.0",jest:"^27.5.1","highlight.js":"^11.6.0","jest-dev-server":"^6.1.1",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.7.1",puppeteer:"^15.0.0",rollup:"^2.79.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^14.0.1",terser:"^5.15.0","ts-jest":"^29.0.1","ts-json-schema-generator":"^1.1.1","vega-cli":"^5.22.1",typescript:"~4.8.3","vega-datasets":"~2.5.1","vega-embed":"^6.21.0","vega-tooltip":"^0.28.0","yaml-front-matter":"^4.1.1"},ie={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.4.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.0"},L={vega:"^5.22.0"},Y={node:">=12"},fe={name:t,author:r,version:i,collaborators:s,homepage:o,description:a,keywords:l,main:f,unpkg:p,jsdelivr:v,module:b,types:F,bin:D,files:M,scripts:q,repository:N,license:B,bugs:I,devDependencies:z,dependencies:ie,peerDependencies:L,engines:Y},me={exports:{}};(function(u){var c=function(){function h(Jt,En){return En!=null&&Jt instanceof En}var g;try{g=Map}catch{g=function(){}}var _;try{_=Set}catch{_=function(){}}var T;try{T=Promise}catch{T=function(){}}function k(Jt,En,jn,Yn,Xn){typeof En=="object"&&(jn=En.depth,Yn=En.prototype,Xn=En.includeNonEnumerable,En=En.circular);var yr=[],ci=[],gi=typeof Buffer!="undefined";typeof En=="undefined"&&(En=!0),typeof jn=="undefined"&&(jn=1/0);function Xi(pi,So){if(pi===null)return null;if(So===0)return pi;var Ri,uu;if(typeof pi!="object")return pi;if(h(pi,g))Ri=new g;else if(h(pi,_))Ri=new _;else if(h(pi,T))Ri=new T(function(O1,Xg){pi.then(function(Zg){O1(Xi(Zg,So-1))},function(Zg){Xg(Xi(Zg,So-1))})});else if(k.__isArray(pi))Ri=[];else if(k.__isRegExp(pi))Ri=new RegExp(pi.source,kt(pi)),pi.lastIndex&&(Ri.lastIndex=pi.lastIndex);else if(k.__isDate(pi))Ri=new Date(pi.getTime());else{if(gi&&Buffer.isBuffer(pi))return Buffer.allocUnsafe?Ri=Buffer.allocUnsafe(pi.length):Ri=new Buffer(pi.length),pi.copy(Ri),Ri;h(pi,Error)?Ri=Object.create(pi):typeof Yn=="undefined"?(uu=Object.getPrototypeOf(pi),Ri=Object.create(uu)):(Ri=Object.create(Yn),uu=Yn)}if(En){var vu=yr.indexOf(pi);if(vu!=-1)return ci[vu];yr.push(pi),ci.push(Ri)}h(pi,g)&&pi.forEach(function(O1,Xg){var Zg=Xi(Xg,So-1),PN=Xi(O1,So-1);Ri.set(Zg,PN)}),h(pi,_)&&pi.forEach(function(O1){var Xg=Xi(O1,So-1);Ri.add(Xg)});for(var il in pi){var Q2;uu&&(Q2=Object.getOwnPropertyDescriptor(uu,il)),!(Q2&&Q2.set==null)&&(Ri[il]=Xi(pi[il],So-1))}if(Object.getOwnPropertySymbols)for(var G2=Object.getOwnPropertySymbols(pi),il=0;il<G2.length;il++){var Y2=G2[il],xp=Object.getOwnPropertyDescriptor(pi,Y2);xp&&!xp.enumerable&&!Xn||(Ri[Y2]=Xi(pi[Y2],So-1),xp.enumerable||Object.defineProperty(Ri,Y2,{enumerable:!1}))}if(Xn)for(var K2=Object.getOwnPropertyNames(pi),il=0;il<K2.length;il++){var J2=K2[il],xp=Object.getOwnPropertyDescriptor(pi,J2);xp&&xp.enumerable||(Ri[J2]=Xi(pi[J2],So-1),Object.defineProperty(Ri,J2,{enumerable:!1}))}return Ri}return Xi(Jt,jn)}k.clonePrototype=function(En){if(En===null)return null;var jn=function(){};return jn.prototype=En,new jn};function V(Jt){return Object.prototype.toString.call(Jt)}k.__objToStr=V;function re(Jt){return typeof Jt=="object"&&V(Jt)==="[object Date]"}k.__isDate=re;function Ue(Jt){return typeof Jt=="object"&&V(Jt)==="[object Array]"}k.__isArray=Ue;function We(Jt){return typeof Jt=="object"&&V(Jt)==="[object RegExp]"}k.__isRegExp=We;function kt(Jt){var En="";return Jt.global&&(En+="g"),Jt.ignoreCase&&(En+="i"),Jt.multiline&&(En+="m"),En}return k.__getRegExpFlags=kt,k}();u.exports&&(u.exports=c)})(me);var Be=me.exports,tt=function u(c,h){if(c===h)return!0;if(c&&h&&typeof c=="object"&&typeof h=="object"){if(c.constructor!==h.constructor)return!1;var g,_,T;if(Array.isArray(c)){if(g=c.length,g!=h.length)return!1;for(_=g;_--!==0;)if(!u(c[_],h[_]))return!1;return!0}if(c.constructor===RegExp)return c.source===h.source&&c.flags===h.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===h.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===h.toString();if(T=Object.keys(c),g=T.length,g!==Object.keys(h).length)return!1;for(_=g;_--!==0;)if(!Object.prototype.hasOwnProperty.call(h,T[_]))return!1;for(_=g;_--!==0;){var k=T[_];if(!u(c[k],h[k]))return!1}return!0}return c!==c&&h!==h},st=function(u,c){c||(c={}),typeof c=="function"&&(c={cmp:c});var h=typeof c.cycles=="boolean"?c.cycles:!1,g=c.cmp&&function(T){return function(k){return function(V,re){var Ue={key:V,value:k[V]},We={key:re,value:k[re]};return T(Ue,We)}}}(c.cmp),_=[];return function T(k){if(k&&k.toJSON&&typeof k.toJSON=="function"&&(k=k.toJSON()),k!==void 0){if(typeof k=="number")return isFinite(k)?""+k:"null";if(typeof k!="object")return JSON.stringify(k);var V,re;if(Array.isArray(k)){for(re="[",V=0;V<k.length;V++)V&&(re+=","),re+=T(k[V])||"null";return re+"]"}if(k===null)return"null";if(_.indexOf(k)!==-1){if(h)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var Ue=_.push(k)-1,We=Object.keys(k).sort(g&&g(k));for(re="",V=0;V<We.length;V++){var kt=We[V],Jt=T(k[kt]);!Jt||(re&&(re+=","),re+=JSON.stringify(kt)+":"+Jt)}return _.splice(Ue,1),"{"+re+"}"}}(u)};function Qe(u){return!!u.or}function mt(u){return!!u.and}function Lt(u){return!!u.not}function je(u,c){if(Lt(u))je(u.not,c);else if(mt(u))for(let h of u.and)je(h,c);else if(Qe(u))for(let h of u.or)je(h,c);else c(u)}function Z(u,c){return Lt(u)?{not:Z(u.not,c)}:mt(u)?{and:u.and.map(h=>Z(h,c))}:Qe(u)?{or:u.or.map(h=>Z(h,c))}:c(u)}let Ke=tt,_e=Be;function De(u){throw new Error(u)}function be(u,c){let h={};for(let g of c)e.hasOwnProperty(u,g)&&(h[g]=u[g]);return h}function de(u,c){let h={...u};for(let g of c)delete h[g];return h}Set.prototype.toJSON=function(){return`Set(${[...this].map(u=>st(u)).join(",")})`};let Ge=st;function rt(u){if(e.isNumber(u))return u;let c=e.isString(u)?u:st(u);if(c.length<250)return c;let h=0;for(let g=0;g<c.length;g++){let _=c.charCodeAt(g);h=(h<<5)-h+_,h=h&h}return h}function Bt(u){return u===!1||u===null}function _t(u,c){return u.includes(c)}function un(u,c){let h=0;for(let[g,_]of u.entries())if(c(_,g,h++))return!0;return!1}function Tt(u,c){let h=0;for(let[g,_]of u.entries())if(!c(_,g,h++))return!1;return!0}function Rt(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),g=1;g<c;g++)h[g-1]=arguments[g];for(let _ of h)Gt(u,_??{});return u}function Gt(u,c){for(let h of te(c))e.writeConfig(u,h,c[h],!0)}function xt(u,c){let h=[],g={},_;for(let T of u)_=c(T),!(_ in g)&&(g[_]=1,h.push(T));return h}function ve(u,c){let h=te(u),g=te(c);if(h.length!==g.length)return!1;for(let _ of h)if(u[_]!==c[_])return!1;return!0}function Oe(u,c){if(u.size!==c.size)return!1;for(let h of u)if(!c.has(h))return!1;return!0}function xe(u,c){for(let h of u)if(c.has(h))return!0;return!1}function le(u){let c=new Set;for(let h of u){let _=e.splitAccessPath(h).map((k,V)=>V===0?k:`[${k}]`),T=_.map((k,V)=>_.slice(0,V+1).join(""));for(let k of T)c.add(k)}return c}function Ye(u,c){return u===void 0||c===void 0?!0:xe(le(u),le(c))}function Ve(u){return te(u).length===0}let te=Object.keys,Ae=Object.values,Xe=Object.entries;function ot(u){return u===!0||u===!1}function Ct(u){let c=u.replace(/\W/g,"_");return(u.match(/^\d+/)?"_":"")+c}function $t(u,c){return Lt(u)?`!(${$t(u.not,c)})`:mt(u)?`(${u.and.map(h=>$t(h,c)).join(") && (")})`:Qe(u)?`(${u.or.map(h=>$t(h,c)).join(") || (")})`:c(u)}function Ut(u,c){if(c.length===0)return!0;let h=c.shift();return h in u&&Ut(u[h],c)&&delete u[h],Ve(u)}function sn(u){return u.charAt(0).toUpperCase()+u.substr(1)}function ln(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum",h=e.splitAccessPath(u),g=[];for(let _=1;_<=h.length;_++){let T=`[${h.slice(0,_).map(e.stringValue).join("][")}]`;g.push(`${c}${T}`)}return g.join(" && ")}function cn(u){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum"}[${e.stringValue(e.splitAccessPath(u).join("."))}]`}function Ft(u){return u.replace(/(\[|\]|\.|'|")/g,"\\$1")}function nn(u){return`${e.splitAccessPath(u).map(Ft).join("\\.")}`}function An(u,c,h){return u.replace(new RegExp(c.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),h)}function $n(u){return`${e.splitAccessPath(u).join(".")}`}function Cn(u){return u?e.splitAccessPath(u).length:0}function Fe(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];for(let g of c)if(g!==void 0)return g}let qe=42;function Ce(u){let c=++qe;return u?String(u)+c:c}function Dt(){qe=42}function lt(u){return ct(u)?u:`__${u}`}function ct(u){return u.startsWith("__")}function Yt(u){if(u!==void 0)return(u%360+360)%360}function qt(u){return e.isNumber(u)?!0:!isNaN(u)&&!isNaN(parseFloat(u))}let gn="row",kn="column",qn="facet",bn="x",zn="y",He="x2",ht="y2",se="xOffset",Ie="yOffset",Ze="radius",St="radius2",rn="theta",Xt="theta2",at="latitude",ne="longitude",Se="latitude2",Me="longitude2",ft="color",gt="fill",wt="stroke",ee="shape",Ee="size",$e="angle",et="opacity",It="fillOpacity",Kt="strokeOpacity",mn="strokeWidth",fn="strokeDash",dn="text",Rn="order",we="detail",Pe="key",Et="tooltip",O="href",$="url",ge="description",he={x:1,y:1,x2:1,y2:1},Q={theta:1,theta2:1,radius:1,radius2:1};function oe(u){return u in Q}let ae={longitude:1,longitude2:1,latitude:1,latitude2:1};function ze(u){switch(u){case at:return"y";case Se:return"y2";case ne:return"x";case Me:return"x2"}}function Ot(u){return u in ae}let vt=te(ae),tn={...he,...Q,...ae,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function E(u){return u===ft||u===gt||u===wt}let P={row:1,column:1,facet:1},X=te(P),ye={...tn,...P},ut=te(ye),{order:bt,detail:Vt,tooltip:zt,...an}=ye,{row:Dn,column:On,facet:In,...Mr}=an;function Dr(u){return!!Mr[u]}function rr(u){return!!ye[u]}let br=[He,ht,Se,Me,Xt,St];function Zr(u){return Wr(u)!==u}function Wr(u){switch(u){case He:return bn;case ht:return zn;case Se:return at;case Me:return ne;case Xt:return rn;case St:return Ze}return u}function Ti(u){if(oe(u))switch(u){case rn:return"startAngle";case Xt:return"endAngle";case Ze:return"outerRadius";case St:return"innerRadius"}return u}function Ki(u){switch(u){case bn:return He;case zn:return ht;case at:return Se;case ne:return Me;case rn:return Xt;case Ze:return St}}function Ni(u){switch(u){case bn:case He:return"width";case zn:case ht:return"height"}}function ta(u){switch(u){case bn:return"xOffset";case zn:return"yOffset";case He:return"x2Offset";case ht:return"y2Offset";case rn:return"thetaOffset";case Ze:return"radiusOffset";case Xt:return"theta2Offset";case St:return"radius2Offset"}}function na(u){switch(u){case bn:return"xOffset";case zn:return"yOffset"}}function Gu(u){switch(u){case"xOffset":return"x";case"yOffset":return"y"}}let hc=te(tn),{x:eu,y:tu,x2:Sl,y2:gu,xOffset:pc,yOffset:To,latitude:Ru,longitude:zc,latitude2:Je,longitude2:Qt,theta:Tn,theta2:Pn,radius:Ur,radius2:wr,...kr}=tn,es=te(kr),$s={x:1,y:1},Ls=te($s);function Js(u){return u in $s}let zs={theta:1,radius:1},go=te(zs);function Xr(u){return u==="width"?bn:zn}let si={xOffset:1,yOffset:1};function Vi(u){return u in si}let{text:Fo,tooltip:Vo,href:Wo,url:Hs,description:qi,detail:$i,key:ts,order:nu,...Eo}=kr,Qo=te(Eo);function Mo(u){return!!kr[u]}function Ei(u){switch(u){case ft:case gt:case wt:case Ee:case ee:case et:case mn:case fn:return!0;case It:case Kt:case $e:return!1}}let No={...$s,...zs,...si,...Eo},ns=te(No);function ys(u){return!!No[u]}function Ro(u,c){return Gs(u)[c]}let Ba={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:ja,...lo}=Ba;function Gs(u){switch(u){case ft:case gt:case wt:case ge:case we:case Pe:case Et:case O:case Rn:case et:case It:case Kt:case mn:case qn:case gn:case kn:return Ba;case bn:case zn:case se:case Ie:case at:case ne:return lo;case He:case ht:case Se:case Me:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Ee:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case fn:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ee:return{point:"always",geoshape:"always"};case dn:return{text:"always"};case $e:return{point:"always",square:"always",text:"always"};case $:return{image:"always"};case rn:return{text:"always",arc:"always"};case Ze:return{text:"always",arc:"always"};case Xt:case St:return{arc:"always"}}}function wa(u){switch(u){case bn:case zn:case rn:case Ze:case se:case Ie:case Ee:case $e:case mn:case et:case It:case Kt:case He:case ht:case Xt:case St:return;case qn:case gn:case kn:case ee:case fn:case dn:case Et:case O:case $:case ge:return"discrete";case ft:case gt:case wt:return"flexible";case at:case ne:case Se:case Me:case we:case Pe:case Rn:return}}let ru={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},qa={count:1,min:1,max:1};function ra(u){return!!u&&!!u.argmin}function Aa(u){return!!u&&!!u.argmax}function Yu(u){return e.isString(u)&&!!ru[u]}let $l=new Set(["count","valid","missing","distinct"]);function Lo(u){return e.isString(u)&&$l.has(u)}function Cl(u){return e.isString(u)&&_t(["min","max"],u)}let Gr=new Set(["count","sum","distinct","valid","missing"]),Ii=new Set(["mean","average","median","q1","q3","min","max"]);function ji(u){return e.isBoolean(u)&&(u=rN(u,void 0)),"bin"+te(u).map(c=>dt(u[c])?Ct(`_${c}_${Xe(u[c])}`):Ct(`_${c}_${u[c]}`)).join("")}function tr(u){return u===!0||Ne(u)&&!u.binned}function Bi(u){return u==="binned"||Ne(u)&&u.binned===!0}function Ne(u){return e.isObject(u)}function dt(u){return u==null?void 0:u.param}function Ht(u){switch(u){case gn:case kn:case Ee:case ft:case gt:case wt:case mn:case et:case It:case Kt:case ee:return 6;case fn:return 4;default:return 10}}function Mt(u){return!!(u!=null&&u.expr)}function on(u){let c=te(u||{}),h={};for(let g of c)h[g]=ui(u[g]);return h}function wn(u){let{anchor:c,frame:h,offset:g,orient:_,angle:T,limit:k,color:V,subtitleColor:re,subtitleFont:Ue,subtitleFontSize:We,subtitleFontStyle:kt,subtitleFontWeight:Jt,subtitleLineHeight:En,subtitlePadding:jn,...Yn}=u,Xn={...Yn,...V?{fill:V}:{}},yr={...c?{anchor:c}:{},...h?{frame:h}:{},...g?{offset:g}:{},..._?{orient:_}:{},...T!==void 0?{angle:T}:{},...k!==void 0?{limit:k}:{}},ci={...re?{subtitleColor:re}:{},...Ue?{subtitleFont:Ue}:{},...We?{subtitleFontSize:We}:{},...kt?{subtitleFontStyle:kt}:{},...Jt?{subtitleFontWeight:Jt}:{},...En?{subtitleLineHeight:En}:{},...jn?{subtitlePadding:jn}:{}},gi=be(u,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:Xn,subtitleMarkConfig:gi,nonMarkTitleProperties:yr,subtitle:ci}}function Bn(u){return e.isString(u)||e.isArray(u)&&e.isString(u[0])}function Nn(u){return!!(u!=null&&u.signal)}function or(u){return!!u.step}function fr(u){return e.isArray(u)?!1:"fields"in u&&!("data"in u)}function Mn(u){return e.isArray(u)?!1:"fields"in u&&"data"in u}function Gn(u){return e.isArray(u)?!1:"field"in u&&"data"in u}let nr=te({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),hr={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Kr=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function $r(u){let c=e.isArray(u.condition)?u.condition.map(Vr):Vr(u.condition);return{...ui(u),condition:c}}function ui(u){if(Mt(u)){let{expr:c,...h}=u;return{signal:c,...h}}return u}function Vr(u){if(Mt(u)){let{expr:c,...h}=u;return{signal:c,...h}}return u}function Tr(u){if(Mt(u)){let{expr:c,...h}=u;return{signal:c,...h}}return Nn(u)?u:u!==void 0?{value:u}:void 0}function vr(u){return Nn(u)?u.signal:e.stringValue(u)}function ei(u){return Nn(u)?u.signal:e.stringValue(u.value)}function oi(u){return Nn(u)?u.signal:u==null?null:e.stringValue(u)}function ss(u,c,h){for(let g of h){let _=vs(g,c.markDef,c.config);_!==void 0&&(u[g]=Tr(_))}return u}function Qi(u){return[].concat(u.type,u.style??[])}function ti(u,c,h){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},{vgChannel:_,ignoreVgConfig:T}=g;return _&&c[_]!==void 0?c[_]:c[u]!==void 0?c[u]:T&&(!_||_===u)?void 0:vs(u,c,h,g)}function vs(u,c,h){let{vgChannel:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Fe(g?Li(u,c,h.style):void 0,Li(u,c,h.style),g?h[c.type][g]:void 0,h[c.type][u],g?h.mark[g]:h.mark[u])}function Li(u,c,h){return Go(u,Qi(c),h)}function Go(u,c,h){c=e.array(c);let g;for(let _ of c){let T=h[_];T&&T[u]!==void 0&&(g=T[u])}return g}function Xs(u,c){return e.array(u).reduce((h,g)=>(h.field.push(Qr(g,c)),h.order.push(g.sort??"ascending"),h),{field:[],order:[]})}function ks(u,c){let h=[...u];return c.forEach(g=>{for(let _ of h)if(Ke(_,g))return;h.push(g)}),h}function xr(u,c){return Ke(u,c)||!c?u:u?[...e.array(u),...e.array(c)].join(", "):c}function zi(u,c){let h=u.value,g=c.value;if(h==null||g===null)return{explicit:u.explicit,value:null};if((Bn(h)||Nn(h))&&(Bn(g)||Nn(g)))return{explicit:u.explicit,value:xr(h,g)};if(Bn(h)||Nn(h))return{explicit:u.explicit,value:h};if(Bn(g)||Nn(g))return{explicit:u.explicit,value:g};if(!Bn(h)&&!Nn(h)&&!Bn(g)&&!Nn(g))return{explicit:u.explicit,value:ks(h,g)};throw new Error("It should never reach here")}function _r(u,c,h){return c in u?Object.defineProperty(u,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[c]=h,u}function Po(u,c){var h=Yo(u,c,"get");return co(u,h)}function Bo(u,c,h){var g=Yo(u,c,"set");return Zs(u,g,h),h}function Yo(u,c,h){if(!c.has(u))throw new TypeError("attempted to "+h+" private field on non-instance");return c.get(u)}function co(u,c){return c.get?c.get.call(u):c.value}function Zs(u,c,h){if(c.set)c.set.call(u,h);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=h}}function Hi(u,c){if(c.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iu(u,c,h){Hi(u,c),c.set(u,h)}function ue(u){return`Invalid specification ${Ge(u)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}let nt='Autosize "fit" only works for single views and layered views.';function Wt(u){return`${u=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function vn(u){let c=u=="width"?"Width":"Height",h=u=="width"?"x":"y";return`${c} "container" only works well with autosize "fit" or "fit-${h}".`}function Vn(u){return u?`Dropping "fit-${u}" because spec has discrete ${Ni(u)}.`:'Dropping "fit" because spec has discrete size.'}function sr(u){return`Unknown field for ${u}. Cannot calculate view size.`}function mr(u){return`Cannot project a selection on encoding channel "${u}", which has no field.`}function Fi(u,c){return`Cannot project a selection on encoding channel "${u}" as it uses an aggregate function ("${c}").`}function Ji(u){return`The "nearest" transform is not supported for ${u} marks.`}function Cs(u){return`Selection not supported for ${u} yet.`}function Is(u){return`Cannot find a selection named "${u}".`}let Ua="Scale bindings are currently only supported for scales with unbinned, continuous domains.",zl="Legend bindings are only supported for selections over an individual field or encoding channel.";function q0(u){return`Lookups can only be performed on selection parameters. "${u}" is a variable parameter.`}function f1(u){return`Cannot define and lookup the "${u}" selection in the same view. Try moving the lookup into a second, layered view?`}let ip="The same selection must be used to override scale domains in a layered view.",Od='Interval selections should be initialized using "x" and/or "y" keys.';function Cf(u){return`Unknown repeated value "${u}".`}function wf(u){return`The "columns" property cannot be used when "${u}" has nested row/column.`}let U0="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function mc(u){return`Unrecognized parse "${u}".`}function Hc(u,c,h){return`An ancestor parsed field "${u}" as ${h} but a child wants to parse the field as ${c}.`}let d1="Attempt to add the same child twice.";function Nd(u){return`Ignoring an invalid transform: ${Ge(u)}.`}let Vc='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function $0(u){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${u} are dropped.`}function sp(u){let{parentProjection:c,projection:h}=u;return`Layer's shared projection ${Ge(c)} is overridden by a child projection ${Ge(h)}.`}let z0="Arc marks uses theta channel rather than angle, replacing angle with theta.";function h1(u){return`${u}Offset dropped because ${u} is continuous`}function H0(u){return`There is no ${u} encoding. Replacing ${u}Offset encoding as ${u}.`}function op(u,c,h){return`Channel ${u} is a ${c}. Converted to {value: ${Ge(h)}}.`}function xc(u){return`Invalid field type "${u}".`}function V0(u,c){return`Invalid field type "${u}" for aggregate: "${c}", using "quantitative" instead.`}function i0(u){return`Invalid aggregation operator "${u}".`}function s0(u,c){let{fill:h,stroke:g}=c;return`Dropping color ${u} as the plot also has ${h&&g?"fill and stroke":h?"fill":"stroke"}.`}function Wc(u){return`Position range does not support relative band size for ${u}.`}function gc(u,c){return`Dropping ${Ge(u)} from channel "${c}" since it does not contain any data field, datum, value, or signal.`}let o0="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Ku(u,c,h){return`${u} dropped as it is incompatible with "${c}"${h?` when ${h}`:""}.`}function Af(u){return`${u} encoding has no scale, so specified scale is ignored.`}function Rd(u){return`${u}-encoding is dropped as ${u} is not a valid encoding channel.`}function Ju(u){return`${u} encoding should be discrete (ordinal / nominal / binned).`}function fo(u){return`${u} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function v2(u){return`Facet encoding dropped as ${u.join(" and ")} ${u.length>1?"are":"is"} also specified.`}function Tf(u,c){return`Using discrete channel "${u}" to encode "${c}" field can be misleading as it does not encode ${c==="ordinal"?"order":"magnitude"}.`}function Ms(u){return`The ${u} for range marks cannot be an expression`}function Qc(u,c){return`Line mark is for continuous lines and thus cannot be used with ${u&&c?"x2 and y2":u?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function R(u,c){return`Specified orient "${u}" overridden with "${c}".`}function J(u){return`Cannot use the scale property "${u}" with non-color channel.`}function ke(u){return`Cannot use the relative band size with ${u} scale.`}function At(u){return`Using unaggregated domain with raw field has no effect (${Ge(u)}).`}function jt(u){return`Unaggregated domain not applicable for "${u}" since it produces values outside the origin domain of the source data.`}function xn(u){return`Unaggregated domain is currently unsupported for log scale (${Ge(u)}).`}function Sn(u){return`Cannot apply size to non-oriented mark "${u}".`}function Qn(u,c,h){return`Channel "${u}" does not work with "${c}" scale. We are using "${h}" scale instead.`}function er(u,c){return`FieldDef does not work with "${u}" scale. We are using "${c}" scale instead.`}function gr(u,c,h){return`${h}-scale's "${c}" is dropped as it does not work with ${u} scale.`}function Nr(u){return`The step for "${u}" is dropped because the ${u==="width"?"x":"y"} is continuous.`}function xi(u,c,h,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Ge(h)} and ${Ge(g)}). Using ${Ge(h)}.`}function Di(u,c,h,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Ge(h)} and ${Ge(g)}). Using the union of the two domains.`}function ki(u){return`Setting the scale to be independent for "${u}" means we also have to set the guide (axis or legend) to be independent.`}function Ai(u){return`Dropping sort property ${Ge(u)} as unioned domains only support boolean or op "count", "min", and "max".`}let ws="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",yo="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",Ko="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",vo="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function da(u){return`Cannot stack "${u}" if there is already "${u}2".`}function Hl(u){return`Cannot stack non-linear scale (${u}).`}function wl(u){return`Stacking is applied even though the aggregate function is non-summative ("${u}").`}function ha(u,c){return`Invalid ${u}: ${Ge(c)}.`}function Vl(u){return`Dropping day from datetime ${Ge(u)} as day cannot be combined with other units.`}function Xu(u,c){return`${c?"extent ":""}${c&&u?"and ":""}${u?"center ":""}${c&&u?"are ":"is "}not needed when data are aggregated.`}function Gc(u,c,h){return`${u} is not usually used with ${c} for ${h}.`}function Yc(u,c){return`Continuous axis should not have customized aggregation function ${u}; ${c} already agregates the axis.`}function Lu(u){return`1D error band does not support ${u}.`}function Wl(u){return`Channel ${u} is required for "binned" bin.`}function _2(u){return`Channel ${u} should not be used with "binned" bin.`}function b2(u){return`Domain for ${u} is required for threshold scale.`}let Bg=e.logger(e.Warn),Al=Bg;function Ff(u){return Al=u,Al}function yc(){return Al=Bg,Al}function Ar(){Al.warn(...arguments)}function D4(){Al.debug(...arguments)}function W0(u){if(u&&e.isObject(u)){for(let c of Id)if(c in u)return!0}return!1}let Fr=["january","february","march","april","may","june","july","august","september","october","november","december"],p1=Fr.map(u=>u.substr(0,3)),E2=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],m1=E2.map(u=>u.substr(0,3));function Vs(u){if(qt(u)&&(u=+u),e.isNumber(u))return u>4&&Ar(ha("quarter",u)),u-1;throw new Error(ha("quarter",u))}function Q0(u){if(qt(u)&&(u=+u),e.isNumber(u))return u-1;{let c=u.toLowerCase(),h=Fr.indexOf(c);if(h!==-1)return h;let g=c.substr(0,3),_=p1.indexOf(g);if(_!==-1)return _;throw new Error(ha("month",u))}}function Ld(u){if(qt(u)&&(u=+u),e.isNumber(u))return u%7;{let c=u.toLowerCase(),h=E2.indexOf(c);if(h!==-1)return h;let g=c.substr(0,3),_=m1.indexOf(g);if(_!==-1)return _;throw new Error(ha("day",u))}}function kd(u,c){let h=[];if(c&&u.day!==void 0&&te(u).length>1&&(Ar(Vl(u)),u=_e(u),delete u.day),u.year!==void 0?h.push(u.year):h.push(2012),u.month!==void 0){let g=c?Q0(u.month):u.month;h.push(g)}else if(u.quarter!==void 0){let g=c?Vs(u.quarter):u.quarter;h.push(e.isNumber(g)?g*3:`${g}*3`)}else h.push(0);if(u.date!==void 0)h.push(u.date);else if(u.day!==void 0){let g=c?Ld(u.day):u.day;h.push(e.isNumber(g)?g+1:`${g}+1`)}else h.push(1);for(let g of["hours","minutes","seconds","milliseconds"]){let _=u[g];h.push(typeof _=="undefined"?0:_)}return h}function Df(u){let h=kd(u,!0).join(", ");return u.utc?`utc(${h})`:`datetime(${h})`}function O4(u){let h=kd(u,!1).join(", ");return u.utc?`utc(${h})`:`datetime(${h})`}function N4(u){let c=kd(u,!0);return u.utc?+new Date(Date.UTC(...c)):+new Date(...c)}let S2={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Id=te(S2);function Ql(u){return!!S2[u]}function Md(u){return u.startsWith("utc")}function C2(u){return u.substr(3)}let w2={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function G0(u){return Id.filter(c=>ap(u,c))}function ap(u,c){let h=u.indexOf(c);return!(h<0||h>0&&c==="seconds"&&u.charAt(h-1)==="i"||u.length>h+3&&c==="day"&&u.charAt(h+3)==="o"||h>0&&c==="year"&&u.charAt(h-1)==="f")}function A2(u,c){let{end:h}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{end:!1},g=ln(c),_=Md(u)?"utc":"";function T(re){return re==="quarter"?`(${_}quarter(${g})-1)`:`${_}${re}(${g})`}let k,V={};for(let re of Id)ap(u,re)&&(V[re]=T(re),k=re);return h&&(V[k]+="+1"),O4(V)}function T2(u){if(!u)return;let c=G0(u);return`timeUnitSpecifier(${Ge(c)}, ${Ge(w2)})`}function x1(u,c,h){if(!u)return;let g=T2(u);return`${h||Md(u)?"utc":"time"}Format(${c}, ${g})`}function yu(u){if(!u)return;let c;return e.isString(u)?c={unit:u}:e.isObject(u)&&(c={...u,...u.unit?{unit:u.unit}:{}}),Md(c.unit)&&(c.utc=!0,c.unit=C2(c.unit)),c}function jg(u){let{utc:c,...h}=yu(u);return h.unit?(c?"utc":"")+te(h).map(g=>Ct(`${g==="unit"?"":`_${g}_`}${h[g]}`)).join(""):(c?"utc":"")+"timeunit"+te(h).map(g=>Ct(`_${g}_${h[g]}`)).join("")}function vc(u){return u==null?void 0:u.param}function g1(u){return!!(u!=null&&u.field)&&u.equal!==void 0}function y1(u){return!!(u!=null&&u.field)&&u.lt!==void 0}function Pd(u){return!!(u!=null&&u.field)&&u.lte!==void 0}function Y0(u){return!!(u!=null&&u.field)&&u.gt!==void 0}function up(u){return!!(u!=null&&u.field)&&u.gte!==void 0}function F2(u){if(u!=null&&u.field){if(e.isArray(u.range)&&u.range.length===2)return!0;if(Nn(u.range))return!0}return!1}function D2(u){return!!(u!=null&&u.field)&&(e.isArray(u.oneOf)||e.isArray(u.in))}function O2(u){return!!(u!=null&&u.field)&&u.valid!==void 0}function Bd(u){return D2(u)||g1(u)||F2(u)||y1(u)||Y0(u)||Pd(u)||up(u)}function _c(u,c){return iN(u,{timeUnit:c,wrapTime:!0})}function N2(u,c){return u.map(h=>_c(h,c))}function Tl(u){var c;let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,{field:g}=u,_=(c=yu(u.timeUnit))===null||c===void 0?void 0:c.unit,T=_?`time(${A2(_,g)})`:Qr(u,{expr:"datum"});if(g1(u))return`${T}===${_c(u.equal,_)}`;if(y1(u)){let k=u.lt;return`${T}<${_c(k,_)}`}else if(Y0(u)){let k=u.gt;return`${T}>${_c(k,_)}`}else if(Pd(u)){let k=u.lte;return`${T}<=${_c(k,_)}`}else if(up(u)){let k=u.gte;return`${T}>=${_c(k,_)}`}else{if(D2(u))return`indexof([${N2(u.oneOf,_).join(",")}], ${T}) !== -1`;if(O2(u))return Gl(T,u.valid);if(F2(u)){let{range:k}=u,V=Nn(k)?{signal:`${k.signal}[0]`}:k[0],re=Nn(k)?{signal:`${k.signal}[1]`}:k[1];if(V!==null&&re!==null&&h)return"inrange("+T+", ["+_c(V,_)+", "+_c(re,_)+"])";let Ue=[];return V!==null&&Ue.push(`${T} >= ${_c(V,_)}`),re!==null&&Ue.push(`${T} <= ${_c(re,_)}`),Ue.length>0?Ue.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Ge(u)}`)}function Gl(u){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?`isValid(${u}) && isFinite(+${u})`:`!isValid(${u}) || !isFinite(+${u})`}function v1(u){if(Bd(u)&&u.timeUnit){var c;return{...u,timeUnit:(c=yu(u.timeUnit))===null||c===void 0?void 0:c.unit}}return u}let a0={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function R2(u){return u==="quantitative"||u==="temporal"}function _1(u){return u==="ordinal"||u==="nominal"}let u0=a0.quantitative,K0=a0.ordinal,l0=a0.temporal,Fl=a0.nominal,Yl=a0.geojson;function L2(u){if(u)switch(u=u.toLowerCase(),u){case"q":case u0:return"quantitative";case"t":case l0:return"temporal";case"o":case K0:return"ordinal";case"n":case Fl:return"nominal";case Yl:return"geojson"}}let ku={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},lp={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function qg(u,c){let h=lp[u],g=lp[c];return h===g||h==="ordinal-position"&&g==="time"||g==="ordinal-position"&&h==="time"}let Ug={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function b1(u){return Ug[u]}let J0=new Set(["linear","log","pow","sqrt","symlog"]),jd=new Set([...J0,"time","utc"]);function Ds(u){return J0.has(u)}let C=new Set(["quantile","quantize","threshold"]),H=new Set([...jd,...C,"sequential","identity"]),ce=new Set(["ordinal","bin-ordinal","point","band"]);function Le(u){return ce.has(u)}function yt(u){return H.has(u)}function yn(u){return jd.has(u)}function Kn(u){return C.has(u)}let wi={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function vi(u){return!e.isString(u)&&!!u.name}function Ys(u){return u==null?void 0:u.param}function su(u){return u==null?void 0:u.unionWith}function Kc(u){return e.isObject(u)&&"field"in u}let c0={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:YO,domain:p9,range:m9,rangeMax:KO,rangeMin:qd,scheme:Zu,...x9}=c0,k2=te(x9);function E1(u,c){switch(c){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(u);case"bins":return!["point","band","identity","ordinal"].includes(u);case"round":return yn(u)||u==="band"||u==="point";case"padding":case"rangeMin":case"rangeMax":return yn(u)||["point","band"].includes(u);case"paddingOuter":case"align":return["point","band"].includes(u);case"paddingInner":return u==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return yn(u);case"nice":return yn(u)||u==="quantize"||u==="threshold";case"exponent":return u==="pow";case"base":return u==="log";case"constant":return u==="symlog";case"zero":return yt(u)&&!_t(["log","time","utc","threshold","quantile"],u)}}function f0(u,c){switch(c){case"interpolate":case"scheme":case"domainMid":return E(u)?void 0:J(c);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function el(u,c){return _t([K0,Fl],c)?u===void 0||Le(u):c===l0?_t([ku.TIME,ku.UTC,void 0],u):c===u0?Ds(u)||Kn(u)||u===void 0:!0}function X6(u,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!ys(u))return!1;switch(u){case bn:case zn:case se:case Ie:case rn:case Ze:return yn(c)||c==="band"?!0:c==="point"?!h:!1;case Ee:case mn:case et:case It:case Kt:case $e:return yn(c)||Kn(c)||_t(["band","point","ordinal"],c);case ft:case gt:case wt:return c!=="band";case fn:case ee:return c==="ordinal"||Kn(c)}}let Iu={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},I2=Iu.arc,M2=Iu.area,P2=Iu.bar,Z6=Iu.image,B2=Iu.line,j2=Iu.point,g9=Iu.rect,d0=Iu.rule,$g=Iu.text,zg=Iu.tick,R4=Iu.trail,q2=Iu.circle,U2=Iu.square,Hg=Iu.geoshape;function h0(u){return["line","area","trail"].includes(u)}function eb(u){return["rect","bar","image","arc"].includes(u)}let y9=new Set(te(Iu));function Jc(u){return u.type}let L4=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],v9=["fill","fillOpacity"],tb=[...L4,...v9],A=te({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),U={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},W={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},pt=te({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function x(u){return u&&u.band!=null}let w={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},j=5,K={binSpacing:1,continuousBandSize:j,timeUnitBandPosition:.5},pe={binSpacing:0,continuousBandSize:j,timeUnitBandPosition:.5},Te={thickness:1};function it(u){return Jc(u)?u.type:u}function Pt(u){let{channel:c,channelDef:h,markDef:g,scale:_,config:T}=u,k=Ir(u);return cr(h)&&!Lo(h.aggregate)&&_&&yn(_.get("type"))?pn({fieldDef:h,channel:c,markDef:g,ref:k,config:T}):k}function pn(u){let{fieldDef:c,channel:h,markDef:g,ref:_,config:T}=u;return h0(g.type)?_:ti("invalid",g,T)===null?[hn(c,h),_]:_}function hn(u,c){let h=Fn(u,!0),_=Wr(c)==="y"?{field:{group:"height"}}:{value:0};return{test:h,..._}}function Fn(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Gl(e.isString(u)?u:Qr(u,{expr:"datum"}),!c)}function Ln(u){let{datum:c}=u;return W0(c)?Df(c):`${Ge(c)}`}function Wn(u,c,h,g){let _={};if(c&&(_.scale=c),za(u)){let{datum:T}=u;W0(T)?_.signal=Df(T):Nn(T)?_.signal=T.signal:Mt(T)?_.signal=T.expr:_.value=T}else _.field=Qr(u,h);if(g){let{offset:T,band:k}=g;T&&(_.offset=T),k&&(_.band=k)}return _}function dr(u){let{scaleName:c,fieldOrDatumDef:h,fieldOrDatumDef2:g,offset:_,startSuffix:T,bandPosition:k=.5}=u,V=0<k&&k<1?"datum":void 0,re=Qr(h,{expr:V,suffix:T}),Ue=g!==void 0?Qr(g,{expr:V}):Qr(h,{suffix:"end",expr:V}),We={};if(k===0||k===1){We.scale=c;let kt=k===0?re:Ue;We.field=kt}else{let kt=Nn(k)?`${k.signal} * ${re} + (1-${k.signal}) * ${Ue}`:`${k} * ${re} + ${1-k} * ${Ue}`;We.signal=`scale("${c}", ${kt})`}return _&&(We.offset=_),We}function Ir(u){let{channel:c,channelDef:h,channel2Def:g,markDef:_,config:T,scaleName:k,scale:V,stack:re,offset:Ue,defaultRef:We,bandPosition:kt}=u;if(h){if(ms(h)){let Jt=V==null?void 0:V.get("type");if(Ud(h)){kt??=XO({fieldDef:h,fieldDef2:g,markDef:_,config:T});let{bin:En,timeUnit:jn,type:Yn}=h;if(tr(En)||kt&&jn&&Yn===l0)return re!=null&&re.impute?Wn(h,k,{binSuffix:"mid"},{offset:Ue}):kt&&!Le(Jt)?dr({scaleName:k,fieldOrDatumDef:h,bandPosition:kt,offset:Ue}):Wn(h,k,b9(h,c)?{binSuffix:"range"}:{},{offset:Ue});if(Bi(En)){if(cr(g))return dr({scaleName:k,fieldOrDatumDef:h,fieldOrDatumDef2:g,bandPosition:kt,offset:Ue});Ar(Wl(c===bn?He:ht))}}return Wn(h,k,Le(Jt)?{binSuffix:"range"}:{},{offset:Ue,band:Jt==="band"?kt??h.bandPosition??.5:void 0})}else if(dp(h)){let Jt=h.value,En=Ue?{offset:Ue}:{};return{...Er(c,Jt),...En}}}return e.isFunction(We)&&(We=We()),We&&{...We,...Ue?{offset:Ue}:{}}}function Er(u,c){return _t(["x","x2"],u)&&c==="width"?{field:{group:"width"}}:_t(["y","y2"],u)&&c==="height"?{field:{group:"height"}}:Tr(c)}function li(u){return u&&u!=="number"&&u!=="time"}function hi(u,c,h){return`${u}(${c}${h?`, ${Ge(h)}`:""})`}let os=" \u2013 ";function Ui(u){let{fieldOrDatumDef:c,format:h,formatType:g,expr:_,normalizeStack:T,config:k}=u;if(li(g))return Gi({fieldOrDatumDef:c,format:h,formatType:g,expr:_,config:k});let V=Ws(c,_,T),re=nl(c);if(h===void 0&&g===void 0&&k.customFormatTypes){if(re==="quantitative"){if(T&&k.normalizedNumberFormatType)return Gi({fieldOrDatumDef:c,format:k.normalizedNumberFormat,formatType:k.normalizedNumberFormatType,expr:_,config:k});if(k.numberFormatType)return Gi({fieldOrDatumDef:c,format:k.numberFormat,formatType:k.numberFormatType,expr:_,config:k})}if(re==="temporal"&&k.timeFormatType&&cr(c)&&c.timeUnit===void 0)return Gi({fieldOrDatumDef:c,format:k.timeFormat,formatType:k.timeFormatType,expr:_,config:k})}if(ub(c)){var Ue,We;let kt=au({field:V,timeUnit:cr(c)?(Ue=yu(c.timeUnit))===null||Ue===void 0?void 0:Ue.unit:void 0,format:h,formatType:k.timeFormatType,rawTimeFormat:k.timeFormat,isUTCScale:k4(c)&&((We=c.scale)===null||We===void 0?void 0:We.type)===ku.UTC});return kt?{signal:kt}:void 0}if(h=ou({type:re,specifiedFormat:h,config:k,normalizeStack:T}),cr(c)&&tr(c.bin)){let kt=Qr(c,{expr:_,binSuffix:"end"});return{signal:pa(V,kt,h,g,k)}}else return h||nl(c)==="quantitative"?{signal:`${Mu(V,h)}`}:{signal:`isValid(${V}) ? ${V} : ""+${V}`}}function Ws(u,c,h){return cr(u)?h?`${Qr(u,{expr:c,suffix:"end"})}-${Qr(u,{expr:c,suffix:"start"})}`:Qr(u,{expr:c}):Ln(u)}function Gi(u){let{fieldOrDatumDef:c,format:h,formatType:g,expr:_,normalizeStack:T,config:k,field:V}=u;if(V??=Ws(c,_,T),V!=="datum.value"&&cr(c)&&tr(c.bin)){let re=Qr(c,{expr:_,binSuffix:"end"});return{signal:pa(V,re,h,g,k)}}return{signal:hi(g,V,h)}}function Pr(u,c,h,g,_,T){if(!li(g)&&!(h===void 0&&g===void 0&&_.customFormatTypes&&nl(u)==="quantitative"&&(_.normalizedNumberFormatType&&sb(u)&&u.stack==="normalize"||_.numberFormatType))){if(sb(u)&&u.stack==="normalize"&&_.normalizedNumberFormat)return ou({type:"quantitative",config:_,normalizeStack:!0});if(ub(u)){var k;let V=cr(u)?(k=yu(u.timeUnit))===null||k===void 0?void 0:k.unit:void 0;return V===void 0&&_.customFormatTypes&&_.timeFormatType?void 0:$a({specifiedFormat:h,timeUnit:V,config:_,omitTimeFormatConfig:T})}return ou({type:c,specifiedFormat:h,config:_})}}function Oi(u,c,h){if(u&&(Nn(u)||u==="number"||u==="time"))return u;if(ub(c)&&h!=="time"&&h!=="utc"){var g;return cr(c)&&(g=yu(c==null?void 0:c.timeUnit))!==null&&g!==void 0&&g.utc?"utc":"time"}}function ou(u){let{type:c,specifiedFormat:h,config:g,normalizeStack:_}=u;if(e.isString(h))return h;if(c===u0)return _?g.normalizedNumberFormat:g.numberFormat}function $a(u){let{specifiedFormat:c,timeUnit:h,config:g,omitTimeFormatConfig:_}=u;return c||(h?{signal:T2(h)}:_?void 0:g.timeFormat)}function Mu(u,c){return`format(${u}, "${c||""}")`}function rs(u,c,h,g){return li(h)?hi(h,u,c):Mu(u,(e.isString(c)?c:void 0)??g.numberFormat)}function pa(u,c,h,g,_){if(h===void 0&&g===void 0&&_.customFormatTypes&&_.numberFormatType)return pa(u,c,_.numberFormat,_.numberFormatType,_);let T=rs(u,h,g,_),k=rs(c,h,g,_);return`${Gl(u,!1)} ? "null" : ${T} + "${os}" + ${k}`}function au(u){let{field:c,timeUnit:h,format:g,formatType:_,rawTimeFormat:T,isUTCScale:k}=u;return!h||g?!h&&_?`${_}(${c}, '${g}')`:(g=e.isString(g)?g:T,`${k?"utc":"time"}Format(${c}, '${g}')`):x1(h,c,k)}let tl="min",cp={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function X0(u){return u in cp}function Z0(u){return!!(u!=null&&u.encoding)}function ia(u){return u&&(u.op==="count"||!!u.field)}function Kl(u){return u&&e.isArray(u)}function fp(u){return"row"in u||"column"in u}function $2(u){return!!u&&"header"in u}function S1(u){return"facet"in u}function nb(u){return u.param}function rb(u){return u&&!e.isString(u)&&"repeat"in u}function JO(u){let{field:c,timeUnit:h,bin:g,aggregate:_}=u;return{...h?{timeUnit:h}:{},...g?{bin:g}:{},..._?{aggregate:_}:{},field:c}}function _9(u){return"sort"in u}function XO(u){let{fieldDef:c,fieldDef2:h,markDef:g,config:_}=u;if(ms(c)&&c.bandPosition!==void 0)return c.bandPosition;if(cr(c)){let{timeUnit:T,bin:k}=c;if(T&&!h)return eb(g.type)?0:vs("timeUnitBandPosition",g,_);if(tr(k))return .5}}function ZO(u){let{channel:c,fieldDef:h,fieldDef2:g,markDef:_,config:T,scaleType:k,useVlSizeChannel:V}=u,re=Ni(c),Ue=ti(V?"size":re,_,T,{vgChannel:re});if(Ue!==void 0)return Ue;if(cr(h)){let{timeUnit:En,bin:jn}=h;if(En&&!g)return{band:vs("timeUnitBandSize",_,T)};if(tr(jn)&&!Le(k))return{band:1}}if(eb(_.type)){var We;if(k)if(Le(k)){var kt;return((kt=T[_.type])===null||kt===void 0?void 0:kt.discreteBandSize)||{band:1}}else{var Jt;return(Jt=T[_.type])===null||Jt===void 0?void 0:Jt.continuousBandSize}return(We=T[_.type])===null||We===void 0?void 0:We.discreteBandSize}}function _i(u,c,h,g){return tr(u.bin)||u.timeUnit&&Ud(u)&&u.type==="temporal"?XO({fieldDef:u,fieldDef2:c,markDef:h,config:g})!==void 0:!1}function Ps(u){return u&&"condition"in u}function eo(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&cr(c)}function Rr(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&ms(c)}function Xc(u){let c=u==null?void 0:u.condition;return!!c&&(e.isArray(c)||dp(c))}function cr(u){return u&&(!!u.field||u.aggregate==="count")}function nl(u){return u==null?void 0:u.type}function za(u){return u&&"datum"in u}function Jl(u){return Ud(u)&&!eN(u)||ib(u)}function ib(u){return za(u)&&e.isNumber(u.datum)}function ms(u){return cr(u)||za(u)}function Ud(u){return u&&("field"in u||u.aggregate==="count")&&"type"in u}function dp(u){return u&&"value"in u&&"value"in u}function k4(u){return u&&("scale"in u||"sort"in u)}function sb(u){return u&&("axis"in u||"stack"in u||"impute"in u)}function dce(u){return u&&"legend"in u}function hce(u){return u&&("format"in u||"formatType"in u)}function Qze(u){return de(u,["legend","axis","header","scale"])}function Gze(u){return"op"in u}function Qr(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=u.field,g=c.prefix,_=c.suffix,T="";if(Kze(u))h=lt("count");else{let k;if(!c.nofn)if(Gze(u))k=u.op;else{let{bin:V,aggregate:re,timeUnit:Ue}=u;tr(V)?(k=ji(V),_=(c.binSuffix??"")+(c.suffix??"")):re?Aa(re)?(T=`["${h}"]`,h=`argmax_${re.argmax}`):ra(re)?(T=`["${h}"]`,h=`argmin_${re.argmin}`):k=String(re):Ue&&(k=jg(Ue),_=(!["range","mid"].includes(c.binSuffix)&&c.binSuffix||"")+(c.suffix??""))}k&&(h=h?`${k}_${h}`:k)}return _&&(h=`${h}_${_}`),g&&(h=`${g}_${h}`),c.forAs?$n(h):c.expr?cn(h,c.expr)+T:nn(h)+T}function eN(u){switch(u.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return cr(u)&&!!u.bin;case"temporal":return!1}throw new Error(xc(u.type))}function Yze(u){var c;return k4(u)&&Kn((c=u.scale)===null||c===void 0?void 0:c.type)}function Kze(u){return u.aggregate==="count"}function Jze(u,c){let{field:h,bin:g,timeUnit:_,aggregate:T}=u;if(T==="count")return c.countTitle;if(tr(g))return`${h} (binned)`;if(_){var k;let V=(k=yu(_))===null||k===void 0?void 0:k.unit;if(V)return`${h} (${G0(V).join("-")})`}else if(T)return Aa(T)?`${h} for max ${T.argmax}`:ra(T)?`${h} for min ${T.argmin}`:`${sn(T)} of ${h}`;return h}function Xze(u){let{aggregate:c,bin:h,timeUnit:g,field:_}=u;if(Aa(c))return`${_} for argmax(${c.argmax})`;if(ra(c))return`${_} for argmin(${c.argmin})`;let T=yu(g),k=c||(T==null?void 0:T.unit)||(T==null?void 0:T.maxbins)&&"timeunit"||tr(h)&&"bin";return k?`${k.toUpperCase()}(${_})`:_}let pce=(u,c)=>{switch(c.fieldTitle){case"plain":return u.field;case"functional":return Xze(u);default:return Jze(u,c)}},mce=pce;function xce(u){mce=u}function Zze(){xce(pce)}function ob(u,c,h){var g;let{allowDisabling:_,includeDefault:T=!0}=h,k=(g=gW(u))===null||g===void 0?void 0:g.title;if(!cr(u))return k??u.title;let V=u,re=T?yW(V,c):void 0;return _?Fe(k,V.title,re):k??V.title??re}function gW(u){if(sb(u)&&u.axis)return u.axis;if(dce(u)&&u.legend)return u.legend;if($2(u)&&u.header)return u.header}function yW(u,c){return mce(u,c)}function tN(u){if(hce(u)){let{format:c,formatType:h}=u;return{format:c,formatType:h}}else{let c=gW(u)??{},{format:h,formatType:g}=c;return{format:h,formatType:g}}}function eHe(u,c){var h;switch(c){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(_9(u)&&e.isArray(u.sort))return"ordinal";let{aggregate:g,bin:_,timeUnit:T}=u;if(T)return"temporal";if(_||g&&!Aa(g)&&!ra(g))return"quantitative";if(k4(u)&&(h=u.scale)!==null&&h!==void 0&&h.type)switch(lp[u.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function C1(u){if(cr(u))return u;if(eo(u))return u.condition}function Dl(u){if(ms(u))return u;if(Rr(u))return u.condition}function gce(u,c,h){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.isString(u)||e.isNumber(u)||e.isBoolean(u)){let _=e.isString(u)?"string":e.isNumber(u)?"number":"boolean";return Ar(op(c,_,u)),{value:u}}return ms(u)?nN(u,c,h,g):Rr(u)?{...u,condition:nN(u.condition,c,h,g)}:u}function nN(u,c,h,g){if(hce(u)){let{format:_,formatType:T,...k}=u;if(li(T)&&!h.customFormatTypes)return Ar($0(c)),nN(k,c,h,g)}else{let _=sb(u)?"axis":dce(u)?"legend":$2(u)?"header":null;if(_&&u[_]){let{format:T,formatType:k,...V}=u[_];if(li(k)&&!h.customFormatTypes)return Ar($0(c)),nN({...u,[_]:V},c,h,g)}}return cr(u)?vW(u,c,g):tHe(u)}function tHe(u){let c=u.type;if(c)return u;let{datum:h}=u;return c=e.isNumber(h)?"quantitative":e.isString(h)?"nominal":W0(h)?"temporal":void 0,{...u,type:c}}function vW(u,c){let{compositeMark:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{aggregate:g,timeUnit:_,bin:T,field:k}=u,V={...u};if(!h&&g&&!Yu(g)&&!Aa(g)&&!ra(g)&&(Ar(i0(g)),delete V.aggregate),_&&(V.timeUnit=yu(_)),k&&(V.field=`${k}`),tr(T)&&(V.bin=rN(T,c)),Bi(T)&&!Js(c)&&Ar(_2(c)),Ud(V)){let{type:re}=V,Ue=L2(re);re!==Ue&&(V.type=Ue),re!=="quantitative"&&Lo(g)&&(Ar(V0(re,g)),V.type="quantitative")}else if(!Zr(c)){let re=eHe(V,c);V.type=re}if(Ud(V)){let{compatible:re,warning:Ue}=nHe(V,c)||{};re===!1&&Ar(Ue)}if(_9(V)&&e.isString(V.sort)){let{sort:re}=V;if(X0(re))return{...V,sort:{encoding:re}};let Ue=re.substr(1);if(re.charAt(0)==="-"&&X0(Ue))return{...V,sort:{encoding:Ue,order:"descending"}}}if($2(V)){let{header:re}=V;if(re){let{orient:Ue,...We}=re;if(Ue)return{...V,header:{...We,labelOrient:re.labelOrient||Ue,titleOrient:re.titleOrient||Ue}}}}return V}function rN(u,c){return e.isBoolean(u)?{maxbins:Ht(c)}:u==="binned"?{binned:!0}:!u.maxbins&&!u.step?{...u,maxbins:Ht(c)}:u}let ab={compatible:!0};function nHe(u,c){let h=u.type;if(h==="geojson"&&c!=="shape")return{compatible:!1,warning:`Channel ${c} should not be used with a geojson data.`};switch(c){case gn:case kn:case qn:return eN(u)?ab:{compatible:!1,warning:Ju(c)};case bn:case zn:case se:case Ie:case ft:case gt:case wt:case dn:case we:case Pe:case Et:case O:case $:case $e:case rn:case Ze:case ge:return ab;case ne:case Me:case at:case Se:return h!==u0?{compatible:!1,warning:`Channel ${c} should be used with a quantitative field only, not ${u.type} field.`}:ab;case et:case It:case Kt:case mn:case Ee:case Xt:case St:case He:case ht:return h==="nominal"&&!u.sort?{compatible:!1,warning:`Channel ${c} should not be used with an unsorted discrete field.`}:ab;case ee:case fn:return!eN(u)&&!Yze(u)?{compatible:!1,warning:fo(c)}:ab;case Rn:return u.type==="nominal"&&!("sort"in u)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:ab}}function ub(u){let{formatType:c}=tN(u);return c==="time"||!c&&rHe(u)}function rHe(u){return u&&(u.type==="temporal"||cr(u)&&!!u.timeUnit)}function iN(u,c){var h;let{timeUnit:g,type:_,wrapTime:T,undefinedIfExprNotRequired:k}=c,V=g&&((h=yu(g))===null||h===void 0?void 0:h.unit),re=V||_==="temporal",Ue;return Mt(u)?Ue=u.expr:Nn(u)?Ue=u.signal:W0(u)?(re=!0,Ue=Df(u)):(e.isString(u)||e.isNumber(u))&&re&&(Ue=`datetime(${Ge(u)})`,Ql(V)&&(e.isNumber(u)&&u<1e4||e.isString(u)&&isNaN(Date.parse(u)))&&(Ue=Df({[V]:u}))),Ue?T&&re?`time(${Ue})`:Ue:k?void 0:Ge(u)}function yce(u,c){let{type:h}=u;return c.map(g=>{let _=iN(g,{timeUnit:cr(u)?u.timeUnit:void 0,type:h,undefinedIfExprNotRequired:!0});return _!==void 0?{signal:_}:g})}function b9(u,c){return tr(u.bin)?ys(c)&&["ordinal","nominal"].includes(u.type):(console.warn("Only call this method for binned field defs."),!1)}let vce={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function E9(u){return u==null?void 0:u.condition}let _ce=["domain","grid","labels","ticks","title"],iHe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},bce={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},sHe={...bce,style:1,labelExpr:1,encoding:1};function Ece(u){return!!sHe[u]}let Sce=te({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function z2(u){return"mark"in u}class sN{constructor(c,h){this.name=c,this.run=h}hasMatchingType(c){return z2(c)?it(c.mark)===this.name:!1}}function I4(u,c){let h=u&&u[c];return h?e.isArray(h)?un(h,g=>!!g.field):cr(h)||eo(h):!1}function Cce(u,c){let h=u&&u[c];return h?e.isArray(h)?un(h,g=>!!g.field):cr(h)||za(h)||Rr(h):!1}function _W(u,c){if(Js(c)){let h=u[c];if((cr(h)||za(h))&&_1(h.type)){let g=na(c);return Cce(u,g)}}return!1}function bW(u){return un(ut,c=>{if(I4(u,c)){let h=u[c];if(e.isArray(h))return un(h,g=>!!g.aggregate);{let g=C1(h);return g&&!!g.aggregate}}return!1})}function wce(u,c){let h=[],g=[],_=[],T=[],k={};return EW(u,(V,re)=>{if(cr(V)){let{field:Ue,aggregate:We,bin:kt,timeUnit:Jt,...En}=V;if(We||Jt||kt){let jn=gW(V),Yn=jn==null?void 0:jn.title,Xn=Qr(V,{forAs:!0}),yr={...Yn?[]:{title:ob(V,c,{allowDisabling:!0})},...En,field:Xn};if(We){let ci;if(Aa(We)?(ci="argmax",Xn=Qr({op:"argmax",field:We.argmax},{forAs:!0}),yr.field=`${Xn}.${Ue}`):ra(We)?(ci="argmin",Xn=Qr({op:"argmin",field:We.argmin},{forAs:!0}),yr.field=`${Xn}.${Ue}`):We!=="boxplot"&&We!=="errorbar"&&We!=="errorband"&&(ci=We),ci){let gi={op:ci,as:Xn};Ue&&(gi.field=Ue),T.push(gi)}}else if(h.push(Xn),Ud(V)&&tr(kt)){if(g.push({bin:kt,field:Ue,as:Xn}),h.push(Qr(V,{binSuffix:"end"})),b9(V,re)&&h.push(Qr(V,{binSuffix:"range"})),Js(re)){let ci={field:`${Xn}_end`};k[`${re}2`]=ci}yr.bin="binned",Zr(re)||(yr.type=u0)}else if(Jt){_.push({timeUnit:Jt,field:Ue,as:Xn});let ci=Ud(V)&&V.type!==l0&&"time";ci&&(re===dn||re===Et?yr.formatType=ci:Mo(re)?yr.legend={formatType:ci,...yr.legend}:Js(re)&&(yr.axis={formatType:ci,...yr.axis}))}k[re]=yr}else h.push(Ue),k[re]=u[re]}else k[re]=u[re]}),{bins:g,timeUnits:_,aggregate:T,groupby:h,encoding:k}}function oHe(u,c,h){let g=Ro(c,h);if(g){if(g==="binned"){let _=u[c===He?bn:zn];return!!(cr(_)&&cr(u[c])&&Bi(_.bin))}}else return!1;return!0}function aHe(u,c,h,g){let _={};for(let T of te(u))rr(T)||Ar(Rd(T));for(let T of hc){if(!u[T])continue;let k=u[T];if(Vi(T)){let V=Gu(T),re=_[V];if(cr(re)){if(R2(re.type)&&cr(k)){Ar(h1(V));continue}}else T=V,Ar(H0(V))}if(T==="angle"&&c==="arc"&&!u.theta&&(Ar(z0),T=rn),!oHe(u,T,c)){Ar(Ku(T,c));continue}if(T===Ee&&c==="line"){let V=C1(u[T]);if(V!=null&&V.aggregate){Ar(o0);continue}}if(T===ft&&(h?"fill"in u:"stroke"in u)){Ar(s0("encoding",{fill:"fill"in u,stroke:"stroke"in u}));continue}if(T===we||T===Rn&&!e.isArray(k)&&!dp(k)||T===Et&&e.isArray(k))k&&(_[T]=e.array(k).reduce((V,re)=>(cr(re)?V.push(vW(re,T)):Ar(gc(re,T)),V),[]));else{if(T===Et&&k===null)_[T]=null;else if(!cr(k)&&!za(k)&&!dp(k)&&!Ps(k)&&!Nn(k)){Ar(gc(k,T));continue}_[T]=gce(k,T,g)}}return _}function oN(u,c){let h={};for(let g of te(u)){let _=gce(u[g],g,c,{compositeMark:!0});h[g]=_}return h}function uHe(u){let c=[];for(let h of te(u))if(I4(u,h)){let g=u[h],_=e.array(g);for(let T of _)cr(T)?c.push(T):eo(T)&&c.push(T.condition)}return c}function EW(u,c,h){if(!!u)for(let g of te(u)){let _=u[g];if(e.isArray(_))for(let T of _)c.call(h,T,g);else c.call(h,_,g)}}function lHe(u,c,h,g){return u?te(u).reduce((_,T)=>{let k=u[T];return e.isArray(k)?k.reduce((V,re)=>c.call(g,V,re,T),_):c.call(g,_,k,T)},h):h}function Ace(u,c){return te(c).reduce((h,g)=>{switch(g){case bn:case zn:case O:case ge:case $:case He:case ht:case se:case Ie:case rn:case Xt:case Ze:case St:case at:case ne:case Se:case Me:case dn:case ee:case $e:case Et:return h;case Rn:if(u==="line"||u==="trail")return h;case we:case Pe:{let _=c[g];if(e.isArray(_)||cr(_))for(let T of e.array(_))T.aggregate||h.push(Qr(T,{}));return h}case Ee:if(u==="trail")return h;case ft:case gt:case wt:case et:case It:case Kt:case fn:case mn:{let _=C1(c[g]);return _&&!_.aggregate&&h.push(Qr(_,{})),h}}},[])}function cHe(u){let{tooltip:c,...h}=u;if(!c)return{filteredEncoding:h};let g,_;if(e.isArray(c)){for(let T of c)T.aggregate?(g||(g=[]),g.push(T)):(_||(_=[]),_.push(T));g&&(h.tooltip=g)}else c.aggregate?h.tooltip=c:_=c;return e.isArray(_)&&_.length===1&&(_=_[0]),{customTooltipWithoutAggregatedField:_,filteredEncoding:h}}function SW(u,c,h){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if("tooltip"in h)return{tooltip:h.tooltip};let _=u.map(k=>{let{fieldPrefix:V,titlePrefix:re}=k,Ue=g?` of ${CW(c)}`:"";return{field:V+c.field,type:c.type,title:Nn(re)?{signal:`${re}"${escape(Ue)}"`}:re+Ue}}),T=uHe(h).map(Qze);return{tooltip:[..._,...xt(T,rt)]}}function CW(u){let{title:c,field:h}=u;return Fe(c,h)}function wW(u,c,h,g,_){let{scale:T,axis:k}=h;return V=>{let{partName:re,mark:Ue,positionPrefix:We,endPositionPrefix:kt=void 0,extraEncoding:Jt={}}=V,En=CW(h);return Tce(u,re,_,{mark:Ue,encoding:{[c]:{field:`${We}_${h.field}`,type:h.type,...En!==void 0?{title:En}:{},...T!==void 0?{scale:T}:{},...k!==void 0?{axis:k}:{}},...e.isString(kt)?{[`${c}2`]:{field:`${kt}_${h.field}`}}:{},...g,...Jt}})}}function Tce(u,c,h,g){let{clip:_,color:T,opacity:k}=u,V=u.type;return u[c]||u[c]===void 0&&h[c]?[{...g,mark:{...h[c],..._?{clip:_}:{},...T?{color:T}:{},...k?{opacity:k}:{},...Jc(g.mark)?g.mark:{type:g.mark},style:`${V}-${String(c)}`,...e.isBoolean(u[c])?{}:u[c]}}]:[]}function Fce(u,c,h){let{encoding:g}=u,_=c==="vertical"?"y":"x",T=g[_],k=g[`${_}2`],V=g[`${_}Error`],re=g[`${_}Error2`];return{continuousAxisChannelDef:aN(T,h),continuousAxisChannelDef2:aN(k,h),continuousAxisChannelDefError:aN(V,h),continuousAxisChannelDefError2:aN(re,h),continuousAxis:_}}function aN(u,c){if(u!=null&&u.aggregate){let{aggregate:h,...g}=u;return h!==c&&Ar(Yc(h,c)),g}else return u}function Dce(u,c){let{mark:h,encoding:g}=u,{x:_,y:T}=g;if(Jc(h)&&h.orient)return h.orient;if(Jl(_)){if(Jl(T)){let k=cr(_)&&_.aggregate,V=cr(T)&&T.aggregate;if(!k&&V===c)return"vertical";if(!V&&k===c)return"horizontal";if(k===c&&V===c)throw new Error("Both x and y cannot have aggregate");return ub(T)&&!ub(_)?"horizontal":"vertical"}return"horizontal"}else{if(Jl(T))return"vertical";throw new Error(`Need a valid continuous axis for ${c}s`)}}let uN="boxplot",fHe=["box","median","outliers","rule","ticks"],dHe=new sN(uN,Nce);function Oce(u){return e.isNumber(u)?"tukey":u}function Nce(u,c){let{config:h}=c;u={...u,encoding:oN(u.encoding,h)};let{mark:g,encoding:_,params:T,projection:k,...V}=u,re=Jc(g)?g:{type:g};T&&Ar(Cs("boxplot"));let Ue=re.extent??h.boxplot.extent,We=ti("size",re,h),kt=re.invalid,Jt=Oce(Ue),{bins:En,timeUnits:jn,transform:Yn,continuousAxisChannelDef:Xn,continuousAxis:yr,groupby:ci,aggregate:gi,encodingWithoutContinuousAxis:Xi,ticksOrient:pi,boxOrient:So,customTooltipWithoutAggregatedField:Ri}=hHe(u,Ue,h),{color:uu,size:vu,...il}=Xi,Q2=_Ye=>wW(re,yr,Xn,_Ye,h.boxplot),G2=Q2(il),Y2=Q2(Xi),xp=Q2({...il,...vu?{size:vu}:{}}),K2=SW([{fieldPrefix:Jt==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:Jt==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],Xn,Xi),J2={type:"tick",color:"black",opacity:1,orient:pi,invalid:kt,aria:!1},O1=Jt==="min-max"?K2:SW([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Xn,Xi),Xg=[...G2({partName:"rule",mark:{type:"rule",invalid:kt,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:O1}),...G2({partName:"rule",mark:{type:"rule",invalid:kt,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:O1}),...G2({partName:"ticks",mark:J2,positionPrefix:"lower_whisker",extraEncoding:O1}),...G2({partName:"ticks",mark:J2,positionPrefix:"upper_whisker",extraEncoding:O1})],Zg=[...Jt!=="tukey"?Xg:[],...Y2({partName:"box",mark:{type:"bar",...We?{size:We}:{},orient:So,invalid:kt,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:K2}),...xp({partName:"median",mark:{type:"tick",invalid:kt,...e.isObject(h.boxplot.median)&&h.boxplot.median.color?{color:h.boxplot.median.color}:{},...We?{size:We}:{},orient:pi,aria:!1},positionPrefix:"mid_box",extraEncoding:K2})];if(Jt==="min-max")return{...V,transform:(V.transform??[]).concat(Yn),layer:Zg};let PN=`datum["lower_box_${Xn.field}"]`,J0e=`datum["upper_box_${Xn.field}"]`,X0e=`(${J0e} - ${PN})`,Z0e=`${PN} - ${Ue} * ${X0e}`,ede=`${J0e} + ${Ue} * ${X0e}`,BN=`datum["${Xn.field}"]`,gYe={joinaggregate:Rce(Xn.field),groupby:ci},tde={transform:[{filter:`(${Z0e} <= ${BN}) && (${BN} <= ${ede})`},{aggregate:[{op:"min",field:Xn.field,as:`lower_whisker_${Xn.field}`},{op:"max",field:Xn.field,as:`upper_whisker_${Xn.field}`},{op:"min",field:`lower_box_${Xn.field}`,as:`lower_box_${Xn.field}`},{op:"max",field:`upper_box_${Xn.field}`,as:`upper_box_${Xn.field}`},...gi],groupby:ci}],layer:Xg},{tooltip:H$t,...yYe}=il,{scale:nde,axis:vYe}=Xn,rde=CW(Xn),ide=de(vYe,["title"]),sde=Tce(re,"outliers",h.boxplot,{transform:[{filter:`(${BN} < ${Z0e}) || (${BN} > ${ede})`}],mark:"point",encoding:{[yr]:{field:Xn.field,type:Xn.type,...rde!==void 0?{title:rde}:{},...nde!==void 0?{scale:nde}:{},...Ve(ide)?{}:{axis:ide}},...yYe,...uu?{color:uu}:{},...Ri?{tooltip:Ri}:{}}})[0],jN,ode=[...En,...jn,gYe];return sde?jN={transform:ode,layer:[sde,tde]}:(jN=tde,jN.transform.unshift(...ode)),{...V,layer:[jN,{transform:Yn,layer:Zg}]}}function Rce(u){return[{op:"q1",field:u,as:`lower_box_${u}`},{op:"q3",field:u,as:`upper_box_${u}`}]}function hHe(u,c,h){let g=Dce(u,uN),{continuousAxisChannelDef:_,continuousAxis:T}=Fce(u,g,uN),k=_.field,V=Oce(c),re=[...Rce(k),{op:"median",field:k,as:`mid_box_${k}`},{op:"min",field:k,as:(V==="min-max"?"lower_whisker_":"min_")+k},{op:"max",field:k,as:(V==="min-max"?"upper_whisker_":"max_")+k}],Ue=V==="min-max"||V==="tukey"?[]:[{calculate:`datum["upper_box_${k}"] - datum["lower_box_${k}"]`,as:`iqr_${k}`},{calculate:`min(datum["upper_box_${k}"] + datum["iqr_${k}"] * ${c}, datum["max_${k}"])`,as:`upper_whisker_${k}`},{calculate:`max(datum["lower_box_${k}"] - datum["iqr_${k}"] * ${c}, datum["min_${k}"])`,as:`lower_whisker_${k}`}],{[T]:We,...kt}=u.encoding,{customTooltipWithoutAggregatedField:Jt,filteredEncoding:En}=cHe(kt),{bins:jn,timeUnits:Yn,aggregate:Xn,groupby:yr,encoding:ci}=wce(En,h),gi=g==="vertical"?"horizontal":"vertical",Xi=g,pi=[...jn,...Yn,{aggregate:[...Xn,...re],groupby:yr},...Ue];return{bins:jn,timeUnits:Yn,transform:pi,groupby:yr,aggregate:Xn,continuousAxisChannelDef:_,continuousAxis:T,encodingWithoutContinuousAxis:ci,ticksOrient:gi,boxOrient:Xi,customTooltipWithoutAggregatedField:Jt}}let AW="errorbar",pHe=["ticks","rule"],mHe=new sN(AW,Lce);function Lce(u,c){let{config:h}=c;u={...u,encoding:oN(u.encoding,h)};let{transform:g,continuousAxisChannelDef:_,continuousAxis:T,encodingWithoutContinuousAxis:k,ticksOrient:V,markDef:re,outerSpec:Ue,tooltipEncoding:We}=kce(u,AW,h);delete k.size;let kt=wW(re,T,_,k,h.errorbar),Jt=re.thickness,En=re.size,jn={type:"tick",orient:V,aria:!1,...Jt!==void 0?{thickness:Jt}:{},...En!==void 0?{size:En}:{}},Yn=[...kt({partName:"ticks",mark:jn,positionPrefix:"lower",extraEncoding:We}),...kt({partName:"ticks",mark:jn,positionPrefix:"upper",extraEncoding:We}),...kt({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...Jt!==void 0?{size:Jt}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:We})];return{...Ue,transform:g,...Yn.length>1?{layer:Yn}:{...Yn[0]}}}function xHe(u,c){let{encoding:h}=u;if(gHe(h))return{orient:Dce(u,c),inputType:"raw"};let g=yHe(h),_=vHe(h),T=h.x,k=h.y;if(g){if(_)throw new Error(`${c} cannot be both type aggregated-upper-lower and aggregated-error`);let V=h.x2,re=h.y2;if(ms(V)&&ms(re))throw new Error(`${c} cannot have both x2 and y2`);if(ms(V)){if(Jl(T))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${c}`)}else if(ms(re)){if(Jl(k))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${c}`)}throw new Error("No ranged axis")}else{let V=h.xError,re=h.xError2,Ue=h.yError,We=h.yError2;if(ms(re)&&!ms(V))throw new Error(`${c} cannot have xError2 without xError`);if(ms(We)&&!ms(Ue))throw new Error(`${c} cannot have yError2 without yError`);if(ms(V)&&ms(Ue))throw new Error(`${c} cannot have both xError and yError with both are quantiative`);if(ms(V)){if(Jl(T))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(ms(Ue)){if(Jl(k))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function gHe(u){return(ms(u.x)||ms(u.y))&&!ms(u.x2)&&!ms(u.y2)&&!ms(u.xError)&&!ms(u.xError2)&&!ms(u.yError)&&!ms(u.yError2)}function yHe(u){return ms(u.x2)||ms(u.y2)}function vHe(u){return ms(u.xError)||ms(u.xError2)||ms(u.yError)||ms(u.yError2)}function kce(u,c,h){let{mark:g,encoding:_,params:T,projection:k,...V}=u,re=Jc(g)?g:{type:g};T&&Ar(Cs(c));let{orient:Ue,inputType:We}=xHe(u,c),{continuousAxisChannelDef:kt,continuousAxisChannelDef2:Jt,continuousAxisChannelDefError:En,continuousAxisChannelDefError2:jn,continuousAxis:Yn}=Fce(u,Ue,c),{errorBarSpecificAggregate:Xn,postAggregateCalculates:yr,tooltipSummary:ci,tooltipTitleWithFieldName:gi}=_He(re,kt,Jt,En,jn,We,c,h),{[Yn]:Xi,[Yn==="x"?"x2":"y2"]:pi,[Yn==="x"?"xError":"yError"]:So,[Yn==="x"?"xError2":"yError2"]:Ri,...uu}=_,{bins:vu,timeUnits:il,aggregate:Q2,groupby:G2,encoding:Y2}=wce(uu,h),xp=[...Q2,...Xn],K2=We!=="raw"?[]:G2,J2=SW(ci,kt,Y2,gi);return{transform:[...V.transform??[],...vu,...il,...xp.length===0?[]:[{aggregate:xp,groupby:K2}],...yr],groupby:K2,continuousAxisChannelDef:kt,continuousAxis:Yn,encodingWithoutContinuousAxis:Y2,ticksOrient:Ue==="vertical"?"horizontal":"vertical",markDef:re,outerSpec:V,tooltipEncoding:J2}}function _He(u,c,h,g,_,T,k,V){let re=[],Ue=[],We=c.field,kt,Jt=!1;if(T==="raw"){let En=u.center?u.center:u.extent?u.extent==="iqr"?"median":"mean":V.errorbar.center,jn=u.extent?u.extent:En==="mean"?"stderr":"iqr";if(En==="median"!=(jn==="iqr")&&Ar(Gc(En,jn,k)),jn==="stderr"||jn==="stdev")re=[{op:jn,field:We,as:`extent_${We}`},{op:En,field:We,as:`center_${We}`}],Ue=[{calculate:`datum["center_${We}"] + datum["extent_${We}"]`,as:`upper_${We}`},{calculate:`datum["center_${We}"] - datum["extent_${We}"]`,as:`lower_${We}`}],kt=[{fieldPrefix:"center_",titlePrefix:sn(En)},{fieldPrefix:"upper_",titlePrefix:Ice(En,jn,"+")},{fieldPrefix:"lower_",titlePrefix:Ice(En,jn,"-")}],Jt=!0;else{let Yn,Xn,yr;jn==="ci"?(Yn="mean",Xn="ci0",yr="ci1"):(Yn="median",Xn="q1",yr="q3"),re=[{op:Xn,field:We,as:`lower_${We}`},{op:yr,field:We,as:`upper_${We}`},{op:Yn,field:We,as:`center_${We}`}],kt=[{fieldPrefix:"upper_",titlePrefix:ob({field:We,aggregate:yr,type:"quantitative"},V,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:ob({field:We,aggregate:Xn,type:"quantitative"},V,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:ob({field:We,aggregate:Yn,type:"quantitative"},V,{allowDisabling:!1})}]}}else{(u.center||u.extent)&&Ar(Xu(u.center,u.extent)),T==="aggregated-upper-lower"?(kt=[],Ue=[{calculate:`datum["${h.field}"]`,as:`upper_${We}`},{calculate:`datum["${We}"]`,as:`lower_${We}`}]):T==="aggregated-error"&&(kt=[{fieldPrefix:"",titlePrefix:We}],Ue=[{calculate:`datum["${We}"] + datum["${g.field}"]`,as:`upper_${We}`}],_?Ue.push({calculate:`datum["${We}"] + datum["${_.field}"]`,as:`lower_${We}`}):Ue.push({calculate:`datum["${We}"] - datum["${g.field}"]`,as:`lower_${We}`}));for(let En of Ue)kt.push({fieldPrefix:En.as.substring(0,6),titlePrefix:An(An(En.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:Ue,errorBarSpecificAggregate:re,tooltipSummary:kt,tooltipTitleWithFieldName:Jt}}function Ice(u,c,h){return`${sn(u)} ${h} ${c}`}let TW="errorband",bHe=["band","borders"],EHe=new sN(TW,Mce);function Mce(u,c){let{config:h}=c;u={...u,encoding:oN(u.encoding,h)};let{transform:g,continuousAxisChannelDef:_,continuousAxis:T,encodingWithoutContinuousAxis:k,markDef:V,outerSpec:re,tooltipEncoding:Ue}=kce(u,TW,h),We=V,kt=wW(We,T,_,k,h.errorband),Jt=u.encoding.x!==void 0&&u.encoding.y!==void 0,En={type:Jt?"area":"rect"},jn={type:Jt?"line":"rule"},Yn={...We.interpolate?{interpolate:We.interpolate}:{},...We.tension&&We.interpolate?{tension:We.tension}:{}};return Jt?(En={...En,...Yn,ariaRoleDescription:"errorband"},jn={...jn,...Yn,aria:!1}):We.interpolate?Ar(Lu("interpolate")):We.tension&&Ar(Lu("tension")),{...re,transform:g,layer:[...kt({partName:"band",mark:En,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ue}),...kt({partName:"borders",mark:jn,positionPrefix:"lower",extraEncoding:Ue}),...kt({partName:"borders",mark:jn,positionPrefix:"upper",extraEncoding:Ue})]}}let Pce={};function FW(u,c,h){let g=new sN(u,c);Pce[u]={normalizer:g,parts:h}}function SHe(){return te(Pce)}FW(uN,Nce,fHe),FW(AW,Lce,pHe),FW(TW,Mce,bHe);let CHe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Bce={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},jce={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},wHe=te(Bce),AHe=te(jce),qce=te({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Uce=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],THe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},FHe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},w1="_vgsid_",DHe={point:{on:"click",fields:[w1],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function DW(u){return u==="legend"||!!(u!=null&&u.legend)}function OW(u){return DW(u)&&e.isObject(u)}function NW(u){return!!(u!=null&&u.select)}function $ce(u){let c=[];for(let h of u||[]){if(NW(h))continue;let{expr:g,bind:_,...T}=h;if(_&&g){let k={...T,bind:_,init:g};c.push(k)}else{let k={...T,...g?{update:g}:{},..._?{bind:_}:{}};c.push(k)}}return c}function OHe(u){return lN(u)||LW(u)||RW(u)}function RW(u){return"concat"in u}function lN(u){return"vconcat"in u}function LW(u){return"hconcat"in u}function zce(u){let{step:c,offsetIsDiscrete:h}=u;return h?c.for??"offset":"position"}function A1(u){return e.isObject(u)&&u.step!==void 0}function Hce(u){return u.view||u.width||u.height}let Vce=20,NHe=te({align:1,bounds:1,center:1,columns:1,spacing:1});function RHe(u,c,h){let g=h[c],_={},{spacing:T,columns:k}=g;T!==void 0&&(_.spacing=T),k!==void 0&&(S1(u)&&!fp(u.facet)||RW(u))&&(_.columns=k),lN(u)&&(_.columns=1);for(let V of NHe)if(u[V]!==void 0)if(V==="spacing"){let re=u[V];_[V]=e.isNumber(re)?re:{row:re.row??T,column:re.column??T}}else _[V]=u[V];return _}function kW(u,c){return u[c]??u[c==="width"?"continuousWidth":"continuousHeight"]}function cN(u,c){let h=fN(u,c);return A1(h)?h.step:Wce}function fN(u,c){let h=u[c]??u[c==="width"?"discreteWidth":"discreteHeight"];return Fe(h,{step:u.step})}let Wce=20,LHe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Wce},mark:W,arc:{},area:{},bar:K,circle:{},geoshape:{},image:{},line:{},point:{},rect:pe,rule:{color:"black"},square:{},text:{color:"black"},tick:Te,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:wi,projection:{},legend:THe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:DHe,style:{},title:{},facet:{spacing:Vce},concat:{spacing:Vce},normalizedNumberFormat:".0%"},H2=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Qce={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Gce={blue:H2[0],orange:H2[1],red:H2[2],teal:H2[3],green:H2[4],yellow:H2[5],purple:H2[6],pink:H2[7],brown:H2[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function kHe(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{signals:[{name:"color",value:e.isObject(u)?{...Gce,...u}:Gce}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function IHe(u){return{signals:[{name:"fontSize",value:e.isObject(u)?{...Qce,...u}:Qce}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function MHe(u){return{text:{font:u},style:{"guide-label":{font:u},"guide-title":{font:u},"group-title":{font:u},"group-subtitle":{font:u}}}}function Yce(u){let c=te(u||{}),h={};for(let g of c){let _=u[g];h[g]=E9(_)?$r(_):ui(_)}return h}function PHe(u){let c=te(u),h={};for(let g of c)h[g]=Yce(u[g]);return h}let BHe=[...pt,...Sce,...qce,"background","padding","legend","lineBreak","scale","style","title","view"];function Kce(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{color:c,font:h,fontSize:g,selection:_,...T}=u,k=e.mergeConfig({},_e(LHe),h?MHe(h):{},c?kHe(c):{},g?IHe(g):{},T||{});_&&e.writeConfig(k,"selection",_,!0);let V=de(k,BHe);for(let re of["background","lineBreak","padding"])k[re]&&(V[re]=ui(k[re]));for(let re of pt)k[re]&&(V[re]=on(k[re]));for(let re of Sce)k[re]&&(V[re]=Yce(k[re]));for(let re of qce)k[re]&&(V[re]=on(k[re]));return k.legend&&(V.legend=on(k.legend)),k.scale&&(V.scale=on(k.scale)),k.style&&(V.style=PHe(k.style)),k.title&&(V.title=on(k.title)),k.view&&(V.view=on(k.view)),V}let jHe=new Set(["view",...y9]),qHe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],UHe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...U};function $He(u){u=_e(u);for(let c of qHe)delete u[c];if(u.axis)for(let c in u.axis)E9(u.axis[c])&&delete u.axis[c];if(u.legend)for(let c of CHe)delete u.legend[c];if(u.mark){for(let c of A)delete u.mark[c];u.mark.tooltip&&e.isObject(u.mark.tooltip)&&delete u.mark.tooltip}u.params&&(u.signals=(u.signals||[]).concat($ce(u.params)),delete u.params);for(let c of jHe){for(let g of A)delete u[c][g];let h=UHe[c];if(h)for(let g of h)delete u[c][g];HHe(u,c)}for(let c of SHe())delete u[c];zHe(u);for(let c in u)e.isObject(u[c])&&Ve(u[c])&&delete u[c];return Ve(u)?void 0:u}function zHe(u){let{titleMarkConfig:c,subtitleMarkConfig:h,subtitle:g}=wn(u.title);Ve(c)||(u.style["group-title"]={...u.style["group-title"],...c}),Ve(h)||(u.style["group-subtitle"]={...u.style["group-subtitle"],...h}),Ve(g)?delete u.title:u.title=g}function HHe(u,c,h,g){let _=g?u[c][g]:u[c];c==="view"&&(h="cell");let T={..._,...u.style[h??c]};Ve(T)||(u.style[h??c]=T),g||delete u[c]}function dN(u){return"layer"in u}function VHe(u){return"repeat"in u}function WHe(u){return!e.isArray(u.repeat)&&u.repeat.layer}class IW{map(c,h){return S1(c)?this.mapFacet(c,h):VHe(c)?this.mapRepeat(c,h):LW(c)?this.mapHConcat(c,h):lN(c)?this.mapVConcat(c,h):RW(c)?this.mapConcat(c,h):this.mapLayerOrUnit(c,h)}mapLayerOrUnit(c,h){if(dN(c))return this.mapLayer(c,h);if(z2(c))return this.mapUnit(c,h);throw new Error(ue(c))}mapLayer(c,h){return{...c,layer:c.layer.map(g=>this.mapLayerOrUnit(g,h))}}mapHConcat(c,h){return{...c,hconcat:c.hconcat.map(g=>this.map(g,h))}}mapVConcat(c,h){return{...c,vconcat:c.vconcat.map(g=>this.map(g,h))}}mapConcat(c,h){let{concat:g,..._}=c;return{..._,concat:g.map(T=>this.map(T,h))}}mapFacet(c,h){return{...c,spec:this.map(c.spec,h)}}mapRepeat(c,h){return{...c,spec:this.map(c.spec,h)}}}let QHe={zero:1,center:1,normalize:1};function GHe(u){return u in QHe}let YHe=new Set([I2,P2,M2,d0,j2,q2,U2,B2,$g,zg]),KHe=new Set([P2,M2,I2]);function lb(u){return cr(u)&&nl(u)==="quantitative"&&!u.bin}function Jce(u,c){let h=c==="x"?"y":"radius",g=u[c],_=u[h];if(cr(g)&&cr(_))if(lb(g)&&lb(_)){if(g.stack)return c;if(_.stack)return h;let V=cr(g)&&!!g.aggregate,re=cr(_)&&!!_.aggregate;if(V!==re)return V?c:h;{var T,k;let Ue=(T=g.scale)===null||T===void 0?void 0:T.type,We=(k=_.scale)===null||k===void 0?void 0:k.type;if(Ue&&Ue!=="linear")return h;if(We&&We!=="linear")return c}}else{if(lb(g))return c;if(lb(_))return h}else{if(lb(g))return c;if(lb(_))return h}}function JHe(u){switch(u){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Xce(u,c){var h,g;let _=Jc(u)?u.type:u;if(!YHe.has(_))return null;let T=Jce(c,"x")||Jce(c,"theta");if(!T)return null;let k=c[T],V=cr(k)?Qr(k,{}):void 0,re=JHe(T),Ue=[],We=new Set;if(c[re]){let En=c[re],jn=cr(En)?Qr(En,{}):void 0;jn&&jn!==V&&(Ue.push(re),We.add(jn));let Yn=re==="x"?"xOffset":"yOffset",Xn=c[Yn],yr=cr(Xn)?Qr(Xn,{}):void 0;yr&&yr!==V&&(Ue.push(Yn),We.add(yr))}let kt=es.reduce((En,jn)=>{if(jn!=="tooltip"&&I4(c,jn)){let Yn=c[jn];for(let Xn of e.array(Yn)){let yr=C1(Xn);if(yr.aggregate)continue;let ci=Qr(yr,{});(!ci||!We.has(ci))&&En.push({channel:jn,fieldDef:yr})}}return En},[]),Jt;return k.stack!==void 0?e.isBoolean(k.stack)?Jt=k.stack?"zero":null:Jt=k.stack:KHe.has(_)&&(Jt="zero"),!Jt||!GHe(Jt)||bW(c)&&kt.length===0?null:k!=null&&(h=k.scale)!==null&&h!==void 0&&h.type&&(k==null||(g=k.scale)===null||g===void 0?void 0:g.type)!==ku.LINEAR?(Ar(Hl(k.scale.type)),null):ms(c[Ki(T)])?(k.stack!==void 0&&Ar(da(T)),null):(cr(k)&&k.aggregate&&!Gr.has(k.aggregate)&&Ar(wl(k.aggregate)),{groupbyChannels:Ue,groupbyFields:We,fieldChannel:T,impute:k.impute===null?!1:h0(_),stackBy:kt,offset:Jt})}function XHe(u){let{point:c,line:h,...g}=u;return te(g).length>1?g:g.type}function ZHe(u){for(let c of["line","area","rule","trail"])u[c]&&(u={...u,[c]:de(u[c],["point","line"])});return u}function MW(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0;return u.point==="transparent"?{opacity:0}:u.point?e.isObject(u.point)?u.point:{}:u.point!==void 0?null:c.point||h.shape?e.isObject(c.point)?c.point:{}:void 0}function Zce(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.line?u.line===!0?{}:u.line:u.line!==void 0?null:c.line?c.line===!0?{}:c.line:void 0}class eVe{constructor(){_r(this,"name","path-overlay")}hasMatchingType(c,h){if(z2(c)){let{mark:g,encoding:_}=c,T=Jc(g)?g:{type:g};switch(T.type){case"line":case"rule":case"trail":return!!MW(T,h[T.type],_);case"area":return!!MW(T,h[T.type],_)||!!Zce(T,h[T.type])}}return!1}run(c,h,g){let{config:_}=h,{params:T,projection:k,mark:V,encoding:re,...Ue}=c,We=oN(re,_),kt=Jc(V)?V:{type:V},Jt=MW(kt,_[kt.type],We),En=kt.type==="area"&&Zce(kt,_[kt.type]),jn=[{...T?{params:T}:{},mark:XHe({...kt.type==="area"&&kt.opacity===void 0&&kt.fillOpacity===void 0?{opacity:.7}:{},...kt}),encoding:de(We,["shape"])}],Yn=Xce(kt,We),Xn=We;if(Yn){let{fieldChannel:yr,offset:ci}=Yn;Xn={...We,[yr]:{...We[yr],...ci?{stack:ci}:{}}}}return Xn=de(Xn,["y2","x2"]),En&&jn.push({...k?{projection:k}:{},mark:{type:"line",...be(kt,["clip","interpolate","tension","tooltip"]),...En},encoding:Xn}),Jt&&jn.push({...k?{projection:k}:{},mark:{type:"point",opacity:1,filled:!0,...be(kt,["clip","tooltip"]),...Jt},encoding:Xn}),g({...Ue,layer:jn},{...h,config:ZHe(_)})}}function tVe(u,c){return c?fp(u)?rfe(u,c):efe(u,c):u}function PW(u,c){return c?rfe(u,c):u}function BW(u,c,h){let g=c[u];if(rb(g)){if(g.repeat in h)return{...c,[u]:h[g.repeat]};Ar(Cf(g.repeat));return}return c}function efe(u,c){if(u=BW("field",u,c),u!==void 0){if(u===null)return null;if(_9(u)&&ia(u.sort)){let h=BW("field",u.sort,c);u={...u,...h?{sort:h}:{}}}return u}}function tfe(u,c){if(cr(u))return efe(u,c);{let h=BW("datum",u,c);return h!==u&&!h.type&&(h.type="nominal"),h}}function nfe(u,c){if(ms(u)){let h=tfe(u,c);if(h)return h;if(Ps(u))return{condition:u.condition}}else{if(Rr(u)){let h=tfe(u.condition,c);if(h)return{...u,condition:h};{let{condition:g,..._}=u;return _}}return u}}function rfe(u,c){let h={};for(let g in u)if(e.hasOwnProperty(u,g)){let _=u[g];if(e.isArray(_))h[g]=_.map(T=>nfe(T,c)).filter(T=>T);else{let T=nfe(_,c);T!==void 0&&(h[g]=T)}}return h}class nVe{constructor(){_r(this,"name","RuleForRangedLine")}hasMatchingType(c){if(z2(c)){let{encoding:h,mark:g}=c;if(g==="line"||Jc(g)&&g.type==="line")for(let _ of br){let T=Wr(_),k=h[T];if(h[_]&&(cr(k)&&!Bi(k.bin)||za(k)))return!0}}return!1}run(c,h,g){let{encoding:_,mark:T}=c;return Ar(Qc(!!_.x2,!!_.y2)),g({...c,mark:e.isObject(T)?{...T,type:"rule"}:"rule"},h)}}class rVe extends IW{constructor(){super(...arguments);_r(this,"nonFacetUnitNormalizers",[dHe,mHe,EHe,new eVe,new nVe])}map(c,h){if(z2(c)){let g=I4(c.encoding,gn),_=I4(c.encoding,kn),T=I4(c.encoding,qn);if(g||_||T)return this.mapFacetedUnit(c,h)}return super.map(c,h)}mapUnit(c,h){let{parentEncoding:g,parentProjection:_}=h,T=PW(c.encoding,h.repeater),k={...c,...T?{encoding:T}:{}};if(g||_)return this.mapUnitWithParentEncodingOrProjection(k,h);let V=this.mapLayerOrUnit.bind(this);for(let re of this.nonFacetUnitNormalizers)if(re.hasMatchingType(k,h.config))return re.run(k,h,V);return k}mapRepeat(c,h){return WHe(c)?this.mapLayerRepeat(c,h):this.mapNonLayerRepeat(c,h)}mapLayerRepeat(c,h){let{repeat:g,spec:_,...T}=c,{row:k,column:V,layer:re}=g,{repeater:Ue={},repeaterPrefix:We=""}=h;return k||V?this.mapRepeat({...c,repeat:{...k?{row:k}:{},...V?{column:V}:{}},spec:{repeat:{layer:re},spec:_}},h):{...T,layer:re.map(kt=>{let Jt={...Ue,layer:kt},En=`${(_.name||"")+We}child__layer_${Ct(kt)}`,jn=this.mapLayerOrUnit(_,{...h,repeater:Jt,repeaterPrefix:En});return jn.name=En,jn})}}mapNonLayerRepeat(c,h){let{repeat:g,spec:_,data:T,...k}=c;!e.isArray(g)&&c.columns&&(c=de(c,["columns"]),Ar(wf("repeat")));let V=[],{repeater:re={},repeaterPrefix:Ue=""}=h,We=!e.isArray(g)&&g.row||[re?re.row:null],kt=!e.isArray(g)&&g.column||[re?re.column:null],Jt=e.isArray(g)&&g||[re?re.repeat:null];for(let jn of Jt)for(let Yn of We)for(let Xn of kt){let yr={repeat:jn,row:Yn,column:Xn,layer:re.layer},ci=(_.name||"")+Ue+"child__"+(e.isArray(g)?`${Ct(jn)}`:(g.row?`row_${Ct(Yn)}`:"")+(g.column?`column_${Ct(Xn)}`:"")),gi=this.map(_,{...h,repeater:yr,repeaterPrefix:ci});gi.name=ci,V.push(de(gi,["data"]))}let En=e.isArray(g)?c.columns:g.column?g.column.length:1;return{data:_.data??T,align:"all",...k,columns:En,concat:V}}mapFacet(c,h){let{facet:g}=c;return fp(g)&&c.columns&&(c=de(c,["columns"]),Ar(wf("facet"))),super.mapFacet(c,h)}mapUnitWithParentEncodingOrProjection(c,h){let{encoding:g,projection:_}=c,{parentEncoding:T,parentProjection:k,config:V}=h,re=sfe({parentProjection:k,projection:_}),Ue=ife({parentEncoding:T,encoding:PW(g,h.repeater)});return this.mapUnit({...c,...re?{projection:re}:{},...Ue?{encoding:Ue}:{}},{config:V})}mapFacetedUnit(c,h){let{row:g,column:_,facet:T,...k}=c.encoding,{mark:V,width:re,projection:Ue,height:We,view:kt,params:Jt,encoding:En,...jn}=c,{facetMapping:Yn,layout:Xn}=this.getFacetMappingAndLayout({row:g,column:_,facet:T},h),yr=PW(k,h.repeater);return this.mapFacet({...jn,...Xn,facet:Yn,spec:{...re?{width:re}:{},...We?{height:We}:{},...kt?{view:kt}:{},...Ue?{projection:Ue}:{},mark:V,encoding:yr,...Jt?{params:Jt}:{}}},h)}getFacetMappingAndLayout(c,h){let{row:g,column:_,facet:T}=c;if(g||_){T&&Ar(v2([...g?[gn]:[],..._?[kn]:[]]));let k={},V={};for(let re of[gn,kn]){let Ue=c[re];if(Ue){let{align:We,center:kt,spacing:Jt,columns:En,...jn}=Ue;k[re]=jn;for(let Yn of["align","center","spacing"])Ue[Yn]!==void 0&&(V[Yn]??={},V[Yn][re]=Ue[Yn])}}return{facetMapping:k,layout:V}}else{let{align:k,center:V,spacing:re,columns:Ue,...We}=T;return{facetMapping:tVe(We,h.repeater),layout:{...k?{align:k}:{},...V?{center:V}:{},...re?{spacing:re}:{},...Ue?{columns:Ue}:{}}}}}mapLayer(c,h){let{parentEncoding:g,parentProjection:_,...T}=h,{encoding:k,projection:V,...re}=c,Ue={...T,parentEncoding:ife({parentEncoding:g,encoding:k,layer:!0}),parentProjection:sfe({parentProjection:_,projection:V})};return super.mapLayer(re,Ue)}}function ife(u){let{parentEncoding:c,encoding:h={},layer:g}=u,_={};if(c){let T=new Set([...te(c),...te(h)]);for(let k of T){let V=h[k],re=c[k];if(ms(V)){let Ue={...re,...V};_[k]=Ue}else Rr(V)?_[k]={...V,condition:{...re,...V.condition}}:V||V===null?_[k]=V:(g||dp(re)||Nn(re)||ms(re)||e.isArray(re))&&(_[k]=re)}}else _=h;return!_||Ve(_)?void 0:_}function sfe(u){let{parentProjection:c,projection:h}=u;return c&&h&&Ar(sp({parentProjection:c,projection:h})),h??c}function jW(u){return"filter"in u}function iVe(u){return(u==null?void 0:u.stop)!==void 0}function ofe(u){return"lookup"in u}function sVe(u){return"data"in u}function oVe(u){return"param"in u}function aVe(u){return"pivot"in u}function uVe(u){return"density"in u}function lVe(u){return"quantile"in u}function cVe(u){return"regression"in u}function fVe(u){return"loess"in u}function dVe(u){return"sample"in u}function hVe(u){return"window"in u}function pVe(u){return"joinaggregate"in u}function mVe(u){return"flatten"in u}function xVe(u){return"calculate"in u}function afe(u){return"bin"in u}function gVe(u){return"impute"in u}function yVe(u){return"timeUnit"in u}function vVe(u){return"aggregate"in u}function _Ve(u){return"stack"in u}function bVe(u){return"fold"in u}function EVe(u){return u.map(c=>jW(c)?{filter:Z(c.filter,v1)}:c)}class SVe extends IW{map(c,h){return h.emptySelections??={},h.selectionPredicates??={},c=ufe(c,h),super.map(c,h)}mapLayerOrUnit(c,h){if(c=ufe(c,h),c.encoding){let g={};for(let[_,T]of Xe(c.encoding))g[_]=lfe(T,h);c={...c,encoding:g}}return super.mapLayerOrUnit(c,h)}mapUnit(c,h){let{selection:g,..._}=c;return g?{..._,params:Xe(g).map(T=>{let[k,V]=T,{init:re,bind:Ue,empty:We,...kt}=V;kt.type==="single"?(kt.type="point",kt.toggle=!1):kt.type==="multi"&&(kt.type="point"),h.emptySelections[k]=We!=="none";for(let Jt of Ae(h.selectionPredicates[k]??{}))Jt.empty=We!=="none";return{name:k,value:re,select:kt,bind:Ue}})}:c}}function ufe(u,c){let{transform:h,...g}=u;if(h){let _=h.map(T=>{if(jW(T))return{filter:qW(T,c)};if(afe(T)&&Ne(T.bin))return{...T,bin:cfe(T.bin)};if(ofe(T)){let{selection:k,...V}=T.from;return k?{...T,from:{param:k,...V}}:T}return T});return{...g,transform:_}}return u}function lfe(u,c){var h,g;let _=_e(u);if(cr(_)&&Ne(_.bin)&&(_.bin=cfe(_.bin)),k4(_)&&(h=_.scale)!==null&&h!==void 0&&(g=h.domain)!==null&&g!==void 0&&g.selection){let{selection:T,...k}=_.scale.domain;_.scale.domain={...k,...T?{param:T}:{}}}if(Ps(_))if(e.isArray(_.condition))_.condition=_.condition.map(T=>{let{selection:k,param:V,test:re,...Ue}=T;return V?T:{...Ue,test:qW(T,c)}});else{let{selection:T,param:k,test:V,...re}=lfe(_.condition,c);_.condition=k?_.condition:{...re,test:qW(_.condition,c)}}return _}function cfe(u){let c=u.extent;if(c!=null&&c.selection){let{selection:h,...g}=c;return{...u,extent:{...g,param:h}}}return u}function qW(u,c){let h=g=>Z(g,_=>{let T=c.emptySelections[_]??!0,k={param:_,empty:T};return c.selectionPredicates[_]??=[],c.selectionPredicates[_].push(k),k});return u.selection?h(u.selection):Z(u.test||u.filter,g=>g.selection?h(g.selection):g)}class UW extends IW{map(c,h){let g=h.selections??[];if(c.params&&!z2(c)){let _=[];for(let T of c.params)NW(T)?g.push(T):_.push(T);c.params=_}return h.selections=g,super.map(c,ffe(c,h))}mapUnit(c,h){let g=h.selections;if(!g||!g.length)return c;let _=(h.path??[]).concat(c.name),T=[];for(let k of g)if(!k.views||!k.views.length)T.push(k);else for(let V of k.views)(e.isString(V)&&(V===c.name||_.indexOf(V)>=0)||e.isArray(V)&&V.map(re=>_.indexOf(re)).every((re,Ue,We)=>re!==-1&&(Ue===0||re>We[Ue-1])))&&T.push(k);return T.length&&(c.params=T),c}}for(let u of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let c=UW.prototype[u];UW.prototype[u]=function(h,g){return c.call(this,h,ffe(h,g))}}function ffe(u,c){return u.name?{...c,path:(c.path??[]).concat(u.name)}:c}function dfe(u,c){c===void 0&&(c=Kce(u.config));let h=TVe(u,c),{width:g,height:_}=u,T=FVe(h,{width:g,height:_,autosize:u.autosize},c);return{...h,...T?{autosize:T}:{}}}let CVe=new rVe,wVe=new SVe,AVe=new UW;function TVe(u){let h={config:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};return AVe.map(CVe.map(wVe.map(u,h),h),h)}function hfe(u){return e.isString(u)?{type:u}:u??{}}function FVe(u,c,h){let{width:g,height:_}=c,T=z2(u)||dN(u),k={};T?g=="container"&&_=="container"?(k.type="fit",k.contains="padding"):g=="container"?(k.type="fit-x",k.contains="padding"):_=="container"&&(k.type="fit-y",k.contains="padding"):(g=="container"&&(Ar(Wt("width")),g=void 0),_=="container"&&(Ar(Wt("height")),_=void 0));let V={type:"pad",...k,...h?hfe(h.autosize):{},...hfe(u.autosize)};if(V.type==="fit"&&!T&&(Ar(nt),V.type="pad"),g=="container"&&!(V.type=="fit"||V.type=="fit-x")&&Ar(vn("width")),_=="container"&&!(V.type=="fit"||V.type=="fit-y")&&Ar(vn("height")),!Ke(V,{type:"pad"}))return V}function DVe(u){return u==="fit"||u==="fit-x"||u==="fit-y"}function OVe(u){return u?`fit-${Xr(u)}`:"fit"}let NVe=["background","padding"];function pfe(u,c){let h={};for(let g of NVe)u&&u[g]!==void 0&&(h[g]=ui(u[g]));return c&&(h.params=u.params),h}class V2{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.explicit=c,this.implicit=h}clone(){return new V2(_e(this.explicit),_e(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(c){return Fe(this.explicit[c],this.implicit[c])}getWithExplicit(c){return this.explicit[c]!==void 0?{explicit:!0,value:this.explicit[c]}:this.implicit[c]!==void 0?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,h){let{value:g,explicit:_}=h;g!==void 0&&this.set(c,g,_)}set(c,h,g){return delete this[g?"implicit":"explicit"][c],this[g?"explicit":"implicit"][c]=h,this}copyKeyFromSplit(c,h){let{explicit:g,implicit:_}=h;g[c]!==void 0?this.set(c,g[c],!0):_[c]!==void 0&&this.set(c,_[c],!1)}copyKeyFromObject(c,h){h[c]!==void 0&&this.set(c,h[c],!0)}copyAll(c){for(let h of te(c.combine())){let g=c.getWithExplicit(h);this.setWithExplicit(h,g)}}}function T1(u){return{explicit:!0,value:u}}function ed(u){return{explicit:!1,value:u}}function mfe(u){return(c,h,g,_)=>{let T=u(c.value,h.value);return T>0?c:T<0?h:hN(c,h,g,_)}}function hN(u,c,h,g){return u.explicit&&c.explicit&&Ar(xi(h,g,u.value,c.value)),u}function Vg(u,c,h,g){let _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:hN;return u===void 0||u.value===void 0?c:u.explicit&&!c.explicit?u:c.explicit&&!u.explicit?c:Ke(u.value,c.value)?u:_(u,c,h,g)}class RVe extends V2{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super(c,h);this.explicit=c,this.implicit=h,this.parseNothing=g}clone(){let c=super.clone();return c.parseNothing=this.parseNothing,c}}function cb(u){return"url"in u}function S9(u){return"values"in u}function xfe(u){return"name"in u&&!cb(u)&&!S9(u)&&!Wg(u)}function Wg(u){return u&&(gfe(u)||yfe(u)||$W(u))}function gfe(u){return"sequence"in u}function yfe(u){return"sphere"in u}function $W(u){return"graticule"in u}let ma;(function(u){u[u.Raw=0]="Raw",u[u.Main=1]="Main",u[u.Row=2]="Row",u[u.Column=3]="Column",u[u.Lookup=4]="Lookup"})(ma||(ma={}));function M4(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.identity;if(e.isArray(u)){let g=u.map(_=>M4(_,c,h));return c?`[${g.join(", ")}]`:g}else if(W0(u))return h(c?Df(u):N4(u));return c?h(Ge(u)):u}function LVe(u,c){for(let h of Ae(u.component.selection??{})){let g=h.name,_=`${g}${Yg}, ${h.resolve==="global"?"true":`{unit: ${hb(u)}}`}`;for(let T of yN)!T.defined(h)||(T.signals&&(c=T.signals(u,h,c)),T.modifyExpr&&(_=T.modifyExpr(u,h,_)));c.push({name:g+cWe,on:[{events:{signal:h.name+Yg},update:`modify(${e.stringValue(h.name+P4)}, ${_})`}]})}return zW(c)}function kVe(u,c){if(u.component.selection&&te(u.component.selection).length){let h=e.stringValue(u.getName("cell"));c.unshift({name:"facet",value:{},on:[{events:e.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${h}).datum`}]})}return zW(c)}function IVe(u,c){let h=!1;for(let g of Ae(u.component.selection??{})){let _=g.name,T=e.stringValue(_+P4);if(c.filter(V=>V.name===_).length===0){let V=g.resolve==="global"?"union":g.resolve,re=g.type==="point"?", true, true)":")";c.push({name:g.name,update:`${Ufe}(${T}, ${e.stringValue(V)}${re}`})}h=!0;for(let V of yN)V.defined(g)&&V.topLevelSignals&&(c=V.topLevelSignals(u,g,c))}return h&&c.filter(_=>_.name==="unit").length===0&&c.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),zW(c)}function MVe(u,c){let h=[...c],g=hb(u,{escape:!1});for(let _ of Ae(u.component.selection??{})){let T={name:_.name+P4};if(_.project.hasSelectionId&&(T.transform=[{type:"collect",sort:{field:w1}}]),_.init){let V=_.project.items.map(re=>{let{signals:Ue,...We}=re;return We});T.values=_.project.hasSelectionId?_.init.map(re=>({unit:g,[w1]:M4(re,!1)[0]})):_.init.map(re=>({unit:g,fields:V,values:M4(re,!1)}))}h.filter(V=>V.name===_.name+P4).length||h.push(T)}return h}function vfe(u,c){for(let h of Ae(u.component.selection??{}))for(let g of yN)g.defined(h)&&g.marks&&(c=g.marks(u,h,c));return c}function PVe(u,c){for(let h of u.children)rl(h)&&(c=vfe(h,c));return c}function BVe(u,c,h,g){let _=Wfe(u,c.param,c);return{signal:yt(h.get("type"))&&e.isArray(g)&&g[0]>g[1]?`isValid(${_}) && reverse(${_})`:_}}function zW(u){return u.map(c=>(c.on&&!c.on.length&&delete c.on,c))}class Jo{constructor(c,h){this.debugName=h,_r(this,"_children",[]),_r(this,"_parent",null),_r(this,"_hash",void 0),c&&(this.parent=c)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(c){this._parent=c,c&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,h){if(this._children.includes(c)){Ar(d1);return}h!==void 0?this._children.splice(h,0,c):this._children.push(c)}removeChild(c){let h=this._children.indexOf(c);return this._children.splice(h,1),h}remove(){let c=this._parent.removeChild(this);for(let h of this._children)h._parent=this._parent,this._parent.addChild(h,c++)}insertAsParentOf(c){let h=c.parent;h.removeChild(this),this.parent=h,c.parent=this}swapWithParent(){let c=this._parent,h=c.parent;for(let _ of this._children)_.parent=c;this._children=[],c.removeChild(this);let g=c.parent.removeChild(c);this._parent=h,h.addChild(this,g),c.parent=this}}class Of extends Jo{clone(){let c=new this.constructor;return c.debugName=`clone_${this.debugName}`,c._source=this._source,c._name=`clone_${this._name}`,c.type=this.type,c.refCounts=this.refCounts,c.refCounts[c._name]=0,c}constructor(c,h,g,_){super(c,h);this.type=g,this.refCounts=_,_r(this,"_source",void 0),_r(this,"_name",void 0),this._source=this._name=h,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Ce()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class F1 extends Jo{clone(){return new F1(null,_e(this.formula))}constructor(c,h){super(c);this.formula=h}static makeFromEncoding(c,h){let g=h.reduceFieldDef((_,T)=>{let{field:k,timeUnit:V}=T;if(V){let re=Qr(T,{forAs:!0});_[rt({as:re,field:k,timeUnit:V})]={as:re,field:k,timeUnit:V}}return _},{});return Ve(g)?null:new F1(c,g)}static makeFromTransform(c,h){let{timeUnit:g,..._}={...h},T=yu(g),k={..._,timeUnit:T};return new F1(c,{[rt(k)]:k})}merge(c){this.formula={...this.formula};for(let h in c.formula)this.formula[h]||(this.formula[h]=c.formula[h]);for(let h of c.children)c.removeChild(h),h.parent=this;c.remove()}removeFormulas(c){let h={};for(let[g,_]of Xe(this.formula))c.has(_.as)||(h[g]=_);this.formula=h}producedFields(){return new Set(Ae(this.formula).map(c=>c.as))}dependentFields(){return new Set(Ae(this.formula).map(c=>c.field))}hash(){return`TimeUnit ${rt(this.formula)}`}assemble(){let c=[];for(let h of Ae(this.formula)){let{field:g,as:_,timeUnit:T}=h,{unit:k,utc:V,...re}=yu(T);c.push({field:nn(g),type:"timeunit",...k?{units:G0(k)}:{},...V?{timezone:"utc"}:{},...re,as:[_,`${_}_end`]})}return c}}let C9="_tuple_fields";class jVe{constructor(){_r(this,"hasChannel",void 0),_r(this,"hasField",void 0),_r(this,"hasSelectionId",void 0),_r(this,"timeUnit",void 0),_r(this,"items",void 0);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];this.items=h,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}let qVe={defined:()=>!0,parse:(u,c,h)=>{let g=c.name,_=c.project??=new jVe,T={},k={},V=new Set,re=(jn,Yn)=>{let Xn=Yn==="visual"?jn.channel:jn.field,yr=Ct(`${g}_${Xn}`);for(let ci=1;V.has(yr);ci++)yr=Ct(`${g}_${Xn}_${ci}`);return V.add(yr),{[Yn]:yr}},Ue=c.type,We=u.config.selection[Ue],kt=h.value!==void 0?e.array(h.value):null,{fields:Jt,encodings:En}=e.isObject(h.select)?h.select:{};if(!Jt&&!En&&kt){for(let jn of kt)if(!!e.isObject(jn))for(let Yn of te(jn))Dr(Yn)?(En||(En=[])).push(Yn):Ue==="interval"?(Ar(Od),En=We.encodings):(Jt||(Jt=[])).push(Yn)}!Jt&&!En&&(En=We.encodings,"fields"in We&&(Jt=We.fields));for(let jn of En??[]){let Yn=u.fieldDef(jn);if(Yn){let Xn=Yn.field;if(Yn.aggregate){Ar(Fi(jn,Yn.aggregate));continue}else if(!Xn){Ar(mr(jn));continue}if(Yn.timeUnit){Xn=u.vgField(jn);let yr={timeUnit:Yn.timeUnit,as:Xn,field:Yn.field};k[rt(yr)]=yr}if(!T[Xn]){let yr="E";if(Ue==="interval"){let gi=u.getScaleComponent(jn).get("type");yt(gi)&&(yr="R")}else Yn.bin&&(yr="R-RE");let ci={field:Xn,channel:jn,type:yr};ci.signals={...re(ci,"data"),...re(ci,"visual")},_.items.push(T[Xn]=ci),_.hasField[Xn]=_.hasChannel[jn]=T[Xn],_.hasSelectionId=_.hasSelectionId||Xn===w1}}else Ar(mr(jn))}for(let jn of Jt??[]){if(_.hasField[jn])continue;let Yn={type:"E",field:jn};Yn.signals={...re(Yn,"data")},_.items.push(Yn),_.hasField[jn]=Yn,_.hasSelectionId=_.hasSelectionId||jn===w1}kt&&(c.init=kt.map(jn=>_.items.map(Yn=>e.isObject(jn)?jn[Yn.channel]!==void 0?jn[Yn.channel]:jn[Yn.field]:jn))),Ve(k)||(_.timeUnit=new F1(null,k))},signals:(u,c,h)=>{let g=c.name+C9;return h.filter(T=>T.name===g).length>0||c.project.hasSelectionId?h:h.concat({name:g,value:c.project.items.map(T=>{let{signals:k,hasLegend:V,...re}=T;return re.field=nn(re.field),re})})}},Qg={defined:u=>u.type==="interval"&&u.resolve==="global"&&u.bind&&u.bind==="scales",parse:(u,c)=>{let h=c.scales=[];for(let g of c.project.items){let _=g.channel;if(!ys(_))continue;let T=u.getScaleComponent(_),k=T?T.get("type"):void 0;if(!T||!yt(k)){Ar(Ua);continue}T.set("selectionExtent",{param:c.name,field:g.field},!0),h.push(g)}},topLevelSignals:(u,c,h)=>{let g=c.scales.filter(k=>h.filter(V=>V.name===k.signals.data).length===0);if(!u.parent||_fe(u)||g.length===0)return h;let _=h.filter(k=>k.name===c.name)[0],T=_.update;if(T.indexOf(Ufe)>=0)_.update=`{${g.map(k=>`${e.stringValue(nn(k.field))}: ${k.signals.data}`).join(", ")}}`;else{for(let k of g){let V=`${e.stringValue(nn(k.field))}: ${k.signals.data}`;T.includes(V)||(T=`${T.substring(0,T.length-1)}, ${V}}`)}_.update=T}return h.concat(g.map(k=>({name:k.signals.data})))},signals:(u,c,h)=>{if(u.parent&&!_fe(u))for(let g of c.scales){let _=h.filter(T=>T.name===g.signals.data)[0];_.push="outer",delete _.value,delete _.update}return h}};function HW(u,c){return`domain(${e.stringValue(u.scaleName(c))})`}function _fe(u){return u.parent&&_b(u.parent)&&!u.parent.parent}let fb="_brush",VW="_scale_trigger",UVe={defined:u=>u.type==="interval",signals:(u,c,h)=>{let g=c.name,_=g+C9,T=Qg.defined(c),k=c.init?c.init[0]:null,V=[],re=[];if(c.translate&&!T){let We=`!event.item || event.item.mark.name !== ${e.stringValue(g+fb)}`;bfe(c,(kt,Jt)=>{let En=e.array(Jt.between[0].filter??=[]);return En.includes(We)||En.push(We),kt})}c.project.items.forEach((We,kt)=>{let Jt=We.channel;if(Jt!==bn&&Jt!==zn){Ar("Interval selections only support x and y encoding channels.");return}let En=k?k[kt]:null,jn=$Ve(u,c,We,En),Yn=We.signals.data,Xn=We.signals.visual,yr=e.stringValue(u.scaleName(Jt)),ci=u.getScaleComponent(Jt).get("type"),gi=yt(ci)?"+":"";h.push(...jn),V.push(Yn),re.push({scaleName:u.scaleName(Jt),expr:`(!isArray(${Yn}) || (${gi}invert(${yr}, ${Xn})[0] === ${gi}${Yn}[0] && ${gi}invert(${yr}, ${Xn})[1] === ${gi}${Yn}[1]))`})}),!T&&re.length&&h.push({name:g+VW,value:{},on:[{events:re.map(We=>({scale:We.scaleName})),update:`${re.map(We=>We.expr).join(" && ")} ? ${g+VW} : {}`}]});let Ue=`unit: ${hb(u)}, fields: ${_}, values`;return h.concat({name:g+Yg,...k?{init:`{${Ue}: ${M4(k)}}`}:{},...V.length?{on:[{events:[{signal:V.join(" || ")}],update:`${V.join(" && ")} ? {${Ue}: [${V}]} : null`}]}:{}})},marks:(u,c,h)=>{let g=c.name,{x:_,y:T}=c.project.hasChannel,k=_==null?void 0:_.signals.visual,V=T==null?void 0:T.signals.visual,re=`data(${e.stringValue(c.name+P4)})`;if(Qg.defined(c)||!_&&!T)return h;let Ue={x:_!==void 0?{signal:`${k}[0]`}:{value:0},y:T!==void 0?{signal:`${V}[0]`}:{value:0},x2:_!==void 0?{signal:`${k}[1]`}:{field:{group:"width"}},y2:T!==void 0?{signal:`${V}[1]`}:{field:{group:"height"}}};if(c.resolve==="global")for(let Yn of te(Ue))Ue[Yn]=[{test:`${re}.length && ${re}[0].unit === ${hb(u)}`,...Ue[Yn]},{value:0}];let{fill:We,fillOpacity:kt,cursor:Jt,...En}=c.mark,jn=te(En).reduce((Yn,Xn)=>(Yn[Xn]=[{test:[_!==void 0&&`${k}[0] !== ${k}[1]`,T!==void 0&&`${V}[0] !== ${V}[1]`].filter(yr=>yr).join(" && "),value:En[Xn]},{value:null}],Yn),{});return[{name:`${g+fb}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:We},fillOpacity:{value:kt}},update:Ue}},...h,{name:g+fb,type:"rect",clip:!0,encode:{enter:{...Jt?{cursor:{value:Jt}}:{},fill:{value:"transparent"}},update:{...Ue,...jn}}}]}};function $Ve(u,c,h,g){let _=h.channel,T=h.signals.visual,k=h.signals.data,V=Qg.defined(c),re=e.stringValue(u.scaleName(_)),Ue=u.getScaleComponent(_),We=Ue?Ue.get("type"):void 0,kt=Yn=>`scale(${re}, ${Yn})`,Jt=u.getSizeSignalRef(_===bn?"width":"height").signal,En=`${_}(unit)`,jn=bfe(c,(Yn,Xn)=>[...Yn,{events:Xn.between[0],update:`[${En}, ${En}]`},{events:Xn,update:`[${T}[0], clamp(${En}, 0, ${Jt})]`}]);return jn.push({events:{signal:c.name+VW},update:yt(We)?`[${kt(`${k}[0]`)}, ${kt(`${k}[1]`)}]`:"[0, 0]"}),V?[{name:k,on:[]}]:[{name:T,...g?{init:M4(g,!0,kt)}:{value:[]},on:jn},{name:k,...g?{init:M4(g)}:{},on:[{events:{signal:T},update:`${T}[0] === ${T}[1] ? null : invert(${re}, ${T})`}]}]}function bfe(u,c){return u.events.reduce((h,g)=>g.between?c(h,g):(Ar(`${g} is not an ordered event stream for interval selections.`),h),[])}let zVe={defined:u=>u.type==="point",signals:(u,c,h)=>{let g=c.name,_=g+C9,T=c.project,k="(item().isVoronoi ? datum.datum : datum)",V=Ae(u.component.selection??{}).reduce((kt,Jt)=>Jt.type==="interval"?kt.concat(Jt.name+fb):kt,[]).map(kt=>`indexof(item().mark.name, '${kt}') < 0`).join(" && "),re=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${V?` && ${V}`:""}`,Ue=`unit: ${hb(u)}, `;if(c.project.hasSelectionId)Ue+=`${w1}: ${k}[${e.stringValue(w1)}]`;else{let kt=T.items.map(Jt=>{let En=u.fieldDef(Jt.channel);return En!=null&&En.bin?`[${k}[${e.stringValue(u.vgField(Jt.channel,{}))}], ${k}[${e.stringValue(u.vgField(Jt.channel,{binSuffix:"end"}))}]]`:`${k}[${e.stringValue(Jt.field)}]`}).join(", ");Ue+=`fields: ${_}, values: [${kt}]`}let We=c.events;return h.concat([{name:g+Yg,on:We?[{events:We,update:`${re} ? {${Ue}} : null`,force:!0}]:[]}])}};function db(u,c,h,g){let _=Ps(c)&&c.condition,T=g(c);if(_){let V=e.array(_).map(re=>{let Ue=g(re);if(nb(re)){let{param:We,empty:kt}=re;return{test:Vfe(u,{param:We,empty:kt}),...Ue}}else return{test:vN(u,re.test),...Ue}});return{[h]:[...V,...T!==void 0?[T]:[]]}}else return T!==void 0?{[h]:T}:{}}function WW(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text",h=u.encoding[c];return db(u,h,c,g=>pN(g,u.config))}function pN(u,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"datum";if(u){if(dp(u))return Tr(u.value);if(ms(u)){let{format:g,formatType:_}=tN(u);return Ui({fieldOrDatumDef:u,format:g,formatType:_,expr:h,config:c})}}}function Efe(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{encoding:h,markDef:g,config:_,stack:T}=u,k=h.tooltip;if(e.isArray(k))return{tooltip:Cfe({tooltip:k},T,_,c)};{let V=c.reactiveGeom?"datum.datum":"datum";return db(u,k,"tooltip",re=>{let Ue=pN(re,_,V);if(Ue)return Ue;if(re===null)return;let We=ti("tooltip",g,_);if(We===!0&&(We={content:"encoding"}),e.isString(We))return{value:We};if(e.isObject(We))return Nn(We)?We:We.content==="encoding"?Cfe(h,T,_,c):{signal:V}})}}function Sfe(u,c,h){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_={},T=g?"datum.datum":"datum",k=[];function V(Ue,We){let kt=Wr(We),Jt=Ud(Ue)?Ue:{...Ue,type:u[kt].type},En=Jt.title||yW(Jt,h),jn=e.array(En).join(", "),Yn;if(Js(We)){let Xn=We==="x"?"x2":"y2",yr=C1(u[Xn]);if(Bi(Jt.bin)&&yr){let ci=Qr(Jt,{expr:T}),gi=Qr(yr,{expr:T}),{format:Xi,formatType:pi}=tN(Jt);Yn=pa(ci,gi,Xi,pi,h),_[Xn]=!0}}if((Js(We)||We===rn||We===Ze)&&c&&c.fieldChannel===We&&c.offset==="normalize"){let{format:Xn,formatType:yr}=tN(Jt);Yn=Ui({fieldOrDatumDef:Jt,format:Xn,formatType:yr,expr:T,config:h,normalizeStack:!0}).signal}Yn??=pN(Jt,h,T).signal,k.push({channel:We,key:jn,value:Yn})}EW(u,(Ue,We)=>{cr(Ue)?V(Ue,We):eo(Ue)&&V(Ue.condition,We)});let re={};for(let{channel:Ue,key:We,value:kt}of k)!_[Ue]&&!re[We]&&(re[We]=kt);return re}function Cfe(u,c,h){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_=Sfe(u,c,h,{reactiveGeom:g}),T=Xe(_).map(k=>{let[V,re]=k;return`"${V}": ${re}`});return T.length>0?{signal:`{${T.join(", ")}}`}:void 0}function HVe(u){let{markDef:c,config:h}=u,g=ti("aria",c,h);return g===!1?{}:{...g?{aria:g}:{},...VVe(u),...WVe(u)}}function VVe(u){let{mark:c,markDef:h,config:g}=u;if(g.aria===!1)return{};let _=ti("ariaRoleDescription",h,g);return _!=null?{ariaRoleDescription:{value:_}}:c in hr?{}:{ariaRoleDescription:{value:c}}}function WVe(u){let{encoding:c,markDef:h,config:g,stack:_}=u,T=c.description;if(T)return db(u,T,"description",re=>pN(re,u.config));let k=ti("description",h,g);if(k!=null)return{description:Tr(k)};if(g.aria===!1)return{};let V=Sfe(c,_,g);if(!Ve(V))return{description:{signal:Xe(V).map((re,Ue)=>{let[We,kt]=re;return`"${Ue>0?"; ":""}${We}: " + (${kt})`}).join(" + ")}}}function Xl(u,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{markDef:g,encoding:_,config:T}=c,{vgChannel:k}=h,{defaultRef:V,defaultValue:re}=h;V===void 0&&(re??=ti(u,g,T,{vgChannel:k,ignoreVgConfig:!0}),re!==void 0&&(V=Tr(re)));let Ue=_[u];return db(c,Ue,k??u,We=>Ir({channel:u,channelDef:We,markDef:g,config:T,scaleName:c.scaleName(u),scale:c.getScaleComponent(u),stack:null,defaultRef:V}))}function wfe(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{filled:void 0},{markDef:h,encoding:g,config:_}=u,{type:T}=h,k=c.filled??ti("filled",h,_),V=_t(["bar","point","circle","square","geoshape"],T)?"transparent":void 0,re=ti(k===!0?"color":void 0,h,_,{vgChannel:"fill"})??_.mark[k===!0&&"color"]??V,Ue=ti(k===!1?"color":void 0,h,_,{vgChannel:"stroke"})??_.mark[k===!1&&"color"],We=k?"fill":"stroke",kt={...re?{fill:Tr(re)}:{},...Ue?{stroke:Tr(Ue)}:{}};return h.color&&(k?h.fill:h.stroke)&&Ar(s0("property",{fill:"fill"in h,stroke:"stroke"in h})),{...kt,...Xl("color",u,{vgChannel:We,defaultValue:k?re:Ue}),...Xl("fill",u,{defaultValue:g.fill?re:void 0}),...Xl("stroke",u,{defaultValue:g.stroke?Ue:void 0})}}function QVe(u){let{encoding:c,mark:h}=u,g=c.order;return!h0(h)&&dp(g)?db(u,g,"zindex",_=>Tr(_.value)):{}}function w9(u){let{channel:c,markDef:h,encoding:g={},model:_,bandPosition:T}=u,k=`${c}Offset`,V=h[k],re=g[k];if((k==="xOffset"||k==="yOffset")&&re){let We=Ir({channel:k,channelDef:re,markDef:h,config:_==null?void 0:_.config,scaleName:_.scaleName(k),scale:_.getScaleComponent(k),stack:null,defaultRef:Tr(V),bandPosition:T});return{offsetType:"encoding",offset:We}}let Ue=h[k];return Ue?{offsetType:"visual",offset:Ue}:{}}function Zc(u,c,h){let{defaultPos:g,vgChannel:_}=h,{encoding:T,markDef:k,config:V,stack:re}=c,Ue=T[u],We=T[Ki(u)],kt=c.scaleName(u),Jt=c.getScaleComponent(u),{offset:En,offsetType:jn}=w9({channel:u,markDef:k,encoding:T,model:c,bandPosition:.5}),Yn=QW({model:c,defaultPos:g,channel:u,scaleName:kt,scale:Jt}),Xn=!Ue&&Js(u)&&(T.latitude||T.longitude)?{field:c.getName(u)}:GVe({channel:u,channelDef:Ue,channel2Def:We,markDef:k,config:V,scaleName:kt,scale:Jt,stack:re,offset:En,defaultRef:Yn,bandPosition:jn==="encoding"?0:void 0});return Xn?{[_||u]:Xn}:void 0}function GVe(u){let{channel:c,channelDef:h,scaleName:g,stack:_,offset:T,markDef:k}=u;if(ms(h)&&_&&c===_.fieldChannel){if(cr(h)){let V=h.bandPosition;if(V===void 0&&k.type==="text"&&(c==="radius"||c==="theta")&&(V=.5),V!==void 0)return dr({scaleName:g,fieldOrDatumDef:h,startSuffix:"start",bandPosition:V,offset:T})}return Wn(h,g,{suffix:"end"},{offset:T})}return Pt(u)}function QW(u){let{model:c,defaultPos:h,channel:g,scaleName:_,scale:T}=u,{markDef:k,config:V}=c;return()=>{let re=Wr(g),Ue=Ti(g),We=ti(g,k,V,{vgChannel:Ue});if(We!==void 0)return Er(g,We);switch(h){case"zeroOrMin":case"zeroOrMax":if(_){let kt=T.get("type");if(!_t([ku.LOG,ku.TIME,ku.UTC],kt)){if(T.domainDefinitelyIncludesZero())return{scale:_,value:0}}}if(h==="zeroOrMin")return re==="y"?{field:{group:"height"}}:{value:0};switch(re){case"radius":return{signal:`min(${c.width.signal},${c.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...c[Ni(g)],mult:.5}}}}let YVe={left:"x",center:"xc",right:"x2"},KVe={top:"y",middle:"yc",bottom:"y2"};function Afe(u,c,h){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";if(u==="radius"||u==="theta")return Ti(u);let _=u==="x"?"align":"baseline",T=ti(_,c,h),k;return Nn(T)?(Ar(Ms(_)),k=void 0):k=T,u==="x"?YVe[k||(g==="top"?"left":"center")]:KVe[k||g]}function mN(u,c,h){let{defaultPos:g,defaultPos2:_,range:T}=h;return T?Tfe(u,c,{defaultPos:g,defaultPos2:_}):Zc(u,c,{defaultPos:g})}function Tfe(u,c,h){let{defaultPos:g,defaultPos2:_}=h,{markDef:T,config:k}=c,V=Ki(u),re=Ni(u),Ue=JVe(c,_,V),We=Ue[re]?Afe(u,T,k):Ti(u);return{...Zc(u,c,{defaultPos:g,vgChannel:We}),...Ue}}function JVe(u,c,h){let{encoding:g,mark:_,markDef:T,stack:k,config:V}=u,re=Wr(h),Ue=Ni(h),We=Ti(h),kt=g[re],Jt=u.scaleName(re),En=u.getScaleComponent(re),{offset:jn}=h in g||h in T?w9({channel:h,markDef:T,encoding:g,model:u}):w9({channel:re,markDef:T,encoding:g,model:u});if(!kt&&(h==="x2"||h==="y2")&&(g.latitude||g.longitude)){let Xn=Ni(h),yr=u.markDef[Xn];return yr!=null?{[Xn]:{value:yr}}:{[We]:{field:u.getName(h)}}}let Yn=XVe({channel:h,channelDef:kt,channel2Def:g[h],markDef:T,config:V,scaleName:Jt,scale:En,stack:k,offset:jn,defaultRef:void 0});return Yn!==void 0?{[We]:Yn}:xN(h,T)||xN(h,{[h]:Li(h,T,V.style),[Ue]:Li(Ue,T,V.style)})||xN(h,V[_])||xN(h,V.mark)||{[We]:QW({model:u,defaultPos:c,channel:h,scaleName:Jt,scale:En})()}}function XVe(u){let{channel:c,channelDef:h,channel2Def:g,markDef:_,config:T,scaleName:k,scale:V,stack:re,offset:Ue,defaultRef:We}=u;return ms(h)&&re&&c.charAt(0)===re.fieldChannel.charAt(0)?Wn(h,k,{suffix:"start"},{offset:Ue}):Pt({channel:c,channelDef:g,scaleName:k,scale:V,stack:re,markDef:_,config:T,offset:Ue,defaultRef:We})}function xN(u,c){let h=Ni(u),g=Ti(u);if(c[g]!==void 0)return{[g]:Er(u,c[g])};if(c[u]!==void 0)return{[g]:Er(u,c[u])};if(c[h]){let _=c[h];if(x(_))Ar(Wc(h));else return{[h]:Er(u,_)}}}function Gg(u,c){let{config:h,encoding:g,markDef:_}=u,T=_.type,k=Ki(c),V=Ni(c),re=g[c],Ue=g[k],We=u.getScaleComponent(c),kt=We?We.get("type"):void 0,Jt=_.orient,En=g[V]??g.size??ti("size",_,h,{vgChannel:V}),jn=T==="bar"&&(c==="x"?Jt==="vertical":Jt==="horizontal");return cr(re)&&(tr(re.bin)||Bi(re.bin)||re.timeUnit&&!Ue)&&!(En&&!x(En))&&!Le(kt)?tWe({fieldDef:re,fieldDef2:Ue,channel:c,model:u}):(ms(re)&&Le(kt)||jn)&&!Ue?eWe(re,c,u):Tfe(c,u,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function ZVe(u,c,h,g,_){if(x(_))if(h){let k=h.get("type");if(k==="band"){let V=`bandwidth('${c}')`;return _.band!==1&&(V=`${_.band} * ${V}`),{signal:`max(0.25, ${V})`}}else _.band!==1&&(Ar(ke(k)),_=void 0)}else return{mult:_.band,field:{group:u}};else{if(Nn(_))return _;if(_)return{value:_}}if(h){let k=h.get("range");if(or(k)&&e.isNumber(k.step))return{value:k.step-2}}return{value:cN(g.view,u)-2}}function eWe(u,c,h){let{markDef:g,encoding:_,config:T,stack:k}=h,V=g.orient,re=h.scaleName(c),Ue=h.getScaleComponent(c),We=Ni(c),kt=Ki(c),Jt=ta(c),En=h.scaleName(Jt),jn=V==="horizontal"&&c==="y"||V==="vertical"&&c==="x",Yn;(_.size||g.size)&&(jn?Yn=Xl("size",h,{vgChannel:We,defaultRef:Tr(g.size)}):Ar(Sn(g.type)));let Xn=!!Yn,yr=ZO({channel:c,fieldDef:u,markDef:g,config:T,scaleType:Ue==null?void 0:Ue.get("type"),useVlSizeChannel:jn});Yn=Yn||{[We]:ZVe(We,En||re,Ue,T,yr)};let ci=(Ue==null?void 0:Ue.get("type"))==="band"&&x(yr)&&!Xn?"top":"middle",gi=Afe(c,g,T,ci),Xi=gi==="xc"||gi==="yc",{offset:pi,offsetType:So}=w9({channel:c,markDef:g,encoding:_,model:h,bandPosition:Xi?.5:0}),Ri=Pt({channel:c,channelDef:u,markDef:g,config:T,scaleName:re,scale:Ue,stack:k,offset:pi,defaultRef:QW({model:h,defaultPos:"mid",channel:c,scaleName:re,scale:Ue}),bandPosition:Xi?So==="encoding"?0:.5:Nn(yr)?{signal:`(1-${yr})/2`}:x(yr)?(1-yr.band)/2:0});if(We)return{[gi]:Ri,...Yn};{let uu=Ti(kt),vu=Yn[We],il=pi?{...vu,offset:pi}:vu;return{[gi]:Ri,[uu]:e.isArray(Ri)?[Ri[0],{...Ri[1],offset:il}]:{...Ri,offset:il}}}}function A9(u,c,h,g,_){if(oe(u))return 0;let T=u==="x"||u==="y2"?-c/2:c/2;if(Nn(h)||Nn(_)||Nn(g)){let k=oi(h),V=oi(_),re=oi(g),Ue=re?`${re} + `:"",We=k?`(${k} ? -1 : 1) * `:"",kt=V?`(${V} + ${T})`:T;return{signal:Ue+We+kt}}else return _=_||0,g+(h?-_-T:+_+T)}function tWe(u){var c;let{fieldDef:h,fieldDef2:g,channel:_,model:T}=u,{config:k,markDef:V,encoding:re}=T,Ue=T.getScaleComponent(_),We=T.scaleName(_),kt=Ue?Ue.get("type"):void 0,Jt=Ue.get("reverse"),En=ZO({channel:_,fieldDef:h,markDef:V,config:k,scaleType:kt}),jn=(c=T.component.axes[_])===null||c===void 0?void 0:c[0],Yn=(jn==null?void 0:jn.get("translate"))??.5,Xn=Js(_)?ti("binSpacing",V,k)??0:0,yr=Ki(_),ci=Ti(_),gi=Ti(yr),{offset:Xi}=w9({channel:_,markDef:V,encoding:re,model:T,bandPosition:0}),pi=Nn(En)?{signal:`(1-${En.signal})/2`}:x(En)?(1-En.band)/2:.5;if(tr(h.bin)||h.timeUnit)return{[gi]:Ffe({fieldDef:h,scaleName:We,bandPosition:pi,offset:A9(yr,Xn,Jt,Yn,Xi)}),[ci]:Ffe({fieldDef:h,scaleName:We,bandPosition:Nn(pi)?{signal:`1-${pi.signal}`}:1-pi,offset:A9(_,Xn,Jt,Yn,Xi)})};if(Bi(h.bin)){let So=Wn(h,We,{},{offset:A9(yr,Xn,Jt,Yn,Xi)});if(cr(g))return{[gi]:So,[ci]:Wn(g,We,{},{offset:A9(_,Xn,Jt,Yn,Xi)})};if(Ne(h.bin)&&h.bin.step)return{[gi]:So,[ci]:{signal:`scale("${We}", ${Qr(h,{expr:"datum"})} + ${h.bin.step})`,offset:A9(_,Xn,Jt,Yn,Xi)}}}Ar(Wl(yr))}function Ffe(u){let{fieldDef:c,scaleName:h,bandPosition:g,offset:_}=u;return dr({scaleName:h,fieldOrDatumDef:c,bandPosition:g,offset:_})}let nWe=new Set(["aria","width","height"]);function $d(u,c){let{fill:h=void 0,stroke:g=void 0}=c.color==="include"?wfe(u):{};return{...rWe(u.markDef,c),...Dfe(u,"fill",h),...Dfe(u,"stroke",g),...Xl("opacity",u),...Xl("fillOpacity",u),...Xl("strokeOpacity",u),...Xl("strokeWidth",u),...Xl("strokeDash",u),...QVe(u),...Efe(u),...WW(u,"href"),...HVe(u)}}function Dfe(u,c,h){let{config:g,mark:_,markDef:T}=u;if(ti("invalid",T,g)==="hide"&&h&&!h0(_)){let V=iWe(u,{invalid:!0,channels:ns});if(V)return{[c]:[{test:V,value:null},...e.array(h)]}}return h?{[c]:h}:{}}function rWe(u,c){return nr.reduce((h,g)=>(!nWe.has(g)&&u[g]!==void 0&&c[g]!=="ignore"&&(h[g]=Tr(u[g])),h),{})}function iWe(u,c){let{invalid:h=!1,channels:g}=c,_=g.reduce((k,V)=>{let re=u.getScaleComponent(V);if(re){let Ue=re.get("type"),We=u.vgField(V,{expr:"datum"});We&&yt(Ue)&&(k[We]=!0)}return k},{}),T=te(_);if(T.length>0){let k=h?"||":"&&";return T.map(V=>Fn(V,h)).join(` ${k} `)}}function GW(u){let{config:c,markDef:h}=u;if(ti("invalid",h,c)){let _=sWe(u,{channels:Ls});if(_)return{defined:{signal:_}}}return{}}function sWe(u,c){let{invalid:h=!1,channels:g}=c,_=g.reduce((k,V)=>{let re=u.getScaleComponent(V);if(re){var Ue;let We=re.get("type"),kt=u.vgField(V,{expr:"datum",binSuffix:(Ue=u.stack)!==null&&Ue!==void 0&&Ue.impute?"mid":void 0});kt&&yt(We)&&(k[kt]=!0)}return k},{}),T=te(_);if(T.length>0){let k=h?"||":"&&";return T.map(V=>Fn(V,h)).join(` ${k} `)}}function Ofe(u,c){if(c!==void 0)return{[u]:Tr(c)}}let YW="voronoi",Nfe={defined:u=>u.type==="point"&&u.nearest,parse:(u,c)=>{if(c.events)for(let h of c.events)h.markname=u.getName(YW)},marks:(u,c,h)=>{let{x:g,y:_}=c.project.hasChannel,T=u.mark;if(h0(T))return Ar(Ji(T)),h;let k={name:u.getName(YW),type:"path",interactive:!0,from:{data:u.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Efe(u,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:g||!_?"datum.datum.x || 0":"0"},y:{expr:_||!g?"datum.datum.y || 0":"0"},size:[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]}]},V=0,re=!1;return h.forEach((Ue,We)=>{let kt=Ue.name??"";kt===u.component.mark[0].name?V=We:kt.indexOf(YW)>=0&&(re=!0)}),re||h.splice(V+1,0,k),h}},Rfe={defined:u=>u.type==="point"&&u.resolve==="global"&&u.bind&&u.bind!=="scales"&&!DW(u.bind),parse:(u,c,h)=>$fe(c,h),topLevelSignals:(u,c,h)=>{let g=c.name,_=c.project,T=c.bind,k=c.init&&c.init[0],V=Nfe.defined(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";return _.items.forEach((re,Ue)=>{let We=Ct(`${g}_${re.field}`);h.filter(Jt=>Jt.name===We).length||h.unshift({name:We,...k?{init:M4(k[Ue])}:{value:null},on:c.events?[{events:c.events,update:`datum && item().mark.marktype !== 'group' ? ${V}[${e.stringValue(re.field)}] : null`}]:[],bind:T[re.field]??T[re.channel]??T})}),h},signals:(u,c,h)=>{let g=c.name,_=c.project,T=h.filter(Ue=>Ue.name===g+Yg)[0],k=g+C9,V=_.items.map(Ue=>Ct(`${g}_${Ue.field}`)),re=V.map(Ue=>`${Ue} !== null`).join(" && ");return V.length&&(T.update=`${re} ? {fields: ${k}, values: [${V.join(", ")}]} : null`),delete T.value,delete T.on,h}},gN="_toggle",Lfe={defined:u=>u.type==="point"&&!!u.toggle,signals:(u,c,h)=>h.concat({name:c.name+gN,value:!1,on:[{events:c.events,update:c.toggle}]}),modifyExpr:(u,c)=>{let h=c.name+Yg,g=c.name+gN;return`${g} ? null : ${h}, `+(c.resolve==="global"?`${g} ? null : true, `:`${g} ? null : {unit: ${hb(u)}}, `)+`${g} ? ${h} : null`}},oWe={defined:u=>u.clear!==void 0&&u.clear!==!1,parse:(u,c)=>{c.clear&&(c.clear=e.isString(c.clear)?e.parseSelector(c.clear,"view"):c.clear)},topLevelSignals:(u,c,h)=>{if(Rfe.defined(c))for(let g of c.project.items){let _=h.findIndex(T=>T.name===Ct(`${c.name}_${g.field}`));_!==-1&&h[_].on.push({events:c.clear,update:"null"})}return h},signals:(u,c,h)=>{function g(_,T){_!==-1&&h[_].on&&h[_].on.push({events:c.clear,update:T})}if(c.type==="interval")for(let _ of c.project.items){let T=h.findIndex(k=>k.name===_.signals.visual);if(g(T,"[0, 0]"),T===-1){let k=h.findIndex(V=>V.name===_.signals.data);g(k,"null")}}else{let _=h.findIndex(T=>T.name===c.name+Yg);g(_,"null"),Lfe.defined(c)&&(_=h.findIndex(T=>T.name===c.name+gN),g(_,"false"))}return h}},kfe={defined:u=>{let c=u.resolve==="global"&&u.bind&&DW(u.bind),h=u.project.items.length===1&&u.project.items[0].field!==w1;return c&&!h&&Ar(zl),c&&h},parse:(u,c,h)=>{let g=_e(h);if(g.select=e.isString(g.select)?{type:g.select,toggle:c.toggle}:{...g.select,toggle:c.toggle},$fe(c,g),e.isObject(h.select)&&(h.select.on||h.select.clear)){let k='event.item && indexof(event.item.mark.role, "legend") < 0';for(let V of c.events)V.filter=e.array(V.filter??[]),V.filter.includes(k)||V.filter.push(k)}let _=OW(c.bind)?c.bind.legend:"click",T=e.isString(_)?e.parseSelector(_,"view"):e.array(_);c.bind={legend:{merge:T}}},topLevelSignals:(u,c,h)=>{let g=c.name,_=OW(c.bind)&&c.bind.legend,T=k=>V=>{let re=_e(V);return re.markname=k,re};for(let k of c.project.items){if(!k.hasLegend)continue;let V=`${Ct(k.field)}_legend`,re=`${g}_${V}`;if(h.filter(We=>We.name===re).length===0){let We=_.merge.map(T(`${V}_symbols`)).concat(_.merge.map(T(`${V}_labels`))).concat(_.merge.map(T(`${V}_entries`)));h.unshift({name:re,...c.init?{}:{value:null},on:[{events:We,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:_.merge,update:`!event.item || !datum ? null : ${re}`,force:!0}]})}}return h},signals:(u,c,h)=>{let g=c.name,_=c.project,T=h.find(Jt=>Jt.name===g+Yg),k=g+C9,V=_.items.filter(Jt=>Jt.hasLegend).map(Jt=>Ct(`${g}_${Ct(Jt.field)}_legend`)),Ue=`${V.map(Jt=>`${Jt} !== null`).join(" && ")} ? {fields: ${k}, values: [${V.join(", ")}]} : null`;c.events&&V.length>0?T.on.push({events:V.map(Jt=>({signal:Jt})),update:Ue}):V.length>0&&(T.update=Ue,delete T.value,delete T.on);let We=h.find(Jt=>Jt.name===g+gN),kt=OW(c.bind)&&c.bind.legend;return We&&(c.events?We.on.push({...We.on[0],events:kt}):We.on[0].events=kt),h}};function aWe(u,c,h){var g;let _=(g=u.fieldDef(c))===null||g===void 0?void 0:g.field;for(let T of Ae(u.component.selection??{})){let k=T.project.hasField[_]??T.project.hasChannel[c];if(k&&kfe.defined(T)){let V=h.get("selections")??[];V.push(T.name),h.set("selections",V,!1),k.hasLegend=!0}}}let Ife="_translate_anchor",Mfe="_translate_delta",uWe={defined:u=>u.type==="interval"&&u.translate,signals:(u,c,h)=>{let g=c.name,_=Qg.defined(c),T=g+Ife,{x:k,y:V}=c.project.hasChannel,re=e.parseSelector(c.translate,"scope");return _||(re=re.map(Ue=>(Ue.between[0].markname=g+fb,Ue))),h.push({name:T,value:{},on:[{events:re.map(Ue=>Ue.between[0]),update:"{x: x(unit), y: y(unit)"+(k!==void 0?`, extent_x: ${_?HW(u,bn):`slice(${k.signals.visual})`}`:"")+(V!==void 0?`, extent_y: ${_?HW(u,zn):`slice(${V.signals.visual})`}`:"")+"}"}]},{name:g+Mfe,value:{},on:[{events:re,update:`{x: ${T}.x - x(unit), y: ${T}.y - y(unit)}`}]}),k!==void 0&&Pfe(u,c,k,"width",h),V!==void 0&&Pfe(u,c,V,"height",h),h}};function Pfe(u,c,h,g,_){let T=c.name,k=T+Ife,V=T+Mfe,re=h.channel,Ue=Qg.defined(c),We=_.filter(pi=>pi.name===h.signals[Ue?"data":"visual"])[0],kt=u.getSizeSignalRef(g).signal,Jt=u.getScaleComponent(re),En=Jt.get("type"),jn=Jt.get("reverse"),Yn=Ue?re===bn?jn?"":"-":jn?"-":"":"",Xn=`${k}.extent_${re}`,yr=`${Yn}${V}.${re} / ${Ue?`${kt}`:`span(${Xn})`}`,ci=Ue?En==="log"?"panLog":En==="symlog"?"panSymlog":En==="pow"?"panPow":"panLinear":"panLinear",gi=Ue?En==="pow"?`, ${Jt.get("exponent")??1}`:En==="symlog"?`, ${Jt.get("constant")??1}`:"":"",Xi=`${ci}(${Xn}, ${yr}${gi})`;We.on.push({events:{signal:V},update:Ue?Xi:`clampRange(${Xi}, 0, ${kt})`})}let Bfe="_zoom_anchor",jfe="_zoom_delta",lWe={defined:u=>u.type==="interval"&&u.zoom,signals:(u,c,h)=>{let g=c.name,_=Qg.defined(c),T=g+jfe,{x:k,y:V}=c.project.hasChannel,re=e.stringValue(u.scaleName(bn)),Ue=e.stringValue(u.scaleName(zn)),We=e.parseSelector(c.zoom,"scope");return _||(We=We.map(kt=>(kt.markname=g+fb,kt))),h.push({name:g+Bfe,on:[{events:We,update:_?"{"+[re?`x: invert(${re}, x(unit))`:"",Ue?`y: invert(${Ue}, y(unit))`:""].filter(kt=>!!kt).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:T,on:[{events:We,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),k!==void 0&&qfe(u,c,k,"width",h),V!==void 0&&qfe(u,c,V,"height",h),h}};function qfe(u,c,h,g,_){let T=c.name,k=h.channel,V=Qg.defined(c),re=_.filter(ci=>ci.name===h.signals[V?"data":"visual"])[0],Ue=u.getSizeSignalRef(g).signal,We=u.getScaleComponent(k),kt=We.get("type"),Jt=V?HW(u,k):re.name,En=T+jfe,jn=`${T}${Bfe}.${k}`,Yn=V?kt==="log"?"zoomLog":kt==="symlog"?"zoomSymlog":kt==="pow"?"zoomPow":"zoomLinear":"zoomLinear",Xn=V?kt==="pow"?`, ${We.get("exponent")??1}`:kt==="symlog"?`, ${We.get("constant")??1}`:"":"",yr=`${Yn}(${Jt}, ${jn}, ${En}${Xn})`;re.on.push({events:{signal:En},update:V?yr:`clampRange(${yr}, 0, ${Ue})`})}let P4="_store",Yg="_tuple",cWe="_modify",Ufe="vlSelectionResolve",yN=[zVe,UVe,qVe,Lfe,Rfe,Qg,kfe,oWe,uWe,lWe,Nfe];function fWe(u){let c=u.parent;for(;c&&!mp(c);)c=c.parent;return c}function hb(u){let{escape:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{escape:!0},h=c?e.stringValue(u.name):u.name,g=fWe(u);if(g){let{facet:_}=g;for(let T of X)_[T]&&(h+=` + '__facet_${T}_' + (facet[${e.stringValue(g.vgField(T))}])`)}return h}function KW(u){return Ae(u.component.selection??{}).reduce((c,h)=>c||h.project.hasSelectionId,!1)}function $fe(u,c){(e.isString(c.select)||!c.select.on)&&delete u.events,(e.isString(c.select)||!c.select.clear)&&delete u.clear,(e.isString(c.select)||!c.select.toggle)&&delete u.toggle}function JW(u){let c=[];return u.type==="Identifier"?[u.name]:u.type==="Literal"?[u.value]:(u.type==="MemberExpression"&&(c.push(...JW(u.object)),c.push(...JW(u.property))),c)}function zfe(u){return u.object.type==="MemberExpression"?zfe(u.object):u.object.name==="datum"}function Hfe(u){let c=e.parseExpression(u),h=new Set;return c.visit(g=>{g.type==="MemberExpression"&&zfe(g)&&h.add(JW(g).slice(1).join("."))}),h}class pb extends Jo{clone(){return new pb(null,this.model,_e(this.filter))}constructor(c,h,g){super(c);this.model=h,this.filter=g,_r(this,"expr",void 0),_r(this,"_dependentFields",void 0),this.expr=vN(this.model,this.filter,this),this._dependentFields=Hfe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function dWe(u,c){let h={},g=u.config.selection;if(!c||!c.length)return h;for(let _ of c){let T=Ct(_.name),k=_.select,V=e.isString(k)?k:k.type,re=e.isObject(k)?_e(k):{type:V},Ue=g[V];for(let kt in Ue)kt==="fields"||kt==="encodings"||(kt==="mark"&&(re[kt]={...Ue[kt],...re[kt]}),(re[kt]===void 0||re[kt]===!0)&&(re[kt]=Ue[kt]??re[kt]));let We=h[T]={...re,name:T,type:V,init:_.value,bind:_.bind,events:e.isString(re.on)?e.parseSelector(re.on,"scope"):e.array(_e(re.on))};for(let kt of yN)kt.defined(We)&&kt.parse&&kt.parse(u,We,_)}return h}function Vfe(u,c,h){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"datum",_=e.isString(c)?c:c.param,T=Ct(_),k=e.stringValue(T+P4),V;try{V=u.getSelectionComponent(T,_)}catch{return`!!${T}`}if(V.project.timeUnit){let Jt=h??u.component.data.raw,En=V.project.timeUnit.clone();Jt.parent?En.insertAsParentOf(Jt):Jt.parent=En}let re=V.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",Ue=V.resolve==="global"?")":`, ${e.stringValue(V.resolve)})`,We=`${re}${k}, ${g}${Ue}`,kt=`length(data(${k}))`;return c.empty===!1?`${kt} && ${We}`:`!${kt} || ${We}`}function Wfe(u,c,h){let g=Ct(c),_=h.encoding,T=h.field,k;try{k=u.getSelectionComponent(g,c)}catch{return g}if(!_&&!T)T=k.project.items[0].field,k.project.items.length>1&&Ar(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${e.stringValue(T)}.`);else if(_&&!T){let V=k.project.items.filter(re=>re.channel===_);!V.length||V.length>1?(T=k.project.items[0].field,Ar((V.length?"Multiple ":"No ")+`matching ${e.stringValue(_)} encoding found for selection ${e.stringValue(h.param)}. Using "field": ${e.stringValue(T)}.`)):T=V[0].field}return`${k.name}[${e.stringValue(nn(T))}]`}function hWe(u,c){for(let[h,g]of Xe(u.component.selection??{})){let _=u.getName(`lookup_${h}`);u.component.data.outputNodes[_]=g.materialized=new Of(new pb(c,u,{param:h}),_,ma.Lookup,u.component.data.outputNodeRefCounts)}}function vN(u,c,h){return $t(c,g=>e.isString(g)?g:vc(g)?Vfe(u,g,h):Tl(g))}function pWe(u,c){if(!!u)return e.isArray(u)&&!Bn(u)?u.map(h=>yW(h,c)).join(", "):u}function XW(u,c,h,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[h]=g}function T9(u,c,h){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{header:!1},{disable:_,orient:T,scale:k,labelExpr:V,title:re,zindex:Ue,...We}=u.combine();if(!_){for(let En in We){let jn=iHe[En],Yn=We[En];if(jn&&jn!==c&&jn!=="both")delete We[En];else if(E9(Yn)){let{condition:Xn,...yr}=Yn,ci=e.array(Xn),gi=vce[En];if(gi){let{vgProp:Xi,part:pi}=gi,So=[...ci.map(Ri=>{let{test:uu,...vu}=Ri;return{test:vN(null,uu),...vu}}),yr];XW(We,pi,Xi,So),delete We[En]}else if(gi===null){let Xi={signal:ci.map(pi=>{let{test:So,...Ri}=pi;return`${vN(null,So)} ? ${ei(Ri)} : `}).join("")+ei(yr)};We[En]=Xi}}else if(Nn(Yn)){let Xn=vce[En];if(Xn){let{vgProp:yr,part:ci}=Xn;XW(We,ci,yr,Yn),delete We[En]}}_t(["labelAlign","labelBaseline"],En)&&We[En]===null&&delete We[En]}if(c==="grid"){if(!We.grid)return;if(We.encode){let{grid:En}=We.encode;We.encode={...En?{grid:En}:{}},Ve(We.encode)&&delete We.encode}return{scale:k,orient:T,...We,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Fe(Ue,0)}}else{if(!g.header&&u.mainExtracted)return;if(V!==void 0){var kt,Jt;let jn=V;(kt=We.encode)!==null&&kt!==void 0&&(Jt=kt.labels)!==null&&Jt!==void 0&&Jt.update&&Nn(We.encode.labels.update.text)&&(jn=An(V,"datum.label",We.encode.labels.update.text.signal)),XW(We,"labels","text",{signal:jn})}if(We.labelAlign===null&&delete We.labelAlign,We.encode){for(let jn of _ce)u.hasAxisPart(jn)||delete We.encode[jn];Ve(We.encode)&&delete We.encode}let En=pWe(re,h);return{scale:k,orient:T,grid:!1,...En?{title:En}:{},...We,...h.aria===!1?{aria:!1}:{},zindex:Fe(Ue,0)}}}}function Qfe(u){let{axes:c}=u.component,h=[];for(let g of Ls)if(c[g]){for(let _ of c[g])if(!_.get("disable")&&!_.get("gridScale")){let T=g==="x"?"height":"width",k=u.getSizeSignalRef(T).signal;T!==k&&h.push({name:T,update:k})}}return h}function mWe(u,c){let{x:h=[],y:g=[]}=u;return[...h.map(_=>T9(_,"grid",c)),...g.map(_=>T9(_,"grid",c)),...h.map(_=>T9(_,"main",c)),...g.map(_=>T9(_,"main",c))].filter(_=>_)}function Gfe(u,c,h,g){return Object.assign.apply(null,[{},...u.map(_=>{if(_==="axisOrient"){let T=h==="x"?"bottom":"left",k=c[h==="x"?"axisBottom":"axisLeft"]||{},V=c[h==="x"?"axisTop":"axisRight"]||{},re=new Set([...te(k),...te(V)]),Ue={};for(let We of re.values())Ue[We]={signal:`${g.signal} === "${T}" ? ${oi(k[We])} : ${oi(V[We])}`};return Ue}return c[_]})])}function xWe(u,c,h,g){let _=c==="band"?["axisDiscrete","axisBand"]:c==="point"?["axisDiscrete","axisPoint"]:Ds(c)?["axisQuantitative"]:c==="time"||c==="utc"?["axisTemporal"]:[],T=u==="x"?"axisX":"axisY",k=Nn(h)?"axisOrient":`axis${sn(h)}`,V=[..._,..._.map(Ue=>T+Ue.substr(4))],re=["axis",k,T];return{vlOnlyAxisConfig:Gfe(V,g,u,h),vgAxisConfig:Gfe(re,g,u,h),axisConfigStyle:gWe([...re,...V],g)}}function gWe(u,c){let h=[{}];for(let _ of u){var g;let T=(g=c[_])===null||g===void 0?void 0:g.style;if(T){T=e.array(T);for(let k of T)h.push(c.style[k])}}return Object.assign.apply(null,h)}function ZW(u,c,h){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_=Go(u,h,c);if(_!==void 0)return{configFrom:"style",configValue:_};for(let k of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var T;if(((T=g[k])===null||T===void 0?void 0:T[u])!==void 0)return{configFrom:k,configValue:g[k][u]}}return{}}let Yfe={scale:u=>{let{model:c,channel:h}=u;return c.scaleName(h)},format:u=>{let{fieldOrDatumDef:c,config:h,axis:g}=u,{format:_,formatType:T}=g;return Pr(c,c.type,_,T,h,!0)},formatType:u=>{let{axis:c,fieldOrDatumDef:h,scaleType:g}=u,{formatType:_}=c;return Oi(_,h,g)},grid:u=>{let{fieldOrDatumDef:c,axis:h,scaleType:g}=u;return h.grid??yWe(g,c)},gridScale:u=>{let{model:c,channel:h}=u;return vWe(c,h)},labelAlign:u=>{let{axis:c,labelAngle:h,orient:g,channel:_}=u;return c.labelAlign||Jfe(h,g,_)},labelAngle:u=>{let{labelAngle:c}=u;return c},labelBaseline:u=>{let{axis:c,labelAngle:h,orient:g,channel:_}=u;return c.labelBaseline||Kfe(h,g,_)},labelFlush:u=>{let{axis:c,fieldOrDatumDef:h,channel:g}=u;return c.labelFlush??bWe(h.type,g)},labelOverlap:u=>{let{axis:c,fieldOrDatumDef:h,scaleType:g}=u;return c.labelOverlap??EWe(h.type,g,cr(h)&&!!h.timeUnit,cr(h)?h.sort:void 0)},orient:u=>{let{orient:c}=u;return c},tickCount:u=>{let{channel:c,model:h,axis:g,fieldOrDatumDef:_,scaleType:T}=u,k=c==="x"?"width":c==="y"?"height":void 0,V=k?h.getSizeSignalRef(k):void 0;return g.tickCount??CWe({fieldOrDatumDef:_,scaleType:T,size:V,values:g.values})},title:u=>{let{axis:c,model:h,channel:g}=u;if(c.title!==void 0)return c.title;let _=Xfe(h,g);if(_!==void 0)return _;let T=h.typedFieldDef(g),k=g==="x"?"x2":"y2",V=h.fieldDef(k);return ks(T?[JO(T)]:[],cr(V)?[JO(V)]:[])},values:u=>{let{axis:c,fieldOrDatumDef:h}=u;return wWe(c,h)},zindex:u=>{let{axis:c,fieldOrDatumDef:h,mark:g}=u;return c.zindex??AWe(g,h)}};function yWe(u,c){return!Le(u)&&cr(c)&&!tr(c==null?void 0:c.bin)&&!Bi(c==null?void 0:c.bin)}function vWe(u,c){let h=c==="x"?"y":"x";if(u.getScaleComponent(h))return u.scaleName(h)}function _We(u,c,h,g,_){let T=c==null?void 0:c.labelAngle;if(T!==void 0)return Nn(T)?T:Yt(T);{let{configValue:k}=ZW("labelAngle",g,c==null?void 0:c.style,_);return k!==void 0?Yt(k):h===bn&&_t([Fl,K0],u.type)&&!(cr(u)&&u.timeUnit)?270:void 0}}function eQ(u){return`(((${u.signal} % 360) + 360) % 360)`}function Kfe(u,c,h,g){if(u!==void 0)if(h==="x"){if(Nn(u)){let _=eQ(u),T=Nn(c)?`(${c.signal} === "top")`:c==="top";return{signal:`(45 < ${_} && ${_} < 135) || (225 < ${_} && ${_} < 315) ? "middle" :(${_} <= 45 || 315 <= ${_}) === ${T} ? "bottom" : "top"`}}if(45<u&&u<135||225<u&&u<315)return"middle";if(Nn(c)){let _=u<=45||315<=u?"===":"!==";return{signal:`${c.signal} ${_} "top" ? "bottom" : "top"`}}return(u<=45||315<=u)==(c==="top")?"bottom":"top"}else{if(Nn(u)){let _=eQ(u),T=Nn(c)?`(${c.signal} === "left")`:c==="left";return{signal:`${_} <= 45 || 315 <= ${_} || (135 <= ${_} && ${_} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${_} && ${_} <= 135) === ${T} ? "top" : "bottom"`}}if(u<=45||315<=u||135<=u&&u<=225)return g?"middle":null;if(Nn(c)){let _=45<=u&&u<=135?"===":"!==";return{signal:`${c.signal} ${_} "left" ? "top" : "bottom"`}}return(45<=u&&u<=135)==(c==="left")?"top":"bottom"}}function Jfe(u,c,h){if(u===void 0)return;let g=h==="x",_=g?0:90,T=g?"bottom":"left";if(Nn(u)){let k=eQ(u),V=Nn(c)?`(${c.signal} === "${T}")`:c===T;return{signal:`(${_?`(${k} + 90)`:k} % 180 === 0) ? ${g?null:'"center"'} :(${_} < ${k} && ${k} < ${180+_}) === ${V} ? "left" : "right"`}}if((u+_)%180===0)return g?null:"center";if(Nn(c)){let k=_<u&&u<180+_?"===":"!==";return{signal:`${`${c.signal} ${k} "${T}"`} ? "left" : "right"`}}return(_<u&&u<180+_)==(c===T)?"left":"right"}function bWe(u,c){if(c==="x"&&_t(["quantitative","temporal"],u))return!0}function EWe(u,c,h,g){if(h&&!e.isObject(g)||u!=="nominal"&&u!=="ordinal")return c==="log"||c==="symlog"?"greedy":!0}function SWe(u){return u==="x"?"bottom":"left"}function CWe(u){let{fieldOrDatumDef:c,scaleType:h,size:g,values:_}=u;if(!_&&!Le(h)&&h!=="log"){if(cr(c)){var T;if(tr(c.bin))return{signal:`ceil(${g.signal}/10)`};if(c.timeUnit&&_t(["month","hours","day","quarter"],(T=yu(c.timeUnit))===null||T===void 0?void 0:T.unit))return}return{signal:`ceil(${g.signal}/40)`}}}function Xfe(u,c){let h=c==="x"?"x2":"y2",g=u.fieldDef(c),_=u.fieldDef(h),T=g?g.title:void 0,k=_?_.title:void 0;if(T&&k)return xr(T,k);if(T)return T;if(k)return k;if(T!==void 0)return T;if(k!==void 0)return k}function wWe(u,c){let h=u.values;if(e.isArray(h))return yce(c,h);if(Nn(h))return h}function AWe(u,c){return u==="rect"&&eN(c)?1:0}class mb extends Jo{clone(){return new mb(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h,_r(this,"_dependentFields",void 0),this._dependentFields=Hfe(this.transform.calculate)}static parseAllForSortIndex(c,h){return h.forEachFieldDef((g,_)=>{if(!!k4(g)&&Kl(g.sort)){let{field:T,timeUnit:k}=g,V=g.sort,re=V.map((Ue,We)=>`${Tl({field:T,timeUnit:k,equal:Ue})} ? ${We} : `).join("")+V.length;c=new mb(c,{calculate:re,as:xb(g,_,{forAs:!0})})}}),c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${rt(this.transform)}`}}function xb(u,c,h){return Qr(u,{prefix:c,suffix:"sort_index",...h??{}})}function _N(u,c){return _t(["top","bottom"],c)?"column":_t(["left","right"],c)||u==="row"?"row":"column"}function gb(u,c,h,g){let _=g==="row"?h.headerRow:g==="column"?h.headerColumn:h.headerFacet;return Fe((c||{})[u],_[u],h.header[u])}function bN(u,c,h,g){let _={};for(let T of u){let k=gb(T,c||{},h,g);k!==void 0&&(_[T]=k)}return _}let tQ=["row","column"],nQ=["header","footer"];function TWe(u,c){let h=u.component.layoutHeaders[c].title,g=u.config?u.config:void 0,_=u.component.layoutHeaders[c].facetFieldDef?u.component.layoutHeaders[c].facetFieldDef:void 0,{titleAnchor:T,titleAngle:k,titleOrient:V}=bN(["titleAnchor","titleAngle","titleOrient"],_.header,g,c),re=_N(c,V),Ue=Yt(k);return{name:`${c}-title`,type:"group",role:`${re}-title`,title:{text:h,...c==="row"?{orient:"left"}:{},style:"guide-title",...e0e(Ue,re),...Zfe(re,Ue,T),...t0e(g,_,c,wHe,Bce)}}}function Zfe(u,c){switch(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}let g=Jfe(c,u==="row"?"left":"top",u==="row"?"y":"x");return g?{align:g}:{}}function e0e(u,c){let h=Kfe(u,c==="row"?"left":"top",c==="row"?"y":"x",!0);return h?{baseline:h}:{}}function FWe(u,c){let h=u.component.layoutHeaders[c],g=[];for(let _ of nQ)if(h[_])for(let T of h[_]){let k=OWe(u,c,_,h,T);k!=null&&g.push(k)}return g}function DWe(u,c){let{sort:h}=u;return ia(h)?{field:Qr(h,{expr:"datum"}),order:h.order??"ascending"}:e.isArray(h)?{field:xb(u,c,{expr:"datum"}),order:"ascending"}:{field:Qr(u,{expr:"datum"}),order:h??"ascending"}}function rQ(u,c,h){let{format:g,formatType:_,labelAngle:T,labelAnchor:k,labelOrient:V,labelExpr:re}=bN(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],u.header,h,c),Ue=Ui({fieldOrDatumDef:u,format:g,formatType:_,expr:"parent",config:h}).signal,We=_N(c,V);return{text:{signal:re?An(An(re,"datum.label",Ue),"datum.value",Qr(u,{expr:"parent"})):Ue},...c==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...e0e(T,We),...Zfe(We,T,k),...t0e(h,u,c,AHe,jce)}}function OWe(u,c,h,g,_){if(_){let T=null,{facetFieldDef:k}=g,V=u.config?u.config:void 0;if(k&&_.labels){let{labelOrient:kt}=bN(["labelOrient"],k.header,V,c);(c==="row"&&!_t(["top","bottom"],kt)||c==="column"&&!_t(["left","right"],kt))&&(T=rQ(k,c,V))}let re=mp(u)&&!fp(u.facet),Ue=_.axes,We=(Ue==null?void 0:Ue.length)>0;if(T||We){let kt=c==="row"?"height":"width";return{name:u.getName(`${c}_${h}`),type:"group",role:`${c}-${h}`,...g.facetFieldDef?{from:{data:u.getName(`${c}_domain`)},sort:DWe(k,c)}:{},...We&&re?{from:{data:u.getName(`facet_domain_${c}`)}}:{},...T?{title:T}:{},..._.sizeSignal?{encode:{update:{[kt]:_.sizeSignal}}}:{},...We?{axes:Ue}:{}}}}return null}let NWe={column:{start:0,end:1},row:{start:1,end:0}};function RWe(u,c){return NWe[c][u]}function LWe(u,c){let h={};for(let g of X){let _=u[g];if(_!=null&&_.facetFieldDef){let{titleAnchor:T,titleOrient:k}=bN(["titleAnchor","titleOrient"],_.facetFieldDef.header,c,g),V=_N(g,k),re=RWe(T,V);re!==void 0&&(h[V]=re)}}return Ve(h)?void 0:h}function t0e(u,c,h,g,_){let T={};for(let k of g){if(!_[k])continue;let V=gb(k,c==null?void 0:c.header,u,h);V!==void 0&&(T[_[k]]=V)}return T}function iQ(u){return[...EN(u,"width"),...EN(u,"height"),...EN(u,"childWidth"),...EN(u,"childHeight")]}function EN(u,c){let h=c==="width"?"x":"y",g=u.component.layoutSize.get(c);if(!g||g==="merged")return[];let _=u.getSizeSignalRef(c).signal;if(g==="step"){let T=u.getScaleComponent(h);if(T){let k=T.get("type"),V=T.get("range");if(Le(k)&&or(V)){let re=u.scaleName(h);return mp(u.parent)&&u.parent.component.resolve.scale[h]==="independent"?[n0e(re,V)]:[n0e(re,V),{name:_,update:r0e(re,T,`domain('${re}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(g=="container"){let T=_.endsWith("width"),k=T?"containerSize()[0]":"containerSize()[1]",V=kW(u.config.view,T?"width":"height"),re=`isFinite(${k}) ? ${k} : ${V}`;return[{name:_,init:re,on:[{update:re,events:"window:resize"}]}]}else return[{name:_,value:g}]}function n0e(u,c){let h=`${u}_step`;return Nn(c.step)?{name:h,update:c.step.signal}:{name:h,value:c.step}}function r0e(u,c,h){let g=c.get("type"),_=c.get("padding"),T=Fe(c.get("paddingOuter"),_),k=c.get("paddingInner");return k=g==="band"?k!==void 0?k:_:1,`bandspace(${h}, ${oi(k)}, ${oi(T)}) * ${u}_step`}function i0e(u){return u==="childWidth"?"width":u==="childHeight"?"height":u}function s0e(u,c){return te(u).reduce((h,g)=>{let _=u[g];return{...h,...db(c,_,g,T=>Tr(T.value))}},{})}function o0e(u,c){if(mp(c))return u==="theta"?"independent":"shared";if(_b(c))return"shared";if(vQ(c))return Js(u)||u==="theta"||u==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function sQ(u,c){let h=u.scale[c],g=Js(c)?"axis":"legend";return h==="independent"?(u[g][c]==="shared"&&Ar(ki(c)),"independent"):u[g][c]||"shared"}let kWe={...FHe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},a0e=te(kWe);class IWe extends V2{}let u0e={symbols:MWe,gradient:PWe,labels:BWe,entries:jWe};function MWe(u,c){let{fieldOrDatumDef:h,model:g,channel:_,legendCmpt:T,legendType:k}=c;if(k!=="symbol")return;let{markDef:V,encoding:re,config:Ue,mark:We}=g,kt=V.filled&&We!=="trail",Jt={...ss({},g,tb),...wfe(g,{filled:kt})},En=T.get("symbolOpacity")??Ue.legend.symbolOpacity,jn=T.get("symbolFillColor")??Ue.legend.symbolFillColor,Yn=T.get("symbolStrokeColor")??Ue.legend.symbolStrokeColor,Xn=En===void 0?l0e(re.opacity)??V.opacity:void 0;if(Jt.fill){if(_==="fill"||kt&&_===ft)delete Jt.fill;else if(Jt.fill.field)jn?delete Jt.fill:(Jt.fill=Tr(Ue.legend.symbolBaseFillColor??"black"),Jt.fillOpacity=Tr(Xn??1));else if(e.isArray(Jt.fill)){let yr=oQ(re.fill??re.color)??V.fill??(kt&&V.color);yr&&(Jt.fill=Tr(yr))}}if(Jt.stroke){if(_==="stroke"||!kt&&_===ft)delete Jt.stroke;else if(Jt.stroke.field||Yn)delete Jt.stroke;else if(e.isArray(Jt.stroke)){let yr=Fe(oQ(re.stroke||re.color),V.stroke,kt?V.color:void 0);yr&&(Jt.stroke={value:yr})}}if(_!==et){let yr=cr(h)&&f0e(g,T,h);yr?Jt.opacity=[{test:yr,...Tr(Xn??1)},Tr(Ue.legend.unselectedOpacity)]:Xn&&(Jt.opacity=Tr(Xn))}return Jt={...Jt,...u},Ve(Jt)?void 0:Jt}function PWe(u,c){let{model:h,legendType:g,legendCmpt:_}=c;if(g!=="gradient")return;let{config:T,markDef:k,encoding:V}=h,re={},We=(_.get("gradientOpacity")??T.legend.gradientOpacity)===void 0?l0e(V.opacity)||k.opacity:void 0;return We&&(re.opacity=Tr(We)),re={...re,...u},Ve(re)?void 0:re}function BWe(u,c){let{fieldOrDatumDef:h,model:g,channel:_,legendCmpt:T}=c,k=g.legend(_)||{},V=g.config,re=cr(h)?f0e(g,T,h):void 0,Ue=re?[{test:re,value:1},{value:V.legend.unselectedOpacity}]:void 0,{format:We,formatType:kt}=k,Jt;li(kt)?Jt=Gi({fieldOrDatumDef:h,field:"datum.value",format:We,formatType:kt,config:V}):We===void 0&&kt===void 0&&V.customFormatTypes&&(h.type==="quantitative"&&V.numberFormatType?Jt=Gi({fieldOrDatumDef:h,field:"datum.value",format:V.numberFormat,formatType:V.numberFormatType,config:V}):h.type==="temporal"&&V.timeFormatType&&cr(h)&&h.timeUnit===void 0&&(Jt=Gi({fieldOrDatumDef:h,field:"datum.value",format:V.timeFormat,formatType:V.timeFormatType,config:V})));let En={...Ue?{opacity:Ue}:{},...Jt?{text:Jt}:{},...u};return Ve(En)?void 0:En}function jWe(u,c){let{legendCmpt:h}=c,g=h.get("selections");return g!=null&&g.length?{...u,fill:{value:"transparent"}}:u}function l0e(u){return c0e(u,(c,h)=>Math.max(c,h.value))}function oQ(u){return c0e(u,(c,h)=>Fe(c,h.value))}function c0e(u,c){if(Xc(u))return e.array(u.condition).reduce(c,u.value);if(dp(u))return u.value}function f0e(u,c,h){let g=c.get("selections");if(!(g!=null&&g.length))return;let _=e.stringValue(h.field);return g.map(T=>`(!length(data(${e.stringValue(Ct(T)+P4)})) || (${T}[${_}] && indexof(${T}[${_}], datum.value) >= 0))`).join(" || ")}let d0e={direction:u=>{let{direction:c}=u;return c},format:u=>{let{fieldOrDatumDef:c,legend:h,config:g}=u,{format:_,formatType:T}=h;return Pr(c,c.type,_,T,g,!1)},formatType:u=>{let{legend:c,fieldOrDatumDef:h,scaleType:g}=u,{formatType:_}=c;return Oi(_,h,g)},gradientLength:u=>{let{legend:c,legendConfig:h}=u;return c.gradientLength??h.gradientLength??WWe(u)},labelOverlap:u=>{let{legend:c,legendConfig:h,scaleType:g}=u;return c.labelOverlap??h.labelOverlap??QWe(g)},symbolType:u=>{let{legend:c,markDef:h,channel:g,encoding:_}=u;return c.symbolType??UWe(h.type,g,_.shape,h.shape)},title:u=>{let{fieldOrDatumDef:c,config:h}=u;return ob(c,h,{allowDisabling:!0})},type:u=>{let{legendType:c,scaleType:h,channel:g}=u;if(E(g)&&yn(h)){if(c==="gradient")return}else if(c==="symbol")return;return c},values:u=>{let{fieldOrDatumDef:c,legend:h}=u;return qWe(h,c)}};function qWe(u,c){let h=u.values;if(e.isArray(h))return yce(c,h);if(Nn(h))return h}function UWe(u,c,h,g){if(c!=="shape"){let _=oQ(h)??g;if(_)return _}switch(u){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function $We(u){let{legend:c}=u;return Fe(c.type,zWe(u))}function zWe(u){let{channel:c,timeUnit:h,scaleType:g}=u;if(E(c)){if(_t(["quarter","month","day"],h))return"symbol";if(yn(g))return"gradient"}return"symbol"}function HWe(u){let{legendConfig:c,legendType:h,orient:g,legend:_}=u;return _.direction??c[h?"gradientDirection":"symbolDirection"]??VWe(g,h)}function VWe(u,c){switch(u){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return c==="gradient"?"horizontal":void 0}}function WWe(u){let{legendConfig:c,model:h,direction:g,orient:_,scaleType:T}=u,{gradientHorizontalMaxLength:k,gradientHorizontalMinLength:V,gradientVerticalMaxLength:re,gradientVerticalMinLength:Ue}=c;if(yn(T))return g==="horizontal"?_==="top"||_==="bottom"?h0e(h,"width",V,k):V:h0e(h,"height",Ue,re)}function h0e(u,c,h,g){return{signal:`clamp(${u.getSizeSignalRef(c).signal}, ${h}, ${g})`}}function QWe(u){if(_t(["quantile","threshold","log","symlog"],u))return"greedy"}function p0e(u){let c=rl(u)?GWe(u):XWe(u);return u.component.legends=c,c}function GWe(u){let{encoding:c}=u,h={};for(let g of[ft,...Uce]){let _=Dl(c[g]);!_||!u.getScaleComponent(g)||g===ee&&cr(_)&&_.type===Yl||(h[g]=JWe(u,g))}return h}function YWe(u,c){let h=u.scaleName(c);if(u.mark==="trail"){if(c==="color")return{stroke:h};if(c==="size")return{strokeWidth:h}}return c==="color"?u.markDef.filled?{fill:h}:{stroke:h}:{[c]:h}}function KWe(u,c,h,g){switch(c){case"disable":return h!==void 0;case"values":return!!(h!=null&&h.values);case"title":if(c==="title"&&u===(g==null?void 0:g.title))return!0}return u===(h||{})[c]}function JWe(u,c){var h,g;let _=u.legend(c),{markDef:T,encoding:k,config:V}=u,re=V.legend,Ue=new IWe({},YWe(u,c));aWe(u,c,Ue);let We=_!==void 0?!_:re.disable;if(Ue.set("disable",We,_!==void 0),We)return Ue;_=_||{};let kt=u.getScaleComponent(c).get("type"),Jt=Dl(k[c]),En=cr(Jt)?(h=yu(Jt.timeUnit))===null||h===void 0?void 0:h.unit:void 0,jn=_.orient||V.legend.orient||"right",Yn=$We({legend:_,channel:c,timeUnit:En,scaleType:kt}),Xn=HWe({legend:_,legendType:Yn,orient:jn,legendConfig:re}),yr={legend:_,channel:c,model:u,markDef:T,encoding:k,fieldOrDatumDef:Jt,legendConfig:re,config:V,scaleType:kt,orient:jn,legendType:Yn,direction:Xn};for(let Ri of a0e){if(Yn==="gradient"&&Ri.startsWith("symbol")||Yn==="symbol"&&Ri.startsWith("gradient"))continue;let uu=Ri in d0e?d0e[Ri](yr):_[Ri];if(uu!==void 0){let vu=KWe(uu,Ri,_,u.fieldDef(c));(vu||V.legend[Ri]===void 0)&&Ue.set(Ri,uu,vu)}}let ci=((g=_)===null||g===void 0?void 0:g.encoding)??{},gi=Ue.get("selections"),Xi={},pi={fieldOrDatumDef:Jt,model:u,channel:c,legendCmpt:Ue,legendType:Yn};for(let Ri of["labels","legend","title","symbols","gradient","entries"]){let uu=s0e(ci[Ri]??{},u),vu=Ri in u0e?u0e[Ri](uu,pi):uu;vu!==void 0&&!Ve(vu)&&(Xi[Ri]={...gi!=null&&gi.length&&cr(Jt)?{name:`${Ct(Jt.field)}_legend_${Ri}`}:{},...gi!=null&&gi.length?{interactive:!!gi}:{},update:vu})}if(!Ve(Xi)){var So;Ue.set("encode",Xi,!!((So=_)!==null&&So!==void 0&&So.encoding))}return Ue}function XWe(u){let{legends:c,resolve:h}=u.component;for(let g of u.children){p0e(g);for(let _ of te(g.component.legends))h.legend[_]=sQ(u.component.resolve,_),h.legend[_]==="shared"&&(c[_]=m0e(c[_],g.component.legends[_]),c[_]||(h.legend[_]="independent",delete c[_]))}for(let g of te(c))for(let _ of u.children)!_.component.legends[g]||h.legend[g]==="shared"&&delete _.component.legends[g];return c}function m0e(u,c){if(!u)return c.clone();let h=u.getWithExplicit("orient"),g=c.getWithExplicit("orient");if(h.explicit&&g.explicit&&h.value!==g.value)return;let _=!1;for(let Ue of a0e){let We=Vg(u.getWithExplicit(Ue),c.getWithExplicit(Ue),Ue,"legend",(kt,Jt)=>{switch(Ue){case"symbolType":return ZWe(kt,Jt);case"title":return zi(kt,Jt);case"type":return _=!0,ed("symbol")}return hN(kt,Jt,Ue,"legend")});u.setWithExplicit(Ue,We)}if(_){var T,k,V,re;(T=u.implicit)!==null&&T!==void 0&&(k=T.encode)!==null&&k!==void 0&&k.gradient&&Ut(u.implicit,["encode","gradient"]),(V=u.explicit)!==null&&V!==void 0&&(re=V.encode)!==null&&re!==void 0&&re.gradient&&Ut(u.explicit,["encode","gradient"])}return u}function ZWe(u,c){return c.value==="circle"?c:u}function eQe(u,c,h,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[h]=g}function x0e(u){let c=u.component.legends,h={};for(let _ of te(c)){let T=u.getScaleComponent(_),k=Ge(T.get("domains"));if(h[k])for(let V of h[k])m0e(V,c[_])||h[k].push(c[_]);else h[k]=[c[_].clone()]}return Ae(h).flat().map(_=>tQe(_,u.config)).filter(_=>_!==void 0)}function tQe(u,c){var h;let{disable:g,labelExpr:_,selections:T,...k}=u.combine();if(!g){if(c.aria===!1&&k.aria==null&&(k.aria=!1),(h=k.encode)!==null&&h!==void 0&&h.symbols){let Ue=k.encode.symbols.update;Ue.fill&&Ue.fill.value!=="transparent"&&!Ue.stroke&&!k.stroke&&(Ue.stroke={value:"transparent"});for(let We of Uce)k[We]&&delete Ue[We]}if(k.title||delete k.title,_!==void 0){var V,re;let Ue=_;(V=k.encode)!==null&&V!==void 0&&(re=V.labels)!==null&&re!==void 0&&re.update&&Nn(k.encode.labels.update.text)&&(Ue=An(_,"datum.label",k.encode.labels.update.text.signal)),eQe(k,"labels","text",{signal:Ue})}return k}}function nQe(u){return _b(u)||vQ(u)?rQe(u):g0e(u)}function rQe(u){return u.children.reduce((c,h)=>c.concat(h.assembleProjections()),g0e(u))}function g0e(u){let c=u.component.projection;if(!c||c.merged)return[];let h=c.combine(),{name:g}=h;if(c.data){let _={signal:`[${c.size.map(k=>k.signal).join(", ")}]`},T=c.data.reduce((k,V)=>{let re=Nn(V)?V.signal:`data('${u.lookupDataSource(V)}')`;return _t(k,re)||k.push(re),k},[]);if(T.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:g,size:_,fit:{signal:T.length>1?`[${T.join(", ")}]`:T[0]},...h}]}else return[{name:g,translate:{signal:"[width / 2, height / 2]"},...h}]}let iQe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class y0e extends V2{constructor(c,h,g,_){super({...h},{name:c});this.specifiedProjection=h,this.size=g,this.data=_,_r(this,"merged",!1)}get isFit(){return!!this.data}}function v0e(u){u.component.projection=rl(u)?sQe(u):uQe(u)}function sQe(u){if(u.hasProjection){let c=on(u.specifiedProjection),h=!(c&&(c.scale!=null||c.translate!=null)),g=h?[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]:void 0,_=h?oQe(u):void 0,T=new y0e(u.projectionName(!0),{...on(u.config.projection)??{},...c??{}},g,_);return T.get("type")||T.set("type","equalEarth",!1),T}}function oQe(u){let c=[],{encoding:h}=u;for(let g of[[ne,at],[Me,Se]])(Dl(h[g[0]])||Dl(h[g[1]]))&&c.push({signal:u.getName(`geojson_${c.length}`)});return u.channelHasField(ee)&&u.typedFieldDef(ee).type===Yl&&c.push({signal:u.getName(`geojson_${c.length}`)}),c.length===0&&c.push(u.requestDataName(ma.Main)),c}function aQe(u,c){let h=Tt(iQe,_=>!!(!e.hasOwnProperty(u.explicit,_)&&!e.hasOwnProperty(c.explicit,_)||e.hasOwnProperty(u.explicit,_)&&e.hasOwnProperty(c.explicit,_)&&Ke(u.get(_),c.get(_))));if(Ke(u.size,c.size)){if(h)return u;if(Ke(u.explicit,{}))return c;if(Ke(c.explicit,{}))return u}return null}function uQe(u){if(u.children.length===0)return;let c;for(let g of u.children)v0e(g);let h=Tt(u.children,g=>{let _=g.component.projection;if(_)if(c){let T=aQe(c,_);return T&&(c=T),!!T}else return c=_,!0;else return!0});if(c&&h){let g=u.projectionName(!0),_=new y0e(g,c.specifiedProjection,c.size,_e(c.data));for(let T of u.children){let k=T.component.projection;k&&(k.isFit&&_.data.push(...T.component.projection.data),T.renameProjection(k.get("name"),g),k.merged=!0)}return _}}function lQe(u,c,h,g){if(b9(c,h)){let _=rl(u)?u.axis(h)??u.legend(h)??{}:{},T=Qr(c,{expr:"datum"}),k=Qr(c,{expr:"datum",binSuffix:"end"});return{formulaAs:Qr(c,{binSuffix:"range",forAs:!0}),formula:pa(T,k,_.format,_.formatType,g)}}return{}}function _0e(u,c){return`${ji(u)}_${c}`}function cQe(u,c){return{signal:u.getName(`${c}_bins`),extentSignal:u.getName(`${c}_extent`)}}function aQ(u,c,h){let g=rN(h,void 0)??{},_=_0e(g,c);return u.getName(`${_}_bins`)}function fQe(u){return"as"in u}function b0e(u,c,h){let g,_;fQe(u)?g=e.isString(u.as)?[u.as,`${u.as}_end`]:[u.as[0],u.as[1]]:g=[Qr(u,{forAs:!0}),Qr(u,{binSuffix:"end",forAs:!0})];let T={...rN(c,void 0)},k=_0e(T,u.field),{signal:V,extentSignal:re}=cQe(h,k);if(dt(T.extent)){let We=T.extent;_=Wfe(h,We.param,We),delete T.extent}let Ue={bin:T,field:u.field,as:[g],...V?{signal:V}:{},...re?{extentSignal:re}:{},..._?{span:_}:{}};return{key:k,binComponent:Ue}}class D1 extends Jo{clone(){return new D1(null,_e(this.bins))}constructor(c,h){super(c);this.bins=h}static makeFromEncoding(c,h){let g=h.reduceFieldDef((_,T,k)=>{if(Ud(T)&&tr(T.bin)){let{key:V,binComponent:re}=b0e(T,T.bin,h);_[V]={...re,..._[V],...lQe(h,T,k,h.config)}}return _},{});return Ve(g)?null:new D1(c,g)}static makeFromTransform(c,h,g){let{key:_,binComponent:T}=b0e(h,h.bin,g);return new D1(c,{[_]:T})}merge(c,h){for(let g of te(c.bins))g in this.bins?(h(c.bins[g].signal,this.bins[g].signal),this.bins[g].as=xt([...this.bins[g].as,...c.bins[g].as],rt)):this.bins[g]=c.bins[g];for(let g of c.children)c.removeChild(g),g.parent=this;c.remove()}producedFields(){return new Set(Ae(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Ae(this.bins).map(c=>c.field))}hash(){return`Bin ${rt(this.bins)}`}assemble(){return Ae(this.bins).flatMap(c=>{let h=[],[g,..._]=c.as,{extent:T,...k}=c.bin,V={type:"bin",field:nn(c.field),as:g,signal:c.signal,...dt(T)?{extent:null}:{extent:T},...c.span?{span:{signal:`span(${c.span})`}}:{},...k};!T&&c.extentSignal&&(h.push({type:"extent",field:nn(c.field),signal:c.extentSignal}),V.extent={signal:c.extentSignal}),h.push(V);for(let re of _)for(let Ue=0;Ue<2;Ue++)h.push({type:"formula",expr:Qr({field:g[Ue]},{expr:"datum"}),as:re[Ue]});return c.formula&&h.push({type:"formula",expr:c.formula,as:c.formulaAs}),h})}}function dQe(u,c,h,g){var _;let T=rl(g)?g.encoding[Ki(c)]:void 0;if(Ud(h)&&rl(g)&&_i(h,T,g.markDef,g.config))u.add(Qr(h,{})),u.add(Qr(h,{suffix:"end"})),h.bin&&b9(h,c)&&u.add(Qr(h,{binSuffix:"range"}));else if(Ot(c)){let k=ze(c);u.add(g.getName(k))}else u.add(Qr(h));return k4(h)&&Kc((_=h.scale)===null||_===void 0?void 0:_.range)&&u.add(h.scale.range.field),u}function hQe(u,c){for(let h of te(c)){let g=c[h];for(let _ of te(g))h in u?u[h][_]=new Set([...u[h][_]??[],...g[_]]):u[h]={[_]:g[_]}}}class hp extends Jo{clone(){return new hp(null,new Set(this.dimensions),_e(this.measures))}constructor(c,h,g){super(c);this.dimensions=h,this.measures=g}get groupBy(){return this.dimensions}static makeFromEncoding(c,h){let g=!1;h.forEachFieldDef(k=>{k.aggregate&&(g=!0)});let _={},T=new Set;return!g||(h.forEachFieldDef((k,V)=>{let{aggregate:re,field:Ue}=k;if(re)if(re==="count")_["*"]??={},_["*"].count=new Set([Qr(k,{forAs:!0})]);else{if(ra(re)||Aa(re)){let We=ra(re)?"argmin":"argmax",kt=re[We];_[kt]??={},_[kt][We]=new Set([Qr({op:We,field:kt},{forAs:!0})])}else _[Ue]??={},_[Ue][re]=new Set([Qr(k,{forAs:!0})]);ys(V)&&h.scaleDomain(V)==="unaggregated"&&(_[Ue]??={},_[Ue].min=new Set([Qr({field:Ue,aggregate:"min"},{forAs:!0})]),_[Ue].max=new Set([Qr({field:Ue,aggregate:"max"},{forAs:!0})]))}else dQe(T,V,k,h)}),T.size+te(_).length===0)?null:new hp(c,T,_)}static makeFromTransform(c,h){let g=new Set,_={};for(let T of h.aggregate){let{op:k,field:V,as:re}=T;k&&(k==="count"?(_["*"]??={},_["*"].count=new Set([re||Qr(T,{forAs:!0})])):(_[V]??={},_[V][k]=new Set([re||Qr(T,{forAs:!0})])))}for(let T of h.groupby??[])g.add(T);return g.size+te(_).length===0?null:new hp(c,g,_)}merge(c){return Oe(this.dimensions,c.dimensions)?(hQe(this.measures,c.measures),!0):(D4("different dimensions, cannot merge"),!1)}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...te(this.measures)])}producedFields(){let c=new Set;for(let h of te(this.measures))for(let g of te(this.measures[h])){let _=this.measures[h][g];_.size===0?c.add(`${g}_${h}`):_.forEach(c.add,c)}return c}hash(){return`Aggregate ${rt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){let c=[],h=[],g=[];for(let T of te(this.measures))for(let k of te(this.measures[T]))for(let V of this.measures[T][k])g.push(V),c.push(k),h.push(T==="*"?null:nn(T));return{type:"aggregate",groupby:[...this.dimensions].map(nn),ops:c,fields:h,as:g}}}class yb extends Jo{constructor(c,h,g,_){super(c);this.model=h,this.name=g,this.data=_,_r(this,"column",void 0),_r(this,"row",void 0),_r(this,"facet",void 0),_r(this,"childModel",void 0);for(let T of X){let k=h.facet[T];if(k){let{bin:V,sort:re}=k;this[T]={name:h.getName(`${T}_domain`),fields:[Qr(k),...tr(V)?[Qr(k,{binSuffix:"end"})]:[]],...ia(re)?{sortField:re}:e.isArray(re)?{sortIndexField:xb(k,T)}:{}}}}this.childModel=h.child}hash(){let c="Facet";for(let h of X)this[h]&&(c+=` ${h.charAt(0)}:${rt(this[h])}`);return c}get fields(){let c=[];for(let g of X){var h;(h=this[g])!==null&&h!==void 0&&h.fields&&c.push(...this[g].fields)}return c}dependentFields(){let c=new Set(this.fields);for(let h of X)this[h]&&(this[h].sortField&&c.add(this[h].sortField.field),this[h].sortIndexField&&c.add(this[h].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let c={};for(let h of Ls){let g=this.childModel.component.scales[h];if(g&&!g.merged){let _=g.get("type"),T=g.get("range");if(Le(_)&&or(T)){let k=wN(this.childModel,h),V=gQ(k);V?c[h]=V:Ar(sr(h))}}}return c}assembleRowColumnHeaderData(c,h,g){let _={row:"y",column:"x",facet:void 0}[c],T=[],k=[],V=[];_&&g&&g[_]&&(h?(T.push(`distinct_${g[_]}`),k.push("max")):(T.push(g[_]),k.push("distinct")),V.push(`distinct_${g[_]}`));let{sortField:re,sortIndexField:Ue}=this[c];if(re){let{op:We=tl,field:kt}=re;T.push(kt),k.push(We),V.push(Qr(re,{forAs:!0}))}else Ue&&(T.push(Ue),k.push("max"),V.push(Ue));return{name:this[c].name,source:h??this.data,transform:[{type:"aggregate",groupby:this[c].fields,...T.length?{fields:T,ops:k,as:V}:{}}]}}assembleFacetHeaderData(c){let{columns:h}=this.model.layout,{layoutHeaders:g}=this.model.component,_=[],T={};for(let Ue of tQ){for(let We of nQ){let kt=(g[Ue]&&g[Ue][We])??[];for(let Jt of kt){var k;if(((k=Jt.axes)===null||k===void 0?void 0:k.length)>0){T[Ue]=!0;break}}}if(T[Ue]){let We=`length(data("${this.facet.name}"))`,kt=Ue==="row"?h?{signal:`ceil(${We} / ${h})`}:1:h?{signal:`min(${We}, ${h})`}:{signal:We};_.push({name:`${this.facet.name}_${Ue}`,transform:[{type:"sequence",start:0,stop:kt}]})}}let{row:V,column:re}=T;return(V||re)&&_.unshift(this.assembleRowColumnHeaderData("facet",null,c)),_}assemble(){let c=[],h=null,g=this.getChildIndependentFieldsWithStep(),{column:_,row:T,facet:k}=this;if(_&&T&&(g.x||g.y)){h=`cross_${this.column.name}_${this.row.name}`;let V=[].concat(g.x??[],g.y??[]),re=V.map(()=>"distinct");c.push({name:h,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:V,ops:re}]})}for(let V of[kn,gn])this[V]&&c.push(this.assembleRowColumnHeaderData(V,h,g));if(k){let V=this.assembleFacetHeaderData(g);V&&c.push(...V)}return c}}function E0e(u){return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?u.slice(1,-1):u}function pQe(u,c){let h=ln(u);if(c==="number")return`toNumber(${h})`;if(c==="boolean")return`toBoolean(${h})`;if(c==="string")return`toString(${h})`;if(c==="date")return`toDate(${h})`;if(c==="flatten")return h;if(c.startsWith("date:")){let g=E0e(c.slice(5,c.length));return`timeParse(${h},'${g}')`}else if(c.startsWith("utc:")){let g=E0e(c.slice(4,c.length));return`utcParse(${h},'${g}')`}else return Ar(mc(c)),null}function mQe(u){let c={};return je(u.filter,h=>{if(Bd(h)){let g=null;g1(h)?g=ui(h.equal):Pd(h)?g=ui(h.lte):y1(h)?g=ui(h.lt):Y0(h)?g=ui(h.gt):up(h)?g=ui(h.gte):F2(h)?g=h.range[0]:D2(h)&&(g=(h.oneOf??h.in)[0]),g&&(W0(g)?c[h.field]="date":e.isNumber(g)?c[h.field]="number":e.isString(g)&&(c[h.field]="string")),h.timeUnit&&(c[h.field]="date")}}),c}function xQe(u){let c={};function h(g){ub(g)?c[g.field]="date":g.type==="quantitative"&&Cl(g.aggregate)?c[g.field]="number":Cn(g.field)>1?g.field in c||(c[g.field]="flatten"):k4(g)&&ia(g.sort)&&Cn(g.sort.field)>1&&(g.sort.field in c||(c[g.sort.field]="flatten"))}if((rl(u)||mp(u))&&u.forEachFieldDef((g,_)=>{if(Ud(g))h(g);else{let T=Wr(_),k=u.fieldDef(T);h({...g,type:k.type})}}),rl(u)){let{mark:g,markDef:_,encoding:T}=u;if(h0(g)&&!u.encoding.order){let k=_.orient==="horizontal"?"y":"x",V=T[k];cr(V)&&V.type==="quantitative"&&!(V.field in c)&&(c[V.field]="number")}}return c}function gQe(u){let c={};if(rl(u)&&u.component.selection)for(let h of te(u.component.selection)){let g=u.component.selection[h];for(let _ of g.project.items)!_.channel&&Cn(_.field)>1&&(c[_.field]="flatten")}return c}class ef extends Jo{clone(){return new ef(null,_e(this._parse))}constructor(c,h){super(c);_r(this,"_parse",void 0),this._parse=h}hash(){return`Parse ${rt(this._parse)}`}static makeExplicit(c,h,g){var _;let T={},k=h.data;return!Wg(k)&&k!==null&&k!==void 0&&(_=k.format)!==null&&_!==void 0&&_.parse&&(T=k.format.parse),this.makeWithAncestors(c,T,{},g)}static makeWithAncestors(c,h,g,_){for(let V of te(g)){let re=_.getWithExplicit(V);re.value!==void 0&&(re.explicit||re.value===g[V]||re.value==="derived"||g[V]==="flatten"?delete g[V]:Ar(Hc(V,g[V],re.value)))}for(let V of te(h)){let re=_.get(V);re!==void 0&&(re===h[V]?delete h[V]:Ar(Hc(V,h[V],re)))}let T=new V2(h,g);_.copyAll(T);let k={};for(let V of te(T.combine())){let re=T.get(V);re!==null&&(k[V]=re)}return te(k).length===0||_.parseNothing?null:new ef(c,k)}get parse(){return this._parse}merge(c){this._parse={...this._parse,...c.parse},c.remove()}assembleFormatParse(){let c={};for(let h of te(this._parse)){let g=this._parse[h];Cn(h)===1&&(c[h]=g)}return c}producedFields(){return new Set(te(this._parse))}dependentFields(){return new Set(te(this._parse))}assembleTransforms(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return te(this._parse).filter(h=>c?Cn(h)>1:!0).map(h=>{let g=pQe(h,this._parse[h]);return g?{type:"formula",expr:g,as:$n(h)}:null}).filter(h=>h!==null)}}class Kg extends Jo{clone(){return new Kg(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set([w1])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:w1}}}class F9 extends Jo{clone(){return new F9(null,this.params)}constructor(c,h){super(c);this.params=h}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${rt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class D9 extends Jo{clone(){return new D9(null,this.params)}constructor(c,h){super(c);this.params=h}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${rt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class B4 extends Jo{constructor(c){super(null);_r(this,"_data",void 0),_r(this,"_name",void 0),_r(this,"_generator",void 0),c??={name:"source"};let h;if(Wg(c)||(h=c.format?{...de(c.format,["parse"])}:{}),S9(c))this._data={values:c.values};else if(cb(c)){if(this._data={url:c.url},!h.type){let g=/(?:\.([^.]+))?$/.exec(c.url)[1];_t(["json","csv","tsv","dsv","topojson"],g)||(g="json"),h.type=g}}else yfe(c)?this._data={values:[{type:"Sphere"}]}:(xfe(c)||Wg(c))&&(this._data={});this._generator=Wg(c),c.name&&(this._name=c.name),h&&!Ve(h)&&(this._data.format=h)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function uQ(u){return u instanceof B4||u instanceof F9||u instanceof D9}var SN=new WeakMap;class lQ{constructor(){iu(this,SN,{writable:!0,value:void 0}),Bo(this,SN,!1)}setModified(){Bo(this,SN,!0)}get modifiedFlag(){return Po(this,SN)}}class j4 extends lQ{getNodeDepths(c,h,g){g.set(c,h);for(let _ of c.children)this.getNodeDepths(_,h+1,g);return g}optimize(c){let g=[...this.getNodeDepths(c,0,new Map).entries()].sort((_,T)=>T[1]-_[1]);for(let _ of g)this.run(_[0]);return this.modifiedFlag}}class cQ extends lQ{optimize(c){this.run(c);for(let h of c.children)this.optimize(h);return this.modifiedFlag}}class yQe extends cQ{mergeNodes(c,h){let g=h.shift();for(let _ of h)c.removeChild(_),_.parent=g,_.remove()}run(c){let h=c.children.map(_=>_.hash()),g={};for(let _=0;_<h.length;_++)g[h[_]]===void 0?g[h[_]]=[c.children[_]]:g[h[_]].push(c.children[_]);for(let _ of te(g))g[_].length>1&&(this.setModified(),this.mergeNodes(c,g[_]))}}class vQe extends cQ{constructor(c){super();_r(this,"requiresSelectionId",void 0),this.requiresSelectionId=c&&KW(c)}run(c){c instanceof Kg&&(this.requiresSelectionId&&(uQ(c.parent)||c.parent instanceof hp||c.parent instanceof ef)||(this.setModified(),c.remove()))}}class _Qe extends lQ{optimize(c){return this.run(c,new Set),this.modifiedFlag}run(c,h){let g=new Set;c instanceof F1&&(g=c.producedFields(),xe(g,h)&&(this.setModified(),c.removeFormulas(h),c.producedFields.length===0&&c.remove()));for(let _ of c.children)this.run(_,new Set([...h,...g]))}}class bQe extends cQ{constructor(){super()}run(c){c instanceof Of&&!c.isRequired()&&(this.setModified(),c.remove())}}class EQe extends j4{run(c){if(!uQ(c)&&!(c.numChildren()>1)){for(let h of c.children)if(h instanceof ef)if(c instanceof ef)this.setModified(),c.merge(h);else{if(Ye(c.producedFields(),h.dependentFields()))continue;this.setModified(),h.swapWithParent()}}}}class SQe extends j4{run(c){let h=[...c.children],g=c.children.filter(_=>_ instanceof ef);if(c.numChildren()>1&&g.length>=1){let _={},T=new Set;for(let k of g){let V=k.parse;for(let re of te(V))re in _?_[re]!==V[re]&&T.add(re):_[re]=V[re]}for(let k of T)delete _[k];if(!Ve(_)){this.setModified();let k=new ef(c,_);for(let V of h){if(V instanceof ef)for(let re of te(_))delete V.parse[re];c.removeChild(V),V.parent=k,V instanceof ef&&te(V.parse).length===0&&V.remove()}}}}}class CQe extends j4{run(c){c instanceof Of||c.numChildren()>0||c instanceof yb||c instanceof B4||(this.setModified(),c.remove())}}class wQe extends j4{run(c){let h=c.children.filter(_=>_ instanceof F1),g=h.pop();for(let _ of h)this.setModified(),g.merge(_)}}class AQe extends j4{run(c){let h=c.children.filter(_=>_ instanceof hp),g={};for(let _ of h){let T=rt(_.groupBy);T in g||(g[T]=[]),g[T].push(_)}for(let _ of te(g)){let T=g[_];if(T.length>1){let k=T.pop();for(let V of T)k.merge(V)&&(c.removeChild(V),V.parent=k,V.remove(),this.setModified())}}}}class TQe extends j4{constructor(c){super();this.model=c}run(c){let h=!(uQ(c)||c instanceof pb||c instanceof ef||c instanceof Kg),g=[],_=[];for(let T of c.children)T instanceof D1&&(h&&!Ye(c.producedFields(),T.dependentFields())?g.push(T):_.push(T));if(g.length>0){let T=g.pop();for(let k of g)T.merge(k,this.model.renameSignal.bind(this.model));this.setModified(),c instanceof D1?c.merge(T,this.model.renameSignal.bind(this.model)):T.swapWithParent()}if(_.length>1){let T=_.pop();for(let k of _)T.merge(k,this.model.renameSignal.bind(this.model));this.setModified()}}}class FQe extends j4{run(c){let h=[...c.children];if(!un(h,k=>k instanceof Of)||c.numChildren()<=1)return;let _=[],T;for(let k of h)if(k instanceof Of){let V=k;for(;V.numChildren()===1;){let[re]=V.children;if(re instanceof Of)V=re;else break}_.push(...V.children),T?(c.removeChild(k),k.parent=T.parent,T.parent.removeChild(T),T.parent=V,this.setModified()):T=V}else _.push(k);if(_.length){this.setModified();for(let k of _)k.parent.removeChild(k),k.parent=T}}}class q4 extends Jo{clone(){return new q4(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h}addDimensions(c){this.transform.groupby=xt(this.transform.groupby.concat(c),h=>h)}dependentFields(){let c=new Set;return this.transform.groupby&&this.transform.groupby.forEach(c.add,c),this.transform.joinaggregate.map(h=>h.field).filter(h=>h!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){return c.as??Qr(c)}hash(){return`JoinAggregateTransform ${rt(this.transform)}`}assemble(){let c=[],h=[],g=[];for(let T of this.transform.joinaggregate)h.push(T.op),g.push(this.getDefaultName(T)),c.push(T.field===void 0?null:T.field);let _=this.transform.groupby;return{type:"joinaggregate",as:g,ops:h,fields:c,..._!==void 0?{groupby:_}:{}}}}function DQe(u){return u.stack.stackBy.reduce((c,h)=>{let g=h.fieldDef,_=Qr(g);return _&&c.push(_),c},[])}function OQe(u){return e.isArray(u)&&u.every(c=>e.isString(c))&&u.length>1}class W2 extends Jo{clone(){return new W2(null,_e(this._stack))}constructor(c,h){super(c);_r(this,"_stack",void 0),this._stack=h}static makeFromTransform(c,h){let{stack:g,groupby:_,as:T,offset:k="zero"}=h,V=[],re=[];if(h.sort!==void 0)for(let kt of h.sort)V.push(kt.field),re.push(Fe(kt.order,"ascending"));let Ue={field:V,order:re},We;return OQe(T)?We=T:e.isString(T)?We=[T,`${T}_end`]:We=[`${h.stack}_start`,`${h.stack}_end`],new W2(c,{dimensionFieldDefs:[],stackField:g,groupby:_,offset:k,sort:Ue,facetby:[],as:We})}static makeFromEncoding(c,h){let g=h.stack,{encoding:_}=h;if(!g)return null;let{groupbyChannels:T,fieldChannel:k,offset:V,impute:re}=g,Ue=T.map(En=>{let jn=_[En];return C1(jn)}).filter(En=>!!En),We=DQe(h),kt=h.encoding.order,Jt;return e.isArray(kt)||cr(kt)?Jt=Xs(kt):Jt=We.reduce((En,jn)=>(En.field.push(jn),En.order.push(k==="y"?"descending":"ascending"),En),{field:[],order:[]}),new W2(c,{dimensionFieldDefs:Ue,stackField:h.vgField(k),facetby:[],stackby:We,sort:Jt,offset:V,impute:re,as:[h.vgField(k,{suffix:"start",forAs:!0}),h.vgField(k,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){let c=new Set;return c.add(this._stack.stackField),this.getGroupbyFields().forEach(c.add,c),this._stack.facetby.forEach(c.add,c),this._stack.sort.field.forEach(c.add,c),c}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${rt(this._stack)}`}getGroupbyFields(){let{dimensionFieldDefs:c,impute:h,groupby:g}=this._stack;return c.length>0?c.map(_=>_.bin?h?[Qr(_,{binSuffix:"mid"})]:[Qr(_,{}),Qr(_,{binSuffix:"end"})]:[Qr(_)]).flat():g??[]}assemble(){let c=[],{facetby:h,dimensionFieldDefs:g,stackField:_,stackby:T,sort:k,offset:V,impute:re,as:Ue}=this._stack;if(re)for(let We of g){let{bandPosition:kt=.5,bin:Jt}=We;if(Jt){let En=Qr(We,{expr:"datum"}),jn=Qr(We,{expr:"datum",binSuffix:"end"});c.push({type:"formula",expr:`${kt}*${En}+${1-kt}*${jn}`,as:Qr(We,{binSuffix:"mid",forAs:!0})})}c.push({type:"impute",field:_,groupby:[...T,...h],key:Qr(We,{binSuffix:"mid"}),method:"value",value:0})}return c.push({type:"stack",groupby:[...this.getGroupbyFields(),...h],field:_,sort:k,as:Ue,offset:V}),c}}class vb extends Jo{clone(){return new vb(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h}addDimensions(c){this.transform.groupby=xt(this.transform.groupby.concat(c),h=>h)}dependentFields(){let c=new Set;return(this.transform.groupby??[]).forEach(c.add,c),(this.transform.sort??[]).forEach(h=>c.add(h.field)),this.transform.window.map(h=>h.field).filter(h=>h!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){return c.as??Qr(c)}hash(){return`WindowTransform ${rt(this.transform)}`}assemble(){let c=[],h=[],g=[],_=[];for(let kt of this.transform.window)h.push(kt.op),g.push(this.getDefaultName(kt)),_.push(kt.param===void 0?null:kt.param),c.push(kt.field===void 0?null:kt.field);let T=this.transform.frame,k=this.transform.groupby;if(T&&T[0]===null&&T[1]===null&&h.every(kt=>Yu(kt)))return{type:"joinaggregate",as:g,ops:h,fields:c,...k!==void 0?{groupby:k}:{}};let V=[],re=[];if(this.transform.sort!==void 0)for(let kt of this.transform.sort)V.push(kt.field),re.push(kt.order??"ascending");let Ue={field:V,order:re},We=this.transform.ignorePeers;return{type:"window",params:_,as:g,ops:h,fields:c,sort:Ue,...We!==void 0?{ignorePeers:We}:{},...k!==void 0?{groupby:k}:{},...T!==void 0?{frame:T}:{}}}}function NQe(u){function c(h){if(!(h instanceof yb)){let g=h.clone();if(g instanceof Of){let _=dQ+g.getSource();g.setSource(_),u.model.component.data.outputNodes[_]=g}else(g instanceof hp||g instanceof W2||g instanceof vb||g instanceof q4)&&g.addDimensions(u.fields);for(let _ of h.children.flatMap(c))_.parent=g;return[g]}return h.children.flatMap(c)}return c}function fQ(u){if(u instanceof yb)if(u.numChildren()===1&&!(u.children[0]instanceof Of)){let c=u.children[0];(c instanceof hp||c instanceof W2||c instanceof vb||c instanceof q4)&&c.addDimensions(u.fields),c.swapWithParent(),fQ(u)}else{let c=u.model.component.data.main;S0e(c);let h=NQe(u),g=u.children.map(h).flat();for(let _ of g)_.parent=c}else u.children.map(fQ)}function S0e(u){if(u instanceof Of&&u.type===ma.Main&&u.numChildren()===1){let c=u.children[0];c instanceof yb||(c.swapWithParent(),S0e(u))}}let dQ="scale_",CN=5;function hQ(u){for(let c of u){for(let h of c.children)if(h.parent!==c)return!1;if(!hQ(c.children))return!1}return!0}function pp(u,c){let h=!1;for(let g of c)h=u.optimize(g)||h;return h}function C0e(u,c,h){let g=u.sources,_=!1;return _=pp(new bQe,g)||_,_=pp(new vQe(c),g)||_,g=g.filter(T=>T.numChildren()>0),_=pp(new CQe,g)||_,g=g.filter(T=>T.numChildren()>0),h||(_=pp(new EQe,g)||_,_=pp(new TQe(c),g)||_,_=pp(new _Qe,g)||_,_=pp(new SQe,g)||_,_=pp(new AQe,g)||_,_=pp(new wQe,g)||_,_=pp(new yQe,g)||_,_=pp(new FQe,g)||_),u.sources=g,_}function RQe(u,c){hQ(u.sources);let h=0,g=0;for(let _=0;_<CN&&C0e(u,c,!0);_++)h++;u.sources.map(fQ);for(let _=0;_<CN&&C0e(u,c,!1);_++)g++;hQ(u.sources),Math.max(h,g)===CN&&Ar(`Maximum optimization runs(${CN}) reached.`)}class p0{constructor(c){_r(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,h){return new p0(()=>c(h))}}function w0e(u){rl(u)?LQe(u):kQe(u)}function LQe(u){let c=u.component.scales;for(let h of te(c)){let g=MQe(u,h);if(c[h].setWithExplicit("domains",g),BQe(u,h),u.component.data.isFaceted){let T=u;for(;!mp(T)&&T.parent;)T=T.parent;if(T.component.resolve.scale[h]==="shared")for(let V of g.value)Gn(V)&&(V.data=dQ+V.data.replace(dQ,""))}}}function kQe(u){for(let h of u.children)w0e(h);let c=u.component.scales;for(let h of te(c)){let g,_=null;for(let T of u.children){let k=T.component.scales[h];if(k){g===void 0?g=k.getWithExplicit("domains"):g=Vg(g,k.getWithExplicit("domains"),"domains","scale",xQ);let V=k.get("selectionExtent");_&&V&&_.param!==V.param&&Ar(ip),_=V}}c[h].setWithExplicit("domains",g),_&&c[h].set("selectionExtent",_,!0)}}function IQe(u,c,h,g){if(u==="unaggregated"){let{valid:_,reason:T}=A0e(c,h);if(!_){Ar(T);return}}else if(u===void 0&&g.useUnaggregatedDomain){let{valid:_}=A0e(c,h);if(_)return"unaggregated"}return u}function MQe(u,c){let h=u.getScaleComponent(c).get("type"),{encoding:g}=u,_=IQe(u.scaleDomain(c),u.typedFieldDef(c),h,u.config.scale);return _!==u.scaleDomain(c)&&(u.specifiedScales[c]={...u.specifiedScales[c],domain:_}),c==="x"&&Dl(g.x2)?Dl(g.x)?Vg(Jg(h,_,u,"x"),Jg(h,_,u,"x2"),"domain","scale",xQ):Jg(h,_,u,"x2"):c==="y"&&Dl(g.y2)?Dl(g.y)?Vg(Jg(h,_,u,"y"),Jg(h,_,u,"y2"),"domain","scale",xQ):Jg(h,_,u,"y2"):Jg(h,_,u,c)}function PQe(u,c,h){return u.map(g=>({signal:`{data: ${iN(g,{timeUnit:h,type:c})}}`}))}function pQ(u,c,h){var g;let _=(g=yu(h))===null||g===void 0?void 0:g.unit;return c==="temporal"||_?PQe(u,c,_):[u]}function Jg(u,c,h,g){let{encoding:_}=h,T=Dl(_[g]),{type:k}=T,V=T.timeUnit;if(su(c)){let kt=Jg(u,void 0,h,g),Jt=pQ(c.unionWith,k,V);return T1([...Jt,...kt.value])}else{if(Nn(c))return T1([c]);if(c&&c!=="unaggregated"&&!Ys(c))return T1(pQ(c,k,V))}let re=h.stack;if(re&&g===re.fieldChannel){if(re.offset==="normalize")return ed([[0,1]]);let kt=h.requestDataName(ma.Main);return ed([{data:kt,field:h.vgField(g,{suffix:"start"})},{data:kt,field:h.vgField(g,{suffix:"end"})}])}let Ue=ys(g)&&cr(T)?jQe(h,g,u):void 0;if(za(T)){let kt=pQ([T.datum],k,V);return ed(kt)}let We=T;if(c==="unaggregated"){let kt=h.requestDataName(ma.Main),{field:Jt}=T;return ed([{data:kt,field:Qr({field:Jt,aggregate:"min"})},{data:kt,field:Qr({field:Jt,aggregate:"max"})}])}else if(tr(We.bin)){if(Le(u))return ed(u==="bin-ordinal"?[]:[{data:ot(Ue)?h.requestDataName(ma.Main):h.requestDataName(ma.Raw),field:h.vgField(g,b9(We,g)?{binSuffix:"range"}:{}),sort:Ue===!0||!e.isObject(Ue)?{field:h.vgField(g,{}),op:"min"}:Ue}]);{let{bin:kt}=We;if(tr(kt)){let Jt=aQ(h,We.field,kt);return ed([new p0(()=>{let En=h.getSignalName(Jt);return`[${En}.start, ${En}.stop]`})])}else return ed([{data:h.requestDataName(ma.Main),field:h.vgField(g,{})}])}}else if(We.timeUnit&&_t(["time","utc"],u)&&_i(We,rl(h)?h.encoding[Ki(g)]:void 0,h.markDef,h.config)){let kt=h.requestDataName(ma.Main);return ed([{data:kt,field:h.vgField(g)},{data:kt,field:h.vgField(g,{suffix:"end"})}])}else return ed(Ue?[{data:ot(Ue)?h.requestDataName(ma.Main):h.requestDataName(ma.Raw),field:h.vgField(g),sort:Ue}]:[{data:h.requestDataName(ma.Main),field:h.vgField(g)}])}function mQ(u,c){let{op:h,field:g,order:_}=u;return{op:h??(c?"sum":tl),...g?{field:nn(g)}:{},..._?{order:_}:{}}}function BQe(u,c){var h;let g=u.component.scales[c],_=u.specifiedScales[c].domain,T=(h=u.fieldDef(c))===null||h===void 0?void 0:h.bin,k=Ys(_)&&_,V=Ne(T)&&dt(T.extent)&&T.extent;(k||V)&&g.set("selectionExtent",k??V,!0)}function jQe(u,c,h){if(!Le(h))return;let g=u.fieldDef(c),_=g.sort;if(Kl(_))return{op:"min",field:xb(g,c),order:"ascending"};let{stack:T}=u,k=T?new Set([...T.groupbyFields,...T.stackBy.map(V=>V.fieldDef.field)]):void 0;if(ia(_)){let V=T&&!k.has(_.field);return mQ(_,V)}else if(Z0(_)){let{encoding:V,order:re}=_,Ue=u.fieldDef(V),{aggregate:We,field:kt}=Ue,Jt=T&&!k.has(kt);if(ra(We)||Aa(We))return mQ({field:Qr(Ue),order:re},Jt);if(Yu(We)||!We)return mQ({op:We,field:kt,order:re},Jt)}else{if(_==="descending")return{op:"min",field:u.vgField(c),order:"descending"};if(_t(["ascending",void 0],_))return!0}}function A0e(u,c){let{aggregate:h,type:g}=u;return h?e.isString(h)&&!Ii.has(h)?{valid:!1,reason:jt(h)}:g==="quantitative"&&c==="log"?{valid:!1,reason:xn(u)}:{valid:!0}:{valid:!1,reason:At(u)}}function xQ(u,c,h,g){return u.explicit&&c.explicit&&Ar(Di(h,g,u.value,c.value)),{explicit:u.explicit,value:[...u.value,...c.value]}}function qQe(u){let c=xt(u.map(k=>{if(Gn(k)){let{sort:V,...re}=k;return re}return k}),rt),h=xt(u.map(k=>{if(Gn(k)){let V=k.sort;return V!==void 0&&!ot(V)&&("op"in V&&V.op==="count"&&delete V.field,V.order==="ascending"&&delete V.order),V}}).filter(k=>k!==void 0),rt);if(c.length===0)return;if(c.length===1){let k=u[0];if(Gn(k)&&h.length>0){let V=h[0];if(h.length>1)Ar(ws),V=!0;else if(e.isObject(V)&&"field"in V){let re=V.field;k.field===re&&(V=V.order?{order:V.order}:!0)}return{...k,sort:V}}return k}let g=xt(h.map(k=>ot(k)||!("op"in k)||e.isString(k.op)&&k.op in qa?k:(Ar(Ai(k)),!0)),rt),_;g.length===1?_=g[0]:g.length>1&&(Ar(ws),_=!0);let T=xt(u.map(k=>Gn(k)?k.data:null),k=>k);return T.length===1&&T[0]!==null?{data:T[0],fields:c.map(V=>V.field),..._?{sort:_}:{}}:{fields:c,..._?{sort:_}:{}}}function gQ(u){if(Gn(u)&&e.isString(u.field))return u.field;if(fr(u)){let c;for(let h of u.fields)if(Gn(h)&&e.isString(h.field)){if(!c)c=h.field;else if(c!==h.field)return Ar(yo),c}return Ar(Ko),c}else if(Mn(u)){Ar(vo);let c=u.fields[0];return e.isString(c)?c:void 0}}function wN(u,c){let g=u.component.scales[c].get("domains").map(_=>(Gn(_)&&(_.data=u.lookupDataSource(_.data)),_));return qQe(g)}function T0e(u){return _b(u)||vQ(u)?u.children.reduce((c,h)=>c.concat(T0e(h)),F0e(u)):F0e(u)}function F0e(u){return te(u.component.scales).reduce((c,h)=>{let g=u.component.scales[h];if(g.merged)return c;let _=g.combine(),{name:T,type:k,selectionExtent:V,domains:re,range:Ue,reverse:We,...kt}=_,Jt=UQe(_.range,T,h,u),En=wN(u,h),jn=V?BVe(u,V,g,En):null;return c.push({name:T,type:k,...En?{domain:En}:{},...jn?{domainRaw:jn}:{},range:Jt,...We!==void 0?{reverse:We}:{},...kt}),c},[])}function UQe(u,c,h,g){if(Js(h)){if(or(u))return{step:{signal:`${c}_step`}}}else if(e.isObject(u)&&Gn(u))return{...u,data:g.lookupDataSource(u.data)};return u}class D0e extends V2{constructor(c,h){super({},{name:c});_r(this,"merged",!1),this.setWithExplicit("type",h)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:un(this.get("domains"),c=>e.isArray(c)&&c.length===2&&c[0]<=0&&c[1]>=0)}}let $Qe=["range","scheme"];function zQe(u){let c=u.component.scales;for(let h of ns){let g=c[h];if(!g)continue;let _=HQe(h,u);g.setWithExplicit("range",_)}}function O0e(u,c){let h=u.fieldDef(c);if(h!=null&&h.bin){let{bin:g,field:_}=h,T=Ni(c),k=u.getName(T);if(e.isObject(g)&&g.binned&&g.step!==void 0)return new p0(()=>{let V=u.scaleName(c),re=`(domain("${V}")[1] - domain("${V}")[0]) / ${g.step}`;return`${u.getSignalName(k)} / (${re})`});if(tr(g)){let V=aQ(u,_,g);return new p0(()=>{let re=u.getSignalName(V),Ue=`(${re}.stop - ${re}.start) / ${re}.step`;return`${u.getSignalName(k)} / (${Ue})`})}}}function HQe(u,c){let h=c.specifiedScales[u],{size:g}=c,T=c.getScaleComponent(u).get("type");for(let kt of $Qe)if(h[kt]!==void 0){let Jt=E1(T,kt),En=f0(u,kt);if(!Jt)Ar(gr(T,kt,u));else if(En)Ar(En);else switch(kt){case"range":{let jn=h.range;if(e.isArray(jn)){if(Js(u))return T1(jn.map(Yn=>{if(Yn==="width"||Yn==="height"){let Xn=c.getName(Yn),yr=c.getSignalName.bind(c);return p0.fromName(yr,Xn)}return Yn}))}else if(e.isObject(jn))return T1({data:c.requestDataName(ma.Main),field:jn.field,sort:{op:"min",field:c.vgField(u)}});return T1(jn)}case"scheme":return T1(VQe(h[kt]))}}let k=u===bn||u==="xOffset"?"width":"height",V=g[k];if(A1(V)){if(Js(u))if(Le(T)){let kt=N0e(V,c,u);if(kt)return T1({step:kt})}else Ar(Nr(k));else if(Vi(u)){let kt=u===se?"x":"y";if(c.getScaleComponent(kt).get("type")==="band"){let jn=R0e(V,T);if(jn)return T1(jn)}}}let{rangeMin:re,rangeMax:Ue}=h,We=WQe(u,c);return(re!==void 0||Ue!==void 0)&&E1(T,"rangeMin")&&e.isArray(We)&&We.length===2?T1([re??We[0],Ue??We[1]]):ed(We)}function VQe(u){return vi(u)?{scheme:u.name,...de(u,["name"])}:{scheme:u}}function WQe(u,c){let{size:h,config:g,mark:_,encoding:T}=c,k=c.getSignalName.bind(c),{type:V}=Dl(T[u]),Ue=c.getScaleComponent(u).get("type"),{domain:We,domainMid:kt}=c.specifiedScales[u];switch(u){case bn:case zn:{if(_t(["point","band"],Ue)){let jn=L0e(u,h,g.view);if(A1(jn))return{step:N0e(jn,c,u)}}let Jt=Ni(u),En=c.getName(Jt);return u===zn&&yt(Ue)?[p0.fromName(k,En),0]:[0,p0.fromName(k,En)]}case se:case Ie:return QQe(u,c,Ue);case Ee:{let Jt=c.component.scales[u].get("zero"),En=k0e(_,Jt,g),jn=KQe(_,h,c,g);return Kn(Ue)?YQe(En,jn,GQe(Ue,g,We,u)):[En,jn]}case rn:return[0,Math.PI*2];case $e:return[0,360];case Ze:return[0,new p0(()=>{let Jt=c.getSignalName("width"),En=c.getSignalName("height");return`min(${Jt},${En})/2`})];case mn:return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case fn:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ee:return"symbol";case ft:case gt:case wt:return Ue==="ordinal"?V==="nominal"?"category":"ordinal":kt!==void 0?"diverging":_==="rect"||_==="geoshape"?"heatmap":"ramp";case et:case It:case Kt:return[g.scale.minOpacity,g.scale.maxOpacity]}}function N0e(u,c,h){let{encoding:g}=c,_=c.getScaleComponent(h),T=na(h),k=g[T];if(zce({step:u,offsetIsDiscrete:ms(k)&&_1(k.type)})==="offset"&&Cce(g,T)){let re=c.getScaleComponent(T),We=`domain('${c.scaleName(T)}').length`;if(re.get("type")==="band"){let Jt=re.get("paddingInner")??re.get("padding")??0,En=re.get("paddingOuter")??re.get("padding")??0;We=`bandspace(${We}, ${Jt}, ${En})`}let kt=_.get("paddingInner")??_.get("padding");return{signal:`${u.step} * ${We} / (1-${vr(kt)})`}}else return u.step}function R0e(u,c){if(zce({step:u,offsetIsDiscrete:Le(c)})==="offset")return{step:u.step}}function QQe(u,c,h){let g=u===se?"x":"y",T=c.getScaleComponent(g).get("type"),k=c.scaleName(g);if(T==="band"){let V=L0e(g,c.size,c.config.view);if(A1(V)){let re=R0e(V,h);if(re)return re}return[0,{signal:`bandwidth('${k}')`}]}else return De(`Cannot use ${u} scale if ${g} scale is not discrete.`)}function L0e(u,c,h){let g=u===bn?"width":"height",_=c[g];return _||fN(h,g)}function GQe(u,c,h,g){switch(u){case"quantile":return c.scale.quantileCount;case"quantize":return c.scale.quantizeCount;case"threshold":return h!==void 0&&e.isArray(h)?h.length+1:(Ar(b2(g)),3)}}function YQe(u,c,h){let g=()=>{let _=oi(c),T=oi(u),k=`(${_} - ${T}) / (${h} - 1)`;return`sequence(${T}, ${_} + ${k}, ${k})`};return Nn(c)?new p0(g):{signal:g()}}function k0e(u,c,h){if(c)return Nn(c)?{signal:`${c.signal} ? 0 : ${k0e(u,!1,h)}`}:0;switch(u){case"bar":case"tick":return h.scale.minBandSize;case"line":case"trail":case"rule":return h.scale.minStrokeWidth;case"text":return h.scale.minFontSize;case"point":case"square":case"circle":return h.scale.minSize}throw new Error(Ku("size",u))}let I0e=.95;function KQe(u,c,h,g){let _={x:O0e(h,"x"),y:O0e(h,"y")};switch(u){case"bar":case"tick":{if(g.scale.maxBandSize!==void 0)return g.scale.maxBandSize;let T=M0e(c,_,g.view);return e.isNumber(T)?T-1:new p0(()=>`${T.signal} - 1`)}case"line":case"trail":case"rule":return g.scale.maxStrokeWidth;case"text":return g.scale.maxFontSize;case"point":case"square":case"circle":{if(g.scale.maxSize)return g.scale.maxSize;let T=M0e(c,_,g.view);return e.isNumber(T)?Math.pow(I0e*T,2):new p0(()=>`pow(${I0e} * ${T.signal}, 2)`)}}throw new Error(Ku("size",u))}function M0e(u,c,h){let g=A1(u.width)?u.width.step:cN(h,"width"),_=A1(u.height)?u.height.step:cN(h,"height");return c.x||c.y?new p0(()=>`min(${[c.x?c.x.signal:g,c.y?c.y.signal:_].join(", ")})`):Math.min(g,_)}function P0e(u,c){rl(u)?JQe(u,c):q0e(u,c)}function JQe(u,c){let h=u.component.scales,{config:g,encoding:_,markDef:T,specifiedScales:k}=u;for(let V of te(h)){let re=k[V],Ue=h[V],We=u.getScaleComponent(V),kt=Dl(_[V]),Jt=re[c],En=We.get("type"),jn=We.get("padding"),Yn=We.get("paddingInner"),Xn=E1(En,c),yr=f0(V,c);if(Jt!==void 0&&(Xn?yr&&Ar(yr):Ar(gr(En,c,V))),Xn&&yr===void 0)if(Jt!==void 0){let ci=kt.timeUnit,gi=kt.type;switch(c){case"domainMax":case"domainMin":W0(re[c])||gi==="temporal"||ci?Ue.set(c,{signal:iN(re[c],{type:gi,timeUnit:ci})},!0):Ue.set(c,re[c],!0);break;default:Ue.copyKeyFromObject(c,re)}}else{let ci=c in B0e?B0e[c]({model:u,channel:V,fieldOrDatumDef:kt,scaleType:En,scalePadding:jn,scalePaddingInner:Yn,domain:re.domain,domainMin:re.domainMin,domainMax:re.domainMax,markDef:T,config:g,hasNestedOffsetScale:_W(_,V),hasSecondaryRangeChannel:!!_[Ki(V)]}):g.scale[c];ci!==void 0&&Ue.set(c,ci,!1)}}}let B0e={bins:u=>{let{model:c,fieldOrDatumDef:h}=u;return cr(h)?XQe(c,h):void 0},interpolate:u=>{let{channel:c,fieldOrDatumDef:h}=u;return ZQe(c,h.type)},nice:u=>{let{scaleType:c,channel:h,domain:g,domainMin:_,domainMax:T,fieldOrDatumDef:k}=u;return eGe(c,h,g,_,T,k)},padding:u=>{let{channel:c,scaleType:h,fieldOrDatumDef:g,markDef:_,config:T}=u;return tGe(c,h,T.scale,g,_,T.bar)},paddingInner:u=>{let{scalePadding:c,channel:h,markDef:g,scaleType:_,config:T,hasNestedOffsetScale:k}=u;return nGe(c,h,g.type,_,T.scale,k)},paddingOuter:u=>{let{scalePadding:c,channel:h,scaleType:g,scalePaddingInner:_,config:T,hasNestedOffsetScale:k}=u;return rGe(c,h,g,_,T.scale,k)},reverse:u=>{let{fieldOrDatumDef:c,scaleType:h,channel:g,config:_}=u,T=cr(c)?c.sort:void 0;return iGe(h,T,g,_.scale)},zero:u=>{let{channel:c,fieldOrDatumDef:h,domain:g,markDef:_,scaleType:T,config:k,hasSecondaryRangeChannel:V}=u;return sGe(c,h,g,_,T,k.scale,V)}};function j0e(u){rl(u)?zQe(u):q0e(u,"range")}function q0e(u,c){let h=u.component.scales;for(let g of u.children)c==="range"?j0e(g):P0e(g,c);for(let g of te(h)){let _;for(let T of u.children){let k=T.component.scales[g];if(k){let V=k.getWithExplicit(c);_=Vg(_,V,c,"scale",mfe((re,Ue)=>{switch(c){case"range":return re.step&&Ue.step?re.step-Ue.step:0}return 0}))}}h[g].setWithExplicit(c,_)}}function XQe(u,c){let h=c.bin;if(tr(h)){let g=aQ(u,c.field,h);return new p0(()=>u.getSignalName(g))}else if(Bi(h)&&Ne(h)&&h.step!==void 0)return{step:h.step}}function ZQe(u,c){if(_t([ft,gt,wt],u)&&c!=="nominal")return"hcl"}function eGe(u,c,h,g,_,T){var k;if(!((k=C1(T))!==null&&k!==void 0&&k.bin||e.isArray(h)||_!=null||g!=null||_t([ku.TIME,ku.UTC],u)))return Js(c)?!0:void 0}function tGe(u,c,h,g,_,T){if(Js(u)){if(yn(c)){if(h.continuousPadding!==void 0)return h.continuousPadding;let{type:k,orient:V}=_;if(k==="bar"&&!(cr(g)&&(g.bin||g.timeUnit))&&(V==="vertical"&&u==="x"||V==="horizontal"&&u==="y"))return T.continuousBandSize}if(c===ku.POINT)return h.pointPadding}}function nGe(u,c,h,g,_){let T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(Js(c)){let{bandPaddingInner:k,barBandPaddingInner:V,rectBandPaddingInner:re,bandWithNestedOffsetPaddingInner:Ue}=_;return T?Ue:Fe(k,h==="bar"?V:re)}else if(Vi(c)&&g===ku.BAND)return _.offsetBandPaddingInner}}function rGe(u,c,h,g,_){let T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(Js(c)){let{bandPaddingOuter:k,bandWithNestedOffsetPaddingOuter:V}=_;if(T)return V;if(h===ku.BAND)return Fe(k,Nn(g)?{signal:`${g.signal}/2`}:g/2)}else if(Vi(c)){if(h===ku.POINT)return .5;if(h===ku.BAND)return _.offsetBandPaddingOuter}}}function iGe(u,c,h,g){if(h==="x"&&g.xReverse!==void 0)return yt(u)&&c==="descending"?Nn(g.xReverse)?{signal:`!${g.xReverse.signal}`}:!g.xReverse:g.xReverse;if(yt(u)&&c==="descending")return!0}function sGe(u,c,h,g,_,T,k){if(!!h&&h!=="unaggregated"&&yt(_)){if(e.isArray(h)){let re=h[0],Ue=h[h.length-1];if(re<=0&&Ue>=0)return!0}return!1}if(u==="size"&&c.type==="quantitative"&&!Kn(_))return!0;if(!(cr(c)&&c.bin)&&_t([...Ls,...go],u)){let{orient:re,type:Ue}=g;return _t(["bar","area","line","trail"],Ue)&&(re==="horizontal"&&u==="y"||re==="vertical"&&u==="x")?!1:_t(["bar","area"],Ue)&&!k?!0:T==null?void 0:T.zero}return!1}function oGe(u,c,h,g){let _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,T=aGe(c,h,g,_),{type:k}=u;return ys(c)?k!==void 0?X6(c,k)?cr(h)&&!el(k,h.type)?(Ar(er(k,T)),T):k:(Ar(Qn(c,k,T)),T):T:null}function aGe(u,c,h,g){switch(c.type){case"nominal":case"ordinal":{var _;if(E(u)||wa(u)==="discrete")return u==="shape"&&c.type==="ordinal"&&Ar(Tf(u,"ordinal")),"ordinal";if(Js(u)||Vi(u)){if(_t(["rect","bar","image","rule"],h.type)||g)return"band"}else if(h.type==="arc"&&u in zs)return"band";let T=h[Ni(u)];return x(T)||sb(c)&&(_=c.axis)!==null&&_!==void 0&&_.tickBand?"band":"point"}case"temporal":return E(u)?"time":wa(u)==="discrete"?(Ar(Tf(u,"temporal")),"ordinal"):cr(c)&&c.timeUnit&&yu(c.timeUnit).utc?"utc":"time";case"quantitative":return E(u)?cr(c)&&tr(c.bin)?"bin-ordinal":"linear":wa(u)==="discrete"?(Ar(Tf(u,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(xc(c.type))}function uGe(u){let{ignoreRange:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U0e(u),w0e(u);for(let h of k2)P0e(u,h);c||j0e(u)}function U0e(u){rl(u)?u.component.scales=lGe(u):u.component.scales=fGe(u)}function lGe(u){let{encoding:c,mark:h,markDef:g}=u,_={};for(let T of ns){let k=Dl(c[T]);if(k&&h===Hg&&T===ee&&k.type===Yl)continue;let V=k&&k.scale;if(Vi(T)){let re=Gu(T);if(!_W(c,re)){V&&Ar(Af(T));continue}}if(k&&V!==null&&V!==!1){V??={};let re=_W(c,T),Ue=oGe(V,T,k,g,re);_[T]=new D0e(u.scaleName(`${T}`,!0),{value:Ue,explicit:V.type===Ue})}}return _}let cGe=mfe((u,c)=>b1(u)-b1(c));function fGe(u){let c=u.component.scales={},h={},g=u.component.resolve;for(let _ of u.children){U0e(_);for(let T of te(_.component.scales))if(g.scale[T]??=o0e(T,u),g.scale[T]==="shared"){let k=h[T],V=_.component.scales[T].getWithExplicit("type");k?qg(k.value,V.value)?h[T]=Vg(k,V,"type","scale",cGe):(g.scale[T]="independent",delete h[T]):h[T]=V}}for(let _ of te(h)){let T=u.scaleName(_,!0),k=h[_];c[_]=new D0e(T,k);for(let V of u.children){let re=V.component.scales[_];re&&(V.renameScale(re.get("name"),T),re.merged=!0)}}return c}class yQ{constructor(){_r(this,"nameMap",void 0),this.nameMap={}}rename(c,h){this.nameMap[c]=h}has(c){return this.nameMap[c]!==void 0}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}function rl(u){return(u==null?void 0:u.type)==="unit"}function mp(u){return(u==null?void 0:u.type)==="facet"}function vQ(u){return(u==null?void 0:u.type)==="concat"}function _b(u){return(u==null?void 0:u.type)==="layer"}class _Q{constructor(c,h,g,_,T,k,V){this.type=h,this.parent=g,this.config=T,_r(this,"name",void 0),_r(this,"size",void 0),_r(this,"title",void 0),_r(this,"description",void 0),_r(this,"data",void 0),_r(this,"transforms",void 0),_r(this,"layout",void 0),_r(this,"scaleNameMap",void 0),_r(this,"projectionNameMap",void 0),_r(this,"signalNameMap",void 0),_r(this,"component",void 0),_r(this,"view",void 0),_r(this,"children",void 0),_r(this,"correctDataNames",re=>{var Ue,We,kt;return(Ue=re.from)!==null&&Ue!==void 0&&Ue.data&&(re.from.data=this.lookupDataSource(re.from.data)),(We=re.from)!==null&&We!==void 0&&(kt=We.facet)!==null&&kt!==void 0&&kt.data&&(re.from.facet.data=this.lookupDataSource(re.from.facet.data)),re}),this.parent=g,this.config=T,this.view=on(V),this.name=c.name??_,this.title=Bn(c.title)?{text:c.title}:c.title?on(c.title):void 0,this.scaleNameMap=g?g.scaleNameMap:new yQ,this.projectionNameMap=g?g.projectionNameMap:new yQ,this.signalNameMap=g?g.signalNameMap:new yQ,this.data=c.data,this.description=c.description,this.transforms=EVe(c.transform??[]),this.layout=h==="layer"||h==="unit"?{}:RHe(c,h,T),this.component={data:{sources:g?g.component.data.sources:[],outputNodes:g?g.component.data.outputNodes:{},outputNodeRefCounts:g?g.component.data.outputNodeRefCounts:{},isFaceted:S1(c)||(g==null?void 0:g.component.data.isFaceted)&&c.data===void 0},layoutSize:new V2,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...k?_e(k):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){uGe(this)}parseProjection(){v0e(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){p0e(this)}assembleEncodeFromView(c){let{style:h,...g}=c,_={};for(let T of te(g)){let k=g[T];k!==void 0&&(_[T]=Tr(k))}return _}assembleGroupEncodeEntry(c){let h={};return this.view&&(h=this.assembleEncodeFromView(this.view)),!c&&(this.description&&(h.description=Tr(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...h??{}}:Ve(h)?void 0:h}assembleLayout(){if(!this.layout)return;let{spacing:c,...h}=this.layout,{component:g,config:_}=this,T=LWe(g.layoutHeaders,_);return{padding:c,...this.assembleDefaultLayout(),...h,...T?{titleBand:T}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:c}=this.component,h=[];for(let g of X)c[g].title&&h.push(TWe(this,g));for(let g of tQ)h=h.concat(FWe(this,g));return h}assembleAxes(){return mWe(this.component.axes,this.config)}assembleLegends(){return x0e(this)}assembleProjections(){return nQe(this)}assembleTitle(){let{encoding:c,...h}=this.title??{},g={...wn(this.config.title).nonMarkTitleProperties,...h,...c?{encode:{update:c}}:{}};if(g.text)return _t(["unit","layer"],this.type)?_t(["middle",void 0],g.anchor)&&(g.frame??="group"):g.anchor??="start",Ve(g)?void 0:g}assembleGroup(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h={};c=c.concat(this.assembleSignals()),c.length>0&&(h.signals=c);let g=this.assembleLayout();g&&(h.layout=g),h.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let _=!this.parent||mp(this.parent)?T0e(this):[];_.length>0&&(h.scales=_);let T=this.assembleAxes();T.length>0&&(h.axes=T);let k=this.assembleLegends();return k.length>0&&(h.legends=k),h}getName(c){return Ct((this.name?`${this.name}_`:"")+c)}getDataName(c){return this.getName(ma[c].toLowerCase())}requestDataName(c){let h=this.getDataName(c),g=this.component.data.outputNodeRefCounts;return g[h]=(g[h]||0)+1,h}getSizeSignalRef(c){if(mp(this.parent)){let h=i0e(c),g=Xr(h),_=this.component.scales[g];if(_&&!_.merged){let T=_.get("type"),k=_.get("range");if(Le(T)&&or(k)){let V=_.get("name"),re=wN(this,g),Ue=gQ(re);if(Ue){let We=Qr({aggregate:"distinct",field:Ue},{expr:"datum"});return{signal:r0e(V,_,We)}}else return Ar(sr(g)),null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){let h=this.component.data.outputNodes[c];return h?h.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,h){this.signalNameMap.rename(c,h)}renameScale(c,h){this.scaleNameMap.rename(c,h)}renameProjection(c,h){this.projectionNameMap.rename(c,h)}scaleName(c,h){if(h)return this.getName(c);if(rr(c)&&ys(c)&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let h=this.component.scales[c];return h&&!h.merged?h:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,h){let g=this.component.selection[c];if(!g&&this.parent&&(g=this.parent.getSelectionComponent(c,h)),!g)throw new Error(Is(h));return g}hasAxisOrientSignalRef(){var c,h;return((c=this.component.axes.x)===null||c===void 0?void 0:c.some(g=>g.hasOrientSignalRef()))||((h=this.component.axes.y)===null||h===void 0?void 0:h.some(g=>g.hasOrientSignalRef()))}}class $0e extends _Q{vgField(c){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.fieldDef(c);if(!!g)return Qr(g,h)}reduceFieldDef(c,h){return lHe(this.getMapping(),(g,_,T)=>{let k=C1(_);return k?c(g,k,T):g},h)}forEachFieldDef(c,h){EW(this.getMapping(),(g,_)=>{let T=C1(g);T&&c(T,_)},h)}}class AN extends Jo{clone(){return new AN(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h,this.transform=_e(h);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"value",g[1]??"density"],h.groupby&&h.minsteps==null&&h.maxsteps==null&&h.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${rt(this.transform)}`}assemble(){let{density:c,...h}=this.transform;return{type:"kde",field:c,...h}}}class O9 extends Jo{clone(){return new O9(null,{...this.filter})}constructor(c,h){super(c);this.filter=h}static make(c,h){let{config:g,mark:_,markDef:T}=h;if(ti("invalid",T,g)!=="filter")return null;let V=h.reduceFieldDef((re,Ue,We)=>{let kt=ys(We)&&h.getScaleComponent(We);if(kt){let Jt=kt.get("type");yt(Jt)&&Ue.aggregate!=="count"&&!h0(_)&&(re[Ue.field]=Ue)}return re},{});return te(V).length?new O9(c,V):null}dependentFields(){return new Set(te(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${rt(this.filter)}`}assemble(){let c=te(this.filter).reduce((h,g)=>{let _=this.filter[g],T=Qr(_,{expr:"datum"});return _!==null&&(_.type==="temporal"?h.push(`(isDate(${T}) || (isValid(${T}) && isFinite(+${T})))`):_.type==="quantitative"&&(h.push(`isValid(${T})`),h.push(`isFinite(+${T})`))),h},[]);return c.length>0?{type:"filter",expr:c.join(" && ")}:null}}class TN extends Jo{clone(){return new TN(this.parent,_e(this.transform))}constructor(c,h){super(c);this.transform=h,this.transform=_e(h);let{flatten:g,as:_=[]}=this.transform;this.transform.as=g.map((T,k)=>_[k]??T)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${rt(this.transform)}`}assemble(){let{flatten:c,as:h}=this.transform;return{type:"flatten",fields:c,as:h}}}class FN extends Jo{clone(){return new FN(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h,this.transform=_e(h);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"key",g[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${rt(this.transform)}`}assemble(){let{fold:c,as:h}=this.transform;return{type:"fold",fields:c,as:h}}}class bb extends Jo{clone(){return new bb(null,_e(this.fields),this.geojson,this.signal)}static parseAll(c,h){if(h.component.projection&&!h.component.projection.isFit)return c;let g=0;for(let _ of[[ne,at],[Me,Se]]){let T=_.map(k=>{let V=Dl(h.encoding[k]);return cr(V)?V.field:za(V)?{expr:`${V.datum}`}:dp(V)?{expr:`${V.value}`}:void 0});(T[0]||T[1])&&(c=new bb(c,T,null,h.getName(`geojson_${g++}`)))}if(h.channelHasField(ee)){let _=h.typedFieldDef(ee);_.type===Yl&&(c=new bb(c,null,_.field,h.getName(`geojson_${g++}`)))}return c}constructor(c,h,g,_){super(c);this.fields=h,this.geojson=g,this.signal=_}dependentFields(){let c=(this.fields??[]).filter(e.isString);return new Set([...this.geojson?[this.geojson]:[],...c])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${rt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class N9 extends Jo{clone(){return new N9(null,this.projection,_e(this.fields),_e(this.as))}constructor(c,h,g,_){super(c);this.projection=h,this.fields=g,this.as=_}static parseAll(c,h){if(!h.projectionName())return c;for(let g of[[ne,at],[Me,Se]]){let _=g.map(k=>{let V=Dl(h.encoding[k]);return cr(V)?V.field:za(V)?{expr:`${V.datum}`}:dp(V)?{expr:`${V.value}`}:void 0}),T=g[0]===Me?"2":"";(_[0]||_[1])&&(c=new N9(c,h.projectionName(),_,[h.getName(`x${T}`),h.getName(`y${T}`)]))}return c}dependentFields(){return new Set(this.fields.filter(e.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${rt(this.fields)} ${rt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class U4 extends Jo{clone(){return new U4(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){let{start:h=0,stop:g,step:_}=c;return{signal:`sequence(${[h,g,..._?[_]:[]].join(",")})`}}static makeFromTransform(c,h){return new U4(c,h)}static makeFromEncoding(c,h){let g=h.encoding,_=g.x,T=g.y;if(cr(_)&&cr(T)){let k=_.impute?_:T.impute?T:void 0;if(k===void 0)return;let V=_.impute?T:T.impute?_:void 0,{method:re,value:Ue,frame:We,keyvals:kt}=k.impute,Jt=Ace(h.mark,g);return new U4(c,{impute:k.field,key:V.field,...re?{method:re}:{},...Ue!==void 0?{value:Ue}:{},...We?{frame:We}:{},...kt!==void 0?{keyvals:kt}:{},...Jt.length?{groupby:Jt}:{}})}return null}hash(){return`Impute ${rt(this.transform)}`}assemble(){let{impute:c,key:h,keyvals:g,method:_,groupby:T,value:k,frame:V=[null,null]}=this.transform,re={type:"impute",field:c,key:h,...g?{keyvals:iVe(g)?this.processSequence(g):g}:{},method:"value",...T?{groupby:T}:{},value:!_||_==="value"?k:null};if(_&&_!=="value"){let Ue={type:"window",as:[`imputed_${c}_value`],ops:[_],fields:[c],frame:V,ignorePeers:!1,...T?{groupby:T}:{}},We={type:"formula",expr:`datum.${c} === null ? datum.imputed_${c}_value : datum.${c}`,as:c};return[re,Ue,We]}else return[re]}}class DN extends Jo{clone(){return new DN(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h,this.transform=_e(h);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??h.on,g[1]??h.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${rt(this.transform)}`}assemble(){let{loess:c,on:h,...g}=this.transform;return{type:"loess",x:h,y:c,...g}}}class R9 extends Jo{clone(){return new R9(null,_e(this.transform),this.secondary)}constructor(c,h,g){super(c);this.transform=h,this.secondary=g}static make(c,h,g,_){let T=h.component.data.sources,{from:k}=g,V=null;if(sVe(k)){let re=W0e(k.data,T);re||(re=new B4(k.data),T.push(re));let Ue=h.getName(`lookup_${_}`);V=new Of(re,Ue,ma.Lookup,h.component.data.outputNodeRefCounts),h.component.data.outputNodes[Ue]=V}else if(oVe(k)){let re=k.param;g={as:re,...g};let Ue;try{Ue=h.getSelectionComponent(Ct(re),re)}catch{throw new Error(q0(re))}if(V=Ue.materialized,!V)throw new Error(f1(re))}return new R9(c,g,V.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?e.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${rt({transform:this.transform,secondary:this.secondary})}`}assemble(){let c;if(this.transform.from.fields)c={values:this.transform.from.fields,...this.transform.as?{as:e.array(this.transform.as)}:{}};else{let h=this.transform.as;e.isString(h)||(Ar(Vc),h="_lookup"),c={as:[h]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...c,...this.transform.default?{default:this.transform.default}:{}}}}class ON extends Jo{clone(){return new ON(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h,this.transform=_e(h);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"prob",g[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${rt(this.transform)}`}assemble(){let{quantile:c,...h}=this.transform;return{type:"quantile",field:c,...h}}}class NN extends Jo{clone(){return new NN(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h,this.transform=_e(h);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??h.on,g[1]??h.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${rt(this.transform)}`}assemble(){let{regression:c,on:h,...g}=this.transform;return{type:"regression",x:h,y:c,...g}}}class RN extends Jo{clone(){return new RN(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h}addDimensions(c){this.transform.groupby=xt((this.transform.groupby??[]).concat(c),h=>h)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${rt(this.transform)}`}assemble(){let{pivot:c,value:h,groupby:g,limit:_,op:T}=this.transform;return{type:"pivot",field:c,value:h,..._!==void 0?{limit:_}:{},...T!==void 0?{op:T}:{},...g!==void 0?{groupby:g}:{}}}}class LN extends Jo{clone(){return new LN(null,_e(this.transform))}constructor(c,h){super(c);this.transform=h}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${rt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function z0e(u){let c=0;function h(g,_){if(g instanceof B4&&!g.isGenerator&&!cb(g.data)&&(u.push(_),_={name:null,source:_.name,transform:[]}),g instanceof ef&&(g.parent instanceof B4&&!_.source?(_.format={..._.format??{},parse:g.assembleFormatParse()},_.transform.push(...g.assembleTransforms(!0))):_.transform.push(...g.assembleTransforms())),g instanceof yb){_.name||(_.name=`data_${c++}`),!_.source||_.transform.length>0?(u.push(_),g.data=_.name):g.data=_.source,u.push(...g.assemble());return}switch((g instanceof F9||g instanceof D9||g instanceof O9||g instanceof pb||g instanceof mb||g instanceof N9||g instanceof hp||g instanceof R9||g instanceof vb||g instanceof q4||g instanceof FN||g instanceof TN||g instanceof AN||g instanceof DN||g instanceof ON||g instanceof NN||g instanceof Kg||g instanceof LN||g instanceof RN)&&_.transform.push(g.assemble()),(g instanceof D1||g instanceof F1||g instanceof U4||g instanceof W2||g instanceof bb)&&_.transform.push(...g.assemble()),g instanceof Of&&(_.source&&_.transform.length===0?g.setSource(_.source):g.parent instanceof Of?g.setSource(_.name):(_.name||(_.name=`data_${c++}`),g.setSource(_.name),g.numChildren()===1&&(u.push(_),_={name:null,source:_.name,transform:[]}))),g.numChildren()){case 0:g instanceof Of&&(!_.source||_.transform.length>0)&&u.push(_);break;case 1:h(g.children[0],_);break;default:{_.name||(_.name=`data_${c++}`);let T=_.name;!_.source||_.transform.length>0?u.push(_):T=_.source;for(let k of g.children)h(k,{name:null,source:T,transform:[]});break}}}return h}function dGe(u){let c=[],h=z0e(c);for(let g of u.children)h(g,{source:u.name,name:null,transform:[]});return c}function hGe(u,c){let h=[],g=z0e(h),_=0;for(let k of u.sources){k.hasName()||(k.dataName=`source_${_++}`);let V=k.assemble();g(k,V)}for(let k of h)k.transform.length===0&&delete k.transform;let T=0;for(let[k,V]of h.entries())(V.transform??[]).length===0&&!V.source&&h.splice(T++,0,h.splice(k,1)[0]);for(let k of h)for(let V of k.transform??[])V.type==="lookup"&&(V.from=u.outputNodes[V.from].getSource());for(let k of h)k.name in c&&(k.values=c[k.name]);return h}function pGe(u){return u==="top"||u==="left"||Nn(u)?"header":"footer"}function mGe(u){for(let c of X)xGe(u,c);V0e(u,"x"),V0e(u,"y")}function xGe(u,c){let{facet:h,config:g,child:_,component:T}=u;if(u.channelHasField(c)){var k;let V=h[c],re=gb("title",null,g,c),Ue=ob(V,g,{allowDisabling:!0,includeDefault:re===void 0||!!re});_.component.layoutHeaders[c].title&&(Ue=e.isArray(Ue)?Ue.join(", "):Ue,Ue+=` / ${_.component.layoutHeaders[c].title}`,_.component.layoutHeaders[c].title=null);let We=gb("labelOrient",V.header,g,c),kt=V.header!==null?Fe((k=V.header)===null||k===void 0?void 0:k.labels,g.header.labels,!0):!1,Jt=_t(["bottom","right"],We)?"footer":"header";T.layoutHeaders[c]={title:V.header!==null?Ue:null,facetFieldDef:V,[Jt]:c==="facet"?[]:[H0e(u,c,kt)]}}}function H0e(u,c,h){let g=c==="row"?"height":"width";return{labels:h,sizeSignal:u.child.component.layoutSize.get(g)?u.child.getSizeSignalRef(g):void 0,axes:[]}}function V0e(u,c){let{child:h}=u;if(h.component.axes[c]){let{layoutHeaders:g,resolve:_}=u.component;if(_.axis[c]=sQ(_,c),_.axis[c]==="shared"){let T=c==="x"?"column":"row",k=g[T];for(let V of h.component.axes[c]){let re=pGe(V.get("orient"));k[re]??=[H0e(u,T,!1)];let Ue=T9(V,"main",u.config,{header:!0});Ue&&k[re][0].axes.push(Ue),V.mainExtracted=!0}}}}function gGe(u){bQ(u),kN(u,"width"),kN(u,"height")}function yGe(u){bQ(u);let c=u.layout.columns===1?"width":"childWidth",h=u.layout.columns===void 0?"height":"childHeight";kN(u,c),kN(u,h)}function bQ(u){for(let c of u.children)c.parseLayoutSize()}function kN(u,c){let h=i0e(c),g=Xr(h),_=u.component.resolve,T=u.component.layoutSize,k;for(let V of u.children){let re=V.component.layoutSize.getWithExplicit(h),Ue=_.scale[g]??o0e(g,u);if(Ue==="independent"&&re.value==="step"){k=void 0;break}if(k){if(Ue==="independent"&&k.value!==re.value){k=void 0;break}k=Vg(k,re,h,"")}else k=re}if(k){for(let V of u.children)u.renameSignal(V.getName(h),u.getName(c)),V.component.layoutSize.set(h,"merged",!1);T.setWithExplicit(c,k)}else T.setWithExplicit(c,{explicit:!1,value:void 0})}function vGe(u){let{size:c,component:h}=u;for(let g of Ls){let _=Ni(g);if(c[_]){let T=c[_];h.layoutSize.set(_,A1(T)?"step":T,!0)}else{let T=_Ge(u,_);h.layoutSize.set(_,T,!1)}}}function _Ge(u,c){let h=c==="width"?"x":"y",g=u.config,_=u.getScaleComponent(h);if(_){let T=_.get("type"),k=_.get("range");if(Le(T)){let V=fN(g.view,c);return or(k)||A1(V)?"step":V}else return kW(g.view,c)}else{if(u.hasProjection||u.mark==="arc")return kW(g.view,c);{let T=fN(g.view,c);return A1(T)?T.step:T}}}function EQ(u,c,h){return Qr(c,{suffix:`by_${Qr(u)}`,...h??{}})}class L9 extends $0e{constructor(c,h,g,_){super(c,"facet",h,g,_,c.resolve);_r(this,"facet",void 0),_r(this,"child",void 0),_r(this,"children",void 0),this.child=TQ(c.spec,this,this.getName("child"),void 0,_),this.children=[this.child],this.facet=this.initFacet(c.facet)}initFacet(c){if(!fp(c))return{facet:this.initFacetFieldDef(c,"facet")};let h=te(c),g={};for(let _ of h){if(![gn,kn].includes(_)){Ar(Ku(_,"facet"));break}let T=c[_];if(T.field===void 0){Ar(gc(T,_));break}g[_]=this.initFacetFieldDef(T,_)}return g}initFacetFieldDef(c,h){let g=vW(c,h);return g.header?g.header=on(g.header):g.header===null&&(g.header=null),g}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=IN(this),this.child.parseData()}parseLayoutSize(){bQ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),mGe(this)}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){let c={};for(let h of X)for(let g of nQ){let _=this.component.layoutHeaders[h],T=_[g],{facetFieldDef:k}=_;if(k){let V=gb("titleOrient",k.header,this.config,h);if(["right","bottom"].includes(V)){let re=_N(h,V);c.titleAnchor??={},c.titleAnchor[re]="end"}}if(T!=null&&T[0]){let V=h==="row"?"height":"width",re=g==="header"?"headerBand":"footerBand";h!=="facet"&&!this.child.component.layoutSize.get(V)&&(c[re]??={},c[re][h]=.5),_.title&&(c.offset??={},c.offset[h==="row"?"rowTitle":"columnTitle"]=10)}}return c}assembleDefaultLayout(){let{column:c,row:h}=this.facet,g=c?this.columnDistinctSignal():h?1:void 0,_="all";return(!h&&this.component.resolve.scale.x==="independent"||!c&&this.component.resolve.scale.y==="independent")&&(_="none"),{...this.getHeaderLayoutMixins(),...g?{columns:g}:{},bounds:"full",align:_}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof L9))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(c){return this.parent&&this.parent instanceof L9?{...this.channelHasField("column")?{encode:{update:{columns:{field:Qr(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(c)}:super.assembleGroup(c)}getCardinalityAggregateForChild(){let c=[],h=[],g=[];if(this.child instanceof L9){if(this.child.channelHasField("column")){let _=Qr(this.child.facet.column);c.push(_),h.push("distinct"),g.push(`distinct_${_}`)}}else for(let _ of Ls){let T=this.child.component.scales[_];if(T&&!T.merged){let k=T.get("type"),V=T.get("range");if(Le(k)&&or(V)){let re=wN(this.child,_),Ue=gQ(re);Ue?(c.push(Ue),h.push("distinct"),g.push(`distinct_${Ue}`)):Ar(sr(_))}}}return{fields:c,ops:h,as:g}}assembleFacet(){let{name:c,data:h}=this.component.data.facetRoot,{row:g,column:_}=this.facet,{fields:T,ops:k,as:V}=this.getCardinalityAggregateForChild(),re=[];for(let We of X){let kt=this.facet[We];if(kt){re.push(Qr(kt));let{bin:Jt,sort:En}=kt;if(tr(Jt)&&re.push(Qr(kt,{binSuffix:"end"})),ia(En)){let{field:jn,op:Yn=tl}=En,Xn=EQ(kt,En);g&&_?(T.push(Xn),k.push("max"),V.push(Xn)):(T.push(jn),k.push(Yn),V.push(Xn))}else if(e.isArray(En)){let jn=xb(kt,We);T.push(jn),k.push("max"),V.push(jn)}}}let Ue=!!g&&!!_;return{name:c,data:h,groupby:re,...Ue||T.length>0?{aggregate:{...Ue?{cross:Ue}:{},...T.length?{fields:T,ops:k,as:V}:{}}}:{}}}facetSortFields(c){let{facet:h}=this,g=h[c];return g?ia(g.sort)?[EQ(g,g.sort,{expr:"datum"})]:e.isArray(g.sort)?[xb(g,c,{expr:"datum"})]:[Qr(g,{expr:"datum"})]:[]}facetSortOrder(c){let{facet:h}=this,g=h[c];if(g){let{sort:_}=g;return[(ia(_)?_.order:!e.isArray(_)&&_)||"ascending"]}return[]}assembleLabelTitle(){let{facet:c,config:h}=this;if(c.facet)return rQ(c.facet,"facet",h);let g={row:["top","bottom"],column:["left","right"]};for(let T of tQ)if(c[T]){var _;let k=gb("labelOrient",(_=c[T])===null||_===void 0?void 0:_.header,h,T);if(g[T].includes(k))return rQ(c[T],T,h)}}assembleMarks(){let{child:c}=this,h=this.component.data.facetRoot,g=dGe(h),_=c.assembleGroupEncodeEntry(!1),T=this.assembleLabelTitle()||c.assembleTitle(),k=c.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...T?{title:T}:{},...k?{style:k}:{},from:{facet:this.assembleFacet()},sort:{field:X.map(re=>this.facetSortFields(re)).flat(),order:X.map(re=>this.facetSortOrder(re)).flat()},...g.length>0?{data:g}:{},..._?{encode:{update:_}}:{},...c.assembleGroup(kVe(this,[]))}]}getMapping(){return this.facet}}function bGe(u,c){let{row:h,column:g}=c;if(h&&g){let _=null;for(let T of[h,g])if(ia(T.sort)){let{field:k,op:V=tl}=T.sort;u=_=new q4(u,{joinaggregate:[{op:V,field:k,as:EQ(T,T.sort,{forAs:!0})}],groupby:[Qr(T)]})}return _}return null}function W0e(u,c){for(let k of c){var h,g,_,T;let V=k.data;if(u.name&&k.hasName()&&u.name!==k.dataName)continue;let re=(h=u.format)===null||h===void 0?void 0:h.mesh,Ue=(g=V.format)===null||g===void 0?void 0:g.feature;if(re&&Ue)continue;let We=(_=u.format)===null||_===void 0?void 0:_.feature;if((We||Ue)&&We!==Ue)continue;let kt=(T=V.format)===null||T===void 0?void 0:T.mesh;if(!((re||kt)&&re!==kt)){if(S9(u)&&S9(V)){if(Ke(u.values,V.values))return k}else if(cb(u)&&cb(V)){if(u.url===V.url)return k}else if(xfe(u)&&u.name===k.dataName)return k}}return null}function EGe(u,c){if(u.data||!u.parent){if(u.data===null){let g=new B4({values:[]});return c.push(g),g}let h=W0e(u.data,c);if(h)return Wg(u.data)||(h.data.format=Rt({},u.data.format,h.data.format)),!h.hasName()&&u.data.name&&(h.dataName=u.data.name),h;{let g=new B4(u.data);return c.push(g),g}}else return u.parent.component.data.facetRoot?u.parent.component.data.facetRoot:u.parent.component.data.main}function SGe(u,c,h){let g=0;for(let _ of c.transforms){let T,k;if(xVe(_))k=u=new mb(u,_),T="derived";else if(jW(_)){let V=mQe(_);k=u=ef.makeWithAncestors(u,{},V,h)??u,u=new pb(u,c,_.filter)}else if(afe(_))k=u=D1.makeFromTransform(u,_,c),T="number";else if(yVe(_))T="date",h.getWithExplicit(_.field).value===void 0&&(u=new ef(u,{[_.field]:T}),h.set(_.field,T,!1)),k=u=F1.makeFromTransform(u,_);else if(vVe(_))k=u=hp.makeFromTransform(u,_),T="number",KW(c)&&(u=new Kg(u));else if(ofe(_))k=u=R9.make(u,c,_,g++),T="derived";else if(hVe(_))k=u=new vb(u,_),T="number";else if(pVe(_))k=u=new q4(u,_),T="number";else if(_Ve(_))k=u=W2.makeFromTransform(u,_),T="derived";else if(bVe(_))k=u=new FN(u,_),T="derived";else if(mVe(_))k=u=new TN(u,_),T="derived";else if(aVe(_))k=u=new RN(u,_),T="derived";else if(dVe(_))u=new LN(u,_);else if(gVe(_))k=u=U4.makeFromTransform(u,_),T="derived";else if(uVe(_))k=u=new AN(u,_),T="derived";else if(lVe(_))k=u=new ON(u,_),T="derived";else if(cVe(_))k=u=new NN(u,_),T="derived";else if(fVe(_))k=u=new DN(u,_),T="derived";else{Ar(Nd(_));continue}if(k&&T!==void 0)for(let V of k.producedFields()??[])h.set(V,T,!1)}return u}function IN(u){var c;let h=EGe(u,u.component.data.sources),{outputNodes:g,outputNodeRefCounts:_}=u.component.data,T=u.data,V=!(T&&(Wg(T)||cb(T)||S9(T)))&&u.parent?u.parent.component.data.ancestorParse.clone():new RVe;Wg(T)?(gfe(T)?h=new D9(h,T.sequence):$W(T)&&(h=new F9(h,T.graticule)),V.parseNothing=!0):(T==null||(c=T.format)===null||c===void 0?void 0:c.parse)===null&&(V.parseNothing=!0),h=ef.makeExplicit(h,u,V)??h,h=new Kg(h);let re=u.parent&&_b(u.parent);(rl(u)||mp(u))&&re&&(h=D1.makeFromEncoding(h,u)??h),u.transforms.length>0&&(h=SGe(h,u,V));let Ue=gQe(u),We=xQe(u);h=ef.makeWithAncestors(h,{},{...Ue,...We},V)??h,rl(u)&&(h=bb.parseAll(h,u),h=N9.parseAll(h,u)),(rl(u)||mp(u))&&(re||(h=D1.makeFromEncoding(h,u)??h),h=F1.makeFromEncoding(h,u)??h,h=mb.parseAllForSortIndex(h,u));let kt=u.getDataName(ma.Raw),Jt=new Of(h,kt,ma.Raw,_);if(g[kt]=Jt,h=Jt,rl(u)){let Xn=hp.makeFromEncoding(h,u);Xn&&(h=Xn,KW(u)&&(h=new Kg(h))),h=U4.makeFromEncoding(h,u)??h,h=W2.makeFromEncoding(h,u)??h}rl(u)&&(h=O9.make(h,u)??h);let En=u.getDataName(ma.Main),jn=new Of(h,En,ma.Main,_);g[En]=jn,h=jn,rl(u)&&hWe(u,jn);let Yn=null;if(mp(u)){let Xn=u.getName("facet");h=bGe(h,u.facet)??h,Yn=new yb(h,u,Xn,jn.getSource()),g[Xn]=Yn}return{...u.component.data,outputNodes:g,outputNodeRefCounts:_,raw:Jt,main:jn,facetRoot:Yn,ancestorParse:V}}class CGe extends _Q{constructor(c,h,g,_){var T,k,V,re;super(c,"concat",h,g,_,c.resolve);_r(this,"children",void 0),(((T=c.resolve)===null||T===void 0||(k=T.axis)===null||k===void 0?void 0:k.x)==="shared"||((V=c.resolve)===null||V===void 0||(re=V.axis)===null||re===void 0?void 0:re.y)==="shared")&&Ar(U0),this.children=this.getChildren(c).map((Ue,We)=>TQ(Ue,this,this.getName(`concat_${We}`),void 0,_))}parseData(){this.component.data=IN(this);for(let c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let h of te(c.component.selection))this.component.selection[h]=c.component.selection[h]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(let c of this.children)c.parseAxesAndHeaders()}getChildren(c){return lN(c)?c.vconcat:LW(c)?c.hconcat:c.concat}parseLayoutSize(){yGe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((h,g)=>g.assembleSelectionTopLevelSignals(h),c)}assembleSignals(){return this.children.forEach(c=>c.assembleSignals()),[]}assembleLayoutSignals(){let c=iQ(this);for(let h of this.children)c.push(...h.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((h,g)=>g.assembleSelectionData(h),c)}assembleMarks(){return this.children.map(c=>{let h=c.assembleTitle(),g=c.assembleGroupStyle(),_=c.assembleGroupEncodeEntry(!1);return{type:"group",name:c.getName("group"),...h?{title:h}:{},...g?{style:g}:{},..._?{encode:{update:_}}:{},...c.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){let c=this.layout.columns;return{...c!=null?{columns:c}:{},bounds:"full",align:"each"}}}function wGe(u){return u===!1||u===null}let AGe={disable:1,gridScale:1,scale:1,...bce,labelExpr:1,encode:1},Q0e=te(AGe);class SQ extends V2{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super();this.explicit=c,this.implicit=h,this.mainExtracted=g}clone(){return new SQ(_e(this.explicit),_e(this.implicit),this.mainExtracted)}hasAxisPart(c){return c==="axis"?!0:c==="grid"||c==="title"?!!this.get(c):!wGe(this.get(c))}hasOrientSignalRef(){return Nn(this.explicit.orient)}}function TGe(u,c,h){let{encoding:g,config:_}=u,T=Dl(g[c])??Dl(g[Ki(c)]),k=u.axis(c)||{},{format:V,formatType:re}=k;if(li(re))return{text:Gi({fieldOrDatumDef:T,field:"datum.value",format:V,formatType:re,config:_}),...h};if(V===void 0&&re===void 0&&_.customFormatTypes){if(nl(T)==="quantitative"){if(sb(T)&&T.stack==="normalize"&&_.normalizedNumberFormatType)return{text:Gi({fieldOrDatumDef:T,field:"datum.value",format:_.normalizedNumberFormat,formatType:_.normalizedNumberFormatType,config:_}),...h};if(_.numberFormatType)return{text:Gi({fieldOrDatumDef:T,field:"datum.value",format:_.numberFormat,formatType:_.numberFormatType,config:_}),...h}}if(nl(T)==="temporal"&&_.timeFormatType&&cr(T)&&!T.timeUnit)return{text:Gi({fieldOrDatumDef:T,field:"datum.value",format:_.timeFormat,formatType:_.timeFormatType,config:_}),...h}}return h}function FGe(u){return Ls.reduce((c,h)=>(u.component.scales[h]&&(c[h]=[IGe(h,u)]),c),{})}let DGe={bottom:"top",top:"bottom",left:"right",right:"left"};function OGe(u){let{axes:c,resolve:h}=u.component,g={top:0,bottom:0,right:0,left:0};for(let _ of u.children){_.parseAxesAndHeaders();for(let T of te(_.component.axes))h.axis[T]=sQ(u.component.resolve,T),h.axis[T]==="shared"&&(c[T]=NGe(c[T],_.component.axes[T]),c[T]||(h.axis[T]="independent",delete c[T]))}for(let _ of Ls){for(let T of u.children)if(!!T.component.axes[_]){if(h.axis[_]==="independent"){c[_]=(c[_]??[]).concat(T.component.axes[_]);for(let k of T.component.axes[_]){let{value:V,explicit:re}=k.getWithExplicit("orient");if(!Nn(V)){if(g[V]>0&&!re){let Ue=DGe[V];g[V]>g[Ue]&&k.set("orient",Ue,!1)}g[V]++}}}delete T.component.axes[_]}if(h.axis[_]==="independent"&&c[_]&&c[_].length>1)for(let T of c[_])!!T.get("grid")&&!T.explicit.grid&&(T.implicit.grid=!1)}}function NGe(u,c){if(u){if(u.length!==c.length)return;let h=u.length;for(let g=0;g<h;g++){let _=u[g],T=c[g];if(!!_!=!!T)return;if(_&&T){let k=_.getWithExplicit("orient"),V=T.getWithExplicit("orient");if(k.explicit&&V.explicit&&k.value!==V.value)return;u[g]=RGe(_,T)}}}else return c.map(h=>h.clone());return u}function RGe(u,c){for(let h of Q0e){let g=Vg(u.getWithExplicit(h),c.getWithExplicit(h),h,"axis",(_,T)=>{switch(h){case"title":return zi(_,T);case"gridScale":return{explicit:_.explicit,value:Fe(_.value,T.value)}}return hN(_,T,h,"axis")});u.setWithExplicit(h,g)}return u}function LGe(u,c,h,g,_){if(c==="disable")return h!==void 0;switch(h=h||{},c){case"titleAngle":case"labelAngle":return u===(Nn(h.labelAngle)?h.labelAngle:Yt(h.labelAngle));case"values":return!!h.values;case"encode":return!!h.encoding||!!h.labelAngle;case"title":if(u===Xfe(g,_))return!0}return u===h[c]}let kGe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function IGe(u,c){var h,g,_,T;let k=c.axis(u),V=new SQ,re=Dl(c.encoding[u]),{mark:Ue,config:We}=c,kt=((h=k)===null||h===void 0?void 0:h.orient)||((g=We[u==="x"?"axisX":"axisY"])===null||g===void 0?void 0:g.orient)||((_=We.axis)===null||_===void 0?void 0:_.orient)||SWe(u),Jt=c.getScaleComponent(u).get("type"),En=xWe(u,Jt,kt,c.config),jn=k!==void 0?!k:ZW("disable",We.style,(T=k)===null||T===void 0?void 0:T.style,En).configValue;if(V.set("disable",jn,k!==void 0),jn)return V;k=k||{};let Yn=_We(re,k,u,We.style,En),Xn={fieldOrDatumDef:re,axis:k,channel:u,model:c,scaleType:Jt,orient:kt,labelAngle:Yn,mark:Ue,config:We};for(let gi of Q0e){let Xi=gi in Yfe?Yfe[gi](Xn):Ece(gi)?k[gi]:void 0,pi=Xi!==void 0,So=LGe(Xi,gi,k,c,u);if(pi&&So)V.set(gi,Xi,So);else{let{configValue:Ri=void 0,configFrom:uu=void 0}=Ece(gi)&&gi!=="values"?ZW(gi,We.style,k.style,En):{},vu=Ri!==void 0;pi&&!vu?V.set(gi,Xi,So):(uu!=="vgAxisConfig"||kGe.has(gi)&&vu||E9(Ri)||Nn(Ri))&&V.set(gi,Ri,!1)}}let yr=k.encoding??{},ci=_ce.reduce((gi,Xi)=>{if(!V.hasAxisPart(Xi))return gi;let pi=s0e(yr[Xi]??{},c),So=Xi==="labels"?TGe(c,u,pi):pi;return So!==void 0&&!Ve(So)&&(gi[Xi]={update:So}),gi},{});return Ve(ci)||V.set("encode",ci,!!k.encoding||k.labelAngle!==void 0),V}function MGe(u){let{encoding:c,size:h}=u;for(let g of Ls){let _=Ni(g);A1(h[_])&&Jl(c[g])&&(delete h[_],Ar(Nr(_)))}return h}function PGe(u,c,h){let g=on(u),_=ti("orient",g,h);if(g.orient=UGe(g.type,c,_),_!==void 0&&_!==g.orient&&Ar(R(g.orient,_)),g.type==="bar"&&g.orient){let V=ti("cornerRadiusEnd",g,h);if(V!==void 0){let re=g.orient==="horizontal"&&c.x2||g.orient==="vertical"&&c.y2?["cornerRadius"]:w[g.orient];for(let Ue of re)g[Ue]=V;g.cornerRadiusEnd!==void 0&&delete g.cornerRadiusEnd}}return ti("opacity",g,h)===void 0&&(g.opacity=jGe(g.type,c)),ti("cursor",g,h)===void 0&&(g.cursor=BGe(g,c,h)),g}function BGe(u,c,h){return c.href||u.href||ti("href",u,h)?"pointer":u.cursor}function jGe(u,c){if(_t([j2,zg,q2,U2],u)&&!bW(c))return .7}function qGe(u,c,h){let{graticule:g}=h;if(g)return!1;let _=vs("filled",u,c),T=u.type;return Fe(_,T!==j2&&T!==B2&&T!==d0)}function UGe(u,c,h){switch(u){case j2:case q2:case U2:case $g:case g9:case Z6:return}let{x:g,y:_,x2:T,y2:k}=c;switch(u){case P2:if(cr(g)&&(Bi(g.bin)||cr(_)&&_.aggregate&&!g.aggregate))return"vertical";if(cr(_)&&(Bi(_.bin)||cr(g)&&g.aggregate&&!_.aggregate))return"horizontal";if(k||T){if(h)return h;if(!T)return(cr(g)&&g.type===u0&&!tr(g.bin)||ib(g))&&cr(_)&&Bi(_.bin)?"horizontal":"vertical";if(!k)return(cr(_)&&_.type===u0&&!tr(_.bin)||ib(_))&&cr(g)&&Bi(g.bin)?"vertical":"horizontal"}case d0:if(T&&!(cr(g)&&Bi(g.bin))&&k&&!(cr(_)&&Bi(_.bin)))return;case M2:if(k)return cr(_)&&Bi(_.bin)?"horizontal":"vertical";if(T)return cr(g)&&Bi(g.bin)?"vertical":"horizontal";if(u===d0){if(g&&!_)return"vertical";if(_&&!g)return"horizontal"}case B2:case zg:{let V=Jl(g),re=Jl(_);if(h)return h;if(V&&!re)return u!=="tick"?"horizontal":"vertical";if(!V&&re)return u!=="tick"?"vertical":"horizontal";if(V&&re){let Ue=g,We=_,kt=Ue.type===l0,Jt=We.type===l0;return kt&&!Jt?u!=="tick"?"vertical":"horizontal":!kt&&Jt?u!=="tick"?"horizontal":"vertical":!Ue.aggregate&&We.aggregate?u!=="tick"?"vertical":"horizontal":Ue.aggregate&&!We.aggregate&&u!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}let $Ge={vgMark:"arc",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Zc("x",u,{defaultPos:"mid"}),...Zc("y",u,{defaultPos:"mid"}),...Gg(u,"radius"),...Gg(u,"theta")})},zGe={vgMark:"area",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...mN("x",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="horizontal"}),...mN("y",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="vertical"}),...GW(u)})},HGe={vgMark:"rect",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Gg(u,"x"),...Gg(u,"y")})},VGe={vgMark:"shape",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:u=>{let{encoding:c}=u,h=c.shape;return[{type:"geoshape",projection:u.projectionName(),...h&&cr(h)&&h.type===Yl?{field:Qr(h,{expr:"datum"})}:{}}]}},WGe={vgMark:"image",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Gg(u,"x"),...Gg(u,"y"),...WW(u,"url")})},QGe={vgMark:"line",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Zc("x",u,{defaultPos:"mid"}),...Zc("y",u,{defaultPos:"mid"}),...Xl("size",u,{vgChannel:"strokeWidth"}),...GW(u)})},GGe={vgMark:"trail",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Zc("x",u,{defaultPos:"mid"}),...Zc("y",u,{defaultPos:"mid"}),...Xl("size",u),...GW(u)})};function CQ(u,c){let{config:h}=u;return{...$d(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Zc("x",u,{defaultPos:"mid"}),...Zc("y",u,{defaultPos:"mid"}),...Xl("size",u),...Xl("angle",u),...YGe(u,h,c)}}function YGe(u,c,h){return h?{shape:{value:h}}:Xl("shape",u)}let KGe={vgMark:"symbol",encodeEntry:u=>CQ(u)},JGe={vgMark:"symbol",encodeEntry:u=>CQ(u,"circle")},XGe={vgMark:"symbol",encodeEntry:u=>CQ(u,"square")},ZGe={vgMark:"rect",encodeEntry:u=>({...$d(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Gg(u,"x"),...Gg(u,"y")})},eYe={vgMark:"rule",encodeEntry:u=>{let{markDef:c}=u,h=c.orient;return!u.encoding.x&&!u.encoding.y&&!u.encoding.latitude&&!u.encoding.longitude?{}:{...$d(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...mN("x",u,{defaultPos:h==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:h!=="vertical"}),...mN("y",u,{defaultPos:h==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:h!=="horizontal"}),...Xl("size",u,{vgChannel:"strokeWidth"})}}},tYe={vgMark:"text",encodeEntry:u=>{let{config:c,encoding:h}=u;return{...$d(u,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Zc("x",u,{defaultPos:"mid"}),...Zc("y",u,{defaultPos:"mid"}),...WW(u),...Xl("size",u,{vgChannel:"fontSize"}),...Xl("angle",u),...Ofe("align",nYe(u.markDef,h,c)),...Ofe("baseline",rYe(u.markDef,h,c)),...Zc("radius",u,{defaultPos:null}),...Zc("theta",u,{defaultPos:null})}}};function nYe(u,c,h){if(ti("align",u,h)===void 0)return"center"}function rYe(u,c,h){if(ti("baseline",u,h)===void 0)return"middle"}let iYe={vgMark:"rect",encodeEntry:u=>{let{config:c,markDef:h}=u,g=h.orient,_=g==="horizontal"?"width":"height",T=g==="horizontal"?"height":"width";return{...$d(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Zc("x",u,{defaultPos:"mid",vgChannel:"xc"}),...Zc("y",u,{defaultPos:"mid",vgChannel:"yc"}),...Xl("size",u,{defaultValue:sYe(u),vgChannel:_}),[T]:Tr(ti("thickness",h,c))}}};function sYe(u){let{config:c,markDef:h}=u,{orient:g}=h,_=g==="horizontal"?"width":"height",T=u.getScaleComponent(g==="horizontal"?"x":"y"),k=ti("size",h,c,{vgChannel:_})??c.tick.bandSize;if(k!==void 0)return k;{let V=T?T.get("range"):void 0;return V&&or(V)&&e.isNumber(V.step)?V.step*3/4:cN(c.view,_)*3/4}}let MN={arc:$Ge,area:zGe,bar:HGe,circle:JGe,geoshape:VGe,image:WGe,line:QGe,point:KGe,rect:ZGe,rule:eYe,square:XGe,text:tYe,tick:iYe,trail:GGe};function oYe(u){if(_t([B2,M2,R4],u.mark)){let c=Ace(u.mark,u.encoding);if(c.length>0)return aYe(u,c)}else if(u.mark===P2){let c=Kr.some(h=>ti(h,u.markDef,u.config));if(u.stack&&!u.fieldDef("size")&&c)return uYe(u)}return wQ(u)}let G0e="faceted_path_";function aYe(u,c){return[{name:u.getName("pathgroup"),type:"group",from:{facet:{name:G0e+u.requestDataName(ma.Main),data:u.requestDataName(ma.Main),groupby:c}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:wQ(u,{fromPrefix:G0e})}]}let Y0e="stack_group_";function uYe(u){var c;let[h]=wQ(u,{fromPrefix:Y0e}),g=u.scaleName(u.stack.fieldChannel),_=function(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.vgField(u.stack.fieldChannel,We)},T=(We,kt)=>{let Jt=[_({prefix:"min",suffix:"start",expr:kt}),_({prefix:"max",suffix:"start",expr:kt}),_({prefix:"min",suffix:"end",expr:kt}),_({prefix:"max",suffix:"end",expr:kt})];return`${We}(${Jt.map(En=>`scale('${g}',${En})`).join(",")})`},k,V;u.stack.fieldChannel==="x"?(k={...be(h.encode.update,["y","yc","y2","height",...Kr]),x:{signal:T("min","datum")},x2:{signal:T("max","datum")},clip:{value:!0}},V={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},h.encode.update={...de(h.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(k={...be(h.encode.update,["x","xc","x2","width"]),y:{signal:T("min","datum")},y2:{signal:T("max","datum")},clip:{value:!0}},V={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},h.encode.update={...de(h.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(let We of Kr){let kt=vs(We,u.markDef,u.config);h.encode.update[We]?(k[We]=h.encode.update[We],delete h.encode.update[We]):kt&&(k[We]=Tr(kt)),kt&&(h.encode.update[We]={value:0})}let re=[];if(((c=u.stack.groupbyChannels)===null||c===void 0?void 0:c.length)>0)for(let We of u.stack.groupbyChannels){let kt=u.fieldDef(We),Jt=Qr(kt);Jt&&re.push(Jt),(kt!=null&&kt.bin||kt!=null&&kt.timeUnit)&&re.push(Qr(kt,{binSuffix:"end"}))}return k=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((We,kt)=>{if(h.encode.update[kt])return{...We,[kt]:h.encode.update[kt]};{let Jt=vs(kt,u.markDef,u.config);return Jt!==void 0?{...We,[kt]:Tr(Jt)}:We}},k),k.stroke&&(k.strokeForeground={value:!0},k.strokeOffset={value:0}),[{type:"group",from:{facet:{data:u.requestDataName(ma.Main),name:Y0e+u.requestDataName(ma.Main),groupby:re,aggregate:{fields:[_({suffix:"start"}),_({suffix:"start"}),_({suffix:"end"}),_({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:k},marks:[{type:"group",encode:{update:V},marks:[h]}]}]}function lYe(u){let{encoding:c,stack:h,mark:g,markDef:_,config:T}=u,k=c.order;if(!(!e.isArray(k)&&dp(k)&&Bt(k.value)||!k&&Bt(ti("order",_,T)))){if((e.isArray(k)||cr(k))&&!h)return Xs(k,{expr:"datum"});if(h0(g)){let re=_.orient==="horizontal"?"y":"x",Ue=c[re];if(cr(Ue)){let We=Ue.sort;if(e.isArray(We))return{field:Qr(Ue,{prefix:re,suffix:"sort_index",expr:"datum"})};if(ia(We))return{field:Qr({aggregate:bW(u.encoding)?We.op:void 0,field:We.field},{expr:"datum"})};if(Z0(We)){let kt=u.fieldDef(We.encoding);return{field:Qr(kt,{expr:"datum"}),order:We.order}}else{if(We===null)return;var V;return{field:Qr(Ue,{binSuffix:(V=u.stack)!==null&&V!==void 0&&V.impute?"mid":void 0,expr:"datum"})}}}return}}}function wQ(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromPrefix:""},{mark:h,markDef:g,encoding:_,config:T}=u,k=Fe(g.clip,cYe(u),fYe(u)),V=Qi(g),re=_.key,Ue=lYe(u),We=dYe(u),kt=ti("aria",g,T),Jt=MN[h].postEncodingTransform?MN[h].postEncodingTransform(u):null;return[{name:u.getName("marks"),type:MN[h].vgMark,...k?{clip:!0}:{},...V?{style:V}:{},...re?{key:re.field}:{},...Ue?{sort:Ue}:{},...We||{},...kt===!1?{aria:kt}:{},from:{data:c.fromPrefix+u.requestDataName(ma.Main)},encode:{update:MN[h].encodeEntry(u)},...Jt?{transform:Jt}:{}}]}function cYe(u){let c=u.getScaleComponent("x"),h=u.getScaleComponent("y");return c!=null&&c.get("selectionExtent")||h!=null&&h.get("selectionExtent")?!0:void 0}function fYe(u){let c=u.component.projection;return c&&!c.isFit?!0:void 0}function dYe(u){if(!u.component.selection)return null;let c=te(u.component.selection).length,h=c,g=u.parent;for(;g&&h===0;)h=te(g.component.selection).length,g=g.parent;return h?{interactive:c>0||!!u.encoding.tooltip}:null}class K0e extends $0e{constructor(c,h,g){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},T=arguments.length>4?arguments[4]:void 0;super(c,"unit",h,g,T,void 0,Hce(c)?c.view:void 0);_r(this,"markDef",void 0),_r(this,"encoding",void 0),_r(this,"specifiedScales",{}),_r(this,"stack",void 0),_r(this,"specifiedAxes",{}),_r(this,"specifiedLegends",{}),_r(this,"specifiedProjection",{}),_r(this,"selection",[]),_r(this,"children",[]);let k=Jc(c.mark)?{...c.mark}:{type:c.mark},V=k.type;k.filled===void 0&&(k.filled=qGe(k,T,{graticule:c.data&&$W(c.data)}));let re=this.encoding=aHe(c.encoding||{},V,k.filled,T);this.markDef=PGe(k,re,T),this.size=MGe({encoding:re,size:Hce(c)?{..._,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}}:_}),this.stack=Xce(V,re),this.specifiedScales=this.initScales(V,re),this.specifiedAxes=this.initAxes(re),this.specifiedLegends=this.initLegends(re),this.specifiedProjection=c.projection,this.selection=(c.params??[]).filter(Ue=>NW(Ue))}get hasProjection(){let{encoding:c}=this,h=this.mark===Hg,g=c&&vt.some(_=>ms(c[_]));return h||g}scaleDomain(c){let h=this.specifiedScales[c];return h?h.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,h){return ns.reduce((g,_)=>{let T=Dl(h[_]);return T&&(g[_]=this.initScale(T.scale??{})),g},{})}initScale(c){let{domain:h,range:g}=c,_=on(c);return e.isArray(h)&&(_.domain=h.map(ui)),e.isArray(g)&&(_.range=g.map(ui)),_}initAxes(c){return Ls.reduce((h,g)=>{let _=c[g];if(ms(_)||g===bn&&ms(c.x2)||g===zn&&ms(c.y2)){let T=ms(_)?_.axis:void 0;h[g]=T&&this.initAxis({...T})}return h},{})}initAxis(c){let h=te(c),g={};for(let _ of h){let T=c[_];g[_]=E9(T)?$r(T):ui(T)}return g}initLegends(c){return Qo.reduce((h,g)=>{let _=Dl(c[g]);if(_&&Ei(g)){let T=_.legend;h[g]=T&&on(T)}return h},{})}parseData(){this.component.data=IN(this)}parseLayoutSize(){vGe(this)}parseSelections(){this.component.selection=dWe(this,this.selection)}parseMarkGroup(){this.component.mark=oYe(this)}parseAxesAndHeaders(){this.component.axes=FGe(this)}assembleSelectionTopLevelSignals(c){return IVe(this,c)}assembleSignals(){return[...Qfe(this),...LVe(this,[])]}assembleSelectionData(c){return MVe(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return iQ(this)}assembleMarks(){let c=this.component.mark??[];return(!this.parent||!_b(this.parent))&&(c=vfe(this,c)),c.map(this.correctDataNames)}assembleGroupStyle(){let{style:c}=this.view||{};if(c!==void 0)return c;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return I4(this.encoding,c)}fieldDef(c){let h=this.encoding[c];return C1(h)}typedFieldDef(c){let h=this.fieldDef(c);return Ud(h)?h:null}}class AQ extends _Q{constructor(c,h,g,_,T){super(c,"layer",h,g,T,c.resolve,c.view);_r(this,"children",void 0);let k={..._,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}};this.children=c.layer.map((V,re)=>{if(dN(V))return new AQ(V,this,this.getName(`layer_${re}`),k,T);if(z2(V))return new K0e(V,this,this.getName(`layer_${re}`),k,T);throw new Error(ue(V))})}parseData(){this.component.data=IN(this);for(let c of this.children)c.parseData()}parseLayoutSize(){gGe(this)}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let h of te(c.component.selection))this.component.selection[h]=c.component.selection[h]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){OGe(this)}assembleSelectionTopLevelSignals(c){return this.children.reduce((h,g)=>g.assembleSelectionTopLevelSignals(h),c)}assembleSignals(){return this.children.reduce((c,h)=>c.concat(h.assembleSignals()),Qfe(this))}assembleLayoutSignals(){return this.children.reduce((c,h)=>c.concat(h.assembleLayoutSignals()),iQ(this))}assembleSelectionData(c){return this.children.reduce((h,g)=>g.assembleSelectionData(h),c)}assembleGroupStyle(){let c=new Set;for(let g of this.children)for(let _ of e.array(g.assembleGroupStyle()))c.add(_);let h=Array.from(c);return h.length>1?h:h.length===1?h[0]:void 0}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(let h of this.children)if(c=h.assembleTitle(),c)return c}assembleLayout(){return null}assembleMarks(){return PVe(this,this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,h)=>c.concat(h.assembleLegends()),x0e(this))}}function TQ(u,c,h,g,_){if(S1(u))return new L9(u,c,h,_);if(dN(u))return new AQ(u,c,h,g,_);if(z2(u))return new K0e(u,c,h,g,_);if(OHe(u))return new CGe(u,c,h,_);throw new Error(ue(u))}function hYe(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.logger&&Ff(c.logger),c.fieldTitle&&xce(c.fieldTitle);try{let h=Kce(e.mergeConfig(c.config,u.config)),g=dfe(u,h),_=TQ(g,null,"",void 0,h);return _.parse(),RQe(_.component.data,_),{spec:mYe(_,pYe(u,g.autosize,h,_),u.datasets,u.usermeta),normalized:g}}finally{c.logger&&yc(),c.fieldTitle&&Zze()}}function pYe(u,c,h,g){let _=g.component.layoutSize.get("width"),T=g.component.layoutSize.get("height");if(c===void 0?(c={type:"pad"},g.hasAxisOrientSignalRef()&&(c.resize=!0)):e.isString(c)&&(c={type:c}),_&&T&&DVe(c.type)){if(_==="step"&&T==="step")Ar(Vn()),c.type="pad";else if(_==="step"||T==="step"){let k=_==="step"?"width":"height";Ar(Vn(Xr(k)));let V=k==="width"?"height":"width";c.type=OVe(V)}}return{...te(c).length===1&&c.type?c.type==="pad"?{}:{autosize:c.type}:{autosize:c},...pfe(h,!1),...pfe(u,!0)}}function mYe(u,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,_=u.config?$He(u.config):void 0,T=[].concat(u.assembleSelectionData([]),hGe(u.component.data,h)),k=u.assembleProjections(),V=u.assembleTitle(),re=u.assembleGroupStyle(),Ue=u.assembleGroupEncodeEntry(!0),We=u.assembleLayoutSignals();We=We.filter(En=>(En.name==="width"||En.name==="height")&&En.value!==void 0?(c[En.name]=+En.value,!1):!0);let{params:kt,...Jt}=c;return{$schema:"https://vega.github.io/schema/vega/v5.json",...u.description?{description:u.description}:{},...Jt,...V?{title:V}:{},...re?{style:re}:{},...Ue?{encode:{update:Ue}}:{},data:T,...k.length>0?{projections:k}:{},...u.assembleGroup([...We,...u.assembleSelectionTopLevelSignals([]),...$ce(kt)]),..._?{config:_}:{},...g?{usermeta:g}:{}}}let xYe=fe.version;n.accessPathDepth=Cn,n.accessPathWithDatum=ln,n.compile=hYe,n.contains=_t,n.deepEqual=Ke,n.deleteNestedProperty=Ut,n.duplicate=_e,n.entries=Xe,n.every=Tt,n.fieldIntersection=Ye,n.flatAccessWithDatum=cn,n.getFirstDefined=Fe,n.hasIntersection=xe,n.hash=rt,n.internalField=lt,n.isBoolean=ot,n.isEmpty=Ve,n.isEqual=ve,n.isInternalField=ct,n.isNullOrFalse=Bt,n.isNumeric=qt,n.keys=te,n.logicalExpr=$t,n.mergeDeep=Rt,n.never=De,n.normalize=dfe,n.normalizeAngle=Yt,n.omit=de,n.pick=be,n.prefixGenerator=le,n.removePathFromField=$n,n.replaceAll=An,n.replacePathInField=nn,n.resetIdCounter=Dt,n.setEqual=Oe,n.some=un,n.stringify=Ge,n.titleCase=sn,n.unique=xt,n.uniqueId=Ce,n.vals=Ae,n.varName=Ct,n.version=xYe,Object.defineProperty(n,"__esModule",{value:!0})})});var r9=G(g2=>{"use strict";d();var aIt=g2&&g2.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),uIt=g2&&g2.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),JPe=g2&&g2.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&aIt(e,n,t);return uIt(e,n),e};Object.defineProperty(g2,"__esModule",{value:!0});g2.HTMLChartRenderer=void 0;var lIt=JPe(KPe()),XPe=JPe(zue()),ZPe=class{constructor(e,t,r={}){this.document=e,this.styleDefaults=t,this.size=r.size||this.styleDefaults.size||"medium"}mapData(e){let t=[];for(let r of e){let i={};for(let s of e.field.intrinsicFields)i[s.name]=this.getDataValue(r.cell(s));t.push(i)}return t}getSize(){return this.size==="large"?{height:350,width:500}:{height:175,width:250}}async render(e){if(!e.isArray())throw new Error("Invalid type for chart renderer");let t=this.getVegaLiteSpec(e),r=lIt.compile(t,{logger:{level(o){return o!==void 0?this:0},info(){return this},error(){return this},warn(){return this},debug(){return this}}}).spec,i=new XPe.View(XPe.parse(r),{renderer:"none"});i.logger().level(-1);let s=this.document.createElement("div");return s.innerHTML=await i.toSVG(),s}};g2.HTMLChartRenderer=ZPe});var Ef=G(B0=>{"use strict";d();Object.defineProperty(B0,"__esModule",{value:!0});B0.createDrillIcon=B0.createNullElement=B0.createErrorElement=B0.yieldTask=B0.timeToString=B0.getColorScale=void 0;var Fd=gf();function cIt(n,e,t=!1){if(n!==void 0)switch(n){case"ordinal":return{range:["#C2D5EE","#1A73E8"]};case"temporal":case"quantitative":return e?t?{range:["#6BA4EE","#EEA361"]}:{range:["#1A73E8","#E8710A"]}:{range:["#C2D5EE","#1A73E8"]};case"nominal":return t?{range:["#6BA4EE","#66CEDC","#EC72B8","#EEA361","#F9C85B","#AACD85","#B87CED","#ACB0B3"]}:{range:["#1A73E8","#12B5CB","#E52592","#E8710A","#F9AB00","#7CB342","#9334E6","#80868B"]}}}B0.getColorScale=cIt;function Pa(n,e){return n.toString().padStart(e,"0")}function fIt(n,e){switch(e){case Fd.TimestampTimeframe.Year:case Fd.DateTimeframe.Year:return`${Pa(n.getUTCFullYear(),4)}`;case Fd.TimestampTimeframe.Quarter:case Fd.DateTimeframe.Quarter:{let t=Pa(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`${t}-Q${r}`}case Fd.TimestampTimeframe.Month:case Fd.DateTimeframe.Month:{let t=Pa(n.getUTCFullYear(),2),r=Pa(n.getUTCMonth()+1,2);return`${t}-${r}`}case Fd.TimestampTimeframe.Week:case Fd.DateTimeframe.Week:{let t=Pa(n.getUTCFullYear(),2),r=Pa(n.getUTCMonth()+1,2),i=Pa(n.getUTCDate(),2);return`WK${t}-${r}-${i}`}case Fd.DateTimeframe.Day:case Fd.TimestampTimeframe.Day:{let t=Pa(n.getUTCFullYear(),2),r=Pa(n.getUTCMonth()+1,2),i=Pa(n.getUTCDate(),2);return`${t}-${r}-${i}`}case Fd.TimestampTimeframe.Hour:{let t=Pa(n.getUTCFullYear(),2),r=Pa(n.getUTCMonth()+1,2),i=Pa(n.getUTCDate(),2),s=Pa(n.getUTCHours(),2);return`${t}-${r}-${i} ${s}:00 for 1 hour`}case Fd.TimestampTimeframe.Minute:{let t=Pa(n.getUTCFullYear(),2),r=Pa(n.getUTCMonth()+1,2),i=Pa(n.getUTCDate(),2),s=Pa(n.getUTCHours(),2),o=Pa(n.getUTCMinutes(),2);return`${t}-${r}-${i} ${s}:${o}`}case Fd.TimestampTimeframe.Second:{let t=Pa(n.getUTCFullYear(),2),r=Pa(n.getUTCMonth()+1,2),i=Pa(n.getUTCDate(),2),s=Pa(n.getUTCHours(),2),o=Pa(n.getUTCMinutes(),2),a=Pa(n.getUTCSeconds(),2);return`${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}B0.timeToString=fIt;async function dIt(){return new Promise(n=>{setTimeout(n,0)})}B0.yieldTask=dIt;function hIt(n,e){let t=n.createElement("span");return t.classList.add("error"),t.appendChild(n.createTextNode(typeof e=="string"?e:e.message)),t}B0.createErrorElement=hIt;function pIt(n){let e=n.createElement("span");return e.appendChild(n.createTextNode("\u2205")),e.classList.add("value-null"),e}B0.createNullElement=pIt;function mIt(n){let e=n.createElement("div");e.style.borderRadius="20px",e.style.backgroundColor="var(--malloy-border-color, #efefef)",e.style.width="27px",e.style.height="14px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.gap="2px";for(let t=0;t<3;t++){let r=n.createElement("div");r.style.backgroundColor="var(--malloy-title-color, rgb(181 181 181))",r.style.borderRadius="5px",r.style.width="4px",r.style.height="4px",e.appendChild(r)}return e}B0.createDrillIcon=mIt});var Jue=G(Qu=>{"use strict";d();var xIt=Qu&&Qu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.HTMLVegaSpecRenderer=Qu.isDataContainer=Qu.vegaSpecs=Qu.DEFAULT_SPEC=void 0;var gIt=r9(),yIt=xIt(EE()),u1=Ef();Qu.DEFAULT_SPEC={$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{params:[{name:"defaultFont",value:"var(--malloy-font-family, 'Roboto')"},{name:"titleColor",value:"var(--malloy-title-color, #505050)"},{name:"labelColor",value:"var(--malloy-label-color, #505050)"}],background:void 0,color:{expr:"titleColor"},header:{labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500},text:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},mark:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},title:{font:{expr:"defaultFont"},subtitleFont:{expr:"defaultFont"},fontWeight:500},axis:{labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12},legend:{titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12,labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"}}}};var Hue={height:80,width:150},eBe={width:150},vIt={height:{step:13}},Vue={...eBe,...vIt},Wue={...eBe},Que={height:150,width:200},tBe={},l1={...Qu.DEFAULT_SPEC,encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar",color:"#aec7e8"},encoding:{x:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"}}}]},MO={...Qu.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},_It={...MO,encoding:{...MO.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,u1.getColorScale)("quantitative",!0,!0)}}},bIt={...MO,encoding:{...MO.encoding,color:{field:"#{3}",scale:(0,u1.getColorScale)("nominal",!0,!0)}}},Gue={...l1,layer:[{...l1.layer[0],encoding:{...l1.layer[0].encoding,color:{field:"#{3}",scale:(0,u1.getColorScale)("nominal",!0,!0)}}},l1.layer[1]]},Yue={...l1,layer:[{...l1.layer[0],encoding:{...l1.layer[0].encoding,color:{field:"#{3}",type:"quantitative",scale:(0,u1.getColorScale)("quantitative",!0,!0)}}},l1.layer[1]]},S4={...Qu.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},hV={...S4,encoding:{...S4.encoding,color:{field:"#{3}",type:"nominal",scale:(0,u1.getColorScale)("nominal",!0)}}},pV={...S4,encoding:{...S4.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,u1.getColorScale)("quantitative",!0)}}};Qu.vegaSpecs={bar_SM:l1,bar_SM_small:{...l1,...Vue},bar_SM_medium:{...l1,...Wue},bar_SM_large:MO,bar_SMS:Gue,bar_SMS_small:{...Gue,...Vue},bar_SMS_medium:{...Gue,...Wue},bar_SMS_large:bIt,bar_SMM:Yue,bar_SMM_small:{...Yue,...Vue},bar_SMM_medium:{...Yue,...Wue},bar_SMM_large:_It,bar_NM:S4,bar_NM_small:{...S4,...Hue},bar_NM_medium:{...S4,...Que},bar_NM_large:{...S4},bar_NMS:hV,bar_NMS_small:{...hV,...Hue},bar_NMS_medium:{...hV,...Que},bar_NMS_large:{...hV,...tBe},bar_NMM:pV,bar_NMM_small:{...pV,...Hue},bar_NMM_medium:{...pV,...Que},bar_NMM_large:{...pV,...tBe},bar_SSMMM:{...Qu.DEFAULT_SPEC,repeat:["#{3}","#{4}","#{5}"],spec:{description:"A simple bar chart with embedded data.",encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar"},encoding:{x:{field:{repeat:"repeat"},type:"quantitative",sort:null},color:{field:"#{2}",scale:(0,u1.getColorScale)("nominal",!0,!0)}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"},detail:{aggregate:"count"}}}]}},bubble_NNM:{...Qu.DEFAULT_SPEC,data:[],mark:"circle",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},size:{field:"#{3}",type:"quantitative"},color:{value:"#4285F4"}}},heat_NNM:{...Qu.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,u1.getColorScale)("quantitative",!1)}}},heat_SNM:{...Qu.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"nominal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,u1.getColorScale)("quantitative",!1)}}},stacked_line_STM:{...Qu.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{2}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{3}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,u1.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"}}},grid_line_SSTM:{...Qu.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{3}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{4}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,u1.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"},column:{field:"#{2}",type:"nominal"}}}};function Kue(n){return Array.isArray(n)||n!==null&&typeof n=="object"}Qu.isDataContainer=Kue;var nBe=class extends gIt.HTMLChartRenderer{constructor(e,t,r){super(e,t);this.spec=r}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for vega chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for vega chart.")}translateField(e,t){let r=t.match(/#\{(\d+)\}/);return r&&r.groups?e.intrinsicFields[parseInt(r.groups[1])-1].name:t}translateFields(e,t){if(Array.isArray(e))for(let r of e)Kue(r)&&this.translateFields(r,t);else if(e&&typeof e=="object")for(let[r,i]of Object.entries(e))if(r==="field"&&typeof i=="string")e[r]=this.translateField(t,i);else if(r==="repeat"&&Array.isArray(i))for(let s of i.keys()){let o=i[s];typeof o=="string"&&(i[s]=this.translateField(t,o))}else Kue(i)&&this.translateFields(i,t)}getVegaLiteSpec(e){if(e.isNull()||!e.isArray())throw new Error("Expected struct value not to be null.");let t=(0,yIt.default)(this.spec);this.translateFields(t,e.field);let r={values:this.mapData(e)};return t.data=r,t}};Qu.HTMLVegaSpecRenderer=nBe});var xV=G(mV=>{"use strict";d();Object.defineProperty(mV,"__esModule",{value:!0});mV.HTMLCartesianChartRenderer=void 0;var EIt=r9(),SIt=Ef(),CIt=Jue(),rBe=class extends EIt.HTMLChartRenderer{getVegaLiteSpec(e){let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=this.getDataType(r),f=this.getDataType(i),p=s?this.getDataType(s):void 0,v=o?this.getDataType(o):void 0,b=a?this.getDataType(a):void 0,F=this.getMark(),D=s!==void 0?{field:s.name,type:p,axis:{title:s.name},scale:(0,SIt.getColorScale)(p,F==="bar")}:{value:"#4285F4"},M=o?{field:o.name,type:v,axis:{title:o.name}}:void 0,q=a?{field:a.name,type:b,axis:{title:a.name}}:void 0,N=l==="nominal"?null:void 0,B=f==="nominal"?null:void 0,I={field:r.name,type:l,sort:N,axis:{title:r.name}},z={field:i.name,type:f,sort:B,axis:{title:i.name}};return{...CIt.DEFAULT_SPEC,...this.getSize(),data:{values:this.mapData(e)},mark:F,encoding:{x:I,y:z,size:M,color:D,shape:q},background:"transparent"}}};mV.HTMLCartesianChartRenderer=rBe});var sBe=G(gV=>{"use strict";d();Object.defineProperty(gV,"__esModule",{value:!0});gV.HTMLBarChartRenderer=void 0;var wIt=xV(),iBe=class extends wIt.HTMLCartesianChartRenderer{getMark(){return"bar"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for bar chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for bar chart.")}};gV.HTMLBarChartRenderer=iBe});var $6=G(yV=>{"use strict";d();Object.defineProperty(yV,"__esModule",{value:!0});yV.HTMLTextRenderer=void 0;var AIt=Ef(),oBe=class{constructor(e){this.document=e}getText(e){return`${e.value}`}async render(e){let t=this.getText(e);if(t===null)return(0,AIt.createNullElement)(this.document);let r=this.document.createElement("span");return r.appendChild(this.document.createTextNode(t)),r}};yV.HTMLTextRenderer=oBe});var uBe=G(vV=>{"use strict";d();Object.defineProperty(vV,"__esModule",{value:!0});vV.HTMLBooleanRenderer=void 0;var TIt=$6(),aBe=class extends TIt.HTMLTextRenderer{getText(e){return e.isNull()?null:`${e.boolean.value}`}};vV.HTMLBooleanRenderer=aBe});var cBe=G(_V=>{"use strict";d();Object.defineProperty(_V,"__esModule",{value:!0});_V.HTMLJSONRenderer=void 0;var FIt=Ef(),lBe=class{constructor(e){this.document=e}async render(e){!e.isArray()&&!e.isRecord()&&(0,FIt.createErrorElement)(this.document,"Invalid data for chart renderer.");let t=this.document.createElement("pre");return t.appendChild(this.document.createTextNode(JSON.stringify(e.value,void 0,2))),t}};_V.HTMLJSONRenderer=lBe});var dBe=G(bV=>{"use strict";d();Object.defineProperty(bV,"__esModule",{value:!0});bV.HTMLBytesRenderer=void 0;var DIt=$6(),fBe=class extends DIt.HTMLTextRenderer{getText(e){return e.isNull()?null:e.bytes.value.toString("base64")}};bV.HTMLBytesRenderer=fBe});var pBe=G(EV=>{"use strict";d();Object.defineProperty(EV,"__esModule",{value:!0});EV.HTMLCurrencyRenderer=void 0;var OIt=$6(),hBe=class extends OIt.HTMLTextRenderer{getText(e){if(e.isNull())return null;let t="$",r=e.number.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${r}`}};EV.HTMLCurrencyRenderer=hBe});var CV=G(SV=>{"use strict";d();Object.defineProperty(SV,"__esModule",{value:!0});SV.HTMLNumberRenderer=void 0;var NIt=$6(),mBe=class extends NIt.HTMLTextRenderer{getNumber(e){return e.isNull()?null:e.number.value}getText(e){let t=this.getNumber(e);return t===null?t:t.toLocaleString()}};SV.HTMLNumberRenderer=mBe});var gBe=G(wV=>{"use strict";d();Object.defineProperty(wV,"__esModule",{value:!0});wV.HTMLPercentRenderer=void 0;var RIt=CV(),xBe=class extends RIt.HTMLNumberRenderer{getText(e){let t=this.getNumber(e);return t===null?t:(t*100).toLocaleString("en",{maximumFractionDigits:2})+"%"}};wV.HTMLPercentRenderer=xBe});var Zue=G(i9=>{"use strict";d();Object.defineProperty(i9,"__esModule",{value:!0});i9.getDrillQuery=i9.getDrillFilters=void 0;var Xue=gf(),LIt=Ef();function kIt(n){return`'${n.replace("'","\\'")}'`}function IIt(n,e,t){let r=t===Xue.TimestampTimeframe.Minute?Xue.TimestampTimeframe.Second:t||Xue.TimestampTimeframe.Second,i="@"+(0,LIt.timeToString)(e,r);return{key:n,value:i}}function MIt(n){let e=[];for(let t of n.field.filters||[])t.expressionType==="scalar"&&e.push({key:t.code,value:void 0});return e}function PIt(n){let e=[],t=n.field.intrinsicFields.filter(r=>r.isAtomicField()&&r.sourceWasDimension());for(let r of t){let i=n.cell(r),s=r.isAtomicField()||r.isQueryField()?r.expression:void 0;s&&!i.isArray()&&(i.isNull()?e.push({key:s,value:"null"}):i.isString()?e.push({key:s,value:kIt(i.value)}):i.isNumber()||i.isBoolean()?e.push({key:s,value:i.value.toString()}):(i.isTimestamp()||i.isDate())&&e.push(IIt(s,i.value,i.field.timeframe)))}return e}function yBe(n){return n.isRecord()?PIt(n):MIt(n)}function vBe(n){let e=[],t=n;for(;t.parent;)e.push(...yBe(t)),t=t.parent;e.push(...yBe(t));let r=t.field.parentExplore,i=[];for(let{key:o,value:a}of e)a!==void 0?i.push(`${o}: ${a}`):i.push(o);return{formattedFilters:i.filter((o,a)=>i.find((l,f)=>l===o&&a<f)===void 0),source:r}}i9.getDrillFilters=vBe;function BIt(n){let{formattedFilters:e,source:t}=vBe(n),r=`query: ${(t==null?void 0:t.name)||'"unable to compute source"'} `;return e.length&&(r+=`{ 
  where: 
    ${e.join(`,
    `)}
  
}
`),{drillQuery:r+"-> ",drillFilters:e}}i9.getDrillQuery=BIt});var bBe=G(AV=>{"use strict";d();Object.defineProperty(AV,"__esModule",{value:!0});AV.RenderTree=void 0;var _Be=class{constructor(e,t){this.document=e,this.options=t}};AV.RenderTree=_Be});var PO=G(TV=>{"use strict";d();Object.defineProperty(TV,"__esModule",{value:!0});TV.ContainerRenderer=void 0;var jIt=bBe(),EBe=class extends jIt.RenderTree{constructor(){super(...arguments);this.childRenderers={}}get defaultStylesForChildren(){return this.childrenStyleDefaults}static make(e,t,r,i){return new e(t,{isDrillingEnabled:i.isDrillingEnabled,onDrill:i.onDrill})}};TV.ContainerRenderer=EBe});var ABe=G(DV=>{"use strict";d();Object.defineProperty(DV,"__esModule",{value:!0});DV.HTMLDashboardRenderer=void 0;var qIt=Zue(),UIt=PO(),$It=$6(),ele=Ef(),FV=class extends UIt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArrayOrRecord())return(0,ele.createErrorElement)(this.document,"Invalid data for dashboard renderer.");let t=e.field.intrinsicFields,r=t.filter(o=>o.isAtomicField()&&o.sourceWasDimension()),i=t.filter(o=>!o.isAtomicField()||o.sourceWasMeasureLike()),s=this.document.createElement("div");for(let o of e){let a=this.document.createElement("div");a.classList.add("dimensions"),a.style.display="flex",a.style.flexWrap="wrap";let l=this.document.createElement("div");l.style.position="relative";for(let v of r){let F=await this.childRenderers[v.name].render(o.cell(v)),D=this.document.createElement("div");D.style.cssText=GIt;let M=this.document.createElement("div");M.style.cssText=YIt,M.appendChild(this.document.createTextNode(v.name));let q=this.document.createElement("div");q.style.cssText=tle,q.appendChild(F),D.appendChild(M),D.appendChild(q),a.appendChild(D)}if(r.length>0){let v=this.document.createElement("div");v.classList.add("row-separator-outer"),v.style.cssText=zIt;let b=this.document.createElement("div");b.style.cssText=WIt,v.appendChild(b),a.appendChild(v)}let f=this.document.createElement("div");f.style.cssText=QIt;for(let v of i){let b=this.childRenderers[v.name];await(0,ele.yieldTask)();let F=await b.render(o.cell(v));if(b instanceof FV)f.appendChild(F);else if(b instanceof $It.HTMLTextRenderer){let D=this.document.createElement("div");D.style.cssText=CBe;let M=this.document.createElement("div");M.style.cssText=wBe,M.appendChild(this.document.createTextNode(v.name));let q=this.document.createElement("div");q.style.cssText=tle;let N=this.document.createElement("div");N.style.cssText=KIt,N.appendChild(F),q.appendChild(N),D.appendChild(M),D.appendChild(q),f.appendChild(D)}else{let D=this.document.createElement("div");D.style.cssText=CBe;let M=this.document.createElement("div");M.style.cssText=wBe,M.appendChild(this.document.createTextNode(v.name));let q=this.document.createElement("div");q.style.cssText=tle;let N=this.document.createElement("div");N.style.cssText=JIt,N.appendChild(F),q.appendChild(N),D.appendChild(M),D.appendChild(q),f.appendChild(D)}}if(l.appendChild(a),r.length>0&&this.options.isDrillingEnabled){let v=this.document.createElement("span"),b=(0,ele.createDrillIcon)(this.document);v.appendChild(b),v.style.cssText="padding: 8px; vertical-align: top; width: 25px; cursor: pointer; position: absolute; top: 5px; right: 5px;",v.onclick=()=>{if(this.options.onDrill){let{drillQuery:F,drillFilters:D}=(0,qIt.getDrillQuery)(o);this.options.onDrill(F,b,D)}},l.appendChild(v)}let p=this.document.createElement("div");if(p.classList.add("dashboard-outer"),p.style.cssText=HIt,r.length>0){let v=this.document.createElement("div");v.style.cssText=VIt,p.appendChild(v)}p.appendChild(f),l.appendChild(p),s.appendChild(l)}return s}};DV.HTMLDashboardRenderer=FV;var zIt=`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex: 1 0 auto;
`,HIt=`
  display: flex;
  flex-direction: row;
  font-size: 11px;
`,SBe=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
`,VIt=`
  ${SBe}
  min-height: 100%;
  min-width: 11px;
  margin: 6px;
  border-radius: 4px;
`,WIt=`
  ${SBe}
  min-height: 11px;
  max-height: 11px;
  margin: 6px;
  flex: 1 0 auto;
  border-radius: 4px;
`,QIt=`
  display: flex;
  flex-wrap: wrap;
`,GIt=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  margin: 6px;
  border-radius: 5px;
  padding: 10px;
  box-shadow: 0 1px 5px 0 var(--malloy-border-color, #f3f3f3);
`,CBe=`
  margin: 6px;
  border-radius: 5px;
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  padding: 10px;
  flex: 1 0 auto;
  box-shadow: 0 1px 5px 0 var(--malloy-tile-background-color, #f3f3f3);
  max-width: calc(100% - 11px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,YIt=`
  font-size: 12px;
  font-weight: 500;
  color: var(--malloy-title-color, #505050);
  margin-bottom: 5px;
  font-family: var(--malloy-font-family, "Roboto");
`,wBe=`
  font-size: 11px;
  font-family: var(--malloy-font-family, "Roboto");
  font-weight: 500;
  color: #var(--malloy-title-color, #505050);
`,KIt=`
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 5px;
`,tle=`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
`,JIt=`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`});var DBe=G(OV=>{"use strict";d();Object.defineProperty(OV,"__esModule",{value:!0});OV.HTMLImageRenderer=void 0;var TBe=Ef(),FBe=class{constructor(e){this.document=e}async render(e){if(!e.isString())return(0,TBe.createErrorElement)(this.document,"Invalid field for Image renderer");if(e.isNull())return(0,TBe.createNullElement)(this.document);let t=this.document.createElement("img");return t.src=e.value,t}};OV.HTMLImageRenderer=FBe});var RBe=G(NV=>{"use strict";d();Object.defineProperty(NV,"__esModule",{value:!0});NV.HTMLDateRenderer=void 0;var OBe=gf(),nle=Ef(),NBe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,nle.createNullElement)(this.document);if(!e.isDate()&&!e.isTimestamp())return(0,nle.createErrorElement)(this.document,"Invalid field for date renderer");let t=e.field.timeframe||(e.isTimestamp()?OBe.TimestampTimeframe.Second:OBe.DateTimeframe.Day),r=(0,nle.timeToString)(e.value,t),i=this.document.createElement("span");return i.appendChild(this.document.createTextNode(r)),i}};NV.HTMLDateRenderer=NBe});var kBe=G(RV=>{"use strict";d();Object.defineProperty(RV,"__esModule",{value:!0});RV.HTMLLineChartRenderer=void 0;var XIt=xV(),LBe=class extends XIt.HTMLCartesianChartRenderer{getMark(){return"line"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for line chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for line chart.")}};RV.HTMLLineChartRenderer=LBe});var PBe=G(LV=>{"use strict";d();Object.defineProperty(LV,"__esModule",{value:!0});LV.HTMLLinkRenderer=void 0;var IBe=Ef(),MBe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,IBe.createNullElement)(this.document);if(!e.isString())return(0,IBe.createErrorElement)(this.document,"Invalid type for link renderer.");let t=document.createElement("a");return t.href=e.value,t.target="_blank",t.appendChild(this.document.createTextNode(e.value.replace(/\//g,"/\u200C"))),t}};LV.HTMLLinkRenderer=MBe});var rle=G(kV=>{"use strict";d();Object.defineProperty(kV,"__esModule",{value:!0});kV.HTMLListRenderer=void 0;var ZIt=PO(),BBe=Ef(),jBe=class extends ZIt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"small"}}getValueField(e){return e.intrinsicFields[0]}getDetailField(e){}async render(e){if(!e.isArray())return(0,BBe.createErrorElement)(this.document,"Invalid data for chart renderer.");if(e.rowCount===0)return this.document.createElement("span");let t=this.getValueField(e.field),r=this.getDetailField(e.field),i=this.document.createElement("span"),s=!0;for(let o of e){s||i.appendChild(this.document.createTextNode(", ")),s=!1;let l=await this.childRenderers[t.name].render(o.cell(t));if(i.appendChild(l),r){let f=this.childRenderers[r.name];await(0,BBe.yieldTask)();let p=await f.render(o.cell(r));i.appendChild(this.document.createTextNode("(")),i.appendChild(p),i.appendChild(this.document.createTextNode(")"))}}return i}};kV.HTMLListRenderer=jBe});var UBe=G(IV=>{"use strict";d();Object.defineProperty(IV,"__esModule",{value:!0});IV.HTMLListDetailRenderer=void 0;var eMt=rle(),qBe=class extends eMt.HTMLListRenderer{getDetailField(e){return e.intrinsicFields[1]}};IV.HTMLListDetailRenderer=qBe});var MV=G((bgn,tMt)=>{tMt.exports={type:"Topology",bbox:[-179.14733999999999,-14.552548999999999,179.77847,71.352561],transform:{scale:[.003589293992939929,.0008590596905969058],translate:[-179.14733999999999,-14.552548999999999]},objects:{states:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1,2,3,4,5]]],id:"01",properties:{name:"Alabama"}},{type:"MultiPolygon",arcs:[[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]]],id:"02",properties:{name:"Alaska"}},{type:"Polygon",arcs:[[143,144,145,146,147]],id:"04",properties:{name:"Arizona"}},{type:"Polygon",arcs:[[148,149,150,151,152,153]],id:"08",properties:{name:"Colorado"}},{type:"MultiPolygon",arcs:[[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163,164,-4]]],id:"12",properties:{name:"Florida"}},{type:"Polygon",arcs:[[165,166,167,168,-164,-3]],id:"13",properties:{name:"Georgia"}},{type:"Polygon",arcs:[[169,170,171,172,173]],id:"18",properties:{name:"Indiana"}},{type:"Polygon",arcs:[[174,175,176,-151]],id:"20",properties:{name:"Kansas"}},{type:"MultiPolygon",arcs:[[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[184,185]]],id:"23",properties:{name:"Maine"}},{type:"MultiPolygon",arcs:[[[186]],[[187]],[[188,189,190,191,192,193,194,195]]],id:"25",properties:{name:"Massachusetts"}},{type:"Polygon",arcs:[[196,197,198,199,200]],id:"27",properties:{name:"Minnesota"}},{type:"Polygon",arcs:[[201,202,203,204,205,206,207,208]],id:"34",properties:{name:"New Jersey"}},{type:"MultiPolygon",arcs:[[[209]],[[210]],[[211,212,213,-167,214]]],id:"37",properties:{name:"North Carolina"}},{type:"Polygon",arcs:[[215,-201,216,217]],id:"38",properties:{name:"North Dakota"}},{type:"Polygon",arcs:[[-152,-177,218,219,220,221]],id:"40",properties:{name:"Oklahoma"}},{type:"Polygon",arcs:[[222,223,-204,224,225,226,227]],id:"42",properties:{name:"Pennsylvania"}},{type:"Polygon",arcs:[[228,-217,-200,229,230,231]],id:"46",properties:{name:"South Dakota"}},{type:"Polygon",arcs:[[-221,232,233,234,235,236,237]],id:"48",properties:{name:"Texas"}},{type:"Polygon",arcs:[[-232,238,-149,239,240,241]],id:"56",properties:{name:"Wyoming"}},{type:"Polygon",arcs:[[-195,242,243,244]],id:"09",properties:{name:"Connecticut"}},{type:"Polygon",arcs:[[245,246,247,248,249,250,251,-219,-176,252]],id:"29",properties:{name:"Missouri"}},{type:"Polygon",arcs:[[253,-227,254,255,256]],id:"54",properties:{name:"West Virginia"}},{type:"Polygon",arcs:[[257,258,259,-174,260,-247]],id:"17",properties:{name:"Illinois"}},{type:"Polygon",arcs:[[-153,-222,-238,261,-147]],id:"35",properties:{name:"New Mexico"}},{type:"Polygon",arcs:[[-252,262,263,264,-235,233,-233,-220]],id:"05",properties:{name:"Arkansas"}},{type:"MultiPolygon",arcs:[[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[273,274,275,-144,276]]],id:"06",properties:{name:"California"}},{type:"MultiPolygon",arcs:[[[-209,277]],[[-225,-203,278,279]]],id:"10",properties:{name:"Delaware"}},{type:"Polygon",arcs:[[280,281]],id:"11",properties:{name:"District of Columbia"}},{type:"MultiPolygon",arcs:[[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]]],id:"15",properties:{name:"Hawaii"}},{type:"Polygon",arcs:[[-199,290,-258,-246,291,-230]],id:"19",properties:{name:"Iowa"}},{type:"MultiPolygon",arcs:[[[-261,-173,292,-257,293,294,-248]],[[295,-250]]],id:"21",properties:{name:"Kentucky"}},{type:"MultiPolygon",arcs:[[[296,297]],[[298]],[[299]],[[-226,-280,300,301,302,303,-281,304,-255]]],id:"24",properties:{name:"Maryland"}},{type:"MultiPolygon",arcs:[[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[314,315,-171]],[[316]],[[317,318,319,320,321,322]]],id:"26",properties:{name:"Michigan"}},{type:"MultiPolygon",arcs:[[[323]],[[324]],[[325]],[[326]],[[-264,327,-6,328,329]]],id:"28",properties:{name:"Mississippi"}},{type:"Polygon",arcs:[[330,-218,-229,-242,331]],id:"30",properties:{name:"Montana"}},{type:"Polygon",arcs:[[332,-185,333,-190,334]],id:"33",properties:{name:"New Hampshire"}},{type:"MultiPolygon",arcs:[[[335]],[[336]],[[337]],[[338,-207]],[[339]],[[340]],[[341,342,-196,-245,343,-205,-224]]],id:"36",properties:{name:"New York"}},{type:"MultiPolygon",arcs:[[[344]],[[345]],[[-316,346,-228,-254,-293,-172]]],id:"39",properties:{name:"Ohio"}},{type:"Polygon",arcs:[[347,348,349,274,-275,-274,350]],id:"41",properties:{name:"Oregon"}},{type:"Polygon",arcs:[[-251,-296,-249,-295,351,-215,-166,-2,-328,-263]],id:"47",properties:{name:"Tennessee"}},{type:"Polygon",arcs:[[352,-240,-154,-146,353]],id:"49",properties:{name:"Utah"}},{type:"MultiPolygon",arcs:[[[354]],[[-302,355]],[[356,-297]],[[-256,-305,-282,-304,357,-212,-352,-294]]],id:"51",properties:{name:"Virginia"}},{type:"MultiPolygon",arcs:[[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[368,-348,369]]],id:"53",properties:{name:"Washington"}},{type:"MultiPolygon",arcs:[[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[380,-323,321,-321,319,-319,381,-259,-291,-198]]],id:"55",properties:{name:"Wisconsin"}},{type:"MultiPolygon",arcs:[[[382]],[[383]],[[384]]],id:"60",properties:{name:"American Samoa"}},{type:"MultiPolygon",arcs:[[[385]]],id:"66",properties:{name:"Guam"}},{type:"MultiPolygon",arcs:[[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]]],id:"69",properties:{name:"Commonwealth of the Northern Mariana Islands"}},{type:"Polygon",arcs:[[-231,-292,-253,-175,-150,-239]],id:"31",properties:{name:"Nebraska"}},{type:"Polygon",arcs:[[-214,394,-168]],id:"45",properties:{name:"South Carolina"}},{type:"MultiPolygon",arcs:[[[395]],[[396]],[[397]],[[398]],[[399]]],id:"72",properties:{name:"Puerto Rico"}},{type:"MultiPolygon",arcs:[[[400]],[[401]],[[402]]],id:"78",properties:{name:"United States Virgin Islands"}},{type:"Polygon",arcs:[[-369,403,-332,-241,-353,404,-349]],id:"16",properties:{name:"Idaho"}},{type:"Polygon",arcs:[[-275,-350,-405,-354,-145,-276]],id:"32",properties:{name:"Nevada"}},{type:"Polygon",arcs:[[405,-335,-189,-343]],id:"50",properties:{name:"Vermont"}},{type:"MultiPolygon",arcs:[[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[-265,-330,413,-236]]],id:"22",properties:{name:"Louisiana"}},{type:"MultiPolygon",arcs:[[[-192,414]],[[415]],[[416]],[[417]],[[-243,-194,418]]],id:"44",properties:{name:"Rhode Island"}}]},nation:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[164,4,328,413,236,261,147,276,350,369,403,330,215,196,380,317,381,259,169,314,346,222,341,405,332,185,333,190,414,192,418,243,343,205,338,207,277,201,278,300,355,302,357,212,394,168]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[186]],[[187]],[[209]],[[210]],[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]],[[297,356]],[[298]],[[299]],[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[316]],[[323]],[[324]],[[325]],[[326]],[[335]],[[336]],[[337]],[[339]],[[340]],[[344]],[[345]],[[354]],[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[382]],[[383]],[[384]],[[385]],[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]],[[395]],[[396]],[[397]],[[398]],[[399]],[[400]],[[401]],[[402]],[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[415]],[[416]],[[417]]]}]}},arcs:[[[25302,52136],[56,31],[1,25],[14,-40],[-9,-28],[-10,16],[-18,-2],[-20,-17],[-14,15]],[[25338,57677],[0,15],[150,-6],[63,0],[160,-13],[93,-2],[37,2],[159,-4],[61,-5]],[[26061,57664],[15,-321],[23,-443],[18,-379],[13,-294],[15,-311],[33,-713],[9,-32],[-4,-36],[13,-45],[5,-149],[10,-72],[17,-69],[3,-82],[9,-36],[-10,-117],[18,-28],[12,-40],[-10,-52],[-11,0],[2,-24],[-14,-21],[-13,-52],[3,-56],[-2,-86],[-7,-86],[-14,-72],[-3,-45],[6,-124],[-2,-44],[19,-87],[3,-120],[-7,-57],[2,-43],[-8,-80],[1,-79],[-7,-21],[5,-51],[-3,-54],[20,-91],[7,-64],[2,-61]],[[26229,53027],[-67,0],[-71,-5],[-110,-4],[-174,0],[-135,7],[-166,-2],[3,-38],[-13,-115],[2,-23],[23,-79],[3,-41],[36,-80],[3,-69],[-15,-102],[3,-55],[20,-51],[-18,-35],[-8,-82],[-9,-15],[7,-24],[-15,-26]],[[25528,52188],[-38,-35],[-40,-24],[-56,-4],[18,41],[12,-26],[35,27],[3,34],[-15,48],[-7,43],[-20,47],[-7,90],[9,74],[-3,76],[-7,48],[-20,32],[-15,-46],[2,-38],[-9,-57],[1,-41],[-6,-32],[-1,-144],[-8,-66],[-15,-4],[1,36],[-20,40],[-15,-16],[-5,23],[-18,-22]],[[25284,52292],[-3,222],[-3,357],[-6,423],[-10,773],[9,283],[21,710],[5,212],[33,1120],[6,160],[19,643],[12,362],[-16,35],[-13,85]],[[8053,88108],[6,38],[18,-11],[-20,-43],[-4,16]],[[7905,86007],[29,90],[15,-17],[-1,-46],[-28,-74],[-15,19],[0,28]],[[7695,85792],[26,-14],[-3,-36],[-23,50]],[[7642,85774],[22,-17],[-7,-33],[-14,14],[-1,36]],[[7602,85813],[20,-2],[-5,-34],[-15,36]],[[7594,84711],[8,45],[20,-13],[-8,-73],[-15,-17],[-5,58]],[[7543,85532],[12,28],[21,-40],[-33,-2],[0,14]],[[7540,87187],[29,79],[8,112],[31,-29],[-28,-64],[-9,-49],[5,-24],[-36,-25]],[[7464,85521],[14,55],[18,-28],[23,-4],[-33,-33],[-22,10]],[[7385,86976],[17,6],[5,-88],[-22,82]],[[7168,84530],[29,89],[15,6],[26,-66],[5,20],[-21,65],[6,54],[9,10],[27,-25],[21,19],[-29,54],[16,56],[29,-31],[15,4],[-14,56],[12,17],[20,-20],[14,45],[-18,6],[-13,33],[20,3],[22,67],[34,18],[-12,35],[-3,68],[27,66],[7,-31],[53,51],[7,-7],[-12,-118],[-13,-18],[-26,-103],[5,-84],[36,11],[2,69],[22,-9],[21,-71],[20,48],[12,-33],[-17,-117],[9,-22],[9,72],[27,47],[7,-25],[-3,-115],[-30,-89],[-32,23],[-11,81],[-21,-26],[13,-99],[-22,-20],[-39,13],[-16,-54],[-8,36],[2,74],[-10,2],[-9,-114],[-8,-24],[-31,-17],[2,-37],[-16,-22],[-45,-13],[-86,76],[-21,-13],[-15,29]],[[7129,86075],[41,28],[18,-43],[-5,-48],[-13,-16],[-29,-3],[-16,59],[4,23]],[[6962,82933],[31,45],[8,-48],[-37,-9],[-2,12]],[[6905,82759],[20,62],[19,20],[11,-11],[25,17],[5,-40],[19,-37],[36,16],[-2,-37],[-19,-31],[-46,-6],[-32,-13],[-32,25],[-4,35]],[[6789,83718],[20,17],[4,76],[18,75],[25,34],[5,44],[15,-8],[34,70],[33,36],[39,-15],[29,1],[0,-112],[26,-57],[4,45],[17,53],[-18,48],[6,25],[53,-14],[-3,35],[-52,44],[-19,-4],[-1,127],[31,61],[29,29],[20,-12],[22,-56],[6,-133],[15,13],[9,77],[-5,55],[35,-38],[7,47],[-37,36],[-21,58],[7,44],[17,-6],[51,-87],[9,4],[30,-41],[11,10],[-31,75],[-20,34],[-7,44],[17,0],[30,-58],[29,12],[41,-29],[7,49],[36,15],[-8,-63],[-39,-106],[-7,-83],[19,-36],[0,95],[16,43],[16,-49],[5,46],[17,32],[5,41],[14,10],[10,-31],[22,72],[17,8],[-4,-45],[28,-16],[-11,-38],[-11,20],[-18,-15],[19,-36],[-5,-49],[19,22],[11,-51],[27,1],[-24,-53],[-16,33],[-24,2],[-15,-48],[16,-9],[-8,-53],[26,-8],[-26,-89],[23,17],[13,47],[5,-35],[47,-4],[-3,-41],[-36,-78],[-13,-110],[-38,13],[-2,39],[-10,-41],[-23,42],[-17,-6],[-23,49],[-15,-13],[-24,19],[-8,-46],[27,1],[15,-17],[45,-87],[-8,-70],[-23,-52],[-11,36],[-19,-50],[-19,30],[-6,38],[-21,18],[-20,-12],[-17,-37],[29,2],[20,-49],[-38,-53],[-34,12],[-4,-20],[25,-34],[14,13],[35,1],[22,-43],[-11,-28],[-24,-8],[-34,-33],[-8,11],[-19,-29],[3,-49],[-27,-50],[-13,20],[7,34],[-23,50],[7,47],[27,62],[-8,24],[-15,-21],[-34,-105],[-3,-24],[-22,32],[-22,-10],[-5,-35],[26,-6],[10,-63],[-16,-61],[-25,-20],[1,-70],[-25,-41],[-12,13],[-23,-82],[-19,-30],[-18,21],[-31,-20],[22,116],[11,11],[26,71],[24,31],[-2,37],[-33,-23],[3,52],[22,102],[29,52],[-7,30],[-15,-45],[-34,-61],[-26,-112],[-24,-59],[-14,-11],[-5,-44],[-19,-30],[-4,84],[-26,58],[-33,27],[3,100],[-4,106],[-13,83],[-11,32],[-23,20],[-27,5],[14,30],[-15,37],[5,23]],[[6782,82633],[27,101],[51,97],[21,-4],[16,-54],[-12,-23],[-55,-73],[-29,-79],[-19,35]],[[6519,81925],[26,41],[5,38],[13,22],[8,-32],[-6,-43],[5,-68],[-7,-33],[-36,13],[-8,62]],[[6240,82171],[5,47],[14,25],[13,-59],[-13,-63],[-19,50]],[[6225,82357],[9,35],[3,-82],[-10,-1],[-2,48]],[[6080,82757],[21,48],[48,-3],[25,-54],[-35,23],[-16,-26],[-43,-6],[0,18]],[[5919,82533],[19,25],[11,-57],[-9,-11],[-21,43]],[[5642,81925],[8,64],[19,12],[27,-58],[-8,-18],[-21,37],[-25,-37]],[[5573,81984],[16,-49],[-27,12],[11,37]],[[5524,80844],[-1,36],[13,24],[20,-25],[-9,-59],[-19,-15],[-4,39]],[[5506,81836],[8,67],[10,10],[11,-62],[-29,-15]],[[5485,80904],[12,85],[-11,46],[31,-2],[4,-99],[-27,-38],[-9,8]],[[5445,80747],[10,13],[16,-42],[-1,-34],[-23,-4],[-2,67]],[[5429,81185],[17,-21],[5,49],[17,46],[5,-22],[-8,-58],[9,-13],[1,-44],[-10,-61],[13,-30],[-7,-19],[-17,22],[-2,-21],[-20,8],[-3,164]],[[5385,80755],[21,25],[11,-30],[-20,-26],[-12,31]],[[5377,81028],[9,39],[23,41],[5,-36],[-23,-38],[-9,-58],[-5,52]],[[5303,81352],[14,11],[5,-42],[-19,31]],[[5265,80882],[33,98],[15,27],[-5,18],[-22,0],[-4,76],[22,50],[27,-44],[-1,38],[-13,52],[30,-13],[18,114],[12,-23],[-2,-43],[-9,-2],[-5,-75],[12,-18],[0,33],[13,1],[-4,-60],[-11,-37],[-22,12],[-1,-45],[-28,-71],[-18,-24],[-31,-141],[-6,77]],[[5246,85264],[5,41],[14,-83],[-7,-25],[-12,67]],[[5238,81460],[22,42],[36,-14],[-1,-78],[-50,12],[-7,38]],[[5213,85252],[8,77],[5,-57],[-13,-20]],[[5096,81334],[16,74],[25,25],[18,-23],[-2,-46],[10,5],[12,47],[15,-32],[26,-26],[26,25],[7,-66],[-9,-60],[-14,40],[-22,3],[-14,23],[-3,40],[-10,-12],[0,-69],[11,-20],[11,-87],[-11,-60],[-36,35],[-10,59],[-18,-18],[-18,-90],[4,58],[-10,43],[0,104],[-4,28]],[[5033,85142],[7,131],[39,52],[21,6],[39,76],[5,-2],[-55,-273],[-22,-32],[-32,-4],[-2,46]],[[4937,81216],[27,3],[-4,-71],[-26,47],[3,21]],[[4863,81217],[10,31],[36,8],[-9,-51],[-37,-10],[0,22]],[[4804,81100],[4,51],[17,20],[25,-19],[12,-29],[35,-42],[6,-41],[-30,44],[-23,-57],[-28,74],[-11,-38],[-7,37]],[[4656,80881],[30,66],[26,-27],[0,-83],[-11,-53],[-13,-21],[-27,58],[-5,60]],[[4587,90956],[19,44],[21,16],[24,-17],[22,6],[9,-37],[-1,-50],[-75,-13],[-18,19],[-1,32]],[[4545,80324],[1,51],[68,-54],[19,-39],[26,0],[18,-28],[-20,-23],[-10,-33],[-22,40],[-17,-9],[-31,37],[-18,-29],[-22,57],[8,30]],[[4451,81463],[14,-1],[-5,-38],[-9,39]],[[3979,80040],[12,22],[16,-18],[-21,-37],[-7,33]],[[3880,79918],[22,34],[33,-11],[24,18],[5,-24],[-9,-45],[-26,-13],[-47,27],[-2,14]],[[3807,79887],[60,24],[9,-35],[-15,-32],[-13,37],[-34,-4],[-7,10]],[[3781,79848],[17,29],[7,-36],[-18,-14],[-6,21]],[[3751,80090],[13,56],[14,-15],[18,18],[12,-21],[-22,-33],[13,-48],[30,0],[1,-41],[-23,3],[-18,-79],[-23,24],[-2,78],[16,35],[-9,20],[-16,-21],[-4,24]],[[3635,79967],[5,36],[28,54],[30,-6],[3,-58],[20,6],[14,-15],[8,-44],[13,13],[-2,-41],[-26,-36],[-12,11],[-18,-45],[-6,28],[-25,1],[-17,-20],[-18,91],[3,25]],[[3608,79782],[7,15],[27,-33],[-32,-11],[-2,29]],[[3261,87028],[35,25],[57,0],[22,-20],[23,10],[9,-24],[21,10],[10,30],[-8,38],[34,68],[37,-11],[0,37],[25,46],[33,-40],[24,32],[23,9],[15,54],[19,-132],[27,-10],[29,34],[29,-20],[27,-40],[-12,-65],[11,-44],[-11,-40],[13,-11],[4,-65],[-13,-38],[21,-54],[2,-58],[21,10],[-11,-34],[2,-48],[-71,-21],[-6,-34],[-20,19],[-26,-18],[-28,-58],[8,-64],[-26,-8],[-23,71],[-38,47],[-57,-4],[-14,35],[-28,18],[-27,58],[-35,42],[-40,19],[-32,72],[-25,10],[-2,70],[-28,97]],[[3147,79003],[17,23],[22,53],[25,5],[37,40],[9,27],[28,-21],[14,19],[8,44],[22,-19],[3,72],[24,-11],[-17,106],[20,32],[8,-16],[15,18],[-18,35],[4,39],[17,23],[29,-1],[9,-68],[15,7],[-7,50],[13,31],[-53,47],[-14,-21],[-32,81],[0,46],[31,92],[42,50],[36,32],[6,-15],[23,13],[16,-63],[-16,-42],[7,-35],[17,-18],[14,53],[6,-33],[15,29],[-1,41],[18,63],[15,-58],[11,26],[20,-62],[-8,-56],[-23,-13],[-24,-70],[-40,-70],[2,-39],[34,54],[58,64],[4,22],[22,22],[7,-19],[-5,-72],[-16,-51],[-26,-34],[-6,-23],[-45,-51],[-30,-20],[12,-46],[-16,-1],[-4,-61],[-16,17],[-7,-70],[-20,25],[-4,-76],[-36,-13],[-22,30],[-10,-31],[-12,23],[-21,-37],[-6,11],[-44,-73],[-3,-31],[-23,4],[-16,-23],[-13,-60],[-28,23],[-9,-45],[-49,40],[-15,36]],[[3070,93368],[7,34],[34,50],[123,108],[63,74],[48,74],[45,56],[42,64],[84,105],[55,56],[146,167],[172,154],[133,90],[87,45],[135,15],[52,-11],[34,-31],[-41,-11],[7,-38],[-10,-71],[-31,-77],[1,-70],[12,-56],[-21,-59],[-49,-33],[-4,-20],[49,7],[42,-151],[40,-3],[36,32],[42,-1],[49,-30],[47,21],[69,15],[32,-58],[50,21],[18,-34],[52,32],[18,26],[84,-65],[18,59],[26,44],[37,150],[18,26],[40,-9],[8,-39],[32,-12],[31,27],[26,0],[-32,110],[-71,55],[-45,24],[-48,-1],[-60,-60],[13,112],[-3,83],[-62,114],[-22,91],[-26,35],[-59,14],[-8,56],[-32,90],[7,50],[27,18],[10,43],[16,-37],[24,28],[27,-89],[36,-91],[24,-10],[-19,-101],[3,-55],[28,-50],[57,-123],[53,-68],[39,18],[30,28],[9,49],[-45,2],[-10,45],[-56,70],[-53,112],[10,52],[0,60],[14,23],[1,57],[33,93],[30,-32],[22,3],[1,28],[-38,55],[-25,-8],[-28,57],[-87,-29],[-32,-37],[-34,0],[-39,-19],[-34,17],[-20,43],[-17,-16],[-21,23],[-4,-51],[-36,39],[-91,42],[-54,31],[-48,15],[-22,30],[1,98],[-22,163],[-52,216],[-20,58],[-36,62],[-91,101],[-145,228],[-21,24],[-51,87],[-50,49],[-54,37],[-51,23],[-29,35],[-19,70],[-54,84],[-45,40],[-81,41],[-42,-6],[37,40],[92,59],[20,46],[3,57],[19,76],[11,236],[-8,117],[179,-31],[68,6],[144,42],[79,28],[77,15],[77,63],[41,65],[29,30],[53,87],[81,192],[21,92],[7,79],[-2,186],[39,233],[84,183],[65,179],[37,77],[129,162],[96,-35],[69,-3],[68,40],[64,53],[93,104],[74,108],[44,86],[114,188],[33,31],[99,63],[7,-47],[55,-44],[82,-12],[68,15],[13,24],[32,-3],[61,17],[73,51],[74,85],[71,121],[36,88],[86,185],[68,76],[12,-68],[47,-38],[39,-2],[39,-20],[16,-82],[27,41],[99,-49],[15,-98],[-54,-71],[-35,-63],[-41,-4],[12,-146],[81,-15],[44,59],[-7,76],[16,8],[31,67],[23,12],[19,-48],[4,63],[-27,43],[35,55],[21,-47],[-3,65],[15,22],[71,-74],[45,-66],[13,-42],[-11,-33],[1,-109],[9,-49],[61,10],[35,-37],[16,-40],[48,62],[30,75],[112,0],[69,42],[53,-11],[40,-34],[84,-2],[61,-32],[45,-35],[9,-34],[-26,-11],[-26,-83],[-26,-30],[14,-93],[25,5],[19,-24],[45,-6],[10,-28],[69,-20],[33,9],[-17,-43],[9,-25],[-53,-26],[-8,-24],[20,-25],[89,6],[72,-41],[14,-33],[28,5],[44,86],[57,15],[24,-18],[10,34],[40,7],[29,-27],[15,-59],[42,27],[38,8],[58,83],[13,-22],[45,20],[21,-15],[34,26],[12,-30],[66,-8],[62,-72],[28,-1],[19,-24],[26,31],[24,-8],[37,-73],[0,-45],[35,-19],[41,51],[1,-63],[26,57],[81,-77],[14,-67],[24,-23],[49,1],[43,-15],[29,36],[23,-73],[48,-10],[29,45],[43,-12],[62,12],[66,-10],[49,-38],[50,-3],[17,28],[65,-95],[28,-8],[32,-54],[45,-16],[20,-30],[45,-12],[17,-26],[27,32],[66,-20],[45,77],[48,6],[9,20],[84,49],[18,24],[86,30],[42,-25],[48,32],[9,-18],[79,-73],[53,-37],[70,-80],[26,-67],[37,-11],[87,-97],[68,-40],[52,-62],[27,-47],[61,-13],[58,-45],[0,-9012],[2,-971],[-1,-889],[130,-95],[17,100],[135,-145],[81,180],[170,20],[1,-39],[-33,-272],[47,-112],[66,-76],[26,-22],[11,-116],[29,-80],[266,-580],[30,-299],[-8,-93],[22,4],[51,108],[111,158],[11,23],[68,8],[32,139],[-2,209],[30,-19],[18,19],[19,71],[-1,39],[-32,47],[45,48],[68,28],[131,158],[62,-115],[28,-88],[11,-2],[24,-70],[0,-104],[-12,-24],[1,-37],[16,-47],[-5,-42],[18,-76],[73,-38],[5,-66],[32,-73],[24,0],[29,-108],[-6,-69],[26,-20],[-6,-46],[22,-71],[114,-152],[32,-119],[46,-120],[50,-110],[-23,-49],[33,-134],[47,-140],[28,-176],[57,-182],[32,-161],[30,-111],[25,-123],[53,-180],[32,-155],[-33,-140],[89,-52],[-21,-205],[71,-81],[-8,-61],[11,-57],[7,-119],[71,14],[33,-77],[82,-115],[23,-48],[85,-47],[44,-115],[44,-33],[11,-116],[23,-15],[27,-36],[40,23],[28,-143],[-3,-90],[-20,-107],[-18,-67],[1,-60],[10,-38],[-5,-118],[12,-104],[11,-46],[6,-133],[12,-63],[-32,-100],[-24,-122],[-1,-33],[-20,-90],[-23,-77],[-37,-97],[-27,-55],[-19,-14],[3,-46],[-19,-23],[-12,40],[-1,56],[-13,24],[-1,-44],[-12,-22],[-18,18],[-13,52],[-4,108],[3,57],[-17,33],[8,103],[-9,6],[-16,56],[-6,64],[30,63],[17,63],[15,-8],[-3,75],[-11,82],[14,122],[-9,190],[-10,67],[-43,164],[-22,55],[-12,48],[-7,-34],[23,-62],[25,-85],[7,-72],[22,-90],[10,-131],[-16,-43],[-2,-79],[7,-92],[11,-62],[-9,-28],[-11,96],[-8,12],[3,-70],[-4,-74],[-36,-102],[-14,-5],[-24,49],[19,73],[11,73],[-3,38],[-25,-10],[10,-72],[-8,-42],[-33,-56],[-7,1],[-23,108],[-11,-45],[-25,54],[-17,18],[-12,50],[-28,68],[0,76],[31,31],[22,51],[-20,47],[7,75],[-9,39],[23,44],[3,24],[-18,1],[-3,74],[7,43],[-41,-17],[6,-45],[11,-16],[-1,-37],[-13,-85],[-1,-60],[-19,-73],[-18,13],[7,-93],[-10,-43],[-24,52],[-25,22],[-9,30],[-12,132],[-16,70],[21,-29],[7,75],[27,37],[12,147],[-8,102],[10,57],[6,-21],[12,42],[7,92],[-21,-11],[-4,-58],[-19,-30],[-21,-61],[13,-113],[-8,-42],[-33,3],[-12,-43],[3,-30],[-17,-14],[-7,34],[4,67],[-19,23],[-12,128],[-32,-17],[0,-48],[-28,118],[-3,123],[8,25],[25,1],[7,66],[13,49],[30,12],[16,-72],[7,63],[-15,168],[9,3],[30,-45],[4,-59],[11,-32],[6,23],[-9,77],[-22,35],[-19,48],[-3,53],[-11,13],[-12,-25],[-10,49],[-23,32],[-5,57],[12,23],[-4,64],[-22,28],[-37,66],[-13,69],[-15,33],[-13,79],[29,43],[-11,58],[-18,-47],[-19,18],[-2,-27],[-23,58],[-31,8],[-11,56],[-27,-28],[-54,76],[-8,75],[15,73],[18,-22],[33,4],[9,48],[-22,3],[-32,36],[2,35],[-18,125],[13,81],[-24,-10],[-15,19],[-16,53],[7,103],[20,2],[16,-36],[33,-24],[63,-89],[5,15],[-25,58],[-20,19],[-66,130],[-3,95],[-17,-15],[-2,-65],[-20,3],[-39,166],[-55,147],[-11,140],[9,65],[-2,52],[27,41],[-13,100],[-8,-2],[-9,-85],[-20,-30],[0,-42],[12,-22],[-13,-57],[-10,10],[-22,-20],[-25,11],[-36,34],[-7,-15],[-35,36],[-40,174],[-4,110],[-42,140],[-13,79],[19,1],[-11,174],[-19,-56],[1,-58],[-35,132],[-8,177],[-8,92],[-21,135],[-32,116],[-36,37],[-5,-16],[28,-38],[4,-41],[17,-39],[20,-131],[-15,11],[-34,140],[-22,36],[-22,10],[41,-92],[13,-85],[17,-29],[-7,-97],[9,-88],[13,-23],[-5,-24],[27,-124],[3,-55],[25,-139],[2,-32],[-14,11],[27,-204],[9,-85],[1,-69],[-12,8],[-1,-61],[12,-64],[-29,23],[-19,32],[-14,-4],[-18,43],[-15,66],[-10,84],[-22,-16],[-33,50],[-27,-37],[-50,-19],[3,81],[-25,16],[-4,19],[30,39],[-10,69],[5,53],[-28,109],[0,36],[-22,84],[13,24],[-2,90],[-19,64],[-12,10],[15,-131],[-12,-125],[-27,-5],[-42,70],[-26,30],[-15,150],[-11,-68],[-13,-22],[-44,54],[-14,-20],[-10,50],[-12,-18],[-3,-54],[45,-35],[7,7],[45,-44],[33,-66],[30,-104],[-11,-44],[-24,-44],[6,-11],[33,44],[7,30],[27,1],[7,-105],[26,-78],[16,-157],[-19,-44],[-43,-32],[-11,10],[9,47],[-18,16],[-12,-17],[7,-39],[-10,-37],[-43,22],[-11,-23],[5,-60],[-8,-35],[-29,5],[-8,78],[-36,35],[3,15],[-28,74],[-17,19],[-29,-19],[-35,70],[-16,15],[-56,107],[-51,75],[-2,50],[-30,70],[-37,64],[-5,28],[4,75],[-15,48],[-55,121],[-30,47],[-96,89],[-36,71],[-43,66],[-98,104],[-42,49],[-91,144],[-30,39],[5,29],[31,89],[24,-14],[-9,-27],[24,3],[0,43],[21,70],[-22,7],[2,77],[-14,116],[7,35],[22,41],[-5,34],[16,30],[-13,56],[-19,-51],[-2,-59],[-25,-21],[-21,-72],[-1,-49],[-107,-100],[-12,-28],[-28,-28],[-95,22],[-67,36],[-26,32],[-123,125],[-17,56],[18,-10],[34,24],[11,71],[-33,131],[3,42],[-20,-17],[-31,44],[6,-50],[45,-120],[-10,-21],[-54,-51],[-39,0],[-49,55],[-61,24],[-32,23],[-81,40],[-45,11],[-59,-4],[-63,-33],[-77,-12],[-80,-28],[-54,-48],[-39,39],[-45,-26],[-64,-120],[-46,-115],[6,65],[36,103],[62,117],[46,2],[-16,66],[-49,48],[-8,25],[-10,-82],[-26,84],[-26,30],[-17,-9],[-16,27],[-71,19],[9,28],[38,23],[-42,33],[-19,-6],[-2,25],[37,156],[-15,15],[-13,-36],[-29,-22],[-1,-57],[-20,-66],[-39,12],[-70,97],[1,31],[-26,36],[-39,26],[-41,-35],[-22,27],[13,29],[31,32],[25,74],[-14,10],[-18,-49],[-79,-93],[-29,-23],[-38,5],[1,-54],[60,27],[11,-24],[2,-53],[-17,2],[-28,-37],[-18,6],[-41,-38],[-41,-77],[-12,2],[-12,48],[47,77],[-37,-12],[-17,11],[-1,54],[23,83],[13,27],[18,2],[20,-31],[24,17],[22,41],[38,13],[57,58],[42,20],[-9,25],[-19,-2],[1,71],[-11,-49],[-19,-20],[1,30],[25,65],[1,21],[-33,-58],[-45,-47],[-19,-3],[-4,30],[63,112],[-6,38],[-29,-60],[-38,-14],[-12,26],[-15,-49],[-20,-14],[-54,13],[-10,58],[27,19],[11,-9],[18,25],[40,16],[29,28],[23,65],[-25,2],[-14,-46],[-23,-19],[-45,-2],[-18,68],[-12,3],[-17,-69],[-21,-8],[-4,59],[16,26],[17,-6],[-11,44],[-3,55],[13,34],[26,114],[96,6],[-7,38],[-91,-5],[-21,-63],[-27,-26],[-21,-77],[-31,-48],[-23,12],[20,36],[-10,113],[-12,53],[18,30],[-22,10],[-14,-23],[-1,-51],[12,-63],[-14,-63],[1,-41],[-13,-15],[-26,48],[-2,-67],[-27,-45],[-21,22],[0,52],[-11,19],[-7,-73],[-9,15],[4,129],[9,62],[-15,11],[-17,-130],[9,-111],[-4,-29],[-19,-9],[1,49],[-27,34],[-7,-46],[16,-65],[-13,-8],[-38,16],[-34,-48],[-28,9],[-5,31],[14,95],[42,151],[1,53],[49,123],[16,81],[-6,18],[-73,-211],[-1,-35],[-18,-58],[-8,8],[-8,69],[-12,-1],[-3,-81],[-11,-54],[-18,-42],[-3,-64],[-16,-68],[-21,27],[-7,-44],[24,-28],[-5,-91],[10,-8],[19,85],[37,6],[11,-22],[4,-91],[-14,-45],[-31,-32],[-22,-76],[1,-63],[21,20],[17,75],[30,44],[30,-89],[0,-44],[10,-43],[-23,-192],[-26,0],[-9,52],[-19,9],[1,-36],[-27,-44],[0,-17],[28,14],[23,-27],[61,-124],[26,-85],[-15,-77],[-13,-26],[-34,-35],[-17,16],[-14,-18],[-29,-6],[9,51],[-26,67],[9,60],[-17,63],[-16,-126],[0,-62],[-12,-41],[-19,69],[-9,-8],[-7,-59],[-18,-33],[-34,50],[-29,-40],[-15,52],[-27,-21],[-22,5],[-9,28],[24,74],[-9,14],[-27,-38],[-29,-175],[-30,-42],[-9,18],[14,55],[13,84],[-15,172],[-16,5],[-5,-28],[1,-81],[13,-53],[-10,-4],[-10,-72],[-17,11],[-8,-20],[-5,-68],[-11,-17],[4,-47],[25,-31],[-6,-74],[-27,32],[-12,127],[8,37],[-11,78],[-17,6],[6,-52],[-8,-49],[5,-196],[-5,-64],[-27,74],[-1,43],[-16,28],[-34,31],[3,-40],[24,-36],[-1,-63],[-69,-158],[-32,-91],[0,-36],[-16,-10],[-9,-86],[-12,2],[-3,70],[34,211],[0,29],[-26,-65],[-19,-111],[-12,11],[-9,142],[-13,-52],[-11,2],[16,-62],[-5,-80],[-39,0],[-8,-61],[-18,-24],[-22,-55],[7,-43],[-15,-41],[-16,-10],[0,54],[-16,36],[-13,-45],[-1,-53],[-22,-17],[-24,31],[-9,-23],[-21,38],[-7,43],[-12,-36],[-21,-27],[6,-35],[-20,0],[-5,-39],[-41,-7],[-6,76],[-22,-14],[-21,22],[3,22],[-21,8],[-3,70],[8,36],[16,18],[5,71],[32,31],[9,-11],[29,51],[33,3],[0,45],[33,21],[34,62],[31,-9],[-11,69],[22,26],[3,32],[37,102],[-13,15],[-24,-22],[-60,-109],[-30,-20],[-18,-39],[-39,16],[-43,67],[-15,40],[-5,46],[18,117],[13,45],[15,133],[27,79],[17,33],[35,99],[11,98],[0,71],[23,32],[5,156],[4,27],[-18,44],[-22,163],[39,35],[5,27],[63,27],[89,164],[92,118],[51,-161],[41,-16],[13,-27],[34,112],[30,8],[36,-45],[19,10],[63,-48],[65,-20],[30,-55],[-1,27],[-22,63],[-29,36],[-38,-14],[-51,63],[-24,-1],[-40,42],[-25,68],[-39,66],[-29,28],[18,55],[24,9],[31,124],[23,18],[8,60],[46,27],[30,45],[-32,50],[-20,4],[-43,-64],[-11,-49],[-19,-14],[-12,-70],[0,-70],[-18,-31],[-25,19],[-36,7],[-74,-17],[-26,43],[-28,16],[-14,-52],[-87,-84],[-39,-154],[-36,-12],[-19,-31],[-33,2],[-39,-63],[-48,-109],[-1,-29],[26,-124],[-2,-23],[-38,25],[-19,-18],[-30,-52],[-21,-92],[-27,-29],[-32,-74],[-6,-73],[8,-34],[19,-24],[-40,-56],[-9,-67],[-13,-4],[-28,-70],[-19,-7],[-9,28],[-25,-11],[4,-68],[16,-13],[-3,-30],[25,-42],[8,-35],[-12,-73],[-19,-47],[-7,-62],[-25,-21],[-4,-22],[-39,-2],[-15,12],[-40,-31],[-18,3],[-19,-60],[23,16],[15,-20],[15,30],[19,1],[7,-50],[-16,-116],[-19,-16],[-26,-51],[-28,37],[5,-34],[-13,-18],[-18,18],[7,35],[2,75],[-22,71],[3,-119],[-9,-55],[-18,-15],[-13,25],[-6,-35],[16,-28],[-9,-53],[-49,-10],[17,-93],[-8,-32],[-27,-21],[-10,8],[-24,-45],[-12,13],[-36,-37],[5,-26],[20,-18],[-23,-32],[-7,-43],[2,-61],[-12,-44],[-24,-35],[24,-26],[-6,-59],[10,-60],[27,63],[59,-23],[16,22],[12,-22],[15,25],[22,-78],[19,-27],[19,13],[23,-34],[18,-53],[8,-53],[15,-22],[-28,-14],[-14,-118],[-12,-39],[-30,-25],[-11,-55],[-24,-33],[-48,0],[-15,-17],[-4,-94],[-12,-33],[-27,1],[-5,-20],[10,-79],[11,-32],[-27,-36],[-20,15],[-2,-45],[20,-46],[-11,-81],[-21,-30],[-6,-33],[9,-24],[-23,0],[-14,-52],[-26,66],[-9,-7],[5,-57],[-4,-40],[-21,-3],[-12,-43],[-17,16],[0,27],[-20,-1],[-4,-39],[-22,-24],[-23,31],[-28,-17],[-35,-69],[15,-52],[-9,-51],[-40,-44],[-28,-2],[1,-53],[14,-25],[-6,-40],[-20,-16],[-36,59],[-10,30],[-20,-20],[-5,-63],[1,-69],[-26,-27],[-3,-97],[-65,-7],[-21,24],[-2,-74],[8,-71],[-20,0],[-12,37],[-21,3],[-4,-39],[-32,-27],[-39,-92],[-15,-12],[-5,-44],[13,-11],[47,64],[4,-50],[-6,-53],[-15,-7],[0,-31],[18,-38],[-10,-38],[-18,-26],[-2,-49],[-26,-44],[-8,-32],[2,-42],[-32,14],[-31,-28],[-4,-70],[-12,-12],[-19,75],[-8,-53],[-27,-42],[-11,-53],[-24,-6],[5,-50],[-17,-27],[-25,43],[-24,67],[-22,-16],[0,-51],[11,-5],[1,-36],[-29,-10],[-13,-67],[6,-32],[18,-6],[5,-52],[-36,-4],[-24,-15],[-17,77],[-51,-38],[-18,-51],[-16,-3],[-9,-49],[19,-1],[27,25],[20,-17],[6,-54],[-16,-47],[-43,44],[-23,11],[-5,-70],[-33,6],[-23,21],[-20,-33],[-27,-88],[2,-44],[47,-20],[32,-36],[-3,-29],[-32,-42],[1,-23],[18,-4],[25,31],[16,-7],[-55,-78],[-23,-63],[1,-52],[-13,50],[-10,-17],[16,-66],[-6,-50],[-7,39],[-10,-2],[-2,-53],[-25,80],[0,95],[-19,-60],[8,-73],[-4,-67],[-24,-6],[3,58],[-35,1],[-16,-80],[-25,-9],[-75,-43],[-29,-22],[-7,-22],[-3,-74],[-17,46],[5,80],[-23,-19],[10,-30],[1,-104],[-16,-71],[6,-46],[-24,-81],[-32,-30],[2,52],[24,4],[-1,40],[-10,4],[2,111],[18,72],[-29,39],[-28,12],[-13,-18],[3,-45],[-12,-21],[-13,22],[-25,-13],[-9,-82],[-35,-74],[-26,-20],[-37,28],[-6,-29],[11,-44],[-20,-81],[1,-31],[-21,-37],[-12,105],[-10,13],[-14,-37],[-11,14],[-18,-31],[31,-13],[-2,-68],[-32,-10],[-16,25],[5,39],[-13,24],[-22,-22],[-19,-90],[-61,-85],[-26,2],[-11,29],[-26,-29],[-13,4],[10,156],[29,96],[1,46],[-15,16],[-31,-2],[-24,-29],[-24,-101],[4,-129],[-40,-140],[-7,-12],[-14,-85],[-21,36],[-19,-12],[13,-65],[10,-17],[1,-56],[-25,-38],[-19,33],[0,45],[-16,15],[-13,-60],[10,-49],[-17,-47],[-14,27],[-32,-8],[-16,18],[-14,74],[32,6],[-21,47],[-8,104],[-21,56],[-11,7],[-16,-33],[-10,-65],[7,-27],[14,0],[18,-70],[-11,-46],[14,-95],[0,-52],[-22,30],[-20,-19],[3,-26],[-17,-30],[-18,-7],[-22,28],[-16,59],[4,36],[-13,56],[-21,37],[-31,-25],[-10,-56],[49,-85],[4,-31],[-50,-111],[-24,-21],[-20,-33],[16,-56],[27,2],[9,24],[22,-50],[13,-83],[-26,6],[8,34],[-17,6],[-10,-28],[-16,22],[-17,62],[-25,-39],[2,-69],[-18,-1],[-28,-50],[-23,18],[-37,10],[-45,-5],[-34,-14],[-41,-40],[-29,-71],[-4,-69],[-29,-53],[-51,-33],[-29,3],[-28,28],[-9,30],[-9,74],[-10,30],[-1,55],[8,29],[44,41],[14,25],[23,110],[19,110],[-1,29],[22,54],[14,13],[25,-46],[38,39],[25,49],[25,0],[37,81],[34,20],[36,-14],[31,5],[1,-37],[28,-72],[9,-61],[-5,-50],[27,24],[-8,52],[2,37],[30,-30],[-15,42],[2,77],[-10,109],[32,46],[26,21],[42,-15],[21,14],[10,69],[-16,4],[4,28],[18,10],[7,38],[18,-4],[26,99],[3,-32],[15,-20],[21,48],[-5,83],[-20,-9],[27,68],[64,206],[33,52],[23,62],[19,13],[27,42],[25,68],[27,14],[35,39],[37,20],[89,70],[30,-9],[10,18],[45,5],[10,-10],[-20,-27],[-1,-47],[14,-2],[-3,-49],[-29,-18],[-3,-85],[38,-98],[11,22],[27,-39],[4,19],[-29,53],[-3,85],[-6,32],[26,-28],[57,3],[7,-86],[23,7],[26,-36],[7,22],[-14,40],[27,15],[-56,89],[-32,36],[1,58],[-16,-7],[39,166],[15,123],[11,56],[23,44],[36,96],[18,13],[40,74],[30,81],[82,96],[41,74],[35,39],[68,106],[17,42],[29,-68],[19,-14],[31,19],[8,59],[-13,47],[-2,46],[15,122],[29,108],[41,130],[24,62],[22,37],[40,41],[21,52],[22,87],[14,15],[26,62],[30,25],[8,-74],[18,-15],[4,41],[-10,105],[-23,-2],[-6,34],[2,95],[9,59],[25,409],[14,42],[38,16],[12,53],[-20,-9],[-34,77],[-3,62],[9,97],[20,106],[27,33],[29,101],[49,102],[4,57],[19,93],[-5,45],[13,33],[-3,43],[13,38],[-20,0],[-11,-32],[0,-38],[-21,-53],[-28,-31],[-38,-27],[-21,-31],[-29,-22],[-5,-21],[-41,-28],[-44,-61],[-79,-73],[-26,5],[-28,53],[-5,73],[-20,49],[-40,38],[2,46],[11,17],[9,167],[-12,-3],[-25,-101],[-41,-54],[-6,-58],[5,-58],[-8,-37],[-14,-12],[-3,-32],[9,-80],[16,-91],[19,-76],[-26,-87],[-28,-21],[-42,32],[-39,161],[-47,208],[-26,73],[-23,42],[-31,13],[16,65],[-16,44],[-25,-9],[-6,-87],[-15,7],[1,-65],[-29,-30],[-24,79],[3,26],[-19,19],[-11,-30],[-16,6],[-1,59],[-22,-18],[-25,61],[18,47],[-17,89],[-44,-52],[-46,-72],[-31,-62],[-20,-95],[-13,57],[-36,-33],[-94,-124],[-10,-41],[0,-49],[-41,-38],[-8,-26],[-22,-10],[-15,-44],[-20,-15],[-4,55],[-29,45],[-54,-20],[-29,33],[49,47],[15,-39],[18,12],[5,50],[25,77],[3,60],[-8,85],[1,81],[-16,74],[5,21],[-16,20],[-29,97],[-20,139],[29,128],[21,23],[24,79],[24,26],[-15,77],[-18,44],[-15,64],[-10,107],[-50,162],[-3,74],[-25,67],[-10,63],[-30,85],[-10,44],[-22,9],[-11,-37],[-2,-74],[6,-37],[-8,-56],[-12,-21],[-27,-10],[-18,21],[-19,-54],[-36,-29],[-50,-68],[-73,-48],[-88,-28],[-75,10],[-51,38],[-13,32],[-13,99],[23,18],[-18,69],[-54,62],[-32,108],[-5,34],[-33,51],[-18,62],[-42,8],[-31,42],[-47,110],[23,32],[24,55],[-2,36],[-24,6],[-38,-54],[-48,10],[-16,51],[11,32],[32,1],[57,128],[10,-4],[17,45],[-16,34],[-4,41],[32,24],[-27,7],[5,70],[27,78],[-17,3],[-18,-48],[-40,42],[-6,40],[22,49],[27,-6],[19,23],[0,45],[-17,-21],[-30,32],[-16,54],[2,23],[-20,7],[-13,35],[-10,-14],[-12,-99],[-14,-6],[-38,16],[-10,21],[-10,66],[1,129],[-11,19],[-43,10],[-18,37],[-10,98],[42,44],[6,38],[-17,46],[-30,31],[-45,-27],[0,-46],[-21,23],[-9,88],[8,147],[6,11],[-2,-107],[92,47],[0,19],[-35,20],[-20,28],[-24,82],[2,18],[36,19],[55,-8],[33,25],[-29,134],[-4,46],[3,84],[21,77],[101,278],[4,29],[27,77],[29,61],[5,70],[18,67],[21,34],[19,-4],[9,23],[-11,115],[26,188],[18,70],[38,61],[-18,24],[4,22],[58,133],[60,46],[48,11],[42,-45],[43,-11],[32,-84],[24,-6],[6,-26],[54,-88],[73,24],[61,124],[4,47],[44,29],[63,172],[23,89],[23,39],[-9,58],[14,5],[28,-28],[22,-5],[13,-77],[52,0],[45,20],[26,-20],[77,28],[48,38],[9,51],[56,128],[38,135],[0,71],[-12,81],[-23,95],[-17,121],[-1,118],[-5,52],[-71,157],[-9,32],[-41,28],[-27,1],[10,97],[27,33],[14,-25],[35,-20],[51,7],[-10,45],[31,10],[41,81],[2,114],[-42,122],[-47,68],[-25,48],[-1,-32],[-27,-48],[-20,-86],[-42,-30],[-42,42],[-59,-93],[-81,-34],[-18,-71],[-85,-103],[-21,-70],[-5,-99],[-44,-70],[-4,93],[-15,110],[-23,50],[-28,-3],[4,34],[-32,46],[-9,36],[-38,-60],[16,-45],[21,-7],[16,-39],[24,11],[2,-48],[-22,-81],[-19,-11],[-22,82],[-55,76],[-41,33],[-64,13],[-41,-27],[-27,12],[-52,3],[-45,-22],[-108,-112],[-58,-17],[-111,74],[-94,45],[-47,14],[-88,40],[-49,79],[-20,96],[1,74],[20,36],[-6,64],[-28,63],[-45,56],[-1,59],[-46,64],[-10,56],[39,-33],[33,3],[9,27],[24,15],[16,32],[-3,55],[35,61],[-38,63],[-19,9],[-29,-16],[-39,15],[-64,52],[-104,21],[-49,52],[-38,63],[-55,60],[-46,30],[-15,93]],[[2812,78476],[27,27],[-1,59],[18,0],[10,36],[0,57],[21,33],[5,57],[-10,16],[11,87],[46,106],[16,-26],[27,16],[28,-3],[-9,65],[-12,5],[9,77],[-6,26],[18,76],[40,67],[54,37],[29,-53],[31,1],[2,-23],[-21,-74],[5,-60],[-55,-95],[-65,-72],[-19,-66],[-1,-36],[-28,-81],[-15,-58],[-25,-10],[-28,-71],[-15,-17],[-4,-51],[-15,21],[-27,-49],[-54,-69],[13,45]],[[2752,78371],[29,49],[-1,-45],[-26,-25],[-2,21]],[[2615,78610],[4,50],[19,16],[4,-44],[-9,-45],[-12,-8],[-6,31]],[[2607,82847],[50,-13],[29,5],[10,-14],[-27,-68],[-23,4],[-9,46],[-20,10],[-10,30]],[[2611,78728],[8,-39],[-15,13],[7,26]],[[2547,78457],[17,17],[23,-3],[-2,19],[27,23],[19,-10],[10,-25],[-17,-105],[-30,50],[-25,-29],[-19,14],[-3,49]],[[2517,78521],[8,26],[23,-16],[1,-31],[-14,-31],[-13,16],[-5,36]],[[2497,78313],[4,72],[33,-18],[-7,-57],[-30,3]],[[2431,83489],[9,43],[22,15],[12,-10],[29,22],[-2,-56],[-32,-62],[-5,31],[-33,17]],[[2316,78170],[5,42],[40,72],[31,-27],[1,-27],[-13,-58],[-19,2],[-17,-26],[-15,-48],[-15,21],[2,49]],[[2228,78152],[9,-32],[-16,2],[7,30]],[[2183,78046],[17,42],[16,-37],[-12,-55],[-19,-1],[-2,51]],[[2036,90914],[2,37],[25,87],[-3,75],[8,18],[-5,57],[21,3],[8,-42],[-4,-48],[12,-34],[64,-57],[77,-48],[55,-20],[58,87],[58,58],[58,-14],[29,-69],[23,-15],[15,-104],[-2,-38],[53,-56],[56,-14],[22,-32],[9,-35],[36,-20],[88,-20],[14,6],[102,-55],[-27,-131],[-22,-43],[-51,35],[-43,-1],[-50,-29],[-44,-89],[-10,-61],[1,-53],[-20,-46],[-30,22],[3,24],[-26,119],[-32,62],[-50,60],[-39,-5],[-11,69],[-17,55],[-54,80],[-86,69],[-65,11],[-47,-44],[-18,-58],[-36,-34],[-28,33],[-49,36],[-24,83],[-7,56],[3,73]],[[1818,77819],[15,59],[33,49],[12,-2],[27,-39],[-1,-41],[-28,-51],[-32,-27],[-22,-1],[-4,53]],[[1695,87369],[6,69],[25,52],[11,-3],[-4,-58],[12,-54],[33,-70],[48,-63],[22,-14],[25,13],[57,-94],[-21,-19],[-9,37],[-51,8],[-26,-17],[-33,46],[-58,136],[-37,31]],[[1687,87598],[8,-5],[5,-84],[-20,42],[7,47]],[[1421,77626],[35,0],[33,-31],[9,30],[14,-2],[33,27],[25,-1],[-6,-28],[10,-29],[8,15],[31,-24],[23,16],[10,-11],[32,11],[5,-12],[41,-7],[-25,-23],[-16,6],[-14,-22],[-44,-1],[-22,-35],[-8,16],[-16,-19],[-19,4],[-18,25],[-52,3],[-9,-15],[-29,19],[-10,49],[-11,-1],[-10,40]],[[1064,77503],[55,37],[11,-28],[25,50],[3,-22],[19,38],[5,29],[18,-29],[27,8],[8,34],[6,-24],[35,37],[1,42],[44,10],[-13,41],[43,-5],[13,34],[-1,36],[-32,7],[-23,29],[5,26],[21,-16],[12,36],[-2,39],[38,46],[33,-32],[22,-76],[1,-31],[-21,-85],[-34,8],[-4,-43],[33,-79],[-3,-24],[-15,21],[-17,-10],[-4,-27],[-16,-4],[-20,23],[-19,-95],[-25,31],[-64,-55],[-13,29],[-29,12],[-23,-6],[-13,-35],[-22,-8],[-33,6],[-32,25]],[[1013,77451],[17,17],[7,-29],[-22,-4],[-2,16]],[[1005,77685],[16,-19],[-11,-12],[-5,31]],[[949,77433],[5,9],[40,-3],[1,-26],[-19,3],[-22,-24],[-5,41]],[[890,77452],[11,14],[28,-1],[15,-90],[-16,5],[-17,49],[-21,23]],[[821,77563],[14,45],[26,-9],[23,-80],[-20,-38],[15,-56],[-13,-34],[-18,-2],[-18,22],[3,57],[-7,2],[-8,77],[3,16]],[[811,77269],[5,56],[12,10],[10,-27],[19,10],[-12,22],[34,30],[10,-23],[-2,-55],[-23,0],[13,-52],[-29,29],[2,-40],[-12,12],[-5,-39],[-7,45],[-15,22]],[[601,77040],[11,67],[15,16],[7,36],[-13,66],[4,27],[32,7],[7,59],[-13,69],[10,45],[15,4],[18,-20],[19,59],[9,-14],[3,-74],[-20,-29],[-2,-50],[13,-20],[19,4],[31,26],[30,5],[7,-64],[-7,-88],[-15,-12],[-36,18],[-13,-52],[-18,-12],[-13,-41],[-23,31],[-6,-25],[6,-48],[-11,17],[-13,-26],[-4,55],[-14,29],[-19,-108],[-14,11],[-2,32]],[[469,77371],[13,9],[2,-26],[-14,-17],[-1,34]],[[402,77131],[18,33],[24,-17],[26,34],[50,39],[21,43],[2,128],[12,16],[16,-10],[15,-44],[-26,-98],[5,-86],[-7,-38],[-33,-31],[-36,61],[-27,-33],[-40,-10],[-1,-43],[-10,5],[-9,51]],[[257,77332],[8,29],[29,17],[39,-5],[11,-42],[-2,-30],[19,-32],[15,17],[18,-17],[33,34],[-10,-40],[-41,-32],[-12,-71],[4,-31],[-12,-31],[-8,16],[-9,-44],[8,-57],[-8,-5],[-9,56],[-14,-24],[-16,48],[-13,8],[4,28],[41,25],[-3,64],[-20,1],[-13,34],[-39,66],[0,18]],[[130,77016],[32,-12],[-3,-18],[-27,7],[-2,23]],[[81,76979],[27,-17],[7,-23],[-25,5],[-9,35]],[[77,77233],[14,52],[20,-35],[0,-61],[-19,-10],[-15,54]],[[43,76751],[8,25],[10,-22],[5,-50],[-12,-2],[-10,-32],[-1,81]],[[3,76640],[12,18],[6,-59],[-18,-25],[0,66]],[[99917,77451],[12,-2],[12,35],[26,14],[31,-61],[-9,-68],[-24,-42],[-12,-5],[-25,29],[-11,29],[0,71]],[[99678,77049],[5,24],[26,-29],[19,3],[27,-24],[4,-31],[24,-42],[27,-78],[25,-26],[11,-57],[44,-11],[21,-33],[-18,-19],[-9,14],[-29,-16],[-15,41],[-41,72],[-30,101],[-30,43],[-17,-8],[-22,25],[-22,51]],[[99628,77446],[9,11],[20,-16],[11,-33],[-14,-49],[-10,-4],[-16,91]],[[99570,77271],[19,-7],[21,-67],[-22,15],[-18,59]],[[99530,77510],[7,22],[17,-22],[3,-34],[-17,-20],[-10,54]],[[99282,77351],[24,27],[15,50],[39,26],[6,63],[16,96],[11,18],[20,-52],[-12,-32],[-8,-57],[-20,-53],[21,-18],[0,-35],[-13,-10],[-42,17],[-17,-31],[-4,-70],[-11,2],[-25,40],[0,19]],[[98911,77903],[26,-13],[-18,-27],[-8,40]],[[98408,78327],[22,-8],[3,-26],[-24,15],[-1,19]],[[98376,78346],[14,-8],[0,-29],[-14,37]],[[98352,78374],[20,-27],[-12,-2],[-8,29]],[[98210,77943],[6,31],[19,27],[23,-6],[26,67],[41,5],[-17,-40],[-5,-37],[10,-104],[-21,0],[-17,52],[-35,-19],[-30,24]],[[97960,78551],[47,86],[33,11],[100,-20],[29,-63],[24,-15],[35,-94],[2,-18],[-35,-8],[-21,38],[-17,-71],[-9,-13],[-38,15],[-26,-41],[-27,32],[-12,40],[-3,63],[-32,56],[-35,-24],[-15,26]],[[13347,81071],[9,23],[10,-28],[-5,-52],[-16,34],[2,23]],[[13279,80906],[61,56],[7,-80],[13,-14],[-20,-68],[-24,-1],[-33,63],[-4,44]],[[13241,80901],[26,65],[8,-25],[-26,-58],[-8,18]],[[13234,81005],[16,62],[-2,43],[13,20],[-14,43],[-2,70],[5,39],[11,9],[19,-32],[5,-35],[13,-7],[17,-40],[0,-165],[-9,-34],[-27,-2],[-13,32],[-23,-36],[-9,33]],[[13172,81388],[4,66],[6,1],[52,-135],[-12,-28],[-1,-68],[-15,-111],[-23,74],[-9,113],[-2,88]],[[12999,82714],[4,48],[9,-30],[-13,-18]],[[12979,82569],[2,29],[21,40],[21,-38],[-1,-22],[-24,-37],[-19,28]],[[12954,82690],[20,33],[17,52],[-5,-50],[-18,-75],[-14,40]],[[12888,80934],[18,6],[-4,-53],[-14,47]],[[12850,82395],[7,53],[10,-24],[22,-97],[10,-68],[-13,-15],[-21,61],[-9,4],[-6,86]],[[12838,82543],[18,86],[21,30],[30,-20],[24,22],[28,-42],[4,-36],[-18,-53],[6,-82],[-16,-19],[-44,-22],[-23,65],[-24,29],[-6,42]],[[12768,81460],[21,27],[-2,-46],[-16,-11],[-3,30]],[[12700,80811],[9,0],[10,-128],[-15,29],[-4,99]],[[12674,81692],[9,23],[1,61],[20,-30],[1,-32],[-22,-72],[-9,50]],[[12659,81749],[12,9],[-1,-36],[-11,27]],[[12637,81497],[8,92],[8,25],[32,-9],[10,-16],[-2,-35],[-16,-42],[8,-16],[20,40],[5,43],[13,-19],[19,68],[19,-2],[16,-39],[-5,-60],[-15,-35],[-19,15],[-13,-35],[17,-22],[-2,-37],[-22,-21],[-22,-50],[-9,-97],[-23,78],[17,61],[-1,78],[-29,51],[-14,-16]],[[12629,82086],[11,22],[24,102],[28,10],[11,20],[-22,13],[-1,47],[15,-22],[9,34],[-36,62],[14,29],[-10,86],[23,49],[45,-24],[71,-17],[24,-82],[11,-73],[-5,-69],[14,-6],[13,-68],[17,-48],[17,5],[57,-119],[12,-52],[33,-111],[3,-126],[29,-29],[8,-82],[8,-32],[31,-50],[13,-58],[-10,-6],[-19,46],[-75,98],[-3,-31],[-23,-74],[11,-8],[14,47],[8,-19],[23,10],[5,-37],[20,-13],[10,-29],[-38,-14],[8,-36],[32,21],[14,-52],[16,-14],[11,-87],[8,-9],[-12,-49],[-20,9],[2,-32],[22,-22],[11,8],[3,46],[14,36],[9,-21],[5,-91],[-15,-34],[4,-36],[-22,-94],[-29,-40],[18,-23],[27,59],[15,-10],[0,-203],[7,-72],[-20,-105],[-37,-9],[-26,48],[-14,-19],[-17,38],[-1,37],[-38,-2],[17,53],[27,-10],[1,39],[-19,42],[-19,13],[-35,78],[9,38],[10,115],[-15,9],[-11,-58],[7,101],[8,28],[-11,39],[-5,-55],[-27,-21],[14,-103],[-18,-58],[-47,56],[-4,35],[17,58],[-18,100],[-20,-5],[-10,50],[-21,3],[12,-78],[18,-65],[6,-72],[-7,-36],[15,-17],[20,-145],[24,-26],[-4,58],[24,18],[28,-65],[4,-124],[-14,-16],[-18,74],[-7,-7],[23,-170],[-29,0],[-26,32],[-2,60],[-20,40],[-49,177],[-10,22],[-2,84],[-12,10],[-8,61],[29,8],[-27,33],[3,119],[-33,-28],[-10,26],[-18,-19],[-9,42],[6,84],[33,30],[11,-63],[17,20],[-13,29],[6,39],[14,20],[14,-14],[22,44],[-29,96],[14,12],[-16,32],[4,66],[-24,-21],[-49,87],[-4,28],[16,-1],[-9,50],[3,35],[-27,18],[6,-57],[-10,-13],[-32,39],[-16,58],[12,52],[28,14],[37,-54],[28,35],[-17,67],[-18,16],[-12,-20],[-9,17],[8,30],[-2,42],[7,63],[-5,16],[-13,-47],[-27,-65],[-22,-33],[-23,38],[-5,45]],[[12611,83642],[15,25],[14,-33],[-27,-31],[-2,39]],[[12594,82026],[14,28],[11,-6],[4,-52],[-8,-48],[-10,3],[-11,75]],[[12476,82024],[28,22],[1,-43],[31,33],[8,75],[7,-2],[-9,-101],[-22,-24],[-20,-56],[-18,17],[8,30],[-14,49]],[[12463,83115],[17,52],[16,17],[7,33],[33,-1],[1,26],[28,-40],[11,-83],[18,-54],[31,-2],[9,-21],[10,26],[-29,44],[-13,80],[-2,55],[-35,79],[11,53],[34,26],[51,-37],[25,-9],[47,-44],[31,-20],[7,14],[57,-11],[30,-74],[14,-82],[3,-56],[9,-23],[23,-11],[16,-48],[5,-46],[33,-52],[9,-64],[15,-34],[-31,-38],[-20,-42],[-26,-24],[-16,16],[-31,4],[-43,24],[5,-48],[-23,-51],[-40,25],[-19,29],[-12,-47],[-15,-20],[-25,-2],[-17,15],[-3,87],[-11,32],[-30,-64],[13,-29],[-2,-90],[-23,-3],[-2,-31],[10,-51],[-11,-51],[-2,-62],[-17,-50],[4,-39],[-9,-64],[-10,-11],[-25,15],[-14,-103],[-15,19],[-12,52],[-7,63],[-1,109],[-10,87],[2,75],[14,48],[-3,57],[15,101],[-12,28],[-22,-1],[5,77],[-20,56],[-8,75],[2,43],[-5,91]],[[12311,84926],[43,-96],[7,-47],[14,-9],[8,-130],[19,1],[21,38],[11,-23],[20,-2],[21,-29],[54,13],[-3,-89],[25,-75],[2,-52],[21,-52],[14,-87],[17,-55],[2,-142],[21,-60],[4,-65],[-9,-2],[-5,47],[-38,120],[-10,115],[-19,37],[-9,53],[-21,0],[26,-101],[4,-34],[-13,-23],[35,-121],[23,-49],[-2,-62],[24,-113],[-19,6],[15,-102],[0,-27],[-25,-62],[-20,26],[-17,-1],[4,-34],[-21,-104],[-38,-83],[-24,-25],[-2,-33],[-31,-65],[-29,3],[-9,89],[-4,135],[21,80],[15,23],[-16,31],[-1,69],[14,6],[12,-39],[6,23],[-40,141],[-1,58],[-18,60],[-5,82],[-11,43],[8,125],[-12,81],[-3,95],[-11,91],[4,44],[-20,93],[-17,45],[-9,77],[-6,101],[3,42]],[[12292,85061],[35,-45],[27,-125],[-10,-5],[-22,115],[-23,19],[-7,41]],[[12202,85643],[15,-71],[0,-46],[-10,29],[-5,88]],[[12106,83714],[16,11],[1,26],[28,65],[-4,68],[36,64],[18,-12],[25,-85],[15,10],[18,-58],[23,-24],[38,4],[22,-14],[12,-79],[-2,-49],[-20,35],[-19,-2],[-1,-22],[21,-25],[11,-46],[29,-278],[-1,-71],[12,-56],[0,-58],[18,-142],[5,-107],[-5,-112],[-11,1],[8,-81],[3,-240],[-9,-111],[-11,6],[-28,70],[-10,86],[-21,59],[-40,212],[4,48],[22,23],[-18,30],[-26,-31],[-14,88],[-11,-15],[-17,42],[-12,55],[2,34],[-14,-22],[-10,24],[-30,2],[-19,96],[19,3],[10,-29],[10,13],[-3,105],[19,53],[6,38],[-39,86],[24,63],[-4,22],[14,35],[4,53],[-33,16],[-21,-28],[-14,79],[-26,72]],[[12097,84881],[16,18],[19,-7],[16,-52],[-29,-6],[-22,47]],[[12062,83572],[4,48],[-3,66],[25,9],[34,-62],[15,-74],[12,-19],[17,30],[23,-10],[-16,-82],[-24,-14],[-27,-161],[-12,6],[-40,-30],[-9,8],[3,102],[25,47],[1,50],[-22,4],[2,29],[-13,31],[5,22]],[[11978,85151],[9,14],[7,-59],[-16,45]],[[11978,84786],[30,41],[3,-53],[-16,-19],[-17,31]],[[11861,84371],[5,174],[16,33],[8,-9],[29,60],[3,51],[-12,92],[32,-2],[0,-54],[12,-60],[28,61],[29,-6],[17,-20],[17,49],[36,50],[14,-55],[41,-30],[25,-53],[-12,-78],[-31,-76],[4,-49],[12,-5],[8,60],[32,108],[15,12],[34,-55],[46,-10],[11,-32],[29,-16],[15,-79],[-4,-67],[-22,-44],[-37,49],[-10,-8],[12,-40],[18,-18],[33,-75],[-21,-29],[-25,-2],[4,-28],[21,-13],[23,24],[7,-95],[14,-69],[12,-143],[-14,-42],[-42,-11],[-17,12],[-44,95],[-65,99],[-27,50],[-22,-26],[-9,29],[-4,-32],[30,-55],[22,-8],[-21,-31],[6,-25],[0,-72],[-9,-50],[-31,-87],[-51,47],[-1,38],[-42,85],[-20,90],[-12,-38],[-19,43],[-10,79],[4,25],[-18,86],[2,24],[-16,57],[-26,30],[-7,49],[-25,36]],[[9331,87212],[28,-14],[12,-44],[-27,-9],[-13,67]],[[9232,87245],[16,14],[58,-26],[-3,-31],[-21,-10],[-50,53]],[[8867,87809],[26,35],[27,3],[15,-16],[-18,-53],[-50,31]],[[8817,87545],[4,86],[28,16],[21,-89],[-11,-44],[-37,-10],[-5,41]],[[8816,87079],[2,14],[43,47],[1,-36],[-40,-59],[-6,34]],[[8698,86532],[8,21],[3,71],[23,12],[-3,42],[21,54],[16,7],[-3,41],[30,34],[9,30],[43,75],[22,118],[27,44],[-3,40],[10,71],[27,34],[4,-43],[24,2],[-17,-51],[9,-17],[24,28],[8,-22],[-11,-37],[-62,-118],[-49,-129],[-8,-80],[-33,-60],[30,-57],[-19,-42],[-23,-8],[-22,15],[-17,-57],[-9,6],[-45,-47],[-14,23]],[[8692,87068],[44,270],[11,-41],[12,13],[-4,66],[44,84],[0,-54],[-12,-32],[-3,-82],[-20,-37],[20,-42],[-24,-97],[2,-46],[-17,-104],[-24,45],[-3,25],[-25,7],[-1,25]],[[8672,87628],[15,31],[17,-19],[17,-48],[-24,-45],[-25,81]],[[17950,55027],[5,31],[24,-13],[25,26],[-2,40],[18,63],[1,79],[-15,136],[-16,8],[-7,-13],[-13,25],[-3,-17],[-14,68],[7,67],[2,142],[-15,41],[9,65],[-8,51],[19,9],[28,138],[9,24],[-4,46],[4,110],[8,12],[-2,74],[-7,64],[1,51],[6,6],[-2,55],[-7,20],[28,116],[0,69],[8,28],[23,29],[10,40],[17,21],[1,19],[25,65],[-1,49],[-11,54],[-14,19],[-31,100],[-13,7],[2,58],[-26,239],[-23,63],[-7,69],[-16,57],[1,147]],[[17974,57684],[6,95],[-10,22],[21,43],[0,72],[-9,178],[-6,65],[-11,47],[-4,58],[6,36],[0,103],[-9,38],[3,39],[-7,31],[3,51],[-5,59],[4,56],[9,24],[-10,31],[-12,97],[4,43],[-7,80],[25,31],[9,29],[5,-14],[12,25],[17,-1],[2,-25],[24,19],[13,-3],[18,-71],[-2,-28],[21,-51],[24,11],[24,183],[5,15],[1,230],[-2,272],[0,437]],[[18136,60011],[200,0],[222,0],[313,1],[97,1],[160,2],[6,-7],[235,0],[162,1]],[[19531,60009],[0,-1691],[-1,-237],[1,-30],[0,-925],[-1,-608],[1,-145],[-1,-113],[0,-2847]],[[19530,53413],[-64,2],[-201,-1],[-128,-1],[-172,0],[-359,476],[-212,269],[-102,136],[-368,471],[5,66],[-5,17],[1,60],[8,16],[17,103]],[[19530,64667],[242,0],[154,2],[327,0],[66,-5],[137,-1],[242,1],[7,2],[217,2]],[[20922,64668],[282,1],[135,0],[140,0],[0,-1163]],[[21479,63506],[1,-381],[0,-434],[1,-193],[0,-1270],[1,-137],[0,-1089]],[[21482,60002],[-183,3],[-22,5],[-62,1]],[[21215,60011],[-204,-3],[-169,-5],[-184,0],[-34,2],[-301,-1],[-186,-2],[-2,9],[-152,-1],[-230,-1],[-222,0]],[[19531,60009],[0,583],[1,36],[0,738],[-5,129],[0,517],[2,216],[0,1857],[1,46],[0,536]],[[27414,45876],[14,60],[5,-33],[-14,-44],[-5,17]],[[27386,45813],[9,39],[11,4],[-5,-33],[-15,-10]],[[27310,45701],[52,90],[6,-30],[-45,-80],[-13,20]],[[27118,45540],[19,106],[20,46],[25,43],[3,23],[36,66],[38,-67],[4,-52],[14,-43],[-4,-11],[-40,-48],[-3,27],[-27,-5],[-3,-24],[-46,-73],[-36,-15],[0,27]],[[27062,45510],[39,24],[-10,-43],[-17,-14],[-13,8],[1,25]],[[27020,45533],[6,35],[12,-10],[-5,-41],[-13,16]],[[26992,48019],[5,-18],[19,-211],[8,-28],[17,-26],[7,17],[14,-21],[-14,-31],[-9,-1],[-21,50],[-7,28],[-13,115],[-6,76],[0,50]],[[26806,45614],[15,13],[4,-23],[-20,-10],[1,20]],[[26322,51623],[29,47],[0,-29],[-16,-37],[-11,-6],[-2,25]],[[26229,53027],[6,-79],[11,-52],[2,-83],[6,-75],[14,-48],[136,-25],[261,-56],[206,-51],[135,-34],[-5,-14],[2,-57],[7,-26],[-3,-71],[11,-76],[37,13],[0,75],[6,47],[3,119],[-12,91],[4,60],[-1,49],[8,16],[-4,24],[12,-8],[9,59],[15,-7],[7,-33],[17,-3],[18,-28],[7,-25],[33,-19],[17,-18],[14,15],[13,-19]],[[27221,52688],[4,-13],[-4,-113],[3,-92],[-4,-22],[10,-25],[4,-95],[1,-113],[23,-389],[13,-129],[0,-51],[28,-302],[32,-288],[29,-229],[65,-412],[38,-200],[4,-63],[10,-83],[-18,-57],[-4,-54],[-1,-87],[5,-130],[6,-96],[16,-145],[35,-269],[15,-166],[5,-84],[5,-29],[11,-140],[17,-152],[9,-66],[6,-94],[13,-109],[17,-258],[-1,-235],[-7,-175],[-5,-210],[-3,-37],[-8,-286],[0,-169],[-3,-80],[-7,-81],[0,-44],[-6,23],[3,51],[-5,20],[-16,-25],[-10,-102],[-6,-17],[-1,-64],[-8,-40],[-2,-78],[5,-33],[-2,-46],[6,-16],[-8,-53],[-8,-13],[-1,-49],[21,39],[25,194],[7,41],[0,-41],[-8,-83],[-34,-222],[-9,-82],[-25,-93],[-34,-139],[-24,-66],[-3,12],[34,122],[14,40],[7,53],[3,81],[5,32],[-6,23],[-9,-11],[-7,26],[-6,-18],[-34,-22],[-14,-41],[-9,-6],[-18,45],[-18,-13],[-7,-41],[-27,-18],[-23,-6],[-17,52],[-8,68],[2,79],[6,60],[6,-3],[-2,49],[-12,97],[-11,47],[2,34],[-8,62],[-11,32],[-5,85],[-6,18],[-11,-15],[-9,101],[-24,31],[-1,16],[-21,38],[-21,55],[-11,-13],[-8,-39],[-16,126],[-15,148],[-5,173],[-7,109],[-7,57],[-28,113],[-11,9],[-1,52],[-12,23],[0,-64],[-14,-11],[-1,66],[-8,113],[-12,51],[3,24],[13,-3],[9,-39],[11,159],[-2,86],[-8,14],[0,40],[8,10],[-4,31],[-12,-4],[-5,-33],[-11,-11],[8,-148],[-9,-20],[-20,-11],[-5,-50],[0,75],[-6,50],[-17,94],[-26,177],[-9,94],[-19,140],[-27,149],[-14,56],[-4,58],[-10,61],[10,-19],[1,-30],[15,30],[10,72],[12,28],[13,98],[13,34],[-2,23],[14,26],[11,84],[-5,75],[-22,21],[5,-113],[-22,30],[6,34],[-1,65],[-5,39],[-38,71],[1,-65],[-11,-28],[11,-37],[16,-6],[11,-110],[-10,-42],[0,-62],[-4,-27],[-21,-6],[-3,-32],[7,-38],[-9,-30],[-4,40],[2,83],[-14,85],[-9,26],[-8,58],[6,182],[-5,66],[-4,164],[9,1],[0,-93],[4,-89],[9,-7],[-4,153],[9,37],[1,41],[8,44],[0,38],[7,50],[0,39],[9,47],[1,91],[5,83],[-6,66],[2,56],[-13,29],[4,42],[-9,109],[12,64],[-21,110],[3,31],[-8,55],[-10,3],[5,33],[-1,49],[-7,13],[-47,23],[-9,-51],[-7,-4],[-9,100],[3,45],[-14,32],[-12,9],[-2,63],[-7,58],[-11,45],[-15,6],[-5,44],[-24,48],[0,111],[-4,67],[-12,7],[-10,38],[-13,17],[-13,61],[0,42],[-9,35],[-5,51],[-14,44],[-28,62],[-40,72],[-26,75],[-11,-2],[-26,-33],[-31,29],[-1,-35],[-26,-69],[9,-99],[-3,-28],[-10,-7],[-15,15],[-5,26],[-24,-22],[-31,-73],[-65,-132],[-6,2],[7,44],[-10,12],[-7,-39],[-15,-41],[-36,1],[13,-49],[2,-38],[16,-22],[30,53],[29,40],[27,84],[3,-13],[-24,-82],[-28,-43],[-35,-66],[-12,-14],[-10,33],[-16,22],[-23,51],[-19,7],[-17,-28],[-13,94],[-5,119],[8,42],[0,-105],[6,-91],[7,-22],[10,39],[1,97],[-17,105],[-18,60],[-17,13],[-15,40],[-16,71],[-27,47],[-22,69],[-41,95],[-47,76],[-58,70],[-31,20],[-62,18],[-33,-5],[-47,-25],[-65,-49],[-32,-15],[-7,10],[-63,-51]],[[26061,57664],[39,-2],[136,6],[183,1]],[[26419,57669],[196,-2],[-1,6],[143,10]],[[26757,57683],[-3,-72],[-31,-68],[-26,-105],[1,-36],[-8,-26],[3,-64],[30,-82],[17,-7],[23,-104],[23,-51],[28,16],[8,-12],[8,-64],[3,-64],[12,-30],[3,-50],[11,-52],[0,-51],[7,-68],[12,-24],[8,-67],[14,-48],[11,-101],[9,-1],[19,-72],[29,-52],[29,-98],[4,-61],[9,-41],[1,-40],[13,-38],[12,-2],[17,-37],[18,-93],[15,-26],[4,-24],[-7,-43],[4,-39],[-4,-32],[28,-82],[-4,-30],[13,-42],[11,5],[-2,-41],[8,-45],[27,-55],[9,1],[16,-58],[19,-43],[-5,-67],[12,-64],[2,-49],[9,-15],[0,-85],[4,-32],[-5,-45],[6,-8],[4,-48],[-5,-41],[12,-48],[25,-26],[0,-23],[23,-81],[-4,-34],[15,-105],[4,4],[6,-76],[-10,-44],[11,-67],[-4,-26],[5,-62],[21,-34],[11,17],[22,-71],[9,-4]],[[27376,54230],[12,-12],[-5,-64],[-14,-29],[-10,15],[-6,-48],[10,-8],[-16,-60],[-21,23],[-3,-56],[11,-11],[-9,-59],[-17,-54],[-17,13],[-3,-16],[12,-33],[8,5],[-1,-84],[-7,-62],[-28,-26],[0,-22],[17,10],[6,-24],[-23,-131],[-6,-91],[7,-13],[-5,-30],[-5,-97],[-13,-22],[-8,-59],[-9,-3],[0,-71],[-7,-69],[-7,2],[-12,-44],[13,-24],[11,24],[1,-81],[-16,-161],[5,-70]],[[25527,65491],[15,-41],[12,20],[7,-15],[-6,-40],[27,-23],[29,1],[28,25],[52,75],[31,59]],[[25722,65552],[90,-1],[198,-1],[187,1],[87,1],[0,-75]],[[26284,65477],[1,-242],[0,-1380],[-3,-437],[0,-441],[-2,-278],[0,-238]],[[26280,62461],[-19,-45],[-2,-20],[16,-71],[2,-31],[-11,-38],[3,-37],[17,-7],[4,-25],[-13,-46],[6,-44],[-22,3],[-16,-23],[-9,5],[-35,-63],[-14,-39],[-19,10],[-10,43],[-26,-7],[-16,7],[-12,-33],[4,-125],[6,-71],[-16,-40],[-7,-44],[-30,-34],[-19,-161],[-19,-39],[-14,24],[-10,-13],[-6,-63],[-16,-72],[1,-87],[-5,-70],[-8,-24],[-23,-18],[-4,-36],[-13,58],[-22,1],[-26,55],[-1,94],[-21,67],[-8,-2],[1,-34],[13,-12],[-1,-25],[-13,-2],[-8,-29],[-8,23],[-9,-29],[9,-17],[-6,-42],[-18,-9],[-2,-94],[5,-38],[-23,-9],[-2,-63],[-11,-29],[-7,24],[5,51],[-10,10],[-10,-25],[-10,22],[-12,89],[-17,-2],[-14,-52],[-29,-27],[-10,-30],[-5,-97],[-7,-27],[-11,-3],[-8,62],[-18,13],[-22,57],[-22,44],[-20,6],[-14,-37],[-14,19],[-6,49],[-8,6],[-7,-66],[11,-64],[-13,-40],[-11,3],[3,56],[-5,30],[-42,-31],[-11,52],[-9,4],[-10,-40],[10,-91],[-12,-47],[-23,32]],[[25386,60941],[-11,2],[-4,34],[12,-9],[-16,92],[24,-8],[-15,29],[15,67],[1,60],[-8,26],[19,19],[2,38],[-12,-19],[22,73],[-14,60],[-4,59],[9,-10],[9,68],[5,-35],[7,41],[8,-33],[13,102],[8,9],[13,84],[-2,38],[24,42],[0,66],[9,83],[7,32],[14,12],[14,76],[-1,42],[-15,94],[11,111],[-18,40],[1,79],[-16,55],[-3,73],[19,60],[-9,50],[2,60],[6,32],[13,9],[0,347],[-1,0],[0,397],[1,12],[0,294],[1,247],[0,1196],[1,254]],[[21479,63506],[257,-1],[104,0],[263,-1],[273,1],[163,0],[279,-1],[263,-1],[144,0],[133,0]],[[23358,63503],[16,-60],[13,-11],[1,-43],[13,6],[5,-36],[26,-14],[8,41],[24,-13],[-4,-28],[7,-33],[11,-11],[-4,-42],[-9,-1],[3,-36],[12,16],[-1,-49],[-10,-6],[-13,24],[-5,-75],[-15,-19],[-7,-41],[2,-41],[-17,-24],[1,-48],[15,-41],[1,-29],[16,-31],[12,-61],[14,0],[5,-21],[-9,-25],[6,-79],[18,-52],[-3,-28],[15,-13],[5,-31],[14,-11],[9,16],[5,-31],[20,-3],[-5,-41],[0,-444],[-1,-120],[0,-696],[-1,-52],[0,-779],[-1,-97],[0,-281]],[[23550,60009],[-249,1],[-196,-1],[-169,0],[-218,0],[-208,-1],[-258,2],[-103,0],[-154,3],[-149,-4],[-209,-4],[-155,-3]],[[30863,68384],[14,7],[-7,-35],[-7,28]],[[30827,68345],[7,83],[6,-34],[19,-55],[-15,-45],[-5,34],[-12,17]],[[30819,68560],[3,42],[11,-71],[-14,29]],[[30732,68434],[14,2],[3,-41],[-17,39]],[[30712,67988],[8,37],[1,-75],[-9,38]],[[30703,68290],[8,41],[25,45],[11,-50],[-9,-8],[14,-78],[-11,-39],[-18,-13],[-12,24],[5,25],[-3,50],[-10,3]],[[30697,68452],[13,68],[2,64],[9,25],[6,-26],[-9,-35],[1,-36],[-8,-70],[-10,-29],[-4,39]],[[30213,67064],[-35,81],[0,69],[6,42],[-41,128],[-9,53],[8,101],[-4,10],[6,88],[-6,23],[-5,313],[0,89],[-11,861],[-15,757]],[[30107,69679],[21,15],[0,33],[25,-41],[-1,-38],[7,-43],[11,-15],[13,85],[2,86],[-6,28],[12,36],[8,-3],[12,-44],[21,-9],[1,39],[-24,83],[-1,32],[22,107],[14,27],[11,43],[8,-1],[15,41],[24,38],[-9,71],[21,66],[23,45],[5,56],[-7,28],[-14,0],[0,66],[10,38],[-8,14],[15,51],[5,46],[-15,44],[16,115],[8,18],[-1,37],[17,32],[14,59],[11,8],[17,324],[215,890],[13,-3],[27,-38],[11,4],[-3,-58],[1,-141],[4,-18],[37,-73],[25,43],[26,30],[28,2],[11,52],[30,11],[25,-12],[0,62],[16,23],[25,-6],[23,-36],[4,-32],[33,-68],[36,-132],[0,-15],[28,-51],[0,-545],[3,-693],[-1,-71],[9,-30],[-15,-39],[14,-70],[-15,-34],[1,-136],[23,-18],[3,20],[10,-57],[19,-28],[30,-23],[14,19],[8,-62],[1,-56],[-13,8],[-11,-22],[7,-68],[16,-63],[-9,-73],[-10,-41],[23,-116],[0,-23],[18,-40],[13,28],[1,46],[18,-30],[19,-3],[13,-56],[6,-51],[-8,-14],[10,-32],[12,-98],[15,-38],[1,-118],[-12,-50],[-10,2],[-4,-32],[-32,-113],[-24,-25],[4,-22],[-15,-8],[6,42],[-4,85],[-27,-30],[12,-58],[-12,-43],[-11,13],[-13,-58],[-13,18],[-10,-12],[2,-35],[16,-40],[-22,-57],[-13,46],[-6,57],[-13,-10],[-3,-38],[-8,3],[-7,59],[-7,-62],[-9,-14],[-8,-74],[-7,19],[-6,-48],[-4,42],[-20,-51],[-5,27],[-12,-92],[-16,39],[0,36],[-10,-21],[-11,9],[2,-66],[-16,-71],[11,-33],[-35,-16],[-23,32],[-16,107],[6,29],[22,27],[-9,45],[-13,-35],[2,44],[-10,-3],[1,-68],[-5,0],[0,64],[-24,-56],[5,-35],[-6,-43],[14,-67],[-3,-45],[-23,-77],[9,-11],[-12,-31],[11,-56],[-5,-69],[-16,-10],[-3,85],[6,4],[-3,55],[-17,45],[-4,64],[15,51],[-19,40],[6,26],[-10,10],[-18,-21],[1,113],[11,44],[1,50],[-7,14],[-7,-46],[-14,-40],[-11,33],[-7,-32],[-15,-4],[14,-81],[-3,-48],[-12,-23],[-10,-71],[-4,-72],[-13,-78],[19,-30],[-13,-28],[10,-57],[-10,-38],[-27,4],[-13,-72],[-15,-1],[-2,-58],[-11,-9],[0,52],[7,37],[-9,15],[-3,-30],[-12,-13],[5,65],[-18,-9],[1,-52],[-16,-37],[-5,-50],[-12,51],[-2,-47],[-15,-32],[-12,26],[-3,-66],[-13,51],[-13,-92],[-23,-27],[-5,-19],[-5,83],[-16,5],[-15,-42],[-5,-39],[-20,4],[-7,-49],[-20,4],[-10,-49],[-3,-50],[5,-29],[-8,-32],[-13,29],[-22,-31],[-9,-46],[6,-67],[-8,-43],[-10,-15],[3,-33],[-14,-24],[-14,4],[-10,-25],[-11,-98],[5,-19],[-14,-80],[1,-22],[-14,-74],[-9,-13]],[[30332,65028],[13,-24],[29,5],[18,17],[12,70],[16,-105],[-1,-30],[-10,-16],[-33,4],[-41,60],[-3,19]],[[30177,65078],[18,0],[19,90],[27,60],[11,-15],[7,-70],[15,-27],[10,40],[-1,-84],[-41,1],[-31,-9],[-18,-47],[-16,61]],[[29500,66699],[224,-22]],[[29724,66677],[199,-23],[126,-12],[10,46],[21,1],[-1,62],[15,36],[19,-18],[9,62],[36,32],[15,-30],[8,13]],[[30181,66846],[2,-72],[9,-136],[25,-47],[12,42],[14,-34],[-16,-90],[-23,-7],[-38,-35],[12,-50],[-18,-50],[-7,9],[-5,-59],[-4,41],[-11,-53],[11,-74],[-13,10],[-5,-28],[8,-26],[-5,-27],[14,-14],[6,36],[14,8],[9,-47],[24,-28],[12,-42],[2,-46],[21,-93],[-1,-50],[-7,-39],[-12,-5],[3,-24],[21,-51],[12,8],[8,-24],[8,-83],[-5,-50],[13,-48],[23,-35],[34,-12],[9,-23],[19,44],[19,8],[27,33],[6,25],[-1,79],[-6,61],[-13,-31],[0,97],[-5,55],[-15,34],[-9,-7],[-5,-39],[-11,59],[13,11],[21,-18],[23,-58],[18,-123],[9,-119],[2,-137],[-15,-129],[-2,-44],[-7,9],[12,112],[-7,23],[-26,-5],[-43,-40],[-30,8],[-7,-28],[-17,-7],[-15,-62],[-33,-10],[-34,-66],[-16,-47],[-21,-28],[-23,-15],[6,26],[35,34],[16,47],[24,49],[5,40],[-2,117],[6,41],[-26,26],[0,-59],[-7,14],[-4,-50],[-14,3],[2,-32],[-31,-11],[-7,-49],[2,-44],[-6,-29],[-25,-23],[-12,17],[-10,-14]],[[30097,65246],[-3,189],[-18,18]],[[30076,65453],[-8,41]],[[30068,65494],[-10,48],[-19,33],[-5,56],[2,81],[-12,-6],[0,147],[-116,-13]],[[29908,65840],[-1,18],[-202,13],[-22,-4],[-42,6],[-3,-39],[-14,-6],[1,45],[-54,3],[-118,14],[-15,-1]],[[29438,65889],[-6,42],[34,395],[34,373]],[[22823,73980],[83,-1],[266,0],[229,-1],[0,449],[27,-37],[28,20],[29,-53],[8,-35],[14,-202],[7,-25],[18,-251],[-6,-69],[4,-54],[14,-43],[29,-45],[24,-12],[8,19],[44,-11],[11,-58],[61,-7],[48,-21],[8,-66],[-3,-49],[6,-12],[42,2],[5,15],[22,-2],[23,20],[-1,48],[33,46],[39,18],[9,-22],[53,0],[72,-98],[26,4],[1,-49],[-19,-7],[-4,-37],[16,-31],[41,13],[15,-54],[-6,-34],[6,-49],[24,-127],[25,27],[-8,84],[13,45],[15,-11],[42,16],[16,-44],[-2,-65],[17,-41],[14,9],[9,-36],[41,-9],[5,-67],[-4,-31],[20,-21],[23,13],[-3,-75],[22,28],[14,-22],[19,24],[34,17],[46,113],[17,13],[13,32],[25,30],[14,-13],[0,-67],[17,-17],[-6,-26],[10,-48],[16,-3],[35,29],[6,-29],[25,15],[26,-18],[19,13],[48,8],[29,-28],[9,-66],[34,-53],[15,35],[20,9],[13,-20],[23,6],[11,-18],[25,22],[-27,-56],[-10,20],[-4,-34],[-17,-15],[-26,-58],[-37,-34],[-14,-37],[-52,-44],[-48,-54],[-15,-6],[-42,-45],[-4,-14],[-51,-77],[-37,-79],[-72,-183],[-17,-69],[-55,-178],[-26,-72],[-26,-41],[-26,-88],[-11,-11],[-28,-83],[-10,-10],[-61,-134],[-9,-25],[8,-50],[14,-46]],[[24276,71309],[-21,50],[-14,-11],[-3,-29],[-16,-14],[9,-19],[-11,-43],[-22,16],[0,-685],[-10,-10],[-6,-59],[-24,7],[-10,-56],[-14,13],[-8,-38],[-25,-23],[-20,-47],[-20,-148],[-22,-49],[-7,-114],[1,-53],[21,-21],[10,9],[14,-32],[-1,-31],[23,-85],[-1,-50],[-15,-47],[1,-29],[-17,-49],[2,-91],[-4,-32],[6,-91],[-16,-58],[11,-34],[-2,-65],[6,-41],[-7,-42],[3,-75],[-12,-80],[5,-36],[16,-27],[31,-87],[-1,-24],[14,-16],[9,-44],[50,-9],[12,-17],[10,-78],[14,-38],[50,-51],[22,-39],[14,-40],[0,-53],[8,-15],[5,-84],[17,-45],[27,-41],[3,-29],[36,-90],[39,-29],[15,-55],[30,-136],[9,-75],[-8,-113],[2,-71],[10,-37],[-4,-44],[8,-53]],[[24498,67577],[-204,0],[-224,0],[-116,-1],[-223,0],[-180,1],[-313,0],[-199,0]],[[23039,67577],[0,1215],[1,101],[-1,302],[0,479],[-10,65],[-36,59],[-18,4],[-14,55],[-9,73],[-26,98],[5,46],[25,62],[22,39],[12,63],[14,46],[4,128]],[[23008,70412],[-4,106],[6,37],[-11,188],[-1,129],[-13,27],[-20,98],[-5,49],[-4,119],[-11,57],[-2,39],[5,68],[-6,112],[5,17],[6,117],[-6,-11],[-11,51],[1,171],[-5,92],[-2,114],[3,50],[-7,103],[1,217],[-5,3],[-7,89],[-11,92],[-8,17],[-11,101],[-3,58],[-11,34],[-5,121],[-16,101],[-3,110],[7,53],[-8,93],[3,52],[-1,107],[-7,59],[7,76],[9,24],[3,62],[-15,80],[-8,124],[-6,24],[-11,98],[3,40]],[[28860,63072],[14,65]],[[28874,63137],[9,32],[5,61],[12,42]],[[28900,63272],[17,44],[38,25],[25,45],[0,69],[16,25],[7,33],[34,72],[18,15],[12,51],[10,-8],[17,39],[-14,71],[-20,41],[-7,52],[-21,54],[-7,68],[-25,19],[-4,45],[2,95],[-10,37],[-17,-5],[-9,14],[-2,83],[7,30],[-8,22],[9,100],[11,-5],[23,113],[-24,120],[13,48],[18,29],[16,56],[-4,24],[17,35],[11,49],[14,124],[22,69],[16,13]],[[29101,65083],[88,-173],[132,-246],[3,-19],[-20,-187],[-12,-65],[-4,-65],[-6,-22]],[[29282,64306],[-7,-34]],[[29275,64272],[-37,-35],[-4,-84],[-9,-16],[-3,-50]],[[29222,64087],[0,-43],[19,-28],[16,18],[24,-44],[14,-9],[4,44],[4,-90],[-3,-107],[-14,-182],[-13,-247],[-5,-173],[-40,-241],[-11,-48],[-9,-9],[3,-32],[-10,-55],[-20,-63],[-1,-19],[-31,-55],[-32,-108],[-21,-118],[-22,-149],[-20,-60],[-19,-14],[-11,14],[6,88],[15,97],[3,69],[-21,37],[-18,4],[-6,25],[-18,-3],[-7,-36],[-9,24],[-2,47],[-18,37],[-3,30],[-10,-12],[-15,68],[-7,-8],[-18,58],[-10,56],[-19,25],[6,140],[-12,29]],[[28861,63044],[-1,28]],[[28814,58772],[18,-19],[12,-74],[1,-47],[-15,9],[2,45],[-18,86]],[[28734,57762],[8,60],[8,0],[47,86],[15,12],[14,33],[12,2],[16,35],[13,10],[5,74],[11,252],[0,54],[-8,95],[-6,105],[3,-2],[11,-106],[5,-95],[-3,-136],[-15,-286],[-24,-8],[-50,-64],[-43,-78],[-19,-43]],[[27156,59531],[84,-16],[55,-3],[95,-15],[37,4],[114,-21],[48,-2],[170,-2],[279,0],[74,4],[264,0],[106,-1],[0,10],[31,-2],[120,0],[142,0]],[[28775,59487],[2,-58],[17,-245],[16,-158],[23,-156],[35,-271],[-9,14],[-18,146],[-14,80],[-13,11],[-9,174],[-16,155],[-8,23],[3,39],[-5,89],[-10,30],[-4,48],[-25,13],[-1,40],[-13,-20],[6,-61],[16,-48],[11,10],[0,-67],[15,-135],[9,-61],[-1,-26],[11,-75],[0,-47],[-19,64],[1,37],[-13,61],[-3,38],[-12,12],[6,-38],[-3,-28],[14,-39],[-31,25],[-32,118],[-15,12],[19,-97],[10,-17],[6,-52],[-9,-23],[-24,-14],[-21,71],[7,-63],[10,-27],[-7,-14],[-31,45],[-13,5],[-5,29],[-18,24],[23,-73],[21,-23],[-7,-19],[-24,-8],[-13,-62],[-16,-22],[-17,1],[-8,31],[-20,12],[-12,121],[0,61],[12,78],[-5,13],[-14,-76],[-2,-76],[8,-94],[11,-77],[-5,-42],[8,-34],[40,10],[37,47],[9,-49],[13,6],[13,30],[26,24],[32,-1],[14,-41],[0,-43],[-14,-78],[3,-55],[2,-164],[9,5],[7,115],[3,150],[14,40],[-6,33],[14,20],[25,-21],[16,-94],[7,-65],[-4,-52],[7,-98],[-8,-25],[4,-54],[-13,-54],[-17,-10],[-6,18],[-10,-16],[-6,-40],[-10,-9],[-3,-43],[-7,-11],[-7,-71],[-13,-15],[-3,-46],[-17,-25],[-3,-24],[-26,25],[-29,-4],[-26,18],[-5,25],[-10,-14],[-15,45],[-13,115],[31,3],[5,45],[-28,-25],[-12,11],[-9,-33],[9,-57],[6,-86],[-7,0],[-29,47],[-14,-10],[-20,34],[-31,30],[-23,48],[-1,-29],[17,-61],[21,-5],[63,-102],[46,-28],[8,-31],[1,-40],[-7,-56],[-13,-54],[1,-28],[-9,-53],[-15,-42],[-50,-112],[-50,112],[1,-65],[24,-55],[36,-43],[36,80],[13,2],[27,30],[4,62],[11,-14],[3,-66],[8,-31],[18,-5],[-9,75],[20,-29],[2,-85],[-17,-75],[-18,-13],[0,-34],[-11,-20],[-14,-84],[-7,-71],[-17,20],[1,80],[-10,19],[1,-82],[-16,-7],[42,-64],[23,123],[33,120],[24,75],[47,176],[8,-21],[-28,-83],[-26,-96],[-22,-62],[-21,-78],[-18,-82],[-21,-115],[-3,-32],[-4,67],[-35,55],[-39,1],[-60,-38],[-29,-33],[-20,-32],[-32,-81],[-39,-75],[-26,-63],[-37,-113],[-14,-55],[-25,-128],[-14,-111],[-10,-112],[-9,-69],[-4,-69],[-13,7],[-3,34],[-21,21],[-23,9],[-28,-2],[-30,-12],[-35,-42],[-8,-17]],[[28030,56345],[-93,330],[-104,362],[-31,116],[-88,302],[-61,1],[-74,7],[-178,10],[4,135],[-42,199],[-30,-73],[-5,21],[7,48],[-2,53],[-55,13],[-105,16],[-188,29],[-23,-20],[-5,39],[-12,-52],[-7,9],[-20,-27],[-6,5],[-29,-47],[-28,-60],[-7,21],[-91,-99]],[[26419,57669],[9,275],[22,48],[3,-26],[28,4],[22,63],[-5,57],[9,25],[-4,44],[17,62],[13,15],[8,48],[16,8],[15,45],[80,7],[11,50],[22,32],[5,26],[10,-7],[16,48],[4,35],[16,4],[8,40],[21,29],[24,-18],[26,115],[-3,63],[10,30],[15,-36],[20,98],[33,70],[10,-40],[-5,-70],[15,-20],[28,62],[15,93],[15,35],[17,21],[12,-5],[9,33],[19,-12],[4,-50],[15,0],[14,28],[33,200],[21,53],[11,12],[8,-23],[17,0],[-10,74],[7,65],[6,12],[-4,80],[9,60]],[[20923,73979],[188,-1],[322,0],[212,0],[92,0],[193,1],[160,-1],[135,0],[141,1],[256,1],[201,0]],[[23008,70412],[-210,-1],[-186,1],[-119,1],[-252,4],[-192,2],[-179,2],[-253,1],[-123,0],[-292,1],[-173,0],[-105,0]],[[20924,70423],[0,2828],[-1,17],[0,711]],[[23550,60009],[0,-581]],[[23550,59428],[6,-130],[7,-206],[6,-127],[14,-355],[4,-82],[15,-387],[-2,-319],[-3,-261],[-1,-235],[-2,-170],[-2,-417],[-5,-642]],[[23587,56097],[-9,-25],[-19,73],[-16,-13],[-1,23],[-17,-1],[-18,79],[-15,-16],[-12,5],[-21,78],[-7,58],[-22,2],[-23,85],[-27,28],[-7,-68],[-11,-32],[-13,-7],[-34,4],[0,15],[-21,-7],[-7,61],[-10,3],[-24,-52],[-20,3],[1,-45],[-13,9],[-9,-31],[-29,61],[-1,-30],[-30,-29],[-15,13],[1,-20],[-14,8],[-8,-90],[-14,-14],[-19,19],[-7,-81],[-12,-3],[-1,22],[-17,79],[-21,-6],[-8,57],[-11,-4],[-16,30],[12,58],[-25,16],[-8,-86],[-18,-9],[-4,42],[-13,14],[-6,-33],[-9,25],[-6,95],[-5,11],[-14,-27],[-6,15],[3,-73],[-16,-57],[-13,19],[11,-42],[-13,-22],[3,-64],[-11,-31],[-11,14],[-12,94],[10,30],[-2,66],[-9,28],[-10,-19],[-2,-42],[-13,19],[-9,-7],[-11,-64],[-20,5],[-5,30],[1,63],[-12,19],[-16,-27],[-11,25],[3,41],[-19,42],[-9,-3],[-12,-58],[-29,-92],[-12,-9],[-16,34],[-9,3],[4,65],[-5,-1],[7,60],[-7,20],[-13,-14],[-19,11],[-10,91],[8,35],[-4,50],[-17,-47],[-20,22],[-15,0],[-19,28],[-11,-40],[-3,-44],[-20,-26],[-24,96],[-21,23],[-12,-37],[-21,4],[-13,26],[-13,3],[-17,24],[-19,46],[-16,-27],[-9,15],[-12,-11],[-2,20],[-18,-3],[-5,140],[-18,56],[4,22],[-16,5],[-18,57],[-4,-92],[-12,-4],[-22,47],[-17,2],[-6,-49],[-30,15],[-24,78],[-37,143],[-20,-19],[0,2257],[-123,0],[-179,0],[-150,0],[-175,1],[-210,0]],[[21214,59429],[1,119],[0,463]],[[27478,65805],[48,61],[45,74],[9,24],[10,60],[13,3],[3,-28],[36,72],[47,74]],[[27689,66145],[0,-314],[1,-2],[247,-1],[77,3],[167,-2],[243,1],[105,3],[111,-4],[169,-1],[107,2],[14,-59],[5,4],[8,-100],[15,4],[27,-34],[10,-49],[-8,-32],[14,-21],[2,-159],[-8,-12],[25,-113],[1,-34],[11,5],[15,-33],[-2,-18],[25,3],[3,-22],[16,8],[-1,-30],[13,-55]],[[28900,63272],[-23,37],[-22,6],[-24,-20],[-15,-34],[-20,-82]],[[28796,63179],[-217,-1],[-118,-1],[-151,0],[-236,3],[-305,-2]],[[27769,63178],[-167,0],[-124,0],[0,1068]],[[27478,64246],[0,1559]],[[20920,69320],[5,4],[0,872],[-1,227]],[[23039,67577],[-40,0],[5,-22],[-7,-37],[22,-64],[-1,-110],[-14,-5],[8,-52],[-3,-31],[24,-3],[2,-83],[9,-35],[-7,-66],[-14,-16],[5,-56],[-8,-28],[6,-21],[-12,-46],[0,-80],[-11,-16],[-3,-52],[-11,-26],[1,-76],[15,-27],[17,-60],[10,-87],[-4,-45],[13,-31]],[[23041,66402],[-17,-7],[-5,30],[-24,-5],[-7,53],[-21,66],[7,52],[-11,16],[-21,3],[-1,40],[-28,35],[-12,-17],[-8,48],[-43,13],[-5,28],[-18,20],[-1,38],[-25,25],[-15,-14],[-15,13],[-7,-23],[-18,14],[-16,-13],[-16,11],[-18,-17],[-25,9],[-20,21],[-8,-11],[-9,-74],[-12,-29],[-19,-9],[-31,69],[-36,62],[-58,85],[-9,59],[-112,0],[-186,-1],[-153,1],[-214,-1],[-206,-2],[-62,4],[-178,0],[-143,1],[-293,1]],[[20922,66996],[0,345],[-1,8],[0,1828],[-1,143]],[[23587,56097],[8,8],[0,-54],[11,-25],[9,6],[-2,-36],[10,-9],[5,27],[8,-18],[3,29],[21,-27],[11,46],[12,-17],[5,-30],[6,21],[16,-22]],[[23710,55996],[0,0]],[[23710,55996],[1,-11],[0,-608]],[[23711,55377],[0,-1196],[8,-12],[11,-72],[18,-31],[9,-83],[15,-55],[-2,-34],[8,-56],[-7,-42],[3,-45],[-7,-28],[6,-51],[9,-32],[13,-6],[3,-35],[-6,-27],[14,-36],[-1,-32],[8,-15],[3,-49],[-6,-53],[12,-47],[6,2],[6,-113],[19,12],[-6,-102],[8,-31],[2,-54],[-13,-21],[-1,-33],[12,-55],[-9,-22],[-3,-38],[4,-63],[-9,-33],[-9,-63],[-3,-73],[-12,-25],[-2,-68],[-14,-30],[-3,-40],[7,-24],[5,-91],[-13,-51],[-6,-74],[16,-52],[1,-53],[-5,-39],[9,-79],[-12,-70],[9,-19],[-11,-51],[-14,-39],[-7,-78],[-13,-74],[-17,-45],[-2,-25],[9,-30],[17,-94]],[[23768,51502],[0,-14],[-46,3],[-37,-40],[-128,-208],[-28,-61],[-10,-54],[-15,7],[22,71],[9,47],[13,-1],[9,19],[8,46],[9,-16],[11,8],[-15,55],[-54,-54],[-8,26],[17,90],[4,80],[0,74],[-12,5],[-5,23],[-17,-29],[-10,-41],[-4,-50],[-15,-24],[-6,46],[-18,-45],[-2,-35],[9,-32],[-10,-50],[10,-55],[20,-17],[-6,-54],[11,-20],[2,-78],[-2,-67],[-8,-31],[-9,10],[-19,-71],[-22,-65],[-3,26],[-13,-8],[-2,-88],[6,-26],[13,44],[26,65],[3,19],[32,99],[15,23],[0,45],[26,-15],[-20,-61],[-62,-153],[-24,-69],[-4,-25],[-32,-91],[-40,-143],[-15,-8],[-69,-146],[-35,-80],[-53,-89],[-61,-112],[-34,-87],[-13,-42],[-15,-74],[-53,-111],[-24,-68],[-47,-155],[-32,-143],[-11,-83],[-14,-59],[-33,-221],[-24,-197],[-11,-127],[-10,-192],[-2,-108],[1,-103],[8,-205],[14,-207],[12,-134],[16,-229],[11,-260],[-7,47],[-5,147],[-12,189],[-11,152],[-24,16],[18,27],[-9,83],[-6,87],[-9,88],[-3,106],[1,138],[-1,122],[11,276],[16,180],[19,148],[14,70],[10,87],[8,35],[-2,47],[13,86],[18,38],[9,45],[18,127],[28,58],[8,53],[16,2],[35,105],[23,49],[24,23],[-4,43],[9,29],[-9,16],[-16,-41],[-20,-35],[-11,-40],[-17,-5],[-6,40],[0,60],[-18,12],[-6,-31],[0,-84],[-5,-25],[6,-41],[-4,-36],[-20,-56],[-17,-61],[-8,-1],[-18,30],[-3,43],[-32,-61],[-17,-67],[21,-22],[24,57],[8,-74],[-7,-23],[-38,-223],[-12,-2],[-6,55],[-21,-10],[-4,18],[-32,-11],[-11,12],[-6,-38],[12,-32],[15,-1],[11,17],[-4,-64],[7,-48],[15,-34],[17,-18],[-19,-146],[-13,-185],[-12,-106],[-20,-27],[-7,-27],[-11,18],[14,21],[3,59],[-8,3],[-6,-31],[-29,-75],[4,-32],[24,-16],[25,38],[8,2],[-5,-116],[3,-4],[-4,-202],[-6,-207],[-4,-3],[10,-230],[8,-65],[1,-84],[9,-1],[23,-215],[5,-29],[-9,-47],[4,-34],[-1,-62],[8,-72],[20,-11],[1,-35],[12,18],[2,-127],[-23,7],[-13,-8],[0,-19],[-21,-12],[-6,-99],[-20,11],[-7,40],[-15,3],[-6,55],[-11,4],[-18,98],[-31,12],[-11,33],[-17,-9],[-7,16],[-23,-17],[-4,18],[-13,-1],[-3,-29],[-10,31],[-20,-14],[-8,22],[-6,-22],[-14,20],[-8,30],[3,25],[-16,1],[-3,44],[-15,-1],[-21,75],[-9,-11],[-25,48],[-19,-22],[-13,35],[-15,69],[-10,8],[-2,33],[-8,12],[-18,-15],[-21,47],[-12,-3],[-8,20],[-12,-19],[-9,44],[6,50],[-10,56],[-11,13],[-3,98],[-6,42],[-3,79],[-8,25],[-1,49],[-7,64],[-17,43],[2,31],[-13,26],[-7,37],[5,20],[-11,46],[-9,7],[-1,52],[6,31],[-3,66],[4,29],[-4,86],[-16,25],[1,37],[-12,11],[9,30],[5,86],[-3,31],[4,60],[-13,10],[5,76],[-12,58],[-7,-14],[-7,46],[-9,-18],[-9,39],[-10,-6],[-18,90],[-9,11],[-3,38],[-8,-9],[-10,38],[0,50],[-7,26],[3,41],[-13,48],[2,47],[-17,16],[-7,81],[-10,23],[-8,70],[-35,53],[-4,53],[-7,-2],[-13,59],[2,38],[-17,100],[3,47],[-9,39],[9,29],[-12,11],[-9,47],[4,39],[-14,28],[1,33],[-15,28],[-4,51],[2,41],[-8,26],[-4,73],[-6,1],[-9,88],[-8,1],[-6,47],[1,76],[-7,106],[-18,46],[-10,40],[3,14],[-9,71],[-23,41],[-2,30],[-17,46],[-18,25],[-13,84],[0,21],[-26,21],[-6,44],[-23,7],[3,57],[-2,65],[-5,5],[-6,-67],[-6,27],[2,53],[-17,27],[-13,108],[-8,-4],[-9,32],[-13,-25],[-7,44],[-8,-27],[-37,-13],[-19,31],[-6,-8],[-15,22],[-22,-14],[-12,24],[-17,-7],[-4,-22],[-26,21],[-11,50],[-13,-3],[-20,40],[-14,-18],[-10,-111],[-34,19],[-9,-37],[-7,11],[-22,-32],[-7,10],[-8,-54],[2,-23],[-13,-40],[0,-50],[-7,0],[-2,-59],[-11,-30],[1,-33],[-7,-58],[2,-52],[-5,-48],[-10,-5],[-3,-72],[-5,-37],[10,-22],[-5,-38],[-18,-38],[-10,8],[-7,-67],[-17,-43],[-7,-36],[-4,-84],[-14,-8],[-17,15],[-15,-11],[-14,46],[-27,24],[-27,111],[-24,33],[-10,-8],[-22,38],[-18,77],[-13,24],[-39,21],[-17,28],[-19,61],[-11,12],[-19,81],[0,24],[-14,47],[-21,7],[-12,27],[-5,34],[-30,78],[-9,43],[-7,110],[-12,56],[-7,60],[-13,63],[0,59],[-7,57],[6,72],[-3,54],[2,55],[-7,68],[-11,30],[-3,44],[-13,39],[-1,30],[-13,34],[2,33],[-13,177],[-7,40],[-12,4],[-11,91],[-15,0],[-14,66],[-12,10],[-3,24],[-15,34],[-12,-4],[-7,28],[-31,39],[0,39],[-44,118],[-13,107],[-12,37],[-18,26],[-9,33],[-9,2],[-2,36],[-24,106],[-20,35],[-4,54],[-14,32],[-21,7],[-35,78],[-11,88],[-10,24],[-6,68],[-13,89],[-9,41],[-19,38],[-11,-19],[-11,41]],[[20232,53938],[-5,28],[-16,20],[1,23],[-10,25],[-3,38],[7,18],[1,101],[331,0],[250,-1],[226,0],[183,1],[0,1212],[2,254],[0,149],[2,417],[2,232],[0,1518],[1,434],[0,809],[-1,213],[11,0]],[[20922,66996],[0,-2328]],[[19530,64667],[-136,-2],[-143,-1],[-52,-3],[-133,1],[-93,2],[0,442],[1,219],[-1,508]],[[18973,65833],[0,676],[1,163],[0,1090],[-1,26],[0,516],[-1,267],[1,140]],[[18973,68711],[-2,175],[-1,282],[1,156],[75,2],[22,-12],[85,2],[11,8],[45,-5],[25,8],[87,-2],[194,5],[11,-7],[221,0],[316,0],[14,-4],[144,-2],[178,-1],[23,7],[132,0],[251,-2],[115,-1]],[[29908,65840],[0,-107],[3,-222],[0,-150],[-3,-209],[-12,-8],[3,-76],[-8,-29]],[[29891,65039],[-7,19],[-17,2],[-21,-24],[-18,3],[-13,-24],[-16,28],[-6,-37],[-49,-35],[-3,20],[-15,0],[-27,-33],[-6,21],[-26,1],[-7,-26],[-18,23],[-40,-27],[-3,60],[-9,-17],[-19,-82],[-12,0],[-22,-73],[-13,23],[-24,-58],[-7,13],[-23,-28],[5,-22],[-10,-32],[-29,-11],[-22,-54],[-9,15],[-15,-35]],[[29390,64649],[1,33],[-20,102],[68,130],[-19,97],[4,161],[5,295],[9,422]],[[23231,64184],[167,-9],[159,-8],[156,3],[130,8],[62,0],[197,12],[152,13],[101,14],[12,-38],[1,-33],[18,-14],[-1,-36],[16,-57],[10,-2],[1,-56],[11,-31],[19,-7]],[[24442,63943],[-8,-18],[-17,-144],[-2,-71],[6,-165],[14,-99],[7,-28],[-8,-66],[5,-38],[15,-34],[4,-28],[-3,-61],[26,-77],[15,-57],[11,-14],[10,-69],[13,-8],[11,-76],[16,-54],[59,-137],[20,-90],[3,-90],[8,-78],[-9,-36],[11,-85],[3,-65],[22,-69],[11,7],[11,32],[9,66],[19,4],[27,-45],[16,-5],[38,-82],[-2,-60],[-12,-29],[-13,-59],[10,-92],[-2,-37],[-22,-96],[-6,-99],[-17,-68],[-7,-52],[-1,-78],[5,-70],[18,-50],[20,-89],[25,-37],[11,-54],[8,0],[17,-60],[16,7],[3,-27],[-12,-24],[6,-50],[20,-5],[10,31],[13,-28],[1,-29],[15,-12],[23,-70],[-2,-40],[14,-3],[9,-42],[19,-24],[0,-57],[11,-68],[-13,-8],[2,-50],[26,-161],[-4,-62],[-15,-12],[-8,-56],[17,-53],[-1,-47],[13,-87],[11,-46],[-1,-53],[24,-56],[10,27],[-15,45],[14,12],[17,-56],[8,-53],[11,14]],[[25079,59990],[9,-21],[-5,-90],[-6,-46],[-10,-9],[-1,-38],[17,-37],[-3,-28],[-16,3],[-4,-44],[11,-58],[-8,-29],[-7,-71],[-13,-18],[-18,78],[-13,-13],[-13,-142]],[[24999,59427],[-8,-40],[-13,7],[2,31]],[[24980,59425],[6,38],[-5,49],[-21,2],[-4,-30],[9,-58]],[[24965,59426],[6,-22],[-7,-64],[10,-59],[-5,-37],[-24,-1],[0,-37],[21,-39],[1,-27],[-15,-15],[-30,16],[-3,-21],[28,-74],[1,-61],[-22,-40],[-3,-75],[-12,-23]],[[24911,58847],[-179,-6],[16,110],[23,58],[0,23],[15,53],[16,28],[3,43],[9,7],[5,133],[-22,44],[3,15],[-5,71],[-349,-1],[-323,1],[-141,0],[-222,1],[-210,1]],[[23358,63503],[-31,56],[8,79],[-24,76],[-2,77],[-20,19],[1,32],[-18,26],[-12,110],[1,39],[-11,34],[-1,40],[13,42],[-11,18],[-1,-33],[-20,3],[1,63]],[[26900,61666],[18,-20],[35,40],[23,11],[5,49],[3,98],[12,28],[16,-7],[6,30],[-3,101],[-10,105],[21,52],[0,67],[14,88],[12,27],[6,37],[13,-40],[11,-1],[12,-79],[-8,-40],[11,-20],[9,22],[3,42],[9,20],[9,-25],[4,111],[-10,29],[-3,43],[19,19],[-3,96],[8,41],[10,12],[3,55],[31,-7],[3,83],[25,76],[17,-19],[6,-52],[11,3],[21,47],[17,8],[11,54],[11,8],[8,48],[16,57],[30,89],[16,9],[4,83],[10,26],[-11,50],[12,48],[0,57],[10,23],[-4,60],[13,-11],[-2,52],[7,20],[0,122],[9,30],[0,58],[10,48],[5,61],[10,23],[5,65],[-3,95],[4,71],[-9,84],[-11,44],[9,50],[14,-1],[18,27]],[[27769,63178],[-3,-600],[10,7],[33,103],[12,-1],[10,67],[31,60],[13,75],[11,-2],[28,-36],[11,54],[38,158],[13,-10],[-13,-14],[13,-18],[2,-26],[20,-34],[17,1],[7,-18],[28,-4],[14,38],[-7,49],[13,-1],[-11,32],[14,-11],[9,37],[19,-23],[28,87],[24,-20],[17,-49],[8,-40],[18,20],[17,-23],[14,4],[0,-37],[-16,-15],[12,-69],[19,-41],[-2,-33],[9,-12],[5,-43],[-6,-63],[10,-14]],[[28258,62713],[-9,-45],[-21,-175],[-78,209],[-66,179],[-4,-62],[5,-28],[-6,-36],[7,-11],[-23,-106],[6,-15],[-11,-54],[10,-36],[-16,-62],[-7,-7],[-24,-88],[6,-16],[-14,-63],[-7,21],[-15,-66],[-10,-24],[0,36],[-23,-71],[-20,-130],[-35,101],[-9,-69],[-17,-82],[-1,-71],[-8,1],[-10,-57],[-15,-138],[-28,-94],[-46,53],[-17,109],[-31,47],[-14,-121],[3,-65],[-12,-60],[-22,-87],[6,-44],[-12,-21],[-25,-81],[-7,-56],[6,-29],[-8,-30],[-6,-60],[-10,-51],[-18,-51],[-30,-104],[-21,-112],[2,-36],[-12,-39],[4,-41],[17,-34],[-12,-40],[-18,-34],[-1,-32],[13,-4],[-4,-29],[-49,-99],[-10,68],[-12,-9],[-19,-47],[-41,-71],[-4,26],[-21,38],[-7,-51],[9,-43],[-19,-47],[-17,-5],[-37,-27],[-31,-51],[-27,75],[-11,45],[-8,-21],[-8,-55],[-23,-17],[-2,-30],[-13,-29],[-34,-7],[-19,48],[0,24],[-12,25],[-18,3],[-7,52],[-14,31],[-2,90],[-15,22],[-1,33],[18,34],[-11,29]],[[27075,60636],[-14,-4],[-28,30],[-3,37],[-8,1],[-7,40],[-9,-2],[-7,42],[-15,11],[-13,134],[-10,19],[-13,61],[1,34],[-15,19],[-8,39],[11,55],[-15,22],[-9,80],[-10,45],[-15,37],[0,38],[8,0],[3,55],[-4,20],[11,33],[1,58],[-8,36],[1,90]],[[24442,63943],[12,16],[-2,50],[4,90],[-11,35],[13,69],[31,43],[18,-1],[18,41],[1,61],[6,49],[1,67],[10,27],[14,66],[11,19],[6,106],[-1,98],[-13,75],[-13,6],[-20,85],[11,77],[2,74],[6,55],[19,21],[13,-15],[23,40],[31,-6],[24,17],[16,56],[10,13],[26,-1],[18,57],[16,21],[-1,66],[9,59],[0,52],[9,29],[28,49],[-1,41],[8,72],[-3,58],[7,61],[-7,37],[1,89],[-13,41],[-47,73],[-15,74],[3,60],[-16,63],[-22,37],[-2,26],[-22,35],[0,47]],[[24658,66423],[45,-2],[227,-2],[51,-5],[194,-11],[41,4],[152,1],[82,-5]],[[25450,66403],[-2,-124],[-8,-97],[10,-109],[21,-117],[12,-37],[3,-54],[13,-139],[4,-75],[14,-93],[8,-20],[2,-47]],[[25386,60941],[-8,-66],[-17,-35],[-11,-56],[7,-105],[20,-68],[-6,-50],[-48,-19],[-12,-11],[-18,-52],[-14,26],[-18,-44],[-2,-55],[-9,-65],[2,-25],[17,-65],[7,-66],[-10,-89],[-15,-10],[-13,13],[-19,52],[-35,40],[-14,39],[-31,42],[-19,5],[-13,-21],[-13,-42],[-9,-65],[-16,-52],[-4,-55],[14,-52]],[[20232,53938],[-214,0],[-254,0],[0,-524],[-234,-1]],[[24911,58847],[4,-38],[18,-49],[0,-45],[-24,23],[-9,-49],[20,-36],[-11,-33],[-11,-1],[-9,-52],[-17,-22],[-9,21],[-15,-41],[6,-68],[9,-17],[12,23],[3,-38],[-26,-42],[1,-53],[9,-10],[-3,-40],[-22,56],[-9,-9],[-5,-58],[9,-42],[-11,-75],[-8,88],[-23,-67],[-3,-46],[12,-6],[2,43],[15,-35],[-9,-47],[0,-45],[-16,-10],[4,-47],[15,-7],[6,-29],[-12,-43],[15,-58],[-10,-25],[-12,21],[-9,-26],[-9,-100],[-25,13],[-3,-49]],[[24751,57677],[17,-55],[0,-45],[-18,-44],[-31,-44],[-4,59],[-11,2],[-2,-29],[8,-44],[-5,-25],[6,-72],[-14,-19],[-5,34],[2,57],[-10,-27],[2,-35],[-7,-14],[6,-40],[20,-2],[2,-31],[-14,-50],[-11,18],[1,49],[-10,-21],[0,-64],[12,-61],[1,-27],[-13,-51],[6,-83],[-25,-57],[0,-63],[-10,1],[3,54],[-19,-1],[-5,-27],[8,-45],[-7,-30],[-19,-15],[-4,-71],[-16,43],[-9,-29],[14,-43],[20,1],[2,-25],[-13,-28],[-16,33],[-12,-32],[9,-51],[11,3],[3,-24],[-8,-61],[-24,-6],[7,-45],[-11,-16],[-5,43],[-16,-23],[-3,-29],[22,-34],[-18,-78],[7,-55],[16,-26],[-10,-34],[-8,18],[-24,-2],[-1,-59],[10,-26],[13,14],[8,-50],[-12,-18],[-16,22],[-7,35],[-17,-16],[-2,-28],[25,-51],[2,-33],[-28,-41],[13,-63],[-14,-80],[18,16],[-1,51],[14,-27],[-4,-54],[-17,-10],[-3,-19],[10,-24],[17,14],[10,73],[5,-32],[-23,-90],[0,-64],[12,-68],[3,42],[10,13],[2,-23],[-13,-52],[2,-75],[-3,-23],[-14,-8],[-11,14],[-5,-39],[23,-62],[-13,-59]],[[24512,55359],[-219,4],[-154,5],[-157,7],[-86,0],[-185,2]],[[16868,55911],[16,-5],[28,-53],[21,-22],[1,-25],[16,-61],[-5,-43],[-13,25],[-26,7],[-6,35],[0,74],[-20,16],[-12,52]],[[16867,55390],[9,4],[22,-117],[40,-130],[-10,4],[-11,-22],[-17,44],[-13,72],[-14,119],[-6,26]],[[16741,55926],[8,7],[1,-41],[-11,7],[2,27]],[[16637,56552],[8,-17],[11,14],[0,-30],[-17,-4],[-9,21],[7,16]],[[16596,55679],[14,7],[20,-35],[8,-31],[-13,-15],[-20,21],[-9,53]],[[16501,56608],[18,-7],[13,-22],[15,5],[19,-43],[19,-4],[7,39],[20,-20],[-11,-43],[-28,-11],[-17,-31],[-42,24],[-1,61],[-12,52]],[[16410,56520],[22,8],[9,21],[13,-8],[13,19],[0,-48],[18,-13],[1,-48],[-41,-54],[-16,37],[-19,86]],[[16354,56562],[16,17],[6,28],[6,-35],[13,-26],[-21,-6],[-20,22]],[[15305,65829],[155,-4],[9,6],[77,-1],[56,12],[28,-8],[115,2],[37,5],[95,-1],[45,-5],[154,-8],[114,-4],[197,0],[92,2]],[[16479,65825],[0,-1]],[[16479,65824],[0,-1448],[1,-34],[0,-756],[-1,-393],[-1,-13],[0,-457],[-1,-122],[2,-263],[26,-77],[115,-330],[114,-336],[63,-182],[99,-298],[125,-377],[62,-186],[127,-394],[313,-989],[234,-759],[70,-234],[147,-492]],[[17950,55027],[-416,-126],[-254,-89],[-3,98],[-9,62],[-8,20],[-14,-23],[-3,66],[1,71],[-8,41],[9,61],[-9,161],[-13,127],[-9,54],[-40,193],[-25,61],[-10,51],[-15,37],[-9,-2],[-19,95],[-26,59],[-14,15],[-20,57],[-25,88],[-24,39],[-2,-47],[-21,-23],[-18,14],[-10,25],[-15,6],[-4,38],[9,34],[1,43],[-14,116],[-11,64],[-17,50],[-35,1],[-22,-8],[-16,-36],[-14,38],[-28,16],[-37,59],[-12,2],[-24,53],[-17,141],[-10,10],[-17,53],[-4,-3],[-20,65],[-21,25],[-6,20],[-32,4],[-16,-24],[-18,25],[-22,-10],[-37,60],[-23,0],[-15,15],[-44,-7],[-48,-22],[-1,31],[-13,66],[-16,30],[-12,-4],[-6,32],[13,143],[-11,60],[8,119],[-17,54],[9,115],[1,140],[-18,56],[-14,7],[-3,-21],[-27,55],[-11,48],[10,131],[-2,50],[-11,53],[-27,14],[-27,102],[-18,101],[-24,25],[-17,66],[-5,81],[-16,47],[-7,37],[-14,35],[-6,99],[-5,35],[-20,29],[-15,104],[-25,94],[-33,64],[-11,45],[-8,80],[1,42],[-11,101],[2,92],[-11,16],[10,74],[18,-38],[9,30],[7,61],[8,141],[-21,149],[-12,43],[-10,11],[-9,-28],[-37,2],[-28,68],[-22,102],[-14,18],[-2,31],[-17,60],[-4,62],[5,129],[-12,89],[-2,52],[-12,14],[-6,33],[-1,64],[5,27],[2,77],[-6,134],[14,28],[16,8],[6,-24],[7,-88],[-9,-9],[11,-107],[-2,-27],[27,-23],[27,-80],[8,5],[14,-63],[12,3],[-6,40],[-12,19],[-10,87],[-7,109],[-21,54],[-2,46],[-22,26],[9,74],[-7,68],[-15,-1],[-14,68],[8,-9],[9,26],[0,40],[19,-2],[10,39],[-10,71],[-26,44],[-13,-30],[-14,-6],[2,-47],[-5,-46],[15,-51],[-12,-25],[-4,-44],[19,-56],[-7,-14],[-11,29],[7,-71],[-15,-16],[-9,38],[-26,61],[-13,-12],[-23,67],[-10,53],[-17,33],[-16,8],[-20,-33],[14,127],[3,48],[-12,92],[7,20],[-16,70],[-11,-10],[-1,67],[-17,106],[-20,51],[-14,19],[-22,64],[-37,176],[-14,29],[-8,41],[-31,90],[-24,116],[14,78],[-1,42],[-14,126],[-16,123],[-7,105],[3,99],[13,132],[-5,52],[0,65],[-14,92],[-4,108],[-16,36],[-6,55],[-35,133],[-7,6],[0,43],[-8,43],[-22,32],[-49,151],[4,63],[-4,70],[-13,74],[9,98],[14,109],[42,265],[11,95],[7,119],[-12,37],[-1,97],[4,2],[11,99],[12,244],[-5,126],[-15,128],[-8,96],[-9,-4],[-17,54],[10,74],[5,110],[-3,67]],[[28861,63044],[-1,28]],[[28874,63137],[-6,7],[-22,-81],[2,-39],[11,-31],[1,-49],[-8,-28],[0,-41],[14,-52],[7,-58],[21,-62],[10,-68],[3,-58],[-5,-35],[2,-126],[16,-48],[7,-43],[2,-74],[34,-137],[16,-29],[10,24],[4,-36],[5,-129],[4,-244]],[[29002,61700],[-105,1],[-74,9],[-2,72],[-25,1311],[0,86]],[[28426,62262],[21,70],[37,-118],[-36,-118]],[[28448,62096],[0,93],[-22,73]],[[6433,39922],[2,44],[19,76],[12,7],[13,93],[16,52],[3,58],[-17,94],[-4,45],[-1,105],[8,37],[18,-9],[18,-32],[3,-32],[22,-44],[15,-47],[12,6],[25,-32],[39,-77],[13,-19],[22,-61],[16,-57],[17,-76],[-3,-47],[1,-90],[8,-10],[16,12],[7,-57],[-1,-57],[22,-82],[22,-39],[5,-21],[-4,-44],[-13,-51],[-17,-47],[-14,-56],[-23,-38],[-20,-47],[-20,-18],[-16,15],[-9,-9],[-18,-66],[-16,-25],[-13,-48],[-14,-16],[-12,-59],[1,-33],[-8,-37],[-5,-59],[-20,-63],[-15,61],[-22,52],[-22,29],[-10,95],[5,113],[4,151],[-10,106],[1,46],[-9,12],[-5,114],[-7,66],[-9,8],[-8,108]],[[6254,41293],[5,69],[11,56],[14,6],[13,-33],[10,-78],[10,-50],[24,29],[18,35],[26,-21],[0,-16],[17,-51],[10,-15],[5,-40],[31,-37],[5,-32],[0,-52],[-8,-43],[-13,-40],[-6,3],[-17,-36],[-14,10],[-30,-53],[-21,-9],[-17,26],[-7,210],[-7,20],[-14,-24],[-26,50],[-13,58],[-6,58]],[[6253,40841],[7,29],[28,57],[10,-30],[-4,-44],[5,-17],[-13,-19],[-5,15],[-18,-23],[-10,32]],[[6153,41274],[7,27],[13,5],[26,-19],[17,-60],[8,-51],[-9,-65],[-19,-29],[-17,-5],[-7,60],[-3,73],[-14,32],[-2,32]],[[6084,41504],[6,52],[9,29],[-2,58],[17,-2],[3,-14],[54,-29],[10,34],[4,-42],[22,-13],[27,18],[17,-25],[-8,-55],[-18,-51],[-20,-21],[-35,32],[-26,31],[-15,-14],[-29,-5],[-16,17]],[[5814,42059],[43,9],[13,49],[4,35],[13,48],[14,15],[6,-27],[6,-70],[20,-84],[4,-52],[-4,-15],[3,-47],[18,-55],[3,57],[12,-2],[-4,-64],[8,-24],[-1,-29],[17,-70],[-12,-37],[-11,18],[-21,-29],[-6,26],[-17,31],[-25,11],[-30,-20],[-7,4],[-7,84],[-11,34],[-1,31],[-14,67],[0,61],[-13,45]],[[5394,42585],[1,40],[11,38],[4,49],[33,72],[8,26],[23,-18],[3,25],[16,-11],[8,14],[15,-20],[10,-37],[5,-45],[0,-46],[-11,-63],[1,-106],[-4,-28],[-28,-78],[-8,15],[-36,12],[-18,71],[-24,29],[-9,61]],[[5266,42374],[4,43],[12,44],[19,45],[2,38],[11,9],[2,-31],[-5,-57],[2,-36],[-20,-28],[-16,-97],[-12,30],[1,40]],[[24498,67577],[-5,-52],[10,-50],[-1,-74],[27,-41],[13,-76],[-18,-60],[-6,-52],[-9,-24],[1,-108],[8,-88],[0,-68],[12,-25],[13,-169],[33,-64],[47,-37],[17,-20],[18,-109],[0,-37]],[[23231,64184],[4,28],[-10,56],[-13,16],[-15,58],[2,37],[13,35],[-4,83],[10,51],[-7,27],[2,66],[-9,20],[1,42],[-7,30],[5,27],[-5,93],[12,17],[-24,24],[4,37],[-5,63],[13,41],[-20,27],[7,29],[-1,116],[-20,10],[2,77],[-9,1],[-2,-37],[-15,28],[3,56],[-11,39],[7,39],[-8,41],[11,18],[-6,54],[8,20],[3,46],[-12,23],[-1,38],[-14,61],[6,11],[3,66],[-16,6],[1,30],[-15,11],[5,16],[-15,25],[1,83],[-22,56],[-3,48],[10,25],[-14,103],[-11,29],[0,76],[9,44],[-4,44],[-14,8]],[[26280,62461],[18,48],[7,-2],[15,-54],[21,-28],[14,29],[14,-3],[8,29],[8,-8],[4,-69],[29,-32],[10,-84],[16,-83],[0,-66],[5,-26],[40,-41],[33,19],[29,-46],[3,-34],[15,-26],[5,-50],[28,-29],[14,66],[26,22],[15,-32],[28,-20],[11,-24],[5,-43],[13,24],[30,-1],[10,53],[18,34],[9,39],[15,0],[21,32],[7,-33],[-3,-44],[9,-111],[13,-37],[21,-6],[21,-79],[13,-35],[2,-44]],[[27075,60636],[-108,-317],[-37,-39],[-22,-41],[-19,-49],[-25,-45],[0,-86],[-16,-39],[-12,-2],[-12,-33],[3,-59],[-6,-45],[-25,-36],[-29,-4],[-16,-80],[-2,-50],[-16,-4],[-33,-35],[-39,-52],[-21,2],[-33,-49],[-8,-27]],[[26599,59546],[-4,-21],[-83,8],[-79,2],[-76,5],[-83,11],[-51,16],[-74,9],[-55,-14],[-96,8],[-56,10],[-83,22],[-49,4],[-16,-22],[-7,22],[-146,-12],[-92,-2],[-114,-8],[1,35],[-61,17],[10,-147],[-6,-64],[-137,6],[-126,0],[-84,6],[-33,-10]],[[24980,59425],[-15,1]],[[28739,61120],[-14,0]],[[28725,61120],[-1,72],[8,28],[11,-40],[-4,-60]],[[28711,61320],[2,79],[11,13],[7,-30],[5,-118],[-15,21],[4,27],[-14,8]],[[28627,62072],[5,20],[5,-46],[-10,26]],[[29002,61700],[-1,-43],[-9,-105],[-5,-15],[-20,-211],[-18,-120]],[[28949,61206],[-107,-38],[-6,-55],[-6,4]],[[28830,61117],[-13,30],[-19,-4],[-22,-64],[-9,-1],[-1,67],[7,70],[17,28],[-17,2],[2,45],[11,40],[-21,9],[-12,-33],[-4,28],[5,58],[26,27],[-6,39],[-9,-13],[-4,36],[15,112],[-15,-24],[-7,-47],[0,-60],[-8,-1],[-11,77],[11,9],[-1,53],[-8,10],[-4,-49],[-9,-33],[6,-27],[-9,-62],[-4,29],[-17,-23],[-9,12],[-16,83],[-9,13],[2,43],[-24,151],[20,14],[5,39],[-8,-7],[-9,51],[8,40],[12,22],[6,-25],[12,26],[1,-36],[22,-9],[13,-39],[4,10],[-16,69],[-17,14],[-8,42],[-7,-3],[-16,77],[-5,-28],[-12,20],[-1,-59],[-7,8],[3,101],[18,92],[14,-45],[8,10],[-3,124],[-8,17],[-17,-47],[-12,4],[1,-48],[-12,-17],[4,104],[16,101],[7,-51],[21,-11],[11,31],[-6,54],[11,55],[-16,-9],[-3,-52],[4,-31],[-12,17],[3,63],[-6,59],[-7,14],[16,136],[12,42],[-2,24],[14,25],[7,37],[30,-6],[-11,24],[18,70],[-10,6],[12,122],[-35,-24],[-6,-48],[12,-24],[4,-32],[-12,-14],[-34,-97],[-7,31],[7,54],[-8,28],[0,-44],[-9,-51],[8,-34],[-7,-46],[-6,96],[-15,14],[6,-103],[-8,8],[-6,-42],[12,-22],[-21,-44],[-7,-28],[-13,8],[-2,26],[-22,46],[3,-46],[9,-13],[2,-41],[27,-54],[2,-67],[-5,-25],[13,-48],[-23,-45],[7,-37],[-3,-40],[-9,4],[-7,-55],[6,-53],[-17,-58],[9,-50],[-2,-54],[6,-73],[-2,-89],[7,-65],[22,-80],[8,-62],[-9,-45],[-14,7],[9,-42],[9,22],[8,-14],[-7,-47],[4,-48],[18,-92],[-5,-22],[5,-97],[-9,19],[-11,58],[-8,4],[-5,64],[-8,-9],[-2,-57],[-7,38],[-8,-3],[-5,48],[-12,45],[-23,23],[-35,3],[-8,129],[-8,13],[-4,-31],[10,-68],[-2,-22],[-22,43],[-2,34],[-13,31],[-12,114],[-20,-44],[-33,-56],[-12,27],[-7,115],[11,82],[15,57],[20,30],[-5,10]],[[28423,61914],[-1,45],[7,27],[18,25],[1,85]],[[28426,62262],[-9,37],[-20,6],[-8,17],[1,48],[-26,42],[-34,15],[-6,39],[-10,13],[1,58],[9,18],[7,49],[-23,43],[-6,45],[-15,-1],[-16,25],[-13,-3]],[[26327,70327],[8,17],[9,-60],[65,-63],[-17,-58],[-23,18],[-14,61],[-28,85]],[[26120,70229],[5,40],[7,-20],[-12,-20]],[[26084,70289],[21,-39],[-4,-36],[-19,38],[2,37]],[[26055,70019],[7,48],[3,69],[6,15],[1,57],[18,-7],[-1,-85],[4,-83],[-19,-44],[-19,30]],[[26035,70180],[13,8],[-5,-54],[-7,1],[-1,45]],[[25984,69839],[13,-17],[1,-59],[-14,76]],[[25933,69486],[6,23],[19,-25],[-6,-96],[-17,52],[-2,46]],[[25908,69335],[11,44],[6,-47],[-17,3]],[[25759,70041],[20,-64],[-8,-22],[-4,36],[-14,43],[6,7]],[[25722,65552],[30,68],[27,87],[37,261],[34,146],[19,134],[10,99],[10,176],[-1,58],[6,87],[-1,163],[-6,182],[-11,120],[-35,230],[-11,94],[-12,138],[-17,119],[0,48],[22,102],[7,50],[1,77],[-9,134],[-14,90],[4,32],[20,51],[24,151],[21,112],[4,124],[9,134],[-11,112],[1,33],[27,43],[20,15],[6,93],[-2,74],[10,36],[13,-18],[16,80],[18,-35],[17,13],[8,32],[9,86],[10,16],[15,94],[11,47],[9,-7],[12,35],[3,-39],[-19,-32],[-3,-42],[12,-81],[-23,-81],[13,19],[0,-74],[-6,-7],[-8,-84],[7,-95],[8,-2],[19,145],[3,98],[13,20],[-8,-158],[-15,-44],[-6,-67],[14,-14],[8,65],[7,13],[22,135],[5,78],[-1,56],[4,82],[-6,85],[5,94],[17,49],[10,3],[18,48],[18,16],[25,-7],[26,14],[12,20],[-1,33],[-33,17],[-14,47],[-8,114],[16,75],[13,14],[20,69],[-2,31],[-18,27],[60,-15],[7,49],[61,-102],[26,-58],[13,20],[11,-16],[13,10],[32,-34],[24,-85],[3,-57],[17,-27],[33,4],[8,-9],[29,-77],[23,-7],[34,-71],[29,6],[21,-78],[11,-25],[-9,-27],[15,-96],[11,-30],[14,-133],[-20,21],[-16,34],[-15,-41],[4,-110],[12,-44],[21,-26],[5,-59],[1,-98],[7,-37],[-4,-71],[-8,-67],[2,-65],[-5,-111],[-1,-121],[-12,-15],[-14,-64],[-24,2],[-8,-30],[-8,-108],[-4,-115],[-19,-5],[-8,-19],[0,-49],[-42,-6],[-13,-35],[-9,-76],[-5,-124],[-8,-42],[13,-91],[16,-32],[9,33],[5,-38],[20,-21],[13,-38],[10,16],[28,120],[14,0],[7,25],[-7,51],[9,44],[9,87],[4,-50],[19,31],[5,29],[-21,31],[24,-3],[11,24],[5,41],[23,10],[34,28],[9,45],[31,30],[11,-30],[23,-25],[15,-39],[17,-123],[10,-37],[7,-97],[5,-208],[17,-178],[4,-247],[10,-143],[18,-110],[2,-48],[-11,-46],[-7,-145],[4,-47],[-12,-113],[-4,-67],[-18,-66],[-15,4],[-12,-42],[1,66],[-9,27],[10,16],[15,62],[-14,26],[-15,-5],[-19,-34],[-7,-32],[9,-27],[2,-45],[-15,4],[-11,-52],[1,-84],[-7,-77],[-17,-53],[-30,-25],[-18,-97],[2,-127],[-3,-44],[-15,-25],[-1,-70],[-16,-39],[-6,-39],[-13,-4],[-7,-65],[-11,-11],[-17,-72],[5,-79],[-8,-9]],[[26661,65520],[-86,-11],[-167,-20],[-124,-12]],[[25045,72671],[21,69],[95,141],[7,-2],[43,98],[31,42],[6,-11],[28,29],[-1,-28],[-12,-16],[-30,-80],[0,-30],[-25,-55],[-51,-53],[-42,-66],[2,-20],[23,0],[-59,-73],[-18,3],[-18,52]],[[24721,71146],[19,40],[12,3],[39,49],[38,34],[31,77],[19,64],[16,27],[33,17],[15,-17],[29,27],[22,-3],[52,75],[30,94],[22,5],[29,23],[10,39],[5,51],[25,65],[14,16],[30,82],[23,23],[21,56],[11,54],[20,52],[58,85],[56,25],[50,-7],[23,-39],[1,-45],[-11,5],[-17,-24],[-19,13],[-21,-10],[5,-47],[-32,-57],[-30,-95],[-19,-20],[-5,-74],[-7,9],[-7,-52],[-14,-26],[-5,-67],[-12,-48],[-9,-6],[-12,-164],[6,-52],[-9,-35],[11,3],[20,87],[3,44],[7,-13],[29,80],[28,43],[-12,-55],[-12,-24],[-15,-77],[30,84],[26,18],[14,-13],[37,1],[15,-30],[8,8],[17,-35],[8,-39],[15,11],[22,-63],[3,-61],[17,-49],[6,-47],[14,-49],[19,-15],[-2,-79],[11,-28],[26,-15],[42,10],[25,43],[11,-8],[14,-72],[12,-27],[19,-4],[8,46],[16,-7],[9,-38],[4,69],[-7,53],[16,20],[7,-32],[-6,-56],[17,-26],[26,72],[40,62],[59,110],[11,-21],[61,42],[46,-16],[35,-3],[30,7],[62,85],[24,12],[30,-7],[32,14],[-22,-84],[-2,-135],[2,-45],[-8,-19],[9,-51],[16,-8],[9,16],[6,-26],[15,3],[17,-28],[34,49],[13,-4],[11,-46],[-1,-35],[25,28],[7,-7],[10,65],[19,24],[23,-19],[11,9],[8,39],[27,-5],[5,-30],[-10,-100],[7,-120],[1,-95],[-29,-2],[-8,-65],[15,-12],[5,21],[15,-4],[8,-38],[19,-19],[-13,-40],[24,-75],[12,-1],[20,-45],[8,38],[14,-35],[8,26],[-16,100],[14,-15],[41,13],[12,-15],[14,-91],[16,-31],[-10,-64],[-14,-20],[-27,39],[-31,-16],[-31,42],[-11,-12],[-27,1],[-27,23],[-60,-26],[-13,-28],[-37,69],[-15,48],[-13,-7],[-13,30],[-10,-41],[2,-51],[-15,-32],[1,-45],[9,-63],[-12,-20],[-24,42],[-3,31],[-21,37],[-5,30],[-22,64],[-38,46],[-13,-7],[-33,49],[-18,-5],[-13,23],[-5,-20],[-19,11],[-25,-75],[-17,-73],[-9,-8],[-32,23],[-23,-15],[-8,-22],[2,-34],[-23,37],[-21,17],[-24,-14],[-10,11],[-23,-24],[-13,-42],[-2,-63],[-9,-72],[-14,4],[-7,-39],[-22,-15],[-6,-46],[-13,-3],[0,-45],[-12,-9],[4,-61],[-20,32],[-9,40],[12,27],[1,34],[11,31],[1,40],[13,-4],[15,87],[-3,43],[-12,10],[-18,-75],[-38,24],[3,-51],[-13,-47],[-5,-56],[-30,-31],[-5,-27],[-6,39],[3,55],[-4,67],[-8,32],[-10,-19],[-5,-120],[3,-12],[-31,-55],[-26,-129],[-17,-146],[-19,-65],[-20,-112],[-41,-174],[6,-33]],[[25508,69434],[-19,14],[-8,47],[-13,28],[-2,29],[15,118],[11,48],[-2,34],[-11,25],[-16,-47],[-27,-10]],[[25436,69720],[0,0]],[[25436,69720],[-7,47],[7,24],[-3,38],[13,34],[6,40],[-3,47],[8,69],[-14,75],[12,13],[-8,44],[-13,18],[-6,33],[-24,4],[-9,43],[-21,-18],[-18,45],[17,52],[-7,21],[0,47],[-40,48],[-14,-14],[-24,47],[-12,-15],[-21,21],[-2,25],[-27,-2],[-3,-32],[-14,0],[-4,29],[-17,16],[-12,-13],[-86,142],[-287,231],[1,27],[-28,167],[-27,16],[-10,24]],[[24739,71113],[0,0]],[[24739,71113],[-12,-6],[-6,39]],[[25252,52115],[30,-13],[-14,-20],[-12,9],[-4,24]],[[25179,52148],[16,13],[30,-29],[6,-15],[-24,5],[-28,26]],[[25119,52114],[15,7],[15,31],[-4,-29],[-21,-27],[-5,18]],[[25071,52140],[21,-1],[8,13],[-5,-43],[-10,-7],[-17,26],[3,12]],[[24751,57677],[229,-2],[156,1],[202,1]],[[25284,52292],[-4,-32],[-7,15],[-10,-40],[-18,27],[-13,-15],[-5,30],[-18,7],[-18,-23],[-23,49],[-2,-28],[-21,38],[-22,-3],[-31,-27],[-28,-42],[-30,-33],[4,54],[-10,30],[-14,-27],[9,-17],[1,-40],[-25,-57],[-8,-80],[-9,10],[-13,-16]],[[24969,52072],[-12,0],[-13,50],[-4,66],[0,69],[-15,77],[0,54],[-10,43],[-11,19],[-4,39],[-10,34],[-4,95],[-8,14],[10,88],[-4,36],[7,25],[9,125],[7,19],[-1,45],[7,22],[-7,36],[-165,-2],[-134,-1],[-226,0],[13,21],[7,58],[-16,50],[-1,28],[10,46],[-3,41],[-12,30],[1,38],[18,-7],[17,20],[2,43],[-12,37],[-1,45],[-7,16],[9,39],[4,-50],[8,-29],[9,7],[0,29],[-13,75],[-1,74],[20,18],[12,35],[-4,32],[-18,-13],[-9,30],[5,38],[10,-28],[18,0],[1,106],[11,35],[23,5],[4,18],[-29,11],[7,94],[12,11],[2,-43],[7,-17],[5,28],[-6,21],[24,78],[-2,50],[7,25],[19,14],[0,50],[-19,26],[5,25],[13,-39],[5,36],[12,22],[9,69],[-15,24],[2,-62],[-32,11],[2,79],[27,20],[7,27],[14,-31],[5,42],[-2,53],[12,-8],[16,79],[-4,18],[-6,-40],[-23,17],[0,58],[8,20],[-8,35],[-10,-20],[-23,49],[3,58],[5,1],[17,-48],[10,7],[-5,26],[-21,50],[14,31],[8,37],[-7,37],[-6,-46],[-20,-26],[-6,14],[-3,52],[9,38],[16,33],[2,27],[-31,30],[1,71],[5,37],[21,52],[2,39],[-9,72],[-11,-4],[1,-67],[-14,-26],[-9,22],[3,48],[10,50]],[[17580,73980],[234,-2],[232,3],[190,-5],[190,2],[348,-2],[211,0],[232,2],[328,0],[141,0],[292,0],[227,1],[143,-1],[294,0],[114,0],[167,1]],[[18973,68711],[-21,23],[-6,49],[-24,59],[2,43],[-28,117],[-17,36],[-8,-52],[-20,-3],[5,-33],[-16,-98],[15,-64],[-32,26],[-9,-16],[-24,13],[-3,-19],[-30,-40],[-13,63],[-22,-8],[-13,-25],[-10,13],[-21,-30],[-8,22],[-14,-8],[-12,35],[-16,7],[-9,-35],[-9,0],[-2,-61],[-8,-45],[-24,38],[-8,-20],[-11,24],[-33,2],[-17,22],[-17,-23],[-15,-72],[6,-53],[-9,-22],[-11,44],[-18,24],[-15,40],[-6,53],[5,34],[-21,81],[9,48],[-5,50],[-18,109],[-32,58],[-26,-44],[-4,40],[-28,53],[-11,97],[14,13],[2,55],[-4,61],[-19,39],[2,26],[-17,15],[-7,73],[-24,73],[-1,35],[-14,54],[2,70],[-8,19],[-6,57],[6,30],[-1,46],[-19,0],[7,95],[-15,25],[-12,-2],[2,26],[-10,44],[-15,26],[-9,-13],[2,-41],[-15,-35],[-19,-82],[-19,-26],[-13,12],[-3,-58],[-24,-42],[-5,36],[-14,22],[-13,60],[-25,0],[4,53],[-8,36],[18,37],[1,48],[-19,74],[18,89],[25,1],[7,44],[-13,54],[6,49],[-19,27],[-4,54],[9,58],[-17,33],[2,49],[19,7],[-1,79],[-6,30],[13,24],[1,116],[13,65],[-7,69],[12,3],[10,123],[-3,58],[-8,10],[-26,-23],[-4,-21],[-22,15],[-19,-5],[-8,39],[6,39],[-7,30],[-14,9],[-4,-30],[-15,-21],[-6,17],[6,55],[-34,58],[-16,59],[4,71],[-20,60],[-13,-1],[-6,60],[-19,82],[-17,54],[-12,13],[-5,37],[-11,7],[2,38],[-9,41],[-24,10],[-32,45],[-7,54],[-47,87],[-11,-2],[12,36],[22,8],[3,22],[-16,7],[-5,57],[-11,5],[2,34],[13,32],[-12,55],[2,63],[-13,24],[-7,47],[-8,-6],[-8,88],[-15,21],[-39,152],[-1,279],[1,109],[0,804]],[[29991,69339],[3,68],[18,64],[-3,15],[11,74],[-13,36],[18,11],[4,26],[22,42],[15,-61],[28,-5],[13,70]],[[30213,67064],[-30,-174],[-2,-44]],[[29724,66677],[-9,53],[-6,-10],[-12,102],[9,73],[1,57],[13,10],[8,45],[-6,52],[9,33],[-5,65],[4,138],[12,64],[-6,60],[10,135],[-5,35],[5,74],[15,33],[6,109],[9,44],[19,43],[6,44],[-1,64],[19,67],[0,85],[12,44],[12,69],[0,47],[-10,68],[6,57],[-6,34],[10,61],[35,32],[10,-13],[16,21],[5,52],[24,14],[14,39],[7,45],[16,22],[-6,59],[11,13],[2,73],[-10,38],[-11,102],[15,52],[4,64],[18,75],[-13,89],[11,30]],[[29842,64964],[3,18],[27,22],[-21,-43],[-9,3]],[[29812,64781],[5,20],[11,-16],[0,-50],[-6,35],[-10,11]],[[29792,64880],[16,16],[-12,-43],[-4,27]],[[29275,64272],[5,-67],[-9,-39],[-38,-78],[-11,-1]],[[28633,68013],[16,50],[-5,-45],[-11,-5]],[[28611,68032],[12,40],[9,-5],[-21,-35]],[[27689,66145],[33,53],[53,111],[29,91],[30,50],[26,25],[11,70],[13,36],[4,52],[36,56],[19,54],[-4,80],[-13,40],[2,43],[-7,37],[-23,35],[1,92],[-18,15],[9,77],[-5,125],[-3,13],[28,22],[38,42],[56,47],[40,20],[33,2],[38,-9],[36,8],[86,-42],[23,-19],[15,-47],[23,-46],[12,-10],[40,49],[35,1],[43,12],[21,-19],[23,-1],[14,25],[30,20],[18,40],[9,1],[19,80],[30,64],[10,8],[19,54],[14,5],[20,-15],[17,19],[9,53],[2,87],[-9,180],[-20,40],[11,50],[14,11],[2,-33],[21,41],[-3,43],[-19,47],[-22,-15],[5,29],[-15,51],[-15,1],[1,80],[16,115],[19,5],[23,42],[0,48],[18,22],[27,55],[9,-5],[16,29],[25,75],[4,46],[12,51],[41,121],[31,100],[56,141],[-1,12],[68,109],[26,62],[18,0],[22,37],[27,-29],[19,10],[91,-8],[53,-1],[107,14],[24,-1],[93,10]],[[29478,69336],[1,-109],[-7,-30],[-4,-63],[13,-57],[-10,-55],[-2,-92],[-4,-31],[4,-70],[19,-88],[4,-69],[-12,-80],[7,-114],[-4,-36],[-19,-63],[-5,-89],[-8,-79],[9,-27],[-1,-103],[10,-67],[-5,-64],[12,-57],[-16,-97],[-7,-114],[10,-26],[7,66],[19,0],[2,-53],[13,-29],[-2,-343],[-6,-422],[0,-74],[-4,-37],[8,-65]],[[29390,64649],[-7,-42],[-21,-42],[-2,-79],[-13,2],[9,-60],[18,87],[11,-15],[10,42],[21,27],[18,2],[4,33],[22,-30],[2,41],[9,-28],[20,-8],[18,-23],[23,28],[2,43],[17,8],[10,-12],[75,3],[39,20],[14,18],[30,63],[9,40],[12,13],[13,50],[21,21],[12,-2],[-18,-52],[-9,-6],[15,-31],[5,-44],[17,-12],[11,25],[16,-72],[15,17],[23,48],[2,28],[17,11],[12,-12],[-5,-21],[-67,-94],[-78,-123],[-50,-62],[-81,-93],[-53,-78],[-43,-41],[-27,-12],[-6,15],[-64,-60],[-61,10],[-46,-55],[3,38],[-23,-2],[3,25],[-11,39],[7,35],[-8,36]],[[26861,65369],[16,17],[-2,-36],[-14,19]],[[26831,65420],[6,90],[11,-35],[-3,-35],[-14,-42],[0,22]],[[26661,65520],[1,-26],[21,-28],[13,17],[37,-82],[25,-20],[11,-21],[18,-66],[19,-29],[18,23],[2,50],[7,13],[14,-55],[19,2],[-1,-37],[29,-96],[16,-33],[22,-21],[41,57],[22,4],[17,35],[51,60],[37,-38],[19,15],[20,-9],[29,61],[29,86],[8,10],[16,58],[44,102],[10,1],[67,108],[30,17],[24,34],[65,69],[17,24]],[[15490,70789],[21,10],[13,-45],[-1,-55],[17,-42],[25,-1],[32,51],[14,-4],[59,-119],[7,-61],[18,-81],[1,-57],[7,-52],[-3,-67],[10,-88],[-4,-41],[3,-50],[33,-54],[46,-35],[11,-19],[17,14],[13,-32],[18,-5],[23,39],[23,7],[54,83],[12,45],[15,16],[21,-15],[29,12],[28,26],[19,-30],[17,-9],[18,14],[34,-40],[9,-75],[14,4],[19,50],[34,4],[13,-16],[11,34],[47,51],[15,35],[21,-9],[21,-51],[22,6],[34,26],[20,5],[11,42],[28,27],[29,46],[46,27],[37,10],[13,57],[14,23],[24,-22],[64,39],[17,-14],[19,6],[28,42],[11,36],[163,1],[250,-3],[164,-3]],[[17338,70482],[16,-107],[11,-27],[16,-75],[18,5],[10,-47],[19,-2],[16,-48],[0,-53],[13,-49],[7,-54],[-24,-108],[-1,-55],[-10,-23],[-24,-150],[1,-36],[-9,-51],[-7,-116],[-13,-40],[-6,-53],[-14,-44],[-3,-51],[7,-58],[-9,-68],[-18,-76],[0,-21],[-32,-49],[-14,-93],[-8,-97],[-10,-66],[-18,-48],[3,-66],[-8,-36],[15,-69],[-8,-56],[13,-35],[19,25],[16,-59],[20,12],[2,-53],[18,-17],[1,-31],[-10,-62],[-12,-17],[1,-42],[11,-32],[-1,-43],[-12,-81],[0,-54],[-11,-11],[-2,-59],[0,-2105]],[[17307,65831],[-166,-2],[-273,-5],[-26,-3],[-143,2],[-220,2]],[[15305,65829],[-21,55],[-15,55],[-7,69],[2,33],[-14,81],[2,32],[-7,63],[-2,126],[13,147],[-7,107],[-17,87],[-11,2],[-11,123],[15,90],[12,96],[6,83],[0,52],[9,80],[6,99],[-6,42],[17,53],[8,43],[16,132],[15,193],[15,283],[7,225],[4,188],[-2,8],[10,197],[-1,69],[7,184],[0,92],[-5,39],[8,91],[12,227],[8,117],[4,157],[-3,66],[3,109],[-4,69],[5,24],[5,176],[-1,76],[-11,41],[6,87],[-2,83],[-7,45],[16,36],[1,109],[-19,193],[27,-79],[14,-14],[-3,38],[23,10],[7,17],[11,-28],[12,31],[15,0],[20,51]],[[26599,59546],[33,-4],[78,1],[5,-5],[157,-1],[61,3],[151,-2],[3,26],[77,-5],[-8,-28]],[[18139,65823],[61,-6],[262,13],[192,2],[5,-5],[196,3],[118,3]],[[18136,60011],[0,880],[1,11],[-1,272],[1,173],[-1,298],[1,318],[0,1661],[1,149],[0,628],[1,266],[0,1156]],[[28738,60998],[7,-15],[-7,-27],[0,42]],[[28949,61206],[-16,-79],[-15,-98],[-8,-27],[-5,21],[-15,-7],[-19,-78],[-12,-70],[-11,-126],[1,-64],[-23,-128],[7,-14],[-18,-91],[-12,-79],[-9,-11],[1,-57],[-11,-86],[-18,-64],[-16,2],[4,-35],[-9,-5],[-1,84],[-10,55],[-4,61],[2,70],[9,59],[3,89],[10,105],[4,76],[16,79],[18,110],[-4,34],[21,17],[15,65],[1,28],[-20,21],[25,54]],[[28739,61120],[-11,-44],[-3,44]],[[28423,61914],[-20,-21],[-13,21],[0,-52],[-18,-113],[-4,-52],[2,-76],[15,-59],[29,15],[6,26],[15,0],[12,38],[9,-30],[-6,-74],[19,-64],[0,-49],[35,-59],[25,-2],[7,-28],[6,21],[24,-9],[4,-44],[16,-39],[8,-59],[13,-15],[15,-54],[20,-23],[30,-68],[-5,-65],[-15,-24],[-2,-107],[4,-29],[-11,-46],[13,-23],[-19,-30],[-31,64],[-11,-27],[-7,25],[0,41],[-13,81],[-19,32],[-8,35],[-12,12],[-21,103],[-11,11],[-4,45],[-13,30],[-2,-30],[28,-89],[20,-114],[15,-24],[1,-25],[16,-14],[10,-96],[11,-53],[30,-4],[7,-36],[31,-24],[-14,-29],[-1,-37],[13,-8],[4,22],[8,-41],[5,-110],[-8,-90],[-18,63],[-21,45],[-9,-42],[11,-39],[7,-55],[9,-14],[-22,-24],[-18,-4],[6,-39],[22,11],[-2,-76],[14,12],[4,-31],[12,-20],[6,-49],[-9,-97],[-4,15],[-16,-18],[-15,-34],[-10,68],[-29,61],[-14,45],[4,48],[-13,71],[-22,-9],[-8,-25],[-10,46],[-18,11],[-4,23],[-21,-35],[11,-33],[12,8],[18,-13],[15,-55],[9,-2],[8,58],[8,-119],[1,-67],[22,-19],[25,-82],[1,-65],[27,4],[9,27],[1,-33],[9,-11],[-3,86],[17,6],[13,-29],[35,-36],[17,27],[11,-11],[8,-128],[12,-140],[9,-71],[7,-94]],[[15775,72069],[4,105],[10,72],[12,-52],[-2,-58],[19,-32],[-18,-27],[-5,-26],[-18,-12],[-2,30]],[[15740,73454],[0,40],[20,-41],[-17,-26],[-3,27]],[[15720,73667],[6,14],[26,-115],[-18,42],[-14,59]],[[15715,73495],[8,29],[12,-47],[-15,-33],[-5,51]],[[15707,73080],[13,89],[14,59],[2,55],[16,11],[7,-19],[0,-49],[19,-38],[3,-26],[-15,-19],[-17,15],[-1,-29],[-13,-34],[-14,-7],[3,-24],[23,10],[11,-42],[8,-84],[-4,-14],[10,-100],[8,27],[-5,67],[10,-3],[16,-57],[16,-13],[7,-94],[-8,-58],[-14,13],[-12,86],[-21,-25],[2,30],[-19,44],[3,93],[-5,56],[-18,-4],[-3,30],[-22,54]],[[15649,73739],[11,-4],[34,-53],[-8,-8],[-22,20],[-15,45]],[[15623,73630],[17,26],[2,-33],[-19,7]],[[15618,73982],[15,0],[4,-29],[-17,-2],[-2,31]],[[15586,73509],[7,30],[20,1],[2,-29],[15,-33],[17,-9],[-18,69],[37,108],[12,-2],[37,-58],[-19,-50],[11,-66],[-2,-62],[-11,-25],[4,-69],[-20,-12],[-15,50],[-9,-12],[-22,11],[-31,62],[-6,76],[-9,20]],[[15577,73617],[18,-10],[18,-54],[-30,41],[-6,23]],[[17306,73978],[-1,-290],[0,-441],[-2,-286],[0,-702],[1,-52],[0,-1247],[-7,-48],[20,-76],[8,-54],[0,-63],[12,-40],[-17,-93],[7,-11],[11,-93]],[[15490,70789],[-34,9],[-3,34],[-12,6],[-10,-31],[-13,10],[-19,-51],[-9,7],[-21,74],[-10,8],[-7,-47],[-10,-10],[6,139],[1,124],[-4,165],[13,-61],[-2,-100],[4,-137],[17,0],[1,37],[-10,40],[0,61],[12,-37],[14,83],[-19,116],[11,42],[25,53],[-17,37],[-6,-27],[-18,-2],[4,-23],[-16,4],[-20,44],[-1,55],[-11,130],[8,8],[6,-52],[11,31],[52,63],[-10,27],[-34,23],[-2,45],[-27,14],[-8,-24],[8,-90],[-16,-21],[3,38],[-4,206],[-14,176],[-24,80],[-9,207],[-5,77],[-15,162],[-14,36],[-4,55],[-14,23],[-5,31],[-19,29],[-12,110],[-8,101],[1,53],[-11,56],[12,58],[9,138],[-19,46],[3,22],[17,1],[40,-55],[32,-64],[10,-1],[25,-39],[6,12],[41,-55],[-1,-20],[35,-41],[56,-11],[21,13],[31,-37],[9,19],[10,-18],[24,7],[12,-32],[41,2],[32,71],[-3,-24],[22,-42],[7,-45],[17,17],[17,-5],[-3,-32],[14,-20],[1,-59],[10,6],[3,53],[-14,34],[0,40],[12,28],[21,10],[3,-31],[-15,-34],[10,-50],[7,6],[2,48],[10,14],[8,-100],[-15,-10],[11,-42],[8,-78],[13,-21],[-8,-25],[-16,2],[2,-42],[-17,-36],[-9,-113],[-14,-9],[11,113],[-6,17],[-19,-101],[-4,-53],[-21,-70],[-38,-183],[-13,-119],[12,8],[23,-13],[12,27],[21,17],[3,38],[-44,-62],[-17,27],[42,226],[31,74],[29,28],[3,73],[16,73],[31,68],[-9,97],[22,-40],[14,-187],[-22,0],[3,-40],[11,-14],[-4,-56],[7,-19],[0,-53],[-14,-38],[-1,-38],[15,-16],[-10,-48],[-6,-87],[4,-21],[-10,-57],[7,-49],[-15,-79],[-27,78],[8,96],[-16,-42],[-6,-63],[30,-83],[-10,-16],[1,-48],[-11,-26],[-16,46],[-20,105],[12,37],[1,61],[-7,25],[0,-51],[-12,-57],[7,-72],[-6,-48],[13,14],[11,-66],[27,-22],[11,37],[0,33],[13,16],[8,79],[10,53],[-2,30],[25,-58],[10,25],[-4,36],[27,34],[0,50],[-8,58],[-8,11],[6,35],[-10,40],[-7,71],[22,38],[-24,58],[16,82],[-6,91],[15,46],[9,119],[22,25],[-1,69],[-14,23],[-23,86],[1,74],[-10,49],[-15,4],[3,-24],[-11,-28],[10,-67],[18,-50],[1,-35],[-26,85],[-12,4],[-7,58],[2,77],[18,24],[16,-22],[10,42],[-10,45],[-28,45],[-13,48],[1,39],[-29,-33],[-7,33],[4,45],[-13,-17],[3,39],[24,28],[13,-15],[9,-49],[19,7],[-10,108],[17,6],[5,34],[-21,66],[-5,66],[8,44],[-13,30],[-17,-6],[-11,-41],[9,-44],[-19,40],[8,57],[-10,25],[-9,-14],[-1,65],[-21,54],[11,21],[-5,36],[-13,16],[16,54],[184,0],[97,-6],[145,5],[143,-2],[190,0],[169,0],[165,1],[178,0],[325,-2]],[[25685,69733],[6,80],[31,-17],[-23,-128],[-14,65]],[[25568,69555],[12,14],[2,-63],[-14,23],[0,26]],[[24707,71654],[8,83],[12,4],[-5,-75],[-15,-12]],[[24691,71507],[21,33],[-14,-47],[-7,14]],[[24655,71564],[5,21],[30,29],[5,-13],[-11,-48],[-24,-11],[-5,22]],[[24625,71464],[3,27],[20,41],[1,-19],[-24,-49]],[[24631,71609],[14,-54],[-13,-3],[-8,37],[7,20]],[[24621,71679],[35,36],[11,-55],[14,34],[2,-44],[-16,-9],[-17,-49],[-11,42],[-16,20],[-2,25]],[[24616,71401],[17,18],[32,86],[14,-32],[-30,-33],[5,-35],[-17,-4],[-20,-37],[-1,37]],[[24563,71635],[15,17],[-1,-44],[-14,27]],[[24276,71309],[20,-30],[34,11],[49,52],[19,27],[18,0],[48,70],[25,27],[6,26],[17,-22],[7,33],[25,10],[22,70],[14,-12],[14,35],[10,-4],[24,-81],[-14,-76],[-24,-78],[9,-73],[-16,-35],[-11,-77],[13,-16],[42,73],[5,54],[42,-108],[13,-22],[9,10],[25,-27]],[[25508,69434],[-10,-58],[-1,-80],[-37,-13],[-21,-40],[3,-47],[-11,-59],[-9,-15],[-11,-83],[-12,-42],[-7,-104],[3,-25],[-13,-50],[20,-42],[12,7],[7,53],[26,64],[10,3],[15,63],[0,36],[31,133],[26,36],[11,-7],[11,34],[15,-32],[-6,46],[12,97],[27,109],[7,100],[12,-5],[21,32],[1,59],[17,60],[22,-3],[-2,-87],[-16,-5],[-2,-142],[-12,-40],[-8,4],[-5,-53],[-14,-52],[5,-43],[-13,-39],[4,-26],[-18,-33],[-13,-62],[-8,-87],[-17,-107],[-9,-26],[-9,-62],[-21,-268],[9,-94],[-2,-71],[-12,-41],[-23,-46],[-3,-62],[-8,-37],[-14,-162],[2,-82],[8,-50],[-2,-102],[-21,-118],[-7,-136],[-20,-107],[-9,-156],[8,-76],[-5,-38],[8,-85],[-7,-57],[14,-62],[0,-85],[6,-63],[16,-59],[-4,-89],[-11,-107],[6,-145]],[[2682,386],[26,11],[1,-51],[-9,8],[-8,-28],[-10,60]],[[2636,452],[21,8],[-4,-21],[-13,-12],[-4,25]],[[2313,271],[13,35],[16,2],[19,68],[4,-20],[27,2],[4,-44],[-7,13],[-29,-30],[-23,-89],[-11,47],[-13,16]],[[90204,32599],[5,15],[34,16],[21,137],[6,65],[7,-11],[7,-43],[14,-11],[-10,-88],[-32,-109],[-9,-44],[-2,-111],[-12,-56],[-18,30],[-7,101],[8,50],[-12,59]],[[90597,35570],[10,43],[4,-16],[-8,-45],[-6,18]],[[90537,37432],[5,20],[1,-49],[-6,29]],[[90507,37973],[14,53],[0,59],[11,0],[0,-66],[-9,-13],[-10,-55],[-6,22]],[[90501,34555],[4,28],[2,101],[9,-12],[20,67],[5,-22],[-14,-80],[4,-63],[-13,7],[0,-73],[-12,18],[-5,29]],[[90487,38800],[6,39],[11,-28],[-1,-51],[-8,-23],[-7,25],[-1,38]],[[90486,35993],[20,2],[3,-36],[-19,-8],[-4,42]],[[90472,34420],[4,45],[13,54],[5,-54],[-4,-24],[7,-40],[-2,-61],[-9,-29],[-14,109]],[[90343,33382],[11,51],[21,35],[15,-9],[-2,-35],[-12,-13],[-8,-39],[-11,-6],[-5,23],[-9,-7]],[[28030,56345],[-13,-8],[-36,-51],[-27,-66],[-35,-121],[-18,-79],[-7,-45],[-16,-58],[-14,-93],[-13,-174],[3,-55],[-7,-48],[-14,-47],[-23,-41],[-9,-97],[-17,10],[-17,-16],[-11,39],[-16,-33],[-10,-63],[3,-31],[8,10],[0,-33],[-15,-20],[-18,-45],[-9,-52],[-34,-59],[-10,38],[-11,-7],[-1,-32],[17,-22],[-5,-59],[-25,-52],[-7,-40],[-10,5],[-24,-22],[-17,-59],[-6,18],[-36,-90],[-8,21],[-15,-28],[-2,30],[-13,-1],[-4,-42],[15,-83],[-7,-74],[-32,-62],[-19,-20],[-2,41],[-19,40],[-11,-22],[-2,-31],[12,-15],[14,-59],[-15,-65],[-25,-59],[-9,0],[-17,-67],[5,-21]],[[31708,38299],[11,-21],[12,13],[9,-36],[-17,-36],[-12,19],[-3,61]],[[31642,38028],[49,54],[35,-32],[-18,-26],[-21,-7],[-11,-24],[-8,12],[-17,-17],[-9,40]],[[31637,38350],[7,-14],[0,-44],[-7,58]],[[31170,38320],[15,18],[17,49],[-4,63],[7,32],[14,12],[20,-6],[17,-25],[50,2],[20,-22],[24,26],[18,-5],[25,-25],[8,20],[28,0],[27,-20],[16,1],[7,-19],[6,24],[37,-35],[4,19],[18,-18],[6,7],[31,-33],[14,-49],[7,13],[5,-27],[10,-6],[14,22],[-5,-40],[3,-84],[13,-30],[-7,-43],[-11,19],[3,-28],[-10,2],[-7,-32],[-13,1],[-11,-59],[-7,-83],[-8,-6],[-1,-44],[-25,-46],[-15,-9],[-12,12],[-7,-27],[-10,13],[-21,-43],[-10,9],[-9,-29],[-8,9],[-18,66],[-12,-10],[-7,-34],[-21,60],[-8,0],[-25,-33],[-14,24],[-12,-19],[-25,47],[-7,-39],[-14,-27],[-21,-3],[-12,-18],[-8,41],[-21,8],[-11,-32],[-19,19],[-12,-12],[1,53],[10,31],[-11,12],[3,65],[5,15],[1,75],[7,31],[-10,101],[-13,21],[-9,78]],[[30985,38023],[20,12],[5,-43],[-15,-38],[-12,32],[2,37]],[[31858,38286],[13,39],[11,-4],[15,-28],[-13,-4],[1,-49],[-9,20],[-13,-5],[-5,31]],[[31828,37522],[7,36],[-4,40],[7,30],[10,-13],[8,22],[17,3],[6,-29],[39,5],[2,-18],[-32,-48],[-41,-30],[-19,2]],[[31779,38288],[6,50],[10,-23],[12,26],[19,-21],[33,6],[-2,-23],[-14,-4],[9,-42],[-16,-11],[-15,23],[-7,-20],[-12,49],[-23,-10]],[[17306,73978],[171,1],[103,1]],[[18139,65823],[-119,3],[-36,-2],[-58,9],[-63,-7],[-79,0],[-293,0],[-184,5]],[[29478,69336],[71,5],[115,0],[40,-9],[62,-5],[57,2],[168,10]],[[25149,51924],[13,-63],[5,-76],[-3,-101],[-10,-105],[-4,3],[8,90],[4,100],[-1,46],[-12,106]],[[25020,51931],[11,38],[32,81],[2,-14],[-13,-63],[2,-28],[13,-33],[-15,-50],[-3,47],[-10,-10],[-17,10],[-2,22]],[[24941,51321],[17,10],[-9,-42],[-8,32]],[[24732,50824],[7,27],[13,-65],[-8,-14],[-12,52]],[[24681,50807],[39,-33],[-19,-8],[-20,41]],[[24628,50763],[25,19],[2,-17],[-26,-20],[-1,18]],[[24275,51386],[10,27],[12,-5],[3,26],[22,-6],[23,-61],[9,7],[6,-29],[-15,-36],[-1,-40],[-14,-19],[-59,115],[4,21]],[[24969,52072],[-17,-35],[-8,7],[-17,-56],[-2,-38],[-12,-15],[3,-40],[-28,17],[-11,-45],[5,-68],[18,-10],[13,25],[-4,-59],[8,-34],[15,-19],[13,11],[6,29],[5,101],[-2,13],[24,54],[3,44],[18,-34],[13,6],[0,-21],[-17,-34],[0,-34],[15,-17],[3,-61],[15,14],[11,82],[16,-25],[-4,-55],[-13,0],[-12,-44],[22,2],[-3,-29],[-31,-22],[13,-66],[11,22],[-7,-59],[-9,26],[-14,11],[-12,-55],[-1,-99],[-9,-5],[-6,86],[-11,1],[-2,-66],[13,-58],[-13,33],[-14,5],[-8,-17],[-15,6],[18,-39],[0,-32],[-23,49],[0,-25],[12,-32],[-12,-14],[1,-34],[11,-36],[20,-11],[-1,-22],[12,-24],[-1,-34],[7,-46],[9,30],[5,-21],[22,-2],[16,-34],[3,30],[20,-91],[11,44],[24,-111],[0,-59],[6,-13],[18,28],[7,-41],[-24,-15],[-2,-33],[16,-3],[-8,-52],[-11,24],[-12,-96],[2,-44],[-21,36],[-2,55],[-8,16],[-31,-138],[-15,-41],[7,67],[9,29],[5,48],[9,21],[0,54],[9,23],[-1,51],[-10,24],[-4,-62],[-16,-29],[-12,29],[-14,77],[-34,43],[-10,45],[-56,33],[-12,-14],[-48,-143],[-46,-115],[-7,10],[4,41],[-12,16],[-2,41],[6,3],[-12,100],[-11,27],[-9,-1],[1,-28],[-8,-36],[2,76],[-10,56],[-13,-64],[-14,14],[-7,-22],[-7,31],[-6,-27],[10,-63],[-12,4],[-7,-27],[-4,-54],[-8,7],[-5,-57],[-8,12],[-19,-33],[-6,-76],[-16,16],[5,21],[-13,67],[-18,57],[-11,-13],[-26,21],[-10,33],[-25,12],[-16,25],[-16,60],[12,14],[7,58],[8,-12],[12,-52],[7,22],[-1,-68],[15,-17],[-4,104],[-23,64],[0,42],[-11,7],[-9,-41],[-13,-13],[2,41],[-10,-7],[3,39],[9,28],[-10,40],[-29,-50],[-10,80],[-10,-8],[-6,118],[-26,1],[6,33],[1,85],[-32,16],[-13,-10],[-20,-38],[-7,57],[8,41],[8,-3],[-2,46],[-16,8],[-14,-22],[-9,20],[-2,-40],[-24,-36],[-14,-34],[-6,32],[-18,-16],[0,-32],[9,-30],[18,-8],[-9,-30],[8,-63],[20,21],[5,-18],[-13,-14],[6,-20],[-32,-6],[-26,-49],[-20,-9],[-82,63],[-35,42],[-57,101],[-23,32],[-41,40],[-33,5],[-14,-14],[-36,7],[-58,-25],[-17,-13],[-26,-53]],[[30097,65246],[-20,-46],[-6,102],[2,64],[-10,22],[2,-159],[-17,2],[-2,-35],[-10,-7],[-1,55],[16,95],[8,68],[17,46]],[[30029,65436],[5,7],[11,-52],[-5,-7],[-11,52]],[[30019,65203],[6,51],[-4,23],[5,57],[4,-20],[0,-85],[-11,-26]],[[29960,64853],[11,80],[5,-14],[1,-76],[-17,10]],[[30068,65494],[-3,-45],[-14,-41],[-6,42],[4,35],[-19,54],[-8,40],[5,-129],[-22,17],[12,-39],[1,-75],[-12,-11],[8,-53],[0,-72],[-10,-45],[-8,-73],[-12,6],[-27,-18],[-27,-34],[-38,-30],[-1,16]]]}});var HBe=G(s9=>{"use strict";d();var nMt=s9&&s9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(s9,"__esModule",{value:!0});s9.HTMLPointMapRenderer=void 0;var rMt=gf(),iMt=nMt(MV()),sMt=r9(),$Be=Ef(),zBe=class extends sMt.HTMLChartRenderer{getDataValue(e){if(e.isNumber()||e.isString())return e.value;if(e.isTimestamp()||e.isDate())return(0,$Be.timeToString)(e.value,e.field.timeframe||rMt.TimestampTimeframe.Second);throw new Error("Invalid field type for point map chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for point map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=s?this.getDataType(s):void 0,f=o?this.getDataType(o):void 0,p=a?this.getDataType(a):void 0,v=s!==void 0?{field:s.name,type:l,axis:{title:s.name},scale:(0,$Be.getColorScale)(l,!1)}:void 0,b=o?{field:o.name,type:f,axis:{title:o.name}}:{value:5},F=a?{field:a.name,type:p,axis:{title:a.name}}:{value:"circle"};return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:iMt.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{mark:"point",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},size:b,color:v,shape:F}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-Roboto"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};s9.HTMLPointMapRenderer=zBe});var WBe=G(PV=>{"use strict";d();Object.defineProperty(PV,"__esModule",{value:!0});PV.HTMLScatterChartRenderer=void 0;var oMt=xV(),VBe=class extends oMt.HTMLCartesianChartRenderer{getMark(){return"point"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for scatter chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for scatter chart.")}};PV.HTMLScatterChartRenderer=VBe});var GBe=G(o9=>{"use strict";d();var aMt=o9&&o9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(o9,"__esModule",{value:!0});o9.HTMLSegmentMapRenderer=void 0;var uMt=aMt(MV()),lMt=r9(),cMt=Ef(),QBe=class extends lMt.HTMLChartRenderer{getDataValue(e){if(e.isNull()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for segment map.")}getDataType(e){if(e.isAtomicField()){if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for segment map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=a?this.getDataType(a):void 0,f=a!==void 0?{field:a.name,type:l,axis:{title:a.name},scale:(0,cMt.getColorScale)(l,!1)}:void 0;return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:uMt.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"lightgray",stroke:"white"}},{mark:"line",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},latitude2:{field:s.name,type:"quantitative"},longitude2:{field:o.name,type:"quantitative"},color:f}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};o9.HTMLSegmentMapRenderer=QBe});var YBe=G(BV=>{"use strict";d();Object.defineProperty(BV,"__esModule",{value:!0});BV.STATE_CODES=void 0;BV.STATE_CODES={AL:"01",Alabama:"01",AK:"02",Alaska:"02",AZ:"04",Arizona:"04",AR:"05",Arkansas:"05",CA:"06",California:"06",CO:"08",Colorado:"08",CT:"09",Connecticut:"09",DE:"10",Delaware:"10",DC:"11","District of Columbia":"11",FL:"12",Florida:"12",GA:"13",Georgia:"13",HI:"15",Hawaii:"12",ID:"16",Idaho:"16",IL:"17",Illinois:"17",IN:"18",Indiana:"18",IA:"19",Iowa:"19",KS:"20",Kansas:"20",KY:"21",Kentucky:"21",LA:"22",Louisiana:"22",ME:"23",Maine:"23",MD:"24",Maryland:"24",MA:"25",Massachusetts:"25",MI:"26",Michigan:"26",MN:"27",Minnesota:"27",MS:"28",Mississippi:"28",MO:"29",Missouri:"29",MT:"30",Montana:"30",NE:"31",Nebraska:"31",NV:"32",Nevada:"32",NH:"33","New Hampshire":"33",NJ:"34","New Jersey":"34",NM:"35","New Mexico":"35",NY:"36","New York":"36",NC:"37","North Carolina":"37",ND:"38","North Dakota":"38",OH:"39",Ohio:"39",OK:"40",Oklahoma:"40",OR:"41",Oregon:"41",PA:"42",Pennsylvania:"42",RI:"44","Rhode Island":"44",SC:"45","South Carolina":"45",SD:"46","South Dakota":"46",TN:"47",Tennessee:"47",TX:"48",Texas:"48",UT:"49",Utah:"49",VT:"50",Vermont:"50",VA:"51",Virginia:"51",WA:"53",Washington:"53",WV:"54","West Virginia":"54",WI:"55",Wisconsin:"55",WY:"56",Wyoming:"56",PR:"72","Puerto Rico":"72",VI:"78",AS:"60",MP:"69",GU:"66"}});var XBe=G(a9=>{"use strict";d();var fMt=a9&&a9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(a9,"__esModule",{value:!0});a9.HTMLShapeMapRenderer=void 0;var KBe=fMt(MV()),dMt=r9(),hMt=YBe(),pMt=Ef(),JBe=class extends dMt.HTMLChartRenderer{getRegionField(e){return e.intrinsicFields[0]}getColorField(e){return e.intrinsicFields[1]}getDataValue(e){if(e.isNumber())return e.value;if(e.isString())if(e.field===this.getRegionField(e.field.parentExplore)){let t=hMt.STATE_CODES[e.value];return t===void 0?void 0:t}else return e.value;else{if(e.isNull())return;throw new Error("Invalid field type for shape map.")}}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"nominal";if(e.isString())return e===this.getRegionField(e.parentExplore)?"quantitative":"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for shape map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");if(!e.isArray())throw new Error("Invalid data for shape map");let t=this.getRegionField(e.field),r=this.getColorField(e.field),i=r?this.getDataType(r):void 0,s=r!==void 0?{field:r.name,type:i,axis:{title:r.name},scale:(0,pMt.getColorScale)(i,!1)}:void 0,o=this.mapData(e).filter(a=>a[t.name]!==void 0);return{...this.getSize(),data:{values:o},projection:{type:"albersUsa"},layer:[{data:{values:KBe.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{transform:[{lookup:t.name,from:{data:{values:KBe.default,format:{type:"topojson",feature:"states"}},key:"id"},as:"geo"}],mark:"geoshape",encoding:{shape:{field:"geo",type:"geojson"},color:s}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};a9.HTMLShapeMapRenderer=JBe});var tje=G(qV=>{"use strict";d();Object.defineProperty(qV,"__esModule",{value:!0});qV.HTMLTableRenderer=void 0;var mMt=Zue(),xMt=PO(),ZBe=CV(),eje=Ef(),jV=class extends xMt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArray()&&!e.isRecord())throw new Error("Invalid type for Table Renderer");let t=this.document.createElement("tr");if(e.field.intrinsicFields.forEach(o=>{let a=o.name,f=this.childRenderers[a]instanceof ZBe.HTMLNumberRenderer,p=this.document.createElement("th");p.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        text-align: ${f?"right":"left"};
      `,p.innerHTML=a.replace(/_/g,"_&#8203;"),t.appendChild(p)}),this.options.isDrillingEnabled){let o=this.document.createElement("th");o.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        width: 25px;
      `,t.appendChild(o)}let r=this.document.createElement("tbody");for(let o of e){let a=this.document.createElement("tr");for(let l of e.field.intrinsicFields){let f=this.childRenderers[l.name],p=f instanceof ZBe.HTMLNumberRenderer;await(0,eje.yieldTask)();let v=await f.render(o.cell(l)),b=this.document.createElement("td");b.style.cssText=`
          padding: ${f instanceof jV?"0":"8px"};
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          ${p?"text-align: right;":""}
        `,b.appendChild(v),a.appendChild(b)}if(this.options.isDrillingEnabled){let l=this.document.createElement("td"),f=(0,eje.createDrillIcon)(this.document);l.appendChild(f),l.style.cssText=`
          padding: 8px;
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          width: 25px;
          cursor: pointer
        `,l.onclick=()=>{if(this.options.onDrill){let{drillQuery:p,drillFilters:v}=(0,mMt.getDrillQuery)(o);this.options.onDrill(p,f,v)}},a.appendChild(l)}r.appendChild(a)}let i=this.document.createElement("table");i.style.cssText=`
      border: 1px solid var(--malloy-border-color, #eaeaea);
      vertical-align: top;
      border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
      border-collapse: collapse;
      width: 100%;
    `;let s=this.document.createElement("thead");return s.appendChild(t),i.appendChild(s),i.appendChild(r),i}};qV.HTMLTableRenderer=jV});var aje=G(C4=>{"use strict";d();Object.defineProperty(C4,"__esModule",{value:!0});C4.makeRenderer=C4.JSONView=C4.HTMLView=void 0;var UV=gf(),nje=sBe(),gMt=uBe(),rje=cBe(),yMt=dBe(),vMt=pBe(),_Mt=gBe(),bMt=ABe(),EMt=DBe(),SMt=RBe(),CMt=kBe(),wMt=PBe(),AMt=rle(),TMt=UBe(),FMt=CV(),DMt=HBe(),OMt=WBe(),NMt=GBe(),RMt=XBe(),LMt=tje(),kMt=$6(),ije=Jue(),IMt=PO(),$V=Ef(),sje=class{constructor(e){this.document=e}async render(e,t){let r=ile(e.field,this.document,t,{size:"large"});try{return await r.render(e)}catch(i){return i instanceof Error?(0,$V.createErrorElement)(this.document,i):(0,$V.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};C4.HTMLView=sje;var oje=class{constructor(e){this.document=e}async render(e){let t=new rje.HTMLJSONRenderer(this.document);try{return await t.render(e)}catch(r){return r instanceof Error?(0,$V.createErrorElement)(this.document,r):(0,$V.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};C4.JSONView=oje;function MMt(n,e){let t=e[n.name];if(!t)for(let r of n.sourceClasses)t||(t=e[r]);return t}function zV(n){if(n.isExplore())return n;throw new Error(`${n.name} does not contain fields and cannot be rendered this way`)}function ile(n,e,t,r){let i=MMt(n,t.dataStyles)||{};if(i.renderer==="shape_map"||n.name.endsWith("_shape_map"))return new RMt.HTMLShapeMapRenderer(e,r,i);if(i.renderer==="point_map"||n.name.endsWith("_point_map"))return new DMt.HTMLPointMapRenderer(e,r);if(i.renderer==="image"||n.name.endsWith("_image"))return new EMt.HTMLImageRenderer(e);if(i.renderer==="segment_map"||n.name.endsWith("_segment_map"))return new NMt.HTMLSegmentMapRenderer(e,r,i);if(i.renderer==="dashboard"||n.name.endsWith("_dashboard"))return HV(bMt.HTMLDashboardRenderer,e,zV(n),t);if(i.renderer==="json"||n.name.endsWith("_json"))return new rje.HTMLJSONRenderer(e);if(i.renderer==="line_chart"||n.name.endsWith("_line_chart"))return new CMt.HTMLLineChartRenderer(e,r,i);if(i.renderer==="scatter_chart"||n.name.endsWith("_scatter_chart"))return new OMt.HTMLScatterChartRenderer(e,r);if(i.renderer==="bar_chart")return new nje.HTMLBarChartRenderer(e,r,i);if(n.name.endsWith("_bar_chart"))return new nje.HTMLBarChartRenderer(e,r,{});if(i.renderer==="vega"){let s=i.spec;if(s)return new ije.HTMLVegaSpecRenderer(e,r,s);if(i.spec_name){let o=t.dataStyles[i.spec_name];if(o!==void 0&&o.renderer==="vega"){if(o.spec)return new ije.HTMLVegaSpecRenderer(e,r,o.spec);throw new Error(`No spec defined on ${i.spec_name}`)}else throw new Error(`No Vega renderer named ${i.spec_name}`)}else throw new Error(`No top level vega spec defined for ${n.name}`)}else return i.renderer==="time"||n.hasParentExplore()&&n.isAtomicField()&&(n.type===UV.AtomicFieldType.Date||n.type===UV.AtomicFieldType.Timestamp)?new SMt.HTMLDateRenderer(e):i.renderer==="currency"?new vMt.HTMLCurrencyRenderer(e):i.renderer==="percent"?new _Mt.HTMLPercentRenderer(e):i.renderer==="number"||n.hasParentExplore()&&n.isAtomicField()&&n.type===UV.AtomicFieldType.Number?new FMt.HTMLNumberRenderer(e):i.renderer==="bytes"?new yMt.HTMLBytesRenderer(e):i.renderer==="boolean"||n.hasParentExplore()&&n.isAtomicField()&&n.type===UV.AtomicFieldType.Boolean?new gMt.HTMLBooleanRenderer(e):i.renderer==="link"||n.name.endsWith("_url")?new wMt.HTMLLinkRenderer(e):i.renderer==="list"||n.name.endsWith("_list")?HV(AMt.HTMLListRenderer,e,zV(n),t):i.renderer==="list_detail"||n.name.endsWith("_list_detail")?HV(TMt.HTMLListDetailRenderer,e,zV(n),t):i.renderer==="table"||!n.hasParentExplore()||n.isExploreField()?HV(LMt.HTMLTableRenderer,e,zV(n),t):new kMt.HTMLTextRenderer(e)}C4.makeRenderer=ile;function HV(n,e,t,r){let i=IMt.ContainerRenderer.make(n,e,t,r),s={};return t.intrinsicFields.forEach(o=>{s[o.name]=ile(o,e,r,i.defaultStylesForChildren)}),i.childRenderers=s,i}});var lje=G(u9=>{"use strict";d();Object.defineProperty(u9,"__esModule",{value:!0});u9.JSONView=u9.HTMLView=void 0;var uje=aje();Object.defineProperty(u9,"HTMLView",{enumerable:!0,get:function(){return uje.HTMLView}});Object.defineProperty(u9,"JSONView",{enumerable:!0,get:function(){return uje.JSONView}})});var yje=G((Qyn,gje)=>{d();gje.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var Tje=G((Gyn,Aje)=>{"use strict";d();var QV=Object.prototype.hasOwnProperty,vje=Object.prototype.toString,_je=Object.defineProperty,bje=Object.getOwnPropertyDescriptor,Eje=function(e){return typeof Array.isArray=="function"?Array.isArray(e):vje.call(e)==="[object Array]"},Sje=function(e){if(!e||vje.call(e)!=="[object Object]")return!1;var t=QV.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&QV.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i=="undefined"||QV.call(e,i)},Cje=function(e,t){_je&&t.name==="__proto__"?_je(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},wje=function(e,t){if(t==="__proto__")if(QV.call(e,t)){if(bje)return bje(e,t).value}else return;return e[t]};Aje.exports=function n(){var e,t,r,i,s,o,a=arguments[0],l=1,f=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<f;++l)if(e=arguments[l],e!=null)for(t in e)r=wje(a,t),i=wje(e,t),a!==i&&(p&&i&&(Sje(i)||(s=Eje(i)))?(s?(s=!1,o=r&&Eje(r)?r:[]):o=r&&Sje(r)?r:{},Cje(a,{name:t,newValue:n(p,o,i)})):typeof i!="undefined"&&Cje(a,{name:t,newValue:i}));return a}});var Oje=G((Jyn,Dje)=>{d();Dje.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var bqe=G((Rvn,_qe)=>{"use strict";d();var PBt={}.hasOwnProperty;_qe.exports=PBt});var Sqe=G((Lvn,Eqe)=>{"use strict";d();var BBt=[].splice;Eqe.exports=BBt});var wqe=G((kvn,Cqe)=>{"use strict";d();var qle=Sqe();function jBt(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),qle.apply(n,o);else for(t&&qle.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),qle.apply(n,o),s+=1e4,e+=1e4}Cqe.exports=jBt});var Tqe=G((Ivn,Aqe)=>{"use strict";d();function qBt(n){return n==null?[]:"length"in n?n:[n]}Aqe.exports=qBt});var Oqe=G((Mvn,Dqe)=>{"use strict";d();var Fqe=bqe(),UBt=wqe(),$Bt=Tqe();function zBt(n){for(var e={},t=-1;++t<n.length;)HBt(e,n[t]);return e}function HBt(n,e){var t,r,i,s;for(t in e){r=Fqe.call(n,t)?n[t]:n[t]={},i=e[t];for(s in i)r[s]=VBt($Bt(i[s]),Fqe.call(r,s)?r[s]:[])}}function VBt(n,e){for(var t=-1,r=[];++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);return UBt(e,0,0,r),e}Dqe.exports=zBt});var Rqe=G((Pvn,Nqe)=>{"use strict";d();var WBt=String.fromCharCode;Nqe.exports=WBt});var WO=G((Bvn,Lqe)=>{"use strict";d();var QBt=Rqe();function GBt(n){return e;function e(t){return n.test(QBt(t))}}Lqe.exports=GBt});var Iqe=G((jvn,kqe)=>{"use strict";d();var YBt=WO(),KBt=YBt(/[A-Za-z]/);kqe.exports=KBt});var Pqe=G((qvn,Mqe)=>{"use strict";d();var JBt=WO(),XBt=JBt(/[\dA-Za-z]/);Mqe.exports=XBt});var jqe=G((Uvn,Bqe)=>{"use strict";d();function ZBt(n){return n<32||n===127}Bqe.exports=ZBt});var Uqe=G(($vn,qqe)=>{"use strict";d();function ejt(n){return n<-2}qqe.exports=ejt});var zqe=G((zvn,$qe)=>{"use strict";d();var tjt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;$qe.exports=tjt});var Vqe=G((Hvn,Hqe)=>{"use strict";d();var njt=zqe(),rjt=WO(),ijt=rjt(njt);Hqe.exports=ijt});var Qqe=G((Vvn,Wqe)=>{"use strict";d();var sjt=WO(),ojt=sjt(/\s/);Wqe.exports=ojt});var lUe=G(uUe=>{d();var Gqe=Iqe(),Yqe=Pqe(),Kqe=jqe(),ajt=Uqe(),Jqe=Vqe(),Xqe=Qqe(),ujt={tokenize:djt,partial:!0},Zqe={tokenize:hjt,partial:!0},eUe={tokenize:pjt,partial:!0},d9={tokenize:xjt,partial:!0},tUe={tokenize:mjt,partial:!0},nUe={tokenize:cjt,previous:oUe},rUe={tokenize:fjt,previous:$le},Ig={tokenize:ljt,previous:aUe},y2={};uUe.text=y2;var Q6=48;for(;Q6<123;)y2[Q6]=Ig,Q6++,Q6===58?Q6=65:Q6===91&&(Q6=97);y2[43]=Ig;y2[45]=Ig;y2[46]=Ig;y2[95]=Ig;y2[72]=[Ig,rUe];y2[104]=[Ig,rUe];y2[87]=[Ig,nUe];y2[119]=[Ig,nUe];function ljt(n,e,t){var r=this,i;return s;function s(b){return!sUe(b)||!aUe(r.previous)||zle(r.events)?t(b):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(b))}function o(b){return sUe(b)?(n.consume(b),o):b===64?(n.consume(b),a):t(b)}function a(b){return b===46?n.check(d9,v,l)(b):b===45||b===95?n.check(d9,t,f)(b):Yqe(b)?(n.consume(b),a):v(b)}function l(b){return n.consume(b),i=!0,a}function f(b){return n.consume(b),p}function p(b){return b===46?n.check(d9,t,l)(b):a(b)}function v(b){return i?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(b)):t(b)}}function cjt(n,e,t){var r=this;return i;function i(o){return o!==87&&o-32!==87||!oUe(r.previous)||zle(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(ujt,n.attempt(Zqe,n.attempt(eUe,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function fjt(n,e,t){var r=this;return i;function i(D){return D!==72&&D-32!==72||!$le(r.previous)||zle(r.events)?t(D):(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),n.consume(D),s)}function s(D){return D===84||D-32===84?(n.consume(D),o):t(D)}function o(D){return D===84||D-32===84?(n.consume(D),a):t(D)}function a(D){return D===80||D-32===80?(n.consume(D),l):t(D)}function l(D){return D===83||D-32===83?(n.consume(D),f):f(D)}function f(D){return D===58?(n.consume(D),p):t(D)}function p(D){return D===47?(n.consume(D),v):t(D)}function v(D){return D===47?(n.consume(D),b):t(D)}function b(D){return Kqe(D)||Xqe(D)||Jqe(D)?t(D):n.attempt(Zqe,n.attempt(eUe,F),t)(D)}function F(D){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(D)}}function djt(n,e,t){return r;function r(l){return n.consume(l),i}function i(l){return l===87||l-32===87?(n.consume(l),s):t(l)}function s(l){return l===87||l-32===87?(n.consume(l),o):t(l)}function o(l){return l===46?(n.consume(l),a):t(l)}function a(l){return l===null||ajt(l)?t(l):e(l)}}function hjt(n,e,t){var r,i;return s;function s(l){return l===38?n.check(tUe,a,o)(l):l===46||l===95?n.check(d9,a,o)(l):Kqe(l)||Xqe(l)||l!==45&&Jqe(l)?a(l):(n.consume(l),s)}function o(l){return l===46?(i=r,r=void 0,n.consume(l),s):(l===95&&(r=!0),n.consume(l),s)}function a(l){return!i&&!r?e(l):t(l)}}function pjt(n,e){var t=0;return r;function r(o){return o===38?n.check(tUe,e,i)(o):(o===40&&t++,o===41?n.check(d9,s,i)(o):Ule(o)?e(o):iUe(o)?n.check(d9,e,i)(o):(n.consume(o),r))}function i(o){return n.consume(o),r}function s(o){return t--,t<0?e(o):i(o)}}function mjt(n,e,t){return r;function r(o){return n.consume(o),i}function i(o){return Gqe(o)?(n.consume(o),i):o===59?(n.consume(o),s):t(o)}function s(o){return Ule(o)?e(o):t(o)}}function xjt(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return iUe(s)?(n.consume(s),i):Ule(s)?e(s):t(s)}}function iUe(n){return n===33||n===34||n===39||n===41||n===42||n===44||n===46||n===58||n===59||n===60||n===63||n===95||n===126}function Ule(n){return n===null||n<0||n===32||n===60}function sUe(n){return n===43||n===45||n===46||n===95||Yqe(n)}function oUe(n){return n===null||n<0||n===32||n===40||n===42||n===95||n===126}function $le(n){return n===null||!Gqe(n)}function aUe(n){return n!==47&&$le(n)}function zle(n){for(var e=n.length;e--;)if((n[e][1].type==="labelLink"||n[e][1].type==="labelImage")&&!n[e][1]._balanced)return!0}});var fUe=G((Qvn,cUe)=>{d();cUe.exports=lUe()});var hUe=G((Gvn,dUe)=>{"use strict";d();function gjt(n){return n<0||n===32}dUe.exports=gjt});var mUe=G((Yvn,pUe)=>{"use strict";d();var yjt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;pUe.exports=yjt});var gUe=G((Kvn,xUe)=>{"use strict";d();var vjt=String.fromCharCode;xUe.exports=vjt});var Hle=G((Jvn,yUe)=>{"use strict";d();var _jt=gUe();function bjt(n){return e;function e(t){return n.test(_jt(t))}}yUe.exports=bjt});var _Ue=G((Xvn,vUe)=>{"use strict";d();var Ejt=mUe(),Sjt=Hle(),Cjt=Sjt(Ejt);vUe.exports=Cjt});var EUe=G((Zvn,bUe)=>{"use strict";d();var wjt=Hle(),Ajt=wjt(/\s/);bUe.exports=Ajt});var CUe=G((e_n,SUe)=>{"use strict";d();var Tjt=hUe(),Fjt=_Ue(),Djt=EUe();function Ojt(n){if(n===null||Tjt(n)||Djt(n))return 1;if(Fjt(n))return 2}SUe.exports=Ojt});var AUe=G((t_n,wUe)=>{"use strict";d();var Njt=[].splice;wUe.exports=Njt});var FUe=G((n_n,TUe)=>{"use strict";d();var Vle=AUe();function Rjt(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),Vle.apply(n,o);else for(t&&Vle.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),Vle.apply(n,o),s+=1e4,e+=1e4}TUe.exports=Rjt});var OUe=G((r_n,DUe)=>{"use strict";d();function Ljt(n,e,t){for(var r=[],i=-1,s;++i<n.length;)s=n[i].resolveAll,s&&r.indexOf(s)<0&&(e=s(e,t),r.push(s));return e}DUe.exports=Ljt});var RUe=G((i_n,NUe)=>{"use strict";d();var kjt=Object.assign;NUe.exports=kjt});var kUe=G((s_n,LUe)=>{"use strict";d();var Ijt=RUe();function Mjt(n){return Ijt({},n)}LUe.exports=Mjt});var PUe=G((o_n,MUe)=>{d();MUe.exports=Bjt;var IUe=CUe(),Wle=FUe(),Pjt=OUe(),sW=kUe();function Bjt(n){var e=n||{},t=e.singleTilde,r={tokenize:o,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:r}};function i(a,l){for(var f=-1,p,v,b,F;++f<a.length;)if(a[f][0]==="enter"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._close){for(b=f;b--;)if(a[b][0]==="exit"&&a[b][1].type==="strikethroughSequenceTemporary"&&a[b][1]._open&&a[f][1].end.offset-a[f][1].start.offset===a[b][1].end.offset-a[b][1].start.offset){a[f][1].type="strikethroughSequence",a[b][1].type="strikethroughSequence",p={type:"strikethrough",start:sW(a[b][1].start),end:sW(a[f][1].end)},v={type:"strikethroughText",start:sW(a[b][1].end),end:sW(a[f][1].start)},F=[["enter",p,l],["enter",a[b][1],l],["exit",a[b][1],l],["enter",v,l]],Wle(F,F.length,0,Pjt(l.parser.constructs.insideSpan.null,a.slice(b+1,f),l)),Wle(F,F.length,0,[["exit",v,l],["enter",a[f][1],l],["exit",a[f][1],l],["exit",p,l]]),Wle(a,b-1,f-b+3,F),f=b+F.length-2;break}}return s(a)}function s(a){for(var l=-1,f=a.length;++l<f;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,l,f){var p=this.previous,v=this.events,b=0;return F;function F(M){return M!==126||p===126&&v[v.length-1][1].type!=="characterEscape"?f(M):(a.enter("strikethroughSequenceTemporary"),D(M))}function D(M){var q=IUe(p),N,B;return M===126?b>1?f(M):(a.consume(M),b++,D):b<2&&!t?f(M):(N=a.exit("strikethroughSequenceTemporary"),B=IUe(M),N._open=!B||B===2&&q,N._close=!q||q===2&&B,l(M))}}}});var jUe=G((a_n,BUe)=>{"use strict";d();function jjt(n){return n===-2||n===-1||n===32}BUe.exports=jjt});var $Ue=G((u_n,UUe)=>{"use strict";d();var qUe=jUe();function qjt(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return qUe(l)?(n.enter(t),a(l)):e(l)}function a(l){return qUe(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}UUe.exports=qjt});var VUe=G(HUe=>{d();HUe.flow={null:{tokenize:zjt,resolve:$jt,interruptible:!0}};var Qle=$Ue(),Ujt={tokenize:Hjt,partial:!0},zUe={tokenize:Vjt,partial:!0};function $jt(n,e){for(var t=n.length,r=-1,i,s,o,a,l,f,p,v,b,F;++r<t;)i=n[r][1],a&&(i.type==="temporaryTableCellContent"&&(v=v||r,b=r),(i.type==="tableCellDivider"||i.type==="tableRow")&&b&&(f={type:"tableContent",start:n[v][1].start,end:n[b][1].end},p={type:"chunkText",start:f.start,end:f.end,contentType:"text"},n.splice(v,b-v+1,["enter",f,e],["enter",p,e],["exit",p,e],["exit",f,e]),r-=b-v-3,t=n.length,v=void 0,b=void 0)),n[r][0]==="exit"&&F&&F+1<r&&(i.type==="tableCellDivider"||i.type==="tableRow"&&(F+3<r||n[F][1].type!=="whitespace"))&&(l={type:o?"tableDelimiter":s?"tableHeader":"tableData",start:n[F][1].start,end:n[r][1].end},n.splice(r+(i.type==="tableCellDivider"?1:0),0,["exit",l,e]),n.splice(F,0,["enter",l,e]),r+=2,t=n.length,F=r+1),i.type==="tableRow"&&(a=n[r][0]==="enter",a&&(F=r+1)),i.type==="tableDelimiterRow"&&(o=n[r][0]==="enter",o&&(F=r+1)),i.type==="tableHead"&&(s=n[r][0]==="enter");return n}function zjt(n,e,t){var r=[],i=0,s,o;return a;function a(Z){return Z===null||Z===-5||Z===-4||Z===-3?t(Z):(n.enter("table")._align=r,n.enter("tableHead"),n.enter("tableRow"),Z===124?l(Z):(i++,n.enter("temporaryTableCellContent"),v(Z)))}function l(Z){return n.enter("tableCellDivider"),n.consume(Z),n.exit("tableCellDivider"),s=!0,f}function f(Z){return Z===null||Z===-5||Z===-4||Z===-3?F(Z):Z===-2||Z===-1||Z===32?(n.enter("whitespace"),n.consume(Z),p):(s&&(s=void 0,i++),Z===124?l(Z):(n.enter("temporaryTableCellContent"),v(Z)))}function p(Z){return Z===-2||Z===-1||Z===32?(n.consume(Z),p):(n.exit("whitespace"),f(Z))}function v(Z){return Z===null||Z<0||Z===32||Z===124?(n.exit("temporaryTableCellContent"),f(Z)):(n.consume(Z),Z===92?b:v)}function b(Z){return Z===92||Z===124?(n.consume(Z),v):v(Z)}function F(Z){return Z===null?t(Z):(n.exit("tableRow"),n.exit("tableHead"),n.enter("lineEnding"),n.consume(Z),n.exit("lineEnding"),n.check(Ujt,t,Qle(n,D,"linePrefix",4)))}function D(Z){return Z===null||Z<0||Z===32?t(Z):(n.enter("tableDelimiterRow"),M(Z))}function M(Z){return Z===null||Z===-5||Z===-4||Z===-3?z(Z):Z===-2||Z===-1||Z===32?(n.enter("whitespace"),n.consume(Z),q):Z===45?(n.enter("tableDelimiterFiller"),n.consume(Z),o=!0,r.push(null),N):Z===58?(n.enter("tableDelimiterAlignment"),n.consume(Z),n.exit("tableDelimiterAlignment"),r.push("left"),B):Z===124?(n.enter("tableCellDivider"),n.consume(Z),n.exit("tableCellDivider"),M):t(Z)}function q(Z){return Z===-2||Z===-1||Z===32?(n.consume(Z),q):(n.exit("whitespace"),M(Z))}function N(Z){return Z===45?(n.consume(Z),N):(n.exit("tableDelimiterFiller"),Z===58?(n.enter("tableDelimiterAlignment"),n.consume(Z),n.exit("tableDelimiterAlignment"),r[r.length-1]=r[r.length-1]==="left"?"center":"right",I):M(Z))}function B(Z){return Z===45?(n.enter("tableDelimiterFiller"),n.consume(Z),o=!0,N):t(Z)}function I(Z){return Z===null||Z===-5||Z===-4||Z===-3?z(Z):Z===-2||Z===-1||Z===32?(n.enter("whitespace"),n.consume(Z),q):Z===124?(n.enter("tableCellDivider"),n.consume(Z),n.exit("tableCellDivider"),M):t(Z)}function z(Z){return n.exit("tableDelimiterRow"),!o||i!==r.length?t(Z):Z===null?ie(Z):n.check(zUe,ie,L)(Z)}function ie(Z){return n.exit("table"),e(Z)}function L(Z){return n.enter("lineEnding"),n.consume(Z),n.exit("lineEnding"),Qle(n,Y,"linePrefix",4)}function Y(Z){return n.enter("tableBody"),fe(Z)}function fe(Z){return n.enter("tableRow"),Z===124?me(Z):(n.enter("temporaryTableCellContent"),st(Z))}function me(Z){return n.enter("tableCellDivider"),n.consume(Z),n.exit("tableCellDivider"),Be}function Be(Z){return Z===null||Z===-5||Z===-4||Z===-3?mt(Z):Z===-2||Z===-1||Z===32?(n.enter("whitespace"),n.consume(Z),tt):Z===124?me(Z):(n.enter("temporaryTableCellContent"),st(Z))}function tt(Z){return Z===-2||Z===-1||Z===32?(n.consume(Z),tt):(n.exit("whitespace"),Be(Z))}function st(Z){return Z===null||Z<0||Z===32||Z===124?(n.exit("temporaryTableCellContent"),Be(Z)):(n.consume(Z),Z===92?Qe:st)}function Qe(Z){return Z===92||Z===124?(n.consume(Z),st):st(Z)}function mt(Z){return n.exit("tableRow"),Z===null?Lt(Z):n.check(zUe,Lt,je)(Z)}function Lt(Z){return n.exit("tableBody"),ie(Z)}function je(Z){return n.enter("lineEnding"),n.consume(Z),n.exit("lineEnding"),Qle(n,fe,"linePrefix",4)}}function Hjt(n,e,t){return r;function r(o){return o!==45?t(o):(n.enter("setextUnderline"),i(o))}function i(o){return o===45?(n.consume(o),i):s(o)}function s(o){return o===-2||o===-1||o===32?(n.consume(o),s):o===null||o===-5||o===-4||o===-3?e(o):t(o)}}function Vjt(n,e,t){var r=0;return i;function i(o){return n.enter("check"),n.consume(o),s}function s(o){return o===-1||o===32?(n.consume(o),r++,r===4?e:s):o===null||o<0?e(o):t(o)}}});var QUe=G((c_n,WUe)=>{d();WUe.exports=VUe()});var YUe=G((f_n,GUe)=>{"use strict";d();function Wjt(n){return n<0||n===32}GUe.exports=Wjt});var JUe=G((d_n,KUe)=>{"use strict";d();function Qjt(n){return n===-2||n===-1||n===32}KUe.exports=Qjt});var e$e=G((h_n,ZUe)=>{"use strict";d();var XUe=JUe();function Gjt(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return XUe(l)?(n.enter(t),a(l)):e(l)}function a(l){return XUe(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}ZUe.exports=Gjt});var n$e=G((p_n,t$e)=>{"use strict";d();function Yjt(n){for(var e=-1,t=0;++e<n.length;)t+=typeof n[e]=="string"?n[e].length:1;return t}t$e.exports=Yjt});var i$e=G((m_n,r$e)=>{"use strict";d();var Kjt=n$e();function Jjt(n,e){var t=n[n.length-1];return!t||t[1].type!==e?0:Kjt(t[2].sliceStream(t[1]))}r$e.exports=Jjt});var o$e=G(s$e=>{d();var Xjt=YUe(),Zjt=e$e(),eqt=i$e(),tqt={tokenize:nqt};s$e.text={91:tqt};function nqt(n,e,t){var r=this;return i;function i(a){return a!==91||r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return a===-2||a===32?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):t(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),n.check({tokenize:rqt},e,t)):t(a)}}function rqt(n,e,t){var r=this;return Zjt(n,i,"whitespace");function i(s){return eqt(r.events,"whitespace")&&s!==null&&!Xjt(s)?e(s):t(s)}}});var u$e=G((g_n,a$e)=>{d();a$e.exports=o$e()});var c$e=G((y_n,l$e)=>{d();var iqt=Oqe(),sqt=fUe(),oqt=PUe(),aqt=QUe(),uqt=u$e();l$e.exports=lqt;function lqt(n){return iqt([sqt,oqt(n),aqt,uqt])}});var d$e=G((v_n,f$e)=>{d();f$e.exports=c$e()});var p$e=G((__n,h$e)=>{"use strict";d();h$e.exports=cqt;function cqt(n,e){var t=String(n),r=0,i;if(typeof e!="string")throw new Error("Expected character");for(i=t.indexOf(e);i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}});var Gle=G((b_n,x$e)=>{"use strict";d();x$e.exports=m$e;function m$e(n){if(n==null)return pqt;if(typeof n=="string")return hqt(n);if(typeof n=="object")return"length"in n?dqt(n):fqt(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function fqt(n){return e;function e(t){var r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function dqt(n){for(var e=[],t=-1;++t<n.length;)e[t]=m$e(n[t]);return r;function r(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function hqt(n){return e;function e(t){return Boolean(t&&t.type===n)}}function pqt(){return!0}});var y$e=G((E_n,g$e)=>{d();g$e.exports=mqt;function mqt(n){return n}});var E$e=G((S_n,b$e)=>{"use strict";d();b$e.exports=oW;var xqt=Gle(),gqt=y$e(),v$e=!0,_$e="skip",Yle=!1;oW.CONTINUE=v$e;oW.SKIP=_$e;oW.EXIT=Yle;function oW(n,e,t,r){var i,s;typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),s=xqt(e),i=r?-1:1,o(n,null,[])();function o(a,l,f){var p=typeof a=="object"&&a!==null?a:{},v;return typeof p.type=="string"&&(v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0,b.displayName="node ("+gqt(p.type+(v?"<"+v+">":""))+")"),b;function b(){var F=f.concat(a),D=[],M,q;if((!e||s(a,l,f[f.length-1]||null))&&(D=yqt(t(a,f)),D[0]===Yle))return D;if(a.children&&D[0]!==_$e)for(q=(r?a.children.length:-1)+i;q>-1&&q<a.children.length;){if(M=o(a.children[q],q,F)(),M[0]===Yle)return M;q=typeof M[1]=="number"?M[1]:q+i}return D}}}function yqt(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[v$e,n]:[n]}});var C$e=G((C_n,S$e)=>{"use strict";d();S$e.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var D$e=G((w_n,F$e)=>{"use strict";d();F$e.exports=Sqt;var vqt=E$e(),_qt=Gle(),bqt=C$e(),Eqt=[].splice;function Sqt(n,e,t,r){var i,s;return typeof e=="string"||e&&typeof e.exec=="function"?s=[[e,t]]:(s=e,r=t),i=r||{},w$e(n,i,o(Cqt(s))),n;function o(a){var l=a[0];return f;function f(p,v){var b=l[0],F=l[1],D=[],M=0,q=v.children.indexOf(p),N,B,I,z;for(b.lastIndex=0,B=b.exec(p.value);B&&(N=B.index,z=F.apply(null,[].concat(B,{index:B.index,input:B.input})),z!==!1&&(M!==N&&D.push({type:"text",value:p.value.slice(M,N)}),typeof z=="string"&&z.length>0&&(z={type:"text",value:z}),z&&(D=[].concat(D,z)),M=N+B[0].length),!!b.global);)B=b.exec(p.value);if(N===void 0?(D=[p],q--):(M<p.value.length&&D.push({type:"text",value:p.value.slice(M)}),D.unshift(q,1),Eqt.apply(v.children,D)),a.length>1)for(I=o(a.slice(1)),N=-1;++N<D.length;)p=D[N],p.type==="text"?I(p,v):w$e(p,i,I);return q+D.length+1}}}function w$e(n,e,t){var r=_qt(e.ignore||[]),i=[];return vqt(n,"text",s),i;function s(o,a){for(var l=-1,f,p;++l<a.length;){if(f=a[l],r(f,p?p.children.indexOf(f):void 0,p))return;p=f}return t(o,p)}}function Cqt(n){var e=[],t,r;if(typeof n!="object")throw new Error("Expected array or object as schema");if("length"in n)for(r=-1;++r<n.length;)e.push([A$e(n[r][0]),T$e(n[r][1])]);else for(t in n)e.push([A$e(t),T$e(n[t])]);return e}function A$e(n){return typeof n=="string"?new RegExp(bqt(n),"g"):n}function T$e(n){return typeof n=="function"?n:e;function e(){return n}}});var N$e=G((A_n,O$e)=>{"use strict";d();var wqt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;O$e.exports=wqt});var L$e=G((T_n,R$e)=>{"use strict";d();var Aqt=String.fromCharCode;R$e.exports=Aqt});var Kle=G((F_n,k$e)=>{"use strict";d();var Tqt=L$e();function Fqt(n){return e;function e(t){return n.test(Tqt(t))}}k$e.exports=Fqt});var M$e=G((D_n,I$e)=>{"use strict";d();var Dqt=N$e(),Oqt=Kle(),Nqt=Oqt(Dqt);I$e.exports=Nqt});var B$e=G((O_n,P$e)=>{"use strict";d();var Rqt=Kle(),Lqt=Rqt(/\s/);P$e.exports=Lqt});var U$e=G(aW=>{d();var j$e=p$e(),kqt=D$e(),Iqt=M$e(),Mqt=B$e();aW.transforms=[$qt];aW.enter={literalAutolink:Pqt,literalAutolinkEmail:Jle,literalAutolinkHttp:Jle,literalAutolinkWww:Jle};aW.exit={literalAutolink:Uqt,literalAutolinkEmail:qqt,literalAutolinkHttp:Bqt,literalAutolinkWww:jqt};function Pqt(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Jle(n){this.config.enter.autolinkProtocol.call(this,n)}function Bqt(n){this.config.exit.autolinkProtocol.call(this,n)}function jqt(n){this.config.exit.data.call(this,n),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(n)}function qqt(n){this.config.exit.autolinkEmail.call(this,n)}function Uqt(n){this.exit(n)}function $qt(n){kqt(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,zqt],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,Hqt]],{ignore:["link","linkReference"]})}function zqt(n,e,t,r,i){var s="",o,a;return!q$e(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!Vqt(t))||(o=Wqt(t+r),!o[0])?!1:(a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]},o[1]&&(a=[a,{type:"text",value:o[1]}]),a)}function Hqt(n,e,t,r){return!q$e(r,!0)||/[_-]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function Vqt(n){var e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Wqt(n){var e=/[!"&'),.:;<>?\]}]+$/.exec(n),t,r,i;if(e)for(n=n.slice(0,e.index),e=e[0],t=e.indexOf(")"),r=j$e(n,"("),i=j$e(n,")");t!==-1&&r>i;)n+=e.slice(0,t+1),e=e.slice(t+1),t=e.indexOf(")"),i++;return[n,e]}function q$e(n,e){var t=n.input.charCodeAt(n.index-1);return(t!==t||Mqt(t)||Iqt(t))&&(!e||t!==47)}});var $$e=G(uW=>{d();uW.canContainEols=["delete"];uW.enter={strikethrough:Qqt};uW.exit={strikethrough:Gqt};function Qqt(n){this.enter({type:"delete",children:[]},n)}function Gqt(n){this.exit(n)}});var H$e=G(Zle=>{d();Zle.enter={table:Yqt,tableData:z$e,tableHeader:z$e,tableRow:Jqt};Zle.exit={codeText:Xqt,table:Kqt,tableData:Xle,tableHeader:Xle,tableRow:Xle};function Yqt(n){this.enter({type:"table",align:n._align,children:[]},n),this.setData("inTable",!0)}function Kqt(n){this.exit(n),this.setData("inTable")}function Jqt(n){this.enter({type:"tableRow",children:[]},n)}function Xle(n){this.exit(n)}function z$e(n){this.enter({type:"tableCell",children:[]},n)}function Xqt(n){var e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,Zqt)),this.stack[this.stack.length-1].value=e,this.exit(n)}function Zqt(n,e){return e==="|"?e:n}});var Q$e=G(W$e=>{d();W$e.exit={taskListCheckValueChecked:V$e,taskListCheckValueUnchecked:V$e,paragraph:eUt};function V$e(n){this.stack[this.stack.length-2].checked=n.type==="taskListCheckValueChecked"}function eUt(n){var e=this.stack[this.stack.length-2],t=this.stack[this.stack.length-1],r=e.children,i=t.children[0],s=-1,o;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++s<r.length;)if(r[s].type==="paragraph"){o=r[s];break}o===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}this.exit(n)}});var Y$e=G((I_n,G$e)=>{d();var tUt=U$e(),nUt=$$e(),rUt=H$e(),iUt=Q$e(),sUt={}.hasOwnProperty;G$e.exports=oUt([tUt,nUt,rUt,iUt]);function oUt(n){for(var e={transforms:[],canContainEols:[]},t=n.length,r=-1;++r<t;)aUt(e,n[r]);return e}function aUt(n,e){var t,r,i;for(t in e)r=sUt.call(n,t)?n[t]:n[t]={},i=e[t],t==="canContainEols"||t==="transforms"?n[t]=[].concat(r,i):Object.assign(r,i)}});var J$e=G(K$e=>{d();var ece="phrasing",tce=["autolink","link","image","label"];K$e.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ece,notInConstruct:tce},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ece,notInConstruct:tce},{character:":",before:"[ps]",after:"\\/",inConstruct:ece,notInConstruct:tce}]});var Z$e=G((P_n,X$e)=>{d();X$e.exports=uUt;function uUt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var tze=G(nce=>{d();var lUt=Z$e();nce.unsafe=[{character:"~",inConstruct:"phrasing"}];nce.handlers={delete:eze};eze.peek=cUt;function eze(n,e,t){var r=t.enter("emphasis"),i=lUt(n,t,{before:"~",after:"~"});return r(),"~~"+i+"~~"}function cUt(){return"~"}});var rze=G((j_n,nze)=>{d();nze.exports=fUt;function fUt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var sze=G((q_n,ize)=>{d();ize.exports=dUt;function dUt(n){var e,t;return n._compiled||(e=n.before?"(?:"+n.before+")":"",t=n.after?"(?:"+n.after+")":"",n.atBreak&&(e="[\\r\\n][\\t ]*"+e),n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(t||""),"g")),n._compiled}});var uze=G((U_n,aze)=>{d();aze.exports=oze;oze.peek=pUt;var hUt=sze();function oze(n,e,t){for(var r=n.value||"",i="`",s=-1,o,a,l,f;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/[ \r\n`]/.test(r.charAt(0))||/[ \r\n`]/.test(r.charAt(r.length-1)))&&(r=" "+r+" ");++s<t.unsafe.length;)if(o=t.unsafe[s],!!o.atBreak)for(a=hUt(o);l=a.exec(r);)f=l.index,r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(l.index+1);return i+r+i}function pUt(){return"`"}});var lW=G(($_n,lze)=>{"use strict";d();var Mg="",rce;lze.exports=mUt;function mUt(n,e){if(typeof n!="string")throw new TypeError("expected a string");if(e===1)return n;if(e===2)return n+n;var t=n.length*e;if(rce!==n||typeof rce=="undefined")rce=n,Mg="";else if(Mg.length>=t)return Mg.substr(0,t);for(;t>Mg.length&&e>1;)e&1&&(Mg+=n),e>>=1,n+=n;return Mg+=n,Mg=Mg.substr(0,t),Mg}});var pze=G((z_n,hze)=>{"use strict";d();var h9=lW();hze.exports=EUt;var xUt=/ +$/,G6=" ",gUt=`
`,yUt="-",cW=":",cze="|",fze=0,vUt=67,_Ut=76,bUt=82,fW=99,ice=108,dW=114;function EUt(n,e){for(var t=e||{},r=t.padding!==!1,i=t.delimiterStart!==!1,s=t.delimiterEnd!==!1,o=(t.align||[]).concat(),a=t.alignDelimiters!==!1,l=[],f=t.stringLength||CUt,p=-1,v=n.length,b=[],F=[],D=[],M=[],q=[],N=0,B,I,z,ie,L,Y,fe,me,Be,tt,st;++p<v;){for(B=n[p],I=-1,z=B.length,D=[],M=[],z>N&&(N=z);++I<z;)Y=SUt(B[I]),a===!0&&(L=f(Y),M[I]=L,ie=q[I],(ie===void 0||L>ie)&&(q[I]=L)),D.push(Y);b[p]=D,F[p]=M}if(I=-1,z=N,typeof o=="object"&&"length"in o)for(;++I<z;)l[I]=dze(o[I]);else for(st=dze(o);++I<z;)l[I]=st;for(I=-1,z=N,D=[],M=[];++I<z;)st=l[I],Be="",tt="",st===ice?Be=cW:st===dW?tt=cW:st===fW&&(Be=cW,tt=cW),L=a?Math.max(1,q[I]-Be.length-tt.length):1,Y=Be+h9(yUt,L)+tt,a===!0&&(L=Be.length+L+tt.length,L>q[I]&&(q[I]=L),M[I]=L),D[I]=Y;for(b.splice(1,0,D),F.splice(1,0,M),p=-1,v=b.length,fe=[];++p<v;){for(D=b[p],M=F[p],I=-1,z=N,me=[];++I<z;)Y=D[I]||"",Be="",tt="",a===!0&&(L=q[I]-(M[I]||0),st=l[I],st===dW?Be=h9(G6,L):st===fW?L%2===0?(Be=h9(G6,L/2),tt=Be):(Be=h9(G6,L/2+.5),tt=h9(G6,L/2-.5)):tt=h9(G6,L)),i===!0&&I===0&&me.push(cze),r===!0&&!(a===!1&&Y==="")&&(i===!0||I!==0)&&me.push(G6),a===!0&&me.push(Be),me.push(Y),a===!0&&me.push(tt),r===!0&&me.push(G6),(s===!0||I!==z-1)&&me.push(cze);me=me.join(""),s===!1&&(me=me.replace(xUt,"")),fe.push(me)}return fe.join(gUt)}function SUt(n){return n==null?"":String(n)}function CUt(n){return n.length}function dze(n){var e=typeof n=="string"?n.charCodeAt(0):fze;return e===_Ut||e===ice?ice:e===bUt||e===dW?dW:e===vUt||e===fW?fW:fze}});var xze=G((H_n,mze)=>{d();var wUt=rze(),AUt=uze(),TUt=pze();mze.exports=FUt;function FUt(n){var e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:l,inlineCode:b}};function o(F,D,M){return f(p(F,M),F.align)}function a(F,D,M){var q=v(F,M),N=f([q]);return N.slice(0,N.indexOf(`
`))}function l(F,D,M){var q=M.enter("tableCell"),N=wUt(F,M,{before:s,after:s});return q(),N}function f(F,D){return TUt(F,{align:D,alignDelimiters:r,padding:t,stringLength:i})}function p(F,D){for(var M=F.children,q=-1,N=M.length,B=[],I=D.enter("table");++q<N;)B[q]=v(M[q],D);return I(),B}function v(F,D){for(var M=F.children,q=-1,N=M.length,B=[],I=D.enter("tableRow");++q<N;)B[q]=l(M[q],F,D);return I(),B}function b(F,D,M){var q=AUt(F,D,M);return M.stack.indexOf("tableCell")!==-1&&(q=q.replace(/\|/g,"\\$&")),q}}});var yze=G((V_n,gze)=>{d();gze.exports=DUt;function DUt(n){var e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}});var _ze=G((W_n,vze)=>{d();vze.exports=OUt;function OUt(n){var e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}});var Eze=G((Q_n,bze)=>{d();bze.exports=RUt;var NUt=lW();function RUt(n,e){for(var t=n.children||[],r=[],i=-1,s;++i<t.length;)s=t[i],r.push(e.handle(s,n,e,{before:`
`,after:`
`})),i+1<t.length&&r.push(o(s,t[i+1]));return r.join("");function o(a,l){for(var f=-1,p;++f<e.join.length&&(p=e.join[f](a,l,n,e),!(p===!0||p===1));){if(typeof p=="number")return NUt(`
`,1+Number(p));if(p===!1)return`

<!---->

`}return`

`}}});var Cze=G((G_n,Sze)=>{d();Sze.exports=kUt;var LUt=/\r?\n|\r/g;function kUt(n,e){for(var t=[],r=0,i=0,s;s=LUt.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}});var Tze=G((Y_n,Aze)=>{d();Aze.exports=jUt;var wze=lW(),IUt=yze(),MUt=_ze(),PUt=Eze(),BUt=Cze();function jUt(n,e,t){var r=IUt(t),i=MUt(t),s,o,a;return e&&e.ordered&&(r=(e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+"."),s=r.length+1,(i==="tab"||i==="mixed"&&(e&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4),a=t.enter("listItem"),o=BUt(PUt(n,t),l),a(),o;function l(f,p,v){return p?(v?"":wze(" ",s))+f:(v?r:r+wze(" ",s-r.length))+f}}});var Fze=G(sce=>{d();var qUt=Tze();sce.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}];sce.handlers={listItem:UUt};function UUt(n,e,t){var r=qUt(n,e,t),i=n.children[0];return typeof n.checked=="boolean"&&i&&i.type==="paragraph"&&(r=r.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),r;function s(o){return o+"["+(n.checked?"x":" ")+"] "}}});var Nze=G((J_n,Oze)=>{d();Oze.exports=Dze;function Dze(n,e){var t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)Dze(n,e.extensions[t]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?n[r]=n[r].concat(e[r]||[]):r==="handlers"?n[r]=Object.assign(n[r],e[r]||{}):n.options[r]=e[r]);return n}});var Lze=G((X_n,Rze)=>{d();var $Ut=J$e(),zUt=tze(),HUt=xze(),VUt=Fze(),WUt=Nze();Rze.exports=QUt;function QUt(n){var e=WUt({handlers:{},join:[],unsafe:[],options:{}},{extensions:[$Ut,zUt,HUt(n),VUt]});return Object.assign(e.options,{handlers:e.handlers,join:e.join,unsafe:e.unsafe})}});var Mze=G((Z_n,Ize)=>{"use strict";d();var GUt=d$e(),YUt=Y$e(),KUt=Lze(),kze;Ize.exports=JUt;function JUt(n){var e=this.data();!kze&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(kze=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),t("micromarkExtensions",GUt(n)),t("fromMarkdownExtensions",YUt),t("toMarkdownExtensions",KUt(n));function t(r,i){e[r]?e[r].push(i):e[r]=[i]}}});d();var Pg=Jn(ur()),Wze=Jn(nL());d();var BJe=n=>{n&&n instanceof Function&&Promise.resolve().then(()=>(L1e(),R1e)).then(({getCLS:e,getFID:t,getFCP:r,getLCP:i,getTTFB:s})=>{e(n),t(n),r(n),i(n),s(n)})},k1e=BJe;d();d();d();d();d();d();function Pw(n,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pw(n,e)}function rd(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Pw(n,e)}d();var Jd=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();d();d();function us(){return us=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},us.apply(this,arguments)}var rv=typeof window=="undefined";function lu(){}function I1e(n,e){return typeof n=="function"?n(e):n}function Bw(n){return typeof n=="number"&&n>=0&&n!==1/0}function jw(n){return Array.isArray(n)?n:[n]}function oL(n,e){return Math.max(n+(e||0)-Date.now(),0)}function tE(n,e,t){return $w(n)?typeof e=="function"?us({},t,{queryKey:n,queryFn:e}):us({},e,{queryKey:n}):n}function M1e(n,e,t){return $w(n)?typeof e=="function"?us({},t,{mutationKey:n,mutationFn:e}):us({},e,{mutationKey:n}):typeof n=="function"?us({},e,{mutationFn:n}):us({},n)}function B1(n,e,t){return $w(n)?[us({},e,{queryKey:n}),t]:[n||{},e]}function jJe(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function KY(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,l=n.stale;if($w(a)){if(r){if(e.queryHash!==qw(a,e.options))return!1}else if(!Uw(e.queryKey,a))return!1}var f=jJe(t,s);if(f==="none")return!1;if(f!=="all"){var p=e.isActive();if(f==="active"&&!p||f==="inactive"&&p)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function JY(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if($w(s)){if(!e.options.mutationKey)return!1;if(t){if(Sy(e.options.mutationKey)!==Sy(s))return!1}else if(!Uw(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function qw(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||Sy;return t(n)}function Sy(n){var e=jw(n);return qJe(e)}function qJe(n){return JSON.stringify(n,function(e,t){return XY(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function Uw(n,e){return P1e(jw(n),jw(e))}function P1e(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!P1e(n[t],e[t])}):!1}function nE(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||XY(n)&&XY(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{},a=0,l=0;l<s;l++){var f=t?l:i[l];o[f]=nE(n[f],e[f]),o[f]===n[f]&&a++}return r===s&&a===r?n:o}return e}function B1e(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function XY(n){if(!j1e(n))return!1;var e=n.constructor;if(typeof e=="undefined")return!0;var t=e.prototype;return!(!j1e(t)||!t.hasOwnProperty("isPrototypeOf"))}function j1e(n){return Object.prototype.toString.call(n)==="[object Object]"}function $w(n){return typeof n=="string"||Array.isArray(n)}function q1e(n){return new Promise(function(e){setTimeout(e,n)})}function ZY(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function aL(){if(typeof AbortController=="function")return new AbortController}var UJe=function(n){rd(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!rv&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Jd),Cy=new UJe;d();var $Je=function(n){rd(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!rv&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},e}(Jd),rE=new $Je;function zJe(n){return Math.min(1e3*Math.pow(2,n),3e4)}function zw(n){return typeof(n==null?void 0:n.cancel)=="function"}var U1e=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function iE(n){return n instanceof U1e}var uL=function(e){var t=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(b){return i==null?void 0:i(b)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(b,F){o=b,a=F});var l=function(F){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(F),s==null||s(),o(F))},f=function(F){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(F),s==null||s(),a(F))},p=function(){return new Promise(function(F){s=F,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},v=function b(){if(!t.isResolved){var F;try{F=e.fn()}catch(D){F=Promise.reject(D)}i=function(M){if(!t.isResolved&&(f(new U1e(M)),t.abort==null||t.abort(),zw(F)))try{F.cancel()}catch{}},t.isTransportCancelable=zw(F),Promise.resolve(F).then(l).catch(function(D){var M,q;if(!t.isResolved){var N=(M=e.retry)!=null?M:3,B=(q=e.retryDelay)!=null?q:zJe,I=typeof B=="function"?B(t.failureCount,D):B,z=N===!0||typeof N=="number"&&t.failureCount<N||typeof N=="function"&&N(t.failureCount,D);if(r||!z){f(D);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,D),q1e(I).then(function(){if(!Cy.isFocused()||!rE.isOnline())return p()}).then(function(){r?f(D):b()})}})}};v()};d();d();d();var HJe=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):ZY(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&ZY(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),ho=new HJe;d();var $1e=console;function iv(){return $1e}function eK(n){$1e=n}var z1e=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=us({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Bw(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=I1e(r,a);return((s=(o=this.options).isDataEqual)==null?void 0:s.call(o,a,l))?l=a:this.options.structuralSharing!==!1&&(l=nE(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(lu).catch(lu):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!oL(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var f;return(f=this.retryer)==null||f.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function(B){return B.options.queryFn});p&&this.setOptions(p.options)}var v=jw(this.queryKey),b=aL(),F={queryKey:v,pageParam:void 0,meta:this.meta};Object.defineProperty(F,"signal",{enumerable:!0,get:function(){if(b)return s.abortSignalConsumed=!0,b.signal}});var D=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(F)):Promise.reject("Missing queryFn")},M={fetchOptions:i,options:this.options,queryKey:v,state:this.state,fetchFn:D,meta:this.meta};if((o=this.options.behavior)==null?void 0:o.onFetch){var q;(q=this.options.behavior)==null||q.onFetch(M)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=M.fetchOptions)==null?void 0:a.meta)){var N;this.dispatch({type:"fetch",meta:(N=M.fetchOptions)==null?void 0:N.meta})}return this.retryer=new uL({fn:M.fetchFn,abort:b==null||(l=b.abort)==null?void 0:l.bind(b),onSuccess:function(I){s.setData(I),s.cache.config.onSuccess==null||s.cache.config.onSuccess(I,s),s.cacheTime===0&&s.optionalRemove()},onError:function(I){iE(I)&&I.silent||s.dispatch({type:"error",error:I}),iE(I)||(s.cache.config.onError==null||s.cache.config.onError(I,s),iv().error(I)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:M.options.retry,retryDelay:M.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),ho.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData!="undefined",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i!="undefined";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return us({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return us({},r,{isPaused:!0});case"continue":return us({},r,{isPaused:!1});case"fetch":return us({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return us({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return iE(a)&&a.revert&&this.revertState?us({},this.revertState):us({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return us({},r,{isInvalidated:!0});case"setState":return us({},r,i.state);default:return r}},n}();var H1e=function(n){rd(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,o){var a,l=s.queryKey,f=(a=s.queryHash)!=null?a:qw(l,s),p=this.get(f);return p||(p=new z1e({cache:this,queryKey:l,queryHash:f,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(p)),p},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;ho.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var o=B1(i,s),a=o[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(l){return KY(a,l)})},t.findAll=function(i,s){var o=B1(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return KY(a,l)}):this.queries},t.notify=function(i){var s=this;ho.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){var i=this;ho.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;ho.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Jd);d();d();d();var V1e=function(){function n(t){this.options=us({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||tK(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(lu).catch(lu)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),iv().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new uL({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=VJe(this.state,r),ho.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function tK(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function VJe(n,e){switch(e.type){case"failed":return us({},n,{failureCount:n.failureCount+1});case"pause":return us({},n,{isPaused:!0});case"continue":return us({},n,{isPaused:!1});case"loading":return us({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return us({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return us({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return us({},n,e.state);default:return n}}var W1e=function(n){rd(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,o){var a=new V1e({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;ho.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact=="undefined"&&(i.exact=!0),this.mutations.find(function(s){return JY(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return JY(i,s)})},t.notify=function(i){var s=this;ho.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return ho.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(lu)})},Promise.resolve())})},e}(Jd);d();function Q1e(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,o,a,l=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,f=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=f==null?void 0:f.pageParam,v=(f==null?void 0:f.direction)==="forward",b=(f==null?void 0:f.direction)==="backward",F=((o=e.state.data)==null?void 0:o.pages)||[],D=((a=e.state.data)==null?void 0:a.pageParams)||[],M=aL(),q=M==null?void 0:M.signal,N=D,B=!1,I=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},z=function(mt,Lt,je,Z){return N=Z?[Lt].concat(N):[].concat(N,[Lt]),Z?[je].concat(mt):[].concat(mt,[je])},ie=function(mt,Lt,je,Z){if(B)return Promise.reject("Cancelled");if(typeof je=="undefined"&&!Lt&&mt.length)return Promise.resolve(mt);var Ke={queryKey:e.queryKey,signal:q,pageParam:je,meta:e.meta},_e=I(Ke),De=Promise.resolve(_e).then(function(de){return z(mt,je,de,Z)});if(zw(_e)){var be=De;be.cancel=_e.cancel}return De},L;if(!F.length)L=ie([]);else if(v){var Y=typeof p!="undefined",fe=Y?p:G1e(e.options,F);L=ie(F,Y,fe)}else if(b){var me=typeof p!="undefined",Be=me?p:WJe(e.options,F);L=ie(F,me,Be,!0)}else(function(){N=[];var Qe=typeof e.options.getNextPageParam=="undefined",mt=l&&F[0]?l(F[0],0,F):!0;L=mt?ie([],Qe,D[0]):Promise.resolve(z([],D[0],F[0]));for(var Lt=function(Ke){L=L.then(function(_e){var De=l&&F[Ke]?l(F[Ke],Ke,F):!0;if(De){var be=Qe?D[Ke]:G1e(e.options,_e);return ie(_e,Qe,be)}return Promise.resolve(z(_e,D[Ke],F[Ke]))})},je=1;je<F.length;je++)Lt(je)})();var tt=L.then(function(Qe){return{pages:Qe,pageParams:N}}),st=tt;return st.cancel=function(){B=!0,M==null||M.abort(),zw(L)&&L.cancel()},tt}}}}function G1e(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function WJe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var nK=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new H1e,this.mutationCache=t.mutationCache||new W1e,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=Cy.subscribe(function(){Cy.isFocused()&&rE.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=rE.subscribe(function(){Cy.isFocused()&&rE.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=B1(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(us({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=tE(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return ho.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=B1(r,i),o=s[0],a=this.queryCache;ho.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=B1(r,i,s),l=a[0],f=a[1],p=this.queryCache,v=us({},l,{active:!0});return ho.batch(function(){return p.findAll(l).forEach(function(b){b.reset()}),o.refetchQueries(v,f)})},e.cancelQueries=function(r,i,s){var o=this,a=B1(r,i,s),l=a[0],f=a[1],p=f===void 0?{}:f;typeof p.revert=="undefined"&&(p.revert=!0);var v=ho.batch(function(){return o.queryCache.findAll(l).map(function(b){return b.cancel(p)})});return Promise.all(v).then(lu).catch(lu)},e.invalidateQueries=function(r,i,s){var o,a,l,f=this,p=B1(r,i,s),v=p[0],b=p[1],F=us({},v,{active:(o=(a=v.refetchActive)!=null?a:v.active)!=null?o:!0,inactive:(l=v.refetchInactive)!=null?l:!1});return ho.batch(function(){return f.queryCache.findAll(v).forEach(function(D){D.invalidate()}),f.refetchQueries(F,b)})},e.refetchQueries=function(r,i,s){var o=this,a=B1(r,i,s),l=a[0],f=a[1],p=ho.batch(function(){return o.queryCache.findAll(l).map(function(b){return b.fetch(void 0,us({},f,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),v=Promise.all(p).then(lu);return(f==null?void 0:f.throwOnError)||(v=v.catch(lu)),v},e.fetchQuery=function(r,i,s){var o=tE(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry=="undefined"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(lu).catch(lu)},e.fetchInfiniteQuery=function(r,i,s){var o=tE(r,i,s);return o.behavior=Q1e(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(lu).catch(lu)},e.cancelMutations=function(){var r=this,i=ho.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(lu).catch(lu)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return Sy(r)===Sy(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return Uw(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return Sy(r)===Sy(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return Uw(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r==null?void 0:r._defaulted)return r;var i=us({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=qw(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return(r==null?void 0:r._defaulted)?r:us({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}();d();var rK=function(n){rd(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Y1e(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return iK(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return iK(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&K1e(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var f=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||f!==this.currentRefetchInterval)&&this.updateRefetchInterval(f)},t.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(i,s){var o=this,a={},l=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(i).forEach(function(f){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:function(){return l(f),i[f]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},t.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(f){f.isFetching||(l(),f.isError&&(i==null?void 0:i.throwOnError)?a(f.error):o(f))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(i){return this.fetch(us({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},t.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},t.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},t.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return(i==null?void 0:i.throwOnError)||(s=s.catch(lu)),s},t.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(rv||this.currentResult.isStale||!Bw(this.options.staleTime))){var s=oL(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},t.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},t.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(rv||this.options.enabled===!1||!Bw(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||Cy.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,f=this.currentResultState,p=this.currentResultOptions,v=i!==o,b=v?i.state:this.currentQueryInitialState,F=v?this.currentResult:this.previousQueryResult,D=i.state,M=D.dataUpdatedAt,q=D.error,N=D.errorUpdatedAt,B=D.isFetching,I=D.status,z=!1,ie=!1,L;if(s.optimisticResults){var Y=this.hasListeners(),fe=!Y&&Y1e(i,s),me=Y&&K1e(i,o,s,a);(fe||me)&&(B=!0,M||(I="loading"))}if(s.keepPreviousData&&!D.dataUpdateCount&&(F==null?void 0:F.isSuccess)&&I!=="error")L=F.data,M=F.dataUpdatedAt,I=F.status,z=!0;else if(s.select&&typeof D.data!="undefined")if(l&&D.data===(f==null?void 0:f.data)&&s.select===this.selectFn)L=this.selectResult;else try{this.selectFn=s.select,L=s.select(D.data),s.structuralSharing!==!1&&(L=nE(l==null?void 0:l.data,L)),this.selectResult=L,this.selectError=null}catch(st){iv().error(st),this.selectError=st}else L=D.data;if(typeof s.placeholderData!="undefined"&&typeof L=="undefined"&&(I==="loading"||I==="idle")){var Be;if((l==null?void 0:l.isPlaceholderData)&&s.placeholderData===(p==null?void 0:p.placeholderData))Be=l.data;else if(Be=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof Be!="undefined")try{Be=s.select(Be),s.structuralSharing!==!1&&(Be=nE(l==null?void 0:l.data,Be)),this.selectError=null}catch(st){iv().error(st),this.selectError=st}typeof Be!="undefined"&&(I="success",L=Be,ie=!0)}this.selectError&&(q=this.selectError,L=this.selectResult,N=Date.now(),I="error");var tt={status:I,isLoading:I==="loading",isSuccess:I==="success",isError:I==="error",isIdle:I==="idle",data:L,dataUpdatedAt:M,error:q,errorUpdatedAt:N,failureCount:D.fetchFailureCount,errorUpdateCount:D.errorUpdateCount,isFetched:D.dataUpdateCount>0||D.errorUpdateCount>0,isFetchedAfterMount:D.dataUpdateCount>b.dataUpdateCount||D.errorUpdateCount>b.errorUpdateCount,isFetching:B,isRefetching:B&&I!=="loading",isLoadingError:I==="error"&&D.dataUpdatedAt===0,isPlaceholderData:ie,isPreviousData:z,isRefetchError:I==="error"&&D.dataUpdatedAt!==0,isStale:sK(i,s),refetch:this.refetch,remove:this.remove};return tt},t.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var f=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(p){var v=p,b=i[v]!==s[v],F=f==null?void 0:f.some(function(M){return M===p}),D=l==null?void 0:l.some(function(M){return M===p});return b&&!D&&(!f||F)})},t.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!B1e(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(us({},o,i))}},t.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},t.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!iE(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},t.notify=function(i){var s=this;ho.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(Jd);function QJe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Y1e(n,e){return QJe(n,e)||n.state.dataUpdatedAt>0&&iK(n,e,e.refetchOnMount)}function iK(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&sK(n,e)}return!1}function K1e(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&sK(n,t)}function sK(n,e){return n.isStaleByTime(e.staleTime)}d();var J1e=function(n){rd(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},t.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},t.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,us({},this.options,{variables:typeof i!="undefined"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:tK(),s=us({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},t.notify=function(i){var s=this;ho.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(Jd);d();d();d();var X1e=Jn(nL()),Z1e=X1e.default.unstable_batchedUpdates;ho.setBatchNotifyFunction(Z1e);d();d();var eme=console;eK(eme);d();var wy=Jn(ur()),tme=wy.default.createContext(void 0),nme=wy.default.createContext(!1);function rme(n){return n&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=tme),window.ReactQueryClientContext):tme}var Hw=function(){var e=wy.default.useContext(rme(wy.default.useContext(nme)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},oK=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;wy.default.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=rme(i);return wy.default.createElement(nme.Provider,{value:i},wy.default.createElement(o.Provider,{value:t},s))};d();var aK=Jn(ur());function GJe(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var YJe=aK.default.createContext(GJe()),ime=function(){return aK.default.useContext(YJe)};d();var sE=Jn(ur());d();function lL(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function uK(n,e,t){var r=sE.default.useRef(!1),i=sE.default.useState(0),s=i[1],o=M1e(n,e,t),a=Hw(),l=sE.default.useRef();l.current?l.current.setOptions(o):l.current=new J1e(a,o);var f=l.current.getCurrentResult();sE.default.useEffect(function(){r.current=!0;var v=l.current.subscribe(ho.batchCalls(function(){r.current&&s(function(b){return b+1})}));return function(){r.current=!1,v()}},[]);var p=sE.default.useCallback(function(v,b){l.current.mutate(v,b).catch(lu)},[]);if(f.error&&lL(void 0,l.current.options.useErrorBoundary,[f.error]))throw f.error;return us({},f,{mutate:p,mutateAsync:f.mutate})}d();d();var oE=Jn(ur());function sme(n,e){var t=oE.default.useRef(!1),r=oE.default.useState(0),i=r[1],s=Hw(),o=ime(),a=s.defaultQueryObserverOptions(n);a.optimisticResults=!0,a.onError&&(a.onError=ho.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=ho.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=ho.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=oE.default.useState(function(){return new e(s,a)}),f=l[0],p=f.getOptimisticResult(a);if(oE.default.useEffect(function(){t.current=!0,o.clearReset();var v=f.subscribe(ho.batchCalls(function(){t.current&&i(function(b){return b+1})}));return f.updateResult(),function(){t.current=!1,v()}},[o,f]),oE.default.useEffect(function(){f.setOptions(a,{listeners:!1})},[a,f]),a.suspense&&p.isLoading)throw f.fetchOptimistic(a).then(function(v){var b=v.data;a.onSuccess==null||a.onSuccess(b),a.onSettled==null||a.onSettled(b,null)}).catch(function(v){o.clearReset(),a.onError==null||a.onError(v),a.onSettled==null||a.onSettled(void 0,v)});if(p.isError&&!o.isReset()&&!p.isFetching&&lL(a.suspense,a.useErrorBoundary,[p.error,f.getCurrentQuery()]))throw p.error;return a.notifyOnChangeProps==="tracked"&&(p=f.trackResult(p,a)),p}function ox(n,e,t){var r=tE(n,e,t);return sme(r,rK)}d();var Lf=Jn(ur());d();d();function cu(){return cu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cu.apply(this,arguments)}var Eu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Eu||(Eu={}));var ome="popstate";function ame(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=id(i.location.hash.substr(1));return sv("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,f=l.indexOf("#");a=f===-1?l:l.slice(0,f)}return a+"#"+(typeof s=="string"?s:v0(s))}function r(i,s){KJe(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return XJe(e,t,r,n)}function KJe(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function JJe(){return Math.random().toString(36).substr(2,8)}function ume(n){return{usr:n.state,key:n.key}}function sv(n,e,t,r){return t===void 0&&(t=null),cu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?id(e):e,{state:t,key:e&&e.key||r||JJe()})}function v0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function id(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Vw(n){let e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:v0(n);return new URL(t,e)}function XJe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Eu.Pop,l=null;function f(){a=Eu.Pop,l&&l({action:a,location:b.location})}function p(F,D){a=Eu.Push;let M=sv(b.location,F,D);t&&t(M,F);let q=ume(M),N=b.createHref(M);try{o.pushState(q,"",N)}catch{i.location.assign(N)}s&&l&&l({action:a,location:b.location})}function v(F,D){a=Eu.Replace;let M=sv(b.location,F,D);t&&t(M,F);let q=ume(M),N=b.createHref(M);o.replaceState(q,"",N),s&&l&&l({action:a,location:b.location})}let b={get action(){return a},get location(){return n(i,o)},listen(F){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ome,f),l=F,()=>{i.removeEventListener(ome,f),l=null}},createHref(F){return e(i,F)},encodeLocation(F){let D=Vw(v0(F));return cu({},F,{pathname:D.pathname,search:D.search,hash:D.hash})},push:p,replace:v,go(F){return o.go(F)}};return b}var Cc;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Cc||(Cc={}));function ZJe(n){return n.index===!0}function lme(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((r,i)=>{let s=[...e,i],o=typeof r.id=="string"?r.id:s.join("-");return Qs(r.index!==!0||!r.children,"Cannot specify children on an index route"),Qs(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),ZJe(r)?cu({},r,{id:o}):cu({},r,{id:o,children:r.children?lme(r.children,s,t):void 0})})}function Ay(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?id(e):e,i=lK(r.pathname||"/",t);if(i==null)return null;let s=cme(n);eXe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=lXe(s[a],fXe(i));return o}function cme(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(Qs(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=_p([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(Qs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),cme(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:aXe(a,i.index),routesMeta:l})}),e}function eXe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uXe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var tXe=/^:\w+$/,nXe=3,rXe=2,iXe=1,sXe=10,oXe=-2,fme=n=>n==="*";function aXe(n,e){let t=n.split("/"),r=t.length;return t.some(fme)&&(r+=oXe),e&&(r+=rXe),t.filter(i=>!fme(i)).reduce((i,s)=>i+(tXe.test(s)?nXe:s===""?iXe:sXe),r)}function uXe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function lXe(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=cL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},f);if(!p)return null;Object.assign(r,p.params);let v=a.route;s.push({params:r,pathname:_p([i,p.pathname]),pathnameBase:pXe(_p([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=_p([i,p.pathnameBase]))}return s}function cL(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cXe(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((f,p,v)=>{if(p==="*"){let b=a[v]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}return f[p]=dXe(a[v]||"",p),f},{}),pathname:s,pathnameBase:o,pattern:n}}function cXe(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),cK(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fXe(n){try{return decodeURI(n)}catch(e){return cK(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function dXe(n,e){try{return decodeURIComponent(n)}catch(t){return cK(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function lK(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Qs(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function cK(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function fK(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?id(n):n;return{pathname:t?t.startsWith("/")?t:hXe(t,e):e,search:mXe(r),hash:xXe(i)}}function hXe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dK(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ww(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fL(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=id(n):(i=cu({},n),Qs(!i.pathname||!i.pathname.includes("?"),dK("?","pathname","search",i)),Qs(!i.pathname||!i.pathname.includes("#"),dK("#","pathname","hash",i)),Qs(!i.search||!i.search.includes("#"),dK("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let v=e.length-1;if(o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}a=v>=0?e[v]:"/"}let l=fK(i,a),f=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(f||p)&&(l.pathname+="/"),l}var _p=n=>n.join("/").replace(/\/\/+/g,"/"),pXe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mXe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xXe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;var aE=class extends Error{},dme=class{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,Qs(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let t;this.abortPromise=new Promise((i,s)=>t=s),this.controller=new AbortController;let r=()=>t(new aE("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((i,s)=>{let[o,a]=s;return Object.assign(i,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let r=Promise.race([t,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,i){if(this.controller.signal.aborted&&r instanceof aE)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();let s=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),s&&s(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),s&&s(!1),i)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((t,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return t}get done(){return this.pendingKeys.size===0}get unwrappedData(){return Qs(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,i]=t;return Object.assign(e,{[r]:yXe(i)})},{})}};function gXe(n){return n instanceof Promise&&n._tracked===!0}function yXe(n){if(!gXe(n))return n;if(n._error)throw n._error;return n._data}var ov=class{constructor(e,t,r){this.status=e,this.statusText=t||"",this.data=r}};function Qw(n){return n instanceof ov}var hK={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},vXe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_Xe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",bXe=!_Xe;function pK(n){Qs(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=lme(n.routes),t=null,r=new Set,i=null,s=null,o=null,a=!1,l=Ay(e,n.history.location,n.basename),f=null;if(l==null){let{matches:te,route:Ae,error:Xe}=vme(e);l=te,f={[Ae.id]:Xe}}let p=!l.some(te=>te.route.loader)||n.hydrationData!=null,v,b={historyAction:n.history.action,location:n.history.location,matches:l,initialized:p,navigation:hK,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||f,fetchers:new Map},F=Eu.Pop,D=!1,M,q=!1,N=!1,B=[],I=[],z=new Map,ie=0,L=-1,Y=new Map,fe=new Set,me=new Map,Be=new Map;function tt(){return t=n.history.listen(te=>{let{action:Ae,location:Xe}=te;return Ke(Ae,Xe)}),b.initialized||Ke(Eu.Pop,b.location),v}function st(){t&&t(),r.clear(),M&&M.abort(),b.fetchers.forEach((te,Ae)=>Rt(Ae))}function Qe(te){return r.add(te),()=>r.delete(te)}function mt(te){b=cu({},b,te),r.forEach(Ae=>Ae(b))}function Lt(te,Ae){var Xe;let ot=b.actionData!=null&&b.navigation.formMethod!=null&&b.navigation.state==="loading"&&((Xe=b.navigation.formAction)==null?void 0:Xe.split("?")[0])===te.pathname,Ct=Ae.loaderData?{loaderData:xK(b.loaderData,Ae.loaderData,Ae.matches||[])}:{};mt(cu({},ot?{}:{actionData:null},Ae,Ct,{historyAction:F,location:te,initialized:!0,navigation:hK,revalidation:"idle",restoreScrollPosition:b.navigation.formData?!1:Ve(te,Ae.matches||b.matches),preventScrollReset:D})),q||F===Eu.Pop||(F===Eu.Push?n.history.push(te,te.state):F===Eu.Replace&&n.history.replace(te,te.state)),F=Eu.Pop,D=!1,q=!1,N=!1,B=[],I=[]}async function je(te,Ae){if(typeof te=="number"){n.history.go(te);return}let{path:Xe,submission:ot,error:Ct}=hme(te,Ae),$t=sv(b.location,Xe,Ae&&Ae.state);$t=n.history.encodeLocation($t);let Ut=(Ae&&Ae.replace)===!0||ot!=null?Eu.Replace:Eu.Push,sn=Ae&&"preventScrollReset"in Ae?Ae.preventScrollReset===!0:void 0;return await Ke(Ut,$t,{submission:ot,pendingError:Ct,preventScrollReset:sn,replace:Ae&&Ae.replace})}function Z(){if(un(),mt({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Ke(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Ke(F||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function Ke(te,Ae,Xe){M&&M.abort(),M=null,F=te,q=(Xe&&Xe.startUninterruptedRevalidation)===!0,Ye(b.location,b.matches),D=(Xe&&Xe.preventScrollReset)===!0;let ot=Xe&&Xe.overrideNavigation,Ct=Ay(e,Ae,n.basename);if(!Ct){let{matches:nn,route:An,error:$n}=vme(e);xe(),Lt(Ae,{matches:nn,loaderData:{},errors:{[An.id]:$n}});return}if(TXe(b.location,Ae)){Lt(Ae,{matches:Ct});return}M=new AbortController;let $t=Yw(Ae,M.signal,Xe&&Xe.submission),Ut,sn;if(Xe&&Xe.pendingError)sn={[uE(Ct).route.id]:Xe.pendingError};else if(Xe&&Xe.submission){let nn=await _e($t,Ae,Xe.submission,Ct,{replace:Xe.replace});if(nn.shortCircuited)return;Ut=nn.pendingActionData,sn=nn.pendingActionError,ot=cu({state:"loading",location:Ae},Xe.submission)}let{shortCircuited:ln,loaderData:cn,errors:Ft}=await De($t,Ae,Ct,ot,Xe&&Xe.submission,Xe&&Xe.replace,Ut,sn);ln||(M=null,Lt(Ae,{matches:Ct,loaderData:cn,errors:Ft}))}async function _e(te,Ae,Xe,ot,Ct){un();let $t=cu({state:"submitting",location:Ae},Xe);mt({navigation:$t});let Ut,sn=Tme(ot,Ae);if(!sn.route.action)Ut=_me(Ae);else if(Ut=await Gw("action",te,sn,ot,v.basename),te.signal.aborted)return{shortCircuited:!0};if(lE(Ut)){let ln=cu({state:"loading",location:sv(b.location,Ut.location)},Xe);return await Bt(Ut,ln,Ct&&Ct.replace),{shortCircuited:!0}}if(Kw(Ut)){let ln=uE(ot,sn.route.id);return(Ct&&Ct.replace)!==!0&&(F=Eu.Push),{pendingActionError:{[ln.route.id]:Ut.error}}}if(av(Ut))throw new Error("defer() is not supported in actions");return{pendingActionData:{[sn.route.id]:Ut.data}}}async function De(te,Ae,Xe,ot,Ct,$t,Ut,sn){let ln=ot;ln||(ln={state:"loading",location:Ae,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[cn,Ft]=pme(b,Xe,Ct,Ae,N,B,I,Ut,sn,me);if(xe(Dt=>!(Xe&&Xe.some(lt=>lt.route.id===Dt))||cn&&cn.some(lt=>lt.route.id===Dt)),cn.length===0&&Ft.length===0)return Lt(Ae,{matches:Xe,loaderData:xK(b.loaderData,{},Xe),errors:sn||null,actionData:Ut||null}),{shortCircuited:!0};q||(Ft.forEach(Dt=>{let[lt]=Dt,ct=b.fetchers.get(lt),Yt={state:"loading",data:ct&&ct.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(lt,Yt)}),mt(cu({navigation:ln,actionData:Ut||b.actionData||null},Ft.length>0?{fetchers:new Map(b.fetchers)}:{}))),L=++ie,Ft.forEach(Dt=>{let[lt]=Dt;return z.set(lt,M)});let{results:nn,loaderResults:An,fetcherResults:$n}=await _t(b.matches,Xe,cn,Ft,te);if(te.signal.aborted)return{shortCircuited:!0};Ft.forEach(Dt=>{let[lt]=Dt;return z.delete(lt)});let Cn=bme(nn);if(Cn){let Dt=mK(b,Cn);return await Bt(Cn,Dt,$t),{shortCircuited:!0}}let{loaderData:Fe,errors:qe}=yme(b,Xe,cn,An,sn,Ft,$n,Be);Be.forEach((Dt,lt)=>{Dt.subscribe(ct=>{(ct||Dt.done)&&Be.delete(lt)})}),ve();let Ce=Oe(L);return cu({loaderData:Fe,errors:qe},Ce||Ft.length>0?{fetchers:new Map(b.fetchers)}:{})}function be(te){return b.fetchers.get(te)||vXe}function de(te,Ae,Xe,ot){if(bXe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(te)&&Gt(te);let Ct=Ay(e,Xe,n.basename);if(!Ct){Tt(te,Ae,new ov(404,"Not Found",null));return}let{path:$t,submission:Ut}=hme(Xe,ot,!0),sn=Tme(Ct,$t);if(Ut){Ge(te,Ae,$t,sn,Ct,Ut);return}me.set(te,[$t,sn,Ct]),rt(te,Ae,$t,sn,Ct)}async function Ge(te,Ae,Xe,ot,Ct,$t){if(un(),me.delete(te),!ot.route.action){let{error:bn}=_me(Xe);Tt(te,Ae,bn);return}let Ut=b.fetchers.get(te),sn=cu({state:"submitting"},$t,{data:Ut&&Ut.data});b.fetchers.set(te,sn),mt({fetchers:new Map(b.fetchers)});let ln=new AbortController,cn=Yw(Xe,ln.signal,$t);z.set(te,ln);let Ft=await Gw("action",cn,ot,Ct,v.basename);if(cn.signal.aborted){z.get(te)===ln&&z.delete(te);return}if(lE(Ft)){z.delete(te),fe.add(te);let bn=cu({state:"loading"},$t,{data:void 0});b.fetchers.set(te,bn),mt({fetchers:new Map(b.fetchers)});let zn=cu({state:"loading",location:sv(b.location,Ft.location)},$t);await Bt(Ft,zn);return}if(Kw(Ft)){Tt(te,Ae,Ft.error);return}av(Ft)&&Qs(!1,"defer() is not supported in actions");let nn=b.navigation.location||b.location,An=Yw(nn,ln.signal),$n=b.navigation.state!=="idle"?Ay(e,b.navigation.location,n.basename):b.matches;Qs($n,"Didn't find any matches after fetcher action");let Cn=++ie;Y.set(te,Cn);let Fe=cu({state:"loading",data:Ft.data},$t);b.fetchers.set(te,Fe);let[qe,Ce]=pme(b,$n,$t,nn,N,B,I,{[ot.route.id]:Ft.data},void 0,me);Ce.filter(bn=>{let[zn]=bn;return zn!==te}).forEach(bn=>{let[zn]=bn,He=b.fetchers.get(zn),ht={state:"loading",data:He&&He.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(zn,ht),z.set(zn,ln)}),mt({fetchers:new Map(b.fetchers)});let{results:Dt,loaderResults:lt,fetcherResults:ct}=await _t(b.matches,$n,qe,Ce,An);if(ln.signal.aborted)return;Y.delete(te),z.delete(te),Ce.forEach(bn=>{let[zn]=bn;return z.delete(zn)});let Yt=bme(Dt);if(Yt){let bn=mK(b,Yt);await Bt(Yt,bn);return}let{loaderData:qt,errors:gn}=yme(b,b.matches,qe,lt,void 0,Ce,ct,Be),kn={state:"idle",data:Ft.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(te,kn);let qn=Oe(Cn);b.navigation.state==="loading"&&Cn>L?(Qs(F,"Expected pending action"),M&&M.abort(),Lt(b.navigation.location,{matches:$n,loaderData:qt,errors:gn,fetchers:new Map(b.fetchers)})):(mt(cu({errors:gn,loaderData:xK(b.loaderData,qt,$n)},qn?{fetchers:new Map(b.fetchers)}:{})),N=!1)}async function rt(te,Ae,Xe,ot,Ct){let $t=b.fetchers.get(te),Ut={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:$t&&$t.data};b.fetchers.set(te,Ut),mt({fetchers:new Map(b.fetchers)});let sn=new AbortController,ln=Yw(Xe,sn.signal);z.set(te,sn);let cn=await Gw("loader",ln,ot,Ct,v.basename);if(av(cn)&&(cn=await Cme(cn,ln.signal,!0)||cn),z.get(te)===sn&&z.delete(te),ln.signal.aborted)return;if(lE(cn)){let nn=mK(b,cn);await Bt(cn,nn);return}if(Kw(cn)){let nn=uE(b.matches,Ae);b.fetchers.delete(te),mt({fetchers:new Map(b.fetchers),errors:{[nn.route.id]:cn.error}});return}Qs(!av(cn),"Unhandled fetcher deferred data");let Ft={state:"idle",data:cn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(te,Ft),mt({fetchers:new Map(b.fetchers)})}async function Bt(te,Ae,Xe){te.revalidate&&(N=!0),Qs(Ae.location,"Expected a location on the redirect navigation"),M=null;let ot=Xe===!0?Eu.Replace:Eu.Push;await Ke(ot,Ae.location,{overrideNavigation:Ae})}async function _t(te,Ae,Xe,ot,Ct){let $t=await Promise.all([...Xe.map(ln=>Gw("loader",Ct,ln,Ae,v.basename)),...ot.map(ln=>{let[,cn,Ft,nn]=ln;return Gw("loader",Yw(cn,Ct.signal),Ft,nn,v.basename)})]),Ut=$t.slice(0,Xe.length),sn=$t.slice(Xe.length);return await Promise.all([Sme(te,Xe,Ut,Ct.signal,!1,b.loaderData),Sme(te,ot.map(ln=>{let[,,cn]=ln;return cn}),sn,Ct.signal,!0)]),{results:$t,loaderResults:Ut,fetcherResults:sn}}function un(){N=!0,B.push(...xe()),me.forEach((te,Ae)=>{z.has(Ae)&&(I.push(Ae),Gt(Ae))})}function Tt(te,Ae,Xe){let ot=uE(b.matches,Ae);Rt(te),mt({errors:{[ot.route.id]:Xe},fetchers:new Map(b.fetchers)})}function Rt(te){z.has(te)&&Gt(te),me.delete(te),Y.delete(te),fe.delete(te),b.fetchers.delete(te)}function Gt(te){let Ae=z.get(te);Qs(Ae,"Expected fetch controller: "+te),Ae.abort(),z.delete(te)}function xt(te){for(let Ae of te){let Xe=be(Ae),ot={state:"idle",data:Xe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(Ae,ot)}}function ve(){let te=[];for(let Ae of fe){let Xe=b.fetchers.get(Ae);Qs(Xe,"Expected fetcher: "+Ae),Xe.state==="loading"&&(fe.delete(Ae),te.push(Ae))}xt(te)}function Oe(te){let Ae=[];for(let[Xe,ot]of Y)if(ot<te){let Ct=b.fetchers.get(Xe);Qs(Ct,"Expected fetcher: "+Xe),Ct.state==="loading"&&(Gt(Xe),Y.delete(Xe),Ae.push(Xe))}return xt(Ae),Ae.length>0}function xe(te){let Ae=[];return Be.forEach((Xe,ot)=>{(!te||te(ot))&&(Xe.cancel(),Ae.push(ot),Be.delete(ot))}),Ae}function le(te,Ae,Xe){if(i=te,o=Ae,s=Xe||(ot=>ot.key),!a&&b.navigation===hK){a=!0;let ot=Ve(b.location,b.matches);ot!=null&&mt({restoreScrollPosition:ot})}return()=>{i=null,o=null,s=null}}function Ye(te,Ae){if(i&&s&&o){let Xe=Ae.map(Ct=>Ame(Ct,b.loaderData)),ot=s(te,Xe)||te.key;i[ot]=o()}}function Ve(te,Ae){if(i&&s&&o){let Xe=Ae.map($t=>Ame($t,b.loaderData)),ot=s(te,Xe)||te.key,Ct=i[ot];if(typeof Ct=="number")return Ct}return null}return v={get basename(){return n.basename},get state(){return b},get routes(){return e},initialize:tt,subscribe:Qe,enableScrollRestoration:le,navigate:je,fetch:de,revalidate:Z,createHref:te=>n.history.createHref(te),getFetcher:be,deleteFetcher:Rt,dispose:st,_internalFetchControllers:z,_internalActiveDeferreds:Be},v}var EXe=new Set(["POST","PUT","PATCH","DELETE"]),lVt=new Set(["GET","HEAD",...EXe]);function hme(n,e,t){t===void 0&&(t=!1);let r=typeof n=="string"?n:v0(n);if(!e||!("formMethod"in e)&&!("formData"in e))return{path:r};if(e.formMethod!=null&&e.formMethod!=="get")return{path:r,submission:{formMethod:e.formMethod,formAction:Eme(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};if(!e.formData)return{path:r};let i=id(r);try{let s=gme(e.formData);t&&i.search&&wme(i.search)&&s.append("index",""),i.search="?"+s}catch{return{path:r,error:new ov(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:v0(i)}}function mK(n,e){let{formMethod:t,formAction:r,formEncType:i,formData:s}=n.navigation;return{state:"loading",location:sv(n.location,e.location),formMethod:t||void 0,formAction:r||void 0,formEncType:i||void 0,formData:s||void 0}}function SXe(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function pme(n,e,t,r,i,s,o,a,l,f){let p=l?Object.values(l)[0]:a?Object.values(a)[0]:null,v=l?Object.keys(l)[0]:void 0,F=SXe(e,v).filter((M,q)=>M.route.loader!=null&&(CXe(n.loaderData,n.matches[q],M)||s.some(N=>N===M.route.id)||xme(n.location,n.matches[q],t,r,M,i,p))),D=[];return f&&f.forEach((M,q)=>{let[N,B,I]=M;o.includes(q)?D.push([q,N,B,I]):i&&xme(N,B,t,N,B,i,p)&&D.push([q,N,B,I])}),[F,D]}function CXe(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function mme(n,e){let t=n.route.path;return n.pathname!==e.pathname||t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function xme(n,e,t,r,i,s,o){let a=Vw(n),l=e.params,f=Vw(r),p=i.params,v=mme(e,i)||a.toString()===f.toString()||a.search!==f.search||s;if(i.route.shouldRevalidate){let b=i.route.shouldRevalidate(cu({currentUrl:a,currentParams:l,nextUrl:f,nextParams:p},t,{actionResult:o,defaultShouldRevalidate:v}));if(typeof b=="boolean")return b}return v}async function Gw(n,e,t,r,i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);let a,l,f,p=new Promise((b,F)=>f=F),v=()=>f();e.signal.addEventListener("abort",v);try{let b=t.route[n];Qs(b,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),l=await Promise.race([b({request:e,params:t.params}),p])}catch(b){a=Cc.error,l=b}finally{e.signal.removeEventListener("abort",v)}if(l instanceof Response){let b=l.status;if(b>=300&&b<=399){let M=l.headers.get("Location");Qs(M,"Redirects returned/thrown from loaders/actions must have a Location header");let q=r.slice(0,r.indexOf(t)+1),N=Ww(q).map(z=>z.pathnameBase),B=Vw(e.url).pathname,I=fL(M,N,B);if(Qs(v0(I),"Unable to resolve redirect location: "+l.headers.get("Location")),i){let z=I.pathname;I.pathname=z==="/"?i:_p([i,z])}if(M=v0(I),s)throw l.headers.set("Location",M),l;return{type:Cc.redirect,status:b,location:M,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:a||Cc.data,response:l};let F,D=l.headers.get("Content-Type");return D&&D.startsWith("application/json")?F=await l.json():F=await l.text(),a===Cc.error?{type:a,error:new ov(b,l.statusText,F),headers:l.headers}:{type:Cc.data,data:F,statusCode:l.status,headers:l.headers}}return a===Cc.error?{type:a,error:l}:l instanceof dme?{type:Cc.deferred,deferredData:l}:{type:Cc.data,data:l}}function Yw(n,e,t){let r=Vw(Eme(n)).toString(),i={signal:e};if(t){let{formMethod:s,formEncType:o,formData:a}=t;i.method=s.toUpperCase(),i.body=o==="application/x-www-form-urlencoded"?gme(a):a}return new Request(r,i)}function gme(n){let e=new URLSearchParams;for(let[t,r]of n.entries())Qs(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,r);return e}function wXe(n,e,t,r,i){let s={},o=null,a,l=!1,f={};return t.forEach((p,v)=>{let b=e[v].route.id;if(Qs(!lE(p),"Cannot handle redirect results in processLoaderData"),Kw(p)){let F=uE(n,b),D=p.error;r&&(D=Object.values(r)[0],r=void 0),o=Object.assign(o||{},{[F.route.id]:D}),l||(l=!0,a=Qw(p.error)?p.error.status:500),p.headers&&(f[b]=p.headers)}else av(p)?(i&&i.set(b,p.deferredData),s[b]=p.deferredData.data):(s[b]=p.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(f[b]=p.headers))}),r&&(o=r),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:f}}function yme(n,e,t,r,i,s,o,a){let{loaderData:l,errors:f}=wXe(e,t,r,i,a);for(let p=0;p<s.length;p++){let[v,,b]=s[p];Qs(o!==void 0&&o[p]!==void 0,"Did not find corresponding fetcher result");let F=o[p];if(Kw(F)){let D=uE(n.matches,b.route.id);f&&f[D.route.id]||(f=cu({},f,{[D.route.id]:F.error})),n.fetchers.delete(v)}else{if(lE(F))throw new Error("Unhandled fetcher revalidation redirect");if(av(F))throw new Error("Unhandled fetcher deferred data");{let D={state:"idle",data:F.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};n.fetchers.set(v,D)}}}return{loaderData:l,errors:f}}function xK(n,e,t){let r=cu({},e);return t.forEach(i=>{let s=i.route.id;e[s]===void 0&&n[s]!==void 0&&(r[s]=n[s])}),r}function uE(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function AXe(n,e,t){let r=n.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-"+e+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new ov(e,t,null)}}function vme(n){return AXe(n,404,"Not Found")}function _me(n){let e=typeof n=="string"?n:v0(n);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+e+"]")),{type:Cc.error,error:new ov(405,"Method Not Allowed","")}}function bme(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(lE(t))return t}}function Eme(n){let e=typeof n=="string"?id(n):n;return v0(cu({},e,{hash:""}))}function TXe(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function av(n){return n.type===Cc.deferred}function Kw(n){return n.type===Cc.error}function lE(n){return(n&&n.type)===Cc.redirect}async function Sme(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],f=n.find(v=>v.route.id===l.route.id),p=f!=null&&!mme(f,l)&&(s&&s[l.route.id])!==void 0;av(a)&&(i||p)&&await Cme(a,r,i).then(v=>{v&&(t[o]=v||t[o])})}}async function Cme(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Cc.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Cc.error,error:i}}return{type:Cc.data,data:n.deferredData.data}}}function wme(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ame(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function Tme(n,e){let t=typeof e=="string"?id(e).search:e.search;if(n[n.length-1].route.index&&wme(t||""))return n[n.length-1];let r=Ww(n);return r[r.length-1]}var fi=Jn(ur());function dL(){return dL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dL.apply(this,arguments)}function RXe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var LXe=typeof Object.is=="function"?Object.is:RXe,{useState:kXe,useEffect:IXe,useLayoutEffect:MXe,useDebugValue:PXe}=fi;function BXe(n,e,t){let r=e(),[{inst:i},s]=kXe({inst:{value:r,getSnapshot:e}});return MXe(()=>{i.value=r,i.getSnapshot=e,gK(i)&&s({inst:i})},[n,r,e]),IXe(()=>(gK(i)&&s({inst:i}),n(()=>{gK(i)&&s({inst:i})})),[n]),PXe(r),r}function gK(n){let e=n.getSnapshot,t=n.value;try{let r=e();return!LXe(t,r)}catch{return!0}}function jXe(n,e,t){return e()}var qXe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",UXe=!qXe,$Xe=UXe?jXe:BXe,zXe="useSyncExternalStore"in fi?(n=>n.useSyncExternalStore)(fi):$Xe,Fme=fi.createContext(null),hL=fi.createContext(null),Jw=fi.createContext(null);var Xw=fi.createContext(null),Zw=fi.createContext(null),Ty=fi.createContext({outlet:null,matches:[]}),Dme=fi.createContext(null);function yK(n,e){let{relative:t}=e===void 0?{}:e;cE()||Qs(!1);let{basename:r,navigator:i}=fi.useContext(Xw),{hash:s,pathname:o,search:a}=pL(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:_p([r,o])),i.createHref({pathname:l,search:a,hash:s})}function cE(){return fi.useContext(Zw)!=null}function uv(){return cE()||Qs(!1),fi.useContext(Zw).location}function Fy(){cE()||Qs(!1);let{basename:n,navigator:e}=fi.useContext(Xw),{matches:t}=fi.useContext(Ty),{pathname:r}=uv(),i=JSON.stringify(Ww(t).map(a=>a.pathnameBase)),s=fi.useRef(!1);return fi.useEffect(()=>{s.current=!0}),fi.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let f=fL(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(f.pathname=f.pathname==="/"?n:_p([n,f.pathname])),(l.replace?e.replace:e.push)(f,l.state,l)},[n,e,i,r])}function vK(){let{matches:n}=fi.useContext(Ty),e=n[n.length-1];return e?e.params:{}}function pL(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=fi.useContext(Ty),{pathname:i}=uv(),s=JSON.stringify(Ww(r).map(o=>o.pathnameBase));return fi.useMemo(()=>fL(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function Ome(n,e){cE()||Qs(!1);let t=fi.useContext(Jw),{matches:r}=fi.useContext(Ty),i=r[r.length-1],s=i?i.params:{},o=i?i.pathname:"/",a=i?i.pathnameBase:"/",l=i&&i.route,f=uv(),p;if(e){var v;let q=typeof e=="string"?id(e):e;a==="/"||((v=q.pathname)==null?void 0:v.startsWith(a))||Qs(!1),p=q}else p=f;let b=p.pathname||"/",F=a==="/"?b:b.slice(a.length)||"/",D=Ay(n,{pathname:F}),M=WXe(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},s,q.params),pathname:_p([a,q.pathname]),pathnameBase:q.pathnameBase==="/"?a:_p([a,q.pathnameBase])})),r,t||void 0);return e&&M?fi.createElement(Zw.Provider,{value:{location:dL({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Eu.Pop}},M):M}function HXe(){let n=mL(),e=Qw(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return fi.createElement(fi.Fragment,null,fi.createElement("h2",null,"Unhandled Thrown Error!"),fi.createElement("h3",{style:{fontStyle:"italic"}},e),t?fi.createElement("pre",{style:i},t):null,fi.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),fi.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",fi.createElement("code",{style:s},"errorElement")," props on\xA0",fi.createElement("code",{style:s},"<Route>")))}var Nme=class extends fi.Component{constructor(e){super(e);this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?fi.createElement(Dme.Provider,{value:this.state.error,children:this.props.component}):this.props.children}};function VXe(n){let{routeContext:e,match:t,children:r}=n,i=fi.useContext(Fme);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),fi.createElement(Ty.Provider,{value:e},r)}function WXe(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Qs(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,f=t?o.route.errorElement||fi.createElement(HXe,null):null,p=()=>fi.createElement(VXe,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))}},l?f:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?fi.createElement(Nme,{location:t.location,component:f,error:l,children:p()}):p()},null)}var Rme;(function(n){n.UseRevalidator="useRevalidator"})(Rme||(Rme={}));var _K;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(_K||(_K={}));function QXe(n){let e=fi.useContext(Jw);return e||Qs(!1),e}function mL(){var n;let e=fi.useContext(Dme),t=QXe(_K.UseRouteError),r=fi.useContext(Ty),i=r.matches[r.matches.length-1];return e||(r||Qs(!1),i.route.id||Qs(!1),(n=t.errors)==null?void 0:n[i.route.id])}function bK(n){let{fallbackElement:e,router:t}=n,r=zXe(t.subscribe,()=>t.state,()=>t.state),i=fi.useMemo(()=>({createHref:t.createHref,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[t]),s=t.basename||"/";return fi.createElement(hL.Provider,{value:{router:t,navigator:i,static:!1,basename:s}},fi.createElement(Jw.Provider,{value:r},fi.createElement(EK,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:i},t.state.initialized?fi.createElement(kme,null):e)))}function Lme(n){Qs(!1)}function EK(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Eu.Pop,navigator:s,static:o=!1}=n;cE()&&Qs(!1);let a=e.replace(/^\/*/,"/"),l=fi.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=id(r));let{pathname:f="/",search:p="",hash:v="",state:b=null,key:F="default"}=r,D=fi.useMemo(()=>{let M=lK(f,a);return M==null?null:{pathname:M,search:p,hash:v,state:b,key:F}},[a,f,p,v,b,F]);return D==null?null:fi.createElement(Xw.Provider,{value:l},fi.createElement(Zw.Provider,{children:t,value:{location:D,navigationType:i}}))}function kme(n){let{children:e,location:t}=n,r=fi.useContext(hL),i=r&&!e?r.router.routes:eA(e);return Ome(i,t)}var Ime;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(Ime||(Ime={}));var pVt=new Promise(()=>{});function eA(n,e){e===void 0&&(e=[]);let t=[];return fi.Children.forEach(n,(r,i)=>{if(!fi.isValidElement(r))return;if(r.type===fi.Fragment){t.push.apply(t,eA(r.props.children,e));return}r.type!==Lme&&Qs(!1),!r.props.index||!r.props.children||Qs(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=eA(r.props.children,s)),t.push(o)}),t}function xL(n){return n.map(e=>{let t=dL({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=xL(t.children)),t})}function SK(){return SK=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SK.apply(this,arguments)}function KXe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function JXe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XXe(n,e){return n.button===0&&(!e||e==="_self")&&!JXe(n)}function CK(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function ZXe(n,e){let t=CK(n);for(let r of e.keys())t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)});return t}var eZe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Mme(n,e){var t;return pK({basename:e==null?void 0:e.basename,history:ame({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||((t=window)==null?void 0:t.__staticRouterHydrationData),routes:xL(n)}).initialize()}var Pme=Lf.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:f,preventScrollReset:p}=e,v=KXe(e,eZe),b=yK(f,{relative:i}),F=tZe(f,{replace:o,state:a,target:l,preventScrollReset:p,relative:i});function D(M){r&&r(M),M.defaultPrevented||F(M)}return Lf.createElement("a",SK({},v,{href:b,onClick:s?r:D,ref:t,target:l}))});var Bme;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(Bme||(Bme={}));var jme;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(jme||(jme={}));function tZe(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Fy(),l=uv(),f=pL(n,{relative:o});return Lf.useCallback(p=>{if(XXe(p,t)){p.preventDefault();let v=r!==void 0?r:v0(l)===v0(f);a(n,{replace:v,state:i,preventScrollReset:s,relative:o})}},[l,a,f,r,i,t,n,s,o])}function qme(n){let e=Lf.useRef(CK(n)),t=uv(),r=Lf.useMemo(()=>ZXe(t.search,e.current),[t.search]),i=Fy(),s=Lf.useCallback((o,a)=>{let l=CK(typeof o=="function"?o(r):o);i("?"+l,a)},[i,r]);return[r,s]}d();d();d();var J6=Jn(ur());d();var PL=Jn(Hme()),Va=Jn(ur()),d2e=Jn(Wme());d();function iZe(n){function e(de,Ge,rt,Bt,_t){for(var un=0,Tt=0,Rt=0,Gt=0,xt,ve,Oe=0,xe=0,le,Ye=le=xt=0,Ve=0,te=0,Ae=0,Xe=0,ot=rt.length,Ct=ot-1,$t,Ut="",sn="",ln="",cn="",Ft;Ve<ot;){if(ve=rt.charCodeAt(Ve),Ve===Ct&&Tt+Gt+Rt+un!==0&&(Tt!==0&&(ve=Tt===47?10:47),Gt=Rt=un=0,ot++,Ct++),Tt+Gt+Rt+un===0){if(Ve===Ct&&(0<te&&(Ut=Ut.replace(b,"")),0<Ut.trim().length)){switch(ve){case 32:case 9:case 59:case 13:case 10:break;default:Ut+=rt.charAt(Ve)}ve=59}switch(ve){case 123:for(Ut=Ut.trim(),xt=Ut.charCodeAt(0),le=1,Xe=++Ve;Ve<ot;){switch(ve=rt.charCodeAt(Ve)){case 123:le++;break;case 125:le--;break;case 47:switch(ve=rt.charCodeAt(Ve+1)){case 42:case 47:e:{for(Ye=Ve+1;Ye<Ct;++Ye)switch(rt.charCodeAt(Ye)){case 47:if(ve===42&&rt.charCodeAt(Ye-1)===42&&Ve+2!==Ye){Ve=Ye+1;break e}break;case 10:if(ve===47){Ve=Ye+1;break e}}Ve=Ye}}break;case 91:ve++;case 40:ve++;case 34:case 39:for(;Ve++<Ct&&rt.charCodeAt(Ve)!==ve;);}if(le===0)break;Ve++}switch(le=rt.substring(Xe,Ve),xt===0&&(xt=(Ut=Ut.replace(v,"").trim()).charCodeAt(0)),xt){case 64:switch(0<te&&(Ut=Ut.replace(b,"")),ve=Ut.charCodeAt(1),ve){case 100:case 109:case 115:case 45:te=Ge;break;default:te=je}if(le=e(Ge,te,le,ve,_t+1),Xe=le.length,0<Ke&&(te=t(je,Ut,Ae),Ft=a(3,le,te,Ge,Qe,st,Xe,ve,_t,Bt),Ut=te.join(""),Ft!==void 0&&(Xe=(le=Ft.trim()).length)===0&&(ve=0,le="")),0<Xe)switch(ve){case 115:Ut=Ut.replace(L,o);case 100:case 109:case 45:le=Ut+"{"+le+"}";break;case 107:Ut=Ut.replace(B,"$1 $2"),le=Ut+"{"+le+"}",le=Lt===1||Lt===2&&s("@"+le,3)?"@-webkit-"+le+"@"+le:"@"+le;break;default:le=Ut+le,Bt===112&&(le=(sn+=le,""))}else le="";break;default:le=e(Ge,t(Ge,Ut,Ae),le,Bt,_t+1)}ln+=le,le=Ae=te=Ye=xt=0,Ut="",ve=rt.charCodeAt(++Ve);break;case 125:case 59:if(Ut=(0<te?Ut.replace(b,""):Ut).trim(),1<(Xe=Ut.length))switch(Ye===0&&(xt=Ut.charCodeAt(0),xt===45||96<xt&&123>xt)&&(Xe=(Ut=Ut.replace(" ",":")).length),0<Ke&&(Ft=a(1,Ut,Ge,de,Qe,st,sn.length,Bt,_t,Bt))!==void 0&&(Xe=(Ut=Ft.trim()).length)===0&&(Ut="\0\0"),xt=Ut.charCodeAt(0),ve=Ut.charCodeAt(1),xt){case 0:break;case 64:if(ve===105||ve===99){cn+=Ut+rt.charAt(Ve);break}default:Ut.charCodeAt(Xe-1)!==58&&(sn+=i(Ut,xt,ve,Ut.charCodeAt(2)))}Ae=te=Ye=xt=0,Ut="",ve=rt.charCodeAt(++Ve)}}switch(ve){case 13:case 10:Tt===47?Tt=0:1+xt===0&&Bt!==107&&0<Ut.length&&(te=1,Ut+="\0"),0<Ke*De&&a(0,Ut,Ge,de,Qe,st,sn.length,Bt,_t,Bt),st=1,Qe++;break;case 59:case 125:if(Tt+Gt+Rt+un===0){st++;break}default:switch(st++,$t=rt.charAt(Ve),ve){case 9:case 32:if(Gt+un+Tt===0)switch(Oe){case 44:case 58:case 9:case 32:$t="";break;default:ve!==32&&($t=" ")}break;case 0:$t="\\0";break;case 12:$t="\\f";break;case 11:$t="\\v";break;case 38:Gt+Tt+un===0&&(te=Ae=1,$t="\f"+$t);break;case 108:if(Gt+Tt+un+mt===0&&0<Ye)switch(Ve-Ye){case 2:Oe===112&&rt.charCodeAt(Ve-3)===58&&(mt=Oe);case 8:xe===111&&(mt=xe)}break;case 58:Gt+Tt+un===0&&(Ye=Ve);break;case 44:Tt+Rt+Gt+un===0&&(te=1,$t+="\r");break;case 34:case 39:Tt===0&&(Gt=Gt===ve?0:Gt===0?ve:Gt);break;case 91:Gt+Tt+Rt===0&&un++;break;case 93:Gt+Tt+Rt===0&&un--;break;case 41:Gt+Tt+un===0&&Rt--;break;case 40:if(Gt+Tt+un===0){if(xt===0)switch(2*Oe+3*xe){case 533:break;default:xt=1}Rt++}break;case 64:Tt+Rt+Gt+un+Ye+le===0&&(le=1);break;case 42:case 47:if(!(0<Gt+un+Rt))switch(Tt){case 0:switch(2*ve+3*rt.charCodeAt(Ve+1)){case 235:Tt=47;break;case 220:Xe=Ve,Tt=42}break;case 42:ve===47&&Oe===42&&Xe+2!==Ve&&(rt.charCodeAt(Xe+2)===33&&(sn+=rt.substring(Xe,Ve+1)),$t="",Tt=0)}}Tt===0&&(Ut+=$t)}xe=Oe,Oe=ve,Ve++}if(Xe=sn.length,0<Xe){if(te=Ge,0<Ke&&(Ft=a(2,sn,te,de,Qe,st,Xe,Bt,_t,Bt),Ft!==void 0&&(sn=Ft).length===0))return cn+sn+ln;if(sn=te.join(",")+"{"+sn+"}",Lt*mt!==0){switch(Lt!==2||s(sn,2)||(mt=0),mt){case 111:sn=sn.replace(z,":-moz-$1")+sn;break;case 112:sn=sn.replace(I,"::-webkit-input-$1")+sn.replace(I,"::-moz-$1")+sn.replace(I,":-ms-input-$1")+sn}mt=0}}return cn+sn+ln}function t(de,Ge,rt){var Bt=Ge.trim().split(q);Ge=Bt;var _t=Bt.length,un=de.length;switch(un){case 0:case 1:var Tt=0;for(de=un===0?"":de[0]+" ";Tt<_t;++Tt)Ge[Tt]=r(de,Ge[Tt],rt).trim();break;default:var Rt=Tt=0;for(Ge=[];Tt<_t;++Tt)for(var Gt=0;Gt<un;++Gt)Ge[Rt++]=r(de[Gt]+" ",Bt[Tt],rt).trim()}return Ge}function r(de,Ge,rt){var Bt=Ge.charCodeAt(0);switch(33>Bt&&(Bt=(Ge=Ge.trim()).charCodeAt(0)),Bt){case 38:return Ge.replace(N,"$1"+de.trim());case 58:return de.trim()+Ge.replace(N,"$1"+de.trim());default:if(0<1*rt&&0<Ge.indexOf("\f"))return Ge.replace(N,(de.charCodeAt(0)===58?"":"$1")+de.trim())}return de+Ge}function i(de,Ge,rt,Bt){var _t=de+";",un=2*Ge+3*rt+4*Bt;if(un===944){de=_t.indexOf(":",9)+1;var Tt=_t.substring(de,_t.length-1).trim();return Tt=_t.substring(0,de).trim()+Tt+";",Lt===1||Lt===2&&s(Tt,1)?"-webkit-"+Tt+Tt:Tt}if(Lt===0||Lt===2&&!s(_t,1))return _t;switch(un){case 1015:return _t.charCodeAt(10)===97?"-webkit-"+_t+_t:_t;case 951:return _t.charCodeAt(3)===116?"-webkit-"+_t+_t:_t;case 963:return _t.charCodeAt(5)===110?"-webkit-"+_t+_t:_t;case 1009:if(_t.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+_t+_t;case 978:return"-webkit-"+_t+"-moz-"+_t+_t;case 1019:case 983:return"-webkit-"+_t+"-moz-"+_t+"-ms-"+_t+_t;case 883:if(_t.charCodeAt(8)===45)return"-webkit-"+_t+_t;if(0<_t.indexOf("image-set(",11))return _t.replace(tt,"$1-webkit-$2")+_t;break;case 932:if(_t.charCodeAt(4)===45)switch(_t.charCodeAt(5)){case 103:return"-webkit-box-"+_t.replace("-grow","")+"-webkit-"+_t+"-ms-"+_t.replace("grow","positive")+_t;case 115:return"-webkit-"+_t+"-ms-"+_t.replace("shrink","negative")+_t;case 98:return"-webkit-"+_t+"-ms-"+_t.replace("basis","preferred-size")+_t}return"-webkit-"+_t+"-ms-"+_t+_t;case 964:return"-webkit-"+_t+"-ms-flex-"+_t+_t;case 1023:if(_t.charCodeAt(8)!==99)break;return Tt=_t.substring(_t.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Tt+"-webkit-"+_t+"-ms-flex-pack"+Tt+_t;case 1005:return D.test(_t)?_t.replace(F,":-webkit-")+_t.replace(F,":-moz-")+_t:_t;case 1e3:switch(Tt=_t.substring(13).trim(),Ge=Tt.indexOf("-")+1,Tt.charCodeAt(0)+Tt.charCodeAt(Ge)){case 226:Tt=_t.replace(ie,"tb");break;case 232:Tt=_t.replace(ie,"tb-rl");break;case 220:Tt=_t.replace(ie,"lr");break;default:return _t}return"-webkit-"+_t+"-ms-"+Tt+_t;case 1017:if(_t.indexOf("sticky",9)===-1)break;case 975:switch(Ge=(_t=de).length-10,Tt=(_t.charCodeAt(Ge)===33?_t.substring(0,Ge):_t).substring(de.indexOf(":",7)+1).trim(),un=Tt.charCodeAt(0)+(Tt.charCodeAt(7)|0)){case 203:if(111>Tt.charCodeAt(8))break;case 115:_t=_t.replace(Tt,"-webkit-"+Tt)+";"+_t;break;case 207:case 102:_t=_t.replace(Tt,"-webkit-"+(102<un?"inline-":"")+"box")+";"+_t.replace(Tt,"-webkit-"+Tt)+";"+_t.replace(Tt,"-ms-"+Tt+"box")+";"+_t}return _t+";";case 938:if(_t.charCodeAt(5)===45)switch(_t.charCodeAt(6)){case 105:return Tt=_t.replace("-items",""),"-webkit-"+_t+"-webkit-box-"+Tt+"-ms-flex-"+Tt+_t;case 115:return"-webkit-"+_t+"-ms-flex-item-"+_t.replace(fe,"")+_t;default:return"-webkit-"+_t+"-ms-flex-line-pack"+_t.replace("align-content","").replace(fe,"")+_t}break;case 973:case 989:if(_t.charCodeAt(3)!==45||_t.charCodeAt(4)===122)break;case 931:case 953:if(Be.test(de)===!0)return(Tt=de.substring(de.indexOf(":")+1)).charCodeAt(0)===115?i(de.replace("stretch","fill-available"),Ge,rt,Bt).replace(":fill-available",":stretch"):_t.replace(Tt,"-webkit-"+Tt)+_t.replace(Tt,"-moz-"+Tt.replace("fill-",""))+_t;break;case 962:if(_t="-webkit-"+_t+(_t.charCodeAt(5)===102?"-ms-"+_t:"")+_t,rt+Bt===211&&_t.charCodeAt(13)===105&&0<_t.indexOf("transform",10))return _t.substring(0,_t.indexOf(";",27)+1).replace(M,"$1-webkit-$2")+_t}return _t}function s(de,Ge){var rt=de.indexOf(Ge===1?":":"{"),Bt=de.substring(0,Ge!==3?rt:10);return rt=de.substring(rt+1,de.length-1),_e(Ge!==2?Bt:Bt.replace(me,"$1"),rt,Ge)}function o(de,Ge){var rt=i(Ge,Ge.charCodeAt(0),Ge.charCodeAt(1),Ge.charCodeAt(2));return rt!==Ge+";"?rt.replace(Y," or ($1)").substring(4):"("+Ge+")"}function a(de,Ge,rt,Bt,_t,un,Tt,Rt,Gt,xt){for(var ve=0,Oe=Ge,xe;ve<Ke;++ve)switch(xe=Z[ve].call(p,de,Oe,rt,Bt,_t,un,Tt,Rt,Gt,xt)){case void 0:case!1:case!0:case null:break;default:Oe=xe}if(Oe!==Ge)return Oe}function l(de){switch(de){case void 0:case null:Ke=Z.length=0;break;default:if(typeof de=="function")Z[Ke++]=de;else if(typeof de=="object")for(var Ge=0,rt=de.length;Ge<rt;++Ge)l(de[Ge]);else De=!!de|0}return l}function f(de){return de=de.prefix,de!==void 0&&(_e=null,de?typeof de!="function"?Lt=1:(Lt=2,_e=de):Lt=0),f}function p(de,Ge){var rt=de;if(33>rt.charCodeAt(0)&&(rt=rt.trim()),be=rt,rt=[be],0<Ke){var Bt=a(-1,Ge,rt,rt,Qe,st,0,0,0,0);Bt!==void 0&&typeof Bt=="string"&&(Ge=Bt)}var _t=e(je,rt,Ge,0,0);return 0<Ke&&(Bt=a(-2,_t,rt,rt,Qe,st,_t.length,0,0,0),Bt!==void 0&&(_t=Bt)),be="",mt=0,st=Qe=1,_t}var v=/^\0+/g,b=/[\0\r\f]/g,F=/: */g,D=/zoo|gra/,M=/([,: ])(transform)/g,q=/,\r+?/g,N=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,I=/::(place)/g,z=/:(read-only)/g,ie=/[svh]\w+-[tblr]{2}/,L=/\(\s*(.*)\s*\)/g,Y=/([\s\S]*?);/g,fe=/-self|flex-/g,me=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Be=/stretch|:\s*\w+\-(?:conte|avail)/,tt=/([^-])(image-set\()/,st=1,Qe=1,mt=0,Lt=1,je=[],Z=[],Ke=0,_e=null,De=0,be="";return p.use=l,p.set=f,n!==void 0&&f(n),p}var Qme=iZe;d();var sZe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gme=sZe;var kK=Jn(e2e()),h2e=Jn(f2e());function j1(){return(j1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var p2e=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},IK=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,PL.typeOf)(n)},BL=Object.freeze([]),Dy=Object.freeze({});function tA(n){return typeof n=="function"}function m2e(n){return n.displayName||n.name||"Component"}function MK(n){return n&&typeof n.styledComponentId=="string"}var Oy=typeof process!="undefined"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled";var PK=typeof window!="undefined"&&"HTMLElement"in window,CZe=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function ax(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var wZe=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&ax(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),f=0,p=r.length;f<p;f++)this.tag.insertRule(l,r[f])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),jL=new Map,qL=new Map,nA=1,UL=function(n){if(jL.has(n))return jL.get(n);for(;qL.has(nA);)nA++;var e=nA++;return jL.set(n,e),qL.set(e,n),e},AZe=function(n){return qL.get(n)},TZe=function(n,e){e>=nA&&(nA=e+1),jL.set(n,e),qL.set(e,n)},FZe="style["+Oy+'][data-styled-version="5.3.6"]',DZe=new RegExp("^"+Oy+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),OZe=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},NZe=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(DZe);if(a){var l=0|parseInt(a[1],10),f=a[2];l!==0&&(TZe(f,l),OZe(n,f,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},BK=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},x2e=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,f=l.length;f>=0;f--){var p=l[f];if(p&&p.nodeType===1&&p.hasAttribute(Oy))return p}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Oy,"active"),r.setAttribute("data-styled-version","5.3.6");var o=BK();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},RZe=function(){function n(t){var r=this.element=x2e(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}ax(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),LZe=function(){function n(t){var r=this.element=x2e(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),kZe=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),g2e=PK,IZe={isServer:!PK,useCSSOMInjection:!CZe},rA=function(){function n(t,r,i){t===void 0&&(t=Dy),r===void 0&&(r={}),this.options=j1({},IZe,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&PK&&g2e&&(g2e=!1,function(s){for(var o=document.querySelectorAll(FZe),a=0,l=o.length;a<l;a++){var f=o[a];f&&f.getAttribute(Oy)!=="active"&&(NZe(s,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}n.registerId=function(t){return UL(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(j1({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new kZe(o):s?new RZe(o):new LZe(o),new wZe(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(UL(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(UL(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(UL(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=AZe(o);if(a!==void 0){var l=t.names.get(a),f=r.getGroup(o);if(l&&f&&l.size){var p=Oy+".g"+o+'[id="'+a+'"]',v="";l!==void 0&&l.forEach(function(b){b.length>0&&(v+=b+",")}),s+=""+f+p+'{content:"'+v+`"}/*!sc*/
`}}}return s}(this)},n}(),MZe=/(a)(d)/gi,y2e=function(n){return String.fromCharCode(n+(n>25?39:97))};function jK(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=y2e(e%52)+t;return(y2e(e%52)+t).replace(MZe,"$1-$2")}var fE=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},v2e=function(n){return fE(5381,n)};function _2e(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(tA(t)&&!MK(t))return!1}return!0}var PZe=v2e("5.3.6"),BZe=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&_2e(e),this.componentId=t,this.baseHash=fE(PZe,t),this.baseStyle=r,rA.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=lv(this.rules,e,t,r).join(""),a=jK(fE(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var f=this.rules.length,p=fE(this.baseHash,r.hash),v="",b=0;b<f;b++){var F=this.rules[b];if(typeof F=="string")v+=F;else if(F){var D=lv(F,e,t,r),M=Array.isArray(D)?D.join(""):D;p=fE(p,M+b),v+=M}}if(v){var q=jK(p>>>0);if(!t.hasNameForId(i,q)){var N=r(v,"."+q,void 0,i);t.insertRules(i,q,N)}s.push(q)}}return s.join(" ")},n}(),jZe=/^\s*\/\/.*$/gm,qZe=[":","[",".","#"];function b2e(n){var e,t,r,i,s=n===void 0?Dy:n,o=s.options,a=o===void 0?Dy:o,l=s.plugins,f=l===void 0?BL:l,p=new Qme(a),v=[],b=function(M){function q(N){if(N)try{M(N+"}")}catch{}}return function(N,B,I,z,ie,L,Y,fe,me,Be){switch(N){case 1:if(me===0&&B.charCodeAt(0)===64)return M(B+";"),"";break;case 2:if(fe===0)return B+"/*|*/";break;case 3:switch(fe){case 102:case 112:return M(I[0]+B),"";default:return B+(Be===0?"/*|*/":"")}case-2:B.split("/*|*/}").forEach(q)}}}(function(M){v.push(M)}),F=function(M,q,N){return q===0&&qZe.indexOf(N[t.length])!==-1||N.match(i)?M:"."+e};function D(M,q,N,B){B===void 0&&(B="&");var I=M.replace(jZe,""),z=q&&N?N+" "+q+" { "+I+" }":I;return e=B,t=q,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),p(N||!q?"":q,z)}return p.use([].concat(f,[function(M,q,N){M===2&&N.length&&N[0].lastIndexOf(t)>0&&(N[0]=N[0].replace(r,F))},b,function(M){if(M===-2){var q=v;return v=[],q}}])),D.hash=f.length?f.reduce(function(M,q){return q.name||ax(15),fE(M,q.name)},5381).toString():"",D}var qK=Va.default.createContext(),eWt=qK.Consumer,UK=Va.default.createContext(),UZe=(UK.Consumer,new rA),$K=b2e();function E2e(){return(0,Va.useContext)(qK)||UZe}function $Ze(){return(0,Va.useContext)(UK)||$K}function zZe(n){var e=(0,Va.useState)(n.stylisPlugins),t=e[0],r=e[1],i=E2e(),s=(0,Va.useMemo)(function(){var a=i;return n.sheet?a=n.sheet:n.target&&(a=a.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(a=a.reconstructWithOptions({useCSSOMInjection:!1})),a},[n.disableCSSOMInjection,n.sheet,n.target]),o=(0,Va.useMemo)(function(){return b2e({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,Va.useEffect)(function(){(0,d2e.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),Va.default.createElement(qK.Provider,{value:s},Va.default.createElement(UK.Provider,{value:o},n.children))}var S2e=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=$K);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return ax(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=$K),this.name+e.hash},n}(),HZe=/([A-Z])/,VZe=/([A-Z])/g,WZe=/^ms-/,QZe=function(n){return"-"+n.toLowerCase()};function C2e(n){return HZe.test(n)?n.replace(VZe,QZe).replace(WZe,"-ms-"):n}var w2e=function(n){return n==null||n===!1||n===""};function lv(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=lv(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(w2e(n))return"";if(MK(n))return"."+n.styledComponentId;if(tA(n)){if(typeof(f=n)!="function"||f.prototype&&f.prototype.isReactComponent||!e)return n;var l=n(e);return lv(l,e,t,r)}var f;return n instanceof S2e?t?(n.inject(t,r),n.getName(r)):n:IK(n)?function p(v,b){var F,D,M=[];for(var q in v)v.hasOwnProperty(q)&&!w2e(v[q])&&(Array.isArray(v[q])&&v[q].isCss||tA(v[q])?M.push(C2e(q)+":",v[q],";"):IK(v[q])?M.push.apply(M,p(v[q],q)):M.push(C2e(q)+": "+(F=q,(D=v[q])==null||typeof D=="boolean"||D===""?"":typeof D!="number"||D===0||F in Gme?String(D).trim():D+"px")+";"));return b?[b+" {"].concat(M,["}"]):M}(n):n.toString()}var A2e=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function T2e(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return tA(n)||IK(n)?A2e(lv(p2e(BL,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:A2e(lv(p2e(n,t)))}var GZe=function(n,e,t){return t===void 0&&(t=Dy),n.theme!==t.theme&&n.theme||e||t.theme},YZe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,KZe=/(^-|-$)/g;function zK(n){return n.replace(YZe,"-").replace(KZe,"")}var F2e=function(n){return jK(v2e(n)>>>0)};function $L(n){return typeof n=="string"&&!0}var HK=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},JZe=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function XZe(n,e,t){var r=n[t];HK(e)&&HK(r)?D2e(r,e):n[t]=e}function D2e(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(HK(o))for(var a in o)JZe(a)&&XZe(n,o[a],a)}return n}var O2e=Va.default.createContext(),tWt=O2e.Consumer;var VK={};function N2e(n,e,t){var r=MK(n),i=!$L(n),s=e.attrs,o=s===void 0?BL:s,a=e.componentId,l=a===void 0?function(B,I){var z=typeof B!="string"?"sc":zK(B);VK[z]=(VK[z]||0)+1;var ie=z+"-"+F2e("5.3.6"+z+VK[z]);return I?I+"-"+ie:ie}(e.displayName,e.parentComponentId):a,f=e.displayName,p=f===void 0?function(B){return $L(B)?"styled."+B:"Styled("+m2e(B)+")"}(n):f,v=e.displayName&&e.componentId?zK(e.displayName)+"-"+e.componentId:e.componentId||l,b=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,F=e.shouldForwardProp;r&&n.shouldForwardProp&&(F=e.shouldForwardProp?function(B,I,z){return n.shouldForwardProp(B,I,z)&&e.shouldForwardProp(B,I,z)}:n.shouldForwardProp);var D,M=new BZe(t,v,r?n.componentStyle:void 0),q=M.isStatic&&o.length===0,N=function(B,I){return function(z,ie,L,Y){var fe=z.attrs,me=z.componentStyle,Be=z.defaultProps,tt=z.foldedComponentIds,st=z.shouldForwardProp,Qe=z.styledComponentId,mt=z.target,Lt=function(Bt,_t,un){Bt===void 0&&(Bt=Dy);var Tt=j1({},_t,{theme:Bt}),Rt={};return un.forEach(function(Gt){var xt,ve,Oe,xe=Gt;for(xt in tA(xe)&&(xe=xe(Tt)),xe)Tt[xt]=Rt[xt]=xt==="className"?(ve=Rt[xt],Oe=xe[xt],ve&&Oe?ve+" "+Oe:ve||Oe):xe[xt]}),[Tt,Rt]}(GZe(ie,(0,Va.useContext)(O2e),Be)||Dy,ie,fe),je=Lt[0],Z=Lt[1],Ke=function(Bt,_t,un,Tt){var Rt=E2e(),Gt=$Ze(),xt=_t?Bt.generateAndInjectStyles(Dy,Rt,Gt):Bt.generateAndInjectStyles(un,Rt,Gt);return xt}(me,Y,je,void 0),_e=L,De=Z.$as||ie.$as||Z.as||ie.as||mt,be=$L(De),de=Z!==ie?j1({},ie,{},Z):ie,Ge={};for(var rt in de)rt[0]!=="$"&&rt!=="as"&&(rt==="forwardedAs"?Ge.as=de[rt]:(st?st(rt,kK.default,De):!be||(0,kK.default)(rt))&&(Ge[rt]=de[rt]));return ie.style&&Z.style!==ie.style&&(Ge.style=j1({},ie.style,{},Z.style)),Ge.className=Array.prototype.concat(tt,Qe,Ke!==Qe?Ke:null,ie.className,Z.className).filter(Boolean).join(" "),Ge.ref=_e,(0,Va.createElement)(De,Ge)}(D,B,I,q)};return N.displayName=p,(D=Va.default.forwardRef(N)).attrs=b,D.componentStyle=M,D.displayName=p,D.shouldForwardProp=F,D.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):BL,D.styledComponentId=v,D.target=r?n.target:n,D.withComponent=function(B){var I=e.componentId,z=function(L,Y){if(L==null)return{};var fe,me,Be={},tt=Object.keys(L);for(me=0;me<tt.length;me++)fe=tt[me],Y.indexOf(fe)>=0||(Be[fe]=L[fe]);return Be}(e,["componentId"]),ie=I&&I+"-"+($L(B)?B:zK(m2e(B)));return N2e(B,j1({},z,{attrs:b,componentId:ie}),t)},Object.defineProperty(D,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(B){this._foldedDefaultProps=r?D2e({},n.defaultProps,B):B}}),D.toString=function(){return"."+D.styledComponentId},i&&(0,h2e.default)(D,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),D}var WK=function(n){return function e(t,r,i){if(i===void 0&&(i=Dy),!(0,PL.isValidElementType)(r))return ax(1,String(r));var s=function(){return t(r,i,T2e.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,j1({},i,{},o))},s.attrs=function(o){return e(t,r,j1({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(N2e,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){WK[n]=WK(n)});var nWt=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=_2e(t),rA.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s(lv(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&rA.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function R2e(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=T2e.apply(void 0,[n].concat(t)).join(""),s=F2e(i);return new S2e(s,i)}var rWt=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var i=BK();return"<style "+[i&&'nonce="'+i+'"',Oy+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?ax(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return ax(2);var i=((r={})[Oy]="",r["data-styled-version"]="5.3.6",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),s=BK();return s&&(i.nonce=s),[Va.default.createElement("style",j1({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new rA({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?ax(2):Va.default.createElement(zZe,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return ax(3)},n}();var _n=WK;d();d();var vie=Jn(gf());d();var T5=Jn(DAe()),jq=Jn(OAe());var pie=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}],ES;(function(n){n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline"})(ES||(ES={}));var F0=class{static toBinaryStr(e){let t=e.toString(2);for(;t.length<32;)t="0"+t;return t}static printMetadata(e){let t=F0.getLanguageId(e),r=F0.getTokenType(e),i=F0.getFontStyle(e),s=F0.getForeground(e),o=F0.getBackground(e);console.log({languageId:t,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static set(e,t,r,i,s,o){let a=F0.getLanguageId(e),l=F0.getTokenType(e),f=F0.getFontStyle(e),p=F0.getForeground(e),v=F0.getBackground(e);return t!==0&&(a=t),r!==0&&(l=r===8?0:r),i!==ES.NotSet&&(f=i),s!==0&&(p=s),o!==0&&(v=o),(a<<0|l<<8|f<<11|p<<14|v<<23)>>>0}};function Obt(n){return n.endsWith("/")||n.endsWith("\\")?n.slice(0,-1):n}function Nbt(n){return n.startsWith("./")?n.slice(2):n}function Rbt(n){let e=n.split(/[\/\\]/g);return e[e.length-2]}function Lbt(...n){return n.map(Obt).map(Nbt).join("/")}function kbt(n,e){let t=new Map;for(let r of n){let i=e(r);t.has(i)?t.get(i).push(r):t.set(i,[r])}return t}function Ibt(n,e){e===void 0&&(e=!1);var t=n.length,r=0,i="",s=0,o=16,a=0,l=0,f=0,p=0,v=0;function b(I,z){for(var ie=0,L=0;ie<I||!z;){var Y=n.charCodeAt(r);if(Y>=48&&Y<=57)L=L*16+Y-48;else if(Y>=65&&Y<=70)L=L*16+Y-65+10;else if(Y>=97&&Y<=102)L=L*16+Y-97+10;else break;r++,ie++}return ie<I&&(L=-1),L}function F(I){r=I,i="",s=0,o=16,v=0}function D(){var I=r;if(n.charCodeAt(r)===48)r++;else for(r++;r<n.length&&SS(n.charCodeAt(r));)r++;if(r<n.length&&n.charCodeAt(r)===46)if(r++,r<n.length&&SS(n.charCodeAt(r)))for(r++;r<n.length&&SS(n.charCodeAt(r));)r++;else return v=3,n.substring(I,r);var z=r;if(r<n.length&&(n.charCodeAt(r)===69||n.charCodeAt(r)===101))if(r++,(r<n.length&&n.charCodeAt(r)===43||n.charCodeAt(r)===45)&&r++,r<n.length&&SS(n.charCodeAt(r))){for(r++;r<n.length&&SS(n.charCodeAt(r));)r++;z=r}else v=3;return n.substring(I,z)}function M(){for(var I="",z=r;;){if(r>=t){I+=n.substring(z,r),v=2;break}var ie=n.charCodeAt(r);if(ie===34){I+=n.substring(z,r),r++;break}if(ie===92){if(I+=n.substring(z,r),r++,r>=t){v=2;break}var L=n.charCodeAt(r++);switch(L){case 34:I+='"';break;case 92:I+="\\";break;case 47:I+="/";break;case 98:I+="\b";break;case 102:I+="\f";break;case 110:I+=`
`;break;case 114:I+="\r";break;case 116:I+="	";break;case 117:var Y=b(4,!0);Y>=0?I+=String.fromCharCode(Y):v=4;break;default:v=5}z=r;continue}if(ie>=0&&ie<=31)if(UF(ie)){I+=n.substring(z,r),v=2;break}else v=6;r++}return I}function q(){if(i="",v=0,s=r,l=a,p=f,r>=t)return s=t,o=17;var I=n.charCodeAt(r);if(mie(I)){do r++,i+=String.fromCharCode(I),I=n.charCodeAt(r);while(mie(I));return o=15}if(UF(I))return r++,i+=String.fromCharCode(I),I===13&&n.charCodeAt(r)===10&&(r++,i+=`
`),a++,f=r,o=14;switch(I){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=M(),o=10;case 47:var z=r-1;if(n.charCodeAt(r+1)===47){for(r+=2;r<t&&!UF(n.charCodeAt(r));)r++;return i=n.substring(z,r),o=12}if(n.charCodeAt(r+1)===42){r+=2;for(var ie=t-1,L=!1;r<ie;){var Y=n.charCodeAt(r);if(Y===42&&n.charCodeAt(r+1)===47){r+=2,L=!0;break}r++,UF(Y)&&(Y===13&&n.charCodeAt(r)===10&&r++,a++,f=r)}return L||(r++,v=1),i=n.substring(z,r),o=13}return i+=String.fromCharCode(I),r++,o=16;case 45:if(i+=String.fromCharCode(I),r++,r===t||!SS(n.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=D(),o=11;default:for(;r<t&&N(I);)r++,I=n.charCodeAt(r);if(s!==r){switch(i=n.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(I),r++,o=16}}function N(I){if(mie(I)||UF(I))return!1;switch(I){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function B(){var I;do I=q();while(I>=12&&I<=15);return I}return{setPosition:F,getPosition:function(){return r},scan:e?B:q,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return r-s},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return s-p},getTokenError:function(){return v}}}function mie(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function UF(n){return n===10||n===13||n===8232||n===8233}function SS(n){return n>=48&&n<=57}var qq;(function(n){n.DEFAULT={allowTrailingComma:!1}})(qq||(qq={}));function Mbt(n,e,t){e===void 0&&(e=[]),t===void 0&&(t=qq.DEFAULT);var r=null,i=[],s=[];function o(l){Array.isArray(i)?i.push(l):r!==null&&(i[r]=l)}var a={onObjectBegin:function(){var l={};o(l),s.push(i),i=l,r=null},onObjectProperty:function(l){r=l},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var l=[];o(l),s.push(i),i=l,r=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(l,f,p){e.push({error:l,offset:f,length:p})}};return Pbt(n,a,t),i[0]}function Pbt(n,e,t){t===void 0&&(t=qq.DEFAULT);var r=Ibt(n,!1);function i(me){return me?function(){return me(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function s(me){return me?function(Be){return me(Be,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var o=i(e.onObjectBegin),a=s(e.onObjectProperty),l=i(e.onObjectEnd),f=i(e.onArrayBegin),p=i(e.onArrayEnd),v=s(e.onLiteralValue),b=s(e.onSeparator),F=i(e.onComment),D=s(e.onError),M=t&&t.disallowComments,q=t&&t.allowTrailingComma;function N(){for(;;){var me=r.scan();switch(r.getTokenError()){case 4:B(14);break;case 5:B(15);break;case 3:B(13);break;case 1:M||B(11);break;case 2:B(12);break;case 6:B(16);break}switch(me){case 12:case 13:M?B(10):F();break;case 16:B(1);break;case 15:case 14:break;default:return me}}}function B(me,Be,tt){if(Be===void 0&&(Be=[]),tt===void 0&&(tt=[]),D(me),Be.length+tt.length>0)for(var st=r.getToken();st!==17;){if(Be.indexOf(st)!==-1){N();break}else if(tt.indexOf(st)!==-1)break;st=N()}}function I(me){var Be=r.getTokenValue();return me?v(Be):a(Be),N(),!0}function z(){switch(r.getToken()){case 11:var me=r.getTokenValue(),Be=Number(me);isNaN(Be)&&(B(2),Be=0),v(Be);break;case 7:v(null);break;case 8:v(!0);break;case 9:v(!1);break;default:return!1}return N(),!0}function ie(){return r.getToken()!==10?(B(3,[],[2,5]),!1):(I(!1),r.getToken()===6?(b(":"),N(),fe()||B(4,[],[2,5])):B(5,[],[2,5]),!0)}function L(){o(),N();for(var me=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(me||B(4,[],[]),b(","),N(),r.getToken()===2&&q)break}else me&&B(6,[],[]);ie()||B(4,[],[2,5]),me=!0}return l(),r.getToken()!==2?B(7,[2],[]):N(),!0}function Y(){f(),N();for(var me=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(me||B(4,[],[]),b(","),N(),r.getToken()===4&&q)break}else me&&B(6,[],[]);fe()||B(4,[],[4,5]),me=!0}return p(),r.getToken()!==4?B(8,[4],[]):N(),!0}function fe(){switch(r.getToken()){case 3:return Y();case 1:return L();case 10:return I(!0);default:return z()}}return N(),r.getToken()===17?t.allowEmptyContent?!0:(B(4,[],[]),!1):fe()?(r.getToken()!==17&&B(9,[],[]),!0):(B(4,[],[]),!1)}var Bbt=Mbt,jbt=typeof self!="undefined"&&typeof self.WorkerGlobalScope!="undefined",xie=jbt||typeof window!="undefined"&&typeof window.document!="undefined"&&typeof fetch!="undefined",gie="",NAe="";function RAe(n){gie=n}var yie=null;async function qbt(){if(!yie){let n;if(xie)typeof NAe=="string"?n=(0,T5.loadWASM)({data:await fetch(LAe("dist/onig.wasm")).then(e=>e.arrayBuffer())}):n=(0,T5.loadWASM)(NAe);else{let t=die().join(UN.resolve("vscode-oniguruma"),"../onig.wasm"),i=hie().readFileSync(t).buffer;n=(0,T5.loadWASM)(i)}yie=n.then(()=>({createOnigScanner(e){return(0,T5.createOnigScanner)(e)},createOnigString(e){return(0,T5.createOnigString)(e)}}))}return yie}function LAe(n){if(xie)return gie||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${gie}${n}`;{let e=die();return e.isAbsolute(n)?n:e.resolve(__dirname,"..",n)}}async function Ubt(n){let e=LAe(n);return xie?await fetch(e).then(t=>t.text()):await hie().promises.readFile(e,"utf-8")}async function kAe(n){let e=[],t=Bbt(await Ubt(n),e,{allowTrailingComma:!0});if(e.length)throw e[0];return t}async function IAe(n){let e=await kAe(n),t=MAe(e);if(t.include){let r=await IAe(Lbt(Rbt(n),t.include));r.settings&&(t.settings=r.settings.concat(t.settings)),r.bg&&!t.bg&&(t.bg=r.bg),r.colors&&(t.colors=Object.assign(Object.assign({},r.colors),t.colors)),delete t.include}return t}async function $bt(n){return await kAe(n)}function zbt(n){n.settings||(n.settings=[]),!(n.settings[0]&&n.settings[0].settings&&!n.settings[0].scope)&&n.settings.unshift({settings:{foreground:n.fg,background:n.bg}})}function MAe(n){let e=n.type||"dark",t=Object.assign(Object.assign({name:n.name,type:e},n),Hbt(n));return n.include&&(t.include=n.include),n.tokenColors&&(t.settings=n.tokenColors,delete t.tokenColors),zbt(t),t}var PAe={light:"#333333",dark:"#bbbbbb"},BAe={light:"#fffffe",dark:"#1e1e1e"};function Hbt(n){var e,t,r,i,s,o;let a,l,f=n.settings?n.settings:n.tokenColors,p=f?f.find(v=>!v.name&&!v.scope):void 0;return((e=p==null?void 0:p.settings)===null||e===void 0?void 0:e.foreground)&&(a=p.settings.foreground),((t=p==null?void 0:p.settings)===null||t===void 0?void 0:t.background)&&(l=p.settings.background),!a&&((i=(r=n)===null||r===void 0?void 0:r.colors)===null||i===void 0?void 0:i["editor.foreground"])&&(a=n.colors["editor.foreground"]),!l&&((o=(s=n)===null||s===void 0?void 0:s.colors)===null||o===void 0?void 0:o["editor.background"])&&(l=n.colors["editor.background"]),a||(a=n.type==="light"?PAe.light:PAe.dark),l||(l=n.type==="light"?BAe.light:BAe.dark),{fg:a,bg:l}}var jAe=class{constructor(e,t){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=e,this._onigLibName=t}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(e){return this.languageMap[e]}async loadGrammar(e){let t=this.scopeToLangMap[e];if(!t)return null;if(t.grammar)return t.grammar;let r=await $bt(pie.includes(t)?`${this.languagesPath}${t.path}`:t.path);return t.grammar=r,r}addLanguage(e){this.languageMap[e.id]=e,e.aliases&&e.aliases.forEach(t=>{this.languageMap[t]=e}),this.scopeToLangMap[e.scopeName]=e}};function Vbt(n,e,t,r,i){let s=t.split(/\r\n|\r|\n/),o=jq.INITIAL,a=[],l=[];for(let f=0,p=s.length;f<p;f++){let v=s[f];if(v===""){a=[],l.push([]);continue}let b,F,D;i.includeExplanation&&(b=r.tokenizeLine(v,o),F=b.tokens,D=0);let M=r.tokenizeLine2(v,o),q=M.tokens.length/2;for(let N=0;N<q;N++){let B=M.tokens[2*N],I=N+1<q?M.tokens[2*N+2]:v.length;if(B===I)continue;let z=M.tokens[2*N+1],ie=F0.getForeground(z),L=e[ie],Y=F0.getFontStyle(z),fe=[];if(i.includeExplanation){let me=0;for(;B+me<I;){let Be=F[D],tt=v.substring(Be.startIndex,Be.endIndex);me+=tt.length,fe.push({content:tt,scopes:Wbt(n,Be.scopes)}),D++}}a.push({content:v.substring(B,I),color:L,fontStyle:Y,explanation:fe})}l.push(a),a=[],o=M.ruleStack}return l}function Wbt(n,e){let t=[];for(let r=0,i=e.length;r<i;r++){let s=e.slice(0,r),o=e[r];t[r]={scopeName:o,themeMatches:Gbt(n,o,s)}}return t}function qAe(n,e){let t=n+".";return n===e||e.substring(0,t.length)===t}function Qbt(n,e,t,r){if(!qAe(n,t))return!1;let i=e.length-1,s=r.length-1;for(;i>=0&&s>=0;)qAe(e[i],r[s])&&i--,s--;return i===-1}function Gbt(n,e,t){let r=[],i=0;for(let s=0,o=n.settings.length;s<o;s++){let a=n.settings[s],l;if(typeof a.scope=="string")l=a.scope.split(/,/).map(f=>f.trim());else if(Array.isArray(a.scope))l=a.scope;else continue;for(let f=0,p=l.length;f<p;f++){let b=l[f].split(/ /),F=b[b.length-1],D=b.slice(0,b.length-1);Qbt(F,D,e,t)&&(r[i++]=a,f=p)}}return r}function Ybt(n,e={}){var t;let r=e.bg||"#fff",i=kbt((t=e.lineOptions)!==null&&t!==void 0?t:[],o=>o.line),s="";return s+=`<pre class="shiki" style="background-color: ${r}">`,e.langId&&(s+=`<div class="language-id">${e.langId}</div>`),s+="<code>",n.forEach((o,a)=>{var l;let f=a+1,p=(l=i.get(f))!==null&&l!==void 0?l:[];s+=`<span class="${Xbt(p).join(" ")}">`,o.forEach(b=>{let F=[`color: ${b.color||e.fg}`];b.fontStyle&ES.Italic&&F.push("font-style: italic"),b.fontStyle&ES.Bold&&F.push("font-weight: bold"),b.fontStyle&ES.Underline&&F.push("text-decoration: underline"),s+=`<span style="${F.join("; ")}">${Jbt(b.content)}</span>`}),s+=`</span>
`}),s=s.replace(/\n*$/,""),s+="</code></pre>",s}var Kbt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Jbt(n){return n.replace(/[&<>"']/g,e=>Kbt[e])}function Xbt(n){var e;let t=new Set(["line"]);for(let r of n)for(let i of(e=r.classes)!==null&&e!==void 0?e:[])t.add(i);return Array.from(t)}var UAe=class extends jq.Registry{constructor(e){super(e);this._resolver=e,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(e){return typeof e=="string"?this._resolvedThemes[e]:e}async loadTheme(e){return typeof e=="string"?(this._resolvedThemes[e]||(this._resolvedThemes[e]=await IAe(`${this.themesPath}${e}.json`)),this._resolvedThemes[e]):(e=MAe(e),e.name&&(this._resolvedThemes[e.name]=e),e)}async loadThemes(e){return await Promise.all(e.map(t=>this.loadTheme(t)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(e){return this._resolvedGrammars[e]}async loadLanguage(e){let t=await this.loadGrammar(e.scopeName);this._resolvedGrammars[e.id]=t,e.aliases&&e.aliases.forEach(r=>{this._resolvedGrammars[r]=t})}async loadLanguages(e){for(let t of e)this._resolver.addLanguage(t);for(let t of e)await this.loadLanguage(t)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}};function $Ae(n){return typeof n=="string"?pie.find(e=>{var t;return e.id===n||((t=e.aliases)===null||t===void 0?void 0:t.includes(n))}):n}function Zbt(n){var e;let t=pie,r=n.themes||[];return((e=n.langs)===null||e===void 0?void 0:e.length)&&(t=n.langs.map($Ae)),n.theme&&r.unshift(n.theme),r.length||(r=["nord"]),{_languages:t,_themes:r}}async function zAe(n){var e,t;let{_languages:r,_themes:i}=Zbt(n),s=new jAe(qbt(),"vscode-oniguruma"),o=new UAe(s);((e=n.paths)===null||e===void 0?void 0:e.themes)&&(o.themesPath=n.paths.themes),((t=n.paths)===null||t===void 0?void 0:t.languages)&&(s.languagesPath=n.paths.languages);let l=(await o.loadThemes(i))[0],f;await o.loadLanguages(r);let p={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function v(L,Y){L.bg=p[L.bg]||L.bg,L.fg=p[L.fg]||L.fg,Y.forEach((fe,me)=>{Y[me]=p[fe]||fe})}function b(L){let Y=L?o.getTheme(L):l;if(!Y)throw Error(`No theme registration for ${L}`);(!f||f.name!==Y.name)&&(o.setTheme(Y),f=Y);let fe=o.getColorMap();return Y.name==="css-variables"&&v(Y,fe),{_theme:Y,_colorMap:fe}}function F(L){let Y=o.getGrammar(L);if(!Y)throw Error(`No language registration for ${L}`);return{_grammar:Y}}function D(L,Y="text",fe,me={includeExplanation:!0}){if(eEt(Y))return[...L.split(/\r\n|\r|\n/).map(mt=>[{content:mt}])];let{_grammar:Be}=F(Y),{_theme:tt,_colorMap:st}=b(fe);return Vbt(tt,st,L,Be,me)}function M(L,Y="text",fe){let me;typeof Y=="object"?me=Y:me={lang:Y,theme:fe};let Be=D(L,me.lang,me.theme,{includeExplanation:!1}),{_theme:tt}=b(me.theme);return Ybt(Be,{fg:tt.fg,bg:tt.bg,lineOptions:me==null?void 0:me.lineOptions})}async function q(L){await o.loadTheme(L)}async function N(L){let Y=$Ae(L);s.addLanguage(Y),await o.loadLanguage(Y)}function B(){return o.getLoadedThemes()}function I(){return o.getLoadedLanguages()}function z(L){let{_theme:Y}=b(L);return Y.bg}function ie(L){let{_theme:Y}=b(L);return Y.fg}return{codeToThemedTokens:D,codeToHtml:M,getTheme:L=>b(L)._theme,loadTheme:q,loadLanguage:N,getBackgroundColor:z,getForegroundColor:ie,getLoadedThemes:B,getLoadedLanguages:I}}function eEt(n){return!n||["plaintext","txt","text"].includes(n)}d();var HAe={scopeName:"source.malloy",patterns:[{include:"#sql-statement"},{include:"#comments"},{include:"#strings"},{include:"#numbers"},{include:"#keywords"},{include:"#properties"},{include:"#functions"},{include:"#dates"},{include:"#identifiers-quoted"},{include:"#types"},{include:"#constants"},{include:"#timeframes"},{include:"#identifiers-unquoted"}],repository:{"sql-statement":{begin:"\\|\\|",end:";;",beginCaptures:{"0":{name:"punctuation.sql-block.open"}},endCaptures:{"0":{name:"punctuation.sql-block.close"}},name:"source.sql",patterns:[{include:"source.sql"}]},functions:{patterns:[{match:"(?i)\\b(count)(\\s*\\()(distinct)",captures:{"1":{name:"entity.name.function"},"3":{name:"entity.name.function.modifier"}}},{match:"(?i)\\b(AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE|TABLE|FROM|FROM_SQL|UNGROUPED)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}},{match:"(?i)\\b([a-zA-Z]*)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}}]},dates:{patterns:[{match:"(?i)@[0-9A-Z-]*(\\s[0-9A-Z-][0-9A-Z-](:[0-9A-Z-][0-9A-Z-])?(:[0-9A-Z-][0-9A-Z-])?)?",name:"constant.numeric.date"}]},"identifiers-quoted":{patterns:[{match:"(?i)`[A-z_][A-z_0-9]*`",name:"variable.other.quoted"}]},"identifiers-unquoted":{patterns:[{match:"(?i)\\b[A-z_][A-z_0-9]*\\b",name:"variable.other"}]},timeframes:{patterns:[{match:"(?i)\\b((year|quarter|month|week|day|hour|minute|second)s?)\\b",name:"keyword.other.timeframe"},{match:"(?i)\\b(day_of_year|day_of_month)\\b",name:"keyword.other.timeframe"}]},comments:{patterns:[{begin:"/\\*",end:"\\*/",beginCaptures:{"0":{name:"punctuation.definition.comment.begin"}},endCaptures:{"0":{name:"punctuation.definition.comment.end"}},name:"comment.block"},{begin:"//",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-slash"},{begin:"--",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-hyphen"}]},strings:{patterns:[{begin:"'",end:"'",beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.single",patterns:[{include:"#escapes"}]},{begin:'"',end:'"',beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.double",patterns:[{include:"#escapes"}]},{begin:"(?i)[r|/]'",end:"'",name:"string.regexp",patterns:[{include:"#escapes"}]}],repository:{escapes:{name:"constant.character.escape",match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)",captures:{"0":{name:"constant.character.escape"}}}}},numbers:{match:"\\b((0|[1-9][0-9]*)(\\.[0-9]*)?| \\.[0-9]+)\\b",name:"constant.numeric"},constants:{patterns:[{match:"(?i)\\bnull\\b",name:"constant.language.null"},{match:"(?i)\\btrue\\b",name:"constant.language.true"},{match:"(?i)\\bfalse\\b",name:"constant.language.false"}]},types:{patterns:[{match:"(?i)\\bstring\\b",name:"entity.name.type.string"},{match:"(?i)\\bnumber\\b",name:"entity.name.type.number"},{match:"(?i)\\bdate\\b",name:"entity.name.type.date"},{match:"(?i)\\btimestamp\\b",name:"entity.name.type.timestamp"},{match:"(?i)\\bboolean\\b",name:"entity.name.type.boolean"}]},properties:{patterns:[{match:"(?i)\\baccept\\b",name:"keyword.control.accept"},{match:"(?i)\\bsql\\b",name:"keyword.control.sql"},{match:"(?i)\\baggregate\\b",name:"keyword.control.aggregate"},{match:"(?i)\\bdimension\\b",name:"keyword.control.dimension"},{match:"(?i)\\bexcept\\b",name:"keyword.control.except"},{match:"(?i)\\bexplore\\b",name:"keyword.control.explore"},{match:"(?i)\\bgroup_by\\b",name:"keyword.control.group_by"},{match:"(?i)\\bhaving\\b",name:"keyword.control.having"},{match:"(?i)\\bindex\\b",name:"keyword.control.index"},{match:"(?i)\\bjoin_one\\b",name:"keyword.control.join_one"},{match:"(?i)\\bwith\\b",name:"keyword.control.with"},{match:"(?i)\\bjoin_many\\b",name:"keyword.control.join_many"},{match:"(?i)\\bjoin_cross\\b",name:"keyword.control.join_cross"},{match:"(?i)\\blimit\\b",name:"keyword.control.limit"},{match:"(?i)\\bmeasure\\b",name:"keyword.control.measure"},{match:"(?i)\\bnest\\b",name:"keyword.control.nest"},{match:"(?i)\\border_by\\b",name:"keyword.control.order_by"},{match:"(?i)\\bprimary_key\\b",name:"keyword.control.primary_key"},{match:"(?i)\\bproject\\b",name:"keyword.control.project"},{match:"(?i)\\bquery\\b",name:"keyword.control.query"},{match:"(?i)\\brename\\b",name:"keyword.control.rename"},{match:"(?i)\\btop\\b",name:"keyword.control.top"},{match:"(?i)\\bwhere\\b",name:"keyword.control.where"},{match:"(?i)\\bdeclare\\b",name:"keyword.control.declare"}]},keywords:{patterns:[{match:"(?i)\\bis\\b",name:"keyword.control.is"},{match:"(?i)\\bon\\b",name:"keyword.control.on"},{match:"(?i)\\bnot\\b",name:"keyword.other.not"},{match:"(?i)\\bor\\b",name:"keyword.other.or"},{match:"(?i)\\bdesc\\b",name:"keyword.control.desc"},{match:"(?i)\\bby\\b",name:"keyword.control.by"},{match:"(?i)\\band\\b",name:"keyword.other.and"},{match:"(?i)\\basc\\b",name:"keyword.control.asc"},{match:"(?i)\\bfor\\b",name:"keyword.other.for"},{match:"(?i)\\belse\\b",name:"keyword.other.else"},{match:"(?i)\\bto\\b",name:"keyword.other.to"},{match:"(?i)\\bwhen\\b",name:"keyword.other.when"},{match:"(?i)\\bpick\\b",name:"keyword.other.pick"},{match:"(?i)\\bimport\\b",name:"keyword.control.import"}]}}};RAe("https://unpkg.com/shiki/");function zp(n){return n.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function Rm(){return!0}var Uq;function nEt(){return Uq!==void 0||(Uq=zAe({theme:"light-plus",langs:["sql","json","md",{id:"malloy",scopeName:"source.malloy",embeddedLangs:["sql"],grammar:HAe}]})),Uq}async function rEt(n,e){let t=await nEt();return t.getLoadedLanguages().includes(e)||(e="txt"),t.codeToHtml(n,{lang:e})}async function R_(n,e){let t=await rEt(n,e),r=document.createElement("div");return r.innerHTML=t,r}function _d(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.type}function _ie(n){return n.type==="struct"||n.type==="turtle"?"string":n.type}function Ch(n){return n.type==="struct"?"source":n.type==="turtle"?"query":(0,vie.expressionIsCalculation)(n.expressionType)?"measure":"dimension"}function $q(n){return n!==void 0}function yf(n,e){let t=Ch(n);if(n.type==="struct"||t==="source")throw new Error("Cannot make a summary item from a struct.");return{type:"field",field:n,path:e,saveDefinition:void 0,isRefined:!1,name:n.as||n.name,isRenamed:!1,fieldIndex:-1,kind:t}}function $F(n){return n.type!=="struct"&&n.type!=="turtle"&&(0,vie.expressionIsCalculation)(n.expressionType)}function zF(n){return n.type!=="struct"&&n.type!=="turtle"&&n.expressionType==="scalar"}function zq(n){return n.type==="turtle"}function Ic(n,e=[]){return n.fields.flatMap(t=>t.type==="struct"?Ic(t,[...e,t.as||t.name]):[{field:t,path:[...e,t.as||t.name].join(".")}])}function iEt(n){let e=n.split(".");return e.map((t,r)=>e.slice(r).join("."))}function vf(n,e){return[...iEt(e).reverse(),n.name,Ch(n),_d(n)]}function _f(n){let e=n.split(".");return e[e.length-2]}function Hq(n){return n<1e3?n.toLocaleString():n<1e4?(n/1e3).toFixed(1)+"K":n<1e6?Math.floor(n/1e3).toLocaleString()+"K":n<1e7?(n/1e6).toFixed(1)+"M":Math.floor(n/1e3).toLocaleString()+"M"}function bie(n,e,t,r){let i=document.createElement("a"),s=new Blob([n],{type:e}),o=URL.createObjectURL(s);i.setAttribute("href",o),r?i.setAttribute("target","_blank"):i.setAttribute("download",t),i.click()}function VAe(n,e){return`<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>${e}</title>
    <meta
  </head>
  <body>${n}</body>
</html>
  `}var sEt=/Error\(s\) compiling model:\nFILE: internal:\/\/internal.malloy\nline 1: (.*)\n/;function WAe(n){let e=n.toString();if(n.message){e=n.message;let t=e.match(sEt);t&&(e=t[1])}return e}function Eie(n,e=2){return n.split(`
`).map(t=>" ".repeat(e)+t).join(`
`)}function QAe(n){navigator.clipboard.writeText(n)}d();var xLe=Jn(mLe()),mC=Jn(gf());d();function JDt(n){try{return JSON.parse(n)}catch(e){throw new Error(`Error compiling data styles: ${e.message}`)}}async function XDt(n,e,t){let r="--! styles ",i={};for(let s of e.split(`
`))if(s.startsWith(r)){let o=s.trimEnd().substring(r.length),a;try{a=await t.readURL(new URL(o,n))}catch(l){console.error(`Error loading data style '${o}': ${l}`),a="{}"}i={...i,...JDt(a)}}return i}var bae=class{constructor(e){this.dataStyles={};this.urlReader=e}async readURL(e){let t=await this.urlReader.readURL(e);return this.dataStyles={...this.dataStyles,...await XDt(e.toString(),t,this.urlReader)},t}getHackyAccumulatedDataStyles(){return this.dataStyles}};var gLe=class{constructor(){this.connection=new xLe.DuckDBWASMConnection("duckdb")}async lookupConnection(e){return await this.connection.connecting,this.connection}},ZDt=async n=>(await fetch(n)).text(),yLe=class{constructor(){this.contents={}}setContents(e,t){this.contents[e]=t}async readURL(e){let t=e.toString();return t in this.contents?this.contents[t]:ZDt(e)}},s6=new yLe,Rz=new gLe,Lz=new mC.Runtime(s6,Rz);async function vLe(){let n=window.location.href,e=new URL("https://raw.githubusercontent.com/malloydata/malloy-samples/main/duckdb/composer.json",n),t=await s6.readURL(e),r=JSON.parse(t);if("apps"in r){let i=r.readme&&await s6.readURL(new URL(r.readme,e));return{...r,readme:i}}return{apps:[{id:"default",path:"composer.json"}]}}async function _Le(n){let e=window.location.href,t=new URL("https://raw.githubusercontent.com/malloydata/malloy-samples/main/duckdb/composer.json",e),r=new URL(n,t),i=await s6.readURL(r),s=JSON.parse(i),o=s.title,a=s.readme&&await s6.readURL(new URL(s.readme,r)),l={},f=await Promise.all(s.models.map(async p=>{let v=await Rz.lookupConnection("duckdb");p.tables&&await Promise.all(p.tables.map(I=>{let z,ie;return typeof I=="string"?(z=I,ie=new URL(z,r).toString()):(z=I.name,ie=I.url),l[z]=!0,v.registerRemoteTable(z,ie)}));let b=async I=>{l[I]||(v.registerRemoteTable(I,new URL(I,r).toString()),l[I]=!0)};v.registerRemoteTableCallback(b);let F=new URL(p.path,r),D=new bae(s6),q=await new mC.Runtime(D,Rz).getModel(F),N=D.getHackyAccumulatedDataStyles(),B=p.sources||Object.values(q._modelDef.contents).filter(I=>I.type==="struct").map(I=>({title:zp(I.as||I.name),sourceName:I.as||I.name,description:`Source ${I.as} in ${p.id}`}));return{id:p.id,model:q._modelDef,path:p.path,readme:a,styles:N,sources:B}}));return{readme:a,linkedReadmes:s.linkedReadmes,title:o,models:f}}async function bLe(n,e,t){let r=await Lz._loadModelFromModelDef(t).getModel(),i=await mC.Malloy.compile({urlReader:s6,connections:Rz,model:r,parse:mC.Malloy.parse({source:n})}),s=Lz._loadModelFromModelDef(i._modelDef).loadQueryByName(e),o=(await s.getPreparedResult()).resultExplore.limit;return s.run({rowLimit:o})}async function ELe(n,e,t,r){let i=e.as||e.name;return Lz._loadModelFromModelDef(n).search(i,t,void 0,r)}async function SLe(n,e){let t=e.as||e.name;return Lz._loadModelFromModelDef(n).searchValueMap(t)}function Eae(n){let{data:e}=ox(["datasets",n?n.id??"default":"empty"],async()=>n===void 0?void 0:Rm()?_Le(n.path):(await(await fetch("api/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({app:n})})).json()).datasets,{refetchOnWindowFocus:!1});return e}d();d();var YD=Jn(ur()),CLe=n=>YD.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},YD.createElement("title",null,"chevron_left"),YD.createElement("g",{id:"chevron_left",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},YD.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-90.000000) translate(-55.000000, -55.000005) "})));d();var KD=Jn(ur()),kz=n=>KD.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},KD.createElement("title",null,"chevron_right"),KD.createElement("g",{id:"chevron_right",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},KD.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-270.000000) translate(-55.000000, -55.000005) "})));d();var Yr={dimension:{fillLight:"rgb(240,246,255)",fillMedium:"#c3d7f7",fillStrong:"#4285f4"},measure:{fillStrong:"#ea8600",fillMedium:"#f3cfa1",fillLight:"#fff3e8"},filter:{fillStrong:"#8166da",fillMedium:"#d4d6d8",fillLight:"#f8f6ff"},query:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},source:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},other:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},error:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},mainBackground:"rgb(247, 249, 252)"};var Ain=_n.div`
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 22px;
  padding: 7px 10px 6px 20px;
  border-bottom: 1px solid #efefef;
  font-size: 11pt;
  font-weight: 500;
`,Iz=_n.div`
  display: flex;
  font-weight: normal;
  font-family: "Roboto Mono";
  gap: 5px;
  margin-top: -3px;
  align-items: center;
  user-select: none;
`,Cd=_n.label`
  font-size: 12px;
  color: #505050;
  font-family: Roboto;
  font-family: Roboto;
  text-transform: none;
  color: #9aa0a6;
  font-weight: normal;
`,aa=_n.button`
  padding: 5.5px 10px;
  font-family: Google Sans;
  border-radius: 5px;
  cursor: pointer;
  min-width: 80px;

  ${({color:n="primary",outline:e=!1})=>`
    ${n==="primary"&&!e?`
        border: 1px solid #4285F4;
        background-color: #4285F4;
        color: white;

        &:active {
          background-color: #175cb7;
        }
      `:n==="primary"&&e?`
        border: 1px solid #d8dade;
        background-color: white;
        color: #4285F4;

        &:active {
          background-color: #efefef;
        }
      `:n==="secondary"&&!e?`
        border: 0;
        background-color: transparent;
        color: #343434;

        &:active {
          background-color: #adadad;
        }
      `:`
        border: 1px solid #343434;
        background-color: white;
        color: #343434;

        &:active {
          background-color: #343434;
          color: white;
        }
      `}
  `}
`,I0=_n.div`
  display: flex;
  justify-content: flex-end;
  gap: 5px;
  margin-top: 15px;
`,Mz=_n.form`
  display: flex;
  justify-content: space-between;
  gap: 5px;
`,wLe=({onClick:n})=>m.createElement(CLe,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),ALe=({onClick:n})=>m.createElement(kz,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),Pl=_n.div`
  color: #969696;
  text-align: center;
  margin-top: 30px;
  margin-bottom: 30px;
  font-family: Roboto;
  text-transform: none;
  font-size: 16px;
  font-weight: normal;
`,yl=_n.div`
  font-family: Google Sans;
  font-size: 14px;
  color: #505050;
  text-transform: none;
  margin-bottom: 15px;
  user-select: none;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
`,vl=_n.div`
  padding: 15px;
`,Du=_n.div`
  padding: 10px;
`,zh=_n.div`
  border-bottom: 1px solid #efefef;
  padding: 10px;
`,Hh=_n.div`
  display: flex;
  flex-direction: column;
`,M0=_n.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,Vu=_n.div`
  overflow-y: auto;
  max-height: 400px;
`,Sae=_n.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,Pz=_n(Sae)`
  font-size: 12px;
`,xC=_n.div`
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  display: flex;

  ${({color:n})=>`
      svg .primaryfill {
        fill: ${Yr[n].fillStrong};
      }
      svg .primarystroke {
        stroke: ${Yr[n].fillStrong};
      }
    `}
`,Xp=_n.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,eOt=_n.div`
  background: #ffdddd;
  display: flex;
  padding: 6px;
  margin-top: 10px;
  border-radius: 3px;
`,Bz=({error:n})=>{if(n){let e=WAe(n);return m.createElement(eOt,null,e)}else return null},jz=_n.div`
  overflow: hidden;
  width: 100%;
  height: 40px;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  background-color: ${Yr.mainBackground};
  flex-shrink: 0;
`,o6=_n.div`
  overflow: hidden;
  background-color: white;
  border-radius: 5px;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
`;d();d();d();d();d();var gC=Jn(ur()),TLe=n=>gC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},gC.createElement("title",null,"channel_about"),gC.createElement("g",{id:"channel_about",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},gC.createElement("g",{id:"article_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.250000, 4.250000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},gC.createElement("path",{d:"M19.9520833,71.29375 L54.9,71.29375 L54.9,63.66875 L19.9520833,63.66875 L19.9520833,71.29375 Z M19.9520833,49.5625 L71.5479167,49.5625 L71.5479167,41.9375 L19.9520833,41.9375 L19.9520833,49.5625 Z M19.9520833,27.83125 L71.5479167,27.83125 L71.5479167,20.20625 L19.9520833,20.20625 L19.9520833,27.83125 Z M7.625,91.5 C5.59166667,91.5 3.8125,90.7375 2.2875,89.2125 C0.7625,87.6875 0,85.9083333 0,83.875 L0,7.625 C0,5.59166667 0.7625,3.8125 2.2875,2.2875 C3.8125,0.7625 5.59166667,0 7.625,0 L83.875,0 C85.9083333,0 87.6875,0.7625 89.2125,2.2875 C90.7375,3.8125 91.5,5.59166667 91.5,7.625 L91.5,83.875 C91.5,85.9083333 90.7375,87.6875 89.2125,89.2125 C87.6875,90.7375 85.9083333,91.5 83.875,91.5 L7.625,91.5 Z M7.625,83.875 L83.875,83.875 L83.875,7.625 L7.625,7.625 L7.625,83.875 Z M7.625,7.625 L7.625,83.875 L7.625,7.625 Z",id:"Shape"}))));d();var yC=Jn(ur()),FLe=n=>yC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},yC.createElement("title",null,"channel_feedback"),yC.createElement("g",{id:"channel_feedback",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},yC.createElement("g",{id:"chat_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.000000, 4.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},yC.createElement("path",{d:"M18.4,55.315 L54.395,55.315 L54.395,48.415 L18.4,48.415 L18.4,55.315 Z M18.4,40.365 L73.6,40.365 L73.6,33.465 L18.4,33.465 L18.4,40.365 Z M18.4,25.415 L73.6,25.415 L73.6,18.515 L18.4,18.515 L18.4,25.415 Z M0,92 L0,6.9 C0,5.13666667 0.69,3.54583333 2.07,2.1275 C3.45,0.709166667 5.06,0 6.9,0 L85.1,0 C86.8633333,0 88.4541667,0.709166667 89.8725,2.1275 C91.2908333,3.54583333 92,5.13666667 92,6.9 L92,66.7 C92,68.4633333 91.2908333,70.0541667 89.8725,71.4725 C88.4541667,72.8908333 86.8633333,73.6 85.1,73.6 L18.4,73.6 L0,92 Z M6.9,75.325 L15.525,66.7 L85.1,66.7 L85.1,6.9 L6.9,6.9 L6.9,75.325 Z M6.9,6.9 L6.9,75.325 L6.9,6.9 Z",id:"Shape"}))));d();var vC=Jn(ur()),DLe=n=>vC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},vC.createElement("title",null,"channel_help"),vC.createElement("g",{id:"channel_help",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},vC.createElement("g",{id:"help_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},vC.createElement("path",{d:"M46.7125,73.190625 C47.9458333,73.190625 48.9864583,72.7666667 49.834375,71.91875 C50.6822917,71.0708333 51.10625,70.0302083 51.10625,68.796875 C51.10625,67.5635417 50.6822917,66.5229167 49.834375,65.675 C48.9864583,64.8270833 47.9458333,64.403125 46.7125,64.403125 C45.4791667,64.403125 44.4385417,64.8270833 43.590625,65.675 C42.7427083,66.5229167 42.31875,67.5635417 42.31875,68.796875 C42.31875,70.0302083 42.7427083,71.0708333 43.590625,71.91875 C44.4385417,72.7666667 45.4791667,73.190625 46.7125,73.190625 Z M42.665625,56.309375 L49.4875,56.309375 C49.4875,54.3052083 49.7380208,52.4744792 50.2390625,50.8171875 C50.7401042,49.1598958 52.3010417,47.2520833 54.921875,45.09375 C57.3114583,43.0895833 59.0072917,41.1239583 60.009375,39.196875 C61.0114583,37.2697917 61.5125,35.15 61.5125,32.8375 C61.5125,28.7520833 60.1828125,25.4760417 57.5234375,23.009375 C54.8640625,20.5427083 51.3375,19.309375 46.94375,19.309375 C43.1666667,19.309375 39.8328125,20.2536458 36.9421875,22.1421875 C34.0515625,24.0307292 31.9510417,26.6322917 30.640625,29.946875 L36.76875,32.259375 C37.6166667,30.1010417 38.8885417,28.4244792 40.584375,27.2296875 C42.2802083,26.0348958 44.284375,25.4375 46.596875,25.4375 C49.2177083,25.4375 51.3375,26.1505208 52.95625,27.5765625 C54.575,29.0026042 55.384375,30.8333333 55.384375,33.06875 C55.384375,34.7645833 54.8833333,36.3640625 53.88125,37.8671875 C52.8791667,39.3703125 51.4145833,40.93125 49.4875,42.55 C47.175,44.5541667 45.4598958,46.5390625 44.3421875,48.5046875 C43.2244792,50.4703125 42.665625,53.071875 42.665625,56.309375 L42.665625,56.309375 Z M46.25,92.5 C39.9291667,92.5 33.9552083,91.2859375 28.328125,88.8578125 C22.7010417,86.4296875 17.7869792,83.1151042 13.5859375,78.9140625 C9.38489583,74.7130208 6.0703125,69.7989583 3.6421875,64.171875 C1.2140625,58.5447917 0,52.5708333 0,46.25 C0,39.8520833 1.2140625,33.8395833 3.6421875,28.2125 C6.0703125,22.5854167 9.38489583,17.690625 13.5859375,13.528125 C17.7869792,9.365625 22.7010417,6.0703125 28.328125,3.6421875 C33.9552083,1.2140625 39.9291667,0 46.25,0 C52.6479167,0 58.6604167,1.2140625 64.2875,3.6421875 C69.9145833,6.0703125 74.809375,9.365625 78.971875,13.528125 C83.134375,17.690625 86.4296875,22.5854167 88.8578125,28.2125 C91.2859375,33.8395833 92.5,39.8520833 92.5,46.25 C92.5,52.5708333 91.2859375,58.5447917 88.8578125,64.171875 C86.4296875,69.7989583 83.134375,74.7130208 78.971875,78.9140625 C74.809375,83.1151042 69.9145833,86.4296875 64.2875,88.8578125 C58.6604167,91.2859375 52.6479167,92.5 46.25,92.5 Z M46.25,85.5625 C57.1958333,85.5625 66.484375,81.7276042 74.115625,74.0578125 C81.746875,66.3880208 85.5625,57.11875 85.5625,46.25 C85.5625,35.3041667 81.746875,26.015625 74.115625,18.384375 C66.484375,10.753125 57.1958333,6.9375 46.25,6.9375 C35.38125,6.9375 26.1119792,10.753125 18.4421875,18.384375 C10.7723958,26.015625 6.9375,35.3041667 6.9375,46.25 C6.9375,57.11875 10.7723958,66.3880208 18.4421875,74.0578125 C26.1119792,81.7276042 35.38125,85.5625 46.25,85.5625 Z",id:"Shape"}))));d();var _C=Jn(ur()),OLe=n=>_C.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},_C.createElement("title",null,"channel_preview"),_C.createElement("g",{id:"channel_preview",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},_C.createElement("g",{id:"analytics_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},_C.createElement("path",{d:"M21.0694444,72.3298611 L28.7777778,72.3298611 L28.7777778,45.9930556 L21.0694444,45.9930556 L21.0694444,72.3298611 Z M63.7222222,72.3298611 L71.4305556,72.3298611 L71.4305556,18.3715278 L63.7222222,18.3715278 L63.7222222,72.3298611 Z M42.3958333,72.3298611 L50.1041667,72.3298611 L50.1041667,57.1701389 L42.3958333,57.1701389 L42.3958333,72.3298611 Z M42.3958333,45.9930556 L50.1041667,45.9930556 L50.1041667,38.2847222 L42.3958333,38.2847222 L42.3958333,45.9930556 Z M7.70833333,92.5 C5.65277778,92.5 3.85416667,91.7291667 2.3125,90.1875 C0.770833333,88.6458333 0,86.8472222 0,84.7916667 L0,7.70833333 C0,5.65277778 0.770833333,3.85416667 2.3125,2.3125 C3.85416667,0.770833333 5.65277778,0 7.70833333,0 L84.7916667,0 C86.8472222,0 88.6458333,0.770833333 90.1875,2.3125 C91.7291667,3.85416667 92.5,5.65277778 92.5,7.70833333 L92.5,84.7916667 C92.5,86.8472222 91.7291667,88.6458333 90.1875,90.1875 C88.6458333,91.7291667 86.8472222,92.5 84.7916667,92.5 L7.70833333,92.5 Z M7.70833333,84.7916667 L84.7916667,84.7916667 L84.7916667,7.70833333 L7.70833333,7.70833333 L7.70833333,84.7916667 Z M7.70833333,7.70833333 L7.70833333,84.7916667 L7.70833333,7.70833333 Z",id:"Shape"}))));d();var bC=Jn(ur()),NLe=n=>bC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},bC.createElement("title",null,"channel_query"),bC.createElement("g",{id:"channel_query",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},bC.createElement("g",{id:"travel_explore_FILL0_wght400_GRAD0_opsz48",transform:"translate(2.685232, 3.500000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},bC.createElement("path",{d:"M43.9974969,93 C37.8673342,92.689612 32.1251564,91.2540676 26.7709637,88.6933667 C21.416771,86.1326658 16.7609512,82.7765957 12.8035044,78.6251564 C8.84605757,74.4737171 5.72277847,69.6433041 3.43366708,64.1339174 C1.14455569,58.6245307 0,52.7659574 0,46.5581977 C0,40.1176471 1.22215269,34.0650814 3.66645807,28.4005006 C6.11076345,22.7359199 9.42803504,17.8085106 13.6182728,13.6182728 C17.8085106,9.42803504 22.7359199,6.11076345 28.4005006,3.66645807 C34.0650814,1.22215269 40.1176471,0 46.5581977,0 C58.1201502,0 68.1689612,3.64705882 76.7046308,10.9411765 C85.2403004,18.2352941 90.4780976,27.3917397 92.4180225,38.4105131 L85.3178974,38.4105131 C83.9987484,31.8923655 81.2440551,26.0725907 77.0538173,20.951189 C72.8635795,15.8297872 67.6257822,11.9887359 61.3404255,9.42803504 L61.3404255,11.5231539 C61.3404255,14.2390488 60.4092616,16.6057572 58.5469337,18.6232791 C56.6846058,20.640801 54.3954944,21.649562 51.6795995,21.649562 L41.5531915,21.649562 L41.5531915,31.77597 C41.5531915,33.0951189 41.0294118,34.1814768 39.9818523,35.0350438 C38.9342929,35.8886108 37.7509387,36.3153942 36.4317897,36.3153942 L26.7709637,36.3153942 L26.7709637,46.5581977 L39.5744681,46.5581977 L39.5744681,61.1076345 L31.77597,61.1076345 L8.03128911,37.3629537 C7.64330413,38.9148936 7.37171464,40.4474343 7.21652065,41.9605757 C7.06132666,43.4737171 6.98372966,45.0062578 6.98372966,46.5581977 C6.98372966,57.0337922 10.514393,66.0738423 17.5757196,73.6783479 C24.6370463,81.2828536 33.4443054,85.3954944 43.9974969,86.0162703 L43.9974969,93 Z M89.6245307,89.9737171 L74.0275344,74.3767209 C72.3979975,75.5406758 70.6326658,76.4330413 68.7315394,77.0538173 C66.830413,77.6745932 64.8710889,77.9849812 62.853567,77.9849812 C57.3441802,77.9849812 52.6689612,76.0644556 48.8279099,72.2234043 C44.9868586,68.3823529 43.0663329,63.7071339 43.0663329,58.1977472 C43.0663329,52.6883605 44.9868586,48.0131414 48.8279099,44.1720901 C52.6689612,40.3310388 57.3441802,38.4105131 62.853567,38.4105131 C68.3629537,38.4105131 73.0381727,40.3310388 76.879224,44.1720901 C80.7202753,48.0131414 82.640801,52.6883605 82.640801,58.1977472 C82.640801,60.2152691 82.3110138,62.1745932 81.6514393,64.0757196 C80.9918648,65.9768461 80.1188986,67.7809762 79.0325407,69.4881101 L94.6295369,84.9687109 L89.6245307,89.9737171 Z M62.853567,71.0012516 C66.4230288,71.0012516 69.4493116,69.7596996 71.9324155,67.2765957 C74.4155194,64.7934919 75.6570713,61.767209 75.6570713,58.1977472 C75.6570713,54.6282854 74.4155194,51.6020025 71.9324155,49.1188986 C69.4493116,46.6357947 66.4230288,45.3942428 62.853567,45.3942428 C59.2841051,45.3942428 56.2578223,46.6357947 53.7747184,49.1188986 C51.2916145,51.6020025 50.0500626,54.6282854 50.0500626,58.1977472 C50.0500626,61.767209 51.2916145,64.7934919 53.7747184,67.2765957 C56.2578223,69.7596996 59.2841051,71.0012516 62.853567,71.0012516 Z",id:"Shape"}))));d();var dg=Jn(ur()),RLe=n=>dg.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},dg.createElement("title",null,"channel_samples"),dg.createElement("g",{id:"channel_samples",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},dg.createElement("g",{id:"Group",transform:"translate(5.000000, 5.000000)",fill:"#4285F4",className:"primary-fill"},dg.createElement("path",{d:"M20.25,6.75 L83.25,6.75 L83.25,70.875 L20.25,70.875 L20.25,6.75 Z M20.25,0 C18.45,0 16.875,0.675 15.525,2.025 C14.175,3.375 13.5,4.95 13.5,6.75 L13.5,69.75 C13.5,71.55 14.175,73.125 15.525,74.475 C16.875,75.825 18.45,76.5 20.25,76.5 L83.25,76.5 C85.05,76.5 86.625,75.825 87.975,74.475 C89.325,73.125 90,71.55 90,69.75 L90,6.75 C90,4.95 89.325,3.375 87.975,2.025 C86.625,0.675 85.05,0 83.25,0 L20.25,0 Z M6.75,90 C4.95,90 3.375,89.325 2.025,87.975 C0.675,86.625 0,85.05 0,83.25 L0,13.5 L6.75,13.5 L6.75,83.25 L76.5,83.25 L76.5,90 L6.75,90 Z",id:"Shape",fillRule:"nonzero"}),dg.createElement("rect",{id:"Rectangle",x:30.1571655,y:21.9026527,width:42.7656174,height:6.46202087}),dg.createElement("rect",{id:"Rectangle-Copy",x:30.1571655,y:36.2815933,width:42.7656174,height:6.46202087}),dg.createElement("rect",{id:"Rectangle-Copy-2",x:30.1571655,y:50.2489586,width:22.6109238,height:6.46202087}))));d();var EC=Jn(ur()),LLe=n=>EC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},EC.createElement("title",null,"channel_settings"),EC.createElement("g",{id:"channel_settings",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},EC.createElement("g",{id:"settings_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},EC.createElement("path",{d:"M35.6125,92.5 L33.3,77.93125 C31.8354167,77.3916667 30.29375,76.659375 28.675,75.734375 C27.05625,74.809375 25.6302083,73.8458333 24.396875,72.84375 L10.753125,79.0875 L0,60.125 L12.4875,50.990625 C12.3333333,50.296875 12.2369792,49.5067708 12.1984375,48.6203125 C12.1598958,47.7338542 12.140625,46.94375 12.140625,46.25 C12.140625,45.55625 12.1598958,44.7661458 12.1984375,43.8796875 C12.2369792,42.9932292 12.3333333,42.203125 12.4875,41.509375 L0,32.375 L10.753125,13.4125 L24.396875,19.65625 C25.6302083,18.6541667 27.05625,17.690625 28.675,16.765625 C30.29375,15.840625 31.8354167,15.146875 33.3,14.684375 L35.6125,0 L56.8875,0 L59.2,14.56875 C60.6645833,15.1083333 62.2255208,15.8213542 63.8828125,16.7078125 C65.5401042,17.5942708 66.946875,18.5770833 68.103125,19.65625 L81.746875,13.4125 L92.5,32.375 L80.0125,41.278125 C80.1666667,42.0489583 80.2630208,42.8776042 80.3015625,43.7640625 C80.3401042,44.6505208 80.359375,45.4791667 80.359375,46.25 C80.359375,47.0208333 80.3401042,47.8302083 80.3015625,48.678125 C80.2630208,49.5260417 80.1666667,50.3354167 80.0125,51.10625 L92.5,60.125 L81.746875,79.0875 L68.103125,72.84375 C66.8697917,73.8458333 65.4630208,74.8286458 63.8828125,75.7921875 C62.3026042,76.7557292 60.7416667,77.46875 59.2,77.93125 L56.8875,92.5 L35.6125,92.5 Z M46.25,61.28125 C50.4125,61.28125 53.9583333,59.8166667 56.8875,56.8875 C59.8166667,53.9583333 61.28125,50.4125 61.28125,46.25 C61.28125,42.0875 59.8166667,38.5416667 56.8875,35.6125 C53.9583333,32.6833333 50.4125,31.21875 46.25,31.21875 C42.0875,31.21875 38.5416667,32.6833333 35.6125,35.6125 C32.6833333,38.5416667 31.21875,42.0875 31.21875,46.25 C31.21875,50.4125 32.6833333,53.9583333 35.6125,56.8875 C38.5416667,59.8166667 42.0875,61.28125 46.25,61.28125 Z M46.25,54.34375 C44.0145833,54.34375 42.1067708,53.5536458 40.5265625,51.9734375 C38.9463542,50.3932292 38.15625,48.4854167 38.15625,46.25 C38.15625,44.0145833 38.9463542,42.1067708 40.5265625,40.5265625 C42.1067708,38.9463542 44.0145833,38.15625 46.25,38.15625 C48.4854167,38.15625 50.3932292,38.9463542 51.9734375,40.5265625 C53.5536458,42.1067708 54.34375,44.0145833 54.34375,46.25 C54.34375,48.4854167 53.5536458,50.3932292 51.9734375,51.9734375 C50.3932292,53.5536458 48.4854167,54.34375 46.25,54.34375 Z M41.1625,85.5625 L51.3375,85.5625 L52.95625,72.6125 C55.5,71.9958333 57.9088542,71.0322917 60.1828125,69.721875 C62.4567708,68.4114583 64.51875,66.83125 66.36875,64.98125 L78.625,70.3 L83.25,61.975 L72.38125,53.996875 C72.6895833,52.6864583 72.9401042,51.3953125 73.1328125,50.1234375 C73.3255208,48.8515625 73.421875,47.5604167 73.421875,46.25 C73.421875,44.9395833 73.3447917,43.6484375 73.190625,42.3765625 C73.0364583,41.1046875 72.7666667,39.8135417 72.38125,38.503125 L83.25,30.525 L78.625,22.2 L66.36875,27.51875 C64.5958333,25.5145833 62.5916667,23.8380208 60.35625,22.4890625 C58.1208333,21.1401042 55.6541667,20.2729167 52.95625,19.8875 L51.3375,6.9375 L41.1625,6.9375 L39.54375,19.8875 C36.9229167,20.4270833 34.4755208,21.3520833 32.2015625,22.6625 C29.9276042,23.9729167 27.9041667,25.5916667 26.13125,27.51875 L13.875,22.2 L9.25,30.525 L20.11875,38.503125 C19.8104167,39.8135417 19.5598958,41.1046875 19.3671875,42.3765625 C19.1744792,43.6484375 19.078125,44.9395833 19.078125,46.25 C19.078125,47.5604167 19.1744792,48.8515625 19.3671875,50.1234375 C19.5598958,51.3953125 19.8104167,52.6864583 20.11875,53.996875 L9.25,61.975 L13.875,70.3 L26.13125,64.98125 C27.98125,66.83125 30.0432292,68.4114583 32.3171875,69.721875 C34.5911458,71.0322917 37,71.9958333 39.54375,72.6125 L41.1625,85.5625 Z",id:"Shape"}))));d();var SC=Jn(ur()),kLe=n=>SC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},SC.createElement("title",null,"channel_source"),SC.createElement("g",{id:"channel_source",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},SC.createElement("g",{id:"account_tree_FILL0_wght400_GRAD0_opsz48",transform:"translate(50.000000, 50.000000) scale(-1, -1) translate(-50.000000, -50.000000) translate(3.333333, 8.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},SC.createElement("path",{d:"M61.1333333,84 L61.1333333,69.4166667 L43.1666667,69.4166667 L43.1666667,21.5833333 L32.3166667,21.5833333 L32.3166667,36.75 L0,36.75 L0,0 L32.3166667,0 L32.3166667,14.5833333 L61.1333333,14.5833333 L61.1333333,0 L93.3333333,0 L93.3333333,36.75 L61.1333333,36.75 L61.1333333,21.5833333 L50.1666667,21.5833333 L50.1666667,62.4166667 L61.1333333,62.4166667 L61.1333333,47.25 L93.3333333,47.25 L93.3333333,84 L61.1333333,84 Z M7,7 L7,29.75 L7,7 Z M68.1333333,54.25 L68.1333333,77 L68.1333333,54.25 Z M68.1333333,7 L68.1333333,29.75 L68.1333333,7 Z M68.1333333,29.75 L86.3333333,29.75 L86.3333333,7 L68.1333333,7 L68.1333333,29.75 Z M68.1333333,77 L86.3333333,77 L86.3333333,54.25 L68.1333333,54.25 L68.1333333,77 Z M7,29.75 L25.3166667,29.75 L25.3166667,7 L7,7 L7,29.75 Z",id:"Shape"}))));d();var Cae=Jn(ur()),ILe=n=>Cae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100px",height:"100px",viewBox:"5 5 38 38",role:"img",...n},Cae.createElement("path",{className:"primary-fill",d:"M11 39h7.5V26.5h11V39H37V19.5L24 9.75 11 19.5Zm-3 3V18L24 6l16 12v24H26.5V29.5h-5V42Zm16-17.65Z"}));var wae=({name:n})=>{let e={width:"18px",height:"18px"};switch(n){case"about":return m.createElement(TLe,{...e});case"feedback":return m.createElement(FLe,{...e});case"help":return m.createElement(DLe,{...e});case"preview":return m.createElement(OLe,{...e});case"query":return m.createElement(NLe,{...e});case"samples":return m.createElement(RLe,{...e});case"settings":return m.createElement(LLe,{...e});case"source":return m.createElement(kLe,{...e});case"home":return m.createElement(ILe,{...e})}};var CC=({icon:n,text:e,onClick:t,selected:r,disabled:i=!1})=>m.createElement(tOt,{onClick:t,selected:r,disabled:i},m.createElement(wae,{name:n}),e),tOt=_n.button`
  outline: none;
  border: none;
  color: ${Yr.dimension.fillStrong};
  display: flex;
  flex-direction: column;
  background-color: transparent;
  gap: 8px;
  align-items: center;
  justify-content: center;
  padding: 10px;
  font-weight: 600;

  ${({selected:n,disabled:e})=>(e?`
      .primary-fill {
        fill: ${Yr.other.fillMedium};
      }

      color: ${Yr.other.fillMedium};
    `:`
      cursor: pointer;

      &:hover {
        background-color: ${Yr.other.fillLight};
      }

      .primary-fill {
        fill: ${Yr.other.fillStrong};
      }

      color: ${Yr.other.fillStrong};
    `)+(n?`
      color: ${Yr.dimension.fillStrong};

      &:hover {
        background-color: ${Yr.dimension.fillLight};
      }

      .primary-fill {
        fill: ${Yr.dimension.fillStrong};
      }
      `:"")}
`;d();d();var MLe=_n.div`
  padding: 5px;
  background-color: #fbb;
  font-family: "Google Sans", sans-serif;
  font-size: 12px;
  color: #4b4c50;
  border-radius: 5px;
`,nOt=_n(MLe)`
  white-space: pre-wrap;
  font-family: "Roboto Mono", monospace;
`,Aae=({error:n})=>{if(n){let{message:e}=n;return e.split(`
`).length>1?m.createElement(nOt,null,e):m.createElement(MLe,null,e)}return null};var zze=Jn(Cke());d();async function tNt(n,e,t){return t===void 0||n===void 0?void 0:Rm()?SLe(n,t):(await(await fetch("api/top_values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,source:t})})).json()).result}function wke(n,e,t){let{data:r}=ox(["top_values",e,t?.name],()=>tNt(n,e,t),{refetchOnWindowFocus:!1});return r}d();d();var Ake=Jn(ur());function Gh(n,e){(0,Ake.useEffect)(()=>{let t=Array.isArray(n)?n:[n],r=!1,i=(l,f)=>!l.current||f.target instanceof Element&&l.current.contains(f.target),s=l=>t.some(f=>i(f,l)),o=l=>{!r||s(l)||(e(l),r=!1)},a=l=>{s(l)||(r=!0)};return document.addEventListener("mouseup",o),document.addEventListener("mousedown",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("mousedown",a)}},[n,e])}d();var Xz=Jn(ur());function Zz(n){let e=(0,Xz.useRef)();return(0,Xz.useEffect)(()=>{e.current=n}),e.current}d();var m4=Jn(ur());d();d();function eH(n,e){if(n===void 0)return{stageIndex:e.stageIndex};if(e.fieldIndex===void 0)throw new Error("Invalid push to stage path");return{stageIndex:e.stageIndex,parts:[...n.parts||[],{stageIndex:n.stageIndex,fieldIndex:e.fieldIndex}]}}function tH(n){if(n.parts&&n.parts.length>0){let e=n.parts[0];return{stageIndex:e.stageIndex,fieldIndex:e.fieldIndex,stagePath:{stageIndex:n.stageIndex,parts:n.parts.slice(1)}}}return{stageIndex:n.stageIndex}}function Tke(n){return n.parts?{stagePath:{stageIndex:n.parts[0].stageIndex,parts:n.parts?.slice(1)},stageIndex:n.stageIndex,fieldIndex:n.parts[0].fieldIndex}:{stagePath:void 0,fieldIndex:void 0,stageIndex:n.stageIndex}}var fa=Jn(gf());d();d();d();var Fke=["accept","aggregate","declare","dimension","except","explore","group_by","having","index","join_cross","join_one","join_many","limit","measure","nest","order_by","primary_key","project","query","rename","sample","source","sql","turduck","top","where","all","as","asc","avg","boolean","by","case","cast","condition","count","date","day","days","desc","distinct","else","end","exclude","false","for","from","from_sql","has","hour","hours","import","is","json","last","max","min","minute","minutes","month","months","not","now","null","number","on","or","pick","quarter","quarters","second","seconds","string","sum","table","then","this","timestamp","to","true","turtle","week","weeks","when","with","year","years","ungrouped"];var i2=n=>n.split(".").map(e=>e.replace(/(^`|`$)/g,"")).join(".");function nNt(n){let e=!n.match(/^[A-Za-z_][A-Za-z_0-9]*$/),t=Fke.includes(n.toLowerCase());return e||t}function Ou(n){let e=n.split(".");for(let t=0;t<e.length;t++)nNt(e[t])&&(e[t]=`\`${e[t]}\``);return e.join(".")}function s2(n,e){if(e.length===0)throw new Error("Alternation must have some values");return e.join(" "+n+" ")}function Mae(n,e){let t=Ou(n);switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${t} = ${s2("|",e.values.map(r=>r.toString()))}`;case"is_not_equal_to":return e.values.length===0?"true":`${t} != ${s2("&",e.values.map(r=>r.toString()))}`;case"is_between":return`${t}: ${e.lowerBound} to ${e.upperBound}`;case"is_greater_than":return`${t} > ${e.value}`;case"is_less_than":return`${t} < ${e.value}`;case"is_greater_than_or_equal_to":return`${t} >= ${e.value}`;case"is_less_than_or_equal_to":return`${t} <= ${e.value}`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"custom":return`${t}: ${e.partial}`}}function u6(n,e){let t=Ou(n);switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${t} = ${s2("|",e.values.map(d4))}`;case"is_not_equal_to":return e.values.length===0?"true":`${t} != ${s2("&",e.values.map(d4))}`;case"contains":return e.values.length===0?"true":`${t} ~ ${s2("|",e.values.map(TC).map(r=>`%${r}%`).map(d4))}`;case"does_not_contain":return e.values.length===0?"true":`${t} !~ ${s2("&",e.values.map(TC).map(r=>`%${r}%`).map(d4))}`;case"starts_with":return e.values.length===0?"true":`${t} ~ ${s2("|",e.values.map(TC).map(r=>`${r}%`).map(d4))}`;case"does_not_start_with":return e.values.length===0?"true":`${t} !~ ${s2("&",e.values.map(TC).map(r=>`${r}%`).map(d4))}`;case"ends_with":return e.values.length===0?"true":`${t} ~ ${s2("|",e.values.map(TC).map(r=>`%${r}`).map(d4))}`;case"does_not_end_with":return e.values.length===0?"true":`${t} !~ ${s2("&",e.values.map(TC).map(r=>`%${r}`).map(d4))}`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"is_blank":return`${t} = ''`;case"is_not_blank":return`${t} != ''`;case"custom":return`${t}: ${e.partial}`}}function Pae(n,e){let t=Ou(n);switch(e.type){case"is_false":return`not ${t}`;case"is_true":return`${t}`;case"is_true_or_null":return`${t}: true | null`;case"is_false_or_null":return`${t}: false | null`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"custom":return`${t}: ${e.partial}`}}function Bae(n,e){let t=Ou(n);switch(e.type){case"is_in_the_past":return`${t}: now - ${e.amount} ${e.unit} for ${e.amount} ${e.unit}`;case"is_last":return`${t}.${e.period} = now.${e.period} - 1 ${e.period}`;case"is_this":return`${t}.${e.period} = now.${e.period}`;case"is_on":return`${t}.${e.granularity} = ${rO(e.date,e.granularity)}`;case"is_after":return`${t}.${e.granularity} > ${rO(e.date,e.granularity)}`;case"is_before":return`${t}.${e.granularity} < ${rO(e.date,e.granularity)}`;case"is_between":return`${t}.${e.granularity}: ${rO(e.start,e.granularity)} to ${rO(e.end,e.granularity)}`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"custom":return`${t}: ${e.partial}`}}function TC(n){return n.replace(/%/g,"%%")}function d4(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}function rO(n,e){switch(e){case"year":return`@${Ia(n.getUTCFullYear(),4)}`;case"quarter":{let t=Ia(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`@${t}-Q${r}`}case"month":{let t=Ia(n.getUTCFullYear(),2),r=Ia(n.getUTCMonth()+1,2);return`@${t}-${r}`}case"week":{let t=Ia(n.getUTCFullYear(),2),r=Ia(n.getUTCMonth()+1,2),i=Ia(n.getUTCDate(),2);return`@WK${t}-${r}-${i}`}case"day":{let t=Ia(n.getUTCFullYear(),2),r=Ia(n.getUTCMonth()+1,2),i=Ia(n.getUTCDate(),2);return`@${t}-${r}-${i}`}case"hour":{let t=Ia(n.getUTCFullYear(),2),r=Ia(n.getUTCMonth()+1,2),i=Ia(n.getUTCDate(),2),s=Ia(n.getUTCHours(),2);return`@${t}-${r}-${i} ${s}:00`}case"minute":{let t=Ia(n.getUTCFullYear(),2),r=Ia(n.getUTCMonth()+1,2),i=Ia(n.getUTCDate(),2),s=Ia(n.getUTCHours(),2),o=Ia(n.getUTCMinutes(),2);return`@${t}-${r}-${i} ${s}:${o}`}case"second":{let t=Ia(n.getUTCFullYear(),2),r=Ia(n.getUTCMonth()+1,2),i=Ia(n.getUTCDate(),2),s=Ia(n.getUTCHours(),2),o=Ia(n.getUTCMinutes(),2),a=Ia(n.getUTCSeconds(),2);return`@${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}function Ia(n,e){return n.toString().padStart(e,"0")}function Dke(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":case"starts_with":case"does_not_start_with":case"contains":case"does_not_contain":case"ends_with":case"does_not_end_with":return{type:e,values:"values"in n?n.values:[]};case"is_blank":case"is_not_blank":case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function Oke(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":return{type:e,values:"values"in n?n.values:"value"in n?[n.value]:"lowerBound"in n?[n.lowerBound]:[]};case"is_greater_than":case"is_less_than":case"is_greater_than_or_equal_to":case"is_less_than_or_equal_to":return{type:e,value:"value"in n?n.value:"values"in n&&n.values[0]||0};case"is_between":return{type:e,lowerBound:"value"in n?n.value:"values"in n&&n.values[0]||0,upperBound:0};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function Nke(n,e){switch(e){case"is_in_the_past":return{type:e,unit:"days",amount:7};case"is_last":case"is_this":return{type:e,period:"day",amount:1};case"is_on":case"is_after":case"is_before":return{type:e,granularity:"granularity"in n?n.granularity:"day",date:"date"in n?n.date:"start"in n?n.start:new Date};case"is_between":return{type:e,granularity:"granularity"in n?n.granularity:"day",start:"date"in n?n.date:new Date,end:new Date};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function Rke(n,e){switch(e){case"custom":return{type:e,partial:""};default:return{type:e}}}var nH="[a-zA-Z_]",FC="[0-9]",Lke=`${nH}(?:${nH}|${FC})*`,kke=`\`${nH}(?:${nH}|${FC}|\\s)*\``,rNt=`(?:${Lke}|${kke})(?:\\.(?:${Lke}|${kke}))*`,Oo=`(?:${rNt})`,iNt=new RegExp(`^not (${Oo})$`),sNt=new RegExp(`^(${Oo})$`),oNt=new RegExp(`^(${Oo}):\\s*true\\s*\\|\\s*null$`),aNt=new RegExp(`^(${Oo}):\\s*false\\s*\\|\\s*null$`),uNt=new RegExp(`^(${Oo})\\s*=\\s*null$`),lNt=new RegExp(`^(${Oo})\\s*!=\\s*null$`),cNt=new RegExp(`^(${Oo}):\\s*(.*)$`);function o2(n,e){return`${e}(?:\\s*\\${n}\\s*${e}\\s*)*`}var rH="(?:\\\\\\')|(?:\\\\\\\\)|(?:\\\\.)",Ike=`\\'(?:${rH}|[^\\\\\\\\'])*\\'`,Mke=`\\'%(?:${rH}|[^\\\\\\\\'])*%\\'`,Pke=`\\'(?:${rH}|[^\\\\\\\\'])*%\\'`,Bke=`\\'%(?:${rH}|[^\\\\\\\\'])*\\'`,fNt=new RegExp(`^(${Oo})\\s*=\\s\\'\\'$`),dNt=new RegExp(`^(${Oo})\\s*!=\\s\\'\\'$`),hNt=new RegExp(`^(${Oo})\\s*=\\s*(${o2("|",Ike)})$`),pNt=new RegExp(`^(${Oo})\\s*!=\\s*(${o2("&",Ike)})$`),mNt=new RegExp(`^(${Oo})\\s*~\\s*(${o2("|",Mke)})$`),xNt=new RegExp(`^(${Oo})\\s*!~\\s*(${o2("&",Mke)})$`),gNt=new RegExp(`^(${Oo})\\s*~\\s*(${o2("|",Pke)})$`),yNt=new RegExp(`^(${Oo})\\s*~\\s*(${o2("|",Bke)})$`),vNt=new RegExp(`^(${Oo})\\s*!~\\s*(${o2("&",Pke)})$`),_Nt=new RegExp(`^(${Oo})\\s*!~\\s*(${o2("&",Bke)})$`),a2=`${FC}+(?:\\.${FC}*)?`,bNt=new RegExp(`^(${Oo})\\s*=\\s*(${o2("|",a2)})$`),ENt=new RegExp(`^(${Oo})\\s*!=\\s*(${o2("&",a2)})$`),SNt=new RegExp(`^(${Oo})\\s*:\\s*(${a2})\\s*to\\s*(${a2})$`),CNt=new RegExp(`^(${Oo})\\s*>\\s*(${a2})$`),wNt=new RegExp(`^(${Oo})\\s*<\\s*(${a2})$`),ANt=new RegExp(`^(${Oo})\\s*>=\\s*(${a2})$`),TNt=new RegExp(`^(${Oo})\\s*<=\\s*(${a2})$`),e1="(?:year|quarter|month|week|day|hour|minute|second)",FNt=new RegExp(`^(${Oo})\\s*:\\s*now\\s*-\\s*(${a2})\\s*(${e1})s?\\s*for\\s*\\s*(${a2})\\s*(${e1})s?$`),DNt=new RegExp(`^(${Oo})\\.(${e1})\\s*=\\s*now\\.(${e1})\\s*-\\s*1\\s*(${e1})$`),ONt=new RegExp(`^(${Oo})\\.(${e1})\\s*=\\s*now\\.(${e1})$`),jae=`${FC}{4}`,l6=`${FC}{2}`,jke=`@${jae}(?:-${l6}(?:-${l6}(?: ${l6}:${l6}(?::${l6})?)?)?)?`,qke=`@${jae}-Q[1234]`,Uke=`@WK${jae}-${l6}-${l6}`,iO=`(?:${jke}|${qke}|${Uke})`,NNt=new RegExp(`^(${Oo})\\.(${e1})\\s*=\\s*(${iO})$`),RNt=new RegExp(`^(${Oo})\\.(${e1})\\s*>\\s*(${iO})$`),LNt=new RegExp(`^(${Oo})\\.(${e1})\\s*<\\s*(${iO})$`),kNt=new RegExp(`^(${Oo})\\.(${e1})\\s*:\\s*(${iO})\\s*to\\s*(${iO})$`);function Yi(n){return i2(n)}function $ke(n){return INt(n)??BNt(n)??jNt(n)??qNt(n)??MNt(n)}function INt(n){let e=n.match(iNt);if(e)return{field:Yi(e[1]),filter:{type:"is_false"}};let t=n.match(sNt);if(t)return{field:Yi(t[1]),filter:{type:"is_true"}};let r=n.match(oNt);if(r)return{field:Yi(r[1]),filter:{type:"is_true_or_null"}};let i=n.match(aNt);if(i)return{field:Yi(i[1]),filter:{type:"is_false_or_null"}}}function MNt(n){let e=n.match(uNt);if(e)return{field:Yi(e[1]),filter:{type:"is_null"}};let t=n.match(lNt);if(t)return{field:Yi(t[1]),filter:{type:"is_not_null"}};let r=n.match(cNt);if(r)return{field:Yi(r[1]),filter:{type:"custom",partial:r[2]}}}function h4(n){return n.replace(/\\(.)/g,"$1")}function p4(n){return n.substring(1,n.length-1)}function zke(n){return n.substring(1,n.length-1)}function Hke(n){return n.substring(0,n.length-1)}function Vke(n){return n.substring(1)}function mg(n){return parseFloat(n)}function u2(n,e){return e.split(new RegExp(`\\s*\\${n}\\s*`))}function PNt(n){if(["year","quarter","month","week","day","hour","minute","second"].includes(n))return n+"s";throw new Error(`Invalid time unit '${n}'`)}function DC(n){if(["year","quarter","month","week","day","hour","minute","second"].includes(n))return n;throw new Error(`Invalid time period '${n}'`)}function sO(n){let e=n.match(new RegExp(`^${jke}$`)),t=n.match(new RegExp(`^${Uke}$`));if(e||t){let r=e?n.substring(1):n.substring(3);return r.length===4?new Date(parseInt(n.substring(0,4)),0,1):r.length===7?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,1):r.length===10?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10))):r.length===16?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10)),parseInt(r.substring(11,13)),parseInt(r.substring(14,16))):new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10)),parseInt(r.substring(11,13)),parseInt(r.substring(14,16)),parseInt(r.substring(17,19)))}else if(n.match(new RegExp(`^${qke}$`)))return new Date(parseInt(n.substring(1,5)),3*parseInt(n.substring(7,8))-1,1);throw new Error(`Invalid Malloy date: ${n}`)}function BNt(n){let e=n.match(fNt);if(e)return{field:Yi(e[1]),filter:{type:"is_blank"}};let t=n.match(dNt);if(t)return{field:Yi(t[1]),filter:{type:"is_not_blank"}};let r=n.match(hNt);if(r)return{field:Yi(r[1]),filter:{type:"is_equal_to",values:u2("|",r[2]).map(p4).map(h4)}};let i=n.match(pNt);if(i)return{field:Yi(i[1]),filter:{type:"is_not_equal_to",values:u2("&",i[2]).map(p4).map(h4)}};let s=n.match(mNt);if(s)return{field:Yi(s[1]),filter:{type:"contains",values:u2("|",s[2]).map(p4).map(h4).map(zke)}};let o=n.match(xNt);if(o)return{field:Yi(o[1]),filter:{type:"does_not_contain",values:u2("&",o[2]).map(p4).map(h4).map(zke)}};let a=n.match(gNt);if(a)return{field:Yi(a[1]),filter:{type:"starts_with",values:u2("|",a[2]).map(p4).map(h4).map(Hke)}};let l=n.match(yNt);if(l)return{field:Yi(l[1]),filter:{type:"ends_with",values:u2("|",l[2]).map(p4).map(h4).map(Vke)}};let f=n.match(vNt);if(f)return{field:Yi(f[1]),filter:{type:"does_not_start_with",values:u2("&",f[2]).map(p4).map(h4).map(Hke)}};let p=n.match(_Nt);if(p)return{field:Yi(p[1]),filter:{type:"does_not_end_with",values:u2("&",p[2]).map(p4).map(h4).map(Vke)}}}function jNt(n){let e=n.match(bNt);if(e)return{field:Yi(e[1]),filter:{type:"is_equal_to",values:u2("|",e[2]).map(mg)}};let t=n.match(ENt);if(t)return{field:Yi(t[1]),filter:{type:"is_not_equal_to",values:u2("&",t[2]).map(mg)}};let r=n.match(CNt);if(r)return{field:Yi(r[1]),filter:{type:"is_greater_than",value:mg(Yi(r[2]))}};let i=n.match(wNt);if(i)return{field:Yi(i[1]),filter:{type:"is_less_than",value:mg(Yi(i[2]))}};let s=n.match(TNt);if(s)return{field:Yi(s[1]),filter:{type:"is_greater_than_or_equal_to",value:mg(Yi(s[2]))}};let o=n.match(ANt);if(o)return{field:Yi(o[1]),filter:{type:"is_less_than_or_equal_to",value:mg(Yi(o[2]))}};let a=n.match(SNt);if(a)return{field:Yi(a[1]),filter:{type:"is_between",lowerBound:mg(Yi(a[2])),upperBound:mg(Yi(a[3]))}}}function qNt(n){let e=n.match(FNt);if(e)return{field:Yi(e[1]),filter:{type:"is_in_the_past",amount:mg(Yi(e[2])),unit:PNt(Yi(e[3]))}};let t=n.match(DNt);if(t)return{field:Yi(t[1]),filter:{type:"is_last",period:DC(Yi(t[2]))}};let r=n.match(ONt);if(r)return{field:Yi(r[1]),filter:{type:"is_this",period:DC(Yi(r[2]))}};let i=n.match(NNt);if(i)return{field:Yi(i[1]),filter:{type:"is_on",granularity:DC(Yi(i[2])),date:sO(Yi(i[3]))}};let s=n.match(RNt);if(s)return{field:Yi(s[1]),filter:{type:"is_after",granularity:DC(Yi(s[2])),date:sO(Yi(s[3]))}};let o=n.match(LNt);if(o)return{field:Yi(o[1]),filter:{type:"is_before",granularity:DC(Yi(o[2])),date:sO(Yi(o[3]))}};let a=n.match(kNt);if(a)return{field:Yi(a[1]),filter:{type:"is_between",granularity:DC(Yi(a[2])),start:sO(Yi(a[3])),end:sO(Yi(a[4]))}}}var qae=class{constructor(e){this._source=e}updateSource(e){this._source=e}getSource(){return this._source}fieldDefForQueryFieldDef(e,t){return typeof e=="string"?this.getField(t,e):(0,fa.isFilteredAliasedName)(e)?this.getField(t,e.name):e}getField(e,t){let r=t.split("."),i=e;for(;r.length>1;){let o=r[0],a=i.fields.find(l=>(l.as||l.name)===o);if(a===void 0)throw new Error(`Could not find (inner) ${o}`);if(a.type==="struct")i=a,r=r.slice(1);else if(a.type==="turtle"){let l=this.getSource();for(let f of a.pipeline)l=this.modifySourceForStage(f,l);i=l,r=r.slice(1)}else throw new Error("Inner segment in path is not a source")}let s=i.fields.find(o=>(o.as||o.name)===r[0]);if(s===void 0)throw new Error(`Could not find ${r[0]}`);return s}modifySourceForStage(e,t){return fa.Segment.nextStructDef(t,e)}},Uae={pipeline:[{type:"reduce",fields:[]}],name:"new_query",type:"turtle"},$ae=class extends Error{constructor(e,t){super(e);this.field=t}},zae=class extends qae{constructor(e){super(e);this.query=JSON.parse(JSON.stringify(Uae))}getWriter(){return new Wke(this.query,this._source)}getQuerySummary(e){return this._source===void 0?void 0:this.getWriter().getQuerySummary(e)}getQueryStringForModel(){return this._source===void 0?void 0:this.getWriter().getQueryStringForModel()}getQueryStringForSource(e){return this._source===void 0?void 0:this.getWriter().getQueryStringForSource(e)}getQueryStringForMarkdown(e,t){return this._source===void 0?void 0:this.getWriter().getQueryStringForMarkdown(e,t)}getQueryStrings(e,t){let r=this.getWriter();return{model:r.getQueryStringForModel(),source:r.getQueryStringForSource(this.query.name),markdown:r.getQueryStringForMarkdown(e,t),isRunnable:this.canRun()}}getName(){return this.query.name}isEmpty(){return JSON.stringify(this.query)===JSON.stringify(Uae)}clearQuery(){this.query=JSON.parse(JSON.stringify(Uae))}setQuery(e){this.query={pipeline:e.pipeline,name:e.as||e.name,type:"turtle"}}autoExpandStageAtPath(e){try{return this.stageAtPath(e)}catch(t){if(t instanceof $ae){let{stagePath:r,fieldIndex:i}=tH(e);if(this.fieldDefForQueryFieldDef(t.field,this.sourceForStageAtPath(r)).type==="turtle")return this.replaceWithDefinition(r,i),this.stageAtPath(e)}throw t}}stageAtPath(e){let t=this.query.pipeline;for(;;){let{stagePath:r,stageIndex:i,fieldIndex:s}=tH(e);if(s!==void 0){let o=t[i].fields[s];if(typeof o=="string"||(0,fa.isFilteredAliasedName)(o)||o.type!=="turtle")throw new $ae("Path does not refer to a stage correctly",o);if(t=o.pipeline,r===void 0)throw new Error("Invalid stage path");e=r}else return t[i]}}sourceForStageAtPath(e){let t=this.query.pipeline,r=this.getSource();for(;;){let{stagePath:i,stageIndex:s,fieldIndex:o}=tH(e);for(let a=0;a<s;a++)r=this.modifySourceForStage(t[a],r);if(o!==void 0){let a=t[s].fields[o];if(typeof a=="string"||(0,fa.isFilteredAliasedName)(a)||a.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=a.pipeline,i===void 0)throw new Error("Invalid stage path");e=i}else return r}}sortOrder(e){return e.type==="struct"?3:e.type==="turtle"?2:(0,fa.expressionIsCalculation)(e.expressionType)?1:0}getIndexToInsertNewField(e,t){let r=this.stageAtPath(e),i=this.sourceForStageAtPath(e),s=this.fieldDefForQueryFieldDef(t,i),o=this.sortOrder(s);for(let a=0;a<r.fields.length;a++){let l=r.fields[a];try{let f=this.fieldDefForQueryFieldDef(l,i);if(this.sortOrder(f)>o)return a}catch(f){console.log(f)}}return r.fields.length}insertField(e,t){let r=this.autoExpandStageAtPath(e),i=this.getIndexToInsertNewField(e,t);r.fields.splice(i,0,t)}addField(e,t){this.insertField(e,t)}loadQuery(e){let t=this.getField(this.getSource(),e);if(t.type!=="turtle")throw new Error("Path does not refer to query.");t.pipeline.forEach((r,i)=>{if(this.query.pipeline[i]===void 0)this.query.pipeline[i]=JSON.parse(JSON.stringify(r));else{let s=this.query.pipeline[i];if(s.type!=="reduce"||r.type!=="reduce")throw new Error("Cannot load query with non-reduce stages");r.by&&(s.by={...r.by},s.orderBy=void 0),r.filterList&&(s.filterList=(s.filterList||[]).concat(...r.filterList.filter(o=>!s.filterList?.find(a=>a.code===o.code)))),r.limit&&(s.limit=r.limit),r.orderBy&&(s.orderBy=r.orderBy,s.by=void 0),s.fields=r.fields.map(o=>JSON.parse(JSON.stringify(o))).concat(s.fields.filter(o=>!r.fields.find(a=>this.nameOf(a)===this.nameOf(o))))}}),this.query.name=t.as||t.name}replaceQuery(e){let t=this.query.pipeline.length===1&&this.query.pipeline[0].fields.length===0?this.query.pipeline[0].filterList||[]:[],r=JSON.parse(JSON.stringify(e.pipeline));r[0].filterList=[...t,...r[0].filterList||[]],this.query={pipeline:r,name:e.as||e.name,type:"turtle"}}nameOf(e){return typeof e=="string"?e:e.as||e.name}replaceSavedField(e,t,r){this.stageAtPath(e).fields.splice(t,1,r)}removeField(e,t){let r=this.stageAtPath(e);if(r.type==="reduce"&&r.orderBy){let i=r.orderBy.findIndex(s=>{let o=r.fields[t];return s.field===this.nameOf(o)});i!==-1&&r.orderBy.splice(i,1)}r.fields.splice(t,1)}getFieldIndex(e,t){let i=this.stageAtPath(e).fields.findIndex(s=>s===t);return i===-1?void 0:i}hasField(e,t){return this.getFieldIndex(e,t)!==void 0}reorderFields(e,t){let r=this.stageAtPath(e),i=t.map(s=>r.fields[s]);r.fields=i}toggleField(e,t){this.autoExpandStageAtPath(e);let r=this.getFieldIndex(e,t);r!==void 0?this.removeField(e,r):this.addField(e,t)}getQuery(){return this.query}addFilter(e,t){let r=this.autoExpandStageAtPath(e);r.filterList=[...r.filterList||[],t]}editFilter(e,t,r,i){let s=this.stageAtPath(e);if(t===void 0){if(s.filterList===void 0)throw new Error("Stage has no filters.");s.filterList[r]=i}else{let o=s.fields[t];if(!(0,fa.isFilteredAliasedName)(o))throw new Error("Cannot edit filter on non FAN.");if(o.filterList===void 0)throw new Error("Field has no filters");o.filterList[r]=i}}removeFilter(e,t,r){let i=this.stageAtPath(e);if(r===void 0)i.filterList&&i.filterList.splice(t,1);else{let s=i.fields[r];(0,fa.isFilteredAliasedName)(s)&&s.filterList?.splice(r,1)}}hasLimit(e){let t=this.stageAtPath(e);if(t.type!=="reduce")throw new Error("Don't know how to handle this yet");return t.limit!==void 0}addLimit(e,t,r,i){let s=this.autoExpandStageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");s.limit=t,r&&(s.orderBy=[{field:r.path,dir:i}])}addOrderBy(e,t,r){let i=this.autoExpandStageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[];let s=i.fields[t],o=typeof s=="string"?s:s.as||s.name;i.orderBy.push({field:o,dir:r})}editOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[],i.orderBy[t]={field:i.orderBy[t].field,dir:r}}removeLimit(e){let t=this.stageAtPath(e);t.limit=void 0}addStage(e,t){let r;if(e!==void 0){let i=this.stageAtPath(e);if(t===void 0)throw new Error("fieldIndex must be provided if stagePath is");let s=i.fields[t];if(this.fieldDefForQueryFieldDef(s,this.sourceForStageAtPath(e)).type==="turtle")typeof s=="string"||(0,fa.isFilteredAliasedName)(s)?(this.replaceWithDefinition(e,t),r=i.fields[t]):r=s;else throw new Error("Invalid field to add stage to.")}else r=this.query;r.pipeline.push({type:"reduce",fields:[]})}removeStage(e){let{stagePath:t,fieldIndex:r,stageIndex:i}=Tke(e),s;if(t!==void 0){let o=this.stageAtPath(t);if(r===void 0)throw new Error("Invalid stage path");let a=o.fields[r];if(typeof a!="string"&&!(0,fa.isFilteredAliasedName)(a)&&a.type==="turtle")s=a;else throw new Error("Invalid field to add stage to.")}else s=this.query;s.pipeline.splice(i,1),s.pipeline.length===0&&s.pipeline.push({type:"reduce",fields:[]})}removeOrderBy(e,t){let r=this.stageAtPath(e);if(r.type!=="reduce")throw new Error("Don't know how to handle this yet");r.orderBy&&r.orderBy.splice(t,1)}canRun(){return this.query.pipeline[0].fields.length>0}renameField(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");let s=i.fields[t],o=this.nameOf(s);i.orderBy&&i.orderBy.forEach(a=>{a.field===o&&(a.field=r)}),typeof s=="string"?i.fields[t]={name:s,as:r}:((0,fa.isFilteredAliasedName)(s),s.as=r)}addFilterToField(e,t,r,i){i!==void 0&&this.renameField(e,t,i);let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");let o=s.fields[t];if(typeof o=="string"){if(i===void 0)throw new Error("As must be specified if field is not already renamed.")}else(0,fa.isFilteredAliasedName)(o)&&(o.filterList=[...o.filterList||[],r])}addNewNestedQuery(e,t){let r={name:t,type:"turtle",pipeline:[{type:"reduce",fields:[]}]};this.insertField(e,r)}addNewField(e,t){this.insertField(e,t)}editFieldDefinition(e,t,r){let i=this.stageAtPath(e);i.fields[t]=r}replaceWithDefinition(e,t,r){r===void 0&&(r=this._source);let i=this.stageAtPath(e),s=i.fields[t];if(typeof s!="string")throw new Error("Don't deal with this yet");let o=r.fields.find(a=>(a.as||a.name)===s);if(o===void 0)throw new Error("Field is not defined..");i.fields[t]=JSON.parse(JSON.stringify(o))}setName(e){this.query.name=e}},Wke=class extends qae{constructor(e,t){super(t);this.query=e}getQueryStringForMarkdown(e,t){let r=this.getMalloyString(!1,this.query.name);return`<!-- malloy-query
  name="${zp(this.query.name)}"
  description="Add a description here." ${e?`
  renderer="${e}"`:""}
  model="${t}"
-->
\`\`\`malloy
${r}
\`\`\``}getQueryStringForSource(e){return this.getMalloyString(!0,e)}getQueryStringForModel(){return this.getMalloyString(!1,this.query.name)}getFiltersString(e){let t=[];e.length===1?t.push(" "):t.push(xg,OC);for(let r=0;r<e.length;r++){let i=e[r];t.push(i.code),r!==e.length-1&&t.push(","),t.push(xg)}return e.length>1&&t.push(NC),t}codeInfoForField(e,t,r){try{if(typeof e=="string"){let i=this.getField(t,e);if(i.type==="struct")throw new Error("Don't know how to deal with this");return{property:i.type==="turtle"?"nest":(0,fa.expressionIsCalculation)(i.expressionType)?"aggregate":"group_by",malloy:[Ou(e)]}}else if((0,fa.isFilteredAliasedName)(e)){let i=this.getField(t,e.name);if(i.type==="struct")throw new Error("Don't know how to deal with this");let s=i.type==="turtle"?"nest":(0,fa.expressionIsCalculation)(i.expressionType)?"aggregate":"group_by",o=[],a=e.as===void 0?"":`${Ou(e.as)} is `;return o.push(`${a}${Ou(e.name)}`),e.filterList&&e.filterList.length>0&&(o.push(" {",OC,"where:"),o.push(...this.getFiltersString(e.filterList||[])),o.push(NC,"}")),{property:s,malloy:o}}else if(e.type==="turtle"){let i=[];i.push(`${Ou(e.as||e.name)} is`);let s=t,o=!0;for(let a of e.pipeline)o||i.push("->"),i.push(...this.getMalloyStringForStage(a,s,r+"  ")),s=this.modifySourceForStage(a,s),o=!1;return{property:"nest",malloy:i}}else{let i=(0,fa.expressionIsCalculation)(e.expressionType)?"aggregate":"group_by",s=[`${Ou(e.as||e.name)} is ${e.code}`];return{property:i,malloy:s}}}catch(i){console.log(i)}}writeMalloyForPropertyValues(e,t){return t.length===0?[]:t.length===1?[e,": ",...t[0],xg]:[e,": ",xg,OC,...t.flatMap(r=>[...r,xg]),NC]}getMalloyStringForStage(e,t,r=""){let i=[];i.push(" {",xg,OC),e.filterList&&e.filterList.length>0&&i.push("where:",...this.getFiltersString(e.filterList));let s,o=[];for(let a of e.fields){let l=this.codeInfoForField(a,t,r);l&&(s!==void 0&&l.property!==s&&(i.push(...this.writeMalloyForPropertyValues(s,o)),o=[]),s=l.property,o.push(l.malloy))}return s&&i.push(...this.writeMalloyForPropertyValues(s,o)),e.limit&&i.push(`limit: ${e.limit}`,xg),e.type==="reduce"&&e.orderBy&&e.orderBy.length>0&&(i.push("order_by: "),i.push(e.orderBy.map(a=>{let l;if(typeof a.field=="string"){let f=a.field.split(".");l=f[f.length-1]}else l=a.field;return`${typeof l=="string"?Ou(l):l}${a.dir?" "+a.dir:""}`}).join(", "),xg)),i.push(NC,"}"),i}getMalloyString(e,t){if(this.getSource()===void 0)return"";let r=[];r.push("query:"),t!==void 0&&r.push(`${Ou(t)} is`),e||r.push(Ou(this.getSource().as||this.getSource().name));let i=[r.join(" ")],s=this.getSource();for(let o of this.query.pipeline)e||i.push(" ->"),i.push(...this.getMalloyStringForStage(o,s)),s=this.modifySourceForStage(o,s);return Qke(i)}getSummaryItemsForFilterList(e,t){let r=[];for(let i=0;i<t.length;i++){let s=t[i],o=$ke(s.code);r.push({type:"filter",filterSource:s.code,filterIndex:i,fieldPath:o&&o.field,field:o&&this.getField(e,o.field),parsed:o&&o.filter})}return r}getQuerySummary(e){let t=this.query.name,r=this.getSource();return{stages:this.query.pipeline.map((s,o)=>{let a=this.getStageSummary(s,r,e);if(r=this.modifySourceForStage(s,r),o===this.query.pipeline.length-1){let l=this.getStyleItemForName(t,"query",e);l&&a.items.push(l)}return a})}}nameOf(e){return typeof e=="string"?e:e.as||e.name}getStyleItem(e,t,r){let i,s;if(typeof e=="string"){i=e;let o=this.getField(t,e);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":(0,fa.expressionIsCalculation)(o.expressionType)?"measure":"dimension"}else if(i=e.as||e.name,(0,fa.isFilteredAliasedName)(e)){let o=this.getField(t,e.name);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":(0,fa.expressionIsCalculation)(o.expressionType)?"measure":"dimension"}else s=e.type==="turtle"?"query":(0,fa.expressionIsCalculation)(e.expressionType)?"measure":"dimension";return this.getStyleItemForName(i,s,r)}getStyleItemForName(e,t,r){let i=r[e];if(!(i===void 0||i.renderer===void 0))return{type:"data_style",renderer:i.renderer,styleKey:e,canRemove:e in r,allowedRenderers:t==="query"||t==="source"?["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]:["number","boolean","currency","image","link","percent","text","time"]}}getStageSummary(e,t,r){let i=[],s=[];e.filterList&&i.push(...this.getSummaryItemsForFilterList(t,e.filterList));for(let o=0;o<e.fields.length;o++){let a=e.fields[o];try{let l=[],f=this.fieldDefForQueryFieldDef(a,t);if(f.type==="turtle"){let b=t;for(let F of f.pipeline)l.push(this.getStageSummary(F,b,r)),b=this.modifySourceForStage(F,b)}let p=this.getStyleItem(a,t,r),v=p?[p]:[];if(typeof a=="string"){if(f.type==="struct")throw new Error("Don't know how to deal with this");i.push({type:"field",field:f,saveDefinition:void 0,fieldIndex:o,isRefined:!1,styles:v.filter(b=>b.canRemove),isRenamed:!1,path:a,kind:f.type==="turtle"?"query":(0,fa.expressionIsCalculation)(f.expressionType)?"measure":"dimension",name:f.as||f.name,stages:l}),f.type!=="turtle"&&s.push({name:a,fieldIndex:o,type:f.type})}else if((0,fa.isFilteredAliasedName)(a)){if(f.type==="struct")throw new Error("Don't know how to deal with this");f.type!=="turtle"&&s.push({name:a.as||a.name,fieldIndex:o,type:f.type}),i.push({type:"field",field:f,saveDefinition:t===this.getSource()&&f.type!=="turtle"?this.fanToDef(a,f):void 0,fieldIndex:o,filters:this.getSummaryItemsForFilterList(t,a.filterList||[]),styles:v.filter(b=>b.canRemove),isRefined:!0,path:a.name,isRenamed:a.as!==void 0,name:a.as||a.name,kind:f.type==="turtle"?"query":(0,fa.expressionIsCalculation)(f.expressionType)?"measure":"dimension",stages:l})}else a.type==="turtle"?i.push({type:"nested_query_definition",name:a.as||a.name,fieldIndex:o,saveDefinition:t===this.getSource()?a:void 0,stages:l,styles:v}):(i.push({type:"field_definition",name:a.as||a.name,fieldIndex:o,field:a,saveDefinition:t===this.getSource()?a:void 0,source:a.code,kind:(0,fa.expressionIsCalculation)(a.expressionType)?"measure":"dimension",styles:v}),s.push({name:a.as||a.name,fieldIndex:o,type:a.type}))}catch(l){i.push({type:"error_field",field:a,name:this.nameOf(a),error:l.message,fieldIndex:o})}}if(e.limit&&i.push({type:"limit",limit:e.limit}),e.type==="reduce"&&e.orderBy)for(let o=0;o<e.orderBy.length;o++){let a=e.orderBy[o],l;typeof a.field=="string"?l=e.fields.findIndex(p=>this.nameOf(p)===a.field):l=a.field-1;let f=e.fields[l];if(f!==void 0){let p;if(typeof f=="string"?p=this.getField(t,f):(0,fa.isFilteredAliasedName)(f)?p=this.getField(t,f.as||f.name):p=f,p.type==="struct"||p.type==="turtle")continue;i.push({type:"order_by",byField:{type:p.type,fieldIndex:l,name:this.nameOf(p)},direction:a.dir,orderByIndex:o})}}return{items:i,orderByFields:s,inputSource:t}}fanToDef(e,t){let r=[e.name];e.filterList&&e.filterList.length>0&&(r.push(" {",OC,"where:"),r.push(...this.getFiltersString(e.filterList||[])),r.push(NC,"}"));let i=Qke(r);return{type:t.type,name:e.as||e.name,e:["ignore"],expressionType:t.expressionType,code:i}}},OC=Symbol("indent"),xg=Symbol("newline"),NC=Symbol("outdent"),UNt=2;function Qke(n){let e="",t=0,r=!0;for(let i of n)i===xg?(e+=`
`,r=!0):i===NC?t--:i===OC?t++:(r&&(e+=" ".repeat(t*UNt),r=!1),e+=i);return e}d();var Gke=Jn(gf());async function $Nt(n,e,t,r){if(Rm()){let s=await bLe(n,r,e);if(s instanceof Error)throw s;return s}let i=await(await fetch("api/run_query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,modelPath:t,queryName:r})})).json();return Gke.Result.fromJSON(i.result)}function Yke(n,e,t){let{data:r,mutateAsync:i,isLoading:s,reset:o}=uK(({query:l,queryName:f})=>$Nt(l,e,t,f),{onError:n});return{result:r,runQuery:(l,f)=>{o(),i({query:l,queryName:f})},isRunning:s,clearResult:o}}function Hae(n,e,t,r){let i=(0,m4.useRef)(new zae(void 0)),[s,o]=(0,m4.useState)(),[a,l]=(0,m4.useState)(!1),[,f]=(0,m4.useState)(0),p=(0,m4.useRef)({size:0,position:0}),v=Fy(),b=(0,m4.useRef)({}),F=te=>{i.current.updateSource(te)},D=i.current.getQuery()?.name,{result:M,runQuery:q,isRunning:N,clearResult:B}=Yke(o,n,e),I=()=>{let te=i.current.getQuerySummary({...r,...b.current}),Ae={stageIndex:te?te.stages.length-1:0};o(void 0),i.current?.hasLimit(Ae)||z(ot=>ot.addLimit(Ae,10),!0);let Xe=i.current.getQuery();if(i.current?.canRun()){let ot=i.current.getQueryStringForModel();q(ot,Xe.name),l(!1)}},z=(te,Ae=!1)=>{let Xe=JSON.parse(JSON.stringify(i.current.getQuery()));if(te(i.current),f(ot=>ot+1),i.current?.canRun())try{let ot=i.current.getQueryStringForModel();Ae||t({run:Ae,query:ot,styles:b.current}),l(!0),o(void 0)}catch(ot){i.current.setQuery(Xe),console.error(ot),o(ot)}else l(!0);if(!Ae){let ot=p.current.position+1;p.current.position=ot,p.current.size=ot}},ie=()=>{p.current.position>0&&(p.current.position--,v(-1))},L=()=>{p.current.position<p.current.size&&(p.current.position++,v(1))},Y=()=>{p.current.position=0,p.current.size=0},fe=(te=!1)=>{i.current.isEmpty()||(z(Ae=>{Ae.clearQuery(),b.current={}},te),B(),t({run:!1,query:void 0,styles:{}}))},me=(te,Ae)=>{z(Xe=>Xe.toggleField(te,Ae))},Be=(te,Ae)=>{z(Xe=>Xe.removeField(te,Ae))},tt=(te,Ae)=>{z(Xe=>Xe.addFilter(te,Ae))},st=(te,Ae,Xe,ot)=>{z(Ct=>Ct.editFilter(te,Ae,Xe,ot))},Qe=(te,Ae,Xe)=>{z(ot=>ot.removeFilter(te,Ae,Xe))},mt=(te,Ae)=>{z(Xe=>Xe.addLimit(te,Ae))},Lt=(te,Ae)=>{z(Xe=>Xe.addStage(te,Ae))},je=te=>{z(Ae=>Ae.removeStage(te))},Z=(te,Ae,Xe)=>{z(ot=>ot.addOrderBy(te,Ae,Xe))},Ke=(te,Ae,Xe)=>{z(ot=>ot.editOrderBy(te,Ae,Xe))},_e=(te,Ae)=>{z(Xe=>Xe.removeOrderBy(te,Ae))},De=te=>{z(Ae=>Ae.removeLimit(te))},be=(te,Ae,Xe)=>{z(ot=>ot.renameField(te,Ae,Xe))},de=(te,Ae,Xe,ot)=>{z(Ct=>Ct.addFilterToField(te,Ae,Xe,ot))},Ge=(te,Ae)=>{z(Xe=>Xe.addNewNestedQuery(te,Ae))},rt=(te,Ae)=>{z(Xe=>Xe.addNewField(te,Ae))},Bt=(te,Ae=!1)=>{z(Xe=>Xe.setQuery(te),Ae)},_t=(te,Ae,Xe)=>{z(ot=>ot.editFieldDefinition(te,Ae,Xe))},un=(te,Ae,Xe)=>{z(ot=>ot.editFieldDefinition(te,Ae,Xe))},Tt=(te,Ae)=>{z(Xe=>Xe.reorderFields(te,Ae))},Rt=(te,Ae)=>{z(Xe=>Xe.replaceWithDefinition(te,Ae))},Gt=te=>{z(Ae=>Ae.loadQuery(te))},xt=te=>{z(Ae=>Ae.replaceQuery(te))},ve=rt,Oe=te=>{z(Ae=>{Ae.clearQuery();for(let Xe of te)Ae.addFilter({stageIndex:0},Xe)})},xe=(te,Ae,Xe=!1)=>{let ot={...b.current};return Ae===void 0?te in ot&&delete ot[te]:ot[te]={renderer:Ae},z(()=>{b.current=ot},Xe),ot},le=(te,Ae=!1)=>{z(()=>{b.current=te},Ae)},Ye={...r,...b.current},Ve=i.current.getQuerySummary(Ye);return{dirty:a,queryBuilder:i,queryMalloy:i.current.getQueryStrings(b.current[D]?.renderer,e),queryName:D,clearQuery:fe,runQuery:I,isRunning:N,clearResult:B,source:i.current.getSource(),querySummary:Ve,dataStyles:Ye,result:M,error:s,canUndo:p.current.position>0,canRedo:p.current.position<p.current.size,setError:o,registerNewSource:F,undo:ie,redo:L,resetUndoHistory:Y,isQueryEmpty:i.current.isEmpty(),canQueryRun:i.current.canRun(),queryModifiers:{setDataStyles:le,setQuery:Bt,addFilter:tt,toggleField:me,addLimit:mt,addOrderBy:Z,addNewNestedQuery:Ge,addNewDimension:rt,addNewMeasure:ve,setDataStyle:xe,addStage:Lt,loadQuery:Gt,replaceQuery:xt,updateFieldOrder:Tt,removeField:Be,removeFilter:Qe,removeLimit:De,removeOrderBy:_e,renameField:be,addFilterToField:de,editLimit:mt,editFilter:st,replaceWithDefinition:Rt,editDimension:_t,editMeasure:un,editOrderBy:Ke,removeStage:je,clearQuery:fe,onDrill:Oe}}}d();d();var cle=Jn(ur());d();d();d();var oO=Jn(ur()),Kke=n=>oO.createElement("svg",{width:"110px",height:"110px",viewBox:"6 6 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},oO.createElement("title",null,"insert_group_by"),oO.createElement("g",{id:"insert_group_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},oO.createElement("path",{d:"M31.7463881,49.3114698 C32.6824928,49.3083801 33.6154932,49.1963884 34.5261904,48.9793527 L45.0010173,67.8024842 L45.0010173,67.8032565 C43.2956473,70.2493007 42.5480527,73.2367133 42.8986175,76.1988173 C43.2492613,79.1601303 44.6742783,81.890304 46.9033203,83.870708 C49.1330544,85.851903 52.0117188,86.9463056 54.9937928,86.9463056 C57.9758669,86.9463056 60.8545313,85.8518634 63.0834745,83.870708 C65.3132086,81.890304 66.7382058,79.1601303 67.0889682,76.1988173 C67.4396121,73.2369111 66.6919779,70.2493007 64.9865684,67.8032565 L75.4613953,48.980125 L75.4613953,48.9793527 C78.5099046,49.699958 81.7183727,49.2180056 84.4200741,47.6338999 C87.1225664,46.0505653 89.1106817,43.4862425 89.9717699,40.4749053 C90.8328581,37.4635681 90.5008399,34.235723 89.0449384,31.4630387 C87.5882658,28.6903544 85.1197206,26.584791 82.151685,25.5847028 C79.1834516,24.5837248 75.9441385,24.7652355 73.1066007,26.0913707 C70.2688652,27.4167347 68.0507969,29.7848559 66.9138836,32.7028673 L43.0841815,32.7028673 C42.0044302,29.9371034 39.9514417,27.6601133 37.310837,26.3015513 C34.6702324,24.9429696 31.623898,24.5961814 28.7454313,25.32606 C25.8669647,26.0559385 23.3534966,27.8122421 21.6791694,30.2652067 C20.0046839,32.7173803 19.284138,35.6972794 19.6532888,38.644554 C20.021708,41.5910378 21.4544362,44.3012413 23.6819162,46.2662229 C25.9086844,48.2303345 28.776474,49.3139413 31.7460915,49.3115686 L31.7463881,49.3114698 Z M54.9987359,80.3146003 C53.5304767,80.3146003 52.1224442,79.7314725 51.0836021,78.6934213 C50.0455509,77.6545989 49.4624231,76.2465862 49.4624231,74.7782874 C49.4624231,73.3099887 50.0455509,71.9019957 51.0836021,70.8639445 C52.1224245,69.8251221 53.5304372,69.2419944 54.9987359,69.2419944 C56.4670347,69.2419944 57.8750277,69.8251221 58.9138698,70.8639445 C59.951921,71.9019957 60.5350488,73.3099887 60.5350488,74.7782874 C60.5350488,76.2465862 59.951921,77.6545792 58.9138698,78.6934213 C57.8750474,79.7314725 56.4670347,80.3146003 54.9987359,80.3146003 Z M78.2510838,31.5953952 C79.7193431,31.5953952 81.1273755,32.1785229 82.1654268,33.2165742 C83.203478,34.2553966 83.7873769,35.6634093 83.7873769,37.131708 C83.7873769,38.6000068 83.203478,40.0079998 82.1654268,41.046051 C81.1273755,42.0848734 79.7193826,42.6680011 78.2510838,42.6680011 C76.7828246,42.6680011 75.3740012,42.0848734 74.33595,41.046051 C73.2978987,40.0079998 72.714771,38.6000068 72.714771,37.131708 C72.714771,35.6634093 73.2978987,34.2554163 74.33595,33.2165742 C75.3740012,32.1785229 76.7827851,31.5953952 78.2510838,31.5953952 Z M43.7166018,39.3459801 L66.2808701,39.3459801 C66.7149337,41.7696815 67.8734779,44.0047541 69.6028318,45.75738 L59.7591401,63.5727121 C56.7137943,62.2774614 53.2720118,62.2774614 50.2258752,63.5727121 L40.3380911,45.75738 C42.0882652,44.0118524 43.2661865,41.7758109 43.7156132,39.3459801 L43.7166018,39.3459801 Z M31.7465858,31.5953952 C33.214845,31.5953952 34.6236684,32.1785229 35.6617196,33.2165742 C36.6997709,34.2553966 37.2828986,35.6634093 37.2828986,37.131708 C37.2828986,38.6000068 36.6997709,40.0079998 35.6617196,41.046051 C34.6236684,42.0848734 33.2148846,42.6680011 31.7465858,42.6680011 C30.2783266,42.6680011 28.8702941,42.0848734 27.8322428,41.046051 C26.7941916,40.0079998 26.2102927,38.6000068 26.2102927,37.131708 C26.2102927,35.6634093 26.7941916,34.2554163 27.8322428,33.2165742 C28.8702941,32.1785229 30.278287,31.5953952 31.7465858,31.5953952 L31.7465858,31.5953952 Z",id:"Shape-Copy-3",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"})));d();var l2=Jn(ur()),Jke=n=>l2.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},l2.createElement("title",null,"insert_measure"),l2.createElement("g",{id:"insert_measure",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l2.createElement("path",{d:"M64.4079772,43.4952662 C64.4079772,65.775216 64.4079772,77.6781315 64.4079772,79.2040126 C64.4079772,81.4928343 72.4309475,81.4935567 72.4309475,79.2040126 C72.4309475,77.6776499 72.4309475,65.7747344 72.4309475,43.4952662 L82.1242499,53.5032288 C82.9082803,54.3127101 83.9390395,54.7167092 84.9596343,54.7167092 C85.980229,54.7167092 87.0118722,54.3119686 87.7950187,53.5032288 C89.3623612,51.8850077 89.3623612,49.2552488 87.7950187,47.6371608 L71.2655269,30.5703346 C70.8943747,30.1871342 70.4404886,29.8781937 69.9456129,29.6650532 C69.9247535,29.6546561 69.9046123,29.6546561 69.883753,29.6435167 C69.4298852,29.4519166 68.9350096,29.3457171 68.4192709,29.3457171 C67.9035322,29.3457171 67.4086565,29.4519147 66.9547887,29.6435167 C66.9339294,29.6539139 66.9137882,29.6539139 66.8929288,29.6650532 C66.3980532,29.8781937 65.9441854,30.1863928 65.5730149,30.5703346 L49.0328429,47.6474271 C47.4655004,49.2656482 47.4655004,51.8954071 49.0328429,53.5134951 C50.6001855,55.1205753 53.1472623,55.1205753 54.714476,53.5023554 L64.4079772,43.4952662 Z",id:"Path-Copy-3",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero",transform:"translate(68.413931, 55.133308) rotate(-270.000000) translate(-68.413931, -55.133308) "}),l2.createElement("rect",{id:"Rectangle-Copy-50",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 39.025784) rotate(-90.000000) translate(-32.019040, -39.025784) ",x:24.0122609,y:34.8667243,width:16.0135574,height:8.31811859}),l2.createElement("rect",{id:"Rectangle-Copy-51",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 72.330197) rotate(-90.000000) translate(-32.019040, -72.330197) ",x:24.0122609,y:68.1711376,width:16.0135574,height:8.31811859}),l2.createElement("circle",{id:"Oval-Copy-16",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 88.946306) rotate(-180.000000) translate(-32.019040, -88.946306) ",cx:32.0190396,cy:88.9463056,r:9.09652528}),l2.createElement("circle",{id:"Oval-Copy-20",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 55.133308) rotate(-90.000000) translate(-32.019040, -55.133308) ",cx:32.0190396,cy:55.1333084,r:9.09652528}),l2.createElement("circle",{id:"Oval-Copy-21",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",cx:32.0190396,cy:23.2007668,r:9.09652528})));d();var aO=Jn(ur()),Xke=n=>aO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},aO.createElement("title",null,"insert_filter"),aO.createElement("g",{id:"insert_filter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},aO.createElement("path",{d:"M87.3843313,20.5 C88.0702245,20.5 88.6794354,20.684137 89.1839151,20.9924545 C89.72968,21.3260038 90.1536978,21.8060023 90.4194477,22.364077 C90.6824778,22.9164401 90.7905536,23.5453405 90.7077209,24.1843828 C90.641307,24.6967561 90.4522801,25.21669 90.1181537,25.7073778 L89.9660074,25.9157747 L65.9667297,54.9330833 L65.9667297,86.0952768 C65.9667297,87.3578277 65.3421199,88.3687734 64.46847,88.9512067 C64.0000984,89.2634544 63.4591929,89.4523731 62.9014864,89.49211 C62.4335638,89.5254497 61.9536386,89.4542406 61.4987219,89.2647425 L61.3053966,89.1762469 L45.2981054,81.501442 C44.7448345,81.2248066 44.1940182,80.794047 43.8075879,80.2144017 C43.516589,79.7779032 43.3168206,79.2579753 43.2760203,78.6543848 L43.268304,78.4241163 L43.268304,54.9330833 L19.2778986,25.9265022 C18.8405281,25.4244753 18.5999563,24.8470099 18.5253334,24.2601464 C18.4451968,23.6299215 18.5577673,22.9877736 18.8297244,22.4166636 C19.0989541,21.8512813 19.5239716,21.3563425 20.06756,21.0111708 C20.5069962,20.7321343 21.0239609,20.5500465 21.6001779,20.5088845 L21.8507024,20.5 L87.3843313,20.5 Z M80.4108174,26.9794004 L28.8312662,26.9794004 L49.2106529,51.6044926 L49.3557497,51.8317181 C49.767411,52.5135117 49.9668805,53.1962297 49.9668805,53.8764024 L49.9668805,53.8764024 L49.9668805,76.3587304 L59.2681532,80.9104171 L59.2681532,53.6572264 L59.2765596,53.4785743 C59.3429907,52.7639199 59.7932531,52.0547544 60.2732157,51.568472 L60.2732157,51.568472 L80.4108174,26.9794004 Z",id:"Shape-Copy-2",stroke:"#4285F4",fill:"#4285F4",className:"primaryfill primarystroke",fillRule:"nonzero"})));d();var gg=Jn(ur()),Zke=n=>gg.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},gg.createElement("title",null,"insert_limit"),gg.createElement("g",{id:"insert_limit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},gg.createElement("rect",{id:"Rectangle-Copy-46",className:"primaryfill",fill:"#4285F4",x:24,y:23,width:61.9377906,height:8,rx:4}),gg.createElement("rect",{id:"Rectangle-Copy-47",className:"primaryfill",fill:"#4285F4",x:24,y:39,width:61.9377906,height:8,rx:4}),gg.createElement("rect",{id:"Rectangle-Copy-48",className:"primaryfill",fill:"#4285F4",x:24,y:55,width:53.5,height:8,rx:4}),gg.createElement("rect",{id:"Rectangle-Copy-49",className:"primaryfill",fill:"#4285F4",x:24,y:71.1904762,width:40,height:7.61904762,rx:3.80952381}),gg.createElement("path",{d:"M77.1113683,65.3807638 L87.6203313,83.396129 C87.8986116,83.8731809 87.7374754,84.4854986 87.2604234,84.7637789 C87.1074874,84.8529916 86.933607,84.9 86.7565524,84.9 L65.7386264,84.9 C65.1863417,84.9 64.7386264,84.4522847 64.7386264,83.9 C64.7386264,83.7229454 64.7856348,83.549065 64.8748475,83.396129 L75.3838105,65.3807638 C75.6620908,64.9037119 76.2744085,64.7425757 76.7514604,65.020856 C76.9004641,65.1077747 77.0244495,65.2317602 77.1113683,65.3807638 Z",id:"Triangle-Copy-2",fill:"#4285F4",className:"primaryfill",transform:"translate(76.247589, 74.400000) rotate(-90.000000) translate(-76.247589, -74.400000) "})));d();var uO=Jn(ur()),eIe=n=>uO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},uO.createElement("title",null,"insert_nest"),uO.createElement("g",{id:"insert_nest",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},uO.createElement("path",{d:"M27.3181186,27 C29.5272576,27 31.3181186,28.790861 31.3181186,31 L31.318,59.317 L72.9431634,59.317258 L62.9360743,49.6237568 C61.3178543,48.0565431 61.3178543,45.5094664 62.9249345,43.9421238 C64.5430225,42.3747812 67.1727815,42.3747812 68.7910025,43.9421238 L68.7910025,43.9421238 L85.8680951,60.4822957 C86.2520369,60.8534663 86.560236,61.307334 86.7733764,61.8022097 C86.7845158,61.823069 86.7845158,61.8432103 86.7949129,61.8640696 C86.986515,62.3179374 87.0927126,62.812813 87.0927126,63.3285517 C87.0927126,63.8442904 86.9865131,64.3391661 86.7949129,64.7930338 C86.7837736,64.8138932 86.7837736,64.8340344 86.7733764,64.8548938 C86.560236,65.3497694 86.2512954,65.8036556 85.8680951,66.1748077 L85.8680951,66.1748077 L68.8012688,82.7042995 C67.1831809,84.2716421 64.5534219,84.2716421 62.9352009,82.7042995 C62.1264611,81.921153 61.7217204,80.8895099 61.7217204,79.8689151 C61.7217204,78.8483204 62.1257196,77.8175611 62.9352009,77.0335308 L62.9352009,77.0335308 L72.9431634,67.3402284 L27.234417,67.3402284 C25.2840646,67.3402284 23.6511005,66.037955 23.2100653,64.2817501 C23.0737364,63.8793045 23,63.4482633 23,63 L23,31 C23,28.790861 24.790861,27 27,27 L27.3181186,27 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));d();var RC=Jn(ur()),tIe=n=>RC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},RC.createElement("title",null,"insert_order_by"),RC.createElement("g",{id:"insert_order_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},RC.createElement("path",{d:"M30.5506412,37.7046734 L30.5506412,81.9762916 C30.5506412,84.1931505 32.3445678,85.9877768 34.5621264,85.9877768 C36.7789852,85.9877768 38.5736115,84.1938502 38.5736115,81.9762916 L38.5736115,37.7046734 L48.2669139,47.3979757 C49.0509443,48.1820061 50.0817035,48.5733031 51.1022983,48.5733031 C52.122893,48.5733031 53.1545362,48.1812879 53.9376827,47.3979757 C55.5050252,45.8306331 55.5050252,43.2835564 53.9376827,41.7163427 L37.4081909,25.1861143 C37.0370387,24.8149622 36.5831526,24.515735 36.0882769,24.3092959 C36.0674175,24.2992257 36.0472763,24.2992257 36.026417,24.2884366 C35.5725492,24.1028605 35.0776736,24 34.5619349,24 C34.0461961,24 33.5513205,24.1028586 33.0974527,24.2884366 C33.0765934,24.2985068 33.0564522,24.2985068 33.0355928,24.3092959 C32.5407172,24.515735 32.0868494,24.814244 31.7156789,25.1861143 L15.1755069,41.7262862 C13.6081644,43.2936288 13.6081644,45.8407055 15.1755069,47.4079192 C16.7428495,48.9644712 19.2899263,48.9644712 20.85714,47.3971298 L30.5506412,37.7046734 Z",id:"Path-Copy",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"}),RC.createElement("path",{d:"M79.9439284,72.2964315 L79.9439284,28.0137648 C79.9439284,25.796906 78.1500018,24.0022797 75.9324432,24.0022797 C73.7155844,24.0022797 71.920958,25.7962062 71.920958,28.0137648 L71.920958,72.2853831 L62.2276557,62.5920808 C60.6603131,61.0247382 58.1233641,61.0247382 56.5460227,62.5920808 C54.9786801,64.1594234 54.9786801,66.7065001 56.5460227,68.2737138 L73.0861946,84.8138857 C73.4573467,85.1850378 73.9112329,85.484265 74.4061086,85.6907041 C74.4269679,85.7007743 74.4471091,85.7007743 74.4679685,85.7115634 C74.9218362,85.8971395 75.4167119,86 75.9324506,86 C76.4481893,86 76.943065,85.8971414 77.3969327,85.7115634 C77.4177921,85.7014932 77.4379333,85.7014932 77.4587926,85.6907041 C77.9536683,85.484265 78.407536,85.185756 78.7787066,84.8138857 L95.3188785,68.2737138 C96.8862211,66.7063712 96.8862211,64.1592945 95.3188785,62.5920808 C93.7515359,61.0355288 91.2044592,61.0355288 89.6372455,62.6028702 L79.9439284,72.2964315 Z",id:"Path-Copy-2",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));d();var c6=Jn(ur()),nIe=n=>c6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},c6.createElement("title",null,"item_rename"),c6.createElement("g",{id:"item_rename",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c6.createElement("g",{id:"noun-rename-3187972",transform:"translate(19.000000, 29.000000)",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"},c6.createElement("path",{d:"M70.5666667,14.4545455 L48.6666667,14.4545455 L48.6666667,4.81818182 L51.1,4.81818182 C51.9695899,4.81818182 52.7728819,4.35895403 53.2074057,3.61363636 C53.6419295,2.8683187 53.6419295,1.94984935 53.2074057,1.20454545 C52.7728819,0.459241558 51.9695621,0 51.1,0 L41.3666667,0 C40.4970768,0 39.6937848,0.459227792 39.259261,1.20454545 C38.8247371,1.94986312 38.8247371,2.86833247 39.259261,3.61363636 C39.6937848,4.35894026 40.4971046,4.81818182 41.3666667,4.81818182 L43.8,4.81818182 L43.8,14.4545455 L2.43333333,14.4545455 C1.78806895,14.4545455 1.1688621,14.7083673 0.712619048,15.1600649 C0.256376,15.6117626 0,16.2248005 0,16.8636364 L0,36.1363636 C0,36.7751995 0.256376,37.3882374 0.712619048,37.8399351 C1.1688621,38.2916327 1.78806895,38.5454545 2.43333333,38.5454545 L43.8,38.5454545 L43.8,48.1818182 L41.3666667,48.1818182 C40.4970768,48.1818182 39.6937848,48.641046 39.259261,49.3863636 C38.8247371,50.1316813 38.8247371,51.0501506 39.259261,51.7954545 C39.6937848,52.5407584 40.4971046,53 41.3666667,53 L51.1,53 C51.9695899,53 52.7728819,52.5407722 53.2074057,51.7954545 C53.6419295,51.0501369 53.6419295,50.1316675 53.2074057,49.3863636 C52.7728819,48.6410597 51.9695621,48.1818182 51.1,48.1818182 L48.6666667,48.1818182 L48.6666667,38.5454545 L70.5666667,38.5454545 C71.211931,38.5454545 71.8311379,38.2916327 72.287381,37.8399351 C72.743624,37.3882374 73,36.7751995 73,36.1363636 L73,16.8636364 C73,16.2248005 72.743624,15.6117626 72.287381,15.1600649 C71.8311379,14.7083673 71.211931,14.4545455 70.5666667,14.4545455 Z M4.86666667,33.7272727 L4.86666667,19.2727273 L43.8,19.2727273 L43.8,33.7272727 L4.86666667,33.7272727 Z M68.1333333,33.7272727 L48.6666667,33.7272727 L48.6666667,19.2727273 L68.1333333,19.2727273 L68.1333333,33.7272727 Z",id:"Shape"}),c6.createElement("path",{d:"M36.5833621,24 L12.4166379,24 C11.553002,24 10.7552101,24.4765571 10.3236615,25.25 C9.89211284,26.0234429 9.89211284,26.9765714 10.3236615,27.75 C10.7552101,28.5234286 11.5530297,29 12.4166379,29 L36.5833621,29 C37.446998,29 38.2447899,28.5234429 38.6763385,27.75 C39.1078872,26.9765571 39.1078872,26.0234286 38.6763385,25.25 C38.2447899,24.4765714 37.4469703,24 36.5833621,24 Z",id:"Path"}))));d();var f6=Jn(ur()),rIe=n=>f6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},f6.createElement("title",null,"item_edit"),f6.createElement("g",{id:"item_edit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},f6.createElement("g",{id:"noun-edit-1269277",transform:"translate(24.000000, 19.000000)",fill:"#4285F4",fillRule:"nonzero",stroke:"#4285F4",className:"primaryfill primarystroke"},f6.createElement("path",{d:"M3.59891474,39.407072 L3.06867736,55.867955 C3.03311545,56.9719519 3.89925313,57.8957468 5.00325002,57.9313087 C5.0461704,57.9326913 5.08912418,57.9326911 5.13204455,57.9313083 L21.5822973,57.4013025 C22.0903599,57.3849333 22.5731262,57.1757204 22.9324738,56.8161862 L59.5846859,20.1449445 C60.3655318,19.3636932 60.3652031,18.0973633 59.5839519,17.3165174 C59.5834627,17.3160285 59.5829732,17.3155398 59.5824835,17.3150514 L43.6370127,1.4108896 C42.8555349,0.631436244 41.5903551,0.632410128 40.8100781,1.41306566 L4.18332144,38.057592 C3.82420961,38.416878 3.61526942,38.8993513 3.59891474,39.407072 Z M19.6812157,53.0009522 L9.73874131,53.3226566 C8.63474957,53.358378 7.71082953,52.4923738 7.67510814,51.388382 C7.67371403,51.3452961 7.6737133,51.3021764 7.67510597,51.2590905 L7.99671088,41.3093667 C8.01311902,40.8017362 8.22204313,40.3193622 8.58108638,39.9601325 L30.3814317,18.1484685 C31.1612436,17.3682518 32.4255308,17.3667397 33.2072068,18.1450889 L42.8519496,27.7487844 C43.634662,28.5281657 43.6373624,29.7944927 42.8579812,30.5772051 C42.8571049,30.5780852 42.8562277,30.5789644 42.8553498,30.5798429 L21.0311311,52.4158307 C20.6718495,52.7753061 20.1891879,52.984516 19.6812157,53.0009522 Z M46.0079854,24.5968587 L36.3860729,14.9699505 C35.6062481,14.1882519 35.6062481,12.922488 36.3860729,12.1407894 L40.8083468,7.71621952 C41.5884586,6.93423458 42.8547885,6.93390593 43.6360397,7.71475178 C43.6362845,7.7149964 43.6365292,7.71524109 43.6360397,7.71621952 L53.2579523,17.3431277 C54.0377771,18.1248263 54.0377771,19.3905902 53.2579523,20.1722888 L48.8356784,24.5968587 C48.0555666,25.3788436 46.7892367,25.3791723 46.0079854,24.5983264 C46.0077407,24.5980818 46.007496,24.5978371 46.0079854,24.5968587 Z",id:"Shape"}),f6.createElement("path",{d:"M2,64 L60,64 C61.1045695,64 62,64.8954305 62,66 C62,67.1045695 61.1045695,68 60,68 L2,68 C0.8954305,68 1.3527075e-16,67.1045695 0,66 C-1.3527075e-16,64.8954305 0.8954305,64 2,64 Z",id:"Path"}))));d();var LC=Jn(ur()),kC=n=>LC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},LC.createElement("title",null,"query_clear_hover"),LC.createElement("g",{id:"query_clear_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},LC.createElement("circle",{className:"circle hoverfill",fill:"transparent",cx:55,cy:55,r:55}),LC.createElement("path",{d:"M78.1428571,25 L85,31.8571429 L61.857,55 L85,78.1428571 L78.1428571,85 L55,61.857 L31.8571429,85 L25,78.1428571 L48.142,55 L25,31.8571429 L31.8571429,25 L55,48.143 L78.1428571,25 Z",className:"cross primaryfill",fill:"#4285F4"})));d();var IC=Jn(ur()),iIe=n=>IC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},IC.createElement("title",null,"query_add_hover"),IC.createElement("g",{id:"query_add_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},IC.createElement("circle",{id:"Oval",className:"hoverfill",fill:"transparent",cx:55,cy:55,r:55}),IC.createElement("path",{d:"M75.8285714,28 L82,34.1714286 L61.171,55 L82,75.8285714 L75.8285714,82 L54.999,61.171 L34.1714286,82 L28,75.8285714 L48.828,55 L28,34.1714286 L34.1714286,28 L55,48.829 L75.8285714,28 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",transform:"translate(55.000000, 55.000000) rotate(-315.000000) translate(-55.000000, -55.000000) "})));d();var MC=Jn(ur()),sIe=n=>MC.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},MC.createElement("title",null,"query_run_hover"),MC.createElement("g",{id:"query_run_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},MC.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),MC.createElement("path",{d:"M62,32.5734278 L89.4027789,80.75 L34.5972211,80.75 L62,32.5734278 Z",id:"Triangle",className:"primarystroke",stroke:"#4285F4",strokeWidth:6.5,transform:"translate(62.000000, 55.000000) rotate(-270.000000) translate(-62.000000, -55.000000) "})));d();var x4=Jn(ur()),oIe=n=>x4.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},x4.createElement("title",null,"query_save_hover"),x4.createElement("g",{id:"query_save_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},x4.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),x4.createElement("path",{d:"M55.9991771,28.3532333 L55.9991771,34.8532333 L32.864,34.8532333 L32.864,80.1272333 L53.9292984,65.9165518 L74.994,80.1272333 L74.9931771,54.8692333 L81.4941771,54.8692333 L81.4944197,92.3532333 L53.9292984,73.7573595 L26.3641771,92.3532333 L26.3641771,28.3532333 L55.9991771,28.3532333 Z",id:"Combined-Shape-Copy",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}),x4.createElement("rect",{id:"Rectangle-Copy-2",className:"primaryfill",fill:"#4285F4",x:75.006375,y:19.6467667,width:6.48804474,height:24}),x4.createElement("rect",{id:"Rectangle-Copy-3",className:"primaryfill",fill:"#4285F4",transform:"translate(78.250397, 31.646767) rotate(-270.000000) translate(-78.250397, -31.646767) ",x:75.006375,y:19.6467667,width:6.48804474,height:24})));d();var lO=Jn(ur()),iH=n=>lO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},lO.createElement("title",null,"cahevron_down"),lO.createElement("g",{id:"cahevron_down",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},lO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-180.000000) translate(-55.000000, -55.000005) "})));d();var PC=Jn(ur()),Vae=n=>PC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},PC.createElement("title",null,"item_duplicate"),PC.createElement("g",{id:"item_duplicate",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},PC.createElement("rect",{id:"Rectangle",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,x:29.4307692,y:24,width:30.0923077,height:41.7692308,rx:5}),PC.createElement("rect",{id:"Rectangle-Copy",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,fill:"none",x:47.4769231,y:45.2307692,width:30.0923077,height:41.7692308,rx:5})));d();var d6=Jn(ur()),sH=n=>d6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},d6.createElement("title",null,"viz_scatter"),d6.createElement("g",{id:"viz_scatter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},d6.createElement("path",{d:"M29.1340462,83.93 C36.5885775,83.93 42.6340462,77.8857969 42.6340462,70.43 C42.6340462,62.9742031 36.5885775,56.93 29.1340462,56.93 C21.679515,56.93 15.6340462,62.9742031 15.6340462,70.43 C15.6340462,77.8857969 21.679515,83.93 29.1340462,83.93 Z",id:"Path-Copy-3",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"}),d6.createElement("path",{d:"M68.2840462,92.63 C73.6709212,92.63 78.0340462,88.264925 78.0340462,82.88 C78.0340462,77.495075 73.6709212,73.13 68.2840462,73.13 C62.8971712,73.13 58.5340462,77.495075 58.5340462,82.88 C58.5340462,88.264925 62.8971712,92.63 68.2840462,92.63 Z",id:"Path-Copy-2",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero",transform:"translate(68.284046, 82.880000) rotate(-360.000000) translate(-68.284046, -82.880000) "}),d6.createElement("path",{d:"M67.8242963,57.43 C78.8701296,57.43 87.8242963,48.4758333 87.8242963,37.43 C87.8242963,26.3842917 78.8701296,17.43 67.8242963,17.43 C56.7784629,17.43 47.8242963,26.3842917 47.8242963,37.43 C47.8242963,48.4758333 56.7784629,57.43 67.8242963,57.43 Z",id:"Path-Copy",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"})));d();var h6=Jn(ur()),aIe=n=>h6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},h6.createElement("title",null,"alert_outline"),h6.createElement("g",{id:"alert_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},h6.createElement("path",{d:"M54.0787732,20.8756898 C55.4385401,20.5119661 56.9370629,20.666976 58.2520419,21.4269314 C59.0865559,21.9092155 59.7796762,22.6023358 60.2619602,23.4368497 L60.2619602,23.4368497 L90.6657826,76.0457109 C91.425738,77.3606899 91.5807479,78.8592127 91.2170242,80.2189797 C90.8533006,81.5787466 89.9708433,82.7997576 88.6558643,83.559713 C87.8192733,84.0431974 86.8700737,84.2977528 85.9038224,84.2977528 L85.9038224,84.2977528 L25.0961776,84.2977528 C23.5773946,84.2977528 22.2023946,83.6821443 21.2070903,82.6868401 C20.2117861,81.6915359 19.5961776,80.3165359 19.5961776,78.7977528 C19.5961776,77.8315015 19.850733,76.8823018 20.3342174,76.0457109 L20.3342174,76.0457109 L50.7380398,23.4368497 C51.4979952,22.1218707 52.7190062,21.2394134 54.0787732,20.8756898 Z",id:"Triangle",stroke:"#EA4335",strokeWidth:7}),h6.createElement("polygon",{id:"Path",fill:"#EA4335",fillRule:"nonzero",points:"50.4640684 39.8293463 60.4640684 39.8293463 60.4640684 60.8293463 50.4640684 60.8293463"}),h6.createElement("path",{d:"M60.464247,71.3304517 C60.464247,74.092878 58.2250065,76.331047 55.4636517,76.331047 C52.7022969,76.331047 50.4630564,74.0929673 50.4630564,71.3304517 C50.4630564,68.5691861 52.7022969,66.331047 55.4636517,66.331047 C58.2250065,66.331047 60.464247,68.5691266 60.464247,71.3304517",id:"Path",fill:"#EA4335",fillRule:"nonzero"})));d();var cO=Jn(ur()),uIe=n=>cO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},cO.createElement("title",null,"pipeline"),cO.createElement("g",{id:"pipeline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},cO.createElement("path",{d:"M27,28 C27.5522847,28 28,28.4477153 28,29 L28,30.416 L54.4420782,30.4163284 C56.5842736,30.4163284 58.3331571,32.1002969 58.4371829,34.2166881 L58.4420782,34.4163284 L58.442,72.416 L82,72.416 L82,71 C82,70.4477153 82.4477153,70 83,70 L87,70 C87.5522847,70 88,70.4477153 88,71 L88,82 C88,82.5522847 87.5522847,83 87,83 L83,83 C82.4477153,83 82,82.5522847 82,82 L82,80.416 L54.4420782,80.4163284 C52.2998828,80.4163284 50.5509993,78.73236 50.4469735,76.6159688 L50.4420782,76.4163284 L50.442,38.416 L28,38.416 L28,40 C28,40.5522847 27.5522847,41 27,41 L23,41 C22.4477153,41 22,40.5522847 22,40 L22,29 C22,28.4477153 22.4477153,28 23,28 L27,28 Z",id:"Combined-Shape",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));d();var fO=Jn(ur()),oH=n=>fO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},fO.createElement("title",null,"type-icon-projection"),fO.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},fO.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));d();var p6=Jn(ur()),lIe=n=>p6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},p6.createElement("title",null,"move_icon_outline"),p6.createElement("g",{id:"move_icon_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},p6.createElement("g",{id:"Group",transform:"translate(25.000000, 17.000000)",fillRule:"nonzero",stroke:"#979797",className:"primarystroke",strokeWidth:6},p6.createElement("path",{d:"M32.8776058,2.98037748 L53.4553591,24.2930505 C54.9898149,25.8823083 54.9453892,28.4145786 53.3561313,29.9490344 C52.6104198,30.6690317 51.6143254,31.0714286 50.5777533,31.0714286 L9.42224672,31.0714286 C7.21310772,31.0714286 5.42224672,29.2805676 5.42224672,27.0714286 C5.42224672,26.0348564 5.82464355,25.038762 6.54464088,24.2930505 L27.1223942,2.98037748 C28.65685,1.39111966 31.1891202,1.34669386 32.7783781,2.88114969 C32.8120317,2.91364284 32.8451127,2.94672386 32.8776058,2.98037748 Z",id:"Triangle"}),p6.createElement("path",{d:"M32.8776058,47.9803775 L53.4553591,69.2930505 C54.9898149,70.8823083 54.9453892,73.4145786 53.3561313,74.9490344 C52.6104198,75.6690317 51.6143254,76.0714286 50.5777533,76.0714286 L9.42224672,76.0714286 C7.21310772,76.0714286 5.42224672,74.2805676 5.42224672,72.0714286 C5.42224672,71.0348564 5.82464355,70.038762 6.54464088,69.2930505 L27.1223942,47.9803775 C28.65685,46.3911197 31.1891202,46.3466939 32.7783781,47.8811497 C32.8120317,47.9136428 32.8451127,47.9467239 32.8776058,47.9803775 Z",id:"Triangle-Copy",transform:"translate(30.000000, 60.535714) rotate(-180.000000) translate(-30.000000, -60.535714) "}))));d();var Wae=Jn(ur()),cIe=n=>Wae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px.0",viewBox:"-2 -2 24 24",width:"24px.0",fill:"#9aa0a6",className:"primaryfill",role:"img",...n},Wae.createElement("path",{d:"M19.6 21.0 13.3 14.7Q12.55 15.3 11.575 15.65Q10.6 16.0 9.5 16.0Q6.775 16.0 4.8875 14.1125Q3.0 12.225 3.0 9.5Q3.0 6.775 4.8875 4.8875Q6.775 3.0 9.5 3.0Q12.225 3.0 14.1125 4.8875Q16.0 6.775 16.0 9.5Q16.0 10.6 15.65 11.575Q15.3 12.55 14.7 13.3L21.0 19.6ZM9.5 14.0Q11.375 14.0 12.6875 12.6875Q14.0 11.375 14.0 9.5Q14.0 7.625 12.6875 6.3125Q11.375 5.0 9.5 5.0Q7.625 5.0 6.3125 6.3125Q5.0 7.625 5.0 9.5Q5.0 11.375 6.3125 12.6875Q7.625 14.0 9.5 14.0Z"}));d();var dO=Jn(ur()),fIe=n=>dO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},dO.createElement("title",null,"project_folder"),dO.createElement("g",{id:"project_folder",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},dO.createElement("path",{d:"M24.1875,84 C22.7375,84 21.46875,83.4411458 20.38125,82.3234375 C19.29375,81.2057292 18.75,79.9520833 18.75,78.5625 L18.75,31.4375 C18.75,30.0479167 19.29375,28.7942708 20.38125,27.6765625 C21.46875,26.5588542 22.7375,26 24.1875,26 L49.5625,26 L55,31.4375 L85.8125,31.4375 C87.2020833,31.4375 88.4557292,31.9963542 89.5734375,33.1140625 C90.6911458,34.2317708 91.25,35.4854167 91.25,36.875 L91.25,78.5625 C91.25,79.9520833 90.6911458,81.2057292 89.5734375,82.3234375 C88.4557292,83.4411458 87.2020833,84 85.8125,84 L24.1875,84 Z M24.1875,31.4375 L24.1875,78.5625 L85.8125,78.5625 L85.8125,36.875 L52.734375,36.875 L47.296875,31.4375 L24.1875,31.4375 Z M24.1875,31.4375 L24.1875,78.5625 L24.1875,31.4375 Z",id:"Shape",fill:"#606368",fillRule:"nonzero"})));d();var yg=Jn(ur()),dIe=n=>yg.createElement("svg",{width:"15px",height:"14px",viewBox:"-2 -2 18 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},yg.createElement("title",null,"panel_icon_query"),yg.createElement("g",{id:"window-org",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},yg.createElement("g",{id:"z",transform:"translate(-76.000000, -86.000000)",fill:"#939BA5",className:"primaryfill primarystroke",fillRule:"nonzero",stroke:"#939BA5",strokeWidth:.25},yg.createElement("g",{id:"noun_explore_2232152-copy",transform:"translate(77.058375, 86.177891)"},yg.createElement("path",{d:"M1.89319474,1.8964973 C0.960203984,2.8308601 0.313970678,4.05198036 0.0958154857,5.35679538 C-0.0112040426,5.99754051 -0.0331567664,6.6465179 0.0532820834,7.29137916 C0.142465024,7.96642542 0.327691131,8.61128668 0.614448585,9.22870704 C1.17698713,10.4429671 2.14839516,11.4761171 3.3173777,12.1264666 C4.44794297,12.7562353 5.77471072,13.0416207 7.06443324,12.9153926 C7.7092945,12.8522785 8.33769122,12.7054697 8.93590294,12.4543854 C9.58350829,12.1840925 10.1734877,11.8218725 10.7072133,11.3636094 C11.7101784,10.501965 12.4373624,9.31651793 12.7529328,8.03228359 C13.0602709,6.77960629 12.9944127,5.42814173 12.5388937,4.21936988 C12.0518177,2.92964736 11.1737087,1.82240685 10.0239348,1.06092175 C8.94139112,0.34334209 7.62834383,-0.0284821691 6.32901699,0.00170282605 C5.02557402,0.0318878212 3.72761922,0.457221844 2.67526053,1.23105536 C2.39810739,1.43411805 2.13604675,1.65364529 1.89319474,1.8964973 C1.74089772,2.04879432 1.72992136,2.32869155 1.89319474,2.47824448 C2.05784017,2.62916945 2.31166854,2.64014581 2.47494192,2.47824448 C2.61763463,2.33555177 2.76718756,2.19971929 2.92222867,2.07211909 C2.95790185,2.04330614 2.99494707,2.01449319 3.03062024,1.98568024 C3.08550205,1.94177479 2.9414373,2.05291045 3.02650411,1.98979637 C3.04296865,1.97744797 3.05806115,1.9664716 3.07452569,1.9541232 C3.15410432,1.89512525 3.23368294,1.8388714 3.31600565,1.78398959 C3.6329481,1.57269462 3.97047123,1.39158465 4.32171481,1.24340376 C4.28878573,1.25712422 4.25585664,1.27084467 4.22292755,1.28456512 C4.71411975,1.07875834 5.2313808,0.937437677 5.75961822,0.864719279 C5.722573,0.87020746 5.68689982,0.874323596 5.6498546,0.879811777 C6.19318451,0.807093379 6.7447467,0.807093379 7.28807661,0.879811777 C7.25103139,0.874323596 7.21535821,0.87020746 7.17831299,0.864719279 C7.70655041,0.937437677 8.22381146,1.07875834 8.71500366,1.28456512 C8.68207457,1.27084467 8.64914549,1.25712422 8.6162164,1.24340376 C8.8892534,1.35865556 9.15405813,1.493116 9.4078865,1.64815711 C9.53685875,1.72636369 9.66171487,1.8086864 9.7838269,1.8964973 C9.81538394,1.91982207 9.84831302,1.94314683 9.87987006,1.9664716 C9.90593892,1.98568024 10.0019821,2.06388682 9.89084642,1.97470388 C9.95258846,2.0240975 10.0157025,2.07349113 10.0760725,2.12562885 C10.3134364,2.32457541 10.5343356,2.5427306 10.7387704,2.77597829 C10.786792,2.8308601 10.8348135,2.88711396 10.8814631,2.94473986 C10.9061599,2.97492485 10.9308567,3.00648189 10.9555535,3.03803893 C10.9953428,3.08743256 10.9281126,3.00236576 10.9281126,3.00236576 C10.9445772,3.02294644 10.9596697,3.04489916 10.9761342,3.06547984 C11.0666892,3.18621982 11.151756,3.31107593 11.2327067,3.4373041 C11.4124446,3.71994541 11.5688577,4.01905128 11.699202,4.32776145 C11.6854816,4.29483237 11.6717611,4.26190328 11.6580407,4.2289742 C11.8638475,4.72016639 12.0051681,5.23742745 12.0778865,5.76566486 C12.0723983,5.72861964 12.0682822,5.69294646 12.062794,5.65590124 C12.1355124,6.19923116 12.1355124,6.75079334 12.062794,7.29412325 C12.0682822,7.25707803 12.0723983,7.22140486 12.0778865,7.18435964 C12.0051681,7.71259705 11.8638475,8.2298581 11.6580407,8.7210503 C11.6717611,8.68812121 11.6854816,8.65519213 11.699202,8.62226304 C11.5839502,8.89530004 11.4494898,9.16010477 11.2944487,9.41393314 C11.2162421,9.5429054 11.1339194,9.66776151 11.0461085,9.78987354 C11.0227837,9.82143058 10.999459,9.85435966 10.9761342,9.8859167 C10.9569256,9.91198556 10.878719,10.0080287 10.9679019,9.89689307 C10.9185083,9.9586351 10.8691147,10.0217492 10.816977,10.0821192 C10.6180304,10.319483 10.3998752,10.5403823 10.1666275,10.744817 C10.1117457,10.7928386 10.0554919,10.8408602 9.99786595,10.8875097 C9.96768096,10.9122065 9.93612392,10.9369034 9.90456688,10.9616002 C9.85517325,11.0013895 9.94024005,10.9341593 9.94024005,10.9341593 C9.91965937,10.9506238 9.89770665,10.9657163 9.87712597,10.9821808 C9.75638599,11.0727358 9.63152987,11.1578026 9.50530171,11.2387533 C9.22266039,11.4184912 8.92355453,11.5749044 8.61484435,11.7052487 C8.64777344,11.6915282 8.68070253,11.6778078 8.71363161,11.6640873 C8.22243942,11.8698941 7.70517836,12.0112148 7.17694095,12.0839332 C7.21398617,12.078445 7.24965934,12.0743289 7.28670457,12.0688407 C6.74337465,12.1415591 6.19181247,12.1415591 5.64848255,12.0688407 C5.68552778,12.0743289 5.72120095,12.078445 5.75824617,12.0839332 C5.23000876,12.0112148 4.7127477,11.8698941 4.22155551,11.6640873 C4.2544846,11.6778078 4.28741368,11.6915282 4.32034277,11.7052487 C4.04730576,11.5899969 3.78250103,11.4555365 3.52867267,11.3004953 C3.39970041,11.2222888 3.2748443,11.139966 3.15273227,11.0521552 C3.12117523,11.0288304 3.08824614,11.0055056 3.0566891,10.9821808 C3.03062024,10.9629722 2.93457708,10.8847656 3.04571274,10.9739486 C2.98397071,10.9245549 2.92085663,10.8751613 2.86048664,10.8230236 C2.62312281,10.624077 2.40222353,10.4059218 2.19778879,10.1726742 C2.1497672,10.1177923 2.10174562,10.0615385 2.05509608,10.0039126 C2.03039927,9.9737276 2.00570245,9.94217056 1.98100564,9.91061352 C1.94121633,9.86121989 2.00844654,9.94628669 2.00844654,9.94628669 C1.991982,9.92570602 1.9768895,9.90375329 1.96042496,9.88317261 C1.86986998,9.76243263 1.78480317,9.63757652 1.7038525,9.51134835 C1.52411458,9.22870704 1.36770142,8.92960118 1.23735712,8.620891 C1.25107757,8.65382008 1.26479803,8.68674917 1.27851848,8.71967825 C1.07271169,8.22848606 0.931391034,7.71122501 0.858672637,7.18298759 C0.864160818,7.22003281 0.868276953,7.25570599 0.873765134,7.29275121 C0.801046737,6.7494213 0.801046737,6.19785911 0.873765134,5.6545292 C0.868276953,5.69157442 0.864160818,5.72724759 0.858672637,5.76429282 C0.931391034,5.2360554 1.07271169,4.71879435 1.27851848,4.22760215 C1.26479803,4.26053124 1.25107757,4.29346032 1.23735712,4.32638941 C1.38553801,3.97514583 1.56664798,3.6376227 1.77794294,3.32068025 C1.83282475,3.23835754 1.88907861,3.15877891 1.94807655,3.07920029 C1.96042496,3.06273575 1.97140132,3.04764325 1.98374973,3.03117871 C2.04686381,2.94748395 1.93572815,3.0915487 1.97963359,3.03529484 C2.00844654,2.99824962 2.03725949,2.96257644 2.06607244,2.92690327 C2.19367265,2.77049011 2.32950513,2.62230923 2.47219783,2.47961652 C2.62449486,2.3273195 2.63684326,2.04742227 2.47219783,1.89786934 C2.3102965,1.74557232 2.05509608,1.73322391 1.89319474,1.8964973 Z",id:"Path"}),yg.createElement("path",{d:"M6.16836964,6.17066644 C6.09118278,6.2541117 6.04424482,6.35633213 6.04320176,6.47211242 C6.04320176,6.58372045 6.08909665,6.69428542 6.16836964,6.77355841 C6.33004482,6.93731972 6.60854336,6.93731972 6.77126161,6.77355841 C6.93397986,6.60875403 6.93606599,6.33547082 6.77126161,6.17066644 C6.69198862,6.09139345 6.58142365,6.04549856 6.46981562,6.04549856 C6.35403533,6.04654162 6.25285796,6.09347958 6.16836964,6.17066644 C6.11100103,6.22386279 6.07657986,6.31460951 6.07657986,6.39179637 C6.07657986,6.46898323 6.11100103,6.55972994 6.16836964,6.61292629 C6.29770979,6.73183578 6.48233241,6.73183578 6.61062949,6.61292629 C6.61480176,6.60875403 6.62001708,6.60458177 6.62418935,6.60145257 C6.60332803,6.61814162 6.58246672,6.63378761 6.56056234,6.65047666 C6.5678638,6.64526133 6.57516526,6.64108907 6.58350978,6.63795987 C6.55847621,6.64839053 6.53344263,6.65882118 6.50840905,6.66925184 C6.51675358,6.66612264 6.52509811,6.66403651 6.53344263,6.66195038 C6.50527986,6.66612264 6.47816015,6.66925184 6.44999738,6.6734241 C6.4614711,6.67238104 6.47294482,6.67238104 6.48441854,6.6734241 C6.45625577,6.66925184 6.42913606,6.66612264 6.40097329,6.66195038 C6.41036088,6.66403651 6.41766234,6.66612264 6.42600687,6.66925184 C6.40097329,6.65882118 6.37593971,6.64839053 6.35090614,6.63795987 C6.35925066,6.64213213 6.36655212,6.6463044 6.37385358,6.65047666 C6.35299227,6.63378761 6.33213095,6.61814162 6.31022657,6.60145257 C6.32065723,6.60875403 6.32795869,6.61709856 6.33630322,6.62752921 C6.31961416,6.6066679 6.30396818,6.58580659 6.28727913,6.56390221 C6.29249446,6.57120367 6.29666672,6.57850513 6.29979592,6.58684965 C6.28936526,6.56181607 6.2789346,6.5367825 6.26850395,6.51174892 C6.27163314,6.52009345 6.27371927,6.52843797 6.27580541,6.5367825 C6.27163314,6.50861972 6.26850395,6.48150002 6.26433168,6.45333724 C6.26537475,6.46481096 6.26537475,6.47628469 6.26433168,6.48775841 C6.26850395,6.45959564 6.27163314,6.43247593 6.27580541,6.40431315 C6.27371927,6.41370075 6.27163314,6.42100221 6.26850395,6.42934673 C6.2789346,6.40431315 6.28936526,6.37927958 6.29979592,6.354246 C6.29562365,6.36259053 6.29145139,6.36989199 6.28727913,6.37719345 C6.30396818,6.35633213 6.31961416,6.33547082 6.33630322,6.31356644 C6.32900176,6.3239971 6.32065723,6.33129856 6.31022657,6.33964308 C6.33108789,6.32295403 6.3519492,6.30730805 6.37385358,6.29061899 C6.36655212,6.29583432 6.35925066,6.30000659 6.35090614,6.30313578 C6.37593971,6.29270513 6.40097329,6.28227447 6.42600687,6.27184381 C6.41766234,6.27497301 6.40931781,6.27705914 6.40097329,6.27914527 C6.42913606,6.27497301 6.45625577,6.27184381 6.48441854,6.26767155 C6.47294482,6.26871461 6.4614711,6.26871461 6.44999738,6.26767155 C6.47816015,6.27184381 6.50527986,6.27497301 6.53344263,6.27914527 C6.52405504,6.27705914 6.51675358,6.27497301 6.50840905,6.27184381 C6.53344263,6.28227447 6.55847621,6.29270513 6.58350978,6.30313578 C6.57516526,6.29896352 6.5678638,6.29479126 6.56056234,6.29061899 C6.58142365,6.30730805 6.60228497,6.32295403 6.62418935,6.33964308 C6.61375869,6.33234162 6.60645723,6.3239971 6.5981127,6.31356644 C6.61480176,6.33442775 6.63044774,6.35528907 6.64713679,6.37719345 C6.64192146,6.36989199 6.6377492,6.36259053 6.63462,6.354246 C6.64505066,6.37927958 6.65548132,6.40431315 6.66591197,6.42934673 C6.66278278,6.42100221 6.66069665,6.41265768 6.65861051,6.40431315 C6.66278278,6.43247593 6.66591197,6.45959564 6.67008424,6.48775841 C6.66904117,6.47628469 6.66904117,6.46481096 6.67008424,6.45333724 C6.66591197,6.48150002 6.66278278,6.50861972 6.65861051,6.5367825 C6.66069665,6.52739491 6.66278278,6.52009345 6.66591197,6.51174892 C6.65548132,6.5367825 6.64505066,6.56181607 6.63462,6.58684965 C6.63879227,6.57850513 6.64296453,6.57120367 6.64713679,6.56390221 C6.63044774,6.58476352 6.61480176,6.60562483 6.5981127,6.62752921 C6.6012419,6.62231388 6.60541416,6.61814162 6.60958643,6.61396936 C6.66591197,6.55347155 6.70137621,6.47628469 6.70137621,6.39283943 C6.70137621,6.31565257 6.66695504,6.22490586 6.60958643,6.17170951 C6.55013168,6.11747009 6.47190176,6.07679053 6.3884565,6.07991972 C6.30918351,6.08304892 6.22573825,6.11016863 6.16836964,6.17066644 Z",id:"Path"}),yg.createElement("path",{d:"M3.68710555,9.70849202 C3.82738583,9.65557928 3.96889665,9.60389707 4.10917694,9.55098433 C4.44634184,9.42547039 4.78350674,9.29995644 5.12067165,9.1744425 C5.52551563,9.02308746 5.93159015,8.87296294 6.33643414,8.72160789 C6.68221275,8.59240236 7.02676082,8.46442736 7.37253943,8.33522183 C7.53004712,8.27615645 7.68878534,8.21955212 7.8450625,8.15925621 C7.84629303,8.15925621 7.84629303,8.15925621 7.84752356,8.15802568 C7.92504688,8.12726246 7.98780385,8.09280765 8.03948606,8.02512856 C8.07024928,7.98575164 8.08747668,7.94637472 8.10593462,7.89961462 C8.10716514,7.89592304 8.10839567,7.89346198 8.1096262,7.88977039 C8.11700938,7.8688514 8.12562308,7.84916294 8.13300625,7.82824395 C8.16746106,7.73841534 8.20068534,7.64981727 8.23514014,7.55998866 C8.3569625,7.24128169 8.47755433,6.92134419 8.59937668,6.60263722 C8.75196226,6.20025429 8.90577836,5.79787136 9.05836394,5.3942579 C9.19618317,5.03248242 9.3340024,4.67070694 9.47182163,4.30770093 C9.54688389,4.11081632 9.62194615,3.91270118 9.69700841,3.71581656 C9.70069999,3.70720286 9.70439158,3.69735863 9.70685264,3.68874493 C9.80283389,3.43648651 9.50504591,3.13869853 9.2527875,3.23467978 C9.11373774,3.28759252 8.97591851,3.34050526 8.83686875,3.393418 C8.50339543,3.52016248 8.16992212,3.64690695 7.8364488,3.77365142 C7.43283534,3.92746752 7.02799135,4.08128363 6.62437789,4.23509973 C6.27367717,4.36799685 5.92297645,4.50212449 5.57227573,4.63502161 C5.39877116,4.70147016 5.2252666,4.76545766 5.05176203,4.83313675 C5.04930097,4.83436728 5.04560939,4.83559781 5.04314833,4.83682834 C4.99638823,4.85528627 4.95701131,4.87251367 4.91763439,4.90327689 C4.85118583,4.9549591 4.81550049,5.01771608 4.78473727,5.09523939 C4.78473727,5.09646992 4.78473727,5.09646992 4.78350674,5.09770045 C4.7773541,5.1124668 4.77243198,5.12846367 4.76627934,5.14323002 C4.73551612,5.22444492 4.70598343,5.30689035 4.67522021,5.38810526 C4.55955049,5.69942905 4.44265025,6.01075285 4.32698054,6.32330718 C4.17685602,6.72569011 4.02673151,7.12807304 3.87660699,7.53045597 C3.74001829,7.89592304 3.60466011,8.2613901 3.46807141,8.62685717 C3.39300915,8.82743337 3.31917742,9.02677904 3.24411516,9.22735524 C3.24042358,9.23719947 3.23673199,9.24581318 3.23427093,9.25565741 C3.20227718,9.3405639 3.22688776,9.46484731 3.2711868,9.53990957 C3.31548584,9.61620236 3.40408391,9.69003409 3.49145146,9.70972255 C3.70064136,9.75771317 3.8729154,9.64573505 3.9455166,9.45131149 C3.99719881,9.31349226 4.04888103,9.1744425 4.10056324,9.03662327 C4.22361612,8.70684154 4.346669,8.37582928 4.46972189,8.04604755 C4.61984641,7.64489515 4.7687404,7.24374275 4.91886492,6.84135982 C5.04807044,6.49558121 5.17604544,6.14980261 5.30525097,5.80525453 C5.36800794,5.63667208 5.43568703,5.46932016 5.49352188,5.29827665 C5.49475241,5.29581559 5.49475241,5.29335454 5.49598294,5.29089348 C5.40984592,5.3770305 5.3237089,5.46316752 5.23757189,5.54930454 C5.37785217,5.4963918 5.51690193,5.44347905 5.65718222,5.38933579 C5.99065554,5.26259132 6.32535938,5.13584684 6.6588327,5.00787185 C7.06490722,4.85405574 7.47098173,4.69900911 7.87705625,4.545193 C8.22775697,4.41229589 8.57968822,4.27816824 8.93038894,4.14527113 C9.10020192,4.08128363 9.27247596,4.02098771 9.44105841,3.95084757 C9.44351947,3.94961704 9.44598052,3.94838651 9.44844158,3.94838651 C9.29708653,3.79703146 9.14573149,3.64567642 8.99437644,3.49432137 C8.9414637,3.63460166 8.88855096,3.77365142 8.83440769,3.9139317 C8.70766322,4.24740502 8.58091875,4.58210887 8.45294375,4.91558218 C8.29912764,5.3216567 8.14408101,5.72773122 7.9902649,6.13380574 C7.85736779,6.48450645 7.72324015,6.8364377 7.59034303,7.18713842 C7.52635553,7.3569514 7.45621539,7.52553385 7.39591947,7.69780789 C7.39468895,7.70026895 7.39345842,7.70273001 7.39345842,7.70519107 C7.47959544,7.61905405 7.56573245,7.53291703 7.65186947,7.44678001 C7.51405024,7.49846222 7.37500048,7.55014443 7.23718125,7.60182664 C6.90739952,7.72487953 6.57638727,7.84793241 6.24660554,7.9709853 C5.84545313,8.12110981 5.44430073,8.2700038 5.0419178,8.42012832 C4.6961392,8.54933385 4.35036059,8.67730885 4.00581252,8.80651438 C3.83723006,8.86927135 3.66741708,8.93079779 3.49883463,8.99478529 C3.49637358,8.99601582 3.49391252,8.99601582 3.49145146,8.99724635 C3.3991618,9.03170116 3.32163848,9.07969178 3.2711868,9.16705933 C3.2244267,9.24581318 3.20473824,9.36271342 3.23427093,9.45131149 C3.29087526,9.62850765 3.49391252,9.78109322 3.68710555,9.70849202 Z",id:"Path"})))));d();var m6=Jn(ur()),hIe=n=>m6.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},m6.createElement("title",null,"query_redo_hover copy"),m6.createElement("g",{id:"query_redo_hover-copy",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},m6.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},m6.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),m6.createElement("path",{className:"primaryfill",d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",fill:"#4285F4",fillRule:"nonzero",transform:"translate(55.500000, 55.500000) scale(-1, 1) translate(-55.500000, -55.500000) "}))));d();var x6=Jn(ur()),pIe=n=>x6.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},x6.createElement("title",null,"query_undo_hover"),x6.createElement("g",{id:"query_undo_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},x6.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},x6.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),x6.createElement("path",{d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}))));var bo=({action:n,onClick:e,color:t})=>{let s={...{width:"22px",height:"22px"},...{onClick:e,style:{cursor:e?"pointer":"unset"}}};return m.createElement(zNt,{color:t,doHover:e!==void 0},n==="group_by"?m.createElement(Kke,{...s}):n==="aggregate"?m.createElement(Jke,{...s}):n==="filter"?m.createElement(Xke,{...s}):n==="limit"?m.createElement(Zke,{...s}):n==="nest"?m.createElement(eIe,{...s}):n==="order_by"?m.createElement(tIe,{...s}):n==="remove"?m.createElement(kC,{...s}):n==="rename"?m.createElement(nIe,{...s}):n==="add"?m.createElement(iIe,{...s}):n==="save"?m.createElement(oIe,{...s}):n==="container-open"?m.createElement(iH,{...s}):n==="container-closed"?m.createElement(kz,{...s}):n==="duplicate"?m.createElement(Vae,{...s}):n==="copy"?m.createElement(Vae,{...s}):n==="style"?m.createElement(sH,{...s}):n==="stage"?m.createElement(uIe,{...s}):n==="error"?m.createElement(aIe,{...s}):n==="load"?m.createElement(oH,{...s}):n==="move"?m.createElement(lIe,{...s}):n==="edit"?m.createElement(rIe,{...s}):n==="search"?m.createElement(cIe,{...s}):n==="open-directory"?m.createElement(fIe,{...s}):n==="run"?m.createElement(sIe,{...s}):n==="analysis"?m.createElement(dIe,{...s}):n==="undo"?m.createElement(pIe,{...s}):n==="redo"?m.createElement(hIe,{...s}):null)},zNt=_n.div`
  display: flex;
  ${({color:n,doHover:e})=>n===void 0?"":`
      svg .hoverfill {
        fill: transparent;
      }
      ${n!==void 0&&`
        svg .primaryfill {
          fill: ${Yr[n].fillStrong};
        }
        svg .primarystroke {
          stroke: ${Yr[n].fillStrong};
        }
      `}
      ${n!==void 0&&e&&`
        svg:hover .hoverfill {
          fill: ${Yr[n].fillLight};
        }
      `}
    `}
`;d();d();var w6=Jn(ur());d();d();var aH=Jn(ur());var Qae=function(e){return e.reduce(function(t,r){var i=r[0],s=r[1];return t[i]=s,t},{})},Gae=typeof window!="undefined"&&window.document&&window.document.createElement?aH.useLayoutEffect:aH.useEffect;d();var v4=Jn(ur()),BIe=Jn(nL());d();d();var Nu="top",jl="bottom",bl="right",Wu="left",uH="auto",g4=[Nu,jl,bl,Wu],vg="start",g6="end",mIe="clippingParents",lH="viewport",BC="popper",xIe="reference",Yae=g4.reduce(function(n,e){return n.concat([e+"-"+vg,e+"-"+g6])},[]),cH=[].concat(g4,[uH]).reduce(function(n,e){return n.concat([e,e+"-"+vg,e+"-"+g6])},[]),HNt="beforeRead",VNt="read",WNt="afterRead",QNt="beforeMain",GNt="main",YNt="afterMain",KNt="beforeWrite",JNt="write",XNt="afterWrite",gIe=[HNt,VNt,WNt,QNt,GNt,YNt,KNt,JNt,XNt];d();d();function fc(n){return n?(n.nodeName||"").toLowerCase():null}d();d();function pu(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Yh(n){var e=pu(n).Element;return n instanceof e||n instanceof Element}function ql(n){var e=pu(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function jC(n){if(typeof ShadowRoot=="undefined")return!1;var e=pu(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function ZNt(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!ql(s)||!fc(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function eRt(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,f){return l[f]="",l},{});!ql(i)||!fc(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var yIe={name:"applyStyles",enabled:!0,phase:"write",fn:ZNt,effect:eRt,requires:["computeStyles"]};d();d();function dc(n){return n.split("-")[0]}d();d();d();var t1=Math.max,y6=Math.min,_g=Math.round;d();d();function qC(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function hO(){return!/^((?!chrome|android).)*safari/i.test(qC())}function Kh(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&ql(n)&&(i=n.offsetWidth>0&&_g(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&_g(r.height)/n.offsetHeight||1);var o=Yh(n)?pu(n):window,a=o.visualViewport,l=!hO()&&t,f=(r.left+(l&&a?a.offsetLeft:0))/i,p=(r.top+(l&&a?a.offsetTop:0))/s,v=r.width/i,b=r.height/s;return{width:v,height:b,top:p,right:f+v,bottom:p+b,left:f,x:f,y:p}}function v6(n){var e=Kh(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}d();function pO(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&jC(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}d();d();function Zf(n){return pu(n).getComputedStyle(n)}d();function Kae(n){return["table","td","th"].indexOf(fc(n))>=0}d();d();function jc(n){return((Yh(n)?n.ownerDocument:n.document)||window.document).documentElement}function bg(n){return fc(n)==="html"?n:n.assignedSlot||n.parentNode||(jC(n)?n.host:null)||jc(n)}function vIe(n){return!ql(n)||Zf(n).position==="fixed"?null:n.offsetParent}function tRt(n){var e=/firefox/i.test(qC()),t=/Trident/i.test(qC());if(t&&ql(n)){var r=Zf(n);if(r.position==="fixed")return null}var i=bg(n);for(jC(i)&&(i=i.host);ql(i)&&["html","body"].indexOf(fc(i))<0;){var s=Zf(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function n1(n){for(var e=pu(n),t=vIe(n);t&&Kae(t)&&Zf(t).position==="static";)t=vIe(t);return t&&(fc(t)==="html"||fc(t)==="body"&&Zf(t).position==="static")?e:t||tRt(n)||e}d();function _6(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}d();function b6(n,e,t){return t1(n,y6(e,t))}function _Ie(n,e,t){var r=b6(n,e,t);return r>t?t:r}d();d();function mO(){return{top:0,right:0,bottom:0,left:0}}function xO(n){return Object.assign({},mO(),n)}d();function gO(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var nRt=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,xO(typeof e!="number"?e:gO(e,g4))};function rRt(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=dc(t.placement),l=_6(a),f=[Wu,bl].indexOf(a)>=0,p=f?"height":"width";if(!(!s||!o)){var v=nRt(i.padding,t),b=v6(s),F=l==="y"?Nu:Wu,D=l==="y"?jl:bl,M=t.rects.reference[p]+t.rects.reference[l]-o[l]-t.rects.popper[p],q=o[l]-t.rects.reference[l],N=n1(s),B=N?l==="y"?N.clientHeight||0:N.clientWidth||0:0,I=M/2-q/2,z=v[F],ie=B-b[p]-v[D],L=B/2-b[p]/2+I,Y=b6(z,L,ie),fe=l;t.modifiersData[r]=(e={},e[fe]=Y,e.centerOffset=Y-L,e)}}function iRt(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!pO(e.elements.popper,i)||(e.elements.arrow=i))}var bIe={name:"arrow",enabled:!0,phase:"main",fn:rRt,effect:iRt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};d();d();function Jh(n){return n.split("-")[1]}var sRt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oRt(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:_g(e*i)/i||0,y:_g(t*i)/i||0}}function EIe(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,f=n.adaptive,p=n.roundOffsets,v=n.isFixed,b=o.x,F=b===void 0?0:b,D=o.y,M=D===void 0?0:D,q=typeof p=="function"?p({x:F,y:M}):{x:F,y:M};F=q.x,M=q.y;var N=o.hasOwnProperty("x"),B=o.hasOwnProperty("y"),I=Wu,z=Nu,ie=window;if(f){var L=n1(t),Y="clientHeight",fe="clientWidth";if(L===pu(t)&&(L=jc(t),Zf(L).position!=="static"&&a==="absolute"&&(Y="scrollHeight",fe="scrollWidth")),L=L,i===Nu||(i===Wu||i===bl)&&s===g6){z=jl;var me=v&&L===ie&&ie.visualViewport?ie.visualViewport.height:L[Y];M-=me-r.height,M*=l?1:-1}if(i===Wu||(i===Nu||i===jl)&&s===g6){I=bl;var Be=v&&L===ie&&ie.visualViewport?ie.visualViewport.width:L[fe];F-=Be-r.width,F*=l?1:-1}}var tt=Object.assign({position:a},f&&sRt),st=p===!0?oRt({x:F,y:M}):{x:F,y:M};if(F=st.x,M=st.y,l){var Qe;return Object.assign({},tt,(Qe={},Qe[z]=B?"0":"",Qe[I]=N?"0":"",Qe.transform=(ie.devicePixelRatio||1)<=1?"translate("+F+"px, "+M+"px)":"translate3d("+F+"px, "+M+"px, 0)",Qe))}return Object.assign({},tt,(e={},e[z]=B?M+"px":"",e[I]=N?F+"px":"",e.transform="",e))}function aRt(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a;if(!1)var f;var p={placement:dc(e.placement),variation:Jh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,EIe(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,EIe(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var SIe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:aRt,data:{}};d();var fH={passive:!0};function uRt(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=pu(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",t.update,fH)}),a&&l.addEventListener("resize",t.update,fH),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",t.update,fH)}),a&&l.removeEventListener("resize",t.update,fH)}}var CIe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:uRt,data:{}};d();d();var lRt={left:"right",right:"left",bottom:"top",top:"bottom"};function UC(n){return n.replace(/left|right|bottom|top/g,function(e){return lRt[e]})}d();var cRt={start:"end",end:"start"};function dH(n){return n.replace(/start|end/g,function(e){return cRt[e]})}d();d();d();d();d();function E6(n){var e=pu(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function S6(n){return Kh(jc(n)).left+E6(n).scrollLeft}function Jae(n,e){var t=pu(n),r=jc(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var f=hO();(f||!f&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+S6(n),y:l}}d();function Xae(n){var e,t=jc(n),r=E6(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=t1(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=t1(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+S6(n),l=-r.scrollTop;return Zf(i||t).direction==="rtl"&&(a+=t1(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}d();d();d();function C6(n){var e=Zf(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function hH(n){return["html","body","#document"].indexOf(fc(n))>=0?n.ownerDocument.body:ql(n)&&C6(n)?n:hH(bg(n))}function y4(n,e){var t;e===void 0&&(e=[]);var r=hH(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=pu(r),o=i?[s].concat(s.visualViewport||[],C6(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(y4(bg(o)))}d();function $C(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function fRt(n,e){var t=Kh(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function wIe(n,e,t){return e===lH?$C(Jae(n,t)):Yh(e)?fRt(e,t):$C(Xae(jc(n)))}function dRt(n){var e=y4(bg(n)),t=["absolute","fixed"].indexOf(Zf(n).position)>=0,r=t&&ql(n)?n1(n):n;return Yh(r)?e.filter(function(i){return Yh(i)&&pO(i,r)&&fc(i)!=="body"}):[]}function Zae(n,e,t,r){var i=e==="clippingParents"?dRt(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,f){var p=wIe(n,f,r);return l.top=t1(p.top,l.top),l.right=y6(p.right,l.right),l.bottom=y6(p.bottom,l.bottom),l.left=t1(p.left,l.left),l},wIe(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}d();function yO(n){var e=n.reference,t=n.element,r=n.placement,i=r?dc(r):null,s=r?Jh(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case Nu:l={x:o,y:e.y-t.height};break;case jl:l={x:o,y:e.y+e.height};break;case bl:l={x:e.x+e.width,y:a};break;case Wu:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var f=i?_6(i):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case vg:l[f]=l[f]-(e[p]/2-t[p]/2);break;case g6:l[f]=l[f]+(e[p]/2-t[p]/2);break;default:}}return l}function r1(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?mIe:a,f=t.rootBoundary,p=f===void 0?lH:f,v=t.elementContext,b=v===void 0?BC:v,F=t.altBoundary,D=F===void 0?!1:F,M=t.padding,q=M===void 0?0:M,N=xO(typeof q!="number"?q:gO(q,g4)),B=b===BC?xIe:BC,I=n.rects.popper,z=n.elements[D?B:b],ie=Zae(Yh(z)?z:z.contextElement||jc(n.elements.popper),l,p,o),L=Kh(n.elements.reference),Y=yO({reference:L,element:I,strategy:"absolute",placement:i}),fe=$C(Object.assign({},I,Y)),me=b===BC?fe:L,Be={top:ie.top-me.top+N.top,bottom:me.bottom-ie.bottom+N.bottom,left:ie.left-me.left+N.left,right:me.right-ie.right+N.right},tt=n.modifiersData.offset;if(b===BC&&tt){var st=tt[i];Object.keys(Be).forEach(function(Qe){var mt=[bl,jl].indexOf(Qe)>=0?1:-1,Lt=[Nu,jl].indexOf(Qe)>=0?"y":"x";Be[Qe]+=st[Lt]*mt})}return Be}d();function eue(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,f=l===void 0?cH:l,p=Jh(r),v=p?a?Yae:Yae.filter(function(D){return Jh(D)===p}):g4,b=v.filter(function(D){return f.indexOf(D)>=0});b.length===0&&(b=v);var F=b.reduce(function(D,M){return D[M]=r1(n,{placement:M,boundary:i,rootBoundary:s,padding:o})[dc(M)],D},{});return Object.keys(F).sort(function(D,M){return F[D]-F[M]})}function hRt(n){if(dc(n)===uH)return[];var e=UC(n);return[dH(n),e,dH(e)]}function pRt(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,f=t.padding,p=t.boundary,v=t.rootBoundary,b=t.altBoundary,F=t.flipVariations,D=F===void 0?!0:F,M=t.allowedAutoPlacements,q=e.options.placement,N=dc(q),B=N===q,I=l||(B||!D?[UC(q)]:hRt(q)),z=[q].concat(I).reduce(function(rt,Bt){return rt.concat(dc(Bt)===uH?eue(e,{placement:Bt,boundary:p,rootBoundary:v,padding:f,flipVariations:D,allowedAutoPlacements:M}):Bt)},[]),ie=e.rects.reference,L=e.rects.popper,Y=new Map,fe=!0,me=z[0],Be=0;Be<z.length;Be++){var tt=z[Be],st=dc(tt),Qe=Jh(tt)===vg,mt=[Nu,jl].indexOf(st)>=0,Lt=mt?"width":"height",je=r1(e,{placement:tt,boundary:p,rootBoundary:v,altBoundary:b,padding:f}),Z=mt?Qe?bl:Wu:Qe?jl:Nu;ie[Lt]>L[Lt]&&(Z=UC(Z));var Ke=UC(Z),_e=[];if(s&&_e.push(je[st]<=0),a&&_e.push(je[Z]<=0,je[Ke]<=0),_e.every(function(rt){return rt})){me=tt,fe=!1;break}Y.set(tt,_e)}if(fe)for(var De=D?3:1,be=function(Bt){var _t=z.find(function(un){var Tt=Y.get(un);if(Tt)return Tt.slice(0,Bt).every(function(Rt){return Rt})});if(_t)return me=_t,"break"},de=De;de>0;de--){var Ge=be(de);if(Ge==="break")break}e.placement!==me&&(e.modifiersData[r]._skip=!0,e.placement=me,e.reset=!0)}}var AIe={name:"flip",enabled:!0,phase:"main",fn:pRt,requiresIfExists:["offset"],data:{_skip:!1}};d();function TIe(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function FIe(n){return[Nu,bl,jl,Wu].some(function(e){return n[e]>=0})}function mRt(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=r1(e,{elementContext:"reference"}),a=r1(e,{altBoundary:!0}),l=TIe(o,r),f=TIe(a,i,s),p=FIe(l),v=FIe(f);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}var DIe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mRt};d();function xRt(n,e,t){var r=dc(n),i=[Wu,Nu].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Wu,bl].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function gRt(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=cH.reduce(function(p,v){return p[v]=xRt(v,e.rects,s),p},{}),a=o[e.placement],l=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=o}var OIe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gRt};d();function yRt(n){var e=n.state,t=n.name;e.modifiersData[t]=yO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var NIe={name:"popperOffsets",enabled:!0,phase:"read",fn:yRt,data:{}};d();d();function tue(n){return n==="x"?"y":"x"}function vRt(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,f=t.rootBoundary,p=t.altBoundary,v=t.padding,b=t.tether,F=b===void 0?!0:b,D=t.tetherOffset,M=D===void 0?0:D,q=r1(e,{boundary:l,rootBoundary:f,padding:v,altBoundary:p}),N=dc(e.placement),B=Jh(e.placement),I=!B,z=_6(N),ie=tue(z),L=e.modifiersData.popperOffsets,Y=e.rects.reference,fe=e.rects.popper,me=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,Be=typeof me=="number"?{mainAxis:me,altAxis:me}:Object.assign({mainAxis:0,altAxis:0},me),tt=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,st={x:0,y:0};if(!!L){if(s){var Qe,mt=z==="y"?Nu:Wu,Lt=z==="y"?jl:bl,je=z==="y"?"height":"width",Z=L[z],Ke=Z+q[mt],_e=Z-q[Lt],De=F?-fe[je]/2:0,be=B===vg?Y[je]:fe[je],de=B===vg?-fe[je]:-Y[je],Ge=e.elements.arrow,rt=F&&Ge?v6(Ge):{width:0,height:0},Bt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mO(),_t=Bt[mt],un=Bt[Lt],Tt=b6(0,Y[je],rt[je]),Rt=I?Y[je]/2-De-Tt-_t-Be.mainAxis:be-Tt-_t-Be.mainAxis,Gt=I?-Y[je]/2+De+Tt+un+Be.mainAxis:de+Tt+un+Be.mainAxis,xt=e.elements.arrow&&n1(e.elements.arrow),ve=xt?z==="y"?xt.clientTop||0:xt.clientLeft||0:0,Oe=(Qe=tt==null?void 0:tt[z])!=null?Qe:0,xe=Z+Rt-Oe-ve,le=Z+Gt-Oe,Ye=b6(F?y6(Ke,xe):Ke,Z,F?t1(_e,le):_e);L[z]=Ye,st[z]=Ye-Z}if(a){var Ve,te=z==="x"?Nu:Wu,Ae=z==="x"?jl:bl,Xe=L[ie],ot=ie==="y"?"height":"width",Ct=Xe+q[te],$t=Xe-q[Ae],Ut=[Nu,Wu].indexOf(N)!==-1,sn=(Ve=tt==null?void 0:tt[ie])!=null?Ve:0,ln=Ut?Ct:Xe-Y[ot]-fe[ot]-sn+Be.altAxis,cn=Ut?Xe+Y[ot]+fe[ot]-sn-Be.altAxis:$t,Ft=F&&Ut?_Ie(ln,Xe,cn):b6(F?ln:Ct,Xe,F?cn:$t);L[ie]=Ft,st[ie]=Ft-Xe}e.modifiersData[r]=st}}var RIe={name:"preventOverflow",enabled:!0,phase:"main",fn:vRt,requiresIfExists:["offset"]};d();d();d();d();function nue(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function rue(n){return n===pu(n)||!ql(n)?E6(n):nue(n)}function _Rt(n){var e=n.getBoundingClientRect(),t=_g(e.width)/n.offsetWidth||1,r=_g(e.height)/n.offsetHeight||1;return t!==1||r!==1}function iue(n,e,t){t===void 0&&(t=!1);var r=ql(e),i=ql(e)&&_Rt(e),s=jc(e),o=Kh(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((fc(e)!=="body"||C6(s))&&(a=rue(e)),ql(e)?(l=Kh(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=S6(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}d();function bRt(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function sue(n){var e=bRt(n);return gIe.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}d();function oue(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}d();function aue(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var LIe={placement:"bottom",modifiers:[],strategy:"absolute"};function kIe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function IIe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?LIe:i;return function(a,l,f){f===void 0&&(f=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},LIe,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},v=[],b=!1,F={state:p,setOptions:function(N){var B=typeof N=="function"?N(p.options):N;M(),p.options=Object.assign({},s,p.options,B),p.scrollParents={reference:Yh(a)?y4(a):a.contextElement?y4(a.contextElement):[],popper:y4(l)};var I=sue(aue([].concat(r,p.options.modifiers)));if(p.orderedModifiers=I.filter(function(tt){return tt.enabled}),!1){var z;if(getBasePlacement(p.options.placement)===auto)var ie;var L,Y,fe,me,Be}return D(),F.update()},forceUpdate:function(){if(!b){var N=p.elements,B=N.reference,I=N.popper;if(!!kIe(B,I)){p.rects={reference:iue(B,n1(I),p.options.strategy==="fixed"),popper:v6(I)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(tt){return p.modifiersData[tt.name]=Object.assign({},tt.data)});for(var z=0,ie=0;ie<p.orderedModifiers.length;ie++){if(p.reset===!0){p.reset=!1,ie=-1;continue}var L=p.orderedModifiers[ie],Y=L.fn,fe=L.options,me=fe===void 0?{}:fe,Be=L.name;typeof Y=="function"&&(p=Y({state:p,options:me,name:Be,instance:F})||p)}}}},update:oue(function(){return new Promise(function(q){F.forceUpdate(),q(p)})}),destroy:function(){M(),b=!0}};if(!kIe(a,l))return F;F.setOptions(f).then(function(q){!b&&f.onFirstUpdate&&f.onFirstUpdate(q)});function D(){p.orderedModifiers.forEach(function(q){var N=q.name,B=q.options,I=B===void 0?{}:B,z=q.effect;if(typeof z=="function"){var ie=z({state:p,name:N,instance:F,options:I}),L=function(){};v.push(ie||L)}})}function M(){v.forEach(function(q){return q()}),v=[]}return F}}d();var ERt=[CIe,NIe,SIe,yIe,OIe,AIe,RIe,bIe,DIe],uue=IIe({defaultModifiers:ERt});var jIe=Jn(PIe());var TRt=[],lue=function(e,t,r){r===void 0&&(r={});var i=v4.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||TRt},o=v4.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],f=v4.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(F){var D=F.state,M=Object.keys(D.elements);BIe.flushSync(function(){l({styles:Qae(M.map(function(q){return[q,D.styles[q]||{}]})),attributes:Qae(M.map(function(q){return[q,D.attributes[q]]}))})})},requires:["computeStyles"]}},[]),p=v4.useMemo(function(){var b={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[f,{name:"applyStyles",enabled:!1}])};return(0,jIe.default)(i.current,b)?i.current||b:(i.current=b,b)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,f]),v=v4.useRef();return Gae(function(){v.current&&v.current.setOptions(p)},[p]),Gae(function(){if(!(e==null||t==null)){var b=r.createPopper||uue,F=b(e,t,p);return v.current=F,function(){F.destroy(),v.current=null}}},[e,t,r.createPopper]),{state:v.current?v.current.state:null,styles:a.styles,attributes:a.attributes,update:v.current?v.current.update:null,forceUpdate:v.current?v.current.forceUpdate:null}};var FRt=_n.div`
  border: 1px solid #ececed;
  border-radius: 4px;
  position: fixed;
  box-shadow: 0px 1px 5px 1px #0000001a;
  background-color: white;
  font-size: 14px;
  ${({width:n,zIndex:e})=>`
    width: ${n}px;
    z-index: ${e};
  `}
`,DRt=_n.div`
  position: relative;
`,Xh=({open:n,setOpen:e,children:t,width:r=350,placement:i="right-start",referenceDiv:s,zIndex:o=10,xOffset:a=0,yOffset:l=10,disabled:f=!1})=>{let p=(0,w6.useRef)(null),[v,b]=(0,w6.useState)(null),{styles:F,attributes:D}=lue(s?.current||p.current,v,{placement:i,modifiers:[{name:"offset",options:{offset:[a,l]}},{name:"preventOverflow",options:{altAxis:!0,padding:20,boundary:document.getElementsByTagName("body")[0]}},{name:"flip",options:{flipVariations:!1}}]});return Gh(p,()=>e(!1)),w6.default.createElement(DRt,{ref:p},n&&!f&&w6.default.createElement(FRt,{width:r,ref:b,style:{...F.popper,position:"fixed"},...D.popper,zIndex:o},t))};d();d();var x2=Jn(ur());d();d();var ao=({icon:n,name:e,onClick:t,canRemove:r,onRemove:i,unsaved:s=!1,color:o,active:a=!1,disableHover:l=!1,detail:f,fullDetail:p=!1})=>m.createElement(LRt,{onClick:t,color:o,active:a,disableHover:l},m.createElement(NRt,null,m.createElement(xC,{color:o},n),m.createElement(Sae,null,e),s?m.createElement(ORt,{color:o}):""),r&&m.createElement(mH,{className:"back"},m.createElement(xH,{color:o,width:"20px",height:"20px",className:"close",onClick:()=>i&&i()})),!r&&f!==void 0&&m.createElement(RRt,{style:{color:Yr[o].fillStrong,opacity:.8},noShrink:p},f)),ORt=_n.div`
  width: 8px;
  margin-top: 3px;
  height: 8px;
  min-width: 8px;
  min-height: 8px;
  border-radius: 100px;

  ${({color:n})=>`
    background-color: ${Yr[n].fillStrong};
    `}
`,NRt=_n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
`,mH=_n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
`,RRt=_n.div`
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  ${({noShrink:n})=>`flex-shrink: ${n?0:4};`}
  font-size: 12px;
  font-weight: normal;
  text-transform: none;
  margin-right: 5px;
  justify-content: start;
  text-overflow: ellipsis;
  color: #9aa0a6;
`,LRt=_n.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  cursor: pointer;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";

  ${({active:n,color:e})=>n?`
        background-color: ${Yr[e].fillLight};
        .back {
          display: flex;
        }
      `:""}

  &:hover {
    .back {
      display: flex;
    }
  }

  .back {
    display: none;
  }

  ${({color:n,disableHover:e})=>{if(!e)return`
        &:hover {
          background-color: ${Yr[n].fillLight};
        }
      `}}
`,xH=_n(kC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${Yr[n].fillMedium};
      }
      .circle {
        fill: transparent;
      }
      &:hover .cross {
        fill: ${Yr[n].fillStrong};
      }
      &:hover .circle {
        fill: ${Yr[n].fillMedium};
      }
    `}
`;d();d();d();d();var gue=Jn(ur());d();var c2=Jn(gf());var cue=class{async readURL(){return""}},fue=class{constructor(){this.name="dummy"}runSQL(){throw new Error("Dummy connection cannot run SQL.")}runSQLBlockAndFetchResultSchema(){throw new Error("Dummy connection cannot run SQL blocks.")}fetchSchemaForSQLBlock(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForSQLBlocks(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForTables(){throw new Error("Dummy connection cannot fetch schemas.")}isPool(){return!1}canPersist(){return!1}canStream(){return!1}async close(){}};async function due(n,e){let r=await new c2.Runtime(new cue,new fue)._loadModelFromModelDef(n).getModel();return await c2.Malloy.compile({urlReader:new cue,connections:new c2.FixedConnectionMap(new Map([["dummy",new fue]]),"dummy"),model:r,parse:c2.Malloy.parse({source:e})})}async function gH(n,e){return(await due(n,e))._modelDef}function yH(n){return{name:"model",exports:[],contents:{[n.as||n.name]:n}}}async function f2(n,e){let t=`query: the_query is ${n.as||n.name} -> { group_by: one is 1; where: ${e}}`,r=yH(n),s=(await gH(r,t)).contents.the_query;if(s.type!=="query")throw new Error("Expected the_query to be a query");let o=s.pipeline[0].filterList;if(o===void 0)throw new Error("Expected a filter list");return o[0]}async function qIe(n,e,t){let r=Ou(e),i=t?`${r} is ${t}`:r,s=`query: the_query is ${Ou(n.as||n.name)} -> { group_by: ${i} }`,o=yH(n),l=(await gH(o,s)).contents.the_query;if(l.type!=="query")throw new Error("Expected the_query to be a query");let f=l.pipeline[0].fields;if(f===void 0)throw new Error("Expected a field list");return f[0]}async function UIe(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { group_by: ${e} is ${t} }`,i=yH(n),o=(await gH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definition, not reference");if((0,c2.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}async function $Ie(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { aggregate: ${e} is ${t} }`,i=yH(n),o=(await gH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,c2.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}var zIe="new_query";async function HIe(n,e){let t=await due(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r),s=i?t.getPreparedQueryByName(i[1]):t.preparedQuery;return s._query.pipeHead&&(s=s.getFlattenedQuery(zIe)),s}async function VIe(n,e){return(await HIe(n,e)).preparedResult.sql}async function hue(n,e){let t=await HIe(n,e),r="as"in t._query?t._query.as||t._query.name:zIe;return{...t._query,type:"query",name:r}}async function pue(n,e){let t=await due(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r);return(i?t.getPreparedQueryByName(i[1]):t.preparedQuery).preparedResult._sourceExploreName}d();d();async function kRt(n,e,t,r,i){if(t===void 0)return;if(Rm()){let o=await ELe(n,t,r,i);if(o instanceof Error)throw o;return o}return(await(await fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,searchTerm:r,source:t,fieldPath:i})})).json()).result||[]}function A6(n,e,t,r,i){let{data:s,isLoading:o}=ox([t,r,i],()=>kRt(n,e,t,r,i),{refetchOnWindowFocus:!0});return{searchResults:s,isLoading:o}}d();d();var wd=({value:n,setValue:e,placeholder:t,autoFocus:r,onTab:i})=>m.createElement(IRt,null,m.createElement(MRt,null,m.createElement(bo,{action:"search",color:"other"})),m.createElement(PRt,{type:"text",placeholder:t,value:n,onChange:o=>e(o.target.value),autoFocus:r,tabIndex:1,onKeyDown:o=>{o.key==="Tab"&&(i&&i(),o.stopPropagation(),o.preventDefault())}})),IRt=_n.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
`,MRt=_n.div`
  position: fixed;
  left: 15px;
  top: 9px;
  pointer-events: none;
`,PRt=_n.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: none;
  padding: 3px 10px 1px 38px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;d();d();d();d();var _4=({fieldPath:n,topValues:e,filterExpression:t,definition:r})=>{let i=e?.find(s=>s.fieldName===n);return m.createElement(Vu,null,m.createElement(BRt,null,m.createElement(qRt,null,n&&m.createElement(vH,null,m.createElement("div",null,"Path"),m.createElement(mue,null,n.length<=32?n:m.createElement(WIe,{path:n.split(".")}))),r&&m.createElement(vH,null,m.createElement("div",null,"Definition"),m.createElement(mue,null,r)),t&&m.createElement(vH,null,m.createElement("div",null,"Filter"),m.createElement(mue,null,t)),i&&m.createElement(vH,null,m.createElement("div",null,"Top Values"),i.values.slice(0,8).map(s=>m.createElement(VRt,{key:s.fieldValue},m.createElement($Rt,null,m.createElement(HRt,null,s.fieldValue===null?m.createElement(jRt,null,"\u2205"):s.fieldValue)),m.createElement(zRt,null,Hq(s.weight))))))))},BRt=_n(vl)`
  padding: 20px;
  background-color: rgb(248, 248, 248);
`,jRt=_n.span``,mue=_n.div`
  color: #505050;
  font-weight: normal;
  font-family: Roboto Mono;
  font-weight: normal;
  font-size: 14px;
  text-transform: none;
  overflow-wrap: break-word;
  padding: 4px 0px;
`,qRt=_n.div`
  display: flex;
  gap: 15px;
  flex-direction: column;
`,vH=_n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,WIe=({path:n,top:e=!0})=>m.createElement("div",null,e?"":".",n[0],n.length>1&&m.createElement(URt,null,m.createElement(WIe,{path:n.slice(1),top:!1}))),URt=_n.div`
  margin-left: 10px;
`,$Rt=_n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #505050;
`,zRt=_n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
  color: #9aa0a6;
`,HRt=_n.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,VRt=_n.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 0px;
  text-align: left;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto"
  font-weight: normal;;
`;d();d();var T6=Jn(ur());var b4=({popoverContent:n,content:e,width:t,enabled:r=!0,zIndex:i=11})=>{let[s,o]=(0,T6.useState)(!1),a=(0,T6.useRef)(!1),l=(0,T6.useRef)(null),f=()=>{a.current=!0,o(!1)};return(0,T6.useEffect)(()=>{a.current=!1},[s]),m.createElement(WRt,{onMouseEnter:()=>!a.current&&o(!0),onMouseLeave:f},m.createElement("div",{ref:l},e({isOpen:s,closeMenu:f})),(()=>{let p=n({setOpen:o,closeMenu:f});return m.createElement(Xh,{open:r&&s&&p!==null,setOpen:o,referenceDiv:l,zIndex:i,width:t},p)})())},WRt=_n.div`
  position: relative;
`;d();d();d();var Eg=Jn(ur()),QIe=n=>Eg.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Eg.createElement("title",null,"type-icon-on-off"),Eg.createElement("g",{id:"type-icon-on-off",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Eg.createElement("g",{id:"Group-Copy",transform:"translate(4.295444, 4.604157)",fill:"#4285f4",fillRule:"nonzero"},Eg.createElement("path",{d:"M1.61912392,3.08712961 L5.78998715,3.08712961 C6.6842046,3.08712961 7.40911107,2.39605211 7.40911107,1.54356481 C7.40911107,0.691077503 6.6842046,0 5.78998715,0 L1.61912392,0 C0.724906472,0 0,0.691077503 0,1.54356481 C0,2.39605211 0.724906472,3.08712961 1.61912392,3.08712961 Z M1.61912392,0.617425922 L5.78998715,0.617425922 C6.32651762,0.617425922 6.7614615,1.03207242 6.7614615,1.54356481 C6.7614615,2.05505719 6.32651762,2.46970369 5.78998715,2.46970369 L1.61912392,2.46970369 C1.08259345,2.46970369 0.647649569,2.05505719 0.647649569,1.54356481 C0.647649569,1.03207242 1.08259345,0.617425922 1.61912392,0.617425922 Z",id:"Shape-Copy-20"}),Eg.createElement("path",{d:"M1.83745135,2.13685198 C2.08762004,2.13888594 2.31428875,1.98975367 2.4114368,1.75920941 C2.50858486,1.52866515 2.45700749,1.2622842 2.28082919,1.08466199 C2.10465088,0.907039785 1.83869956,0.853289683 1.60736972,0.948552441 C1.37603988,1.0438152 1.22505383,1.26925874 1.22505383,1.51943543 C1.22505383,1.85847446 1.49842318,2.13409557 1.83745135,2.13685198 L1.83745135,2.13685198 Z",id:"Path-Copy-14"}),Eg.createElement("path",{d:"M5.78998714,3.70455553 L1.6191239,3.70455553 C0.724906454,3.70455553 0,4.39563305 0,5.24812034 C0,6.10060763 0.724906454,6.79168514 1.6191239,6.79168514 L5.78998714,6.79168514 C6.68420459,6.79168514 7.40911107,6.10060764 7.40911107,5.24812034 C7.40911107,4.39563304 6.68420459,3.70455553 5.78998714,3.70455553 L5.78998714,3.70455553 Z M5.78998714,6.17425922 L1.6191239,6.17425922 C1.08259342,6.17425922 0.647649538,5.75961272 0.647649538,5.24812034 C0.647649538,4.73662796 1.08259342,4.32198146 1.6191239,4.32198146 L5.78998714,4.32198146 C6.32651761,4.32198146 6.7614615,4.73662796 6.7614615,5.24812034 C6.7614615,5.75961272 6.32651761,6.17425922 5.78998714,6.17425922 L5.78998714,6.17425922 Z",id:"Shape-Copy-21"}),Eg.createElement("path",{d:"M5.54392378,4.67774545 C5.2937551,4.6757115 5.06708639,4.82484377 4.96993833,5.05538803 C4.87279028,5.28593228 4.92436765,5.55231324 5.10054595,5.72993544 C5.27672426,5.90755765 5.54267558,5.96130775 5.77400542,5.86604499 C6.00533526,5.77078224 6.15632131,5.5453387 6.15632131,5.295162 C6.15632131,4.95612297 5.88295196,4.68050187 5.54392378,4.67774545 Z",id:"Path-Copy-15"}))));d();var zC=Jn(ur()),xue=n=>zC.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},zC.createElement("title",null,"type-icon-date"),zC.createElement("g",{id:"type-icon-date",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},zC.createElement("g",{id:"Group-Copy-22",transform:"translate(4.753763, 4.094719)",fill:"#4285f4",fillRule:"nonzero"},zC.createElement("path",{d:"M5.84322609,0.649247344 L5.51860242,0.649247344 L5.51860242,0 L4.86935508,0 L4.86935508,0.649247344 L1.62311836,0.649247344 L1.62311836,0 L0.973871015,0 L0.973871015,0.649247344 L0.649247344,0.649247344 C0.292161305,0.649247344 0,0.941408648 0,1.29849469 L0,6.49247344 C0,6.84955947 0.292161305,7.14172078 0.649247344,7.14172078 L5.84322609,7.14172078 C6.20031213,7.14172078 6.49247344,6.84955947 6.49247344,6.49247344 L6.49247344,1.29849469 C6.49247344,0.941408648 6.20031213,0.649247344 5.84322609,0.649247344 Z M5.84322609,6.49247344 L0.649247344,6.49247344 L0.649247344,2.2723657 L5.84322609,2.2723657 L5.84322609,6.49247344 Z",id:"Shape"}))));d();var vO=Jn(ur()),GIe=n=>vO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},vO.createElement("title",null,"type-icon-number"),vO.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},vO.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#4285f4",fillRule:"nonzero"})));d();var _O=Jn(ur()),YIe=n=>_O.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},_O.createElement("title",null,"type-icon-string"),_O.createElement("g",{id:"type-icon-string",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},_O.createElement("path",{d:"M4.8045,10.45 L5.2245,9.253 L7.1425,9.253 L7.5625,10.45 L8.6055,10.45 L6.7225,5.438 L5.6375,5.438 L3.7615,10.45 L4.8045,10.45 Z M6.8345,8.385 L5.5255,8.385 L5.9735,7.125 L6.1555,6.523 L6.2115,6.523 L6.3935,7.125 L6.8345,8.385 Z M10.2505,10.562 C10.4791667,10.562 10.681,10.5176667 10.856,10.429 C11.031,10.3403333 11.1721667,10.226 11.2795,10.086 L11.2795,10.086 L11.3355,10.086 L11.3355,10.45 L12.2385,10.45 L12.2385,8.252 C12.2385,7.76666667 12.0961667,7.398 11.8115,7.146 C11.5268333,6.894 11.1115,6.768 10.5655,6.768 C10.2575,6.768 9.97283333,6.82866667 9.7115,6.95 C9.45016667,7.07133333 9.23316667,7.244 9.0605,7.468 L9.0605,7.468 L9.6485,7.93 C9.75116667,7.804 9.88066667,7.7025 10.037,7.6255 C10.1933333,7.5485 10.3555,7.51 10.5235,7.51 C10.7708333,7.51 10.968,7.57066667 11.115,7.692 C11.262,7.81333333 11.3355,7.972 11.3355,8.168 L11.3355,8.168 L11.3355,8.322 C11.0741667,8.21466667 10.7591667,8.161 10.3905,8.161 C10.1245,8.161 9.88183333,8.21 9.6625,8.308 C9.44316667,8.406 9.2705,8.546 9.1445,8.728 C9.0185,8.91 8.9555,9.12 8.9555,9.358 C8.9555,9.71733333 9.07683333,10.0078333 9.3195,10.2295 C9.56216667,10.4511667 9.8725,10.562 10.2505,10.562 Z M10.4675,9.848 C10.2761667,9.848 10.1291667,9.8025 10.0265,9.7115 C9.92383333,9.6205 9.8725,9.50266667 9.8725,9.358 C9.8725,9.00333333 10.1105,8.826 10.5865,8.826 C10.8478333,8.826 11.0975,8.882 11.3355,8.994 C11.3355,9.22266667 11.2573333,9.42216667 11.101,9.5925 C10.9446667,9.76283333 10.7335,9.848 10.4675,9.848 Z",id:"Aa-Copy",fill:"#4285f4",fillRule:"nonzero"})));d();var bO=Jn(ur()),KIe=n=>bO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},bO.createElement("title",null,"type-icon-string"),bO.createElement("g",{id:"type-icon-string",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},bO.createElement("path",{d:"M4.8045,10.45 L5.2245,9.253 L7.1425,9.253 L7.5625,10.45 L8.6055,10.45 L6.7225,5.438 L5.6375,5.438 L3.7615,10.45 L4.8045,10.45 Z M6.8345,8.385 L5.5255,8.385 L5.9735,7.125 L6.1555,6.523 L6.2115,6.523 L6.3935,7.125 L6.8345,8.385 Z M10.2505,10.562 C10.4791667,10.562 10.681,10.5176667 10.856,10.429 C11.031,10.3403333 11.1721667,10.226 11.2795,10.086 L11.2795,10.086 L11.3355,10.086 L11.3355,10.45 L12.2385,10.45 L12.2385,8.252 C12.2385,7.76666667 12.0961667,7.398 11.8115,7.146 C11.5268333,6.894 11.1115,6.768 10.5655,6.768 C10.2575,6.768 9.97283333,6.82866667 9.7115,6.95 C9.45016667,7.07133333 9.23316667,7.244 9.0605,7.468 L9.0605,7.468 L9.6485,7.93 C9.75116667,7.804 9.88066667,7.7025 10.037,7.6255 C10.1933333,7.5485 10.3555,7.51 10.5235,7.51 C10.7708333,7.51 10.968,7.57066667 11.115,7.692 C11.262,7.81333333 11.3355,7.972 11.3355,8.168 L11.3355,8.168 L11.3355,8.322 C11.0741667,8.21466667 10.7591667,8.161 10.3905,8.161 C10.1245,8.161 9.88183333,8.21 9.6625,8.308 C9.44316667,8.406 9.2705,8.546 9.1445,8.728 C9.0185,8.91 8.9555,9.12 8.9555,9.358 C8.9555,9.71733333 9.07683333,10.0078333 9.3195,10.2295 C9.56216667,10.4511667 9.8725,10.562 10.2505,10.562 Z M10.4675,9.848 C10.2761667,9.848 10.1291667,9.8025 10.0265,9.7115 C9.92383333,9.6205 9.8725,9.50266667 9.8725,9.358 C9.8725,9.00333333 10.1105,8.826 10.5865,8.826 C10.8478333,8.826 11.0975,8.882 11.3355,8.994 C11.3355,9.22266667 11.2573333,9.42216667 11.101,9.5925 C10.9446667,9.76283333 10.7335,9.848 10.4675,9.848 Z",id:"Aa-Copy",fill:"#4285f4",fillRule:"nonzero"})));d();var EO=Jn(ur()),JIe=n=>EO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},EO.createElement("title",null,"type-icon-projection"),EO.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},EO.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));d();var SO=Jn(ur()),XIe=n=>SO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},SO.createElement("title",null,"type-icon-number"),SO.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},SO.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#ea8600",fillRule:"nonzero"})));var e0=({type:n,kind:e})=>{let t={width:"22px",height:"22px"};if(e==="measure")return m.createElement(XIe,{...t});if(n==="string")return m.createElement(YIe,{...t});if(n==="boolean")return m.createElement(QIe,{...t});if(n==="json")return m.createElement(KIe,{...t});if(n==="number")return m.createElement(GIe,{...t});if(n==="date")return m.createElement(xue,{...t});if(n==="timestamp")return m.createElement(xue,{...t});if(n==="query")return m.createElement(JIe,{...t});if(n==="source")return m.createElement(oH,{...t});throw new Error("Invalid icon type")};var HC=({searchTerm:n,items:e,topValues:t})=>{let r=e.map(s=>({item:s,rank:GRt(s.terms,n)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s);return{searchList:m.createElement(QRt,null,r.map(({item:s})=>{if(s.item.type==="field"){let o=s.item,a=_d(s.item.field);return m.createElement(b4,{width:300,key:s.key,content:()=>m.createElement(ao,{icon:m.createElement(e0,{type:a,kind:o.kind}),onClick:s.select,name:o.name,color:o.kind,detail:s.detail}),popoverContent:()=>m.createElement(_4,{fieldPath:o.path,topValues:t})})}else return m.createElement("div",null)}),r.length===0&&m.createElement(Pl,null,"No results")),count:r.length}},Sg=n=>{let{searchList:e}=HC(n);return e},QRt=_n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function GRt(n,e){let t=e.split(" ").map(i=>i.trim()).filter(i=>i.length>0),r=0;for(let i of t)for(let s=0;s<n.length;s++){let o=n[s],a=n.length-s,l=o.split("_");o.toLowerCase().includes(i.toLowerCase())&&(r+=a),o.toLowerCase()===i.toLowerCase()&&(r+=a*10),o.toLowerCase().startsWith(i.toLowerCase())&&(r+=a*6),l.some(f=>f.toLowerCase().startsWith(i.toLowerCase()))&&(r+=a)}return r}d();d();var VC=Jn(ur());d();var Cg=Jn(ur()),ZIe=n=>Cg.createElement("svg",{width:"25px",height:"25px",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Cg.createElement("title",null,"malloy-icon-status-progress"),Cg.createElement("defs",null,Cg.createElement("circle",{id:"path-1",cx:7.5,cy:7.5,r:7.5}),Cg.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:15,height:15,fill:"white"},Cg.createElement("use",{xlinkHref:"#path-1"}))),Cg.createElement("g",{id:"malloy-icon-status-progress",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeDasharray:16},Cg.createElement("use",{id:"Oval-Copy-3",stroke:"#4285F4",className:"primarystroke",mask:"url(#mask-2)",strokeWidth:3,transform:"translate(7.500000, 7.500000) rotate(-240.000000) translate(-7.500000, -7.500000) ",xlinkHref:"#path-1"})));var Ad=({text:n})=>VC.default.createElement(XRt,null,VC.default.createElement(ZRt,null,VC.default.createElement(JRt,null,n),VC.default.createElement(eMe,{size:25}))),eMe=({size:n,color:e})=>VC.default.createElement(KRt,{size:n,color:e||"dimension",width:n+"px",height:n+"px"}),YRt=R2e`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,KRt=_n(ZIe)`
  ${({size:n,color:e})=>`
    width: ${n}px;
    height: ${n}px;

    .primarystroke {
      stroke: ${Yr[e].fillStrong}
    }
  `}
  animation: ${YRt} 2s infinite linear;
`,JRt=_n.div`
  margin-bottom: 10px;
  color: #505050;
  font-size: 15px;
`,XRt=_n.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
  width: 100%;
  height: 100%;
`,ZRt=_n.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`;var Ul=({model:n,modelPath:e,actions:t,closeMenu:r,searchItems:i,valueSearchSource:s,topValues:o,addFilter:a})=>{let[l,f]=(0,gue.useState)(t.length===1&&t[0].kind==="sub_menu"?t[0]:void 0),[p,v]=(0,gue.useState)(""),{searchResults:b,isLoading:F}=A6(n,e,s,p),D=b&&b.filter(ie=>ie.fieldType==="string").slice(0,100),M=i!==void 0,{searchList:q,count:N}=HC({searchTerm:p,items:i||[],topValues:o}),B=D?.length||0,I=N>0,z=B>0||F;return m.createElement(tLt,null,l===void 0&&m.createElement(m.Fragment,null,M&&m.createElement(zh,null,m.createElement(wd,{value:p,setValue:v,placeholder:"Search",autoFocus:!0})),m.createElement(tMe,null,p===""&&m.createElement(Du,null,m.createElement(iLt,null,t.filter(ie=>ie.isEnabled!==!1).flatMap(ie=>{let L=[m.createElement(nLt,{key:ie.id,color:ie.iconColor,onClick:()=>{ie.kind==="one_click"?(ie.onClick(),r()):f(ie)}},m.createElement(bo,{action:ie.iconName,color:ie.iconColor}),m.createElement(rLt,null,ie.label))];return ie.divider&&L.push(m.createElement(eLt,{key:ie.id+"/divider"})),L}))),p!==""&&m.createElement(m.Fragment,null,I&&m.createElement(Vu,{style:{borderBottom:I?"1px solid #efefef":"",maxHeight:z?"200px":"300px"}},m.createElement(Du,null,q)),z&&s&&m.createElement(Vu,{style:{borderBottom:"1px solid #efefef",maxHeight:I?"200px":"300px"}},m.createElement(Du,null,D&&D.length>0&&D.map((ie,L)=>m.createElement(ao,{key:L,name:ie.fieldValue,detail:ie.fieldName,icon:m.createElement(bo,{action:"filter"}),color:"filter",onClick:()=>{f2(s,u6(ie.fieldName,{type:"is_equal_to",values:[ie.fieldValue]})).then(Y=>{a&&a(Y),r()})}})),D!==void 0&&D.length===0&&m.createElement(Pl,null,"No value results"),F&&m.createElement(Pl,null,m.createElement(Ad,{text:"Loading value results..."})))),!z&&!I&&m.createElement(Pl,null,"No results")))),l!==void 0&&m.createElement(m.Fragment,null,m.createElement(tMe,null,l.Component({onComplete:()=>{l.closeOnComplete?r():f(void 0)}}))))},eLt=_n.div`
  width: calc(100% + 20px);
  margin: 5px -10px;
  border-bottom: 1px solid #efefef;
`,tLt=_n.div``,nLt=_n.button`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
  width: 100%;
  display: flex;
  justify-content: flex-start;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";
  color: #353535;

  ${({color:n})=>`
    &:hover {
      background-color: ${Yr[n].fillLight};
    }
  `}
`,rLt=_n.div``,iLt=_n.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,tMe=_n.div`
  flex-direction: column;
  display: flex;
`;d();d();var F6=Jn(ur());d();d();var WC=Jn(ur());var mu=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s})=>{let o=(0,WC.useRef)(null);return(0,WC.useEffect)(()=>{s&&o.current&&o.current.select()},[s]),m.createElement(Xp,null,r&&m.createElement(Cd,null,r),m.createElement(sLt,{ref:o,placeholder:t,value:n,onChange:a=>e(a.target.value),autoFocus:i,type:"text"}))},sLt=_n.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`,CO=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s,rows:o=1,cols:a})=>{let l=(0,WC.useRef)(null);return(0,WC.useEffect)(()=>{s&&l.current&&l.current.select()},[s]),m.createElement(Xp,null,r&&m.createElement(Cd,null,r),m.createElement(oLt,{ref:l,placeholder:t,value:n,onChange:f=>e(f.target.value),autoFocus:i,rows:o,cols:a}))},oLt=_n.textarea`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  min-height: calc(1em + 5px);
  padding: 5px 10px;
  outline: none;
  resize: vertical;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;d();var uMe=Jn(ur());d();var wg=Jn(ur());var i1=({values:n,setValues:e,autoFocus:t,placeholder:r,type:i="text",value:s,setValue:o,focusElement:a})=>{let[l,f]=(0,wg.useState)(""),[p,v]=(0,wg.useState)(!1),b=(0,wg.useRef)(null),F=(0,wg.useRef)(null),[D,M]=(0,wg.useState)(void 0),q=s||l,N=o||f;(0,wg.useEffect)(()=>{let I=z=>{if(z.key==="Backspace"){if(D!==void 0){let ie=[...n];ie.splice(D,1),e(ie),D===0?n.length===1?(M(void 0),b.current?.focus()):M(0):M(D-1)}}else z.key==="ArrowRight"?D===n.length-1?(M(void 0),b.current?.focus()):D!==void 0&&M(D+1):z.key==="ArrowLeft"?D!==void 0&&D>0&&M(D-1):b.current?.focus()};return window.addEventListener("keyup",I),()=>window.removeEventListener("keyup",I)});let B=()=>{q.length>0&&(e([...n,q]),N(""))};return Gh(a?[F,a]:F,()=>{v(!1),B()}),m.createElement(aLt,{onClick:()=>b.current?.focus(),isFocused:p||D!==void 0,ref:F},n.map((I,z)=>m.createElement(uLt,{key:z,isSelected:D===z,onClick:ie=>{M(z),ie.stopPropagation()}},I)),m.createElement(lLt,{ref:b,type:i,placeholder:n.length===0?r:"",value:q,size:1,onChange:I=>{N(I.target.value)},onKeyDown:I=>{I.key==="Enter"&&q!==""&&(B(),I.stopPropagation(),I.preventDefault())},onKeyUp:I=>{I.key==="Backspace"?q===""&&n.length>0&&(B(),b.current?.blur(),M(n.length-1)):I.key==="ArrowLeft"&&(b.current?.selectionStart===0||b.current?.selectionStart===null)&&(B(),b.current?.blur(),M(n.length-1),I.preventDefault(),I.stopPropagation())},onFocus:()=>{v(!0),M(void 0)},autoFocus:t}))},aLt=_n.div`
  font-family: Roboto;
  font-size: 14px;
  font-weight: normal;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 2px 3px;
  outline: none;
  display: flex;
  overflow: hidden;
  gap: 3px;
  flex-wrap: wrap;

  ${({isFocused:n})=>n?"border-color: #4285F4;":""}
`,uLt=_n.div`
  ${({isSelected:n})=>`
    border: 1px solid ${n?Yr.dimension.fillStrong:Yr.dimension.fillMedium};
    background-color: ${n?Yr.dimension.fillMedium:Yr.dimension.fillLight};
  `}

  border-radius: 5px;
  color: ${Yr.dimension.fillStrong};
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 1px 5px;
  text-transform: none;
  cursor: pointer;
  height: 20px;
`,lLt=_n.input`
  border: none;
  outline: none;
  font-family: Roboto;
  font-size: 14px;
  min-width: 95px;
  padding: 3.75px 7px;
  flex-grow: 1;
`,pdn=_n(kC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${Yr[n].fillStrong};
      }
    `}
`;d();d();var bH=Jn(ur());d();var _H=Jn(ur()),nMe=n=>_H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,role:"img",...n},_H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),_H.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}));var cLt=_n.div`
  position: relative;
`,fLt=_n.button`
  background-color: transparent;
  font-size: 14px;
  border: 1px solid #efefef;
  border-radius: 4px;
  padding: 3px 10px;
  cursor: pointer;
  color: #5f6368;
  display: flex;
  justify-content: space-between;
  text-transform: none;
  align-items: center;
  font-family: Arial;
  &:hover {
    border: 1px solid #ececed;
  }
  :focus {
    box-shadow: none;
    border: 1px solid #4285f4;
    outline: none;
  }
  &[disabled] {
    cursor: default;
    background-color: #f6f6f6;
  }
  width: 100%;
`,rMe=_n.label`
  padding: 0px 10px;
  height: 30px;
  cursor: pointer;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #5f6368;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${Yr.dimension.fillLight};
  }
`,iMe=_n.span`
  margin-left: 8px;
`,dLt=_n(nMe)`
  vertical-align: text-top;
  width: 20px;
  min-width: 20px;
  opacity: 70%;
  visibility: hidden;

  &.selected {
    visibility: visible;
  }
`,xu=({autoFocus:n,value:e,onChange:t,options:r,placeholder:i="Select",disabled:s=!1,valueEqual:o=(l,f)=>l===f,width:a=200})=>{let[l,f]=(0,bH.useState)(!1),p=(0,bH.useRef)(null),v=e!==void 0&&r.find(F=>o(F.value,e))?.label||i,b=F=>{t&&t(F),f(!1)};return Gh(p,()=>{f(!1)}),m.createElement(cLt,{ref:p},m.createElement(fLt,{type:"button",autoFocus:n,onClick:F=>{F.preventDefault(),F.stopPropagation(),s||f(!0)}},v,m.createElement(iH,{width:"22px",height:"22px"})),m.createElement(Xh,{open:l,setOpen:f,placement:"bottom-start",width:a,maxHeight:500},m.createElement(EH,{options:r,value:e,valueEqual:o,onChange:b})))};function EH({options:n,value:e,onChange:t,valueEqual:r=(i,s)=>i===s}){return m.createElement(oMe,null,n.reduce((i,s,o)=>{let a=e!==void 0&&r(e,s.value);return s.divider&&i.push(m.createElement(aMe,{key:"divider"+o})),i.push(m.createElement(rMe,{key:o,onClick:()=>t(s.value),className:a?"selected":""},m.createElement(hLt,{type:"radio",defaultChecked:a}),m.createElement(dLt,{className:a?"selected":""}),m.createElement(iMe,null,s.label))),i},[]))}function sMe({options:n}){return m.createElement(oMe,null,n.reduce((e,t,r)=>(t.divider&&e.push(m.createElement(aMe,{key:"divider"+r})),e.push(m.createElement(rMe,{key:r,onClick:i=>t.onSelect(i)},m.createElement(iMe,null,t.label))),e),[]))}var hLt=_n.input`
  width: 0;
  height: 0;
`,oMe=_n.div`
  font-size: 14px;
  font-family: Roboto;
  text-transform: none;
  font-weight: normal;
  width: 100%;
  padding: 10px 0;
  overflow-y: auto;
  max-height: 400px;
`,aMe=_n.div`
  border-top: 1px solid #ececec;
  width: 100%;
  margin: 0 10px;
  margin: 5px 0;
`;var lMe=({model:n,modelPath:e,source:t,filter:r,setFilter:i,fieldPath:s})=>{let o=q=>{i(Dke(r,q))},a=xLt(n,e,t,r,i,s),l=gLt(r,i),f=yLt(r,i),p=vLt(r,i),v=_Lt(r,i),b=bLt(r,i),F=ELt(r,i),D=SLt(r,i),M=!!(a.util||l.util||f.util||p.util||v.util||b.util||F.util||D.util);return m.createElement("div",null,m.createElement(pLt,null,m.createElement(xu,{value:r.type,onChange:o,options:[{value:"is_equal_to",label:"Is"},{value:"starts_with",label:"Starts with"},{value:"ends_with",label:"Ends with"},{value:"contains",label:"Contains"},{value:"is_blank",label:"Blank"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Is not"},{value:"does_not_start_with",label:"Does not start with"},{value:"does_not_end_with",label:"Does not end with"},{value:"does_not_contain",label:"Does not contain"},{value:"is_not_blank",label:"Not blank"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),a.builder,l.builder,f.builder,p.builder,v.builder,b.builder,F.builder,D.builder),M&&m.createElement(mLt,null,a.util,l.util,f.util,p.util,v.util,b.util,F.util,D.util))},pLt=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  padding: 0 15px;
`,mLt=_n.div`
  margin-top: 15px;
  border-top: 1px solid #efefef;
  border-bottom: 1px solid #efefef;
`;function xLt(n,e,t,r,i,s){let[o,a]=(0,uMe.useState)(""),{searchResults:l,isLoading:f}=A6(n,e,t,o,s);if(r.type!=="is_equal_to"&&r.type!=="is_not_equal_to")return{builder:null,util:null};let p=m.createElement(i1,{values:r.values,setValues:b=>i({...r,values:b}),placeholder:"Values...",value:o,setValue:a}),v=m.createElement(Vu,null,m.createElement(Du,null,l&&l.length>0&&l.map((b,F)=>m.createElement(ao,{key:F,name:b.fieldValue,detail:Hq(b.weight),icon:m.createElement(bo,{action:"filter"}),color:"filter",onClick:()=>{i({...r,values:[...r.values,b.fieldValue]}),a("")},fullDetail:!0})),l!==void 0&&l.length===0&&m.createElement(Pl,null,"No value results"),f&&m.createElement(Pl,null,m.createElement(Ad,{text:"Loading value results..."}))));return{builder:p,util:v}}function gLt(n,e){return n.type!=="contains"?{builder:null,util:null}:{builder:m.createElement(i1,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function yLt(n,e){return n.type!=="does_not_contain"?{builder:null,util:null}:{builder:m.createElement(i1,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function vLt(n,e){return n.type!=="starts_with"?{builder:null,util:null}:{builder:m.createElement(i1,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function _Lt(n,e){return n.type!=="does_not_start_with"?{builder:null,util:null}:{builder:m.createElement(i1,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function bLt(n,e){return n.type!=="ends_with"?{builder:null,util:null}:{builder:m.createElement(i1,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function ELt(n,e){return n.type!=="does_not_end_with"?{builder:null,util:null}:{builder:m.createElement(i1,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function SLt(n,e){return n.type!=="custom"?{builder:null,util:null}:{builder:m.createElement(mu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}),util:null}}d();d();d();var SH=Jn(ur());var Zh=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i})=>{let[s,o]=(0,SH.useState)(n.toString());return(0,SH.useEffect)(()=>{o(n.toString())},[n]),m.createElement(Xp,null,r&&m.createElement(Cd,null,r),m.createElement(CLt,{type:"number",placeholder:t,value:s,size:1,onChange:a=>{let l=a.target.value;o(l);let f=parseFloat(l);Number.isNaN(f)||e(f)},autoFocus:i}))},CLt=_n.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
    background-color: ${Yr.dimension.fillLight};
  }
`;var cMe=({filter:n,setFilter:e})=>{let t=F=>{e(Oke(n,F))},r=m.createElement(xu,{value:n.type,onChange:t,options:[{value:"is_equal_to",label:"Equal to"},{value:"is_greater_than",label:"Greater than"},{value:"is_less_than",label:"Less than"},{value:"is_greater_than_or_equal_to",label:"Greater than or equal to"},{value:"is_less_than_or_equal_to",label:"Less than or equal to"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Not equal to"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),i=ALt(n,e,r),s=TLt(n,e,r),o=FLt(n,e,r),a=DLt(n,e,r),l=OLt(n,e,r),f=NLt(n,e,r),p=RLt(n,e,r),v=LLt(n,e,r),b=n.type==="is_null"||n.type==="is_not_null"?m.createElement("div",{style:{width:"100%"}},r):null;return m.createElement(wLt,null,i.builder,s.builder,o.builder,a.builder,l.builder,f.builder,p.builder,v.builder,b)},wLt=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,wO=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,CH=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function ALt(n,e,t){return n.type!=="is_equal_to"?{builder:null,util:null}:{builder:m.createElement(CH,null,t,m.createElement(i1,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function TLt(n,e,t){return n.type!=="is_not_equal_to"?{builder:null,util:null}:{builder:m.createElement(CH,null,t,m.createElement(i1,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function FLt(n,e,t){return n.type!=="is_greater_than"?{builder:null,util:null}:{builder:m.createElement(wO,null,m.createElement("div",{style:{width:"50%",flexShrink:1}},t),m.createElement("div",{style:{width:"50%",flexShrink:1}},m.createElement(Zh,{value:n.value,setValue:i=>e({...n,value:i})})))}}function DLt(n,e,t){return n.type!=="is_less_than"?{builder:null,util:null}:{builder:m.createElement(wO,null,m.createElement("div",{style:{width:"50%",flexShrink:1}},t),m.createElement("div",{style:{width:"50%",flexShrink:1}},m.createElement(Zh,{value:n.value,setValue:i=>e({...n,value:i})})))}}function OLt(n,e,t){return n.type!=="is_greater_than_or_equal_to"?{builder:null,util:null}:{builder:m.createElement(wO,null,m.createElement("div",{style:{width:"80%",flexShrink:1}},t),m.createElement("div",{style:{width:"20%",flexShrink:1}},m.createElement(Zh,{value:n.value,setValue:i=>e({...n,value:i})})))}}function NLt(n,e,t){return n.type!=="is_less_than_or_equal_to"?{builder:null,util:null}:{builder:m.createElement(wO,null,m.createElement("div",{style:{width:"70%",flexShrink:1}},t),m.createElement("div",{style:{width:"30%",flexShrink:1}},m.createElement(Zh,{value:n.value,setValue:i=>e({...n,value:i})})))}}function RLt(n,e,t){return n.type!=="is_between"?{builder:null,util:null}:{builder:m.createElement(CH,null,t,m.createElement(wO,null,m.createElement("div",{style:{width:"50%",flexShrink:1}},m.createElement(Zh,{value:n.lowerBound,setValue:i=>e({...n,lowerBound:i})})),m.createElement("div",{style:{width:"50%",flexShrink:1}},m.createElement(Zh,{value:n.upperBound,setValue:i=>e({...n,upperBound:i})}))))}}function LLt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:m.createElement(CH,null,t,m.createElement(mu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}d();var Ag=Jn(ur());d();d();var wH=Jn(vue()),AH=Jn(ur());var AO=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,granularity:s,onFocus:o,onBlur:a,isActive:l})=>{let f=s==="year"?"YYYY":s==="month"?"YYYY-MM":s==="quarter"?"YYYY-[Q]Q":s==="week"?"[WK]YYYY-MM-DD":s==="day"?"YYYY-MM-DD":s==="hour"?"YYYY-MM-DD HH:00":s==="minute"?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss",[p,v]=(0,AH.useState)((0,wH.default)(n).format(f));return(0,AH.useEffect)(()=>{v((0,wH.default)(n).format(f))},[n,f]),m.createElement(Xp,null,r&&m.createElement(Cd,null,r),m.createElement(kLt,{type:"text",placeholder:t||f,value:p,onFocus:o,onBlur:a,isActive:l,onChange:b=>{let F=b.target.value;v(F);let D=s==="year"?/\d\d\d\d/:s==="month"?/\d\d-\d\d\d\d/:s==="quarter"?/\d\d\d\d-Q\d/:s==="week"?/WK\d\d-\d\d-\d\d\d\d/:s==="day"?/\d\d-\d\d-\d\d\d\d/:s==="hour"?/\d\d-\d\d-\d\d\d\d \d\d:00/:s==="minute"?/\d\d-\d\d-\d\d\d\d \d\d:\d\d/:/\d\d-\d\d-\d\d\d\d \d\d:\d\d:\d\d/;if(F.match(D)){let M=(0,wH.default)(F,f);M.isValid()&&e(M.toDate())}},autoFocus:i}))},kLt=_n.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  ${({isActive:n})=>`
    border: 1px solid ${n?Yr.dimension.fillStrong:"#efefef"};
    background-color: ${n?Yr.dimension.fillLight:"white"};
    color: ${n?Yr.dimension.fillStrong:"#505050"};
  `}

  &:focus {
    border-color: #4285f4;
    background-color: ${Yr.dimension.fillLight};
  }
`;d();d();var GC=Jn(ur()),uo=Jn(vue());function fMe(n){return["year","quarter","month","week","day","hour","minute","second"].indexOf(n)}function ILt(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n]}var TH=({value:n,setValue:e,maxLevel:t})=>{let[r,i]=(0,GC.useState)(n),s=JLt(r),[o,a]=(0,GC.useState)(t),l=Math.floor((0,uo.default)(r).year()/10)*10;(0,GC.useEffect)(()=>{(fMe(t)<fMe(o)||o==="quarter"&&t!=="quarter"||o==="week"&&t!=="week")&&a(t)},[t,o]),(0,GC.useEffect)(()=>{i(n)},[n]);let f=N=>{let B=(0,uo.default)(r).year(N).toDate();i(B),e(B),t!=="year"&&a(t==="quarter"?"quarter":"month")},p=N=>{let B=()=>f(l+N);return N===-1||N===10?m.createElement(WLt,{onClick:B,isSelected:!1},l+N):m.createElement(hMe,{onClick:B,isSelected:(0,uo.default)(r).year()===l+N},l+N)},v=N=>{let B=(0,uo.default)(r).month(N).toDate();i(B),e(B),t!=="month"&&a(t==="week"?"week":"day")},b=N=>{i(N),e(N),t!=="day"&&a(t)},F=N=>{i(N),e(N),t!=="week"&&a("day")},D=N=>{let B=(0,uo.default)(r).quarter(N+1).toDate();i(B),e(B)},M=N=>m.createElement(HLt,{onClick:()=>v(N),isSelected:(0,uo.default)(r).month()===N&&(0,uo.default)(r).year()===(0,uo.default)(n).year()},ILt(N)),q=N=>m.createElement(zLt,{onClick:()=>D(N),isSelected:(0,uo.default)(r).quarter()-1===N&&(0,uo.default)(r).year()===(0,uo.default)(n).year()},"Q",N+1);return m.createElement(MLt,null,m.createElement(PLt,null,m.createElement(dMe,null,m.createElement(wLe,{onClick:()=>{o==="day"||o==="week"?i((0,uo.default)(r).subtract(1,"month").toDate()):o==="month"||o==="quarter"?i((0,uo.default)(r).subtract(1,"year").toDate()):o==="year"?i((0,uo.default)(r).subtract(10,"years").toDate()):b((0,uo.default)(r).subtract(1,"days").toDate())}})),m.createElement(BLt,{onClick:()=>{o==="day"||o==="week"?a("month"):o==="month"||o==="quarter"?a("year"):(o==="hour"||o==="minute"||o==="second")&&a("day")}},(o==="day"||o==="week")&&(0,uo.default)(r).format("MMMM YYYY"),(o==="month"||o==="quarter")&&(0,uo.default)(r).format("YYYY"),o==="year"&&m.createElement(m.Fragment,null,l,"-",l+9),(o==="hour"||o==="minute"||o==="second")&&m.createElement(m.Fragment,null,(0,uo.default)(r).format("MMMM D, YYYY"))),m.createElement(dMe,null,m.createElement(ALe,{onClick:()=>{o==="day"||o==="week"?i((0,uo.default)(r).add(1,"month").toDate()):o==="month"||o==="quarter"?i((0,uo.default)(r).add(1,"year").toDate()):o==="year"?i((0,uo.default)(r).add(10,"years").toDate()):b((0,uo.default)(r).add(1,"days").toDate())}}))),o==="day"&&m.createElement(pMe,null,m.createElement(mMe,null,m.createElement(P0,null,"S"),m.createElement(P0,null,"M"),m.createElement(P0,null,"T"),m.createElement(P0,null,"W"),m.createElement(P0,null,"T"),m.createElement(P0,null,"F"),m.createElement(P0,null,"S")),s.map((N,B)=>m.createElement(QLt,{key:B},N.map(I=>m.createElement(KLt,{key:I.number,isCurrentMonth:I.isCurrentMonth,onClick:()=>{b(I.date)},isSelected:n.getTime()===I.date.valueOf()},I.number))))),o==="month"&&m.createElement(jLt,null,m.createElement(FH,null,M(0),M(1),M(2)),m.createElement(FH,null,M(3),M(4),M(5)),m.createElement(FH,null,M(6),M(7),M(8)),m.createElement(FH,null,M(9),M(10),M(11))),o==="year"&&m.createElement(VLt,null,m.createElement(DH,null,p(-1),p(0),p(1)),m.createElement(DH,null,p(2),p(3),p(4)),m.createElement(DH,null,p(5),p(6),p(7)),m.createElement(DH,null,p(8),p(9),p(10))),o==="quarter"&&m.createElement($Lt,null,q(0),q(1),q(2),q(3)),o==="week"&&m.createElement(pMe,null,m.createElement(mMe,null,m.createElement(P0,null,"S"),m.createElement(P0,null,"M"),m.createElement(P0,null,"T"),m.createElement(P0,null,"W"),m.createElement(P0,null,"T"),m.createElement(P0,null,"F"),m.createElement(P0,null,"S")),s.map((N,B)=>m.createElement(GLt,{key:B,onClick:()=>{F(N[0].date)},isSelected:n.getTime()===N[0].date.valueOf()},N.map(I=>m.createElement(YLt,{key:I.number,isCurrentMonth:I.isCurrentMonth},I.number))))),(o==="hour"||o==="minute"||o==="second")&&m.createElement(qLt,null,m.createElement(ULt,null,m.createElement(M0,null,m.createElement(Zh,{label:"Hours",value:parseInt((0,uo.default)(r).format("hh")),setValue:N=>{let B=(0,uo.default)(r).hour()>=12?"PM":"AM",I=parseInt((0,uo.default)(`${N} ${B}`,["hh A"]).format("H"));e((0,uo.default)(r).hour(I).toDate())}})),(t==="minute"||t==="second")&&m.createElement(M0,null,m.createElement(Zh,{label:"Minutes",value:(0,uo.default)(r).minutes(),setValue:N=>{e((0,uo.default)(r).minute(N).toDate())}})),t==="second"&&m.createElement(M0,null,m.createElement(Zh,{label:"Seconds",value:(0,uo.default)(r).seconds(),setValue:N=>{e((0,uo.default)(r).second(N).toDate())}})),m.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexDirection:"column"}},m.createElement(xu,{value:(0,uo.default)(r).hour()>=12?"PM":"AM",onChange:N=>{let B=parseInt((0,uo.default)(r).format("h")),I=parseInt((0,uo.default)(`${B} ${N}`,["hh A"]).format("H"));e((0,uo.default)(r).hour(I).toDate())},options:[{value:"AM",label:"AM"},{value:"PM",label:"PM"}]})))))},MLt=_n.div`
  user-select: none;
  font-size: 14px;
  font-family: Roboto;
`,PLt=_n.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 5px;
  margin-bottom: 5px;
`,dMe=_n.div`
  border-radius: 5px;
  padding-top: 2px;
  padding-left: 4px;
  padding-right: 4px;
  cursor: pointer;

  &:hover {
    background-color: #efefef;
  }
`,BLt=_n.div`
  border-radius: 5px;
  padding: 4px;
  padding-top: 5px;
  flex-grow: 1;
  text-align: center;
  cursor: pointer;
  text-transform: none;
  font-weight: normal;

  &:hover {
    background-color: #efefef;
  }
`,jLt=_n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,qLt=_n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 90px;
`,ULt=_n.div`
  display: flex;
  flex-direction: row;
  user-select: none;
  justify-content: space-around;
  gap: 10px;
`,$Lt=_n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,FH=_n.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,zLt=_n.div`
  width: calc(100% - 22px);
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${Yr.dimension.fillLight};
    border-color: ${Yr.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${Yr.dimension.fillLight};
      border-color: ${Yr.dimension.fillMedium};
    `:""}
`,HLt=_n.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${Yr.dimension.fillLight};
    border-color: ${Yr.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${Yr.dimension.fillLight};
      border-color: ${Yr.dimension.fillMedium};
    `:""}
`,VLt=_n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,DH=_n.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 2px;
`,hMe=_n.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  font-weight: normal;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;

  &:hover {
    background-color: ${Yr.dimension.fillLight};
    border-color: ${Yr.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${Yr.dimension.fillLight};
      border-color: ${Yr.dimension.fillMedium};
    `:""}
`,WLt=_n(hMe)`
  color: #909090;
`,pMe=_n.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
  user-select: none;
`,mMe=_n.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,QLt=_n.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,GLt=_n.div`
  display: flex;
  cursor: pointer;
  flex-direction: row;
  gap: 2px;
  border-radius: 50px;
  justify-content: space-between;
  border: 1px solid transparent;

  ${({isSelected:n})=>n?`
    background-color: ${Yr.dimension.fillLight};
    color:  ${Yr.dimension.fillStrong};
    border-color: ${Yr.dimension.fillMedium};
  `:`
    &:hover {
      background-color: ${Yr.dimension.fillLight};
    }
  `}
`,_ue=_n.div`
  width: 16.5px;
  height: 16.5px;
  min-width: 16.5px;
  max-width: 16.5px;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
`,P0=_n(_ue)`
  font-weight: bold;
  color: #505050;
`,YLt=_n(_ue)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  ${({isCurrentMonth:n})=>`
    color: ${n?"#505050":"#909090"};
  `}
`,KLt=_n(_ue)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  border: 1px solid transparent;
  ${({isCurrentMonth:n,isSelected:e})=>`
    color: ${n?"#505050":"#909090"};
    ${e?`
      background-color: ${Yr.dimension.fillLight};
      color:  ${Yr.dimension.fillStrong};
      border-color: ${Yr.dimension.fillMedium};
    `:`
      &:hover {
        background-color: ${Yr.dimension.fillLight};
      }
    `}
  `}
`;function JLt(n){let e=(0,uo.default)(n).date(1),t=e.day(),r=e.daysInMonth(),i=e.clone().subtract(1,"day").daysInMonth(),s=[];for(let o=0;o<6;o++){let a=[];for(let l=0;l<7;l++)if(o===0&&l<t){let f=t-l;a.push({number:i-f+1,date:e.clone().subtract(f,"days").toDate(),isCurrentMonth:!1})}else{let f=o*7+l-t;f<r?a.push({number:f+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!0}):a.push({number:f-r+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!1})}s.push(a)}return s}var xMe=({filter:n,setFilter:e,type:t})=>{let r=b=>{e(Nke(n,b))},i=m.createElement(xu,{value:n.type,onChange:r,options:[{value:"is_in_the_past",label:"Past"},{value:"is_last",label:"Last"},{value:"is_this",label:"This"},{value:"is_on",label:"On"},{value:"is_after",label:"After"},{value:"is_before",label:"Before"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),s=ekt(n,e,t,i),o=rkt(n,e,t,i),a=tkt(n,e,t,i),l=nkt(n,e,t,i),f=ikt(n,e,i),p=n.type==="is_null"||n.type==="is_not_null"?m.createElement("div",{style:{width:"100%"}},i):null,v=s.util||l.util||f.util||a.util||o.util;return m.createElement("div",null,m.createElement(XLt,null,s.builder,l.builder,f.builder,a.builder,o.builder,p),v&&m.createElement(ZLt,null,s.util,l.util,f.util,a.util,o.util))},XLt=_n.div`
  padding: 0 15px;
`,ZLt=_n.div`
  border-top: 1px solid #efefef;
  padding: 15px;
  margin-top: 10px;
  padding-bottom: 0;
`,YC=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,bue=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function ekt(n,e,t,r){if(n.type!=="is_in_the_past")return{builder:null,util:null};let i=[{value:"years",label:"Years"},{value:"quarters",label:"Quarters"},{value:"months",label:"Months"},{value:"weeks",label:"Weeks"},{value:"days",label:"Days"}];return t==="timestamp"&&i.push({value:"hours",label:"Hours"},{value:"minutes",label:"Minutes"},{value:"seconds",label:"Seconds"}),{builder:m.createElement(YC,null,m.createElement("div",{style:{width:"30%",flexShrink:1}},r),m.createElement("div",{style:{width:"30%",flexShrink:1}},m.createElement(mu,{value:n.amount.toString(),setValue:a=>e({...n,amount:parseFloat(a)})})),m.createElement("div",{style:{width:"40%",flexShrink:1}},m.createElement(xu,{value:n.unit,options:i,onChange:a=>e({...n,unit:a})}))),util:null}}function tkt(n,e,t,r){if(n.type!=="is_this"&&n.type!=="is_last")return{builder:null,util:null};let i=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];return t==="timestamp"&&i.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"}),{builder:m.createElement(YC,null,m.createElement("div",{style:{width:"50%",flexShrink:1}},r),m.createElement("div",{style:{width:"50%",flexShrink:1}},m.createElement(xu,{value:n.period,options:i,onChange:a=>e({...n,period:a})}))),util:null}}function nkt(n,e,t,r){let[i,s]=(0,Ag.useState)(!1),o=(0,Ag.useRef)(null),a=(0,Ag.useRef)(null);if(Gh([o,a],()=>s(!1)),n.type!=="is_on"&&n.type!=="is_after"&&n.type!=="is_before")return{builder:null,util:null};let l=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&l.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let f=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,p=m.createElement(bue,null,m.createElement(YC,null,m.createElement("div",{style:{width:"50%",flexShrink:1}},r),m.createElement("div",{style:{width:"50%",flexShrink:1}},m.createElement(xu,{value:n.granularity,options:l,onChange:b=>e({...n,granularity:b})}))),m.createElement(YC,null,m.createElement("div",{ref:o,style:{width:"100%",flexShrink:1}},m.createElement(AO,{value:n.date,setValue:b=>e({...n,date:b}),granularity:f,onFocus:()=>s(!0),isActive:i})))),v=i?m.createElement("div",{ref:a},m.createElement(TH,{value:n.date,setValue:b=>e({...n,date:b}),maxLevel:f})):null;return{builder:p,util:v}}function rkt(n,e,t,r){let[i,s]=(0,Ag.useState)(void 0),o=(0,Ag.useRef)(null),a=(0,Ag.useRef)(null),l=(0,Ag.useRef)(null);if(Gh([o,a,l],()=>{s(void 0)}),n.type!=="is_between")return{builder:null,util:null};let f=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&f.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let p=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,v=m.createElement(bue,null,m.createElement(YC,null,m.createElement("div",{style:{width:"50%",flexShrink:1}},r),m.createElement("div",{style:{width:"50%",flexShrink:1}},m.createElement(xu,{value:n.granularity,options:f,onChange:F=>e({...n,granularity:F})}))),m.createElement(YC,null,m.createElement("div",{ref:o},m.createElement(AO,{value:n.start,setValue:F=>e({...n,start:F}),granularity:p,onFocus:()=>s({key:"start",date:n.start,setValue:F=>e({...n,start:F})}),isActive:i?.key==="start"})),m.createElement("div",{ref:a},m.createElement(AO,{value:n.end,setValue:F=>e({...n,end:F}),granularity:p,onFocus:()=>s({key:"end",date:n.end,setValue:F=>e({...n,end:F})}),isActive:i?.key==="end"})))),b=i?m.createElement("div",{ref:l},m.createElement(TH,{key:i.key,value:i.date,setValue:i.setValue,maxLevel:p})):null;return{builder:v,util:b}}function ikt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:m.createElement(bue,null,t,m.createElement(mu,{value:n.partial,setValue:s=>e({type:"custom",partial:s}),placeholder:"!= null"})),util:null}}d();var gMe=({filter:n,setFilter:e})=>{let t=o=>{e(Rke(n,o))},r=m.createElement(xu,{value:n.type,onChange:t,options:[{value:"is_true",label:"True"},{value:"is_false",label:"False"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"is_true_or_null",label:"True or null"},{value:"is_false_or_null",label:"False or null"},{value:"custom",label:"Custom"}]}),i=akt(n,e,r),s=n.type!=="custom"?m.createElement("div",{style:{width:"100%"}},r):null;return m.createElement(skt,null,i.builder,s)},skt=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,okt=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function akt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:m.createElement(okt,null,t,m.createElement(mu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}var D6=({model:n,modelPath:e,source:t,field:r,addFilter:i,needsRename:s,onComplete:o,fieldPath:a,initial:l})=>{let f=_d(r),p=Ch(r),[v,b]=(0,F6.useState)((f==="string"&&l)??{type:"is_equal_to",values:[]}),[F,D]=(0,F6.useState)((f==="number"&&l)??{type:"is_equal_to",values:[]}),[M,q]=(0,F6.useState)(((f==="date"||f==="timestamp")&&l)??{type:"is_on",date:new Date,granularity:"day"}),[N,B]=(0,F6.useState)((f==="boolean"&&l)??{type:"is_true"}),[I,z]=(0,F6.useState)(f==="string"?u6(a,v):f==="number"?Mae(a,F):f==="date"||f==="timestamp"?Bae(a,M):f==="boolean"?Pae(a,N):""),[ie,L]=(0,F6.useState)("");return m.createElement("div",null,m.createElement("form",null,m.createElement(yl,{style:{padding:"15px",paddingBottom:0}},"Filter",m.createElement(Iz,null,m.createElement(xC,{color:"dimension"},m.createElement(e0,{type:f,kind:p})),m.createElement(Pz,null,r.name))),s&&m.createElement(ukt,null,m.createElement(M0,null,m.createElement(mu,{value:ie,setValue:L,placeholder:"field name",label:"Field Name",autoFocus:!0}),m.createElement(Cd,null,"Filter"))),f==="string"&&m.createElement(lMe,{modelPath:e,model:n,source:t,fieldPath:a,filter:v,setFilter:Y=>{b(Y),z(u6(a,Y))}}),f==="boolean"&&m.createElement(gMe,{filter:N,setFilter:Y=>{B(Y),z(Pae(a,Y))}}),f==="number"&&m.createElement(cMe,{filter:F,setFilter:Y=>{D(Y),z(Mae(a,Y))}}),(f==="date"||f==="timestamp")&&m.createElement(xMe,{type:f,filter:M,setFilter:Y=>{q(Y),z(Bae(a,Y))}}),m.createElement(I0,{style:{padding:"0 15px 15px 15px"}},m.createElement(aa,{type:"button",color:"secondary",onClick:o},"Cancel"),m.createElement(aa,{onClick:Y=>{f2(t,I).then(fe=>{i(fe,ie||void 0),o()}).catch(console.log),Y.stopPropagation(),Y.preventDefault()}},"Save"))))},ukt=_n.div`
  margin: 15px;
  margin-top: 0;
  margin-bottom: 10px;
`;d();d();var OH=Jn(ur());var TO=({source:n,addDimension:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,OH.useState)(r||""),[a,l]=(0,OH.useState)(i||""),[f,p]=(0,OH.useState)(),v=r===void 0;return m.createElement(vl,null,m.createElement(yl,null,v?"New":"Edit"," Dimension"),m.createElement("form",null,m.createElement(M0,null,v&&m.createElement(mu,{value:a,setValue:l,placeholder:"field name",label:"Field Name",autoFocus:!0}),m.createElement(mu,{value:s,setValue:o,placeholder:"some_field * 10",label:v?"Definition":void 0})),m.createElement(Bz,{error:f}),m.createElement(I0,null,m.createElement(aa,{type:"button",color:"secondary",onClick:t},"Cancel"),m.createElement(aa,{onClick:b=>{b.stopPropagation(),b.preventDefault(),UIe(n,a,s).then(F=>{e(F),t()}).catch(p)}},"Save"))))};d();d();d();d();var FO=Jn(ur()),yMe=n=>FO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},FO.createElement("title",null,"viz_table"),FO.createElement("g",{id:"viz_table",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},FO.createElement("path",{d:"M81.0526316,23 L28.9473684,23 C25.1263158,23 22,26.1662162 22,30.036036 L22,79.2882883 C22,83.1581081 25.1263158,86.3243243 28.9473684,86.3243243 L81.0526316,86.3243243 C84.8736842,86.3243243 88,83.1581081 88,79.2882883 L88,30.036036 C88,26.1662162 84.8736842,23 81.0526316,23 Z M80.8648649,30.1351351 L80.8648649,40.8378378 L28.2432432,40.8378378 L28.2432432,30.1351351 L80.8648649,30.1351351 Z M63.9189189,79.1891892 L46.0810811,79.1891892 L46.0810811,47.972973 L63.9189189,47.972973 L63.9189189,79.1891892 Z M28.2432432,47.972973 L38.9459459,47.972973 L38.9459459,79.1891892 L28.2432432,79.1891892 L28.2432432,47.972973 Z M71.0540541,79.1891892 L71.0540541,47.972973 L81.7567568,47.972973 L81.7567568,79.1891892 L71.0540541,79.1891892 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));d();var O6=Jn(ur()),vMe=n=>O6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},O6.createElement("title",null,"viz_dashboard"),O6.createElement("g",{id:"viz_dashboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},O6.createElement("g",{id:"dashboard_black_24dp",transform:"translate(13.000000, 13.000000)"},O6.createElement("path",{d:"M5,0 L80,0 C82.7614237,-5.07265313e-16 85,2.23857625 85,5 L85,80 C85,82.7614237 82.7614237,85 80,85 L5,85 C2.23857625,85 3.38176876e-16,82.7614237 0,80 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),O6.createElement("path",{d:"M67,18 L67,25 L53,25 L53,18 L67,18 M32,18 L32,39 L18,39 L18,18 L32,18 M67,46 L67,67 L53,67 L53,46 L67,46 M32,60 L32,67 L18,67 L18,60 L32,60 M69,11 L51,11 C48.2385763,11 46,13.2385763 46,16 L46,27 C46,29.7614237 48.2385763,32 51,32 L69,32 C71.7614237,32 74,29.7614237 74,27 L74,16 C74,13.2385763 71.7614237,11 69,11 Z M34,11 L16,11 C13.2385763,11 11,13.2385763 11,16 L11,41 C11,43.7614237 13.2385763,46 16,46 L34,46 C36.7614237,46 39,43.7614237 39,41 L39,16 C39,13.2385763 36.7614237,11 34,11 Z M69,39 L51,39 C48.2385763,39 46,41.2385763 46,44 L46,69 C46,71.7614237 48.2385763,74 51,74 L69,74 C71.7614237,74 74,71.7614237 74,69 L74,44 C74,41.2385763 71.7614237,39 69,39 Z M34,53 L16,53 C13.2385763,53 11,55.2385763 11,58 L11,69 C11,71.7614237 13.2385763,74 16,74 L34,74 C36.7614237,74 39,71.7614237 39,69 L39,58 C39,55.2385763 36.7614237,53 34,53 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));d();var Tg=Jn(ur()),_Me=n=>Tg.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Tg.createElement("title",null,"viz_text"),Tg.createElement("g",{id:"viz_text",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Tg.createElement("rect",{id:"Rectangle-Copy",stroke:"#9aa0a6",strokeWidth:6,x:15.5,y:35,width:79,height:40,rx:5}),Tg.createElement("g",{id:"abc",transform:"translate(33.090000, 44.134000)",fill:"#9aa0a6",fillRule:"nonzero"},Tg.createElement("path",{d:"M4.81,19.032 C3.406,19.032 2.25333333,18.6203333 1.352,17.797 C0.450666667,16.9736667 0,15.8946667 0,14.56 C0,13.676 0.234,12.896 0.702,12.22 C1.17,11.544 1.81133333,11.024 2.626,10.66 C3.44066667,10.296 4.342,10.114 5.33,10.114 C6.69933333,10.114 7.86933333,10.3133333 8.84,10.712 L8.84,10.14 C8.84,9.412 8.567,8.82266667 8.021,8.372 C7.475,7.92133333 6.74266667,7.696 5.824,7.696 C5.2,7.696 4.59766667,7.839 4.017,8.125 C3.43633333,8.411 2.95533333,8.788 2.574,9.256 L0.39,7.54 C1.03133333,6.708 1.83733333,6.06666667 2.808,5.616 C3.77866667,5.16533333 4.836,4.94 5.98,4.94 C8.008,4.94 9.55066667,5.408 10.608,6.344 C11.6653333,7.28 12.194,8.64933333 12.194,10.452 L12.194,18.616 L8.84,18.616 L8.84,17.264 L8.632,17.264 C8.23333333,17.784 7.709,18.2086667 7.059,18.538 C6.409,18.8673333 5.65933333,19.032 4.81,19.032 Z M5.616,16.38 C6.604,16.38 7.38833333,16.0636667 7.969,15.431 C8.54966667,14.7983333 8.84,14.0573333 8.84,13.208 C7.956,12.792 7.02866667,12.584 6.058,12.584 C4.29,12.584 3.406,13.2426667 3.406,14.56 C3.406,15.0973333 3.59666667,15.535 3.978,15.873 C4.35933333,16.211 4.90533333,16.38 5.616,16.38 Z",id:"Shape"}),Tg.createElement("path",{d:"M22.724,19.032 C21.8226667,19.032 21.021,18.8413333 20.319,18.46 C19.617,18.0786667 19.0926667,17.602 18.746,17.03 L18.538,17.03 L18.538,18.616 L15.34,18.616 L15.34,0 L18.746,0 L18.746,5.096 L18.538,6.968 L18.746,6.968 C19.11,6.396 19.6386667,5.915 20.332,5.525 C21.0253333,5.135 21.8226667,4.94 22.724,4.94 C23.92,4.94 25.0076667,5.239 25.987,5.837 C26.9663333,6.435 27.7333333,7.27133333 28.288,8.346 C28.8426667,9.42066667 29.12,10.634 29.12,11.986 C29.12,13.3553333 28.8426667,14.573 28.288,15.639 C27.7333333,16.705 26.9663333,17.537 25.987,18.135 C25.0076667,18.733 23.92,19.032 22.724,19.032 Z M22.126,15.886 C22.7673333,15.886 23.3653333,15.7213333 23.92,15.392 C24.4746667,15.0626667 24.9166667,14.6033333 25.246,14.014 C25.5753333,13.4246667 25.74,12.7486667 25.74,11.986 C25.74,11.2233333 25.5753333,10.5473333 25.246,9.958 C24.9166667,9.36866667 24.4746667,8.91366667 23.92,8.593 C23.3653333,8.27233333 22.7673333,8.112 22.126,8.112 C21.502,8.112 20.9126667,8.27233333 20.358,8.593 C19.8033333,8.91366667 19.3613333,9.36866667 19.032,9.958 C18.7026667,10.5473333 18.538,11.2233333 18.538,11.986 C18.538,12.7486667 18.7026667,13.4246667 19.032,14.014 C19.3613333,14.6033333 19.8033333,15.0626667 20.358,15.392 C20.9126667,15.7213333 21.502,15.886 22.126,15.886 Z",id:"Shape"}),Tg.createElement("path",{d:"M37.986,19.032 C36.6513333,19.032 35.4553333,18.733 34.398,18.135 C33.3406667,17.537 32.513,16.7006667 31.915,15.626 C31.317,14.5513333 31.018,13.338 31.018,11.986 C31.018,10.634 31.317,9.425 31.915,8.359 C32.513,7.293 33.3406667,6.45666667 34.398,5.85 C35.4553333,5.24333333 36.6513333,4.94 37.986,4.94 C39.4593333,4.94 40.7246667,5.25633333 41.782,5.889 C42.8393333,6.52166667 43.602,7.41866667 44.07,8.58 L40.95,9.88 C40.3953333,8.70133333 39.4073333,8.112 37.986,8.112 C36.946,8.112 36.0923333,8.46733333 35.425,9.178 C34.7576667,9.88866667 34.424,10.8246667 34.424,11.986 C34.424,13.1646667 34.7576667,14.1093333 35.425,14.82 C36.0923333,15.5306667 36.946,15.886 37.986,15.886 C39.4246667,15.886 40.4646667,15.262 41.106,14.014 L44.2,15.366 C43.628,16.5273333 42.8133333,17.4286667 41.756,18.07 C40.6986667,18.7113333 39.442,19.032 37.986,19.032 Z",id:"Path"}))));d();var d2=Jn(ur()),bMe=n=>d2.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},d2.createElement("title",null,"viz_currency"),d2.createElement("g",{id:"viz_currency",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},d2.createElement("g",{id:"Group",transform:"translate(19.000000, 19.000000)"},d2.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:36,cy:36,r:32.5}),d2.createElement("path",{d:"M35.7525,20.06 C38.5425,20.06 40.7775,20.7425 42.4575,22.1075 C44.1375,23.4725 45.2775,25.01 45.8775,26.72 L41.4225,28.61 C41.1225,27.53 40.4925,26.6 39.5325,25.82 C38.5725,25.04 37.3275,24.65 35.7975,24.65 C34.3275,24.65 33.0825,25.04 32.0625,25.82 C31.0425,26.6 30.5325,27.59 30.5325,28.79 C30.5325,29.9 30.99,30.8225 31.905,31.5575 C32.759,32.2435 34.0507333,32.8968333 35.7802,33.5175 L38.2275,34.37 C40.9875,35.33 43.1175,36.575 44.6175,38.105 C46.1175,39.635 46.8675,41.675 46.8675,44.225 C46.8675,46.325 46.335,48.0875 45.27,49.5125 C44.205,50.9375 42.84,51.995 41.175,52.685 C39.51,53.375 37.8075,53.72 36.0675,53.72 C33.3975,53.72 30.9975,52.94 28.8675,51.38 C26.7375,49.82 25.2525,47.63 24.4125,44.81 L29.0925,42.92 C29.5725,44.72 30.4275,46.19 31.6575,47.33 C32.8875,48.47 34.3725,49.04 36.1125,49.04 C37.7325,49.04 39.105,48.62 40.23,47.78 C41.355,46.94 41.9175,45.785 41.9175,44.315 C41.9175,42.965 41.4225,41.8475 40.4325,40.9625 C39.4975,40.1266667 37.9202778,39.3109028 35.7008333,38.5152083 L33.2775,37.655 C31.0875,36.875 29.265,35.7875 27.81,34.3925 C26.355,32.9975 25.6275,31.145 25.6275,28.835 C25.6275,27.245 26.055,25.775 26.91,24.425 C27.765,23.075 28.965,22.01 30.51,21.23 C32.055,20.45 33.8025,20.06 35.7525,20.06 Z",id:"Path",fill:"#9aa0a6",fillRule:"nonzero"}),d2.createElement("line",{x1:36,y1:14,x2:36,y2:21,id:"Line-Copy-4",stroke:"#9aa0a6",strokeWidth:5}),d2.createElement("line",{x1:36,y1:52,x2:36,y2:59,id:"Line-Copy-5",stroke:"#9aa0a6",strokeWidth:5})),d2.createElement("g",{id:"S",transform:"translate(43.412500, 37.060000)"})));d();var DO=Jn(ur()),EMe=n=>DO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},DO.createElement("title",null,"viz_image"),DO.createElement("g",{id:"viz_image",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},DO.createElement("path",{d:"M81.4444444,28.5555556 L81.4444444,81.4444444 L28.5555556,81.4444444 L28.5555556,28.5555556 L81.4444444,28.5555556 M81.4444444,21 L28.5555556,21 C24.4,21 21,24.4 21,28.5555556 L21,81.4444444 C21,85.6 24.4,89 28.5555556,89 L81.4444444,89 C85.6,89 89,85.6 89,81.4444444 L89,28.5555556 C89,24.4 85.6,21 81.4444444,21 Z M63.0844444,54.4711111 L51.7511111,69.0911111 L43.6666667,59.3066667 L32.3333333,73.8888889 L77.6666667,73.8888889 L63.0844444,54.4711111 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));d();var N6=Jn(ur()),SMe=n=>N6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},N6.createElement("title",null,"viz_time"),N6.createElement("g",{id:"viz_time",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},N6.createElement("g",{id:"Group-Copy-19",transform:"translate(51.307692, 36.538462)",fill:"#9aa0a6",fillRule:"nonzero"},N6.createElement("polygon",{id:"Path",points:"5.30769231 0 0 0 0 21.7906683 18.5769231 33.2307692 21.2307692 28.7636822 5.30769231 19.0668348"})),N6.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:55,cy:55,r:32.5})));d();var R6=Jn(ur()),CMe=n=>R6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},R6.createElement("title",null,"viz_json"),R6.createElement("g",{id:"viz_json",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},R6.createElement("g",{id:"{;}",transform:"translate(24.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},R6.createElement("path",{d:"M17.0296296,66 C13.2765432,66 10.3209877,64.871179 8.16296296,62.6135371 C6.00493827,60.3558952 4.92592593,57.3296943 4.92592593,53.5349345 L4.92592593,41.6462882 C4.92592593,39.9170306 4.45679012,38.5840611 3.51851852,37.6473799 C2.58024691,36.7106987 1.40740741,36.2423581 0,36.2423581 L0,29.7576419 C1.40740741,29.7576419 2.58024691,29.2893013 3.51851852,28.3526201 C4.45679012,27.4159389 4.92592593,26.0829694 4.92592593,24.3537118 L4.92592593,12.4650655 C4.92592593,8.67030568 6.00493827,5.6441048 8.16296296,3.38646288 C10.3209877,1.12882096 13.2765432,0 17.0296296,0 L19,0 L19,6.41266376 L17.7333333,6.41266376 C16.091358,6.41266376 14.7425926,6.98908297 13.687037,8.1419214 C12.6314815,9.29475983 12.1037037,10.8318777 12.1037037,12.7532751 L12.1037037,24.3537118 C12.1037037,26.7074236 11.7166667,28.5687773 10.9425926,29.9377729 C10.1685185,31.3067686 8.93703704,32.2554585 7.24814815,32.7838428 L7.24814815,33.2161572 C8.93703704,33.7445415 10.1685185,34.6812227 10.9425926,36.0262009 C11.7166667,37.371179 12.1037037,39.2445415 12.1037037,41.6462882 L12.1037037,53.2467249 C12.1037037,55.1681223 12.6314815,56.7052402 13.687037,57.8580786 C14.7425926,59.010917 16.091358,59.5873362 17.7333333,59.5873362 L19,59.5873362 L19,66 L17.0296296,66 Z",id:"Path"}),R6.createElement("path",{d:"M44,59.5873362 L45.4074074,59.5873362 C47.0493827,59.5873362 48.3864198,59.010917 49.4185185,57.8580786 C50.4506173,56.7052402 50.9666667,55.1681223 50.9666667,53.2467249 L50.9666667,41.6462882 C50.9666667,39.2445415 51.3537037,37.371179 52.1277778,36.0262009 C52.9018519,34.6812227 54.1333333,33.7445415 55.8222222,33.2161572 L55.8222222,32.7838428 C54.1333333,32.2554585 52.9018519,31.3067686 52.1277778,29.9377729 C51.3537037,28.5687773 50.9666667,26.7074236 50.9666667,24.3537118 L50.9666667,12.7532751 C50.9666667,10.8318777 50.4506173,9.29475983 49.4185185,8.1419214 C48.3864198,6.98908297 47.0493827,6.41266376 45.4074074,6.41266376 L44,6.41266376 L44,0 L46.0407407,0 C49.7938272,0 52.7493827,1.12882096 54.9074074,3.38646288 C57.0654321,5.6441048 58.1444444,8.67030568 58.1444444,12.4650655 L58.1444444,24.3537118 C58.1444444,26.0829694 58.6018519,27.4159389 59.5166667,28.3526201 C60.4314815,29.2893013 61.5925926,29.7576419 63,29.7576419 L63,36.2423581 C61.5925926,36.2423581 60.4314815,36.7106987 59.5166667,37.6473799 C58.6018519,38.5840611 58.1444444,39.9170306 58.1444444,41.6462882 L58.1444444,53.5349345 C58.1444444,57.3296943 57.0654321,60.3558952 54.9074074,62.6135371 C52.7493827,64.871179 49.7938272,66 46.0407407,66 L44,66 L44,59.5873362 Z",id:"Path"}))));d();var E4=Jn(ur()),wMe=n=>E4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},E4.createElement("title",null,"viz_list"),E4.createElement("g",{id:"viz_list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},E4.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:24.1587742,y:27,width:61.9377906,height:8,rx:4}),E4.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:24.1587742,y:43,width:61.9377906,height:8,rx:4}),E4.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:24.1587742,y:59,width:62,height:8,rx:4}),E4.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:24.1587742,y:75.1904762,width:62,height:7.61904762,rx:3.80952381})));d();var ep=Jn(ur()),AMe=n=>ep.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ep.createElement("title",null,"viz_list_detail"),ep.createElement("g",{id:"viz_list_detail",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ep.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:22.1587742,y:27,width:15.983946,height:8,rx:4}),ep.createElement("rect",{id:"Rectangle-Copy-59",fill:"#9aa0a6",x:44.1587742,y:27,width:43.9558514,height:8,rx:4}),ep.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:22.1587742,y:43,width:15.983946,height:8,rx:4}),ep.createElement("rect",{id:"Rectangle-Copy-62",fill:"#9aa0a6",x:44.1587742,y:43,width:43.9558514,height:8,rx:4}),ep.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:22.1587742,y:59,width:16,height:8,rx:4}),ep.createElement("rect",{id:"Rectangle-Copy-66",fill:"#9aa0a6",x:44.1587742,y:59,width:44,height:8,rx:4}),ep.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:22.1587742,y:75.1904762,width:16,height:7.61904762,rx:3.80952381}),ep.createElement("rect",{id:"Rectangle-Copy-67",fill:"#9aa0a6",x:44.1587742,y:75.1904762,width:44,height:7.61904762,rx:3.80952381})));d();var h2=Jn(ur()),TMe=n=>h2.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},h2.createElement("title",null,"viz_bar_chart"),h2.createElement("g",{id:"viz_bar_chart",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},h2.createElement("g",{id:"Group-3",transform:"translate(20.000000, 24.000000)",fill:"#9aa0a6"},h2.createElement("g",{id:"Group-2",transform:"translate(34.500000, 31.000000) rotate(-270.000000) translate(-34.500000, -31.000000) translate(3.500000, -3.500000)"},h2.createElement("path",{d:"M-26.056314,30.056314 L34.943686,30.056314 C37.152825,30.056314 38.943686,31.847175 38.943686,34.056314 L38.943686,34.943686 C38.943686,37.152825 37.152825,38.943686 34.943686,38.943686 L-26.056314,38.943686 C-28.265453,38.943686 -30.056314,37.152825 -30.056314,34.943686 L-30.056314,34.056314 C-30.056314,31.847175 -28.265453,30.056314 -26.056314,30.056314 Z",id:"Rectangle-Copy-59",transform:"translate(4.443686, 34.500000) rotate(-90.000000) translate(-4.443686, -34.500000) "}),h2.createElement("path",{d:"M-0.491247385,37.8466366 L44.9281075,37.8466366 C47.1372465,37.8466366 48.9281075,39.6374976 48.9281075,41.8466366 L48.9281075,42.7340086 C48.9281075,44.9431476 47.1372465,46.7340086 44.9281075,46.7340086 L-0.491247385,46.7340086 C-2.70038638,46.7340086 -4.49124739,44.9431476 -4.49124739,42.7340086 L-4.49124739,41.8466366 C-4.49124739,39.6374976 -2.70038638,37.8466366 -0.491247385,37.8466366 Z",id:"Rectangle-Copy-62",transform:"translate(22.218430, 42.290323) rotate(-90.000000) translate(-22.218430, -42.290323) "}),h2.createElement("path",{d:"M23.3837854,43.9469253 L56.6025627,43.9469253 C58.8117017,43.9469253 60.6025627,45.7377863 60.6025627,47.9469253 L60.6025627,48.8342973 C60.6025627,51.0434363 58.8117017,52.8342973 56.6025627,52.8342973 L23.3837854,52.8342973 C21.1746464,52.8342973 19.3837854,51.0434363 19.3837854,48.8342973 L19.3837854,47.9469253 C19.3837854,45.7377863 21.1746464,43.9469253 23.3837854,43.9469253 Z",id:"Rectangle-Copy-66",transform:"translate(39.993174, 48.390611) rotate(-90.000000) translate(-39.993174, -48.390611) "}),h2.createElement("path",{d:"M46.7286345,49.7286345 L68.8072017,49.7286345 C71.0163407,49.7286345 72.8072017,51.5194955 72.8072017,53.7286345 L72.8072017,54.1927983 C72.8072017,56.4019373 71.0163407,58.1927983 68.8072017,58.1927983 L46.7286345,58.1927983 C44.5194955,58.1927983 42.7286345,56.4019373 42.7286345,54.1927983 L42.7286345,53.7286345 C42.7286345,51.5194955 44.5194955,49.7286345 46.7286345,49.7286345 Z",id:"Rectangle-Copy-67",transform:"translate(57.767918, 53.960716) rotate(-90.000000) translate(-57.767918, -53.960716) "})))));d();var OO=Jn(ur()),FMe=n=>OO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},OO.createElement("title",null,"viz_line"),OO.createElement("g",{id:"viz_line",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},OO.createElement("path",{d:"M88.1848681,33.1583406 C89.7542734,31.6035859 92.2869054,31.6154626 93.8416601,33.1848679 C95.3445896,34.7019597 95.3835892,37.1191334 93.9668812,38.6829968 L93.8151328,38.84166 L66.2578818,66.14166 C64.8378618,67.5484238 62.6084032,67.6843587 61.0319068,66.4919462 L60.8595019,66.3539866 L45.2420004,53.1430003 L21.844917,76.8176775 C20.3437446,78.336508 17.927116,78.4009733 16.3484126,77.0008213 L16.1881594,76.850753 C14.6693289,75.3495806 14.6048635,72.932952 16.0050156,71.3542486 L16.1550839,71.1939954 L42.1550839,44.8881592 C43.5729843,43.4535802 45.8262314,43.3057778 47.4155704,44.5116324 L47.583248,44.646014 L63.2290004,57.8810003 L88.1848681,33.1583406 Z",id:"Path-10",fill:"#9aa0a6",fillRule:"nonzero"})));d();var L6=Jn(ur()),DMe=n=>L6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},L6.createElement("title",null,"viz_map_points"),L6.createElement("g",{id:"viz_map_points",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},L6.createElement("g",{id:"Group-Copy-36",transform:"translate(30.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},L6.createElement("path",{d:"M25,0 C11.1785714,0 0,11.268 0,25.2 C0,44.1 25,72 25,72 C25,72 50,44.1 50,25.2 C50,11.268 38.8214286,0 25,0 Z M7.14285714,25.2 C7.14285714,15.264 15.1428571,7.2 25,7.2 C34.8571429,7.2 42.8571429,15.264 42.8571429,25.2 C42.8571429,35.568 32.5714286,51.084 25,60.768 C17.5714286,51.156 7.14285714,35.46 7.14285714,25.2 Z",id:"Shape"}),L6.createElement("path",{d:"M25,34 C29.97052,34 34,29.97052 34,25 C34,20.029444 29.97052,16 25,16 C20.02948,16 16,20.029444 16,25 C16,29.97052 20.02948,34 25,34 Z",id:"Path"}))));d();var s1=Jn(ur()),OMe=n=>s1.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},s1.createElement("title",null,"viz_map_segment"),s1.createElement("g",{id:"viz_map_segment",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},s1.createElement("g",{id:"Group-Copy-36",transform:"translate(11.000000, 27.000000)",fillRule:"nonzero"},s1.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),s1.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),s1.createElement("g",{id:"Group-Copy-37",transform:"translate(62.000000, 27.000000)",fillRule:"nonzero"},s1.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),s1.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),s1.createElement("line",{x1:28.5,y1:81.5,x2:79.5,y2:81.5,id:"Line-3",stroke:"#9aa0a6",strokeWidth:5,strokeLinecap:"round",strokeDasharray:"5,10"})));d();var p2=Jn(ur()),NMe=n=>p2.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},p2.createElement("title",null,"viz_map_shape"),p2.createElement("g",{id:"viz_map_shape",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},p2.createElement("g",{id:"noun-world-4667432-2",transform:"translate(19.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},p2.createElement("g",{id:"noun-world-4667432"},p2.createElement("path",{d:"M36,5 C18.8798665,5 5,18.8793071 5,36 C5,53.1206929 18.8793071,67 36,67 C53.1206929,67 67,53.1206929 67,36 C67,18.8793071 53.1206929,5 36,5 Z M0,36 C0,16.1177143 16.1177143,0 36,0 C55.8822857,0 72,16.1177143 72,36 C72,55.8822857 55.8822857,72 36,72 C16.1177143,72 0,55.8822857 0,36 Z",id:"Shape"}),p2.createElement("path",{d:"M37.2848685,1.50131372 C37.8999474,1.48477633 38.4631152,1.71654937 38.8767996,2.10376364 C39.2928262,2.49317029 39.5578301,3.03960333 39.57434,3.65023916 L39.57434,3.65023916 L40.0344656,20.7428771 C40.0487121,21.2893502 39.8586306,21.8212062 39.4992535,22.2375953 L39.4992535,22.2375953 L32.1172188,30.7832284 C31.7924232,31.1592888 31.3490374,31.4169308 30.8586892,31.5134813 L30.8586892,31.5134813 L24.6865498,32.7324332 L28.0628423,42.7359018 C28.4533111,43.8925701 28.4513039,45.0197005 28.1633304,46.0321806 C27.8503264,47.132665 27.1975708,48.0987342 26.3338575,48.8190181 C25.4716664,49.5380326 24.3999821,50.0114808 23.2508211,50.1317463 C22.1949716,50.2422462 21.0728206,50.0558305 19.9867908,49.4837618 L19.9867908,49.4837618 L1.68382097,39.8433672 C1.13885361,39.5565384 0.764084629,39.078393 0.597525292,38.5380041 C0.430427538,37.9958684 0.472619244,37.3906551 0.763987861,36.8508084 C1.05393693,36.3139129 1.53648052,35.9433066 2.08313472,35.7791188 C2.62798313,35.6154734 3.2361363,35.657153 3.77860632,35.9426925 L3.77860632,35.9426925 L22.0816454,45.5831236 C22.3171919,45.7071442 22.5603781,45.7498863 22.7897862,45.7258621 C23.0398735,45.6996723 23.2725259,45.5956093 23.4599703,45.4392842 C23.6458558,45.2842591 23.7880139,45.0772117 23.8554593,44.8399997 C23.9169381,44.6237728 23.9147045,44.383346 23.8314444,44.1367864 L23.8314444,44.1367864 L19.6527943,31.7569079 C19.4493668,31.1542234 19.517516,30.4944328 19.8403231,29.9450638 C20.1614725,29.3985413 20.7046793,29.014044 21.3323155,28.8900909 L21.3323155,28.8900909 L29.2286003,27.3302661 L35.5513871,20.0108413 L35.1144494,3.7686887 C35.0979491,3.15801867 35.3331708,2.59836837 35.7276711,2.18746751 C36.1199426,1.77888802 36.6699139,1.51752889 37.2848685,1.50131372 Z",id:"Path",stroke:"#9aa0a6"}),p2.createElement("path",{d:"M42.2538467,56.3169014 C42.834665,56.3169014 43.3919278,56.5473051 43.8025756,56.957964 L43.8025756,56.957964 L50.5634819,63.7190531 C50.990585,64.1465338 51.2042254,64.7070592 51.2042254,65.267637 C51.2042254,65.8282064 50.9905908,66.3887389 50.5631792,66.8165562 C50.1353619,67.244019 49.5748515,67.4577465 49.0143336,67.4577465 C48.453827,67.4577465 47.893307,67.2440267 47.4652769,66.8163886 L47.4652769,66.8163886 L41.3467145,60.697095 L29.639469,60.697095 L23.5207389,66.8165562 C23.0929158,67.2440249 22.5323953,67.4577465 21.9719658,67.4577465 C21.4114352,67.4577465 20.8509999,67.2439558 20.4235838,66.8165562 C19.995665,66.388992 19.7816901,65.8283383 19.7816901,65.2676696 C19.7816901,64.7070094 19.9956592,64.1463486 20.4234173,63.7189168 L20.4234173,63.7189168 L27.1839229,56.9576493 C27.5952192,56.5470739 28.1516855,56.3169014 28.7323368,56.3169014 L28.7323368,56.3169014 Z",id:"Path",stroke:"#9aa0a6"}),p2.createElement("path",{d:"M63.9378166,21.2379048 C64.4225216,20.8714311 65.0086399,20.7379975 65.5642349,20.8181856 C66.1191803,20.8982799 66.6440521,21.191578 67.006552,21.6798365 C67.3682973,22.1662502 67.5006358,22.75458 67.4216695,23.3126471 C67.3426278,23.8712474 67.0519787,24.3991735 66.5692317,24.7645164 L66.5692317,24.7645164 L53.5947929,34.5837331 L50.8571888,42.8725775 L63.4236834,55.5534973 C63.8498746,55.9835692 64.0634024,56.5474048 64.0634024,57.111468 C64.0634024,57.6755228 63.8498803,58.2393656 63.4235328,58.6696236 C62.9952729,59.1014133 62.434079,59.3169014 61.8731786,59.3169014 C61.3121772,59.3169014 60.7510686,59.1013441 60.3230649,58.6694716 L60.3230649,58.6694716 L46.8022881,45.0255804 C46.5094233,44.730049 46.31189,44.3642735 46.2203738,43.9732706 C46.1289585,43.5826987 46.1433461,43.1669732 46.2741073,42.7711741 L46.2741073,42.7711741 L49.6544877,32.5388634 C49.7943202,32.1133276 50.0607882,31.7409505 50.416846,31.4711161 L50.416846,31.4711161 Z",id:"Path",stroke:"#9aa0a6"})))));d();var Fg=Jn(ur()),RMe=n=>Fg.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Fg.createElement("title",null,"viz_number"),Fg.createElement("g",{id:"viz_number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Fg.createElement("g",{id:"Group",transform:"translate(20.000000, 20.000000)",fill:"#9aa0a6"},Fg.createElement("path",{d:"M-10.5,30.5 L51.5,30.5 C53.709139,30.5 55.5,32.290861 55.5,34.5 L55.5,35.5 C55.5,37.709139 53.709139,39.5 51.5,39.5 L-10.5,39.5 C-12.709139,39.5 -14.5,37.709139 -14.5,35.5 L-14.5,34.5 C-14.5,32.290861 -12.709139,30.5 -10.5,30.5 Z",id:"Rectangle-Copy-60",transform:"translate(20.500000, 35.000000) rotate(-90.000000) translate(-20.500000, -35.000000) "}),Fg.createElement("path",{d:"M19.5,30.5 L81.5,30.5 C83.709139,30.5 85.5,32.290861 85.5,34.5 L85.5,35.5 C85.5,37.709139 83.709139,39.5 81.5,39.5 L19.5,39.5 C17.290861,39.5 15.5,37.709139 15.5,35.5 L15.5,34.5 C15.5,32.290861 17.290861,30.5 19.5,30.5 Z",id:"Rectangle-Copy-61",transform:"translate(50.500000, 35.000000) rotate(-90.000000) translate(-50.500000, -35.000000) "}),Fg.createElement("path",{d:"M4,14 L66,14 C68.209139,14 70,15.790861 70,18 L70,19 C70,21.209139 68.209139,23 66,23 L4,23 C1.790861,23 2.705415e-16,21.209139 0,19 L0,18 C-2.705415e-16,15.790861 1.790861,14 4,14 Z",id:"Rectangle-Copy-63",transform:"translate(35.000000, 18.500000) rotate(-360.000000) translate(-35.000000, -18.500000) "}),Fg.createElement("path",{d:"M4,44 L66,44 C68.209139,44 70,45.790861 70,48 L70,49 C70,51.209139 68.209139,53 66,53 L4,53 C1.790861,53 2.705415e-16,51.209139 0,49 L0,48 C-2.705415e-16,45.790861 1.790861,44 4,44 Z",id:"Rectangle-Copy-62",transform:"translate(35.000000, 48.500000) rotate(-360.000000) translate(-35.000000, -48.500000) "}))));d();var KC=Jn(ur()),LMe=n=>KC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},KC.createElement("title",null,"viz_percent"),KC.createElement("g",{id:"viz_percent",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},KC.createElement("g",{id:"%-copy-5",transform:"translate(19.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},KC.createElement("path",{d:"M16.1194226,31.5251397 C19.1010499,31.5251397 21.8186789,30.8184358 24.2723097,29.4050279 C26.7259405,27.9916201 28.6671041,26.0712291 30.0958005,23.6438547 C31.5244969,21.2164804 32.2388451,18.5893855 32.2388451,15.7625698 C32.2388451,12.9357542 31.5244969,10.3086592 30.0958005,7.88128492 C28.6671041,5.45391061 26.7259405,3.53351955 24.2723097,2.12011173 C21.8186789,0.706703911 19.1010499,0 16.1194226,0 C13.1377953,0 10.4201662,0.706703911 7.96653543,2.12011173 C5.51290464,3.53351955 3.57174103,5.45391061 2.14304462,7.88128492 C0.714348206,10.3086592 0,12.9357542 0,15.7625698 C0,18.5893855 0.714348206,21.2164804 2.14304462,23.6438547 C3.57174103,26.0712291 5.51290464,27.9916201 7.96653543,29.4050279 C10.4201662,30.8184358 13.1377953,31.5251397 16.1194226,31.5251397 Z M19.9645575,62.4787112 L57.1929452,7.56550735 C58.3200259,5.90302296 57.8859954,3.64163362 56.223511,2.5145529 C56.2107419,2.50589603 56.1979177,2.49732049 56.1850394,2.48882682 C54.4804105,1.3645685 52.1887314,1.81914062 51.0422905,3.50893047 L13.7228276,58.5157377 C12.6107181,60.1549252 13.0379992,62.3852921 14.6771866,63.4974016 C14.7072768,63.5178164 14.7376757,63.5377723 14.7683727,63.5572626 C16.507245,64.6613129 18.8087263,64.1836036 19.9645575,62.4787112 Z M16.1194226,24.150838 C13.8832021,24.150838 12.0041557,23.3519553 10.4822835,21.7541899 C8.9604112,20.1564246 8.19947507,18.1592179 8.19947507,15.7625698 C8.19947507,13.3044693 8.9604112,11.2918994 10.4822835,9.72486034 C12.0041557,8.15782123 13.8832021,7.37430168 16.1194226,7.37430168 C18.4177603,7.37430168 20.3278653,8.15782123 21.8497375,9.72486034 C23.3716098,11.2918994 24.1325459,13.3044693 24.1325459,15.7625698 C24.1325459,18.2206704 23.3716098,20.2332402 21.8497375,21.8002793 C20.3278653,23.3673184 18.4177603,24.150838 16.1194226,24.150838 Z M54.8805774,66 C57.8622047,66 60.5798338,65.2932961 63.0334646,63.8798883 C65.4870954,62.4664804 67.428259,60.5460894 68.8569554,58.1187151 C70.2856518,55.6913408 71,53.0642458 71,50.2374302 C71,47.4106145 70.2856518,44.7835196 68.8569554,42.3561453 C67.428259,39.9287709 65.4870954,38.0083799 63.0334646,36.5949721 C60.5798338,35.1815642 57.8622047,34.4748603 54.8805774,34.4748603 C51.8989501,34.4748603 49.1813211,35.1815642 46.7276903,36.5949721 C44.2740595,38.0083799 42.3328959,39.9287709 40.9041995,42.3561453 C39.4755031,44.7835196 38.7611549,47.4106145 38.7611549,50.2374302 C38.7611549,53.0642458 39.4755031,55.6913408 40.9041995,58.1187151 C42.3328959,60.5460894 44.2740595,62.4664804 46.7276903,63.8798883 C49.1813211,65.2932961 51.8989501,66 54.8805774,66 Z M54.8805774,58.6256983 C52.644357,58.6256983 50.7653106,57.8268156 49.2434383,56.2290503 C47.7215661,54.6312849 46.9606299,52.6340782 46.9606299,50.2374302 C46.9606299,47.7793296 47.7215661,45.7667598 49.2434383,44.1997207 C50.7653106,42.6326816 52.644357,41.849162 54.8805774,41.849162 C57.1789151,41.849162 59.0890201,42.6326816 60.6108924,44.1997207 C62.1327647,45.7667598 62.8937008,47.7793296 62.8937008,50.2374302 C62.8937008,52.6340782 62.1172353,54.6312849 60.5643045,56.2290503 C59.0113736,57.8268156 57.1167979,58.6256983 54.8805774,58.6256983 Z",id:"%-copy-2"}))));d();var m2=Jn(ur()),kMe=n=>m2.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},m2.createElement("title",null,"viz_boolean"),m2.createElement("g",{id:"viz_boolean",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},m2.createElement("g",{id:"noun_switch_3350414-2",transform:"translate(20.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},m2.createElement("g",{id:"noun_switch_3350414"},m2.createElement("path",{d:"M15.2972028,30.8 L54.7027972,30.8 C63.151209,30.8 70,23.9051851 70,15.4 C70,6.89481485 63.151209,0 54.7027972,0 L15.2972028,0 C6.84879098,0 0,6.89481485 0,15.4 C0,23.9051851 6.84879098,30.8 15.2972028,30.8 Z M15.2972028,6.16 L54.7027972,6.16 C59.7718443,6.16 63.8811189,10.2968889 63.8811189,15.4 C63.8811189,20.5031111 59.7718443,24.64 54.7027972,24.64 L15.2972028,24.64 C10.2281557,24.64 6.11888112,20.5031111 6.11888112,15.4 C6.11888112,10.2968889 10.2281557,6.16 15.2972028,6.16 Z",id:"Shape"}),m2.createElement("path",{d:"M19.6340542,21.9997804 C22.2930484,22.0215224 24.7022661,20.4273668 25.7348338,17.9629544 C26.7674016,15.4985421 26.2191958,12.6510518 24.3466309,10.7523518 C22.474066,8.85365189 19.6473211,8.27908795 17.1885612,9.29740315 C14.7298014,10.3157183 13.125,12.7256064 13.125,15.3998806 C13.125,19.0240523 16.0305897,21.9703156 19.6340542,21.9997804 L19.6340542,21.9997804 Z",id:"Path"}),m2.createElement("path",{d:"M54.7027971,35.2 L15.2972025,35.2 C6.84879081,35.2 0,42.094815 0,50.6 C0,59.105185 6.84879081,66 15.2972025,66 L54.7027971,66 C63.151209,66 70,59.1051851 70,50.6 C70,42.0948149 63.151209,35.2 54.7027971,35.2 L54.7027971,35.2 Z M54.7027971,59.84 L15.2972025,59.84 C10.2281554,59.84 6.11888082,55.7031111 6.11888082,50.6 C6.11888082,45.4968889 10.2281554,41.36 15.2972025,41.36 L54.7027971,41.36 C59.7718442,41.36 63.8811189,45.4968889 63.8811189,50.6 C63.8811189,55.7031111 59.7718442,59.84 54.7027971,59.84 L54.7027971,59.84 Z",id:"Shape"}),m2.createElement("path",{d:"M50.3659458,44.0002196 C47.7069516,43.9784776 45.2977339,45.5726332 44.2651662,48.0370456 C43.2325984,50.5014579 43.7808042,53.3489482 45.6533691,55.2476482 C47.525934,57.1463481 50.3526789,57.720912 52.8114388,56.7025969 C55.2701986,55.6842817 56.875,53.2743936 56.875,50.6001194 C56.875,46.9759477 53.9694103,44.0296844 50.3659458,44.0002196 Z",id:"Path"})))));d();var NO=Jn(ur()),IMe=n=>NO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},NO.createElement("title",null,"viz_sparkline"),NO.createElement("g",{id:"viz_sparkline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},NO.createElement("polyline",{id:"Path-11",stroke:"#9aa0a6",strokeWidth:6,points:"10 54.8274509 25.9215088 61.0844803 40.1501567 54.8274509 53.3907166 68.7215958 69.5925598 42 83.3327332 64.4487228 100.431152 57.8274509"})));d();var k6=Jn(ur()),MMe=n=>k6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},k6.createElement("title",null,"viz_link"),k6.createElement("g",{id:"viz_link",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},k6.createElement("g",{id:"link_black_24dp",transform:"translate(5.000000, 5.000000)"},k6.createElement("path",{d:"M5,0 L96,0 C98.7614237,-5.07265313e-16 101,2.23857625 101,5 L101,96 C101,98.7614237 98.7614237,101 96,101 L5,101 C2.23857625,101 3.38176876e-16,98.7614237 0,96 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),k6.createElement("path",{d:"M71,30 L58.4,30 C56.0804041,30 54.2,31.8804041 54.2,34.2 C54.2,36.5195959 56.0804041,38.4 58.4,38.4 L71,38.4 L71,38.4 C77.93,38.4 83.6,44.07 83.6,51 C83.6,57.93 77.93,63.6 71,63.6 L58.4,63.6 C56.0804041,63.6 54.2,65.4804041 54.2,67.8 C54.2,70.1195959 56.0804041,72 58.4,72 L71,72 L71,72 C82.592,72 92,62.592 92,51 C92,39.408 82.592,30 71,30 Z M41.6,63.6 L29,63.6 L29,63.6 C22.07,63.6 16.4,57.93 16.4,51 C16.4,44.07 22.07,38.4 29,38.4 L41.6,38.4 C43.9195959,38.4 45.8,36.5195959 45.8,34.2 C45.8,31.8804041 43.9195959,30 41.6,30 L29,30 L29,30 C17.408,30 8,39.408 8,51 C8,62.592 17.408,72 29,72 L41.6,72 C43.9195959,72 45.8,70.1195959 45.8,67.8 C45.8,65.4804041 43.9195959,63.6 41.6,63.6 Z M37.4,46.8 L62.6,46.8 C64.9195959,46.8 66.8,48.6804041 66.8,51 C66.8,53.3195959 64.9195959,55.2 62.6,55.2 L37.4,55.2 C35.0804041,55.2 33.2,53.3195959 33.2,51 C33.2,48.6804041 35.0804041,46.8 37.4,46.8 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));var NH=({renderer:n})=>{let e={width:"22px",height:"22px"};return n==="table"?m.createElement(yMe,{...e}):n==="dashboard"?m.createElement(vMe,{...e}):n==="text"?m.createElement(_Me,{...e}):n==="currency"?m.createElement(bMe,{...e}):n==="image"?m.createElement(EMe,{...e}):n==="time"?m.createElement(SMe,{...e}):n==="json"?m.createElement(CMe,{...e}):n==="list"?m.createElement(wMe,{...e}):n==="list_detail"?m.createElement(AMe,{...e}):n==="bar_chart"?m.createElement(TMe,{...e}):n==="scatter_chart"?m.createElement(sH,{...e}):n==="line_chart"?m.createElement(FMe,{...e}):n==="point_map"?m.createElement(DMe,{...e}):n==="segment_map"?m.createElement(OMe,{...e}):n==="shape_map"?m.createElement(NMe,{...e}):n==="number"?m.createElement(RMe,{...e}):n==="percent"?m.createElement(LMe,{...e}):n==="boolean"?m.createElement(kMe,{...e}):n==="spark_line"?m.createElement(IMe,{...e}):n==="link"?m.createElement(MMe,{...e}):null};var Td=({setDataStyle:n,onComplete:e,allowedRenderers:t})=>m.createElement(Hh,null,m.createElement(Vu,null,m.createElement(Du,null,m.createElement(lkt,null,t.map(r=>m.createElement(ao,{icon:m.createElement(NH,{renderer:r}),key:r,onClick:()=>{n(r),e()},name:r,color:"other"})))))),lkt=_n.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;d();d();var PMe=Jn(ur());var Dg=({byField:n,addOrderBy:e,onComplete:t,initialDirection:r})=>{let[i,s]=(0,PMe.useState)(r||"asc");return m.createElement(vl,null,m.createElement(yl,null,"Order By",m.createElement(Iz,null,m.createElement(xC,{color:"dimension"},m.createElement(e0,{type:_d(n),kind:Ch(n)})),m.createElement(Pz,null,n.name))),m.createElement("form",null,m.createElement(M0,null,m.createElement(ckt,null,m.createElement(EH,{options:[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],value:i,onChange:s}))),m.createElement(I0,null,m.createElement(aa,{type:"button",color:"secondary",onClick:t},"Cancel"),m.createElement(aa,{onClick:()=>{n!==void 0&&(e(n.fieldIndex,i),t())}},"Save"))))},ckt=_n.div`
  display: flex;
  border: 1px solid #efefef;
  border-radius: 5px;
  overflow: hidden;
`;d();d();var BMe=Jn(ur());var I6=({rename:n,onComplete:e})=>{let[t,r]=(0,BMe.useState)("");return m.createElement(vl,null,m.createElement(yl,null,"Rename"),m.createElement(Mz,null,m.createElement(mu,{value:t,setValue:r,placeholder:"new_name",autoFocus:!0}),m.createElement(aa,{type:"button",color:"secondary",onClick:e},"Cancel"),m.createElement(aa,{onClick:()=>{n(t),e()}},"Save")))};var Eue=({source:n,model:e,modelPath:t,rename:r,name:i,closeMenu:s,setDataStyle:o,fieldIndex:a,beginReorderingField:l,isEditable:f,editDimension:p,definition:v,filterField:b,filterFieldPath:F,addFilter:D,stagePath:M,addOrderBy:q,orderByField:N})=>m.createElement(Ul,{closeMenu:s,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",label:"Rename",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(I6,{rename:r,onComplete:B})},{kind:"sub_menu",id:"filter_on",iconName:"filter",label:"Filter By",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:B})=>b&&F?m.createElement(D6,{model:e,modelPath:t,onComplete:B,source:n,field:b,fieldPath:F,needsRename:!1,addFilter:I=>D(M,I)}):m.createElement("div",null)},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(Dg,{byField:N,addOrderBy:(I,z)=>q(M,I,z),onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(Td,{setDataStyle:o,onComplete:B,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",isEnabled:f,iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(TO,{source:n,addDimension:I=>p(a,I),onComplete:B,initialCode:v,initialName:i})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:l}]});d();d();d();d();var Sue=Jn(ur());d();d();var jMe=Jn(ur());d();d();var JC=({children:n})=>m.createElement(fkt,null,m.createElement(dkt,null),m.createElement(hkt,null,n)),fkt=_n.div`
  margin-top: 5px;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-left: 13px;
`,dkt=_n.div`
  width: 6px;
  min-width: 6px;
  padding: 5px 0px;
  margin: 0 1px;
  background-color: #efefef;
  border-radius: 100px;
`,hkt=_n.div`
  width: calc(100% - 10px);
`;var tp=({fields:n,selectField:e,filter:t,showNested:r,path:i=[],topValues:s})=>m.createElement(pkt,null,n.filter(o=>t(o)||r&&o.type==="struct").map(o=>{if(t(o)){let a=_d(o),l=Ch(o),f=[...i,o.as||o.name].join(".");return m.createElement(b4,{width:300,key:o.as||o.name,content:()=>m.createElement(ao,{icon:m.createElement(e0,{type:a,kind:l}),onClick:()=>e(f,o),name:o.as||o.name,color:l}),popoverContent:()=>m.createElement(_4,{fieldPath:f,topValues:s})})}else return o.type==="struct"&&qMe(o,t)?m.createElement(mkt,{key:o.as||o.name,source:o,filter:t,selectField:e,path:[...i,o.as||o.name],topValues:s}):null})),pkt=_n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function qMe(n,e){return n.fields.some(e)||n.fields.some(t=>t.type==="struct"&&qMe(t,e))}var mkt=({source:n,filter:e,selectField:t,path:r,topValues:i})=>{let[s,o]=(0,jMe.useState)(!1);return m.createElement("div",null,m.createElement(ao,{icon:m.createElement(bo,{action:s?"container-open":"container-closed",color:"other"}),onClick:()=>o(!s),name:n.as||n.name,color:"other"}),s&&m.createElement(JC,null,m.createElement(tp,{filter:e,selectField:t,fields:n.fields,showNested:!0,path:r,topValues:i})))};var Og=({model:n,modelPath:e,source:t,addFilter:r,onComplete:i,needsRename:s,topValues:o})=>{let[a,l]=(0,Sue.useState)(""),[f,p]=(0,Sue.useState)(),{searchResults:v,isLoading:b}=A6(n,e,t,a),F=v&&v.filter(z=>z.fieldType==="string").slice(0,100),D=Ic(t).filter(({field:z})=>zF(z)).map(({field:z,path:ie})=>({item:yf(z,ie),terms:vf(z,ie),key:xkt(ie),select:()=>p({path:ie,def:z})})),{searchList:M,count:q}=HC({searchTerm:a,items:D||[],topValues:o}),N=F?.length||0,B=q>0,I=N>0||b;return m.createElement("div",null,!f&&m.createElement(zh,null,m.createElement(wd,{placeholder:"Search",value:a,setValue:l,autoFocus:!0})),m.createElement("div",null,f&&m.createElement(D6,{model:n,modelPath:e,source:t,fieldPath:f.path,field:f.def,addFilter:r,onComplete:i,needsRename:s}),!f&&m.createElement(m.Fragment,null,a===""&&m.createElement(Vu,null,m.createElement(Du,null,m.createElement(tp,{fields:t.fields,filter:zF,showNested:!0,selectField:(z,ie)=>p({path:z,def:ie}),topValues:o}))),a!==""&&m.createElement(m.Fragment,null,B&&m.createElement(Vu,{style:{borderBottom:B?"1px solid #efefef":"",maxHeight:I?"200px":"300px"}},m.createElement(Du,null,M)),I&&t&&m.createElement(Vu,{style:{borderBottom:"1px solid #efefef",maxHeight:B?"200px":"300px"}},m.createElement(Du,null,F&&F.length>0&&F.map((z,ie)=>m.createElement(ao,{key:ie,name:z.fieldValue,detail:z.fieldName,icon:m.createElement(bo,{action:"filter"}),color:"filter",onClick:()=>{f2(t,u6(z.fieldName,{type:"is_equal_to",values:[z.fieldValue]})).then(L=>{r&&r(L),i()})}})),F!==void 0&&F.length===0&&m.createElement(Pl,null,"No value results"),b&&m.createElement(Pl,null,m.createElement(Ad,{text:"Loading value results..."}))))),!B&&!I&&m.createElement(Pl,null,"No results"))))};function xkt(n){return"field/"+n}d();d();var o1=Jn(ur());d();var RH=Jn(gf());function UMe(n,e){let t=Ou(e);switch(n){case"count_distinct":return`count(distinct ${t})`;case"avg":case"sum":return`${t}.${n}()`;case"min":case"max":return`${n}(${t})`;case"percent":return`100 * ${t} / all(${t})`}}function XC(n,e){let t=(s,o)=>RH.Segment.nextStructDef(o,s),r=(s,o)=>{let a=s.find(l=>(l.as||l.name)===o[0]);if(a)if(o.length>1){if(a.type==="struct")return r(a.fields,o.slice(1));if(a.type==="turtle"){let l=n;for(let f of a.pipeline)l=t(f,l);return r(l.fields,o.slice(1))}else return}else return a;else return},i=i2(e).split(".");return r(n.fields,i)}var gkt=/^count\(\)$/,ykt=/^count\(distinct (.*)\)$/,vkt=/^(.*)\.avg\(\)$/,_kt=/^(.*)\.sum\(\)$/,bkt=/^min\((.*)\)/,Ekt=/^max\((.*)\)/,Skt=/^100 \* (.*) \/ all\((.*)\)$/;function $Me(n,e){let t;return t=gkt.exec(e),t?{measureType:"count",path:"",field:void 0}:(t=ykt.exec(e),t?{measureType:"count_distinct",path:i2(t[1]),field:XC(n,t[1])}:(t=vkt.exec(e),t?{measureType:"avg",path:i2(t[1]),field:XC(n,t[1])}:(t=_kt.exec(e),t?{measureType:"sum",path:i2(t[1]),field:XC(n,t[1])}:(t=bkt.exec(e),t?{measureType:"min",path:i2(t[1]),field:XC(n,t[1])}:(t=Ekt.exec(e),t?{measureType:"max",path:i2(t[1]),field:XC(n,t[1])}:(t=Skt.exec(e),t&&t[1]===t[2]?{measureType:"percent",path:i2(t[1]),field:XC(n,t[1])}:{measureType:"custom",path:"",field:void 0}))))))}function zMe(n){return n.type==="struct"?3:n.type==="turtle"?2:(0,RH.expressionIsCalculation)(n.expressionType)?1:0}function HMe(n){return n.sort((e,t)=>{let r=zMe(e.field),i=zMe(t.field);return r===i?e.field.name.localeCompare(t.field.name):i-r})}var Ckt={string:["count_distinct"],number:["count_distinct","avg","sum","min","max"],date:["count_distinct","min","max"],timestamp:["count_distinct","min","max"]},wkt=[{label:"Count Distinct",value:"count_distinct"},{label:"Sum",value:"sum"},{label:"Average",value:"avg"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Percent of All",value:"percent"}];var RO=({source:n,addMeasure:e,onComplete:t,initialCode:r,initialName:i})=>{let s=0,o,a;if(r){let{measureType:L,field:Y,path:fe}=$Me(n,r);s=L==="custom"?2:L==="count"?1:0,Y&&(o={field:Y,path:fe}),a=L}let[l,f]=(0,o1.useState)(s),[p,v]=(0,o1.useState)(r||""),[b,F]=(0,o1.useState)(i||""),[D,M]=(0,o1.useState)(a),[q,N]=(0,o1.useState)(o),[B,I]=(0,o1.useState)();(0,o1.useEffect)(()=>{if(l===0&&q&&D){let L=UMe(D,q.path);L&&v(L)}else l===1&&v("count()")},[l,D,q]);let z=(0,o1.useMemo)(()=>HMe(Ic(n)).reduce((L,{path:Y,field:fe})=>{let me=_d(fe),Be=Ch(fe);if(["dimension","measure"].includes(Be)){let tt=m.createElement(ao,{name:fe.name,icon:m.createElement(e0,{type:me,kind:Be}),color:Be,detail:_f(Y),disableHover:!0});L.push({label:tt,value:{field:fe,path:Y}})}return L},[]),[n]),ie=r===void 0;return m.createElement(vl,null,m.createElement(yl,null,ie?"New":"Edit"," measure"),m.createElement("form",null,m.createElement(M0,null,m.createElement(Xp,null,m.createElement(Cd,null,"Type"),m.createElement(xu,{autoFocus:!0,value:l,options:[{label:"From a field",value:0},{label:"Count",value:1},{label:"Custom",value:2}],onChange:L=>f(L),width:300})),l==0&&m.createElement(Xp,null,m.createElement(Cd,null,"Field"),m.createElement(xu,{value:q,valueEqual:(L,Y)=>L.path===Y.path,options:z,onChange:L=>N(L),width:300})),l==0&&m.createElement(Xp,null,m.createElement(Cd,null,"Type"),m.createElement(xu,{value:D,options:q?wkt.filter(({value:L})=>$F(q.field)?L==="percent":Ckt[q.field.type].includes(L)):[],onChange:L=>M(L),width:300})),l===2&&m.createElement(CO,{autoFocus:!!i,value:p,setValue:v,placeholder:"count() * items_per_count",label:ie?"Definition":void 0,rows:3}),ie&&m.createElement(mu,{value:b,setValue:F,placeholder:"new_measure",label:"Name"})),m.createElement(Bz,{error:B}),m.createElement(I0,null,m.createElement(aa,{type:"button",color:"secondary",onClick:t},"Cancel"),m.createElement(aa,{onClick:L=>{if(L.preventDefault(),L.stopPropagation(),!b)return I(new Error("Enter a name"));if(l===2){if(!p)return I(new Error("Enter a definition"))}else if(l===0&&!q)return I(new Error("Select a field"));$Ie(n,b,p).then(Y=>{e(Y),t()}).catch(Y=>{I(Y)})}},"Save"))))};var Cue=({model:n,modelPath:e,source:t,addFilter:r,rename:i,closeMenu:s,setDataStyle:o,beginReorderingField:a,isRenamed:l,editMeasure:f,name:p,definition:v,isEditable:b,fieldIndex:F,topValues:D,addOrderBy:M,orderByField:q,stagePath:N})=>m.createElement(Ul,{closeMenu:s,actions:[{kind:"sub_menu",id:"filter",iconName:"filter",iconColor:"filter",label:"Filter",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(Og,{model:n,modelPath:e,source:t,addFilter:r,onComplete:B,needsRename:!l,topValues:D})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(I6,{rename:i,onComplete:B})},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(Dg,{byField:q,addOrderBy:(I,z)=>M(N,I,z),onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(Td,{setDataStyle:o,onComplete:B,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",iconColor:"other",isEnabled:b,closeOnComplete:!0,Component:({onComplete:B})=>m.createElement(RO,{source:t,addMeasure:I=>f(F,I),onComplete:B,initialCode:v,initialName:p})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:a}]});d();d();d();d();var VMe=Jn(ur());var Ng=({existing:n,addLimit:e,onComplete:t})=>{let[r,i]=(0,VMe.useState)(n?.toString()||"10");return m.createElement(vl,null,m.createElement(yl,null,"Limit"),m.createElement(Mz,null,m.createElement(mu,{value:r,setValue:i,autoFocus:!0,autoSelect:!0})," ",m.createElement(aa,{type:"button",color:"secondary",onClick:t},"Cancel"),m.createElement(aa,{onClick:()=>{let s=parseInt(r);Number.isNaN(s)||(e(s),t())}},"Save")))};var wue=({limit:n,editLimit:e,closeMenu:t})=>m.createElement(Ul,{closeMenu:t,actions:[{id:"edit",label:"Change limit",iconName:"limit",iconColor:"other",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:r})=>m.createElement(Ng,{addLimit:e,onComplete:r,existing:n})}]});d();d();d();d();var Aue=Jn(ur());var M6=({source:n,selectField:e,addNewMeasure:t,onComplete:r})=>{let[i,s]=(0,Aue.useState)(!1),[o,a]=(0,Aue.useState)("");return m.createElement(Hh,null,!i&&m.createElement(m.Fragment,null,m.createElement(zh,null,m.createElement(wd,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),m.createElement(Vu,null,m.createElement(Du,null,o===""&&m.createElement(m.Fragment,null,m.createElement(ao,{icon:m.createElement(bo,{action:"add"}),onClick:()=>s(!0),name:"New Measure",color:"other"}),m.createElement(tp,{fields:n.fields,filter:$F,showNested:!0,selectField:e,topValues:void 0})),o!==""&&m.createElement(m.Fragment,null,m.createElement(Sg,{topValues:void 0,searchTerm:o,items:Ic(n).filter(({field:l})=>$F(l)).map(({field:l,path:f})=>({item:yf(l,f),terms:[...vf(l,f),"aggregate"],detail:_f(f),key:Akt(f),select:()=>e(f)}))}))))),i&&m.createElement(RO,{addMeasure:t,source:n,onComplete:r}))};function Akt(n){return"aggregate/"+n}d();d();var QMe=Jn(gf()),ZC=Jn(ur());d();d();var WMe=Jn(ur());var Tue=({field:n,path:e,addGroupBy:t,onComplete:r})=>{let[i,s]=(0,WMe.useState)("year"),o=_d(n),a=Ch(n);return m.createElement(vl,null,m.createElement(yl,null,"Group by",m.createElement(ao,{name:n.name,icon:m.createElement(e0,{type:o,kind:a}),color:a,disableHover:!0})),m.createElement("form",null,m.createElement(M0,null,m.createElement(xu,{value:i,options:[{label:"Year",value:"year"},{label:"Quarter",value:"quarter"},{label:"Month",value:"month"},{label:"Week",value:"week"},{label:"Day",value:"day"},{label:"Hour",value:"hour"},{label:"Minute",value:"minute"},{label:"Seconds",value:"seconds"},{label:m.createElement(Rg,{detail:"(1-366)"},"Day of year"),value:"extract_day_of_year",divider:!0},{label:m.createElement(Rg,{detail:"(1-31)"},"Day of month"),value:"extract_day"},{label:m.createElement(Rg,{detail:"(1-7)"},"Day of week"),value:"extract_day_of_week"},{label:m.createElement(Rg,{detail:"(1-53)"},"Week in year"),value:"extract_week"},{label:m.createElement(Rg,{detail:"(1-12)"},"Month in year"),value:"extract_month"},{label:m.createElement(Rg,{detail:"(1-4)"},"Quarter in year"),value:"extract_quarter"},{label:m.createElement(Rg,{detail:"(0-23)"},"Hour of day"),value:"extract_hour"},{label:m.createElement(Rg,{detail:"(0-59)"},"Minute of hour"),value:"extract_minute"},{label:m.createElement(Rg,{detail:"(0-59)"},"Seconds of minute"),value:"extract_seconds"},{label:"Field values",value:"",divider:!0}],width:300,onChange:s})),m.createElement(I0,null,m.createElement(aa,{type:"button",color:"secondary",onClick:r},"Cancel"),m.createElement(aa,{type:"submit",onClick:l=>{if(l.stopPropagation(),l.preventDefault(),i)if(i.startsWith("extract_")){let f=i.substring("extract_".length);t(`${e}_${f}`,`${f}(${Ou(e)})`)}else t(`${e}_${i}`,`${Ou(e)}.${i}`);else t(e);r()}},"Save"))))},Rg=({children:n,detail:e})=>m.createElement("span",null,n," ",m.createElement(Tkt,null,e)),Tkt=_n.span`
  color: #939393;
`;var P6=({source:n,toggleField:e,addNewDimension:t,onComplete:r,topValues:i})=>{let[s,o]=(0,ZC.useState)(!1),[a,l]=(0,ZC.useState)(),[f,p]=(0,ZC.useState)(""),v=(0,ZC.useCallback)((b,F)=>{F.type==="date"?l({field:F,path:b}):F.type==="timestamp"?l({field:F,path:b}):e(b)},[e]);return m.createElement(Hh,null,!s&&!a&&m.createElement(m.Fragment,null,m.createElement(zh,null,m.createElement(wd,{placeholder:"Search",value:f,setValue:p,autoFocus:!0})),m.createElement(Vu,null,m.createElement(Du,null,f===""&&m.createElement(m.Fragment,null,m.createElement(ao,{icon:m.createElement(bo,{action:"add"}),onClick:()=>o(!0),name:"New Dimension",color:"other"}),m.createElement(tp,{fields:n.fields,filter:b=>b.type!=="turtle"&&b.type!=="struct"&&!(0,QMe.expressionIsCalculation)(b.expressionType),showNested:!0,selectField:v,topValues:i})),f!==""&&m.createElement(m.Fragment,null,m.createElement(Sg,{topValues:i,searchTerm:f,items:Ic(n).filter(({field:b})=>zF(b)).map(({field:b,path:F})=>({item:yf(b,F),terms:[...vf(b,F),"group_by"],detail:_f(F),key:Fkt(F),select:()=>v(F,b)}))}))))),s&&m.createElement(TO,{addDimension:t,source:n,onComplete:r}),a&&m.createElement(Tue,{field:a.field,path:a.path,source:n,addGroupBy:async(b,F)=>{let D=await qIe(n,b,F);t(D)},onComplete:r}))};function Fkt(n){return"group_by/"+n}d();d();var Due=Jn(ur());d();d();var GMe=Jn(ur());var Fue=({addNest:n,onComplete:e})=>{let[t,r]=(0,GMe.useState)("");return m.createElement(vl,null,m.createElement(yl,null,"New Nested Query"),m.createElement("form",null,m.createElement(mu,{value:t,setValue:r,placeholder:"query_name",autoFocus:!0}),m.createElement(I0,null,m.createElement(aa,{type:"button",color:"secondary",onClick:e},"Cancel"),m.createElement(aa,{onClick:()=>{n(t),e()}},"Save"))))};var B6=({source:n,selectField:e,selectNewNest:t,onComplete:r})=>{let[i,s]=(0,Due.useState)(!1),[o,a]=(0,Due.useState)("");return m.createElement(Hh,null,!i&&m.createElement(m.Fragment,null,m.createElement(zh,null,m.createElement(wd,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),m.createElement(Vu,null,m.createElement(Du,null,o===""&&m.createElement(m.Fragment,null,m.createElement(ao,{icon:m.createElement(bo,{action:"add"}),onClick:()=>s(!0),name:"New Nested Query",color:"other"}),m.createElement(tp,{fields:n.fields,filter:l=>l.type==="turtle",showNested:!0,selectField:e,topValues:void 0})),o!==""&&m.createElement(m.Fragment,null,m.createElement(Sg,{topValues:void 0,searchTerm:o,items:Ic(n).filter(({field:l})=>zq(l)).map(({field:l,path:f})=>({item:yf(l,f),terms:[...vf(l,f),"nest"],detail:_f(f),key:Dkt(f),select:()=>e(f)}))}))))),i&&m.createElement(Fue,{addNest:t,onComplete:r}))};function Dkt(n){return"nest/"+n}d();d();var YMe=Jn(ur());var j6=({addOrderBy:n,orderByFields:e,onComplete:t})=>{let[r,i]=(0,YMe.useState)();return e.length===0?m.createElement(vl,null,m.createElement(yl,null,"Order By"),m.createElement(Pl,null,"You must add some fields first.")):m.createElement("div",null,r===void 0&&m.createElement(Hh,null,m.createElement(Du,null,m.createElement(Okt,null,e.map(s=>m.createElement(ao,{icon:m.createElement(e0,{type:s.type,kind:"dimension"}),key:s.name,onClick:()=>i(s),name:s.name,color:"dimension"}))))),r!==void 0&&m.createElement(Dg,{addOrderBy:n,onComplete:t,byField:r}))},Okt=_n.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;var Oue=({model:n,modelPath:e,source:t,toggleField:r,addFilter:i,addLimit:s,addOrderBy:o,addNewNestedQuery:a,stagePath:l,orderByFields:f,addNewDimension:p,addNewMeasure:v,closeMenu:b,setDataStyle:F,beginReorderingField:D,addStage:M,topValues:q,rename:N,isExpanded:B,replaceWithDefinition:I})=>m.createElement(Ul,{topValues:q,model:n,modelPath:e,valueSearchSource:t,addFilter:z=>i(l,z),closeMenu:b,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:z})=>m.createElement(Og,{modelPath:e,model:n,source:t,addFilter:(ie,L)=>i(l,ie,L),onComplete:z,needsRename:!1,topValues:q})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:z})=>m.createElement(B6,{source:t,selectField:ie=>r(l,ie),selectNewNest:ie=>a(l,ie),onComplete:z})},{kind:"sub_menu",id:"group_by",label:"Group By",iconColor:"dimension",iconName:"group_by",closeOnComplete:!0,Component:({onComplete:z})=>m.createElement(P6,{source:t,toggleField:ie=>r(l,ie),addNewDimension:ie=>p(l,ie),onComplete:z,topValues:q})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:z})=>m.createElement(M6,{source:t,selectField:ie=>r(l,ie),addNewMeasure:ie=>v(l,ie),onComplete:z})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:z})=>m.createElement(Ng,{addLimit:ie=>s(l,ie),onComplete:z})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:z})=>m.createElement(j6,{addOrderBy:(ie,L)=>o(l,ie,L),orderByFields:f,onComplete:z})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:z})=>m.createElement(Td,{setDataStyle:F,onComplete:z,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:z})=>m.createElement(I6,{rename:N,onComplete:z})},{kind:"one_click",id:"add_stage",label:"Add stage",iconName:"stage",iconColor:"other",onClick:M},{kind:"one_click",id:"expand_definition",label:"Duplicate",iconName:"duplicate",iconColor:"other",isEnabled:!B,onClick:I},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:D}],searchItems:Ic(t).map(({field:z,path:ie})=>({item:yf(z,ie),terms:vf(z,ie),detail:_f(ie),key:ie,select:()=>r(l,ie)}))});d();d();d();d();var KMe=Jn(ur());var Nue=({existing:n,editFilter:e,source:t,onComplete:r})=>{let[i,s]=(0,KMe.useState)(n);return m.createElement(vl,null,m.createElement(yl,null,"Edit Filter"),m.createElement("form",null,m.createElement(CO,{value:i,setValue:s,placeholder:"filter_expression",autoFocus:!0,rows:3}),m.createElement(I0,null,m.createElement(aa,{type:"button",color:"secondary",onClick:r},"Cancel"),m.createElement(aa,{onClick:()=>{f2(t,i).then(o=>{e(o),r()})}},"Save"))))};var Rue=({filterSource:n,editFilter:e,closeMenu:t,source:r,filterField:i,parsedFilter:s,model:o,modelPath:a,fieldPath:l})=>m.createElement(Ul,{closeMenu:t,actions:[{id:"edit",label:"Change filter",iconName:"filter",iconColor:"filter",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:f})=>i&&s?m.createElement(D6,{model:o,source:r,field:i,addFilter:e,fieldPath:l,needsRename:!1,onComplete:f,modelPath:a,initial:s}):m.createElement(Nue,{editFilter:e,onComplete:f,existing:n,source:r})}]});d();d();var Lue=({closeMenu:n,editOrderBy:e,orderByField:t,existingDirection:r})=>m.createElement(Ul,{closeMenu:n,actions:[{kind:"sub_menu",id:"edit",iconName:"order_by",iconColor:"other",label:"Edit Order By",closeOnComplete:!0,Component:({onComplete:i})=>m.createElement(Dg,{addOrderBy:(s,o)=>e(o),onComplete:i,byField:t,initialDirection:r})}]});d();d();var kue=({onComplete:n,setDataStyle:e,allowedRenderers:t})=>m.createElement(Td,{onComplete:n,setDataStyle:e,allowedRenderers:t});d();d();var LH=({source:n,toggleField:e,addFilter:t,addLimit:r,addOrderBy:i,addNewNestedQuery:s,stagePath:o,orderByFields:a,addNewDimension:l,addNewMeasure:f,closeMenu:p,setDataStyle:v,isLastStage:b,topValues:F,model:D,modelPath:M})=>m.createElement(Ul,{topValues:F,closeMenu:p,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:q})=>m.createElement(Og,{model:D,modelPath:M,source:n,addFilter:(N,B)=>t(o,N,B),onComplete:q,needsRename:!1,topValues:F})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:q})=>m.createElement(B6,{source:n,selectField:N=>e(o,N),selectNewNest:N=>s(o,N),onComplete:q})},{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:q})=>m.createElement(P6,{source:n,toggleField:N=>e(o,N),addNewDimension:N=>l(o,N),onComplete:q,topValues:F})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:q})=>m.createElement(M6,{source:n,selectField:N=>e(o,N),addNewMeasure:N=>f(o,N),onComplete:q})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>m.createElement(Ng,{addLimit:N=>r(o,N),onComplete:q})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>m.createElement(j6,{addOrderBy:(N,B)=>i(o,N,B),orderByFields:a,onComplete:q})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,isEnabled:b,Component:({onComplete:q})=>m.createElement(Td,{setDataStyle:v,onComplete:q,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})}],searchItems:Ic(n).map(({field:q,path:N})=>({item:yf(q,N),terms:vf(q,N),detail:_f(N),key:N,select:()=>e(o,N)}))});d();d();var Iue=({remove:n,closeMenu:e})=>m.createElement(Ul,{closeMenu:e,actions:[{kind:"one_click",id:"remove",iconName:"remove",iconColor:"other",label:"Remove",onClick:n}]});var Mue=({model:n,modelPath:e,querySummary:t,stagePath:r,queryName:i,topValues:s,queryModifiers:o})=>t.stages[0].items.length===0&&t.stages.length===1&&(!r||!r.parts||r.parts.length===0)?m.createElement(Pl,null,m.createElement("div",null,"Add fields to the query"),m.createElement("div",null,"with the \u201C+\u201D button")):m.createElement(Pue,null,t.stages.map((a,l)=>{let f=eH(r,{stageIndex:l,fieldIndex:0});return m.createElement("div",{key:"stage/"+l},t.stages.length>1&&m.createElement(Bue,{popoverContent:({closeMenu:p})=>m.createElement(LH,{model:n,modelPath:e,source:a.inputSource,toggleField:o.toggleField,addFilter:o.addFilter,addLimit:o.addLimit,addOrderBy:o.addOrderBy,addNewNestedQuery:o.addNewNestedQuery,stagePath:f,remove:()=>o.removeStage(f),orderByFields:a.orderByFields,addNewDimension:o.addNewDimension,addNewMeasure:o.addNewMeasure,closeMenu:p,isLastStage:l===t.stages.length-1,setDataStyle:v=>o.setDataStyle(i,v),stageSummary:a.items,updateFieldOrder:o.updateFieldOrder,topValues:s}),content:({isOpen:p})=>m.createElement(ZMe,{active:p},"Stage ",l+1,m.createElement(mH,{className:"back"},m.createElement(xH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>o.removeStage(f)})))}),m.createElement(JMe,{model:n,modelPath:e,stage:a,queryModifiers:o,stagePath:f,key:"stage/"+l,source:a.inputSource,topValues:s}))})),JMe=({model:n,modelPath:e,stage:t,topValues:r,queryModifiers:i,source:s,stagePath:o})=>{let[a,l]=(0,x2.useState)(),f=v=>{l(v)},p=t.items.map(v=>"fieldIndex"in v?v.fieldIndex:void 0).filter($q);return(0,x2.useEffect)(()=>{let v=b=>{let F=p.findIndex(q=>q===a),D=b.key==="ArrowUp"?-1:b.key==="ArrowDown"?1:0,M=F+D;if(F>-1&&D!==0&&M>=0&&M<p.length){let q=[...p],N=q[F];q[F]=q[M],q[M]=N,i.updateFieldOrder(o,q),l(M)}};return window.addEventListener("keyup",v),()=>window.removeEventListener("keyup",v)}),m.createElement(Pue,null,t.items.map((v,b)=>m.createElement(XMe,{model:n,modelPath:e,key:`${v.type}/${b}`,item:v,stageSummary:t.items,beginReorderingField:f,isSelected:"fieldIndex"in v&&v.fieldIndex===a,deselect:()=>l(void 0),topValues:r,queryModifiers:i,source:s,stagePath:o})))},Pue=_n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,Bue=({popoverContent:n,content:e})=>{let[t,r]=(0,x2.useState)(!1),i=(0,x2.useRef)(!1),s=(0,x2.useRef)(null),o=()=>{i.current=!0,r(!1)};return(0,x2.useEffect)(()=>{i.current=!1},[t]),m.createElement(m.Fragment,null,m.createElement(Nkt,{onClick:()=>!i.current&&r(!0)},m.createElement("div",{ref:s,key:t?"open":"closed"},e({isOpen:t,closeMenu:o})),m.createElement(Xh,{open:t,setOpen:r,referenceDiv:s},n({setOpen:r,closeMenu:o}))))},Nkt=_n.div`
  position: relative;
`,XMe=({model:n,modelPath:e,item:t,source:r,stagePath:i,fieldIndex:s,stageSummary:o,isSelected:a,beginReorderingField:l,deselect:f,topValues:p,queryModifiers:v})=>{let b=(0,x2.useRef)(null),F=[];return"styles"in t&&t.styles&&F.push(...t.styles.map(D=>({childItem:D}))),"filters"in t&&t.filters&&F.push(...t.filters.map(D=>({childItem:D,fieldIndex:t.fieldIndex}))),Gh(b,()=>a&&f()),m.createElement("div",{ref:b},m.createElement(Bue,{popoverContent:({closeMenu:D})=>{if((t.type==="field"||t.type==="field_definition")&&t.kind!=="query"){if(t.kind==="dimension")return m.createElement(Eue,{model:n,modelPath:e,source:r,removeField:()=>v.removeField(i,t.fieldIndex),rename:M=>{v.renameField(i,t.fieldIndex,M)},closeMenu:D,setDataStyle:M=>v.setDataStyle(t.name,M),stagePath:i,stageSummary:o,updateFieldOrder:v.updateFieldOrder,fieldIndex:t.fieldIndex,beginReorderingField:()=>{l(t.fieldIndex),D()},filterField:t.type==="field"?t.field:void 0,filterFieldPath:t.type==="field"?t.path:void 0,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,addFilter:v.addFilter,editDimension:(M,q)=>v.editDimension(i,M,q),addOrderBy:v.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:_ie(t.field)}});if(t.kind==="measure"){let M=t.type==="field_definition"||t.kind==="measure"&&t.isRenamed;return m.createElement(Cue,{model:n,modelPath:e,stagePath:i,source:r,removeField:()=>v.removeField(i,t.fieldIndex),addFilter:(q,N)=>v.addFilterToField(i,t.fieldIndex,q,N),rename:q=>{v.renameField(i,t.fieldIndex,q)},closeMenu:D,setDataStyle:q=>v.setDataStyle(t.name,q),isRenamed:M,beginReorderingField:()=>{l(t.fieldIndex),D()},fieldIndex:t.fieldIndex,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,editMeasure:(q,N)=>v.editMeasure(i,q,N),topValues:p,addOrderBy:v.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:_ie(t.field)}})}}else{if(t.type==="filter")return m.createElement(Rue,{model:n,modelPath:e,source:r,filterSource:t.filterSource,filterField:t.field,fieldPath:t.fieldPath,parsedFilter:t.parsed,removeFilter:()=>v.removeFilter(i,t.filterIndex),editFilter:M=>v.editFilter(i,s,t.filterIndex,M),closeMenu:D});if(t.type==="limit")return m.createElement(wue,{removeLimit:()=>v.removeLimit(i),editLimit:M=>v.editLimit(i,M),closeMenu:D,limit:t.limit});if(t.type==="order_by")return m.createElement(Lue,{removeOrderBy:()=>v.removeOrderBy(i,t.orderByIndex),closeMenu:D,orderByField:t.byField,orderByIndex:t.orderByIndex,existingDirection:t.direction,editOrderBy:M=>v.editOrderBy(i,t.orderByIndex,M)});if(t.type==="data_style")return m.createElement(kue,{onComplete:D,setDataStyle:M=>v.setDataStyle(t.styleKey,M),allowedRenderers:t.allowedRenderers});if(t.type==="nested_query_definition"||t.type==="field"&&t.kind==="query"){let M=eH(i,{fieldIndex:t.fieldIndex,stageIndex:0});return m.createElement(Oue,{model:n,modelPath:e,source:r,toggleField:v.toggleField,addFilter:v.addFilter,addLimit:v.addLimit,addOrderBy:v.addOrderBy,addNewNestedQuery:v.addNewNestedQuery,stagePath:M,remove:()=>v.removeField(i,t.fieldIndex),orderByFields:t.stages[0].orderByFields,addNewDimension:v.addNewDimension,addNewMeasure:v.addNewMeasure,closeMenu:D,setDataStyle:q=>v.setDataStyle(t.name,q),addStage:()=>v.addStage(i,t.fieldIndex),stageSummary:t.stages[0].items,updateFieldOrder:v.updateFieldOrder,topValues:p,rename:q=>{v.renameField(i,t.fieldIndex,q)},beginReorderingField:()=>{l(t.fieldIndex),D()},isExpanded:t.type==="nested_query_definition",replaceWithDefinition:()=>v.replaceWithDefinition(i,t.fieldIndex)})}else return t.type==="error_field"?m.createElement(Iue,{remove:()=>v.removeField(i,t.fieldIndex),closeMenu:D}):m.createElement("div",null)}},content:({isOpen:D,closeMenu:M})=>{if(t.type==="field"||t.type==="field_definition"){let q=t.type==="field"&&!t.isRefined,N;return t.kind==="dimension"?N=m.createElement(ao,{icon:m.createElement(bo,{action:"group_by"}),name:t.name,unsaved:!q,canRemove:!0,onRemove:()=>{v.removeField(i,t.fieldIndex),M()},color:"dimension",active:D||a}):t.kind==="measure"?N=m.createElement(ao,{icon:m.createElement(bo,{action:"aggregate"}),name:t.name,canRemove:!0,unsaved:!q,onRemove:()=>{v.removeField(i,t.fieldIndex),M()},color:"measure",active:D||a}):N=m.createElement(ao,{icon:m.createElement(bo,{action:"nest"}),name:t.name,canRemove:!0,onRemove:()=>{v.removeField(i,t.fieldIndex),M()},color:"query",active:D||a}),m.createElement(b4,{width:300,enabled:!D,content:()=>N,zIndex:9,popoverContent:()=>m.createElement(_4,{fieldPath:t.type==="field"?t.path:void 0,definition:t.type!=="field"?t.source:void 0,topValues:void 0})})}else return t.type==="filter"?m.createElement(b4,{width:300,enabled:!D,zIndex:9,content:()=>m.createElement(ao,{icon:m.createElement(bo,{action:"filter"}),name:t.filterSource,canRemove:!0,onRemove:()=>{v.removeFilter(i,t.filterIndex,s),M()},color:"filter",active:D||a}),popoverContent:()=>m.createElement(_4,{filterExpression:t.filterSource,topValues:void 0})}):t.type==="limit"?m.createElement(ao,{icon:m.createElement(bo,{action:"limit"}),name:`limit: ${t.limit}`,canRemove:!0,onRemove:()=>{v.removeLimit(i),M()},color:"other",active:D||a}):t.type==="order_by"?m.createElement(ao,{icon:m.createElement(bo,{action:"order_by"}),name:`${t.byField.name} ${t.direction||""}`,canRemove:!0,onRemove:()=>{v.removeOrderBy(i,t.orderByIndex),M()},color:"other",active:D||a}):t.type==="data_style"?m.createElement(ao,{icon:m.createElement(NH,{renderer:t.renderer}),name:t.renderer,color:"other",canRemove:t.canRemove,onRemove:()=>{v.setDataStyle(t.styleKey,void 0),M()},active:D||a}):t.type==="nested_query_definition"?m.createElement(ao,{icon:m.createElement(bo,{action:"nest"}),name:t.name,unsaved:!0,canRemove:!0,onRemove:()=>{v.removeField(i,t.fieldIndex),M()},color:"query",active:D||a}):t.type==="error_field"?m.createElement(ao,{icon:m.createElement(bo,{action:"error"}),name:t.name,unsaved:!1,canRemove:!0,onRemove:()=>{v.removeField(i,t.fieldIndex),M()},color:"error",active:D||a}):m.createElement("div",null)}}),t.type==="nested_query_definition"&&(t.stages[0].items.length>0||t.stages.length>1)&&t.stages.map((D,M)=>{let q=eH(i,{fieldIndex:t.fieldIndex,stageIndex:M});return m.createElement(JC,{key:"stage/"+M},t.stages.length>1&&m.createElement(Bue,{popoverContent:({closeMenu:N})=>m.createElement(LH,{model:n,modelPath:e,source:D.inputSource,toggleField:v.toggleField,addFilter:v.addFilter,addLimit:v.addLimit,addOrderBy:v.addOrderBy,addNewNestedQuery:v.addNewNestedQuery,stagePath:q,remove:()=>v.removeStage(q),orderByFields:D.orderByFields,addNewDimension:v.addNewDimension,addNewMeasure:v.addNewMeasure,closeMenu:N,setDataStyle:B=>v.setDataStyle(t.name,B),isLastStage:M===t.stages.length-1,stageSummary:D.items,updateFieldOrder:v.updateFieldOrder,topValues:p}),content:({isOpen:N})=>m.createElement(ZMe,{active:N},"Stage ",M+1,m.createElement(mH,{className:"back"},m.createElement(xH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>v.removeStage(q)})))}),m.createElement(JMe,{model:n,modelPath:e,stage:D,stagePath:q,source:r,topValues:p,queryModifiers:v}))}),F.length>0&&m.createElement(JC,null,m.createElement(Pue,null,F.map(({childItem:D,fieldIndex:M},q)=>m.createElement(XMe,{model:n,modelPath:e,key:"child:"+q,item:D,source:r,stagePath:i,fieldIndex:M,stageSummary:o,isSelected:!1,beginReorderingField:()=>{},deselect:()=>{},topValues:p,queryModifiers:v})))))},ZMe=_n.div`
  text-transform: uppercase;
  font-size: 12px;
  border: none;
  overflow: hidden;
  background-color: transparent;
  border-radius: 50px;
  padding: 5px 7px 5px 10px;
  text-align: left;
  margin-bottom: 2px;
  user-select: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Google Sans";
  color: #9aa0a6;

  &:hover {
    .back {
      visibility: visible;
    }
  }

  .back {
    visibility: hidden;
  }

  &:hover {
    background-color: #f7f8f8;
  }

  ${({active:n})=>n?`
      background-color: #f7f8f8;
      .back {
        visibility: visible;
      }
    `:""}
`;d();d();var Uc=Jn(ur()),fje=Jn(lje());d();d();var np=Jn(ur());d();var w4=Jn(ur()),cje=n=>w4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},w4.createElement("title",null,"download_hover"),w4.createElement("g",{id:"download_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},w4.createElement("circle",{id:"Oval",fill:"#EAF2FF",className:"hoverfill",cx:55,cy:55,r:55}),w4.createElement("g",{id:"download_black_24dp",transform:"translate(8.000000, 9.133308)"},w4.createElement("rect",{id:"Rectangle",x:0,y:0,width:94,height:94}),w4.createElement("path",{d:"M19.5833333,78.3333333 L74.4166667,78.3333333 L74.4166667,70.5 L19.5833333,70.5 L19.5833333,78.3333333 Z M74.4166667,35.25 L58.75,35.25 L58.75,11.75 L35.25,11.75 L35.25,35.25 L19.5833333,35.25 L47,62.6666667 L74.4166667,35.25 Z",id:"Shape",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"}))));var sle=({onDownloadHTML:n,onDownloadJSON:e,disabled:t=!1})=>{let[r,i]=(0,np.useState)(!1),s=(0,np.useRef)(),o=a=>l=>{if(!t){let f=l.metaKey;a(s.current?.checked?!f:f),i(!1)}};return np.default.createElement(BMt,null,np.default.createElement(PMt,{disabled:t,onClick:()=>!t&&i(!0),width:"26px",height:"26px"}),np.default.createElement(Xh,{open:r,setOpen:i,placement:"bottom-start",width:200,maxHeight:500,yOffset:25},np.default.createElement(sMe,{options:[{label:"Download HTML",onSelect:o(n)},{label:"Download JSON",onSelect:o(e)}]}),np.default.createElement(jMt,null,np.default.createElement(qMt,{type:"checkbox",ref:s,id:"new-tab-check"}),np.default.createElement(UMt,{htmlFor:"new-tab-check"},"Open in new tab"))))},PMt=_n(cje)`
  cursor: pointer;

  .hoverfill {
    fill: transparent;
  }

  ${({disabled:n})=>`
    .primaryfill {
      fill: ${n?Yr.other.fillMedium:Yr.other.fillStrong};
    }

    &:hover {
      .hoverfill {
        fill: ${n?"transparent":Yr.dimension.fillLight};
      }

      .primaryfill {
        fill: ${n?Yr.other.fillMedium:Yr.dimension.fillStrong};
      }
    }
  `}
`,BMt=_n.div`
  display: flex;
  align-items: center;
  user-select: none;
`,jMt=_n.div`
  border-top: 1px solid #ececec;
  font-family: Roboto;
  padding: 10px 15px;
`,qMt=_n.input``,UMt=_n.label`
  margin-left: 8px;
  color: #5f6368;
`;d();d();var VV=Jn(ur()),Lg=({element:n})=>{let e=(0,VV.useRef)(null);return(0,VV.useEffect)(()=>{let t=e.current;t&&(t.innerHTML="",t.appendChild(n))},[n]),m.createElement("div",{ref:e})};var ole=({model:n,source:e,result:t,dataStyles:r,malloy:i,onDrill:s,isRunning:o})=>{let[a,l]=(0,Uc.useState)(),[f,p]=(0,Uc.useState)(),[v,b]=(0,Uc.useState)(),[F,D]=(0,Uc.useState)(),[M,q]=(0,Uc.useState)(),[N,B]=(0,Uc.useState)("html"),[I,z]=(0,Uc.useState)(!1),[ie,L]=(0,Uc.useState)(!1),[Y,fe]=(0,Uc.useState)("source"),[me,Be]=(0,Uc.useState)(!1),tt=(0,Uc.useRef)(0),st=Zz(t),Qe=Zz(r);return(0,Uc.useEffect)(()=>{R_(i.markdown,"md").then(D).catch(console.log),R_(Eie(i.source),"malloy").then(p).catch(console.log),R_(i.model,"malloy").then(b).catch(console.log)},[i]),(0,Uc.useEffect)(()=>{let mt=!1;return(async()=>{let je=t?.sql;if(je===void 0){if(n===void 0||i.model===void 0||i.model===""||!i.isRunnable)return;try{je=await VIe(n,i.model)}catch(Ke){console.error(Ke)}}if(je===void 0)return;let Z=await R_(je,"sql");mt||q(Z)})(),()=>{mt=!0}},[t,i,n]),(0,Uc.useEffect)(()=>{t===st&&JSON.stringify(r)===JSON.stringify(Qe)||(L(!1),Be(!1),l(void 0),t!==void 0&&setTimeout(async()=>{L(!0),console.log(t.sql);let mt=++tt.current,Lt=await new fje.HTMLView(document).render(t.data,{dataStyles:r,isDrillingEnabled:!0,onDrill:(je,Z,Ke)=>{Promise.all(Ke.map(_e=>f2(e,_e).catch(De=>{console.log(De)}))).then(_e=>{let De=_e.filter($q);De.length>0&&s(De)})}});setTimeout(()=>{tt.current===mt&&(L(!1),Be(!0),setTimeout(()=>{tt.current===mt&&l(Lt)},0))},0)}))},[t,r,Qe,st]),m.createElement(HMt,null,m.createElement(WMt,null,m.createElement(hje,null,m.createElement(ale,{onClick:()=>B("malloy"),selected:N==="malloy"},"Malloy"),m.createElement(ale,{onClick:()=>B("sql"),selected:N==="sql"},"SQL"),m.createElement(ale,{onClick:()=>B("html"),selected:N==="html"},"Results")),m.createElement(hje,null,m.createElement(sle,{disabled:!t||a===void 0||ie,onDownloadHTML:mt=>bie(a?VAe(a.outerHTML,"Malloy Download"):"","text/html","result.html",mt),onDownloadJSON:mt=>bie(JSON.stringify(t?.data.toObject()||{},null,2),"application/json","result.json",mt)}))),m.createElement(VMt,null,o&&N!=="malloy"&&m.createElement(Ad,{text:"Running"}),N==="html"&&m.createElement(m.Fragment,null,t!==void 0&&ie&&m.createElement(Ad,{text:"Rendering"}),!a&&me&&m.createElement(Ad,{text:"Displaying"}),a&&me&&m.createElement(zMt,null,m.createElement(Lg,{element:a}))),M!==void 0&&N==="sql"&&m.createElement(dje,null,M&&m.createElement(Lg,{element:M})),N==="malloy"&&m.createElement(dje,{style:{marginLeft:Y==="source"?"-2ch":""}},Y==="source"&&f&&m.createElement(Lg,{element:f}),Y==="model"&&v&&m.createElement(Lg,{element:v}),Y==="markdown"&&F&&m.createElement(Lg,{element:F}),m.createElement($Mt,null,m.createElement(bo,{action:"copy",onClick:()=>{let mt=i[Y];Y==="source"&&(mt=Eie(mt)),QAe(mt),z(!0)},color:I?"other":"dimension"}),m.createElement(xu,{value:Y,onChange:mt=>{fe(mt),z(!1)},options:[{value:"source",label:"Source"},{value:"model",label:"Model"},{value:"markdown",label:"Markdown"}]})))))},$Mt=_n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  position: absolute;
  top: 0;
  right: 0;
  background-color: white;
  border-radius: 4px;
  width: 140px;
  justify-content: flex-end;
  align-items: center;
`,zMt=_n.div`
  font-size: 14px;
  font-family: "Roboto Mono";
`,HMt=_n.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
`,VMt=_n(o6)`
  padding: 20px;
  overflow: auto;
  width: auto;
`,WMt=_n(jz)`
  gap: 10px;
  justify-content: space-between;
  padding: 0px 20px;
  flex-direction: row;
  width: auto;
`,ale=_n.div`
  padding: 8px;
  cursor: pointer;
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  border-top: 1px solid transparent;
  font-size: 11pt;
  ${({selected:n})=>`border-bottom: 1px solid ${n?"#4285F4":"transparent"}`}
`,dje=_n.div`
  padding: 0 15px;
  font-family: "Roboto Mono";
  font-size: 14px;
  position: relative;
  width: 100%;
`,hje=_n.div`
  display: flex;
  align-items: center;
  font-size: 11pt;
  color: #4d4d4d;
`;d();d();var ule=({source:n,stagePath:e,orderByFields:t,closeMenu:r,queryName:i,topValues:s,queryModifiers:o,model:a,modelPath:l})=>m.createElement(Ul,{topValues:s,valueSearchSource:n,addFilter:f=>o.addFilter(e,f),closeMenu:r,model:a,modelPath:l,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:f})=>m.createElement(Og,{modelPath:l,model:a,topValues:s,source:n,addFilter:(p,v)=>o.addFilter(e,p,v),onComplete:f,needsRename:!1})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:f})=>m.createElement(B6,{source:n,selectField:p=>o.toggleField(e,p),selectNewNest:p=>o.addNewNestedQuery(e,p),onComplete:f})},{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:f})=>m.createElement(P6,{topValues:s,source:n,addNewDimension:p=>o.addNewDimension(e,p),toggleField:p=>o.toggleField(e,p),onComplete:f})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconColor:"measure",iconName:"aggregate",closeOnComplete:!0,Component:({onComplete:f})=>m.createElement(M6,{source:n,selectField:p=>o.toggleField(e,p),addNewMeasure:p=>o.addNewMeasure(e,p),onComplete:f})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>m.createElement(Ng,{addLimit:p=>o.addLimit(e,p),onComplete:f})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>m.createElement(j6,{addOrderBy:(p,v)=>o.addOrderBy(e,p,v),orderByFields:t,onComplete:f})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>m.createElement(Td,{setDataStyle:p=>o.setDataStyle(i,p),onComplete:f,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"add_stage",label:"Add Stage",iconName:"stage",iconColor:"other",onClick:()=>o.addStage(void 0)}],searchItems:Ic(n).map(({field:f,path:p})=>({item:yf(f,p),terms:vf(f,p),detail:_f(p),key:p,select:()=>o.toggleField(e,p)}))});d();var A4=Jn(ur()),WV=n=>A4.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},A4.createElement("title",null,"query_run_wide"),A4.createElement("g",{id:"query_run_wide",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},A4.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",className:"backgroundfill",fill:"#4285F4"}),A4.createElement("text",{id:"RUN-Copy",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF",className:"foregroundfill"},A4.createElement("tspan",{x:152.764,y:74.5},"RUN")),A4.createElement("path",{d:"M110,33.0734278 L135.127584,77.25 L84.8724165,77.25 L110,33.0734278 Z",id:"Triangle-Copy-2",className:"foregroundstroke",stroke:"#FFFFFF",strokeWidth:6.5,transform:"translate(110.000000, 53.500000) rotate(-270.000000) translate(-110.000000, -53.500000) "})));d();d();var pje=Jn(gf()),mje=Jn(ur());var lle=({model:n,source:e,selectField:t,onComplete:r})=>{let[i,s]=(0,mje.useState)(""),o=n&&e?YMt(n,e):[],a=[...e.fields,...o];return m.createElement(Hh,null,m.createElement(zh,null,m.createElement(wd,{placeholder:"Search",value:i,setValue:s,autoFocus:!0})),m.createElement(Vu,null,m.createElement(Du,null,i===""&&m.createElement(tp,{fields:a,filter:l=>l.type==="turtle",showNested:!0,selectField:(l,f)=>{t(f),r()},topValues:void 0}),i!==""&&m.createElement(m.Fragment,null,m.createElement(Sg,{topValues:void 0,searchTerm:i,items:a.map(l=>({field:l,path:l.as||l.name})).filter(({field:l})=>zq(l)).map(({field:l,path:f})=>({item:yf(l,f),terms:[...vf(l,f),"query"],detail:_f(f),key:QMt(f),select:()=>{t(l),r()}}))})))))};function QMt(n){return"load/"+n}function GMt(n){return n.type==="query"}function YMt(n,e){return Object.values(n.contents).filter(GMt).filter(t=>t.structRef===(e.as||e.name)).flatMap(t=>{try{return[(0,pje.flattenQuery)(n,t)]}catch(r){return console.error(r),[]}})}var fle=({dirty:n,model:e,modelPath:t,source:r,queryName:i,topValues:s,runQuery:o,querySummary:a,result:l,dataStyles:f,isRunning:p,queryMalloy:v,queryModifiers:b,undo:F,canUndo:D,isQueryEmpty:M,canQueryRun:q})=>{let[N,B]=(0,cle.useState)(!1),[I,z]=(0,cle.useState)(!1);return m.createElement(KMt,null,m.createElement(JMt,null,m.createElement(ePt,null,r&&m.createElement(m.Fragment,null,m.createElement("div",null,m.createElement(bo,{action:"add",onClick:()=>B(!0),color:"dimension"}),m.createElement(Xh,{open:N,setOpen:B},m.createElement(ule,{model:e,modelPath:t,source:r,queryModifiers:b,stagePath:{stageIndex:0},orderByFields:a?.stages[0].orderByFields||[],closeMenu:()=>B(!1),queryName:i,stageSummary:a?.stages[0].items||[],isOnlyStage:a?.stages.length===1,topValues:s}))),m.createElement("div",null,m.createElement(bo,{action:"load",onClick:()=>z(!0),color:"query"}),m.createElement(Xh,{open:I,setOpen:z},m.createElement(lle,{model:e,source:r,selectField:b.replaceQuery,onComplete:()=>z(!1)}))),m.createElement(bo,{action:"undo",onClick:()=>F(),color:D?"dimension":"other"}),m.createElement(bo,{action:"remove",onClick:()=>b.clearQuery(),color:M?"other":"dimension"}),m.createElement(tPt,{width:"80px",onClick:()=>o(),className:p?"running":M||!q?"blank":n?"dirty":"clean"}))),m.createElement(XMt,null,m.createElement(ZMt,null,a&&m.createElement(Mue,{model:e,modelPath:t,source:r,querySummary:a,queryModifiers:b,stagePath:void 0,queryName:i,topValues:s})))),m.createElement(ole,{model:e,source:r,result:l,dataStyles:f,malloy:v,onDrill:b.onDrill,isRunning:p}))},KMt=_n.div`
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  gap: 10px;
`,JMt=_n.div`
  width: 300px;
  min-width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
`,XMt=_n(o6)`
  display: flex;
  overflow-y: auto;
  flex-direction: column;
`,ZMt=_n.div`
  padding: 10px;
`,ePt=_n(jz)`
  gap: 20px;
  justify-content: center;
  align-items: center;
`,tPt=_n(WV)`
  cursor: pointer;
  &.running,
  &.clean,
  &.blank {
    .backgroundfill {
      fill: #e9e9e9;
    }
    .foregroundstroke {
      stroke: #a7a7a7;
    }
    .foregroundfill {
      fill: #a7a7a7;
    }
  }
`;d();d();var xje="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAAB3RJTUUH5gscFQQblTLmegAANntJREFUeNrtvXmcVNW1+Ptd51T1CA10093MzrMmijhrRHAER9Q4MagI5N3P7/7eez9pMpjcIaMK3ndz3+/mBYwDgyZqonEAx0aNs4JDEocYjYpAQwNNM/VUdc56f5xT1Y0CPZzuOrVhf/9wgKpVa6+zz9prD2ttsFgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi2VvRuJWYF/gCE6XxquvkNZTDha/sj/SrwhaUjhbm5EvGrTkJ/9bV/GSxq1nLtAtBdL6bFq2fepLeiuoQqI/FA4WLTt1hMpRX+4TdsgXrAPoI6pr7kt4w8v298tLD8RxRuM6R2nSrdCkmxTXAV8Vz0/h+RtwnT8j8q60ef8oLRiw6stLj/bj1r83afyV9G/byqHpHXqAuJyIxwFemn6kcRUQl5Q4NAIfqcd7biH/UJ9Ph/2U5rh139uxDqCXqfrp7yu9qrJvaWnhJVqUOAnX2Z+EW9DpF5UW0E/xeRXhUVF5teGSEzfH3Z6e0vowiW2fcGi6hYu8Vs5Wj2PVoxzF6eSraRzqBN6RBMscl2fcIr6ouoW9yinmC9YB9BKVP/pduT9swGU6oGSalhSeSMIpVAnM27mRFZDgn6oATSiviOo9jjhLN150wta429dVvMcS0vBh+rB0E9P9Nq7004xCM80C6cQYX/mcJw5/F5ffSZLFFYfyWeFk7BShF7EOICLDZyx0Ww8bdKZf2W+2lhWPI+kWqkgkw+7kCGAZylzXcVZsnDgmr0fB9bfS39vBVZpmtp/iUNXADO3/6KYd2p2BistfnQL+M1HCQ1XfZ1vcbd1bsA4gAlU331vm7V85w68s+1+UFg5Tp6sjftdQgOAt+gz4mavO/RsvGpOX8+J1P2Y/r4Uf+SmuUZ8S6Hy077IdNJQlNLlJHkiU8uOqW/g87jbvDVgH0EOGzFlS2Xbg4B/p4P4ztLigCMJRu7d6fQfCiGAb8EtB5jZcmF9Tgrp/4RivjXma5lzVno/4nRlBCaIBJ8GLif5SU32Lroi77aZjHUAPqK5ZMjh94OB5fnXZdVqYTPS5ERVUQFTbgF+Jo//aMOGkvHACdf/CsV4L/60+p/aR/9vZFOFvOEneTpbJ/6j6vr4Wtw1MprMVWctXqPrnu8vS+5X/q19dNjknLz+ABJ5aRQqAf1Jfaqqefa8oblvU3cJBXgv/kauXH4LfUAU/xejUNv3PDbdzdNx2MBnrALrBYaNvcf39B8/0q8pmaGHSzXX4lHUCIv8z1dZ2zeDHXostglv/Uwb6Hj9Vn7Ny9fJn7ZBxAm2cmNrKzzfeIYPjsoPpWAfQDRouPXacX9V/tpYWFsb15gmgUIZyi+cmTohDB20R8Vr4ju9xRa5f/qwdQifgtTIxvU3/r9QTJOKwhelYB9BFKv/veyu9qv41OqCkOm5dgvdND0L5X+VPrOif69+vn6en+Cn+h/ok4nj5s3YQUB8n3cyMze9xWnyamIt1AF3gKBC/uuwaLe83Vl2n/VRLjGjw4l2oohfl8ne33CX9vVZuVo/hcdsgawuPqnQz/7z1V9Ivbl1MwzqALrBh9qKDdGDpdEoKkkA8Me9XEAQVLQW+U750Rc6iktYNepHfxgVxhf5fs0P7ouD5LVsZH7c+pmEdQCcMveB21+9fdJ0OLDlaRfJi9G9HAE5WdFIufm3rnQxNN/FP6lEcd8u/inqU+imd0fpYsixuXUzCOoBO8A+tPFL7FV5HSUFgq3wY9kKCBUFNAjcNWvrWqL7+vZaNXO63clK+jP5ZO2SigFbObNvsnRO3PiZhHcAeGPI/FyX9gsT12r/4EHWdvDw1Fep0LHBNX/5Ow38yIrWD6/10vAt/e8Jro5/Xyk36ZrI8bl1MwTqAPeAl9HhNOldpWd5FvB0QVNUBrq9YuuKwvvqVtkYu91s5Nu7W7tYKAuqB16Jnphr1wrj1MQXrAHbDkJrFRaA3UZQcTlEybnX2TDAkH+6j00Y9/VGvP9O6f2NkuoVp6uPm6+ifIbVNi9XTGanlyaFx62IC1gHsBt/3Twcu1eICyPmZv+4hZFNnr92W3v7NXrdFK9/WNN+Iu51d0rUF/BQnoVwRty4mYB3ALqicvai/wiyUCi1Kok7+myk8HLQf6E0VS9/uvAJRF6n7IQerx/Wq+T/6A/hp8Fs1CTo9XZs8MG598p3879lxoHo2cB4CJNxsMk5eI9ko4HIf76TeENn8Xzheminqc1TczesyPvgpAI5R1eu8lYNsH98D1jhfoermReXATFT7IwKuOSYSBEWrgZnlS98qiSpv0xqOVI/JqogJoz8ETlA9IOjbU7Rx+xFx65TPmNO7c4TChcDY8L/NQrJKX6hhG3pKXQ0J9ZiKYnIYfYiqXq+1SZsotBusA+hA5exFQ0BnqBLk2quCb5YbEBFUGQjMGvzkygE9lZNWjgOuIs8O/XTefpBMrw7mRFd5qqPj1itfsQ6gI6qXAydLOIyKgqS9bDkqc1CA8Z765/fk22tmUwhMB0bl/+LHV3DASZKtHwaMVJieXl5QGLdq+Yh1ACFVNy/cH5iOaiIYRsKVv9YUYmQUoKUoswY9ubKyu9/34RTgsrxKe+hq211wCtq9lgaNuExVT41bt3zEOgCg+gf3i8K1wDf1K0OeNLeBn9fVuHdJ2IrT8PXS7nyv7nuUADNRqkwK/TO4heB0GOuD1UutRHWW93xBadz65RvWAQDaljoCmKaqztc6fVMbtKXjVrH7BA0pAJ1R/uSKkV39WtpjHDDBwMEfgER/Qdyd/0yD4gkX+L5v04W/wj7vACpnL0qoMg04dJcfSHnI1pa41ewRYfh7vKpe1ZXPr57NQJTvKAwwbfTPZCgmB0r7ImBI2JYylFnp2oKBceuaT+zzDkBUjwOu1t1sdovnI5t3IL4athAYrgWAg3JD+bK3Duns8woTgLPi1runuMVQMDC4QeTrbVOAs1B/Ytx65hP7tAOonrO4UMPV7l1e5pW5269xBzS3BX9mmBeQQN8jVZk6+oUPd/u8v5xDFcHcv8SwwT9LQbng7ub4kwRHJYsVZqZrE7HXdcwX9mkH4Psarnbrns/6NqeQjcF1dGra2yHZqcB1nzftOGb3xmASweq/cagGW39FQwVxdv+AQt99sio5qaBkAvusA6ies6QU1ZlA1R7f/rAMmLN+S7AjAOZFAcG/DlDVGwc/8+7XTsWtrmEUMF2VAuP2/UMKKoTkwD0rH26PFgDTU88V7Be3zvnAPusAfM8/C5gQzP278IXtrcj6LcF/m/aSBB0f4Eo/nT6x419t+RdElauB44xrF+2jf8lIwUkInZ5dCI5LHwv+1VpbamCLe5d90gFUzV40EHSWKgO6lOWSiQLWbUF2tGZv7TWQoao6Y/DTb2evFdvWxKHANNV8r3qwewqrhIJB4XpNJ40IE6ZcYFqatj6roGQK+6QDUNUJwLjuxvKyoxWnrhFRRQ3bJ5P2KOBi3/O/BVBfg6swFTAyY041OPhTMlIQtwuj/84cgeo0/9mifTpRaJ9zAFU1i6qAWUBJt3JcMzsC67fAtvBcgGFRQNjaclWdySttpWnlG8C1JqX7ZsiYvmiIkBzQtdE/aweRzLbgNb6ke72Ckknscw5AfS4HTunRyyuCtKRw1jYG5wJMe2vCKEDh3P03vnyxKDcC+5vWjAyJYige4SBOt0f/zLbgfgrTveeT+2yi0D7lAKpnLx4FepOiySg5rrJhK7K1Ofgf06IAERTpP6Ct8d82FAy81rxMx/ZTf0XDhET/TLt6ICf41yTf4+S42xQX+5QD8FWvgYilrUWQtjSyZjPi+eZFAYCgrC+sOvTFijPKhexhIaNw+0HxcCeYu/RQ/7B2QjXojPTywn0yUWifcQBVNy88DPR6VRzphf0u2bQN2bwj7mb1THeUJreYPwy7lPWFgzsUEsp/MqN/8XAhkXllIz1OBZiI742Nu21xsE84gOo5i51gtVsP75UBWwRJeUEUkPaMeXk6NAAHn7/2P5Jnqs4JamcY1IhEGRQPcQiOOUa0RHCv2ECFWanlBT2uoGQq+4QDUE8zq929imzegWzaHnfzeqa7Km1OkkeGXsSXxcONiAJUg3JfJSMd3MxlTb3g0MPj3ePx/QvibmOu2esdwNAf/C6p6HRg/14VLIJ4Ps6azUhbOjwcFHdru6e/g/JJ6UEsHXIBvogRUUDBICiqDjP+eknfcEpYAsxML090u4KSyez1DsBrazsJuEL7arN7SzOyYVswghq2HiiqeOLyePUEPi09EIf89WGqQbmv4pFOe8mvXrR3GB2epj6Xxt3WXLJXO4BhNYuKNUj4GdInPyCC+D7O2s3QEtxGYdS2oAQHY1eVjOSRoReREjevo4DCCqGwMnzre3s6F9yvVgDMSNUmu1xByXT2ageQVh0LXNhno3+GbS3ZRCHTtgWDM3HCU1Xn8kHZ4XkZBWQTfkYFCT+h4n3FaLpYQWlvYK91ANWzFw1QZZbCoD59JTOJQnWNSFNr8GcmRQFhesz6wip+P/QyWpxkXkYBhVVCQXkfO9fgpKQL3JCuTXZaQWlvYK91AL7qecDZ2Y3jPkaa2nDqtoCJiUIEkcDyyjN5Z+CxeRUFZBN+RgQJP7mxBkeq6pT08tK99v3IsFc2cMjNSyqBWQqlOclyCfaSkfVbkO0mRgHBgmBDspyHhk1ih1ucH1FAqENhdefFPnrNDu0VlCbjtx0TVV6+s1c6AA/vUuC0XL+E0tyGs3azsYlCDj4vl5/C6+Un5kUUoASFPktGhKW+cqaQAByg6I3e8oJkzGboU/Y6B1A9e9EI4CZVLcxpjmsmXdjkRCFVtiX689Cwy2hM9kdiTBTKmK54qJAo6/OFv53t0B4FXKnqnxCTCXLCXucA/GAF9/hYyluJIK1pZK2hiUJhFPDWwDH8qeJ04k4USpRGT/jpuSkE0KGqzGh7rqA4ssA8Za9yAJWzFx4M3AC4vZHw01Nk4zaksSn4HwOjgCa3mIeGTWJjQUUsR4R3Svjpl1Es97YIH93Fgn4r97+eG/YaB3DgD5c4KFOBo2J96bKJQg1BopChUcCfy47m2apxsSUKJfpD8bDeSfjpuSkElHLQWV5tYVk8WvQte40D2NbsHQ1M1vZroWNFGnYgDWG6sIFRQJtTwMNDL2Ft0dCcRgF9lfDTY32Clp/j458XnxZ9x17hAEb98LcJYDrKAXnw7ndIFGpAUmljo4C/9TuEpdXn5y5RKPyN5MBg6y8f6q+HawH9UJ2Zfj45OG59epu9wgG0tKROAK7Mu9v7GoNEIRPJJAo9NnQin5Xsn5MoQAkSfkpGOrh5VKUvvF34DPX14rh16W2MdwBV31tSpKozgKF5Vdo2myjUiLSm8s01dU1/lC+KR/Ho0AtJ93GiUGaWVFhBmPCTP88y7FaFKDPTtYnhcevTmxjvADTlnwFcovk6z97ajKzfakTBja8iqvji8GTVuXzU/9A+PxzkJIMqv04yf17+DGG9hzGqcmXcuvQmRjuAqprF/UFnoZTn0YDRTodEISNvFw6jgLVFQ3l46CW09lGiUHb0HywUVOTjg8zcKKYu6I3p2oID49antzDaAaiv5wDnqihx7vt3yo5WZF3mRqG4lekeEr6dz1WO470Bx/RZFOAUQPHIDum++csxqv4U1QvzXtGuYKwDqJq9qAJ0pir98/pJdLhXkB0GJgqFUcCmgiBRqMkt6tUoIHvDT3X7/X75SocbhaZ4tU8dFbc+vYGxDkBVLwLOlGDtOG51OiVIFzb0XkEUQflTxWm8MeiEXo8C3KLwfj/HBLsIKAcp3OAvLzb+XkEjHUBVzeJhwAxVLcqHQz+dkr1XcCsYmSgURDFbE2U8OGwSWxL9eiUK2GXCT54TrgUAXO37qePj1icqRjoA9f0rAeOytKQ1FaQLG5wo9OagMbxUcVqvRQGJUigeIWbdThocER6mMCO9vCCPTix0H+McQNXsRQcBN6Ikjes0gGzYrrK1pSVudXrUBFWa3BIeGj6JjQWDcCJ4gI4JP26pQc+RnaKAS9XX0+PWJwpGOYChcxY7qnodcHTenfrrAgpIKr1emlp/LbAlb88u7I4wCniv7BieG3xWdHEunxYNcT4xypFnTSEoVIDOSj9X1C+6xHgwygGkfT0SmAw4xnWaTJKSyGNuMvFzoDavty53g6jS6hTy8LBLqCuq7nHREBE8TfPLZD/5JZA2zRcCmUWM8yB9dtyq9BRjHMDQ796fQPV64BCzTtMEhHsVXwJ3198wbgPIAoTNpkYBH/Y/nCerzu1RunDY5DdJ85AUOA8Bb0peFCHsrikEVMsUZqWXJ8vj1qcnGOMA0unUaOCq4IUxbeTUjMoPJjTxNkCywHkReNy4SIYgCkhLgj8OvYgvSkZ165hzOPdvBRaM/CXr3DPa1iMsAGkxzhm2t/tM9fXCuHXpCUY4gKE3LykEZiiMMPGFQQWBvyPcW/cf16UA6s8Z3SLCAmCdcR0/jAL+UXoAjw2ZiCdOd6OAF0V4rF2c8zjwohFbul8zhYBqMTAzXZscGrc+3cUIB5DGPw241MjQXxUEH1iULHA+6Ph3bsJ9E3gIA1OFRIMbhZZWn8/H/Q7p0rZgOPpvA+aPmEtD5s8T49oagPkC24xzhoAG4d2JqnpF3Lp0l7x3AFU1i/qFCT+DTVw0C/mzI3Lf2p9P8Tv+4YZzR6dA7hbhc+O6fXhEeHXxcB4eejGtTqLzKCB4fM+I8OxX/8qBZ4GnTIzwgmMBmgRuTD2XPCBufbpD3jsA9XU8cL6R237BnYQp4O7186Z+tqvPDOif/DNwnyCGnQ5sTxR6tmo8fyk7eo9RQBAIsYlg9P9alRT37PT2cEq00cQoIHRb3wC9TjedaYwXy2sHUFmzaBAwC7TMxJEh5E1H5Pe7+8vPv/VNX0QWAR8YNwcOo4ANBYP5/bDLaHILd70t2H4726MIL+1enPMy8Gi4x24YgioOMNV799Uj4tamq+S1A8DXicBYA3tDcFWYSAtw5/p5U+v29NGGCWM+BhYCnmmjXyZR6MWK01kx8HjCOr47myL411oRfjNyLrs9BemOa2tB5DfAGtOioQ6tPURVr/f+VObGrUlXyFsHUHnzwiEoM1AtNm5kJHtN+J9E5ImufN4R57fAO+ZtcQb6NiYH8tCwSWxNlO4UAnS4m/VBV1jRmTTXdVYCDwrZ1FtjkPZZ3NV+qvm4uPXpCnnrAIBJCCcb+fKrIrANYX79vKmbuvKdTROO/xL4jQhtJkYBDj6vlZ/IK+Wn7KpTfSrCPUNvJ9WZLGdsawrkHoRPDHv/s9YARqJ6kz6XLIhbm87ISwdQOXvR/sB0Vc17A+6KcL3iGdeRZ7v5vUeAVzsOJWYQOOkdbikPDZ9EQ3JAdi0gnM7f57q832VpieT7wBIRUbPssFMUcJmHnhq3Pp2Rdw5gv5895KB6jcKxJi78haN3gwjz190+tVs1wRsmjKkn2A9vMqvbt0cB7ww4ltrKsXSo6/u+wOKht+J1VVZibJMvwn3AX+NuV49sEVxmVKUwM7U8WRK3Pnsi7xxA8+bmw4FpqOadbl0hdFqPuq77Uk++74jzJFBr4NEgBKXFKeQPwy6jrrASUTzg7hHz+KS70hLj058AdyOSNm1KBNkt0gko4+LWZU/k1UtWXXN/QlWnAYeZtxiWzRFfK8iddbdN7lHO/6YJx28R+LWKbM5INYfgiPAH/Q/n6apzAFaI8GDPpcmDoQzzCJQegOp3vNqCgXGrszvyygH4fupY4GpFTVz7y/Cgi9vpaveeOLB1zYtl6W0vZI7bmoQQJAo9MuwSnq4+e/GIuazpqazE2am1wAKQVgODgMxawFm++hPi1mV35I0DqJ69sBCYDjrKxCO/wUk3+RSRe+vuuK7T1e498cbzl5b++KOfVAxu2xQ6AJN6fzAV+LTkAGqO+nk1b6QiPUxBHgNeMjNdGFAtIUgUqo5bn12RNw5A4RRgkpGePnhNfeC+4uLCv0SVV1fIZWdufOmk8RueD+Wb5RCFoPKxIteVb3zvmCiyEmenNiEyH2S7aTsCkHXdp6B6Wdy67Iq8cABVc5aUqjJDocrElf+w2scHjjhLVv3kKj+KqNU1jFKYnvTThZPqHmVYS52ZUUCg7oGK3jDi6Xcils+WZ4BnjSukSjZduEBhero2sV/c+nyVvHAA6vlnARNN9fCCpIF71s2d3O3V7o5s/z6iylXAcQoctv1jJqx/KjwTZ1jnl+yW6LebPC9SBefk+LatwAKBBvN6SNZ1H6fK1fpaeV49yNgdQFXN4oFhuu8AE0d/CSb/KwXnQYk4UW1McyhwvSoJFXBVuWTdExzQ9IWBUUC2ysEwVZ0xeNnKoiiyHHgReMI8K4QFRFVdYFq6afthcevTkdgdgPr+BcA48x5rqHFQ3urO+jumrI4ia933cFWZAhwh0l4i5IAdX3Bx3RO46hkYBWSPxV3s458RRZR7drpZkDuBOhMjxZDDwZ+qr5bkTaJQrA6gcvbCKmAWUGLkvl9Qn/AlER6NKirt8Q3gOu3wlmvoCCauf4rDtn+Mb2AUELqyClVmVSxd2T+SKDfxJvB7405Kk4kCEJRr082pb8atT4Z4IwBlEnCqcU+TTMKPbAcW1M+btjGKrLVzKFBlOrB/x0E+87oPa1nHpLWPUuCnjIsCOrys5/nouVFkJc5qbhO4G+Qf5jnCzLYg+6E63VtemBd5LrE5gKrZi0YB01FNmjb6BymuAsKzgvN0VHm+z4nA5e3FgzsQ/sE5G5bzza1/wccxruuHZ+P7gc6qWPpWRRRZTrLoL8D9JiYKQfa06OWq3slx6wIxOYAzfvWOqOpVwGjzHiGEo89mgQX1d0zZGkXSmu9SojATGLK7wV2ByrYGrlj7CCVeU0cdDCE7dTnDh4ujSHLO3O6BLAY+ULPGjcASQRhQrcoMvzYRe6JQLA7g43/85RDgelU174YfyJzzftwR58WoonyPM4EL9/Q+azCC8q1NL3NC48owCjDLbhKUzCoCZlQsWzEsiqyE6/wduFeQtEluMIMGnmuip4yNW5ecO4Bh313i+qpTgCONTPgJwvT1CHeumzelOYqs1XMoIxj9B+3JFJnxc2BqG1eufZiydCboMLH7c4KPXhlFgJzVqmGS0dti4DQgnBINAmama4sGxKlLzh1A2vOPASYHFXPjbHrPCHV+qKhQ3ogqS5XzgHO60oc1PGt8UsNbnL7p1bASn1kGDM/GJ1BuLF+28sAoshLj06uAuxBpNTFdOFy/OFvVOy9ONXLqAKpqlhSo6o3A/iaG/mFH+0Lgri9/NjVSws+aGgajzARKu2IKCf/Rz2vmyrWPUNHWEDgAEzs/HKOqkys++Gu0RCEnqKBkXk/KrgWUgs5K1RYMjkuP3EYAvncicKWZHpvM8H9fUTL558imUC4GzuiuKXzg2C3vMW7jC4FapjnSQF9RdIr/ecuRUUQlxqU2CMxHZIeJfSpU+XTUvzQuHXLmAKpvXlSsMAPd/Wp3fqMIfAgsXHXrtdESfuYwHJipUNjd91cFivwUl6/9I0Nb1hkaBSjAwajeUPX029FOxYn7FFBr4nwyjAIKgBnp2uSIOHTImQNQdCxwkYpiXL5/sPHvA/duuGPax1FEffFjRH2uAo7vyRqeEEQBR2z7iPPrn8mm3ppF1mldnfa846NISoxv3QLMBxoNjgKOR/UqfaUg5w8yJw6gqmZxmcJMlEG5bmBvEC62vY0jv4sqy9nGwcD1KIkev7cCCfW5tO5x9mtaFRwRNqzzh2tAw1WZUf3Mu4XRpLkvCDxh6hFhUFfh+nSzHpLr38+JA1DV84FzgqRWs0arcLeiDbhrw9ypq6LIWvsjXJTrgKOjmkGBA5s+4+J1S3HVNzAKyJ6KuzSVSp8WRU7y7NYmEe4EWW/o1iiqHAU62V/eL6eJQn3uACpnLxqMarjabV4nDTV+1RHn4aiy/BaOAiZrL+zfqYCjQaLQodv/jo9j3PAXXIjKYEVnDn56ZWkUWY64rwMPh0k3hiEET5TrfL/16Fz+ct9HAKqXAKcb+FTCZD9pAu5cP29KfRRZa75HUpUbgIN6ww1mDgeNaF7LZXWPBYlCBjrYMAq4wEv746PIcca1tolwF7DKyCggmAocqOgNqeXFOUsU6lMHUFWzaDgwA9VC41ZpFcK6VstFZFlUcb7HGODbgVPpJRVDOedtqOXobe8bGQWErqwMmDVo6YpIa0RuSdG7wG9NjAKCM1IAXCmaHpOr3+1TB6C+XgWMMWzaH+gerFdsQWR+/bypjVFkrfkuxSg3AcN60w8K4AtUtW7kirWPUOS3GBcFBAt3AjAWdGIkWads90SchcDfjIwCghdlmKrO8J4vKM7FL/aZA6isWXQQcAOqrnln/rPD9FJxnOVRpfkepwOX9MWolJkKjN34J8Y0vm1kFBA4gaB8dvmyFUOiyHL3G/8RyEJEzLtqvb2O4sXq+9/KxW/2iQMY9cMHBV+nAEeb9QgCwiut64H59bdPbooia81s+hNUParoq8HZFxiU2sqVax6mX3p7GAWYaHlOQvXyKALk4CcV4X6Bdw0LhgL9g2dXrsqstucKyvr69/rEATQ3txwNTMkWzjCJ9vvs/+CKvB5VnA/nAuf25euYORx0asPrnNbwmqGJQoKG5bPLl63YP4qs5PjUF8GCoBh31TqQ8d3niESroNQVet0BDJlzXwL0RoUDTXv3IbMqLasQfrNu3tS2KLJWz6GCIN23f1+bQrOJQg8zKNWYbY1JhGdEvqHotce++n40k4k8DLxuYh8MR6B+qM5K1yYjVVDqjF53AL7njQG+bVrnC8geVPrtgNLi9yJLUy4CvpULU2SigNGN73LWxheNjAKCYwHqokxd1dh8RBRRiXGp9SIsAGkyMggIdD4DNFIFpc7oVQcw/LuLixSdgTLMtBN/EK5GCx8L3PvJv3+7y/fZ74rVcxhKcNtRUa5MoQLFfhuXr/0j1a31ZiYKBTsCh6nqtMHPrIx0o5Coswx4wcQoIKydUKjKjNRzyUgVlPZErzqAVFqD1W4jR38QQYGF9XdM+yiqLPW5Ajgxl3daZqKAo7Z9yHn1zxmZKNRhJfxqL+UfG0WWe3bbZpD5wFYT+2T47E4kYgWlPdFrDqDq5kX9NLjhp8K4hT/IzFjeQ7g/qqjVNRwATEdJ5DoQUoECP82ldY8zsnm1kVFAcJ8eo4Dpg55aEe1UnCRrgWUGvv9B11Fc4Mb0c4lIFZR2R685AA1qvp9npKcNCv2lgbs2zJv2eRRZW25BNEj4+UYclshEAQfv+IQL1z2JY2iiUOiRJ4nPKVGkJMc37QAWiMhGw/xgYIXg0R2jcF3r6xW9/iB7xQFUzV5UAcxStL+Jc/9Q49dxnN9HlbWtjSOAqarx7YBm7hW8aN0yDt7xqZGHg8KV8CpVnVmxdGWk8tmuI68ADxuZLgxo4AamOtu3RqqgtCt6xQGoavtqt2HvfzD6S7PAgg1zp6yLIqvueyTChJ+c53V3JHMMaGTzai6re5ykGpooFLytE338cVHkOONSbQK/AVabuDsVTgUOBr3Bf64g4lXrX7FNVAFVsxcNA2aoUmTi3D/U+AUVnogqy/M4Drha2w8TxUbmXsHz6p/lqK0fGBkFhP1pADCrfOmKSOWzXaf4beB3JiYKEV4QD1zt40eqoPRVIjsAVb0SOJFcLnf3EuGhn60o8zfMm7Y5iqzVNRRqkPAzIh/cYCYKqG7dwBVr/2hkohBko4Bxik6IZI9x2zwRuQf4xMQoINweGa5wU/r5wkhXrXckkgOounnxgcCNoAkj5/7BlOUpHKc2qixVTgUuy6dpUOZGobM2vsjoxneNjQKUIFFo0LK3qqLIcse9/CEii0y8V7BDdseleF6kCkod6bEDOOZ/vyWKfx3KMXEbpyeEc/+NwPwN86ZsjyLryxpKCWoeVubTfXWZOjPlqS1cufZh+nk7jIwCwuDyFJTLIsmRkxSRJUDksu7xGCJTQYmZ6ecS/XpDZI8dwPrPPzwSmKrZ2aY5dJijP+I67qvRBTIemJBHg3+WzLbgaQ2vc3LDG0ZGAQSJQoXA9IplK0ZFEZUc1/YZcDciaePMAKgoKOcrRKqglKFHDmD47PtdVb0eONjAAYUw33+1CHetmzu5JYqk1XMYBMxCKctXW6hA//QOvr32YQamtpgZBQQ6j/ZVr9r/pWiJQiI8BLxpoBmCS1ahDJiVWl4Yucp2jxxAG6nRwNX0Zn2rHKFkN+gfcBLuysjyfCYCZ+XzYJKJAsY0vs2Zm14Kk4TyWeNdo6oucP2Wbc2RtlkT49N1CHcCLSamCwcn1hmL710YVVa3HcCQm+8rRLlJYYRpLz+Q6fefINy77tbJ6Sii1tRQTTD3L8730UQFir1Wrlz7MJVtG4OpgIFOADgC1anlT70bqXy2iPMY8Kc8f2y7Ux7QYmBmujYZqYJStx2AR/pUYFLmnmyjCI7nKbAo4SQ/iCrOV64ATs6nhb/dkYkCjtn6PufU14Y7ywYo3rEN7QUEr1Mv/Y0oshLj2hpE+DUi20yMAsI6iier6hVR5HTLAQyds6gUmKWqg0089BPOff8swn11t0e7329NDfsB01VJmmKJTKLQpLpHGd681tipALA/6PTBUROF3MSzwNOxn9rqAYHKmgCmp59L7t9TOd1yAGlfxwMXxN34nhAGLGkR7q6fN+0fUeX5yrXAsSYNopko4NDtnzCh/il11DcuCsjkbAOXe56eFEVUYmzLdkTmC2wyOAr4pqLX9vSymS47gKo5iwahzFLVMhNH/1Djt4CHospaVcPhwLTg1jCzCBKFfMZvePHZBF6ki07jIoxbhgAzyp98K1KikAgvA48a9yDJ1k4QYFp6eeLwnsjoegTg60RgrHkT/2y6b6vAnfXzptVFkbX+FhxRpgGHmdhpUFBh7VHbPvz3FqfoTgHPxBTu8HDQhficGUVOYlyqJbxXcK2JUUBwUpJDUa73Xq/u9ppel75QVbNoiCozQEtM7PThMeU/Cc5jUWWl2jgWuNbAvtLhugMeGvGJvuHiPwi8Y2AaR6YdgxRmlj+5MlL5bMdxVwAPmJkoROZg1zW6veG4bre9S/J9nQScbKZxAGE7sGD9HVM2RRG17gckVZkOjDIwEMq8/58h3C1/xGuccPwq4C5E2ox8tEGHPEdVz4sixzmrNU2QKPQPIxdFgznRSEVv8mq7d69gpw6g6uaF+wE3qmqBiXP/8EV9BkeeiSoqneJk4AoTd0A7jP6Lywbz16x5HHkYeNXEKCAMf0tRnVWxbOXgKLIShZV/BRabWTQkmy48ydd0tyoo7dEBjP6PxaKEq90GEo4QDSIyf8PcqVujyFpdQ4kqs4BIGWmxEWRsvI+weMB3yW6BNlwwpl5gAcIOE+fA4dt6hh/cQt1z85y+VhFZDPJXI6OAwLtXgc70apNdXhjdowNYvVbD1W51TRv9tb3G/2MO8lJkecpYYGI+FPvovi0A8IB7Rs7lk699QORJYDkGDn9hFFAAOqN82YrhUWQlx6c+Be4WEc88O2Qf3URftcsVlHbrAEbd8ltXVYPV7rhb1xOCkHetIHeumzelOYqoNXMYAHxHlYGmvfwdWCnwu139RcOEMY0g8wUazer2IYHSY1T1qqiiRHgQWGGiHYJsYR0AzErVJgd25Tu7dQAtraljgWsUA4c8yK52O4nkW1FFqXIBvZR+mWvC9Yo24M4R81izu885rvs8sDS8oy9utbtFuB/uAjeUL11xcBRZifHpNcCdImbeKxiu5YxD6VIFpV06gCE1iwpU9SZglIGvPqqKIJ8Kcs+6265JRZG1poaqcO5v5BZoyMvi8Mc9fWDT+cc1icidQH3cyvaI4OEcpejk6ufejlTpSkQeBV4ybdqbsYMqJaAz088XdrpetUtDeb6eBFwWOECzjBDeSKzAfa60r3b3FF+5FDjVwMEgc9PxDmDBiNvZ2NnHJZF4DXjYxI4f3KSlAkxOtXlHRZGVGJ/aGN4otMPI5x7MiU5R3+u0gtLXHEDV7PuTwBTQagP7QYb3EZbUzZsa7X6/GiqBKSgFJtoizFKsBZ7qyuc3nXtspnz2l2YuhAvAQap8u/K5P0eKAhzhaeBZMXB/NHDgWoAyJb28YI9RwNeMpJo6Eoh0sCI+FAlu+Lm3PNnvk8jSlLOA483rAtm5/2aE+SPnsaWr3+tX5L4L/Jag9JRRhFEAwKVeWypS6TB3fGorwe3Cm03bEYDsjsBo9fWsPX1uV17yXGAUJiS577rRbwvywN9+cXmkp/bl9ygELoL8L/axB5aK8EJ3vrBq/GgPuBfkYwO7QGbCeqiqjo0uzXkReMK4jEmy26PFoBf7tcnC3baw4/9UzlncDzg7kBB3E7qHBsU+WoE76++YujqyQI9RwCkGOv/M3H8dwdy/qbtf/ybHfAQsFPCNWwkP9sMLQMcNXrYyUv385Pi2JmCBCOtMTJgKR8STPWW/3X1k5wjA8w8EjjDuobfzsrjyx16SdQwwIu4GdZcO67Z/QHijJzJemFikiNwP/Nm8BcFskZMTPfUjHQ8GcBzeBB4SFQNdgACMQHS31ZN2dgAiBwNDTXvkYamvHQjz62+f2ulqd9dkcjxQaFz/D3rp5wh3jZxLW0/FbJ4w5nOQ3wApQweE6rA/R8Idl24TuBvhM9MWRcK+W4Ayenef2dkBqB4KJIw7+BPo+ywiT/eGuPp/JQEcYtbj3um+g/sTvXL5hfwBeMO4/hCMfKVhf45OIvkX4D7z7hMiMw04xH++LLmrv846gOo5S1xgZNz6drt9gVfeDCyImvCTIdVEf6DSMIef4UMRFg2dS6QtUIDNE49fh7BAoNmoKCDYwUgCw3pDXGJssyewGJEPTXMBobaVvtfcf1d/3x4B+L4DVMatcHcJE36WCvJib8lUpZTgVlpzCEZ/D+He8nJ6rdSXI84TwAsmRQHSvg5Q3lsyXQb8HbhXEM+0qQAwQKF0V3+RdQCqvoS1xo0hHP3XCyyov2Nqt1e790ACiFZxNue2AOAdgQdKvt97PXTTBcdvBuYLbDVp9As1LRz+9PuR7g/IIGdvUpAHEN42alswsw4Q9Omv0e4ARDAv60cA/uAUFPRotXt3hPU+jLFFOPdvA+4aMZcvelu+SHCaUEVMG/zETSSiSwlJnp1aBdwlYE4FpUDR3V7enXUAEuQRRbolN7ftUgS+ALlr3S+u6fFq964Is+cipRDnkvDZvi7wSF/Ib5hwwvYwXXijYfvhTavGHxZ5LaQjTmDjV40ZHQJaRHWXSXFZB+A4rg+dJ4zkBUG2nwL3l0rRe70tXhyagF5ZUOx7WwBCMzB/xDzW99XPiPAK8IiYcJdI+27I5t4W7Z6drgcWAE0GLYxuFWSXU+SsA1h3+3Ue8FncmnaF0OwfAQs/n/ftXvXwAOVFbAHWGzQhWi7Csr78gYYJY1qB34CsyfcoIIx624Av+0K+iLMMqDWhf4QHudY5A4t3mQ+y0zkAQT4l3w9+BBNeD7i3KtGvTy62KP4xPvD3uJvaFVMgbAHmj5hLY1//XpEUrgR+J5Lvp+IUoAmRPnmGifFtW0SYD7Ilr9+Vdj6RMVt3OVDu5ABU9O+w+6oxeYEIAu8g8sD7t0VL+OnkZ1YALQY83mWusDwXP1Q34RueA/cAn+T/PIA1IvppXwkXx32BsIJSvhL6plYJbsTaJTtHACKfAR9Kni6Ah962DeGuDfOm9vpq91d4nzzOiw9X/usF7hw2lx25+t3yxMgPgMX52kcgO/9/E5xI90DsCfes1h2ILADq8zcKUIAvEXl/d5/YyQHUz53aBDyTr882fLCviUifrHbvZBiXVcArcbd5V7SX+OcRx+XVXP72388boogsAf6Sjx0/0ElagNqGC45v7dPfEvd14OF8LaYcvi+vqFOwanefcXbxreeAL/Lt4YYPtglYUD93ap+tdmcYdisp4AkRmvLMFAHClwJ3DbuNPu3ku2LzhDH/QLhLRPL1XsGPRaKXgu+MgnEtrSLcBbIq36ZEHd6XJ5Jn7djtNvnXHEBJovAj8nJuIwDLHcfp09XunXB4AXgjnyzR4Vai36nwTlx6OMhDwFv5VDimw10Qf/BcN3pNiC7gJhPvAr/N03sF3xSRF/b0ga85gC9uvSotIouA1fkSBQTFPmgUkV+vnzulMVe/O/J2NgH3IDTniSkyfCRw78i5pONSYNOEMWuB+SI0500UoALCB4I8uOW84/zoAjtHvtWSFpGFwIdxNz9rhiA9vhm4Jyhwunt2WTjRFVkBLJY8qIgYNgbgARGnNte/Lw6PA0/nxQGYYPLfBvx/ww+Lv8MJ8gjwlGSVi9E0wSCRAu7sN7job7n8bXfEyR8BvxKhLW5n2OF9eUaczm/D3qUDqJs7xUNkPvCKkhfFIf8qIv+1fu7kllz/8IjbaUSYC3wepxlUMwMcT4vD/TIj/qfSMHHMFhG5A+QLjXEq0CH0f9IRZ8mqk47OqW3ksJdU4LfAk2heXKzyhSBzE+PaGjv74G5LJ2+YN/ULEX4syGpiCgTCGv+bEX5cP2/qB7EoARS4vA7MFYmnTnxm1V+CXP9/60qN/1whqq8Bt0mcl4sGBvqbID/ZNOH4WGyTODu9CeTfRfggrl2BcPRvApmLlLzWle/ssXa6FDjLgX8D2ZzrhxuGdE0ItyUSPJrTH/8K1bfii8u9wH+LkI5l7BXqBH7YPxnfwt+u2DTxBD+RcBcShMCpXHf8sNOvE/h+w8QxK2I1RsvgdwV+CLIWcls+KLRDGvhvx3XuTYzf0qU1kD06gPU/n+IJsgT4iYg05mw6EIz8zcD/4+L8v3W3TuvVbL+eMOI2msThNoKrtHPW0VVBlHrgB+Lw6ICfxx/6f5UN541uclx+AfIbEdK5mgeHnb4e4fuJoqJO57t9TfLCOhXHfQz4voislxzVEOu4/oHIre5ZrV0+GNaliVvV7IVFqtwI/ItCdZ/N9kL/IsH59rki8sv6eVPzKkV5dQ2DVLkF+D9U+/C+wPbTPl8A30d5aOQd8a36d4XyZSsGqeoPgH9SKOkz02hYkkP4HOSHBZJ8YP2EY/PGNqnaZEJUr1C4FXQ/VemzShvh+kcT8GtH+Kk7Pt2tDMguq1U9Z3HS9/R80J8o+s1wlO7NlqCiCPKxwM9cVx6ou31qzg+5dIW1cyjxfG4EvguM6FCMM7oZwhFDBB94DeFfnAQvDP8FOdnWisrgpStLPfwbgTmojlB6t/OHftEHXhP4kZfQF7ecd2Le2carTTqKnqnKj4FTFXX2UJej+3bInAcR1gC3iZO4KzGupdtVsbqtT+XNCw8H/k/gGoUBtK/A9rAhGW8uO4DHEO7wXeedTbdNybuH2pFV3yUhPiej1ADnKhRJhzO63bdD8O/wZakHlgD/NXJe71f46WsqnnjLVeFUhTnA2QpF9Nw0oX3CfiZsIKjN998NE8fkvW3SzyX2U/hnYDJodebC3Z46xQ7vSyvwjMBcR/U15xyvRxFQj9QYNntxUUp1LOhNBDcJDcgsEobKddoIws9JUIXoZYG7cXiqfu60bVEMnmtW11CuyoXADcDJQFGHqcye6bCkEn52A/AM8BtJ8uqIX/S8rn8+ULFs5SBV/1JFp4GcCBRn+0k4fO3ZNtoxytwIPElweenrmyeeYIxt0suLk/ipUxVuIrh6r6rj2kBn/eQrNmsB3gC5xxEed8enGqLoFikiGXLz4n4+OkbRi4EzgYPoWjXd7QTFR14GHhdHXq2fO7XLF1jmI6vnMFh9TgcuAU4C9ge6UmS1AfiYoKjHUl95e9Q8cn7eoS+pWPbmYF/lDIK7Fk8G9gNKumibvwO1IE84Iu9umnC8MaXavor3fLJIfT0uHDDGAYcCg+j8PWwGPgfeBPkjIq8kx7dt6A2demVKUjX7fkfxqsA/HOVI4BBgFDAQKARaCUpsfQl8ArwvjnzsFLtr1/34ul6v6BMna35Iwm9jBD5HAEcCBxPUpy8jqMzaQlCq6gvgb8AHInwsBWwa/rP8W+HvTaqfWZloS+tIlENBjwptMxzoDxQoNAs07mQbRz4euX/1xveOGLnX2Mb7U4mQbqtQn0M16COHEbwv5aBFqKQRtgJ1BA7wAxH5yJHEl8645l5d7Oz1tcnDfrZWtmxZLp76rqg6wQqoIuA7uF5ZcVL/9pOr9pqHuSdW/RxxG3FUcYFsGR0RfHHwht1mxsJeXzB82cfSzHYH9VyVwDaK4Ai+4zrexvNG7zO2SS8vdvA9F3wnXA1HRVQc8dyk58sZ3j7xvlgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxdLX/P8dR38DnYZsegAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0xMS0yOFQyMDo0NjoyNCswMDowMN2l/+IAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMTEtMjhUMjA6NDY6MjQrMDA6MDCs+EdeAAAAAElFTkSuQmCC";var dle=()=>m.createElement(Pme,{to:"/"},m.createElement("img",{src:xje,alt:"Malloy",style:{height:"30px",marginRight:"12px"}}));d();d();var hW=Jn(ur());d();d();d();d();function hle(n){if(n)throw n}var Pje=Jn(yje(),1),yle=Jn(Tje(),1);d();function BO(n){if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}d();function Fje(){let n=[],e={run:t,use:r};return e;function t(...i){let s=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...f){let p=n[++s],v=-1;if(l){o(l);return}for(;++v<i.length;)(f[v]===null||f[v]===void 0)&&(f[v]=i[v]);i=f,p?rPt(p,a)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function rPt(n,e){let t;return r;function r(...o){let a=n.length>o.length,l;a&&o.push(i);try{l=n.apply(this,o)}catch(f){let p=f;if(a&&t)throw p;return i(p)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}d();d();var Ije=Jn(Oje(),1);d();d();function z6(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Nje(n.position):"start"in n||"end"in n?Nje(n):"line"in n||"column"in n?ple(n):""}function ple(n){return Rje(n&&n.line)+":"+Rje(n&&n.column)}function Nje(n){return ple(n&&n.start)+"-"+ple(n&&n.end)}function Rje(n){return n&&typeof n=="number"?n:1}var j0=class extends Error{constructor(e,t,r){let i=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=z6(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=i[0],this.ruleId=i[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};j0.prototype.file="";j0.prototype.name="";j0.prototype.reason="";j0.prototype.message="";j0.prototype.stack="";j0.prototype.fatal=null;j0.prototype.column=null;j0.prototype.line=null;j0.prototype.source=null;j0.prototype.ruleId=null;j0.prototype.position=null;d();var c1={basename:iPt,dirname:sPt,extname:oPt,join:aPt,sep:"/"};function iPt(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');jO(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function sPt(n){if(jO(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function oPt(n){jO(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){let a=n.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function aPt(...n){let e=-1,t;for(;++e<n.length;)jO(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":uPt(t)}function uPt(n){jO(n);let e=n.charCodeAt(0)===47,t=lPt(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function lPt(n,e){let t="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=n.length;){if(o<n.length)a=n.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function jO(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}d();var Lje={cwd:cPt};function cPt(){return"/"}d();d();function l9(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function kje(n){if(typeof n=="string")n=new URL(n);else if(!l9(n)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return fPt(n)}function fPt(n){if(n.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let e=n.pathname,t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){let r=e.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}var mle=["history","path","basename","stem","extname","dirname"],GV=class{constructor(e){let t;e?typeof e=="string"||(0,Ije.default)(e)?t={value:e}:l9(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=Lje.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<mle.length;){let s=mle[r];s in t&&t[s]!==void 0&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)mle.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){l9(e)&&(e=kje(e)),gle(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?c1.dirname(this.path):void 0}set dirname(e){Mje(this.basename,"dirname"),this.path=c1.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?c1.basename(this.path):void 0}set basename(e){gle(e,"basename"),xle(e,"basename"),this.path=c1.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?c1.extname(this.path):void 0}set extname(e){if(xle(e,"extname"),Mje(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=c1.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?c1.basename(this.path,this.extname):void 0}set stem(e){gle(e,"stem"),xle(e,"stem"),this.path=c1.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){let i=new j0(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){let i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){let i=this.message(e,t,r);throw i.fatal=!0,i}};function xle(n,e){if(n&&n.includes(c1.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+c1.sep+"`")}function gle(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function Mje(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}var vle=jje().freeze(),Bje={}.hasOwnProperty;function jje(){let n=Fje(),e=[],t={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=f,s.stringify=p,s.run=v,s.runSync=b,s.process=F,s.processSync=D,s;function s(){let M=jje(),q=-1;for(;++q<e.length;)M.use(...e[q]);return M.data((0,yle.default)(!0,{},t)),M}function o(M,q){return typeof M=="string"?arguments.length===2?(Ele("data",r),t[M]=q,s):Bje.call(t,M)&&t[M]||null:M?(Ele("data",r),t=M,s):t}function a(){if(r)return s;for(;++i<e.length;){let[M,...q]=e[i];if(q[0]===!1)continue;q[0]===!0&&(q[0]=void 0);let N=M.call(s,...q);typeof N=="function"&&n.use(N)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(M,...q){let N;if(Ele("use",r),M!=null)if(typeof M=="function")ie(M,...q);else if(typeof M=="object")Array.isArray(M)?z(M):I(M);else throw new TypeError("Expected usable value, not `"+M+"`");return N&&(t.settings=Object.assign(t.settings||{},N)),s;function B(L){if(typeof L=="function")ie(L);else if(typeof L=="object")if(Array.isArray(L)){let[Y,...fe]=L;ie(Y,...fe)}else I(L);else throw new TypeError("Expected usable value, not `"+L+"`")}function I(L){z(L.plugins),L.settings&&(N=Object.assign(N||{},L.settings))}function z(L){let Y=-1;if(L!=null)if(Array.isArray(L))for(;++Y<L.length;){let fe=L[Y];B(fe)}else throw new TypeError("Expected a list of plugins, not `"+L+"`")}function ie(L,Y){let fe=-1,me;for(;++fe<e.length;)if(e[fe][0]===L){me=e[fe];break}me?(BO(me[1])&&BO(Y)&&(Y=(0,yle.default)(!0,me[1],Y)),me[1]=Y):e.push([...arguments])}}function f(M){s.freeze();let q=qO(M),N=s.Parser;return _le("parse",N),qje(N,"parse")?new N(String(q),q).parse():N(String(q),q)}function p(M,q){s.freeze();let N=qO(q),B=s.Compiler;return ble("stringify",B),Uje(M),qje(B,"compile")?new B(M,N).compile():B(M,N)}function v(M,q,N){if(Uje(M),s.freeze(),!N&&typeof q=="function"&&(N=q,q=void 0),!N)return new Promise(B);B(null,N);function B(I,z){n.run(M,qO(q),ie);function ie(L,Y,fe){Y=Y||M,L?z(L):I?I(Y):N(null,Y,fe)}}}function b(M,q){let N,B;return s.run(M,q,I),$je("runSync","run",B),N;function I(z,ie){hle(z),N=ie,B=!0}}function F(M,q){if(s.freeze(),_le("process",s.Parser),ble("process",s.Compiler),!q)return new Promise(N);N(null,q);function N(B,I){let z=qO(M);s.run(s.parse(z),z,(L,Y,fe)=>{if(L||!Y||!fe)ie(L);else{let me=s.stringify(Y,fe);me==null||(pPt(me)?fe.value=me:fe.result=me),ie(L,fe)}});function ie(L,Y){L||!Y?I(L):B?B(Y):q(null,Y)}}}function D(M){let q;s.freeze(),_le("processSync",s.Parser),ble("processSync",s.Compiler);let N=qO(M);return s.process(N,B),$je("processSync","process",q),N;function B(I){q=!0,hle(I)}}}function qje(n,e){return typeof n=="function"&&n.prototype&&(dPt(n.prototype)||e in n.prototype)}function dPt(n){let e;for(e in n)if(Bje.call(n,e))return!0;return!1}function _le(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function ble(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function Ele(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Uje(n){if(!BO(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function $je(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function qO(n){return hPt(n)?n:new GV(n)}function hPt(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function pPt(n){return typeof n=="string"||(0,Pje.default)(n)}d();d();d();d();d();function zje(n,e){var{includeImageAlt:t=!0}=e||{};return Hje(n,t)}function Hje(n,e){return n&&typeof n=="object"&&(n.value||(e?n.alt:"")||"children"in n&&Vje(n.children,e)||Array.isArray(n)&&Vje(n,e))||""}function Vje(n,e){for(var t=[],r=-1;++r<n.length;)t[r]=Hje(n[r],e);return t.join("")}d();d();d();function $c(n,e,t,r){let i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),[].splice.apply(n,o);else for(t&&[].splice.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(n,o),s+=1e4,e+=1e4}function n0(n,e){return n.length>0?($c(n,n.length,0,e),n):e}var Wje={}.hasOwnProperty;function Qje(n){let e={},t=-1;for(;++t<n.length;)mPt(e,n[t]);return e}function mPt(n,e){let t;for(t in e){let i=(Wje.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t],o;for(o in s){Wje.call(i,o)||(i[o]=[]);let a=s[o];xPt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function xPt(n,e){let t=-1,r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);$c(n,0,0,r)}d();d();d();d();var Gje=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Dd=T4(/[A-Za-z]/),UO=T4(/\d/),Yje=T4(/[\dA-Fa-f]/),r0=T4(/[\dA-Za-z]/),Kje=T4(/[!-/:-@[-`{-~]/),Sle=T4(/[#-'*+\--9=?A-Z^-~]/);function $O(n){return n!==null&&(n<32||n===127)}function El(n){return n!==null&&(n<0||n===32)}function Ci(n){return n!==null&&n<-2}function Ho(n){return n===-2||n===-1||n===32}var Jje=T4(/\s/),Xje=T4(Gje);function T4(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function Ss(n,e,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return o;function o(l){return Ho(l)?(n.enter(t),a(l)):e(l)}function a(l){return Ho(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}var Zje={tokenize:gPt};function gPt(n){let e=n.attempt(this.parser.constructs.contentInitial,r,i),t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),Ss(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){let l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return Ci(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}d();var eqe={tokenize:yPt},tqe={tokenize:vPt};function yPt(n){let e=this,t=[],r=0,i,s,o;return a;function a(I){if(r<t.length){let z=t[r];return e.containerState=z[1],n.attempt(z[0].continuation,l,f)(I)}return f(I)}function l(I){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&B();let z=e.events.length,ie=z,L;for(;ie--;)if(e.events[ie][0]==="exit"&&e.events[ie][1].type==="chunkFlow"){L=e.events[ie][1].end;break}N(r);let Y=z;for(;Y<e.events.length;)e.events[Y][1].end=Object.assign({},L),Y++;return $c(e.events,ie+1,0,e.events.slice(z)),e.events.length=Y,f(I)}return a(I)}function f(I){if(r===t.length){if(!i)return b(I);if(i.currentConstruct&&i.currentConstruct.concrete)return D(I);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(tqe,p,v)(I)}function p(I){return i&&B(),N(r),b(I)}function v(I){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,D(I)}function b(I){return e.containerState={},n.attempt(tqe,F,D)(I)}function F(I){return r++,t.push([e.currentConstruct,e.containerState]),b(I)}function D(I){if(I===null){i&&B(),N(0),n.consume(I);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),M(I)}function M(I){if(I===null){q(n.exit("chunkFlow"),!0),N(0),n.consume(I);return}return Ci(I)?(n.consume(I),q(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(I),M)}function q(I,z){let ie=e.sliceStream(I);if(z&&ie.push(null),I.previous=s,s&&(s.next=I),s=I,i.defineSkip(I.start),i.write(ie),e.parser.lazy[I.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<o&&(!i.events[L][1].end||i.events[L][1].end.offset>o))return;let Y=e.events.length,fe=Y,me,Be;for(;fe--;)if(e.events[fe][0]==="exit"&&e.events[fe][1].type==="chunkFlow"){if(me){Be=e.events[fe][1].end;break}me=!0}for(N(r),L=Y;L<e.events.length;)e.events[L][1].end=Object.assign({},Be),L++;$c(e.events,fe+1,0,e.events.slice(Y)),e.events.length=L}}function N(I){let z=t.length;for(;z-- >I;){let ie=t[z];e.containerState=ie[1],ie[0].exit.call(e,n)}t.length=I}function B(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function vPt(n,e,t){return Ss(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}d();d();d();d();function Cle(n){if(n===null||El(n)||Jje(n))return 1;if(Xje(n))return 2}d();function c9(n,e,t){let r=[],i=-1;for(;++i<n.length;){let s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}var zO={name:"attention",tokenize:bPt,resolveAll:_Pt};function _Pt(n,e){let t=-1,r,i,s,o,a,l,f,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let v=Object.assign({},n[r][1].end),b=Object.assign({},n[t][1].start);nqe(v,-l),nqe(b,l),o={type:l>1?"strongSequence":"emphasisSequence",start:v,end:Object.assign({},n[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:b},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),f=[],n[r][1].end.offset-n[r][1].start.offset&&(f=n0(f,[["enter",n[r][1],e],["exit",n[r][1],e]])),f=n0(f,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),f=n0(f,c9(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),f=n0(f,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,f=n0(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,$c(n,r-1,t-r+3,f),t=r+f.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function bPt(n,e){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Cle(r),s;return o;function o(l){return n.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return n.consume(l),a;let f=n.exit("attentionSequence"),p=Cle(l),v=!p||p===2&&i||t.includes(l),b=!i||i===2&&p||t.includes(r);return f._open=Boolean(s===42?v:v&&(i||!b)),f._close=Boolean(s===42?b:b&&(p||!v)),e(l)}}function nqe(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}d();var wle={name:"autolink",tokenize:EPt};function EPt(n,e,t){let r=1;return i;function i(D){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(D),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(D){return Dd(D)?(n.consume(D),o):Sle(D)?f(D):t(D)}function o(D){return D===43||D===45||D===46||r0(D)?a(D):f(D)}function a(D){return D===58?(n.consume(D),l):(D===43||D===45||D===46||r0(D))&&r++<32?(n.consume(D),a):f(D)}function l(D){return D===62?(n.exit("autolinkProtocol"),F(D)):D===null||D===32||D===60||$O(D)?t(D):(n.consume(D),l)}function f(D){return D===64?(n.consume(D),r=0,p):Sle(D)?(n.consume(D),f):t(D)}function p(D){return r0(D)?v(D):t(D)}function v(D){return D===46?(n.consume(D),r=0,p):D===62?(n.exit("autolinkProtocol").type="autolinkEmail",F(D)):b(D)}function b(D){return(D===45||r0(D))&&r++<63?(n.consume(D),D===45?b:v):t(D)}function F(D){return n.enter("autolinkMarker"),n.consume(D),n.exit("autolinkMarker"),n.exit("autolink"),e}}d();var F4={tokenize:SPt,partial:!0};function SPt(n,e,t){return Ss(n,r,"linePrefix");function r(i){return i===null||Ci(i)?e(i):t(i)}}d();var YV={name:"blockQuote",tokenize:CPt,continuation:{tokenize:wPt},exit:APt};function CPt(n,e,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return Ho(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function wPt(n,e,t){return Ss(n,n.attempt(YV,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function APt(n){n.exit("blockQuote")}d();var KV={name:"characterEscape",tokenize:TPt};function TPt(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return Kje(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}d();d();var rqe=document.createElement("i");function f9(n){let e="&"+n+";";rqe.innerHTML=e;let t=rqe.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}var JV={name:"characterReference",tokenize:FPt};function FPt(n,e,t){let r=this,i=0,s,o;return a;function a(v){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(v),n.exit("characterReferenceMarker"),l}function l(v){return v===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(v),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),s=31,o=r0,p(v))}function f(v){return v===88||v===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(v),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=Yje,p):(n.enter("characterReferenceValue"),s=7,o=UO,p(v))}function p(v){let b;return v===59&&i?(b=n.exit("characterReferenceValue"),o===r0&&!f9(r.sliceSerialize(b))?t(v):(n.enter("characterReferenceMarker"),n.consume(v),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)):o(v)&&i++<s?(n.consume(v),p):t(v)}}d();var XV={name:"codeFenced",tokenize:DPt,concrete:!0};function DPt(n,e,t){let r=this,i={tokenize:ie,partial:!0},s={tokenize:z,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0,f;return p;function p(L){return n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f=L,v(L)}function v(L){return L===f?(n.consume(L),l++,v):(n.exit("codeFencedFenceSequence"),l<3?t(L):Ss(n,b,"whitespace")(L))}function b(L){return L===null||Ci(L)?q(L):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),F(L))}function F(L){return L===null||El(L)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ss(n,D,"whitespace")(L)):L===96&&L===f?t(L):(n.consume(L),F)}function D(L){return L===null||Ci(L)?q(L):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),M(L))}function M(L){return L===null||Ci(L)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),q(L)):L===96&&L===f?t(L):(n.consume(L),M)}function q(L){return n.exit("codeFencedFence"),r.interrupt?e(L):N(L)}function N(L){return L===null?I(L):Ci(L)?n.attempt(s,n.attempt(i,I,a?Ss(n,N,"linePrefix",a+1):N),I)(L):(n.enter("codeFlowValue"),B(L))}function B(L){return L===null||Ci(L)?(n.exit("codeFlowValue"),N(L)):(n.consume(L),B)}function I(L){return n.exit("codeFenced"),e(L)}function z(L,Y,fe){let me=this;return Be;function Be(st){return L.enter("lineEnding"),L.consume(st),L.exit("lineEnding"),tt}function tt(st){return me.parser.lazy[me.now().line]?fe(st):Y(st)}}function ie(L,Y,fe){let me=0;return Ss(L,Be,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Be(Qe){return L.enter("codeFencedFence"),L.enter("codeFencedFenceSequence"),tt(Qe)}function tt(Qe){return Qe===f?(L.consume(Qe),me++,tt):me<l?fe(Qe):(L.exit("codeFencedFenceSequence"),Ss(L,st,"whitespace")(Qe))}function st(Qe){return Qe===null||Ci(Qe)?(L.exit("codeFencedFence"),Y(Qe)):fe(Qe)}}}d();var HO={name:"codeIndented",tokenize:NPt},OPt={tokenize:RPt,partial:!0};function NPt(n,e,t){let r=this;return i;function i(f){return n.enter("codeIndented"),Ss(n,s,"linePrefix",4+1)(f)}function s(f){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(f):t(f)}function o(f){return f===null?l(f):Ci(f)?n.attempt(OPt,o,l)(f):(n.enter("codeFlowValue"),a(f))}function a(f){return f===null||Ci(f)?(n.exit("codeFlowValue"),o(f)):(n.consume(f),a)}function l(f){return n.exit("codeIndented"),e(f)}}function RPt(n,e,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):Ci(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):Ss(n,s,"linePrefix",4+1)(o)}function s(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Ci(o)?i(o):t(o)}}d();var Ale={name:"codeText",tokenize:IPt,resolve:LPt,previous:kPt};function LPt(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function kPt(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function IPt(n,e,t){let r=this,i=0,s,o;return a;function a(b){return n.enter("codeText"),n.enter("codeTextSequence"),l(b)}function l(b){return b===96?(n.consume(b),i++,l):(n.exit("codeTextSequence"),f(b))}function f(b){return b===null?t(b):b===96?(o=n.enter("codeTextSequence"),s=0,v(b)):b===32?(n.enter("space"),n.consume(b),n.exit("space"),f):Ci(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),f):(n.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Ci(b)?(n.exit("codeTextData"),f(b)):(n.consume(b),p)}function v(b){return b===96?(n.consume(b),s++,v):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(b)):(o.type="codeTextData",p(b))}}d();d();function ZV(n){let e={},t=-1,r,i,s,o,a,l,f;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,MPt(n,t)),t=e[t],f=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(o=n[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},n[i][1].start),a=n.slice(i,t),a.unshift(r),$c(n,i,t-i+1,a))}}return!f}function MPt(n,e){let t=n[e][1],r=n[e][2],i=e-1,s=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,l=[],f={},p,v,b=-1,F=t,D=0,M=0,q=[M];for(;F;){for(;n[++i][1]!==F;);s.push(i),F._tokenizer||(p=r.sliceStream(F),F.next||p.push(null),v&&o.defineSkip(F.start),F._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),F._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),v=F,F=F.next}for(F=t;++b<a.length;)a[b][0]==="exit"&&a[b-1][0]==="enter"&&a[b][1].type===a[b-1][1].type&&a[b][1].start.line!==a[b][1].end.line&&(M=b+1,q.push(M),F._tokenizer=void 0,F.previous=void 0,F=F.next);for(o.events=[],F?(F._tokenizer=void 0,F.previous=void 0):q.pop(),b=q.length;b--;){let N=a.slice(q[b],q[b+1]),B=s.pop();l.unshift([B,B+N.length-1]),$c(n,B,2,N)}for(b=-1;++b<l.length;)f[D+l[b][0]]=D+l[b][1],D+=l[b][1]-l[b][0]-1;return f}var Tle={tokenize:jPt,resolve:BPt},PPt={tokenize:qPt,partial:!0};function BPt(n){return ZV(n),n}function jPt(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Ci(a)?n.check(PPt,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function qPt(n,e,t){let r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Ss(n,s,"linePrefix")}function s(o){if(o===null||Ci(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}d();d();function eW(n,e,t,r,i,s,o,a,l){let f=l||Number.POSITIVE_INFINITY,p=0;return v;function v(N){return N===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(N),n.exit(s),b):N===null||N===41||$O(N)?t(N):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),M(N))}function b(N){return N===62?(n.enter(s),n.consume(N),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),F(N))}function F(N){return N===62?(n.exit("chunkString"),n.exit(a),b(N)):N===null||N===60||Ci(N)?t(N):(n.consume(N),N===92?D:F)}function D(N){return N===60||N===62||N===92?(n.consume(N),F):F(N)}function M(N){return N===40?++p>f?t(N):(n.consume(N),M):N===41?p--?(n.consume(N),M):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(N)):N===null||El(N)?p?t(N):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(N)):$O(N)?t(N):(n.consume(N),N===92?q:M)}function q(N){return N===40||N===41||N===92?(n.consume(N),M):M(N)}}d();function tW(n,e,t,r,i,s){let o=this,a=0,l;return f;function f(F){return n.enter(r),n.enter(i),n.consume(F),n.exit(i),n.enter(s),p}function p(F){return F===null||F===91||F===93&&!l||F===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?t(F):F===93?(n.exit(s),n.enter(i),n.consume(F),n.exit(i),n.exit(r),e):Ci(F)?(n.enter("lineEnding"),n.consume(F),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),v(F))}function v(F){return F===null||F===91||F===93||Ci(F)||a++>999?(n.exit("chunkString"),p(F)):(n.consume(F),l=l||!Ho(F),F===92?b:v)}function b(F){return F===91||F===92||F===93?(n.consume(F),a++,v):v(F)}}d();function nW(n,e,t,r,i,s){let o;return a;function a(b){return n.enter(r),n.enter(i),n.consume(b),n.exit(i),o=b===40?41:b,l}function l(b){return b===o?(n.enter(i),n.consume(b),n.exit(i),n.exit(r),e):(n.enter(s),f(b))}function f(b){return b===o?(n.exit(s),l(o)):b===null?t(b):Ci(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),Ss(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===o||b===null||Ci(b)?(n.exit("chunkString"),f(b)):(n.consume(b),b===92?v:p)}function v(b){return b===o||b===92?(n.consume(b),p):p(b)}}d();function H6(n,e){let t;return r;function r(i){return Ci(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):Ho(i)?Ss(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}d();function kg(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Fle={name:"definition",tokenize:$Pt},UPt={tokenize:zPt,partial:!0};function $Pt(n,e,t){let r=this,i;return s;function s(l){return n.enter("definition"),tW.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=kg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(n.enter("definitionMarker"),n.consume(l),n.exit("definitionMarker"),H6(n,eW(n,n.attempt(UPt,Ss(n,a,"whitespace"),Ss(n,a,"whitespace")),t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):t(l)}function a(l){return l===null||Ci(l)?(n.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):t(l)}}function zPt(n,e,t){return r;function r(o){return El(o)?H6(n,i)(o):t(o)}function i(o){return o===34||o===39||o===40?nW(n,Ss(n,s,"whitespace"),t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):t(o)}function s(o){return o===null||Ci(o)?e(o):t(o)}}d();var Dle={name:"hardBreakEscape",tokenize:HPt};function HPt(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(s),i}function i(s){return Ci(s)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),e(s)):t(s)}}d();var Ole={name:"headingAtx",tokenize:WPt,resolve:VPt};function VPt(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},$c(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function WPt(n,e,t){let r=this,i=0;return s;function s(p){return n.enter("atxHeading"),n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||El(p)?(n.exit("atxHeadingSequence"),r.interrupt?e(p):a(p)):t(p)}function a(p){return p===35?(n.enter("atxHeadingSequence"),l(p)):p===null||Ci(p)?(n.exit("atxHeading"),e(p)):Ho(p)?Ss(n,a,"whitespace")(p):(n.enter("atxHeadingText"),f(p))}function l(p){return p===35?(n.consume(p),l):(n.exit("atxHeadingSequence"),a(p))}function f(p){return p===null||p===35||El(p)?(n.exit("atxHeadingText"),a(p)):(n.consume(p),f)}}d();d();var iqe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nle=["pre","script","style","textarea"];var Rle={name:"htmlFlow",tokenize:YPt,resolveTo:GPt,concrete:!0},QPt={tokenize:KPt,partial:!0};function GPt(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function YPt(n,e,t){let r=this,i,s,o,a,l;return f;function f(de){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(de),p}function p(de){return de===33?(n.consume(de),v):de===47?(n.consume(de),D):de===63?(n.consume(de),i=3,r.interrupt?e:_e):Dd(de)?(n.consume(de),o=String.fromCharCode(de),s=!0,M):t(de)}function v(de){return de===45?(n.consume(de),i=2,b):de===91?(n.consume(de),i=5,o="CDATA[",a=0,F):Dd(de)?(n.consume(de),i=4,r.interrupt?e:_e):t(de)}function b(de){return de===45?(n.consume(de),r.interrupt?e:_e):t(de)}function F(de){return de===o.charCodeAt(a++)?(n.consume(de),a===o.length?r.interrupt?e:tt:F):t(de)}function D(de){return Dd(de)?(n.consume(de),o=String.fromCharCode(de),M):t(de)}function M(de){return de===null||de===47||de===62||El(de)?de!==47&&s&&Nle.includes(o.toLowerCase())?(i=1,r.interrupt?e(de):tt(de)):iqe.includes(o.toLowerCase())?(i=6,de===47?(n.consume(de),q):r.interrupt?e(de):tt(de)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(de):s?B(de):N(de)):de===45||r0(de)?(n.consume(de),o+=String.fromCharCode(de),M):t(de)}function q(de){return de===62?(n.consume(de),r.interrupt?e:tt):t(de)}function N(de){return Ho(de)?(n.consume(de),N):me(de)}function B(de){return de===47?(n.consume(de),me):de===58||de===95||Dd(de)?(n.consume(de),I):Ho(de)?(n.consume(de),B):me(de)}function I(de){return de===45||de===46||de===58||de===95||r0(de)?(n.consume(de),I):z(de)}function z(de){return de===61?(n.consume(de),ie):Ho(de)?(n.consume(de),z):B(de)}function ie(de){return de===null||de===60||de===61||de===62||de===96?t(de):de===34||de===39?(n.consume(de),l=de,L):Ho(de)?(n.consume(de),ie):(l=null,Y(de))}function L(de){return de===null||Ci(de)?t(de):de===l?(n.consume(de),fe):(n.consume(de),L)}function Y(de){return de===null||de===34||de===39||de===60||de===61||de===62||de===96||El(de)?z(de):(n.consume(de),Y)}function fe(de){return de===47||de===62||Ho(de)?B(de):t(de)}function me(de){return de===62?(n.consume(de),Be):t(de)}function Be(de){return Ho(de)?(n.consume(de),Be):de===null||Ci(de)?tt(de):t(de)}function tt(de){return de===45&&i===2?(n.consume(de),Lt):de===60&&i===1?(n.consume(de),je):de===62&&i===4?(n.consume(de),De):de===63&&i===3?(n.consume(de),_e):de===93&&i===5?(n.consume(de),Ke):Ci(de)&&(i===6||i===7)?n.check(QPt,De,st)(de):de===null||Ci(de)?st(de):(n.consume(de),tt)}function st(de){return n.exit("htmlFlowData"),Qe(de)}function Qe(de){return de===null?be(de):Ci(de)?n.attempt({tokenize:mt,partial:!0},Qe,be)(de):(n.enter("htmlFlowData"),tt(de))}function mt(de,Ge,rt){return Bt;function Bt(un){return de.enter("lineEnding"),de.consume(un),de.exit("lineEnding"),_t}function _t(un){return r.parser.lazy[r.now().line]?rt(un):Ge(un)}}function Lt(de){return de===45?(n.consume(de),_e):tt(de)}function je(de){return de===47?(n.consume(de),o="",Z):tt(de)}function Z(de){return de===62&&Nle.includes(o.toLowerCase())?(n.consume(de),De):Dd(de)&&o.length<8?(n.consume(de),o+=String.fromCharCode(de),Z):tt(de)}function Ke(de){return de===93?(n.consume(de),_e):tt(de)}function _e(de){return de===62?(n.consume(de),De):de===45&&i===2?(n.consume(de),_e):tt(de)}function De(de){return de===null||Ci(de)?(n.exit("htmlFlowData"),be(de)):(n.consume(de),De)}function be(de){return n.exit("htmlFlow"),e(de)}}function KPt(n,e,t){return r;function r(i){return n.exit("htmlFlowData"),n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),n.attempt(F4,e,t)}}d();var Lle={name:"htmlText",tokenize:JPt};function JPt(n,e,t){let r=this,i,s,o,a;return l;function l(be){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(be),f}function f(be){return be===33?(n.consume(be),p):be===47?(n.consume(be),Y):be===63?(n.consume(be),ie):Dd(be)?(n.consume(be),Be):t(be)}function p(be){return be===45?(n.consume(be),v):be===91?(n.consume(be),s="CDATA[",o=0,q):Dd(be)?(n.consume(be),z):t(be)}function v(be){return be===45?(n.consume(be),b):t(be)}function b(be){return be===null||be===62?t(be):be===45?(n.consume(be),F):D(be)}function F(be){return be===null||be===62?t(be):D(be)}function D(be){return be===null?t(be):be===45?(n.consume(be),M):Ci(be)?(a=D,Ke(be)):(n.consume(be),D)}function M(be){return be===45?(n.consume(be),De):D(be)}function q(be){return be===s.charCodeAt(o++)?(n.consume(be),o===s.length?N:q):t(be)}function N(be){return be===null?t(be):be===93?(n.consume(be),B):Ci(be)?(a=N,Ke(be)):(n.consume(be),N)}function B(be){return be===93?(n.consume(be),I):N(be)}function I(be){return be===62?De(be):be===93?(n.consume(be),I):N(be)}function z(be){return be===null||be===62?De(be):Ci(be)?(a=z,Ke(be)):(n.consume(be),z)}function ie(be){return be===null?t(be):be===63?(n.consume(be),L):Ci(be)?(a=ie,Ke(be)):(n.consume(be),ie)}function L(be){return be===62?De(be):ie(be)}function Y(be){return Dd(be)?(n.consume(be),fe):t(be)}function fe(be){return be===45||r0(be)?(n.consume(be),fe):me(be)}function me(be){return Ci(be)?(a=me,Ke(be)):Ho(be)?(n.consume(be),me):De(be)}function Be(be){return be===45||r0(be)?(n.consume(be),Be):be===47||be===62||El(be)?tt(be):t(be)}function tt(be){return be===47?(n.consume(be),De):be===58||be===95||Dd(be)?(n.consume(be),st):Ci(be)?(a=tt,Ke(be)):Ho(be)?(n.consume(be),tt):De(be)}function st(be){return be===45||be===46||be===58||be===95||r0(be)?(n.consume(be),st):Qe(be)}function Qe(be){return be===61?(n.consume(be),mt):Ci(be)?(a=Qe,Ke(be)):Ho(be)?(n.consume(be),Qe):tt(be)}function mt(be){return be===null||be===60||be===61||be===62||be===96?t(be):be===34||be===39?(n.consume(be),i=be,Lt):Ci(be)?(a=mt,Ke(be)):Ho(be)?(n.consume(be),mt):(n.consume(be),i=void 0,Z)}function Lt(be){return be===i?(n.consume(be),je):be===null?t(be):Ci(be)?(a=Lt,Ke(be)):(n.consume(be),Lt)}function je(be){return be===62||be===47||El(be)?tt(be):t(be)}function Z(be){return be===null||be===34||be===39||be===60||be===61||be===96?t(be):be===62||El(be)?tt(be):(n.consume(be),Z)}function Ke(be){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(be),n.exit("lineEnding"),Ss(n,_e,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _e(be){return n.enter("htmlTextData"),a(be)}function De(be){return be===62?(n.consume(be),n.exit("htmlTextData"),n.exit("htmlText"),e):t(be)}}d();var V6={name:"labelEnd",tokenize:rBt,resolveTo:nBt,resolveAll:tBt},XPt={tokenize:iBt},ZPt={tokenize:sBt},eBt={tokenize:oBt};function tBt(n){let e=-1,t;for(;++e<n.length;)t=n[e][1],(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++);return n}function nBt(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let l={type:n[s][1].type==="labelLink"?"link":"image",start:Object.assign({},n[s][1].start),end:Object.assign({},n[n.length-1][1].end)},f={type:"label",start:Object.assign({},n[s][1].start),end:Object.assign({},n[o][1].end)},p={type:"labelText",start:Object.assign({},n[s+r+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",l,e],["enter",f,e]],a=n0(a,n.slice(s+1,s+r+3)),a=n0(a,[["enter",p,e]]),a=n0(a,c9(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=n0(a,[["exit",p,e],n[o-2],n[o-1],["exit",f,e]]),a=n0(a,n.slice(o+1)),a=n0(a,[["exit",l,e]]),$c(n,s,n.length,a),n}function rBt(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(kg(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),l):t(p)}function l(p){return p===40?n.attempt(XPt,e,o?e:f)(p):p===91?n.attempt(ZPt,e,o?n.attempt(eBt,e,f):f)(p):o?e(p):f(p)}function f(p){return s._balanced=!0,t(p)}}function iBt(n,e,t){return r;function r(l){return n.enter("resource"),n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),H6(n,i)}function i(l){return l===41?a(l):eW(n,s,t,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return El(l)?H6(n,o)(l):a(l)}function o(l){return l===34||l===39||l===40?nW(n,H6(n,a),t,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),n.exit("resource"),e):t(l)}}function sBt(n,e,t){let r=this;return i;function i(o){return tW.call(r,n,s,t,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(kg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}}function oBt(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}d();var kle={name:"labelStartImage",tokenize:aBt,resolveAll:V6.resolveAll};function aBt(n,e,t){let r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}d();var Ile={name:"labelStartLink",tokenize:uBt,resolveAll:V6.resolveAll};function uBt(n,e,t){let r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}d();var VO={name:"lineEnding",tokenize:lBt};function lBt(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),Ss(n,e,"linePrefix")}}d();d();var W6={name:"thematicBreak",tokenize:cBt};function cBt(n,e,t){let r=0,i;return s;function s(l){return n.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(n.enter("thematicBreakSequence"),a(l)):Ho(l)?Ss(n,o,"whitespace")(l):r<3||l!==null&&!Ci(l)?t(l):(n.exit("thematicBreak"),e(l))}function a(l){return l===i?(n.consume(l),r++,a):(n.exit("thematicBreakSequence"),o(l))}}var Sf={name:"list",tokenize:hBt,continuation:{tokenize:pBt},exit:xBt},fBt={tokenize:gBt,partial:!0},dBt={tokenize:mBt,partial:!0};function hBt(n,e,t){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(F){let D=r.containerState.type||(F===42||F===43||F===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!r.containerState.marker||F===r.containerState.marker:UO(F)){if(r.containerState.type||(r.containerState.type=D,n.enter(D,{_container:!0})),D==="listUnordered")return n.enter("listItemPrefix"),F===42||F===45?n.check(W6,t,f)(F):f(F);if(!r.interrupt||F===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(F)}return t(F)}function l(F){return UO(F)&&++o<10?(n.consume(F),l):(!r.interrupt||o<2)&&(r.containerState.marker?F===r.containerState.marker:F===41||F===46)?(n.exit("listItemValue"),f(F)):t(F)}function f(F){return n.enter("listItemMarker"),n.consume(F),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||F,n.check(F4,r.interrupt?t:p,n.attempt(fBt,b,v))}function p(F){return r.containerState.initialBlankLine=!0,s++,b(F)}function v(F){return Ho(F)?(n.enter("listItemPrefixWhitespace"),n.consume(F),n.exit("listItemPrefixWhitespace"),b):t(F)}function b(F){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(F)}}function pBt(n,e,t){let r=this;return r.containerState._closeFlow=void 0,n.check(F4,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ss(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ho(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(dBt,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ss(n,n.attempt(Sf,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function mBt(n,e,t){let r=this;return Ss(n,i,"listItemIndent",r.containerState.size+1);function i(s){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function xBt(n){n.exit(this.containerState.type)}function gBt(n,e,t){let r=this;return Ss(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){let o=r.events[r.events.length-1];return!Ho(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}d();var rW={name:"setextUnderline",tokenize:vBt,resolveTo:yBt};function yBt(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);let o={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[s][1].end)):n[r][1]=o,n.push(["exit",o,e]),n}function vBt(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(p){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),s=p,l(p)):t(p)}function l(p){return p===s?(n.consume(p),l):(n.exit("setextHeadingLineSequence"),Ss(n,f,"lineSuffix")(p))}function f(p){return p===null||Ci(p)?(n.exit("setextHeadingLine"),e(p)):t(p)}}var sqe={tokenize:_Bt};function _Bt(n){let e=this,t=n.attempt(F4,r,n.attempt(this.parser.constructs.flowInitial,i,Ss(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Tle,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}d();var oqe={resolveAll:cqe()},aqe=lqe("string"),uqe=lqe("text");function lqe(n){return{tokenize:e,resolveAll:cqe(n==="text"?bBt:void 0)};function e(t){let r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(p){return f(p)?s(p):a(p)}function a(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),l}function l(p){return f(p)?(t.exit("data"),s(p)):(t.consume(p),l)}function f(p){if(p===null)return!0;let v=i[p],b=-1;if(v)for(;++b<v.length;){let F=v[b];if(!F.previous||F.previous.call(r,r.previous))return!0}return!1}}}function cqe(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function bBt(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let r=n[t-1][1],i=e.sliceStream(r),s=i.length,o=-1,a=0,l;for(;s--;){let f=i[s];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(f===-2)l=!0,a++;else if(f!==-1){s++;break}}if(a){let f={type:t===n.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}d();function fqe(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},s=[],o=[],a=[],l=!0,f={consume:z,enter:ie,exit:L,attempt:me(Y),check:me(fe),interrupt:me(fe,{interrupt:!0})},p={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:M,sliceSerialize:D,now:q,defineSkip:N,write:F},v=e.tokenize.call(p,f),b;return e.resolveAll&&s.push(e),p;function F(Qe){return o=n0(o,Qe),B(),o[o.length-1]!==null?[]:(Be(e,0),p.events=c9(s,p.events,p),p.events)}function D(Qe,mt){return SBt(M(Qe),mt)}function M(Qe){return EBt(o,Qe)}function q(){return Object.assign({},r)}function N(Qe){i[Qe.line]=Qe.column,st()}function B(){let Qe;for(;r._index<o.length;){let mt=o[r._index];if(typeof mt=="string")for(Qe=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Qe&&r._bufferIndex<mt.length;)I(mt.charCodeAt(r._bufferIndex));else I(mt)}}function I(Qe){l=void 0,b=Qe,v=v(Qe)}function z(Qe){Ci(Qe)?(r.line++,r.column=1,r.offset+=Qe===-3?2:1,st()):Qe!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=Qe,l=!0}function ie(Qe,mt){let Lt=mt||{};return Lt.type=Qe,Lt.start=q(),p.events.push(["enter",Lt,p]),a.push(Lt),Lt}function L(Qe){let mt=a.pop();return mt.end=q(),p.events.push(["exit",mt,p]),mt}function Y(Qe,mt){Be(Qe,mt.from)}function fe(Qe,mt){mt.restore()}function me(Qe,mt){return Lt;function Lt(je,Z,Ke){let _e,De,be,de;return Array.isArray(je)?rt(je):"tokenize"in je?rt([je]):Ge(je);function Ge(Tt){return Rt;function Rt(Gt){let xt=Gt!==null&&Tt[Gt],ve=Gt!==null&&Tt.null,Oe=[...Array.isArray(xt)?xt:xt?[xt]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return rt(Oe)(Gt)}}function rt(Tt){return _e=Tt,De=0,Tt.length===0?Ke:Bt(Tt[De])}function Bt(Tt){return Rt;function Rt(Gt){return de=tt(),be=Tt,Tt.partial||(p.currentConstruct=Tt),Tt.name&&p.parser.constructs.disable.null.includes(Tt.name)?un(Gt):Tt.tokenize.call(mt?Object.assign(Object.create(p),mt):p,f,_t,un)(Gt)}}function _t(Tt){return l=!0,Qe(be,de),Z}function un(Tt){return l=!0,de.restore(),++De<_e.length?Bt(_e[De]):Ke}}}function Be(Qe,mt){Qe.resolveAll&&!s.includes(Qe)&&s.push(Qe),Qe.resolve&&$c(p.events,mt,p.events.length-mt,Qe.resolve(p.events.slice(mt),p)),Qe.resolveTo&&(p.events=Qe.resolveTo(p.events,p))}function tt(){let Qe=q(),mt=p.previous,Lt=p.currentConstruct,je=p.events.length,Z=Array.from(a);return{restore:Ke,from:je};function Ke(){r=Qe,p.previous=mt,p.currentConstruct=Lt,p.events.length=je,a=Z,st()}}function st(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function EBt(n,e){let t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,o;return t===i?o=[n[t].slice(r,s)]:(o=n.slice(t,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(n[i].slice(0,s))),o}function SBt(n,e){let t=-1,r=[],i;for(;++t<n.length;){let s=n[t],o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}var Mle={};DQ(Mle,{attentionMarkers:()=>NBt,contentInitial:()=>wBt,disable:()=>RBt,document:()=>CBt,flow:()=>TBt,flowInitial:()=>ABt,insideSpan:()=>OBt,string:()=>FBt,text:()=>DBt});d();var CBt={[42]:Sf,[43]:Sf,[45]:Sf,[48]:Sf,[49]:Sf,[50]:Sf,[51]:Sf,[52]:Sf,[53]:Sf,[54]:Sf,[55]:Sf,[56]:Sf,[57]:Sf,[62]:YV},wBt={[91]:Fle},ABt={[-2]:HO,[-1]:HO,[32]:HO},TBt={[35]:Ole,[42]:W6,[45]:[rW,W6],[60]:Rle,[61]:rW,[95]:W6,[96]:XV,[126]:XV},FBt={[38]:JV,[92]:KV},DBt={[-5]:VO,[-4]:VO,[-3]:VO,[33]:kle,[38]:JV,[42]:zO,[60]:[wle,Lle],[91]:Ile,[92]:[Dle,KV],[93]:V6,[95]:zO,[96]:Ale},OBt={null:[zO,oqe]},NBt={null:[42,95]},RBt={null:[]};function dqe(n={}){let e=Qje([Mle].concat(n.extensions||[])),t={defined:[],lazy:{},constructs:e,content:r(Zje),document:r(eqe),flow:r(sqe),string:r(aqe),text:r(uqe)};return t;function r(i){return s;function s(o){return fqe(t,i,o)}}}d();var hqe=/[\0\t\n\r]/g;function pqe(){let n=1,e="",t=!0,r;return i;function i(s,o,a){let l=[],f,p,v,b,F;for(s=e+s.toString(o),v=0,e="",t&&(s.charCodeAt(0)===65279&&v++,t=void 0);v<s.length;){if(hqe.lastIndex=v,f=hqe.exec(s),b=f&&f.index!==void 0?f.index:s.length,F=s.charCodeAt(b),!f){e=s.slice(v);break}if(F===10&&v===b&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),v<b&&(l.push(s.slice(v,b)),n+=b-v),F){case 0:{l.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,l.push(-2);n++<p;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}v=b+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}d();function mqe(n){for(;!ZV(n););return n}d();function iW(n,e){let t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}d();var LBt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xqe(n){return n.replace(LBt,kBt)}function kBt(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),s=i===120||i===88;return iW(t.slice(s?2:1),s?16:10)}return f9(t)||n}var Ple={}.hasOwnProperty,Ble=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),IBt(t)(mqe(dqe(t).document().write(pqe()(n,e,!0))))};function IBt(n={}){let e=gqe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ot),autolinkProtocol:st,autolinkEmail:st,atxHeading:l(Ve),blockQuote:l(ve),characterEscape:st,characterReference:st,codeFenced:l(Oe),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:l(Oe,f),codeText:l(xe,f),codeTextData:st,data:st,codeFlowValue:st,definition:l(le),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:l(Ye),hardBreakEscape:l(te),hardBreakTrailing:l(te),htmlFlow:l(Ae,f),htmlFlowData:st,htmlText:l(Ae,f),htmlTextData:st,image:l(Xe),label:f,link:l(ot),listItem:l($t),listItemValue:M,listOrdered:l(Ct,D),listUnordered:l(Ct),paragraph:l(Ut),reference:_t,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:l(Ve),strong:l(sn),thematicBreak:l(cn)},exit:{atxHeading:v(),atxHeadingSequence:fe,autolink:v(),autolinkEmail:xt,autolinkProtocol:Gt,blockQuote:v(),characterEscapeValue:Qe,characterReferenceMarkerHexadecimal:Tt,characterReferenceMarkerNumeric:Tt,characterReferenceValue:Rt,codeFenced:v(I),codeFencedFence:B,codeFencedFenceInfo:q,codeFencedFenceMeta:N,codeFlowValue:Qe,codeIndented:v(z),codeText:v(Ke),codeTextData:Qe,data:Qe,definition:v(),definitionDestinationString:Y,definitionLabelString:ie,definitionTitleString:L,emphasis:v(),hardBreakEscape:v(Lt),hardBreakTrailing:v(Lt),htmlFlow:v(je),htmlFlowData:Qe,htmlText:v(Z),htmlTextData:Qe,image:v(De),label:de,labelText:be,lineEnding:mt,link:v(_e),listItem:v(),listOrdered:v(),listUnordered:v(),paragraph:v(),referenceString:un,resourceDestinationString:Ge,resourceTitleString:rt,resource:Bt,setextHeading:v(tt),setextHeadingLineSequence:Be,setextHeadingText:me,strong:v(),thematicBreak:v()}},n.mdastExtensions||[]),t={};return r;function r(Ft){let nn={type:"root",children:[]},An=[nn],$n=[],Cn=[],Fe={stack:An,tokenStack:$n,config:e,enter:p,exit:b,buffer:f,resume:F,setData:s,getData:o},qe=-1;for(;++qe<Ft.length;)if(Ft[qe][1].type==="listOrdered"||Ft[qe][1].type==="listUnordered")if(Ft[qe][0]==="enter")Cn.push(qe);else{let Ce=Cn.pop();qe=i(Ft,Ce,qe)}for(qe=-1;++qe<Ft.length;){let Ce=e[Ft[qe][0]];Ple.call(Ce,Ft[qe][1].type)&&Ce[Ft[qe][1].type].call(Object.assign({sliceSerialize:Ft[qe][2].sliceSerialize},Fe),Ft[qe][1])}if($n.length>0){let Ce=$n[$n.length-1];(Ce[1]||yqe).call(Fe,void 0,Ce[0])}for(nn.position={start:a(Ft.length>0?Ft[0][1].start:{line:1,column:1,offset:0}),end:a(Ft.length>0?Ft[Ft.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)nn=e.transforms[qe](nn)||nn;return nn}function i(Ft,nn,An){let $n=nn-1,Cn=-1,Fe=!1,qe,Ce,Dt,lt;for(;++$n<=An;){let ct=Ft[$n];if(ct[1].type==="listUnordered"||ct[1].type==="listOrdered"||ct[1].type==="blockQuote"?(ct[0]==="enter"?Cn++:Cn--,lt=void 0):ct[1].type==="lineEndingBlank"?ct[0]==="enter"&&(qe&&!lt&&!Cn&&!Dt&&(Dt=$n),lt=void 0):ct[1].type==="linePrefix"||ct[1].type==="listItemValue"||ct[1].type==="listItemMarker"||ct[1].type==="listItemPrefix"||ct[1].type==="listItemPrefixWhitespace"||(lt=void 0),!Cn&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||Cn===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(qe){let Yt=$n;for(Ce=void 0;Yt--;){let qt=Ft[Yt];if(qt[1].type==="lineEnding"||qt[1].type==="lineEndingBlank"){if(qt[0]==="exit")continue;Ce&&(Ft[Ce][1].type="lineEndingBlank",Fe=!0),qt[1].type="lineEnding",Ce=Yt}else if(!(qt[1].type==="linePrefix"||qt[1].type==="blockQuotePrefix"||qt[1].type==="blockQuotePrefixWhitespace"||qt[1].type==="blockQuoteMarker"||qt[1].type==="listItemIndent"))break}Dt&&(!Ce||Dt<Ce)&&(qe._spread=!0),qe.end=Object.assign({},Ce?Ft[Ce][1].start:ct[1].end),Ft.splice(Ce||$n,0,["exit",qe,ct[2]]),$n++,An++}ct[1].type==="listItemPrefix"&&(qe={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start)},Ft.splice($n,0,["enter",qe,ct[2]]),$n++,An++,Dt=void 0,lt=!0)}}return Ft[nn][1]._spread=Fe,An}function s(Ft,nn){t[Ft]=nn}function o(Ft){return t[Ft]}function a(Ft){return{line:Ft.line,column:Ft.column,offset:Ft.offset}}function l(Ft,nn){return An;function An($n){p.call(this,Ft($n),$n),nn&&nn.call(this,$n)}}function f(){this.stack.push({type:"fragment",children:[]})}function p(Ft,nn,An){return this.stack[this.stack.length-1].children.push(Ft),this.stack.push(Ft),this.tokenStack.push([nn,An]),Ft.position={start:a(nn.start)},Ft}function v(Ft){return nn;function nn(An){Ft&&Ft.call(this,An),b.call(this,An)}}function b(Ft,nn){let An=this.stack.pop(),$n=this.tokenStack.pop();if($n)$n[0].type!==Ft.type&&(nn?nn.call(this,Ft,$n[0]):($n[1]||yqe).call(this,Ft,$n[0]));else throw new Error("Cannot close `"+Ft.type+"` ("+z6({start:Ft.start,end:Ft.end})+"): it\u2019s not open");return An.position.end=a(Ft.end),An}function F(){return zje(this.stack.pop())}function D(){s("expectingFirstListItemValue",!0)}function M(Ft){if(o("expectingFirstListItemValue")){let nn=this.stack[this.stack.length-2];nn.start=Number.parseInt(this.sliceSerialize(Ft),10),s("expectingFirstListItemValue")}}function q(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.lang=Ft}function N(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.meta=Ft}function B(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function I(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.value=Ft.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function z(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.value=Ft.replace(/(\r?\n|\r)$/g,"")}function ie(Ft){let nn=this.resume(),An=this.stack[this.stack.length-1];An.label=nn,An.identifier=kg(this.sliceSerialize(Ft)).toLowerCase()}function L(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.title=Ft}function Y(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.url=Ft}function fe(Ft){let nn=this.stack[this.stack.length-1];if(!nn.depth){let An=this.sliceSerialize(Ft).length;nn.depth=An}}function me(){s("setextHeadingSlurpLineEnding",!0)}function Be(Ft){let nn=this.stack[this.stack.length-1];nn.depth=this.sliceSerialize(Ft).charCodeAt(0)===61?1:2}function tt(){s("setextHeadingSlurpLineEnding")}function st(Ft){let nn=this.stack[this.stack.length-1],An=nn.children[nn.children.length-1];(!An||An.type!=="text")&&(An=ln(),An.position={start:a(Ft.start)},nn.children.push(An)),this.stack.push(An)}function Qe(Ft){let nn=this.stack.pop();nn.value+=this.sliceSerialize(Ft),nn.position.end=a(Ft.end)}function mt(Ft){let nn=this.stack[this.stack.length-1];if(o("atHardBreak")){let An=nn.children[nn.children.length-1];An.position.end=a(Ft.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(nn.type)&&(st.call(this,Ft),Qe.call(this,Ft))}function Lt(){s("atHardBreak",!0)}function je(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.value=Ft}function Z(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.value=Ft}function Ke(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.value=Ft}function _e(){let Ft=this.stack[this.stack.length-1];o("inReference")?(Ft.type+="Reference",Ft.referenceType=o("referenceType")||"shortcut",delete Ft.url,delete Ft.title):(delete Ft.identifier,delete Ft.label),s("referenceType")}function De(){let Ft=this.stack[this.stack.length-1];o("inReference")?(Ft.type+="Reference",Ft.referenceType=o("referenceType")||"shortcut",delete Ft.url,delete Ft.title):(delete Ft.identifier,delete Ft.label),s("referenceType")}function be(Ft){let nn=this.stack[this.stack.length-2],An=this.sliceSerialize(Ft);nn.label=xqe(An),nn.identifier=kg(An).toLowerCase()}function de(){let Ft=this.stack[this.stack.length-1],nn=this.resume(),An=this.stack[this.stack.length-1];s("inReference",!0),An.type==="link"?An.children=Ft.children:An.alt=nn}function Ge(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.url=Ft}function rt(){let Ft=this.resume(),nn=this.stack[this.stack.length-1];nn.title=Ft}function Bt(){s("inReference")}function _t(){s("referenceType","collapsed")}function un(Ft){let nn=this.resume(),An=this.stack[this.stack.length-1];An.label=nn,An.identifier=kg(this.sliceSerialize(Ft)).toLowerCase(),s("referenceType","full")}function Tt(Ft){s("characterReferenceType",Ft.type)}function Rt(Ft){let nn=this.sliceSerialize(Ft),An=o("characterReferenceType"),$n;An?($n=iW(nn,An==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):$n=f9(nn);let Cn=this.stack.pop();Cn.value+=$n,Cn.position.end=a(Ft.end)}function Gt(Ft){Qe.call(this,Ft);let nn=this.stack[this.stack.length-1];nn.url=this.sliceSerialize(Ft)}function xt(Ft){Qe.call(this,Ft);let nn=this.stack[this.stack.length-1];nn.url="mailto:"+this.sliceSerialize(Ft)}function ve(){return{type:"blockquote",children:[]}}function Oe(){return{type:"code",lang:null,meta:null,value:""}}function xe(){return{type:"inlineCode",value:""}}function le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ye(){return{type:"emphasis",children:[]}}function Ve(){return{type:"heading",depth:void 0,children:[]}}function te(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function Xe(){return{type:"image",title:null,url:"",alt:null}}function ot(){return{type:"link",title:null,url:"",children:[]}}function Ct(Ft){return{type:"list",ordered:Ft.type==="listOrdered",start:null,spread:Ft._spread,children:[]}}function $t(Ft){return{type:"listItem",spread:Ft._spread,checked:null,children:[]}}function Ut(){return{type:"paragraph",children:[]}}function sn(){return{type:"strong",children:[]}}function ln(){return{type:"text",value:""}}function cn(){return{type:"thematicBreak"}}}function gqe(n,e){let t=-1;for(;++t<e.length;){let r=e[t];Array.isArray(r)?gqe(n,r):MBt(n,r)}return n}function MBt(n,e){let t;for(t in e)if(Ple.call(e,t)){let r=t==="canContainEols"||t==="transforms",s=(Ple.call(n,t)?n[t]:void 0)||(n[t]=r?[]:{}),o=e[t];o&&(r?n[t]=[...s,...o]:Object.assign(s,o))}}function yqe(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+z6({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+z6({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+z6({start:e.start,end:e.end})+") is still open")}function jle(n){Object.assign(this,{Parser:t=>{let r=this.data("settings");return Ble(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var vqe=jle;var Bze=Jn(Mze());d();var oce=/\s*([a-zA-Z\d-]+)(\s+([\s\S]*))?\s*/,XUt=new RegExp("(\\s*\\/\\*"+oce.source+"\\*\\/\\s*)"),ZUt=new RegExp("(\\s*<!--"+oce.source+"-->\\s*)");function Pze(n){if(t$t(n)&&(n.type==="html"||n.type==="comment"||n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")){let e=2,t;if(n.type==="comment"?(t=n.value.match(oce),e=1):n.type==="html"?t=n.value.match(ZUt):(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")&&(t=n.value.match(XUt)),t&&t[0].length===n.value.length){let r=e$t(t[e+1]||"");if(r)return{name:t[e],attributes:(t[e+2]||"").trim(),parameters:r,node:n}}}return null}function e$t(n){let e={};return n.replace(/\s+([-\w]+)(?:=(?:"((?:\\[\s\S]|[^"])+)"|'((?:\\[\s\S]|[^'])+)'|((?:\\[\s\S]|[^"'\s])+)))?/gi,t).replace(/\s+/g,"")?null:e;function t(r,i,s,o,a){let l=s||o||a||"";return l==="true"||l===""?l=!0:l==="false"?l=!1:Number.isNaN(Number(l))||(l=Number(l)),e[i]=l,""}}function t$t(n){return Boolean(n&&typeof n=="object"&&"type"in n)}function jze(n){let e=vle().use(vqe).use(Bze.default).use(n$t),t=e.parse(n);return e.runSync(t)}function rp(n,e){return n.parameters?.[e]?.toString()}var n$t=()=>{let n,e;function t(r){function i(s){let o=s;if(o.type==="html"){let a=Pze(o);if(a)if(a.name==="malloy-set-model")e=rp(a,"model");else if(a.name==="malloy-query")n=a;else{if(a.name==="malloy-source")return{source:rp(a,"source"),description:rp(a,"description"),model:rp(a,"model"),title:rp(a,"title"),type:"malloySourceLink"};if(a.name==="malloy-app")return{name:rp(a,"name"),description:rp(a,"description"),appId:rp(a,"app"),type:"malloyAppLink"}}return o}else{if("children"in o)return{...o,children:o.children.map(a=>i(a))};if(o.type==="code"){let a=n;return a?(n=void 0,{model:rp(a,"model")||e,query:o.value,name:rp(a,"name"),description:rp(a,"description"),renderer:rp(a,"renderer"),type:"malloyQueryLink"}):o}else return o}}return i(r)}return t};d();var Y6=Jn(ur()),qze=n=>Y6.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Y6.createElement("title",null,"source_view"),Y6.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Y6.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),Y6.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},Y6.createElement("tspan",{x:75.312,y:74.5},"QUERY"))));d();var K6=Jn(ur()),Uze=n=>K6.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},K6.createElement("title",null,"source_view"),K6.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},K6.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),K6.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},K6.createElement("tspan",{x:98.312,y:74.5},"VIEW"))));var QO=({content:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=jze(n);return m.createElement($ze,{node:i,loadQueryLink:e,loadApp:t,loadSource:r})},$ze=({node:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=s=>m.createElement(r$t,{nodes:s.children,loadQueryLink:e,loadApp:t,loadSource:r});switch(n.type){case"root":return m.createElement(h$t,null,m.createElement(p$t,null,i(n)));case"heading":switch(n.depth){case 1:return m.createElement(a$t,null,i(n));case 2:return m.createElement(u$t,null,i(n));case 3:return m.createElement(l$t,null,i(n));case 4:return m.createElement(c$t,null,i(n));case 5:return m.createElement(f$t,null,i(n));case 6:return m.createElement(d$t,null,i(n))}return m.createElement("div",null);case"text":return m.createElement("span",null,n.value);case"strong":return m.createElement("b",null,i(n));case"paragraph":return m.createElement(x$t,null,i(n));case"link":return m.createElement(m$t,{href:n.url},i(n),n.title);case"emphasis":return m.createElement("i",null,i(n));case"blockquote":return m.createElement("blockquote",null,i(n));case"break":return m.createElement("br",null);case"code":return m.createElement(i$t,{code:n.value,language:n.lang});case"delete":return m.createElement("del",null,i(n));case"html":return m.createElement("span",null);case"image":return m.createElement("img",{src:n.url,alt:n.alt,title:n.title??void 0});case"inlineCode":return m.createElement("code",null,n.value);case"listItem":return m.createElement("li",null,i(n));case"list":return m.createElement("ul",null,i(n));case"table":return m.createElement(s$t,{align:n.align},m.createElement("tbody",null,i(n)));case"tableRow":return m.createElement("tr",null,i(n));case"tableCell":return m.createElement(o$t,null,i(n));case"thematicBreak":return m.createElement("hr",null);case"malloyQueryLink":return m.createElement(uce,{onClick:()=>{e(n.model,n.query,n.name,n.renderer)}},m.createElement(ace,null,m.createElement(lce,null,n.name),m.createElement(cce,null,n.description)),m.createElement(WV,{width:"80",height:"22"}));case"malloyAppLink":return m.createElement(uce,{onClick:()=>{t(n.appId)}},m.createElement(ace,null,m.createElement(lce,null,n.name),m.createElement(cce,null,n.description)),m.createElement(Uze,{width:"80",height:"22"}));case"malloySourceLink":return m.createElement(uce,{onClick:()=>{r(n.model,n.source)}},m.createElement(ace,null,m.createElement(lce,null,n.title),m.createElement(cce,null,n.description)),m.createElement(qze,{width:"80",height:"22"}))}},r$t=({nodes:n,loadQueryLink:e,loadApp:t,loadSource:r})=>m.createElement(m.Fragment,null,n.map((i,s)=>m.createElement($ze,{node:i,key:s,loadQueryLink:e,loadApp:t,loadSource:r}))),i$t=({code:n,language:e})=>{let[t,r]=(0,hW.useState)();return(0,hW.useEffect)(()=>{R_(n,e).then(r)},[n,e]),t?m.createElement(g$t,null,m.createElement(Lg,{element:t})):m.createElement("pre",null,n)},s$t=_n.table`
  border: 1px solid #eaeaea;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
  border-collapse: collapse;
  width: 100%;

  tr:first-child {
    font-weight: 500;
  }

  ${({align:n})=>n.map((e,t)=>`
        tr td:nth-child(${t+1}) {
          text-align: ${e??"left"};
        }
      `).join(`
`)}
`,o$t=_n.td`
  padding: 8px;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
`,a$t=_n.h1`
  font-size: 21px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,u$t=_n.h2`
  font-size: 19px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,l$t=_n.h3`
  font-size: 17px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,c$t=_n.h4`
  font-size: 15px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,f$t=_n.h5`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,d$t=_n.h6`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,h$t=_n.div`
  padding: 10px 30px 30px 30px;
  width: 100%;
  font-family: Google Sans;
  overflow-y: auto;
`,p$t=_n.div`
  max-width: 900px;
`,m$t=_n.a`
  color: ${Yr.dimension.fillStrong};
`,x$t=_n.p`
  font-size: 14px;
  margin-block-start: 8px;
  color: #4b4c50;
`,g$t=_n.div`
  pre {
    font-size: 14px;
    border: 1px solid #efefef;
    border-radius: 5px;
    padding: 10px;
    background-color: #fbfbfb;
  }
`,ace=_n.div`
  width: 100%;
  gap: 5px;
  display: flex;
  flex-direction: column;
`,uce=_n.div`
  border: 1px solid #d7d7d7;
  border-radius: 7px;
  padding: 15px;
  background-color: white;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-bottom: 15px;
  align-items: center;
  cursor: pointer;
  font-size: 15px;
  color: #595959;

  &:hover {
    background-color: #f0f6ff;
    border-color: #4285f4;
  }
`,lce=_n.div`
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  font-weight: bold;
`,cce=_n.div`
  color: #929292;
  font-size: 14px;
`;d();function pW(){let{data:n}=ox(["apps"],async()=>Rm()?vLe():await(await fetch("api/apps")).json(),{refetchOnWindowFocus:!1});return n}d();d();var mW=()=>{let n=pW(),e=Fy();return m.createElement(QO,{content:n?.readme||y$t(n),loadApp:t=>e(`/${t}`)})};function y$t(n){let e=`# Welcome to Malloy Composer

`;e+=`Select one of the following datasets to get started!

`;for(let t of n.apps){let r=t.id||"default",i=zp(t.path);e+=`
<!-- malloy-app
  app="${r}"
  name="${i}"
  description="Generated from ${zp(t.path)}"
-->`}return e}var v$t="https://malloydata.github.io/documentation/",_$t={REMOVE_FIELDS:"command+k",RUN_QUERY:"command+enter",UNDO:"command+z",REDO:"shift+command+z"},GO=()=>{let n=pW(),{appId:e}=vK(),t=n&&n.apps&&n.apps[0]?.id===void 0,r=t?n.apps[0]:n?.apps?.find(Gt=>Gt.id===e),i=Eae(r),[s,o]=qme(),a=i?.models.find(Gt=>Gt.id===s.get("model")),l=s.get("source"),f=(0,J6.useRef)(""),[p,v]=(0,J6.useState)(0),b=(Gt,xt)=>{f.current=Gt.toString(),o(Gt,xt)};(0,J6.useEffect)(()=>{i&&(document.title=i.title||"Malloy Composer")},[i]);let F=({run:Gt,query:xt,styles:ve})=>{let Oe=s.get("query")||void 0,xe=JSON.stringify(ve);xe==="{}"&&(xe=void 0);let le=s.get("styles")||void 0;Oe===xt&&le===xe||(xt===void 0?s.delete("query"):(s.set("query",xt),s.delete("name")),Gt?s.set("run","true"):s.delete("run"),xe===void 0?s.delete("styles"):s.set("styles",xe),b(s))},D=a?.model,M=a&&r?new URL(a?.path,new URL(r.path,window.location.href)).pathname:void 0,q=D&&l?D.contents[l]:void 0,{queryMalloy:N,queryName:B,clearQuery:I,clearResult:z,runQuery:ie,isRunning:L,queryModifiers:Y,querySummary:fe,dataStyles:me,result:Be,registerNewSource:tt,error:st,setError:Qe,dirty:mt,canUndo:Lt,undo:je,redo:Z,resetUndoHistory:Ke,isQueryEmpty:_e,canQueryRun:De}=Hae(D,M,F,a?.styles),be=s.get("page")||"datasets";t&&be==="datasets"&&(be="about");let de=Gt=>{s.set("page",Gt),Gt!=="query"&&(s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),I(!0),Ke(),Qe(void 0)),b(s)},Ge=(Gt,xt,ve=!1)=>{tt(Gt.model.contents[xt]),ve||(s.set("source",xt),s.set("model",Gt.id),s.set("page","query"),s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),I(!0),b(s))};(0,J6.useEffect)(()=>{(async()=>{let xt=s.get("model"),ve=s.get("query")?.replace(/->\s*{\n}/g,""),Oe=s.get("source"),xe=s.get("styles"),le=s.get("page");if(xt&&(ve||Oe)&&i){if(s.toString()===f.current)return;let Ye=i.models.find(Ve=>Ve.id===xt);if(Ye===void 0)throw new Error("Bad model");try{v(te=>++te);let Ve=Oe||await pue(Ye.model,ve);if(tt(Ye.model.contents[Ve]),ve){if(le!=="query")return;z();let te=await hue(Ye.model,ve);Y.setDataStyles(xe?JSON.parse(xe):{},!0),Y.setQuery(te,!0),s.has("run")&&s.get("page")==="query"&&ie()}else s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),I(!0);f.current=s.toString()}catch(Ve){console.error(Ve),Qe(Ve)}finally{v(Ve=>--Ve)}}else i&&!a&&!le&&(s.set("page","about"),b(s,{replace:!0}))})()},[s,i]);let rt=Gt=>{let xt=window.location.href,ve=new URL(Gt,new URL(r.path,xt)).href,Oe=i?.models.find(xe=>new URL(xe.path,new URL(r.path,xt)).href===ve);if(Oe===void 0)throw new Error(`Bad model '${Gt}' referenced in Markdown link. Options are: ${i.models.map(xe=>`'${xe.path}'`).join(", ")}.`);return Oe},Bt=async(Gt,xt)=>{try{v(Oe=>++Oe);let ve=rt(Gt);Ge(ve,xt),s.set("page","query"),b(s,{replace:!0})}catch(ve){console.error(ve),Qe(ve)}finally{v(ve=>--ve)}},_t=async(Gt,xt,ve,Oe)=>{try{v(Ve=>++Ve);let xe=rt(Gt),le=await pue(xe.model,xt);s.set("model",xe.id),s.set("source",le),s.set("query",xt),s.set("page","query"),s.set("run","true"),s.set("name",ve),tt(xe.model.contents[le]);let Ye=await hue(xe.model,xt);if(Y.setQuery(Ye,!0),Oe){let Ve=Y.setDataStyle(Ye.name,Oe,!0);s.delete("renderer"),s.set("styles",JSON.stringify(Ve))}ie(),b(s)}catch(xe){console.error(xe),Qe(xe)}finally{v(xe=>--xe)}},un=()=>{ie(),s.set("run","true"),b(s,{replace:!0})},Tt={REMOVE_FIELDS:()=>I(),RUN_QUERY:un,UNDO:je,REDO:Z},Rt=wke(D,M,q);return(p||e&&!i)&&(be="loading"),m.createElement(b$t,{handlers:Tt,keyMap:_$t},m.createElement(T$t,null,m.createElement(F$t,null,m.createElement(dle,null),i&&m.createElement("span",null,i.title||"Malloy",l&&be==="query"&&m.createElement("span",null," \u203A"," ",zp(l),(s.get("name")||B)&&be==="query"&&m.createElement("span",null," \u203A"," ",s.get("name")||zp(B)))))),m.createElement(S$t,null,m.createElement(Hze,null,m.createElement(C$t,null,m.createElement(w$t,null,!t&&m.createElement(CC,{onClick:()=>de("datasets"),text:"Home",icon:"home",selected:be==="datasets",disabled:n===void 0}),m.createElement(CC,{onClick:()=>de("about"),text:"Dataset",icon:"about",selected:be==="about",disabled:i===void 0}),m.createElement(CC,{onClick:()=>de("query"),text:"Query",icon:"query",selected:be==="query",disabled:q===void 0})),m.createElement(A$t,null,m.createElement(CC,{onClick:()=>window.open(v$t,"_blank"),text:"Docs",icon:"help",selected:!1,disabled:!1}))),m.createElement(D$t,null,m.createElement(E$t,null,be==="query"&&m.createElement(fle,{dirty:mt,model:D,modelPath:M,source:q,queryModifiers:Y,topValues:Rt,queryName:B,querySummary:fe,queryMalloy:N,dataStyles:me,result:Be,isRunning:L,runQuery:un,canUndo:Lt,undo:je,isQueryEmpty:_e,canQueryRun:De}),be==="about"&&m.createElement(o6,null,i&&m.createElement(QO,{content:i.readme||R$t(i),loadQueryLink:_t,loadSource:Bt})),be==="datasets"&&n&&m.createElement(o6,null,m.createElement(mW,null)),m.createElement(Aae,{error:st}),be==="loading"&&m.createElement(Pl,null,m.createElement(Ad,{text:"Loading Data..."})))),m.createElement(O$t,null))),m.createElement(N$t,null))},b$t=_n(zze.HotKeys)`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  outline: none;
  background-color: ${Yr.mainBackground};
`,E$t=_n.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 100%;
  gap: 10px;
`,S$t=_n.div`
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
`,Hze=_n.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
  background-color: ${Yr.mainBackground};
`,C$t=_n.div`
  width: 70px;
  min-width: 70px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${Yr.mainBackground};
  justify-content: space-between;
  align-items: center;
`,w$t=_n.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
`,A$t=_n.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
`,T$t=_n.div`
  height: 40px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 5px 10px 5px 20px;
  background-color: ${Yr.mainBackground};
`,F$t=_n.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,D$t=_n(Hze)`
  margin-top: 10px;
  height: unset;
`,O$t=_n.div`
  width: 10px;
  min-width: 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${Yr.mainBackground};
`,N$t=_n.div`
  width: 100%;
  min-height: 10px;
  height: 10px;
  display: flex;
  flex-direction: column;
  background-color: ${Yr.mainBackground};
`;function R$t(n){let e="";e+=`# ${n.title||"Malloy"}

`,e+=n.title?`Welcome to the Malloy Composer for the ${n.title} dataset!

`:`Welcome to the Malloy Composer. See below for a list of available sources.

`,e+=`## Sources

`;for(let r of n.models)for(let i of r.sources)e+=`
<!-- malloy-source
title="${zp(i.sourceName)}"
description="${i.description}"
source="${i.sourceName}"
model="${r.path}"
-->
      `;return e}d();d();d();d();var Vze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKYAAAB0CAYAAAAPfklTAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAApqADAAQAAAABAAAAdAAAAAB8rXcYAAAz90lEQVR4Ae2dB3xVRfb45973kgAJkIRQRILYCyoKCeC6FsRC/dmxQsC+7KpAAq6660b/uxYggL0LoYiiLqIUURHbWiAs9rY2EFBISEILKe/d+X/PffeFl/Be8vLyXgjIfD63zZw50849c+bMmRml9rv9NdAMa8BohnnaZ7K0fpxK9xiqQ5xSazrnqaJ9pmBNUJD9hBmlSl43QXWxvCrDNFUvrVUGaHtxtXfQW0qrh1u41O3tJ6ptUUpyn0bj3qdLF6PCaaWMDePUCdpQA7lONgyI0VIdeSqIMpgzlaFuLLfUkQSeEwxgv1/NGtjPMWvWR8ivNX9VKS6POgvOJ8Q4AMBOIYArqdTPLaUKeK4Cfh1EeRWwFwk8hHt+1zz1coi4+72dGtjPMesghXXj1BGWoYZBWAMMj+oLM3TxHuiEP37GtUKI0KtVwfbW6vPuuaoyEOjLXLWszXbVH78U01Bn89xPmIEVFOR9P2HWqpSfxqjkOLe6BIrL4jqpJh3awMX4vQ6BLqmsVEsPuV9trIVit08h1F9yVIUTIMS839VTA/sJkwrSFyvXum7qHLrZLIjuXCgnIaDehJBW4b+E55ID18AdX1DegPB6X3+8WXUEyO764cBf1RthP4D6XRPm2gmqs2Gpm9bBHZEFO9Xijt9BkTNdlpp54BT1S2NoBQ7c0x/f1Oq//vf9z9A18LskzA3Z6ihY3nhlqSupmviA6imFGJ83lcrvMll9GODfqFcGSz0dorfMJPVpo5D9TiL/rgiTwUxf7VK3MEg5l/YNZJCvQzzPeBPVgoNzVXm0256E/Bzzm865qiza+PdFfL8LwvxlvBpEV30L3PBUnn7n4eU5pMWJ6VPV537PWDwNrXpC+OL2d+NhVvA+TZhrslUv1DNTIcZTAupjB+9Pu7SawjThmgD/mLyK/lN7VDdBDoHuJ8wwa3mfJMxfxqoD6bLvhkkNF3pw6kLmqh8y4tRDXe5Rm8Osn0aDGV6V6Ueizf2E6a+L+p77FGH+lqMSq2RQwwU1tnIKXwZpTo7TamKnyUq4ZZM6Rv39nV+jkjwUNGnie3Fi+wRhIjYa67PVCIjybtqis9MeIk3ONkx1W5eJTAvuKWcwjelzH+yJH2NPFbux6e71hLnhFtV1naWeQY6UKT/bwS3ft0w1tuvEPcuhfr1VtfdUqRMkU8iXb/hyt/8eTg3s1YT5S7a6xutVUyhoa7uwhvqRrvOWLnnqxXAKH2uYqkp1JhZHtoxruZjG3O/CroG9kjBlcIM5xVOUUqx8xFn02w9gaHFbl6lqp89rz9/RCJzlaKeK01vtH/g0pEX2OsJcl41xhaHup5BtnYL+wPeorpPUew0peFPAQpR++XKZkcs8034Xdg3sNYQpVj9ut5pBY8usjThhRg/HKfXXTpOafrRt56COGzrUYwjuYoPo/d14HVUVNGivIMy1OepYBLX5lOAwKQUDiZ/pyq9itL08aKmagSdLLC6xfx1+IMOlXmtMltLGzswwXNZ5SpsMpHQRYutXlV7vE6XTRpU2Bm9zjmsL5s05g+vGq4sxR5tOHhOdfM5OKFN/6vCI2t6c84395Xfk73Cud9Mnq9MiyuvF81xpXcseghBv2D2+sUUra0JR3sgndg/b+30wpGmeTmwkGXXfB1HOI4dClB440BgaeXhzJ0rM6WQxmhClcPe58ozEQZQvBhClGBq/D0ZnXl+3JeyxDuPyxUJqn3PNkjDX3arare+GYa6hJjg1vgkC7Z+eZw96mn0jmJa6zMmkB6O6FyLJcMdxM/pDeOc5cZdWea1OhXlZpxTmjTjeslQf/NdzGWIVJV19JGk05zjNjjDtQUOlKoAQz7IrTmMxzpJYFnC925wr0p83nauwBUa+9LnXI52Xt0wzx4dCb0ywWp4fKE9unpq1wrSsgYSLaizOMPXsLmPntfTB7xv3ZkWYa7NVJrq/d+EC3Zzqfbq8Up26R6cUG9jO67ZjWqfQs/pcxN04yykP9aEwXlo3ddhuutmNU0d9HtCjHFnp2jnVSXOfeDSbUfm6HHUGnGYBtZrEpan0m9MnqQf3wlr2y3w7GaS9HHH+DZUso3pD6d2I0o+zcPKIh9uPmzkUoLPpYa5PG5e/vmhK1v/zhzfVs/346Ydb2pVuWFaSS+lN5fHx326594qSxqTfLDgm6iBZALaYgghReriu3BuJkhmpVPJ+OZe4+Y0apGm11odGSZcdwiFieuNGEPiDADD9eVda9oyxIYCj6t3pxmfap+XkT2qfnb9WWeZ3ptbLDMNYYBnmh/FVnkL832mfM2OYaMsiSXiPEybqoBHkXOa2E7jKqdzzGXk/G0lh9ngcl7qWPNiyHnP2jeL2htbPSXnoOo5pnzPz6lBl23T/5RtdXutMwtcJDAOmKR1y8nPlPVYuLTv/Gm+860c0DiIHpwdJx4UfqwWM5ztkz/zogOw5BwWBqdMrImquE2MDAtH13QT4NC7Jx1a6o6F7yyCndjHtJcAHqZ/wT4eaVqBB6FMbpiHfHXNmJmpLfwW/6Uq8bRDf8b9NG/VzKBxpE2YdaXittwm3lwlD0s+ZhnnNxskjomqD2iF7xmR+luzqfBjS0+kXtdf8XJve7cpwdaY7P522HAmMj2gNVai1HojOdVV1vHpe9hhhMuc9lkoXyyBxhS52u+g8ae81dKA8F1Eev2roimhwfbpD6cZFxJFf953CpJ/OULm5IefcO42Z3s3rNhfzYxxtx1HqC+0yLyqaOPxb57tRj/Y5+X8Bt90TIHqtYaB62abJWR8GQ3rYjQ8kbE1oezsE+jfChc7WK9PKKJw06rdg8LX99khXTiMOpxHznMysY/3NqXszUdrlYLDmlOfXjVurCbR2fTfoG73lEkbnT9uRtDotbdsh0sghnXBUb4WrL1TwigN0LFx0FQSeFTJSmAEdxs84FKL0M5Lv3ZXezFBEKSi/f/CmCsLvQNPqF0MO1JbxaJjJqSYnTEbfgyHKZ8ig/EWFsvSARWHfhJvh5gi3YTyrIJX6o+SN56MZTyiM6aPj4tpU3MTI/CvBxvNORt7X14W5+MErt27KG3EeBHEbcDKQlFmzGe2zZ8xNHjM9ua64dYZZ5p2Ex3F5TMM4/7cHryqsE94JLJw8crpW+jH5lAmDdtnTq9dA1RW/SQlz/Xh1Mg0n3Z2oqbZhRDmwyxR7TrmuPDb7MMpxgZPJCnZPeDyaGd6Qe32ZYZhDwPmr4GVw+AgqoovrTsPQEMQ9KN5PB+4XH6xxaZzL/IxZotPqjrt7qC3vKn2RHaJ1PnLrF7tDhfZxV1p38MeWCQT7MWaFhtwV0mSEiSrlOBpwIUnLqLUCTnn+QXls07cPOMr1HsX4DZZwB+t6NkW7SBDCT8z0nAPeUi4Ylp6dloP+sh63adLI/zCVeTxgzzug6RDrW+3H5d+rrntcuF9YzmvpfgAmCLBmlimsSAFAwl21oV/3eZkiN9frpDuNufvpr6qb26M+IKEDuCzUDJfsyeUPaQv+29njso6E+xxJdg6CD7UmX63Rw7W2tE7Cfyd/+Fb8uSx5FtM1fmMp86stK3r9pHL5rfaAQ847GTlN1g7Jz82GInp0uNZFHcbNGKENQwYubeysa/1fRteXoZD/zv6u44aMKvKzaE9UYmur5c+5o8rrAA8axMDpFur0XgKtwrUtsSAY5g0K6HjGnDD/d6Nq0yJBrSS9IyRNEryBfYGi2t05ZQn+mPdlfHLijr6oTvprbfHnGycAKIQYqdtJIb7m91qF2dlrpmm9WTyoL8TbNK5dzswzUGbPJzUfgSl1f2Hrrjkqt5/Ik3U6uuSDLUvPIv8nO4A7+OFuFDmwrojoRe9idP13YHYwIJNJkAY7Wxer9VMSMU7Ftd+Qd3lRXUhiSpgaKmCwI5V4rmRCCoee8p91ZSgaYV3mfdByR2IchrVsmmWo08HpX2MeDP02POkiDZ56GwOMHXCWliyEaENcaXz/FaquIAj9IXBLmAGZUzI0Y22wRKLp12HcrB7asBaB0z8nv5z+/VK6/PrFCLHxTN95G73CP4jvsvNlGDMTvC1uCDYnL+EymySKe3kvbN0yQeUOq5T3hjg4dg71Ook4mh8pvr4fKVRlNyTNkLAQ5a0Q590CQELPwSkvCwkchYDUhSv+YBnGVaQlgwM/R/Fjlq4DqyX9PgL419plfFulzW+3D+pZ7+hSCH17UtxREO0xCFnd6Y2Oo0SngK+tH7nzpIvX6B1dj5es7Lk4ll1+2phZB2DVLjNmf3DS/o2yX7F58oi3auUp6CfETV1Zz1JXBzkAn/FjXVg4dfj3tSPAMc+Hqfxb/E1tnbRxyqiPasPU9y1aAersUuB+get2rQ8+ZoS5PkedSSstJQMmnOvLOEP1idWC/3YLV57JhqjS1Zxao8CG2sBs8gvIUm8aRtW7Ue1yly93p5S37oukN5ASDqCMPWukrdRaKndasZH8iBp0eEWtsOh85s6LT9tePo3pyz85CKly4+7C1ul31seRBL7tX+ekxHs8s8n7IF98YwucceSmvOEvO/jsR8otj7d1e1pI1yvalPshrDGB4fW9p944u40r3qIn0W1FL1s4ZeQ19cWJCWHKJgSs915F4mlcWxkqZMZCLWQTpKnuomJPCigo1jh6PiqW/OIVvd6MJdcKSFOlLfr4CI8yr6eLlE1g2wWErdXauKO0oNesWOXFNpbQxpOkafcSNOoKbZlXBON+AflyXrXB4OZ2CPpOPERLIxLYbRgky0Cl2qE/fZmyiUhWzvTo0XVNj1ZHcl5Qb92NLHurfMJ5z2DAtbw2TO3vqBMmg50EBjuiPhFFKj2nuiDapzSkvVZwAIQ/DfTDAgpUQo3er3XCA1uGHF8S4N+0r4v/l5CiSi7CgCGHhE8ISPwLLIjHbh6S+WaAX9ReZWbGsow5NKh/jn47JHZz4ZSsZ8JJpEP2LNbAW88CK8wEOlJPbmrTdbSf89KdH09bfiJBXKuRaU8JZx4+LWfGYHqtV4jDDKZ6a1NeVn/e63VRJ0xM2B4D6fV2yqgHMGaw/5R6cxIOQK42U3oXjKbC/wW4T4Y07J3bphjK+1BUu+pw8lMXDGwyZXGByFQy2DukGlTrR+PjEsZvPKfHjmq/aL3kLne33/bLP/hhpc59Axut5scnqGvX35O1ub5k2o+ddRjz2cjIvvVKPJdql+fioolXywBRYcBxJ2LRHfKO+xSZ9KLQXFkbEPv1qLQeAFZ0piXoUDPRrf4gketzUSVMZ4NUGS1Kf/Bm+hqOIWngRvqhMpy09NMO8Z6KuVTMGQ4MM5tqRlWFNX7bBX3qrfRQeGPuX1AQl7JJX0+F3ElaqXZ6Wn3PQCqreEhv0e1G3bXPnvlHWmAWiLs5yDfArrI2Ts6ql1sfeGt+O07jeJl44LDdRx53+YCS+67fAk6jw7iZs6n4y52wKp75yKUvWq6qz62dCduN+Cqsi1ynQ5DXEXaiA7cDFde5G6eMXOZ81/uIGmH+cItqG+9VX5KiqDCK+EW6R2sWJGVJwR8RCp6ncTv7SmR8RR3dUDKkl4gMe4XziR+2QYZ/5sOiU/x7yaBMW2sR7UKkTXi6tWHFPUS9jXBwQyvGvYVt0u/wd8+h0hTLoC3xbWcS7hOVDFVQ6Xaf7bNK10Za9qy/82MJ5/Rx5VCIbH8Du03jgk1Thn9aJ1itwKgRJkttn6airxL8/FGXsmXL87XSiugzeeHKMQjdov+SESHI9aMlZYlj1LDuDdal2fH38C114crr6E3yqCtbUc30Yn5xB/NalZEh3CfqjunHS5hgf5yK86u23qW7vqRe87PcXLP99kOmBxD2JyjGz/IrxsX+0/RYd9DWMiBKDJLx79FbPpxcUfqoWBoFCa/TKyqEySKycyCe15yU/o0t4oV1phpmYMrilffCJW9xwJHJjOtKBmeIgL5Xu7aLCw6la3uVQhxtF8RQb1tWwgWxGrSJnabHZT5HY/sHRp+i8gkcmAWvTyHOrd2egLCvdgA+Ze799MAVm8JdS93JzKzpdODkZ9tkuYwvG2sD2mjCdKYcvyBD6Vybq6pU93BOC3MKGvwhg5zMgocJvMEB+NEwvEMZ3HwVPMLe55s8f3WyGV/1UoDM/I1b6X6Fg3v/FovStBn7VGqCGbce3C24voMwsRMIx9F158x6OEBX+mFc6/IzxeopnNiRwpiRRvTHQzU0mXchSnE3NZooQZKSsUrkGx9Ropx3eVyn7EtEKRVVev6JpcUdzQGoYPzqnKM8yni9zWsf+AZIAhRF18J03wY6IUqRtf5mP8O6Gbpo8vA/AzrdAT+pclvCHCzpG007dSXfKOTrJqh+IL/WSWBBNJYTpC5ecS1KtCsEJ7LYSk+ldVrRuT03OGnsWw/kytIhmVej7M1zCnac6Y1b0n75l7b8Ga3Cdho7ozuc+WYfPv1G4ZQRLzQMN/ada1tey0+0QOKJwW/a9oPvaxiOhkFHTJg6V6ZNOarE50q8HvWnhiUdHJoK9KsifnR7Kvo3a1VQ8CI02Ld0SO8cuNiTEhHZqrenrOwVhVVUgxGFiOA1jUcIcoO7EvXqX0KA1e2NmVp8m3JpG5nREwV8Tl2rN+tGVn9oxDImivRRRLa7IZ5jMdCYVn9y9UOkLFz5Hq0jOrTPSozk3q3Li5PiWrh6oevI4E/NgLt0Iywg37oczvoFFbUaOWh1m6Sy1T/369dge8H6cxZjCJ9cLQO7SyQl1DEDiwf39g8oI05cNt1i5Cw6TXF3I1ve7nuN7I4aqrPhdX9M7C5c5YY2+zZUFRROygENHA64D2ZDrmrFQs3v+DqQ64etSeqY7rXO6A4fW03IlIUFt/A73uv4enmGoSurgQNFsJprafOpLUN62X93jdDm/OFTxufRZR6lKt3DRA5tTHYdC6RPwNGBn3dNfOvyY6IxaJFNvExT/wecwtW/Uztb9ip8ZNj2xuS1dtyICBNuiYIV4wkcnOriLtHcjN827C1bBP4za2VWiPRrUmRkbnnsMOz8yUAy7OXEXcr3GrFWszNEzpZBvd6q4ft7+GDpRPukFsupm5OluBD7UIwnFkar6BiO3IT4cb+N21CziyZnDY8WbsHTYMKUs7fj4tT3xBUB/QMGPHbBBVnUHIJQ8sIV52EocKI2zV/ZE+fTFtr8ZMPQjJAqCpmyjPN4ekO0V5KP87gSAvIzF1XMuFipYgLSaR6vQpStE56geUdKhhCDJrIEw68PjloeMSCeLwMhB+HFiAkvRgt5gwmT+fDHKel1kgEi/yGaxydHq1Ct//1xu7gEVxYNIvKUX/1CF29eWTK4V9S4RrTyG008dvdtWi/4OSVt9NamtS3Prm+NTSR58M2ra6ahjY6kVxin447xzwxFgi8wToMI8+cJ6miXZZ9UK3LfC3DLYYHImtt761cL0uJMPRFZaCR5k7IiDhh/YfboseaW18bmx1agG/F/QldyM4yjvYNveXy8ujgcy6JI02dvogtgAC9JfMS6ZzdNyboiUlyB8RpEmMiWM4iQBYIqy6uOOmiq+jEQWXN9dyzcRXeXbOdRq7tLhmQKN93LnDZSb5zTWsVVto1D2rEMVzrz3j2Q9U6AGIfw61WvbeJnnFS0tuWtseCUtSsNQ+Pn8fMxKTaULZw6qtHahLAJ0zn06ScyEEeh87tOtrlQ7Tw22+/U11Z0115jCRlMtzNpGKNLBmU82hwyLLsBV5rlp1rKOgaZ7SDmnFNQfSWj5mEpgv0ztSWf8lOJDWp9uud3sXv8F3aPrzdV2WRLQnZ/Y2BqW+7/xA7I3UMtbAs3T+ETZo6aCNLxghjCPA7ClPnxvcrJenKv2/semT6Eq4qFZf33pOmcyIOm2/oHI+Ys8uObLmx4jXrReX6LeuJjCPvRzXmjVjYcReNjMEofBee29dpga7S+NCzCdAw1fiFB+WOXIFs6i5caX6CmxpCyqOA4fq0PSTeRBt1kuswTigZk/NqU+eic+3irqm0tbucPHxPY/Tp5KMKvkDDRx8pVChfdAtGVYsFVim0j73oLMKVs+fdrUqLnq0g2IGhIeWVbGcOwhivtuje0xbpSdOnvgPdUiKrScpnHN8bCyGfjWE8uE1owCtfOQifTto2sJ0bzDWbg83nq4pUj4VKyerKD5dX/IrdXNVWOZR+gqm2yVY4+HeISxwJPY67S1nyPslYUT7lKGEDYrihsyMgAnVH+fIY2KcqwMlTucq7gmyu4LD2a6c/V9Kjxptd6hBT7R5Zq/fKKKriOUxFY1CQJUI+rmvNpZOFWQvGgTNG3zRJ4KjEr+dWPe4QbtzFw7UfPS7IsCzkXosSR9jKm9HqyO9uVm6aMfKmhRNmYvIQb13B5MTJWKQ58D9YU5YSK+9vUkV9SpmkSzvMM9JyXhYKtz78+QVp1amtvUiDzovJrT6oP4d4SbrhtHafMqZvKNCc3Sb5b7sxnYHOKpAWXnMOo+ZxYzDNHqywQFqofY6iDr8r31P/oOPYZkdGDOpdhLwO2uT5lnCJryoMC1uNZL2HS5Y12cPyU/nPzOAe8njKFFVx8Tm8qz5gqwPQEZ8qoPayIEQKxE8WpRL1AopPe3E2tfxzRFKqcCLOrOtz8bEd2LHnAif8LW9KczbuXq4XlcosRd1AnS3qRhe0eFoBOrjiviEoNdnUS5rpx9kZYfQQrlflktFY8NjiXMYrgVpZUvGWj96pLY5QMaFH8GEae4Kceiyvi3H+ua8vq2OUjfMyWu/IxumPfrJllXVc0edTbxH7IxqD1AFGsh8LGTsLzKekiO9xQozuOm943FGwo/zoJE7ue4U5EbbrUnFBI9lZ/mTtnZP625J/p+ZgRZofs2ecidGXY6WD80tgzcARPLJ1sWcif5J8Df8qvMPdWuu4gXVuDwWzPNBnIhcqHW7n+TNgOLhNDmicbsh+n4Aw5KudvMdZphzC1ervzfdXnzki8fciZcyHLM2Blh8kgqHRon0+jXTh2uLjaxokaqDCpZeOU+uzWltqpMtF06UQzztsKZpyIkQszPkai1zRbmRxCXRFnvhMp8aeOeyZdGyY9CaSHqZxyecb560O20UbuzIZoxW403avZKVhVLxb0g9nPX/OuWAMsVmj2LnHHdmjT4u+blBL4sBw9S3CHscZp5OxtCaUjGsVy3Bnyvq+51KUr0rXHWCvlgmuOLB2SkR/NMjo2kTIY4GAOYyoj8OqGDpUOJ42dYFjG+RDGiRDcEcAlcbWisRLxiw8Vb5c/yyfyRp696zvcN1kzPvMN0ulPDNnep3+wfYY6ZOcvIx9nAFPlVa4TivOu/CpoCvxE7bvufJ8w6co9kHrfcI9UCckxIUp/N17W0lD2JH3QxJuDJwa2SZvjUhKqPO3Ymo+NBIytRWmqKJy12sVnZ65jKxfpchIR2o+MdnEMtzWCunQJXsPyTq8Lf+qE2V1cXu9kpN5hNPxuTAO/sBw7I/8YFmAtIHb9vREuJEQp7oFgRCkBXmX92aXMT8lPvEt56QH06WR39+yxHENPmDWSkzM+IVoLfsw5dP+9wtnzaLfCS8LMi7ekKn/jVYb6zzLTExWLEcEdDZe6+KM2luU+n918+8HleoPzKK7aZRH1xrdU9IfatOaUDsx8F4LdvfIASlm08r88TqRB5xcPyggp1APTYMdsyDdEOpLcFRROzsoMhUB2+/VqvZxCHOTAVPAujf81hL2NPczLENd2MIfeClyXANOtFi6L78XKsh4unDpyaVBCqRUh8JP0j2Wb75X4QUD6q1atda+6ZpQol4y2bxMc5PHaorysp+Q9mAs0KiY8H7vNkcHgAv1qN6Ydtna8uoQmfE4+YOcD2K2Ngu55l7Jk1fHMkNxKTYhg3tC5ZbprY442q54oHXjSz4GlYbePF+CWF9Hg/2XLll6BYY15d/ZMl64MfqJHo0QPKl/Kdi6mx/0FIlNXgWUHi0fNKvedchyffItzNrz6G68ySEsQP8dtpot82u3VjzZka0B/ZHmKEUm5uXMlxNCdiwVrqi+7xK0OhKn9LnEqzJ2f438oVyknox1TNG24PTCqDSvf7Kcks12D5Z38jqNLt1V18h3MBe3KIcohDnBh+lr1ZrCITelnW6d7K++HGwin2PUz2Ruzqo9o0FUIRBto0WIChaPIsXldeQr3EVlIRo80ur7VsNw3py4uuKN4+4/T1DDfBvUQpejnou7YyP8qB2l5paUZZAV3HFQ6AY7oI0pptMlZ1Y1mE4BRfi9ygKxCjduFwYC76YfZrP/5ujjbLvjQbxDYw0KUAsEJHLfShddJlAIn1kPsB38dO4os4zMZEUpUSRdKWDAXH6+z2KxLFrEdSpc+mT0zv2UZ8eJgsOK3q5EdCNiy7Jsu3XgHQudwCu6VTtAeeaQteL+1150gMsohTgYqyFc+3fKskgG9/hOqe/ZntuPSTxMrqyrOB05k5jO5TAmj4AUs27i6ZGCvz5IXrXyR7wsp+4rSwZl9JLyxTlQpdI1Sj0n86CENaDtnP5tWpavWkCFG1mop3dwAf9p2mKp6lW8ZPIgT8eRZDDoejpYVEQOZ0ZT7YRs750Jy1DRMKbjIY8PUurUfN+Mp6vZq8SbWcAyFZ9cCqf5sN2bm0agdP+SHaovnVo6I+aN97no1xK4Xu5F2faKkGm9vHdfB9tPV+xEFgjTpuxXX4joS9BPlTLaKOYzu9vqSgRnv10eUklHZh7JkSO/ZJYMzz4Gzii7R5gY0RgYceEXqohUDIEp7pMvTI3Gi4SCeYeCR0TQ0p58JhbPKqLzcIUqys0udIpyySnneIp6PKA3jNTSC3UU+ixpRjpshPyOqIdv9XOGt4ucNnyglVpWlc3isk3dEkIdSbplpc375ru02TxvxNXUsvZ70UG2wQFrWcex0rL12d7sRJpXj/2M1/UaTGZvunjWfD5sqHOmE/QZxZbFVjF0JoeDr8i8dlLm6pNX23lT+rcCVcyVgYTSfbr+HL54RMe7d0tXV3fjPG6dkCYEFd5Zti0kW1Jebp2at8ANVGjvvp6l9jabVQ4VJPw5mh7b/+cMb+5TT1SAkES/QGBhbWPg3dOvUa4obilc22OJQgiziUQTd1l2ln8UCyR0KD+qypciYo214loBYpvmWqMdqw++GAK5iEyaprI7W/pa1E23Qt6H9jdEJW0pkIetVHW9+WHJWxpYG4fED9+vnKVHq3uSFBR8zSF+Ed0s4lv2XU2YR5utxslPu7DM5wT4DGdKNfFrKPPLnCXHm5/61NVT04ah8/iiIGEjMCMWFnJFwT4FjY9V8eYpDMc0GD/6td4xFhVOG3xQKhy9Gw+5sWz0emfw+YsHA1A7DtAZvnDTyi4Zh2QUtJ2Wk5eTnwWtzwHhyh22/TESZHlJfK4dmUUZAjcfAkmZY5jLy1I+pzM/8WGtwTDEIJuAkO3DXtoJ+2D3y9FjGdBL+1Ze4Rh5ieUSl3sTGCLOTl3zYLdJMoUhfbpl6KARQUY3DstZXvwd5SRs/qyejy2+YyXmdfutuiPIuwB7AdG05gn0RKpQN7Ee5VHmNp53oOs5wzwiCyvbysquwE+a1POZsPxzGE9nO+04I9qpoEaWcD0Qe3+NnmQh+Icoi8n62HO3nTzvSZ9HW8tvgmTYeOOJYjhS8vC5cQpzAXwMM4y2VSp5eFLNAf5wahMnObaJc9XPR1/xAe/K5bWhGkdfynkYelnBVOnmJRxS6ghH26uTFBaI6ishtGdh7GYUdJZ2QOMM0Lva97X6Hu/UxLC1d8hFOqBD01lqQB9DcZyP7niL+oF0mU3O1YHyfzIrAYa6wPwzjDb+qRZbEEs/OBw0sB4rCfCJ12iDfB0OMWVxvwdlFvrY5Oc/v2EP9JMzuPogUe414T1xfpd0ekavt/DJany6nuNWAqfUhBxdQ1usd78N1y7JJfpAahMkvdJYTsDU9UUZPTe/WZKtemKL+m6uIDWEvkxxsHdr3f8iXg1paRgpdECoJ5BifAJ2MfnB+6qKVuQIXiSsanDmXLiXfiTsQXODf3ZHuAyJDUUeVEMz1nBDWhoFIW5bHptHg/fhRbibWU1S0qES2c+3EgPWfu2Py+TBVdzZvB8gXcfzpq8oKe4demzkgKkz3Qdd/l1kjLH6Gs1fRExDha1yfwN1L0Qz8SOwZXP24yD77DRnqTtRMPepaJgFcgx2HCGxgpzUxWCmjTPEQ53zh0nUhshXzhu98d9rhAj+sZLTaQQzoxuyR62vM9gysDmiCF1RUJ1GYv5NUYLoPkA9p8N1c8qIVpzJTw5IEe1925HhjALM2EQ3WZCZJa/dXkMiBJPRr21bbDwncmMtnS2m8Y2cCAuTsRYi0LoekfvELZl32lhDOc2BghGpsSWzt7eTXRTItuIgyDSIsrBPEOH/nCMhN9JBn1pkjDDI4CSzfo62nYm0pT56GQPwvkx8GVupXt3KfFLLnAMA5p+h5O/+mdYQM8qo5piyhIMAeBVLIVTZQE9z4GU7nEqMA6VL8RCmn3z5YXmETatBclA7u/a7LNNgBTkvXQa+op7dd+FlKUOB6POUYFvD4f4ADtpQlnV8zivmH6u+yVs9Uv4d8ITt1nC4r+kminivR4fjz/EQpJ5AR00dg2reJQMgkCGAAMRYC+KwWUf7KiOs9gudRJgYkOguYHkV5Iw7elDfyH7EmSsmv7JFEe94g77gDPMqzFJGig+8zyJ0ux+/rtuJtcc3uMsTzgCR1LKEJ8o4gKnPHMXNk2liXrQbAV24nkZMDEpIu8DG2y54czs7EsrqR6cRrqfgFwjlNs+IW4v81AF/Yr8UrM+azvfYvREgnf6N4zvVHphtPIA1xVmEhXXQjnceoYkMq35Sq17Ce9KNzeRKGkHa8/W2YL/n9gz0ZZF2F/xQJI2uIF2oy7ZYPUXwXDN63T0XwkFj4SheNpVJnfo47wX8kIsW77cbm90cltj5IetJDiNv5a97laxWidzXHZD1PL1+YzX9jwjHXj1Ppa9kpjm77B2pzMRXqJ0rOMFT/MuJUN7ru8eEQpT+v7Mj7Cu/v2N9ajfD7N/gpZ5AbaqbEIy/9xRzOjwPZR0QccaYjG/q+Iri3y55+FASUI1EhpmW1lOUXOSh/K2z9o/QgQZ19jo9RfbT2L1j79EDevT00UQZFE3NPuDTHKeppTkJHmqZ6j/JnBiaMSJPF90jHD2ZAn4Gr5phwhJ62Dxv8d87DQDRK7stcFd92hzqXxrgajnwWjV79M5DEZvynVbnVg4feZ6+hjjRV0UeexnWAnAixZVDGD5Eg8nq9+S7TJVzcZPIP+c/eX14Vbt/5RvvWLTbz3Y7rCY4SOTOSNdMyQoZziOzVkqsK0hQObzvCZArzHOfz33UvvRADXYO2M7Zg5SdbsnzjxGvQo8OCjzpWuFyJ8VguxWonPA40HQvxlZGx27gOZuXfR3wLI/kZopWBUU8ucZsZSE7wvQYQJgTSS1gFLirckvVCPSxTjTS2q+EQvDRotSOZ9yHSZ+iz5nXKs83vq8MieWH6bzkFtqO6LOMwXiIiTBn9YwL3LfGPZDR1fHVeRBWSPeNGOOcc/LpgX/gl8t2r6DJfw5L8zXCOoRMuB+HNJ77IlzjjDrq76rpmxm0Q9S8Ey2DeeEmewZxM4cHaz5IwRIypsmQ2GFxQP+xWUzda5xP/GtqgD39GG6k1DiUQ07+ttBNmgnqhS3ue3jz0D8G63KBo6/MUbk59raH+7gM2maufHceRj3j/jjHC5evvGSk/v+1sjqlzlXvdduVriAjlS7HhNFzqDLAOpoBydfXRuZOSwjBEq5lM4j9z4EQqIIrOrd07OHvbxojtZSBHbngqhjQOhCk2lAEOhfBc/nQR4KVyE6jk82jP81DpyA4UP/H9BpX7RoVV9Vbg1J5wSZYg3ICsNQacPvnRPlq55um29GB+NVXR5jUt3glIusYri69G2UIAEwPuKu8jNQJDfXCEdXJZ0u1qo/4TExQda7WLP1Yb/DPRwWZaRtwdEOo8JjduEj2yH6AxT1GoUxcvW5YeR72dAK6DYYZf073/h7p7hOMEdwTitwlzTZk6nHF9CwkwzPAHPj/9VXVzValBEP5gop5Bxds4AhLwELYY1f4z6UlqkZEbPSOJgDRkmaPDhWgyyygPDGv4u8HggearRZiChz//fmwnX+BkiRy2abkAmIMc/AdDlNfxfh1n6Sh0iWsZ2JXynQaXZAAAWfIBPCNO4+/MF0904tmPbrnTW+zYZtehsMEFdY3o4ad092BS+t3fHryqMBBPqPeUstb3Az86IHwt76+Ch2VdGs6omVo1jiSTJ+F/KhfkoC5zmfoMZtiuLhmSIaJSo50zWRDW4NQmTLcWYwbHUeP+18An05UJLVqqHlB5JhtMy1zuSZDZUXYdBQKKctnAhtNSi6o86tWGDGRqomnAl2H1daC1qnKtbkDM3UARvdmgynZtxQ50+zk9RB1V7USJzMc4uUSHyJThmVQZsrPZjwZuK4AQZVcecvmdUPoStCK3o6P7xO/pf+7cbops6ZuO0/pFv3/tpyjRtdd7jPhrZS6tHR76W1/mCzM+hRj/VrKy5+JQZ6enLVkpI+hbWRmQBfmzIatewKTDJcWDM0OKF6HTjTzEJsyqRPWNe7sqBk0qFXgXMy6baJwdVLoIpplcGVzHQmxx9r/KRy33PfEWISct2t5avdM9t3rqsBZYDD6pQbW44GofZuOzxm6or7VVTndmo3NVVQqx1CDMwBI4o2BRzzyimGLscNDO3shvfUxLH4NA0RLux5nhxicY0X5M3VB3xoF0+wdgB7pRe6yNm3eUb1LIr16tLvSlqEoLd1QuC0wj8J2BjhCw7VjZ1gDCVBuJlAI5HwzvviA1s6CCxn7DQVXjUTQw81s8RqKG+zfVkM97MrTwLMQ5BOIMGqcGgih9OPXBNEOOksZ9Kky8IhgXwF3e4ddd1GWKfYJFmFGjC4bFEYpc/ahgpeGvLR6cEW4ZgmaE8yv/QpkelEDWkHUrHdxzTVDAMDx9yw8wblD6z4BDGEFdCb7yA8i+o7MYEI0ICoUns0LzyNTFvK5HrOgSCq62f+rCAkzc9Lwa/gZLZ+I4wbgOK63Uxav68qO+SbxErl+xhT1KJiNq4InRR/VAgb3Un6HQY0hne620hGMsFk4K8P95DHUAusYuXOdxWsXUPUmUya+uPJ1GnyL5pVG/a9Nq22x5b4yjz60mIKYpI24EkRsrzLIF5Oxv5KcaZ5C8SVic7W+w10koJ0fk+WeFGmgnWzwk4wU6ljP4cWeAXn4EqbBLVRWqq3nzRJ4M6ooH9fpIW2w/6HMH8KP+MyhgDDztrlzwwjo1hxXfvyFbzaEb6ktDY2CsvmiWGx1QmcmtDhmNPeVEsi4DLhZQmZcHzm9LmSJyWvuISKvtjTkNt2yb626q9CzJA3W5DFO2SchuP9GttzIsV0dGaR0J6mCZbKyvVUf2vfwWhTQDkuCu49aDeqMA8OetId24jVDM/HhZLscBenaWPWkTplanpyR2mwCl3hM8VVaZDe0zn17kFeD/j2t0+0Ur7o6VzjMwD9WE6fdEuV7E+0L/d3N5yqZXnO5zJKZpPe1KVfpQJ2/MqxsXR/GwqeNsvGbk4omsetRe7ZN7WRJRtKbFkLpH2vXXMvutD7ZJHIYRnxD5AsHCft23q+XLh6eUJR1Mqn1gSaNVLkbDMvMVwrF19m1sE/5/BLu8ypCB1NQQoFHzru7Ko4YxBoj4YydQMV+g0ngJorydJPxE+blpqdOjpc7otnw5a6r99orGW5EWxfDEnULcNnZ8bd3TWKKEIKVDu9LJzzt+S/lI86ew4mcQZItA4OjSrleBDG5DuuIBvb8kcLUAQL1CmDF3ewVhIh/5FdNSIV4GXVgj6atKdvx04uahmSuiVUsl5Ykng8unz7UMEfojcqiF2vojapdLRsSNcuhFRc7r5iDJbxQyJzLW8z/68TDXfqD/PdSTP+MVCePZAw4bc7rZrSsPlbE96V86OOOfbHbwitdTtbPNTmvdumF/2BmL/JjaHOB0lxUtfKZjESXDT/O9KNXFGR59Eo9v7Y8IbrLRAYQ+yYn6Q9vKLc8VRoCndhRTu1nr5Ou9TdOotz4ZFNoTD+CJT+7zUVdmD36ujTOa3zGn/GhlVtZ/y1x2rIhS1p9DlKPs/Br67bqOB6yvTI7F0BcOrrs6jZnerb44wcLtRW2m9TZhMhWKWlSN+f7BmyrkvfHOXl4saKA5y5fXupAaeo0/2FBxXfzvsXruFRwzVoUPxFvhqcCwwWgnfszi+OWvQJAGvWME8i+MdJ8lUrrXZX7Gsges7THgNdVnm5JafqNyhzE9GdrJCbcs01oARGcbShv3FE0ZEZVBabtXV8oI/1obr6HeCWdJNOJTK7QLvqx4vNuc15g9fP1NzNDvJYjlOOaN+nty25VrNeuLZMar0a7GLhc1sVXx+S2N/RnS2meYE33OyHcdXTbLZFxH0SgXQcQXAGO3D0T+aNHk4X/m008bNbGF84Wgnrp05THYEgyGR95FlAQuL5ZZfbcM7lNQHwrOkb+U3MwVOPav7+rbKry+WJGH7+eY1F3KRiuH6haiZDbSXm8deY0GxNyUl/UI5l4fw4mZnbLtO1s7waJQP5ax9rEQCTtxIJUKyUGlPnMPB4pFXeRoAvrNh1UjbKDbvlrQ01xcsIA+O7ALxrZGXxsOUdq5McR20v5PKou9KTLpElP3uydMaTQo4k67ltntrXj7zy9Gs8Yx91oFvmsx/L2+/ZZDD4EzHg8hHs8OIzxtU8NDCLdbPCBdGl6/YNF9b546Yn2Af0SvmJb1JuIuotTqS36Ev5QO7f122AgN42x+InH/UYMOj5KcGzr12hUSGnIfDOky74OWOxLjhHCO5trJqLzX5iG9vm7Kosoif51YcQSGH+215TW8Ztza4rXx3zZe9xlQisX/S0jWJZfJNtheZX7S0MmINq9+dDiW/aJZgF70bSWDe4ecKQpItVGvv1/CxHg2tSzpeZiAyHJ0pcZNTNvZxhuNqtF9MDK74T0FochMlkebnsNr7y8aiyLvNeqiqBZeLLp3JM31EyVd1OLSwb0eimoa+wgymQqGKP2GHHObgiil6n53hCnTjik7k57F1vAih3aWt2SuXUY9+wgtRa8Y876MZypYVF4y81aJqBPzLtyf+d/V4EdO3t1SZusWj3Uq4B22nRnSGGW6vyL3uScWXClJZfn0Jsc7ZftbU8rfvw/CtM3kDr4RSfJeKln0d4jxemm8K+HCDef0QCWz39WoAQZLKap0BkR5qfjTlbxZujIjrwZMjD/27cEPXVFq4s4RLHO9hfHkYU5dVqJXvBUj2Kn7u+/dqcs5z30OIcfZoVq9705sNdA2l9sdPGY++x5hwh1Tkw7NxBB3AArla/jfAyxnjK9QyVwei9PPYtZCTYS43cJVR7MEWlYwXs7l70lfd7dqdWFTE6UUOaqEmbx45YkgbCWIm8Jpr4ozTd3B0mZHFNcdZVtsBjX9Sdtn6b0rE6x81PeWdjTnhHMo1a5owd/sAwviEvyyV3Cg5uyLYSs/bgqbtsoqyO6oys7mBz4mIMsVgNxePLDXlD3Vq0SNMFMXr5wq1i8BhdvTr5gcqg9ZJ39/8YoMtlwJbaHdkIx2frWgFZr4NcRJa0i8vQS2CoKY7bG894gl157Ms59l78k8RCdt1ujA/9dj7P0u3PN1q8L9ZmOX8kYnY80eiwz+3oGpvG6a3hfDsTRqihJFjWNKZpu6Kze9qoqNSAsTDdfGplT52Bu9KpdvcNAUrRSDNDhzq6Sq3Ni47fzexXuqu45Bsfaj3F8Dsa2B/w/+nZ+5EEN/ZwAAAABJRU5ErkJggg==";var fce=()=>m.createElement(k$t,{src:Vze,alt:"Oops"}),k$t=_n.img`
  width: 160px;
  height: 110px;
  padding: 5px;
`;var xW=()=>{let n=mL();return console.error(n),m.createElement(P$t,null,m.createElement(fce,null),m.createElement(I$t,null,"Oops!"),m.createElement(M$t,null,m.createElement("div",null,"Something went wrong."),m.createElement("div",null,"Please reload.")))},I$t=_n.div`
  font-weight: bold;
  font-size: 18pt;
  line-height: 1.6em;
`,M$t=_n.div`
  font-size: 14pt;
  display: flex;
  flex-direction: column;
  align-items: center;
`,P$t=_n.div`
  display: flex;
  width: 100vw;
  height: 100vh;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #5f6368;
`;var B$t=new nK,j$t=Mme([{path:"/:appId",element:Pg.default.createElement(GO,null),errorElement:Pg.default.createElement(xW,null)},{path:"*",element:Pg.default.createElement(GO,null),errorElement:Pg.default.createElement(xW,null)}]);Wze.default.render(Pg.default.createElement(Pg.default.StrictMode,null,Pg.default.createElement(oK,{client:B$t},Pg.default.createElement(bK,{router:j$t}))),document.getElementById("root"));k1e();})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
